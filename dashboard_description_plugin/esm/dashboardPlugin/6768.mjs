/*! For license information please see 6768.mjs.LICENSE.txt */
(self.webpackChunkdashboard_description_plugin=self.webpackChunkdashboard_description_plugin||[]).push([[6768],{35982:(e,t,i)=>{i.d(t,{ej:()=>l,kG:()=>s});var r=i(97582),a="Invariant Violation",n=Object.setPrototypeOf,o=void 0===n?function(e,t){return e.__proto__=t,e}:n,l=function(e){function t(i){void 0===i&&(i=a);var r=e.call(this,"number"==typeof i?a+": "+i+" (see https://github.com/apollographql/invariant-packages)":i)||this;return r.framesToPop=1,r.name=a,o(r,t.prototype),r}return(0,r.__extends)(t,e),t}(Error);function s(e,t){if(!e)throw new l(t)}var d=["log","warn","error","silent"],c=d.indexOf("log");function u(e){return function(){if(d.indexOf(e)>=c)return console[e].apply(console,arguments)}}!function(e){e.log=u("log"),e.warn=u("warn"),e.error=u("error")}(s||(s={})),"object"==typeof process&&"object"==typeof process.env&&process},36581:(e,t,i)=>{var r=i(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var i=(0,n.default)(e),r=(0,a.default)(t);if(isNaN(r))return new Date(NaN);if(!r)return i;var l=i.getDate(),s=new Date(i.getTime());return s.setMonth(i.getMonth()+r+1,0),l>=s.getDate()?s:(i.setFullYear(s.getFullYear(),s.getMonth(),l),i)};var a=r(i(82084)),n=r(i(71171)),o=r(i(68734));e.exports=t.default},84308:(e,t,i)=>{var r=i(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var i=(0,a.default)(t);return(0,n.default)(e,-i)};var a=r(i(82084)),n=r(i(36581)),o=r(i(68734));e.exports=t.default},64063:e=>{e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var r,a,n;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(a=r;0!=a--;)if(!e(t[a],i[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(n=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(i,n[a]))return!1;for(a=r;0!=a--;){var o=n[a];if(!e(t[o],i[o]))return!1}return!0}return t!=t&&i!=i}},24456:(e,t,i)=>{var r=i(97786),a=i(10611);e.exports=function(e,t,i,n){return a(e,t,i(r(e,t)),n)}},89179:(e,t,i)=>{var r=i(55639),a=i(40554),n=i(14841),o=i(79833),l=r.isFinite,s=Math.min;e.exports=function(e){var t=Math[e];return function(e,i){if(e=n(e),(i=null==i?0:s(a(i),292))&&l(e)){var r=(o(e)+"e").split("e"),d=t(r[0]+"e"+(+r[1]+i));return+((r=(o(d)+"e").split("e"))[0]+"e"+(+r[1]-i))}return t(e)}}},24976:(e,t,i)=>{var r=i(92822)("reverse",i(31351));r.placeholder=i(69306),e.exports=r},69898:(e,t,i)=>{var r=i(92822)("update",i(93425));r.placeholder=i(69306),e.exports=r},45220:e=>{e.exports=function(e){return null===e}},31683:(e,t,i)=>{var r=i(98805)("toLowerCase");e.exports=r},30236:(e,t,i)=>{var r=i(42980),a=i(21463)((function(e,t,i,a){r(e,t,i,a)}));e.exports=a},31351:e=>{var t=Array.prototype.reverse;e.exports=function(e){return null==e?e:t.call(e)}},59854:(e,t,i)=>{var r=i(89179)("round");e.exports=r},44908:(e,t,i)=>{var r=i(45652);e.exports=function(e){return e&&e.length?r(e):[]}},87185:(e,t,i)=>{var r=i(45652);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?r(e,void 0,t):[]}},93425:(e,t,i)=>{var r=i(24456),a=i(54290);e.exports=function(e,t,i){return null==e?e:r(e,t,a(i))}},20444:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setConfiguration=t.getConfiguration=void 0;let i={breakpoints:[576,768,992,1200,1600,1920],containerWidths:[540,750,960,1140,1540,1810],gutterWidth:30,gridColumns:12,defaultScreenClass:"xxl",maxScreenClass:"xxl"};t.getConfiguration=()=>i,t.setConfiguration=e=>{i={...i,...e}}},10868:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ScreenClassContext=t.NO_PROVIDER_FLAG=void 0;var r,a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=d(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(61371)),n=(r=i(45697))&&r.__esModule?r:{default:r},o=i(61369),l=i(20444),s=i(77427);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(d=function(e){return e?i:t})(e)}const c="NO_PROVIDER_FLAG";t.NO_PROVIDER_FLAG=c;const u=a.default.createContext(c);t.ScreenClassContext=u;const g=e=>{let{useOwnWidth:t,children:i,fallbackScreenClass:r}=e;const n=(0,a.useRef)(),[d,c]=(0,a.useState)(!1),g=(0,o.useScreenClass)(n,r),{defaultScreenClass:m}=(0,l.getConfiguration)(),p=d?g:r||m;return(0,a.useEffect)((()=>c(!0)),[]),a.default.createElement(u.Provider,{value:p},t?a.default.createElement(s.Div,{ref:t?n:null},i):a.default.createElement(a.default.Fragment,null,i))};g.propTypes={children:n.default.node.isRequired,useOwnWidth:n.default.bool,fallbackScreenClass:n.default.oneOf([null,"xs","sm","md","lg","xl","xxl","xxxl"])},g.defaultProps={useOwnWidth:!1,fallbackScreenClass:null};var m=g;t.default=m},5443:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(i(61371)),a=l(i(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=o(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=a?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(10868));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}const s=e=>{let{children:t}=e;return r.default.createElement(n.ScreenClassContext.Consumer,null,(e=>e===n.NO_PROVIDER_FLAG?r.default.createElement(n.default,null,r.default.createElement(n.ScreenClassContext.Consumer,null,(e=>t(e)))):t(e)))};s.propTypes={children:a.default.func.isRequired};var d=s;t.default=d},89098:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=u(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(61371)),a=c(i(45697)),n=c(i(54035)),o=i(20444),l=i(39815),s=c(i(5443)),d=i(77427);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(u=function(e){return e?i:t})(e)}const g=r.default.forwardRef(((e,t)=>{let{children:i,xs:a,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p,offset:h,pull:f,push:b,order:D,debug:v,style:E,component:y,width:I,...C}=e;return r.default.createElement(s.default,null,(e=>r.default.createElement(l.GutterWidthContext.Consumer,null,(l=>{const s=(0,n.default)({forceWidth:I,width:{xs:a,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p},offset:h,pull:f,push:b,order:D,debug:v,screenClass:e,gutterWidth:l,gridColumns:(0,o.getConfiguration)().gridColumns,moreStyle:E});return(0,r.createElement)(y,{ref:t,style:s,...C,children:i})}))))}));g.propTypes={children:a.default.node,xs:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),sm:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),md:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),lg:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),xl:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),xxl:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),xxxl:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),width:a.default.oneOfType([a.default.number,a.default.string]),offset:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),push:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),pull:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),order:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),style:a.default.objectOf(a.default.oneOfType([a.default.number,a.default.string])),debug:a.default.bool,component:a.default.elementType},g.defaultProps={children:null,xs:null,sm:null,md:null,lg:null,xl:null,xxl:null,xxxl:null,width:null,offset:{},push:{},pull:{},style:{},order:{},debug:!1,component:d.Div},g.displayName="Col";var m=g;t.default=m},54035:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(61369);const a=(e,t)=>{if("number"==typeof e)return 100/t*Math.max(0,Math.min(t,e))+"%"};t.default=e=>{let{forceWidth:t=null,width:i={},offset:n={},pull:o={},push:l={},order:s={},debug:d,screenClass:c,gutterWidth:u,moreStyle:g,gridColumns:m}=e;const p={boxSizing:"border-box",minHeight:1,position:"relative",paddingLeft:u/2,paddingRight:u/2,width:"100%"};var h;return d&&(p.outline="1px solid silver",p.background="rgba(0,0,0,.05)",p.lineHeight="32px"),p.flexBasis="100%",p.flexGrow=0,p.flexShrink=0,p.maxWidth="100%",p.marginLeft="0%",p.right="auto",p.left="auto",r.screenClasses.forEach(((e,t)=>{if(r.screenClasses.indexOf(c)>=t){const t=a(i[e],m),r="content"===i[e];p.flexBasis=r?"auto":t||p.flexBasis,p.width=p.flexBasis,p.maxWidth=t||p.maxWidth,p.marginLeft=a(n[e],m)||p.marginLeft,p.right=a(o[e],m)||p.right,p.left=a(l[e],m)||p.left,s[e]&&(p.order=s[e])}})),h=i,Object.keys(h).reduce(((e,t)=>e||h[t]),!1)||(p.flexBasis=0,p.flexGrow=1),t&&(p.flexBasis="unset",p.flexGrow="unset",p.flexShrink="unset",p.width=t),{...p,...g}}},51003:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=c(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(61371)),a=d(i(45697)),n=d(i(22675)),o=i(20444),l=d(i(5443)),s=i(77427);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(c=function(e){return e?i:t})(e)}const u=r.default.forwardRef(((e,t)=>{let{children:i,fluid:a,xs:s,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p,style:h,component:f,...b}=e;return r.default.createElement(l.default,null,(e=>(0,r.createElement)(f,{ref:t,style:(0,n.default)({fluid:a,xs:s,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p,screenClass:e,containerWidths:(0,o.getConfiguration)().containerWidths,gutterWidth:(0,o.getConfiguration)().gutterWidth,moreStyle:h}),...b},i)))}));u.propTypes={children:a.default.node.isRequired,fluid:a.default.bool,xs:a.default.bool,sm:a.default.bool,md:a.default.bool,lg:a.default.bool,xl:a.default.bool,xxl:a.default.bool,xxxl:a.default.bool,style:a.default.objectOf(a.default.oneOfType([a.default.number,a.default.string])),component:a.default.elementType},u.defaultProps={fluid:!1,xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,xxxl:!1,style:{},component:s.Div},u.displayName="Container";var g=u;t.default=g},22675:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{let{fluid:t,xs:i,sm:r,md:a,lg:n,xl:o,xxl:l,xxxl:s,screenClass:d,containerWidths:c,gutterWidth:u,moreStyle:g}=e;const m={boxSizing:"border-box",position:"relative",marginLeft:"auto",marginRight:"auto",paddingLeft:u/2,paddingRight:u/2};return!t||i||r||a||n||o?("xs"===d&&c[0]&&!i&&(m.maxWidth=c[0]),"sm"===d&&c[0]&&!r&&(m.maxWidth=c[0]),"md"===d&&c[1]&&!a&&(m.maxWidth=c[1]),"lg"===d&&c[2]&&!n&&(m.maxWidth=c[2]),"xl"===d&&c[3]&&!o&&(m.maxWidth=c[3]),"xxl"===d&&c[4]&&!l&&(m.maxWidth=c[4]),"xxxl"===d&&c[5]&&!s&&(m.maxWidth=c[5]),{...m,...g}):{...m,...g}}},39815:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GutterWidthContext=void 0;var r=s(i(61371)),a=s(i(45697)),n=i(20444),o=s(i(94575)),l=i(77427);function s(e){return e&&e.__esModule?e:{default:e}}const d=r.default.createContext(!1);t.GutterWidthContext=d;const c=r.default.forwardRef(((e,t)=>{let{children:i,style:a,align:l,justify:s,wrap:c,debug:u,nogutter:g,gutterWidth:m,component:p,direction:h,...f}=e,b=(0,n.getConfiguration)().gutterWidth;g&&(b=0),"number"==typeof m&&(b=m);const D=(0,o.default)({gutterWidth:b,align:l,justify:s,debug:u,moreStyle:a,direction:h,wrap:c});return r.default.createElement(p,{ref:t,style:D,...f},r.default.createElement(d.Provider,{value:b},i))}));c.propTypes={children:a.default.node.isRequired,align:a.default.oneOf(["normal","start","center","end","stretch"]),justify:a.default.oneOf(["start","center","end","between","around","initial","inherit"]),direction:a.default.oneOf(["column","row","column-reverse","row-reverse"]),wrap:a.default.oneOf(["nowrap","wrap","reverse"]),nogutter:a.default.bool,gutterWidth:a.default.number,style:a.default.objectOf(a.default.oneOfType([a.default.number,a.default.string])),debug:a.default.bool,component:a.default.elementType},c.defaultProps={align:"normal",justify:"start",direction:"row",wrap:"wrap",nogutter:!1,gutterWidth:null,style:{},debug:!1,component:l.Div},c.displayName="Row";var u=c;t.default=u},94575:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{let{gutterWidth:t,align:i,justify:r,debug:a,moreStyle:n,direction:o,wrap:l}=e,s=i;"start"===i&&(s="flex-start"),"end"===i&&(s="flex-end");let d=r;"start"===r&&(d="flex-start"),"end"===r&&(d="flex-end"),"between"===r&&(d="space-between"),"around"===r&&(d="space-around"),"center"===r&&(d="center"),"initial"===r&&(d="initial"),"inherit"===r&&(d="inherit");let c=l;"nowrap"===l&&(c="nowrap"),"wrap"===l&&(c="wrap"),"reverse"===l&&(c="wrap-reverse");const u={marginLeft:-t/2,marginRight:-t/2,display:"flex",flexGrow:0,flexShrink:0,alignItems:s,justifyContent:d,flexDirection:["column","row","column-reverse","row-reverse"].includes(o)?o:void 0,flexWrap:c};return a&&(u.background="rgba(128,128,128,.05)"),{...u,...n}}},32553:(e,t,i)=>{Object.defineProperty(t,"JX",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"X2",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"pV",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"uq",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Dg",{enumerable:!0,get:function(){return s.setConfiguration}});var r=c(i(89098)),a=c(i(51003)),n=c(i(39815)),o=(c(i(12033)),c(i(55935)),c(i(16550))),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=d(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(10868)),s=i(20444);i(61369);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(d=function(e){return e?i:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}},11789:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="div"},72102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="span"},36899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="undefined"!=typeof window?window:void 0;t.default=i},77427:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Div",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Span",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Window",{enumerable:!0,get:function(){return n.default}});var r=o(i(11789)),a=o(i(72102)),n=o(i(36899));function o(e){return e&&e.__esModule?e:{default:e}}},12033:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(61371)),a=s(i(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(16304)),o=s(i(5443));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}const d=e=>{let{children:t,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u}=e;return r.default.createElement(o.default,null,(e=>n.hidden({screenClass:e,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u})?null:t))};d.propTypes={children:a.default.node.isRequired,xs:a.default.bool,sm:a.default.bool,md:a.default.bool,lg:a.default.bool,xl:a.default.bool,xxl:a.default.bool,xxxl:a.default.bool},d.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,xxxl:!1};var c=d;t.default=c},16304:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hidden=t.default=void 0;const i=e=>{let{screenClass:t,xs:i,sm:r,md:a,lg:n,xl:o,xxl:l,xxxl:s}=e;return"xxl"===t?l:"xxxl"===t?s:"xl"===t?o:"lg"===t?n:"md"===t?a:"sm"===t?r:i};t.hidden=i;var r=i;t.default=r},16550:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i(61371)),a=o(i(45697)),n=o(i(5443));function o(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let{render:t}=e;return r.default.createElement(n.default,null,(e=>t(e)))};l.propTypes={render:a.default.func.isRequired};var s=l;t.default=s},55935:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(61371)),a=s(i(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(74561)),o=s(i(5443));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}const d=e=>{let{children:t,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u}=e;return r.default.createElement(o.default,null,(e=>n.visible({screenClass:e,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u})?t:null))};d.propTypes={children:a.default.node.isRequired,xs:a.default.bool,sm:a.default.bool,md:a.default.bool,lg:a.default.bool,xl:a.default.bool,xxl:a.default.bool,xxxl:a.default.bool},d.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,xxxl:!1};var c=d;t.default=c},74561:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.visible=t.default=void 0;const i=e=>{let{screenClass:t,xs:i,sm:r,md:a,lg:n,xl:o,xxl:l,xxxl:s}=e;return"xxl"===t?l:"xxxl"===t?s:"xl"===t?o:"lg"===t?n:"md"===t?a:"sm"===t?r:i};t.visible=i;var r=i;t.default=r},61369:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useScreenClass=t.screenClasses=void 0;var r=i(61371),a=i(20444),n=i(77427);const o=["xs","sm","md","lg","xl","xxl","xxxl"];t.screenClasses=o,t.useScreenClass=(e,t)=>{const i=()=>{const{breakpoints:i,defaultScreenClass:r,maxScreenClass:l}=(0,a.getConfiguration)();let s=r;const d=(e=>e&&e.current&&e.current.clientWidth?e.current.clientWidth:void 0!==n.Window&&n.Window.innerWidth?n.Window.innerWidth:null)(e);d?(s="xs",i[0]&&d>=i[0]&&(s="sm"),i[1]&&d>=i[1]&&(s="md"),i[2]&&d>=i[2]&&(s="lg"),i[3]&&d>=i[3]&&(s="xl"),i[4]&&d>=i[4]&&(s="xxl"),i[5]&&d>=i[5]&&(s="xxxl")):t&&(s=t);const c=o.indexOf(s),u=o.indexOf(l);return u>=0&&c>u&&(s=o[u]),s},[l,s]=(0,r.useState)((()=>i()));return(0,r.useEffect)((()=>{const e=()=>s(i());return n.Window.addEventListener("resize",e,!1),()=>{n.Window.removeEventListener("resize",e,!1)}}),[]),l}},88359:(e,t)=>{if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;i("react.element"),i("react.portal"),i("react.fragment"),i("react.strict_mode"),i("react.profiler"),i("react.provider"),i("react.context"),i("react.forward_ref"),i("react.suspense"),i("react.suspense_list"),i("react.memo"),i("react.lazy"),i("react.block"),i("react.server.block"),i("react.fundamental"),i("react.debug_trace_mode"),i("react.legacy_hidden")}},72973:(e,t,i)=>{i(88359)},75251:(e,t,i)=>{var r=i(77082),a=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,i){var r,s={},d=null,c=null;for(r in void 0!==i&&(d=""+i),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:d,ref:c,props:s,_owner:o.current}}},85893:(e,t,i)=>{e.exports=i(75251)},8705:(e,t,i)=>{function r(e,t){return t?{identifier:e,type:t}:{identifier:e}}function a(e){return{uri:e}}function n(e){return{localIdentifier:e}}i.d(t,{Ii:()=>r,Qc:()=>n,lR:()=>a})},6768:(e,t,i)=>{i.r(t),i.d(t,{AddAttributeFilterButton:()=>bx,AddAttributeFilterPlaceholder:()=>Mx,AttributesDropdown:()=>Fx,ButtonBar:()=>ak,CancelButton:()=>LF,CancelEditDialog:()=>MN,CreatableAttributeFilter:()=>Ox,DRILL_TO_URL_PLACEHOLDER:()=>D,Dashboard:()=>yU,DashboardInsight:()=>RS,DashboardInsightMenu:()=>OU,DashboardInsightMenuButton:()=>MU,DashboardInsightMenuTitle:()=>qL,DashboardKpi:()=>lS,DashboardLayout:()=>uN,DashboardPluginV1:()=>NU,DashboardStoreAccessor:()=>HE,DashboardStoreAccessorRepository:()=>UE,DashboardStoreProvider:()=>Yb,DashboardWidget:()=>GA,DefaultButtonBar:()=>ek,DefaultCancelButton:()=>xF,DefaultCancelEditDialog:()=>LN,DefaultDashboardAttributeFilter:()=>cx,DefaultDashboardAttributeFilterComponentSetFactory:()=>Nx,DefaultDashboardDateFilter:()=>hx,DefaultDashboardDateFilterComponentSetFactory:()=>Hx,DefaultDashboardInsight:()=>GL,DefaultDashboardInsightComponentSetFactory:()=>AO,DefaultDashboardInsightMenu:()=>dM,DefaultDashboardInsightMenuButton:()=>zL,DefaultDashboardInsightMenuTitle:()=>fM,DefaultDashboardKpi:()=>IO,DefaultDashboardKpiComponentSetFactory:()=>cN,DefaultDashboardKpiPlaceholderWidget:()=>rN,DefaultDashboardLayout:()=>jP,DefaultDashboardMainContent:()=>bN,DefaultDashboardToolbar:()=>wU,DefaultDashboardToolbarButton:()=>FU,DefaultDashboardToolbarGroup:()=>AU,DefaultDashboardWidget:()=>FA,DefaultEditButton:()=>VF,DefaultFilterBar:()=>MC,DefaultInsightBody:()=>BL,DefaultLockedStatus:()=>ck,DefaultMenuButton:()=>rk,DefaultSaveAsDialog:()=>XP,DefaultSaveAsNewButton:()=>YF,DefaultSaveButton:()=>pk,DefaultScheduledEmailDialog:()=>CF,DefaultScheduledEmailManagementDialog:()=>RF,DefaultShareButton:()=>QF,DefaultShareDialog:()=>FF,DefaultShareStatus:()=>gk,DefaultTitle:()=>vk,DefaultTopBar:()=>bk,DraggableCreatePanelItem:()=>kx,EditButton:()=>jF,EditableTitle:()=>yk,FilterBar:()=>yN,HeadlessDashboard:()=>YE,HiddenButtonBar:()=>CU,HiddenDashboardAttributeFilter:()=>IU,HiddenDashboardDateFilter:()=>FI,HiddenFilterBar:()=>SC,HiddenMenuButton:()=>SU,HiddenShareButton:()=>$F,HiddenTitle:()=>TU,HiddenToolbar:()=>Ck,HiddenTopBar:()=>sk,INSIGHT_PLACEHOLDER_WIDGET_ID:()=>Yd,InitialLoadCorrelationId:()=>mi,InsightList:()=>qT,InsightWidgetBuilder:()=>SG,KPI_PLACEHOLDER_WIDGET_ID:()=>jd,LegacyDashboardInsightMenu:()=>pM,LegacyDashboardInsightMenuButton:()=>KL,LockedStatusIndicator:()=>dk,MenuButton:()=>ok,ObjRefMap:()=>o,PLACEHOLDER_WIDGET_ID:()=>Jd,ReactDashboardContext:()=>jb,RenderModeAwareTitle:()=>Ik,SaveAsDialog:()=>EN,SaveAsNewButton:()=>ZF,SaveButton:()=>MF,ScheduledEmailDialog:()=>TN,ScheduledEmailManagementDialog:()=>SN,ShareButton:()=>JF,ShareDialog:()=>IN,ShareStatusIndicator:()=>uk,SidebarConfigurationPanel:()=>XN,SingleDashboardStoreAccessor:()=>BE,Title:()=>lk,Toolbar:()=>m_,TopBar:()=>vN,WithDrillSelect:()=>tL,addAttributeFilter:()=>Cf,addDateFilter:()=>Of,addDrillDownForInsightWidget:()=>Bp,addDrillTargets:()=>Zv,addLayoutSection:()=>rv,addSectionItem:()=>lv,anyDashboardEventHandler:()=>zE,anyEventHandler:()=>WE,applyAttributeFilter:()=>Pf,applyDateFilter:()=>yf,attributeHierarchyModified:()=>Hp,cancelEditRenderMode:()=>cd,catalogActions:()=>Ia,changeAttributeFilterSelection:()=>Af,changeDateFilterSelection:()=>Ef,changeDrillableItems:()=>Lv,changeFilterContextSelection:()=>kf,changeInsightWidgetDescription:()=>jp,changeInsightWidgetHeader:()=>Ap,changeInsightWidgetInsight:()=>Np,changeInsightWidgetVisConfiguration:()=>Op,changeInsightWidgetVisProperties:()=>Mp,changeKpiWidgetComparison:()=>jv,changeKpiWidgetConfiguration:()=>_v,changeKpiWidgetDescription:()=>Nv,changeKpiWidgetHeader:()=>Ov,changeKpiWidgetMeasure:()=>Hv,changeLayoutSectionHeader:()=>ov,changeRenderMode:()=>sd,changeSharing:()=>vi,clearDateFilterSelection:()=>If,commandFailedEventHandler:()=>KE,commandStartedEventHandler:()=>jE,createAlert:()=>yv,createAttributeHierarchyRequested:()=>ti,createInsightRequested:()=>Jt,createScheduledEmail:()=>Sv,crossFiltering:()=>Mv,dashboardAttributeFilterToAttributeFilter:()=>Hd,dashboardDateFilterToDateFilterByDateDataSet:()=>Gd,dashboardDateFilterToDateFilterByWidget:()=>Ud,defaultDashboardThemeModifier:()=>Sk,deleteAttributeHierarchyRequested:()=>ri,deleteDashboard:()=>yi,disableInsightWidgetDateFilter:()=>Fp,disableKpiWidgetDateFilter:()=>Bv,dispatchAndWaitFor:()=>_E,drill:()=>wv,drillActions:()=>ks,drillDown:()=>Av,drillTargetsAdded:()=>zt,drillToAttributeUrl:()=>kv,drillToCustomUrl:()=>Fv,drillToDashboard:()=>Rv,drillToInsight:()=>Pv,drillToLegacyDashboard:()=>xv,eagerRemoveSectionItem:()=>pv,eagerRemoveSectionItemByWidgetRef:()=>fv,enableInsightWidgetDateFilter:()=>Rp,enableKpiWidgetDateFilter:()=>Gv,existBlacklistHierarchyPredicate:()=>vf,exportDashboardToPdf:()=>Ii,exportInsightWidget:()=>Vp,extendedWidgetDebugStr:()=>S,filterContextItemsToDashboardFiltersByDateDataSet:()=>Wd,filterContextItemsToDashboardFiltersByWidget:()=>Bd,filterContextToDashboardFiltersByDateDataSet:()=>_d,filterContextToDashboardFiltersByWidget:()=>Nd,getDefaultInsightEditMenuItems:()=>TA,getDefaultInsightMenuItems:()=>MS,getDefaultLegacyInsightMenuItems:()=>LS,getDrillDownAttributeTitle:()=>Ux,ignoreDateFilterOnInsightWidget:()=>Kp,ignoreFilterOnInsightWidget:()=>xp,ignoreFilterOnKpiWidget:()=>zv,initializeDashboard:()=>pi,initializeDashboardWithPersistedDashboard:()=>hi,insightSelectDateDataset:()=>jm,isAnyPlaceholderWidget:()=>rc,isAttributeFilterDraggableItem:()=>my,isAttributeFilterPlaceholderDraggableItem:()=>vy,isBaseDraggableLayoutItem:()=>hy,isBaseDraggableMovingItem:()=>fy,isBrokenAlertAttributeFilterInfo:()=>P,isBrokenAlertDateFilterInfo:()=>A,isCreateAttributeHierarchyRequested:()=>ii,isCreateInsightRequested:()=>ei,isCustomDashboardEvent:()=>ee,isCustomWidget:()=>y,isCustomWidgetBase:()=>C,isCustomWidgetDefinition:()=>I,isDashboardAlertCreated:()=>yt,isDashboardAlertUpdated:()=>Ct,isDashboardAlertsRemoved:()=>It,isDashboardAsyncRenderRequested:()=>Zt,isDashboardAsyncRenderResolved:()=>$t,isDashboardAttributeFilterAdded:()=>Ae,isDashboardAttributeFilterConfigModeChanged:()=>Oe,isDashboardAttributeFilterMoved:()=>Fe,isDashboardAttributeFilterParentChanged:()=>xe,isDashboardAttributeFilterRemoved:()=>Re,isDashboardAttributeFilterSelectionChanged:()=>ke,isDashboardAttributeFilterSelectionModeChanged:()=>Me,isDashboardAttributeFilterTitleChanged:()=>Le,isDashboardCommandFailed:()=>De,isDashboardCommandRejected:()=>Ee,isDashboardCommandStarted:()=>fe,isDashboardCopySaved:()=>le,isDashboardCrossFilteringRequested:()=>Bt,isDashboardCrossFilteringResolved:()=>Wt,isDashboardDateFilterSelectionChanged:()=>we,isDashboardDeinitialized:()=>ne,isDashboardDeleted:()=>ue,isDashboardDrillDownRequested:()=>Pt,isDashboardDrillDownResolved:()=>Rt,isDashboardDrillRequested:()=>wt,isDashboardDrillResolved:()=>At,isDashboardDrillToAttributeUrlRequested:()=>Nt,isDashboardDrillToAttributeUrlResolved:()=>_t,isDashboardDrillToCustomUrlRequested:()=>Mt,isDashboardDrillToCustomUrlResolved:()=>Ot,isDashboardDrillToDashboardRequested:()=>xt,isDashboardDrillToDashboardResolved:()=>Lt,isDashboardDrillToInsightRequested:()=>Ft,isDashboardDrillToInsightResolved:()=>kt,isDashboardDrillToLegacyDashboardRequested:()=>Ht,isDashboardDrillToLegacyDashboardResolved:()=>Ut,isDashboardDrillableItemsChanged:()=>Gt,isDashboardEvent:()=>J,isDashboardEventOrCustomDashboardEvent:()=>te,isDashboardExportToPdfRequested:()=>me,isDashboardExportToPdfResolved:()=>pe,isDashboardFilter:()=>qh,isDashboardFilterContextChanged:()=>Ne,isDashboardInitialized:()=>ae,isDashboardInsightWidgetChanged:()=>pt,isDashboardInsightWidgetDescriptionChanged:()=>ot,isDashboardInsightWidgetDrillsModified:()=>ut,isDashboardInsightWidgetDrillsRemoved:()=>mt,isDashboardInsightWidgetExportRequested:()=>ht,isDashboardInsightWidgetExportResolved:()=>ft,isDashboardInsightWidgetFilterSettingsChanged:()=>lt,isDashboardInsightWidgetHeaderChanged:()=>nt,isDashboardInsightWidgetInsightSwitched:()=>ct,isDashboardInsightWidgetRefreshed:()=>bt,isDashboardInsightWidgetVisConfigurationChanged:()=>dt,isDashboardInsightWidgetVisPropertiesChanged:()=>st,isDashboardKpiWidgetChanged:()=>at,isDashboardKpiWidgetComparisonChanged:()=>tt,isDashboardKpiWidgetConfigurationChanged:()=>Qe,isDashboardKpiWidgetDescriptionChanged:()=>Xe,isDashboardKpiWidgetDrillRemoved:()=>it,isDashboardKpiWidgetDrillSet:()=>rt,isDashboardKpiWidgetFilterSettingsChanged:()=>et,isDashboardKpiWidgetHeaderChanged:()=>$e,isDashboardKpiWidgetMeasureChanged:()=>Je,isDashboardLayoutChanged:()=>Ze,isDashboardLayoutSectionAdded:()=>Ue,isDashboardLayoutSectionHeaderChanged:()=>ze,isDashboardLayoutSectionItemMoved:()=>Ke,isDashboardLayoutSectionItemRemoved:()=>Ye,isDashboardLayoutSectionItemReplaced:()=>je,isDashboardLayoutSectionItemsAdded:()=>Ve,isDashboardLayoutSectionMoved:()=>Ge,isDashboardLayoutSectionRemoved:()=>We,isDashboardQueryCompleted:()=>Te,isDashboardQueryFailed:()=>Ce,isDashboardQueryRejected:()=>ye,isDashboardQueryStarted:()=>Se,isDashboardRenamed:()=>se,isDashboardRenderModeChanged:()=>Qt,isDashboardRenderRequested:()=>Yt,isDashboardRenderResolved:()=>Xt,isDashboardSaved:()=>oe,isDashboardScheduledEmailCreated:()=>St,isDashboardScheduledEmailSaved:()=>Tt,isDashboardSharingChanged:()=>he,isDashboardUserInteractionTriggered:()=>qt,isDashboardWasReset:()=>ce,isDashboardWidgetExecutionFailed:()=>vt,isDashboardWidgetExecutionStarted:()=>Dt,isDashboardWidgetExecutionSucceeded:()=>Et,isDateFilterDraggableItem:()=>py,isDateFilterValidationFailed:()=>ge,isDeleteAttributeHierarchyRequested:()=>ai,isDraggableInternalItemType:()=>gy,isDrillDownDefinition:()=>Yh,isDrillTargetsAdded:()=>Vt,isInitialPlaceholderWidget:()=>Xd,isInsightDraggableItem:()=>by,isInsightDraggableListItem:()=>Iy,isInsightPlaceholderDraggableItem:()=>yy,isInsightPlaceholderWidget:()=>qd,isKpiDraggableItem:()=>Dy,isKpiPlaceholderDraggableItem:()=>Ey,isKpiPlaceholderWidget:()=>Vd,isLoadingPlaceholderWidget:()=>Qd,isPlaceholderWidget:()=>$d,isTemporaryIdentity:()=>qu,modifyDrillDownForInsightWidget:()=>Wp,modifyDrillsForInsightWidget:()=>_p,moveAttributeFilter:()=>wf,moveDateFilter:()=>_f,moveLayoutSection:()=>av,moveSectionItem:()=>dv,moveSectionItemAndRemoveOriginalSectionIfEmpty:()=>cv,moveSectionItemToNewSection:()=>uv,moveSectionItemToNewSectionAndRemoveOriginalSectionIfEmpty:()=>gv,newCustomWidget:()=>E,newDashboardEngine:()=>IG,newDashboardEventPredicate:()=>ni,newDashboardItem:()=>T,newDashboardSection:()=>w,newDisplayFormMap:()=>d,newDrillToSameDashboardHandler:()=>qE,newInitialPlaceholderWidget:()=>tc,newInsightPlaceholderWidget:()=>Zd,newInsightWidget:()=>CG,newKpiPlaceholderWidget:()=>Kd,newLoadingPlaceholderWidget:()=>ic,newPlaceholderWidget:()=>ec,queryAndWaitFor:()=>Jb,queryAttributeByDisplayForm:()=>pf,queryAttributeDataSet:()=>Qv,queryAttributeElements:()=>Jv,queryConnectedAttributes:()=>Xv,queryConnectingAttributes:()=>$v,queryDateDatasetsForInsight:()=>Vm,queryDateDatasetsForMeasure:()=>qm,queryInsightAttributesMeta:()=>Km,queryWidgetAlertCount:()=>_g,queryWidgetBrokenAlerts:()=>Ng,queryWidgetFilters:()=>Og,refreshInsightWidget:()=>zp,refreshKpiWidget:()=>Kv,removeAlerts:()=>Cv,removeAttributeFilter:()=>Sf,removeAttributeFilters:()=>Tf,removeDateFilter:()=>Nf,removeDrillDownForInsightWidget:()=>Gp,removeDrillForKpiWidget:()=>Yv,removeDrillsForInsightWidget:()=>Up,removeLayoutSection:()=>nv,removeSectionItem:()=>mv,removeSectionItemByWidgetRef:()=>hv,renameDashboard:()=>Di,renderModeActions:()=>qa,renderModeAware:()=>ZE,replaceInsightWidgetFilterSettings:()=>Pp,replaceInsightWidgetIgnoredFilters:()=>kp,replaceKpiWidgetFilterSettings:()=>Uv,replaceKpiWidgetIgnoredFilters:()=>Wv,replaceSectionItem:()=>sv,requestAsyncRender:()=>iD,resetAttributeFilterSelection:()=>Rf,resetDashboard:()=>Ei,resizeHeight:()=>vv,resizeWidth:()=>Ev,resolveAsyncRender:()=>rD,resolveFilterValues:()=>f,revertLastLayoutChange:()=>Dv,saveDashboard:()=>fi,saveDashboardAs:()=>bi,saveScheduledEmail:()=>Tv,selectAccessibleDashboards:()=>Sg,selectAccessibleDashboardsMap:()=>Tg,selectActiveSectionIndex:()=>UD,selectAdhocDateHierarchies:()=>os,selectAlertByRef:()=>Oh,selectAlertByWidgetRef:()=>Lh,selectAlerts:()=>kh,selectAlertsMap:()=>Mh,selectAllAnalyticalWidgets:()=>Rc,selectAllCatalogAttributeHierarchies:()=>ls,selectAllCatalogAttributesMap:()=>ms,selectAllCatalogDateDatasetsMap:()=>us,selectAllCatalogDisplayFormsMap:()=>gs,selectAllCatalogMeasuresMap:()=>ps,selectAllCustomWidgets:()=>Pc,selectAllInsightWidgets:()=>Ac,selectAllKpiWidgets:()=>wc,selectAllowCreateInsightRequest:()=>Ml,selectAllowMultipleInteractionsPerAttributeAndMeasure:()=>Wo,selectAllowUnfinishedFeatures:()=>Ll,selectAnalyticalWidgetByRef:()=>Ec,selectAttributeFilterConfigsModeMap:()=>eu,selectAttributeFilterConfigsOverrides:()=>Jc,selectAttributeFilterDescendants:()=>Rd,selectAttributeFilterDisplayFormByLocalId:()=>kd,selectAttributeFilterDisplayForms:()=>Dd,selectAttributeFilterDisplayFormsMap:()=>vd,selectAttributesWithDrillDown:()=>ss,selectBackendCapabilities:()=>Fo,selectCanAddMoreAttributeFilters:()=>Ld,selectCanAddMoreFilters:()=>Md,selectCanCreateAnalyticalDashboard:()=>rh,selectCanCreateScheduledMail:()=>oh,selectCanCreateVisualization:()=>ch,selectCanEditDashboardPermission:()=>pE,selectCanEditLockedDashboardPermission:()=>hE,selectCanExecuteRaw:()=>dh,selectCanExportPdf:()=>ih,selectCanExportReport:()=>eh,selectCanExportTabular:()=>th,selectCanInitData:()=>lh,selectCanInviteUserToWorkspace:()=>mh,selectCanListUsersInWorkspace:()=>Qp,selectCanManageACL:()=>nh,selectCanManageAnalyticalDashboard:()=>ah,selectCanManageAttributeHierarchy:()=>fh,selectCanManageDomain:()=>gh,selectCanManageMetric:()=>uh,selectCanManageScheduledMail:()=>hh,selectCanManageWorkspace:()=>Jp,selectCanRefreshData:()=>ph,selectCanShareDashboardPermission:()=>gE,selectCanShareLockedDashboardPermission:()=>mE,selectCanUploadNonProductionCSV:()=>sh,selectCanViewDashboardPermission:()=>uE,selectCatalogAttributeDisplayForms:()=>$l,selectCatalogAttributeHierarchies:()=>as,selectCatalogAttributes:()=>Yl,selectCatalogDateAttributes:()=>rs,selectCatalogDateDatasets:()=>ts,selectCatalogFacts:()=>Jl,selectCatalogMeasures:()=>Xl,selectColorPalette:()=>tl,selectConfig:()=>$o,selectConfigurationPanelOpened:()=>kD,selectConfiguredAndImplicitDrillsByWidgetRef:()=>FE,selectConfiguredDrillsByWidgetRef:()=>SE,selectCrossFilteringFiltersLocalIdentifiers:()=>sc,selectCrossFilteringFiltersLocalIdentifiersByWidgetRef:()=>cc,selectCrossFilteringItemByWidgetRef:()=>lc,selectCrossFilteringItems:()=>oc,selectCrossFilteringSelectedPointsByWidgetRef:()=>uc,selectCurrentUser:()=>lm,selectCurrentUserRef:()=>sm,selectDashboardDescription:()=>vu,selectDashboardId:()=>mu,selectDashboardIdRef:()=>hu,selectDashboardLoading:()=>tE,selectDashboardLockStatus:()=>Cu,selectDashboardPermissions:()=>cE,selectDashboardRef:()=>gu,selectDashboardSaving:()=>aE,selectDashboardShareInfo:()=>Su,selectDashboardShareStatus:()=>yu,selectDashboardTags:()=>Eu,selectDashboardTitle:()=>Du,selectDashboardUri:()=>pu,selectDashboardUriRef:()=>fu,selectDashboardWorkingDefinition:()=>ju,selectDateDatasetsForInsight:()=>eb,selectDateDatasetsForMeasure:()=>vb,selectDateFilterConfig:()=>Xo,selectDateFilterConfigOverrides:()=>Vc,selectDateFilterConfigValidationWarnings:()=>Xc,selectDateFilterConfigsModeMap:()=>au,selectDateFilterConfigsOverrides:()=>ru,selectDateFormat:()=>gl,selectDateHierarchyTemplates:()=>ns,selectDisableDashboardCrossFiltering:()=>Tu,selectDisableDefaultDrills:()=>dl,selectDisableKpiDashboardHeadlineUnderline:()=>xl,selectDraggingWidgetSource:()=>KD,selectDraggingWidgetTarget:()=>qD,selectDrillTargets:()=>yg,selectDrillTargetsByWidgetRef:()=>Ig,selectDrillableItems:()=>nc,selectDrillableItemsByAvailableDrillTargets:()=>LE,selectDrillableItemsByWidgetRef:()=>kE,selectEffectiveAttributeFiltersModeMap:()=>tu,selectEffectiveDateFilterAvailableGranularities:()=>qc,selectEffectiveDateFilterConfig:()=>jc,selectEffectiveDateFilterMode:()=>$c,selectEffectiveDateFilterOptions:()=>Kc,selectEffectiveDateFilterTitle:()=>Zc,selectEffectiveDateFiltersModeMap:()=>nu,selectEnableAnalyticalDashboardPermissions:()=>Al,selectEnableAttributeHierarchies:()=>Gl,selectEnableClickableAttributeURL:()=>El,selectEnableCompanyLogoInEmbeddedUI:()=>fl,selectEnableFilterValuesResolutionInDrillEvents:()=>cl,selectEnableInsightExportScheduling:()=>wl,selectEnableKDCrossFiltering:()=>Kl,selectEnableKDDependentFilters:()=>zl,selectEnableKPIDashboardDrillFromAttribute:()=>Sl,selectEnableKPIDashboardDrillToDashboard:()=>Dl,selectEnableKPIDashboardDrillToInsight:()=>Il,selectEnableKPIDashboardDrillToURL:()=>yl,selectEnableKPIDashboardExportPDF:()=>bl,selectEnableKPIDashboardImplicitDrillDown:()=>Cl,selectEnableKPIDashboardSaveAsNew:()=>vl,selectEnableKPIDashboardSchedule:()=>ml,selectEnableKPIDashboardScheduleRecipients:()=>pl,selectEnableMultipleDateFilters:()=>Vl,selectEnableRenamingMeasureToMetric:()=>Fl,selectEnableRenamingProjectToWorkspace:()=>Rl,selectEnableUnavailableItemsVisibility:()=>Wl,selectEnableWidgetCustomHeight:()=>Pl,selectEntitlementExportPdf:()=>sE,selectExecutionResult:()=>Eh,selectExecutionResultByRef:()=>yh,selectFilterBarExpanded:()=>SD,selectFilterContextAttributeFilterByDisplayForm:()=>Ad,selectFilterContextAttributeFilters:()=>yd,selectFilterContextDateFilter:()=>Id,selectFilterContextDateFilterByDataSet:()=>Td,selectFilterContextDefinition:()=>fd,selectFilterContextFilters:()=>Ed,selectFilterContextIdentity:()=>bd,selectGlobalDrillsDownAttributeHierarchyByWidgetRef:()=>IE,selectHasCatalogAttributes:()=>Zl,selectHasCatalogDateDatasets:()=>is,selectHasCatalogFacts:()=>es,selectHasCatalogMeasures:()=>Ql,selectHideKpiDrillInEmbedded:()=>Tl,selectIgnoredDrillDownHierarchiesByWidgetRef:()=>yc,selectImplicitDrillsByAvailableDrillTargets:()=>xE,selectImplicitDrillsDownByWidgetRef:()=>EE,selectImplicitDrillsToUrlByWidgetRef:()=>CE,selectInaccessibleDashboards:()=>Pg,selectInaccessibleDashboardsMap:()=>Rg,selectInsightAttributesMeta:()=>ab,selectInsightByRef:()=>Ju,selectInsightByWidgetRef:()=>eg,selectInsightListLastUpdateRequested:()=>LD,selectInsightRefs:()=>Xu,selectInsightWidgetPlaceholder:()=>Mc,selectInsightWidgetPlaceholderCoordinates:()=>Oc,selectInsights:()=>$u,selectInsightsMap:()=>Qu,selectInvalidDrillWidgetRefs:()=>GD,selectInvalidUrlDrillParameterDrillLocalIdsByWidgetRef:()=>jD,selectInvalidUrlDrillParameterWidgetRefs:()=>WD,selectInvalidUrlDrillParameterWidgetWarnings:()=>zD,selectIsAlternativeDisplayFormSelectionEnabled:()=>Hl,selectIsAnalyticalDesignerEnabled:()=>Ol,selectIsAttributeFilterDependentByLocalIdentifier:()=>Od,selectIsCancelEditModeDialogOpen:()=>ID,selectIsCircularDependency:()=>xd,selectIsDashboardDirty:()=>Vu,selectIsDashboardLoading:()=>iE,selectIsDashboardPrivate:()=>Iu,selectIsDashboardSaving:()=>nE,selectIsDeleteDialogOpen:()=>ED,selectIsDeleteFilterButtonEnabled:()=>Nl,selectIsDraggingWidget:()=>HD,selectIsDrillDownEnabled:()=>Bl,selectIsEmbedded:()=>ol,selectIsExecutionResultExportableToCsvByRef:()=>Ch,selectIsExecutionResultExportableToXlsxByRef:()=>Sh,selectIsExecutionResultReadyForExportByRef:()=>Ih,selectIsExport:()=>ll,selectIsFilterAttributeSelectionOpen:()=>ND,selectIsFilterFromCrossFilteringByLocalIdentifier:()=>dc,selectIsInEditMode:()=>Wc,selectIsInViewMode:()=>Bc,selectIsKDDependentFiltersEnabled:()=>jl,selectIsKPIDashboardDependentFiltersEnabled:()=>_l,selectIsKpiAlertHighlightedByWidgetRef:()=>PD,selectIsKpiAlertOpenedByWidgetRef:()=>AD,selectIsKpiDeleteDialogOpen:()=>yD,selectIsLayoutEmpty:()=>Tc,selectIsNewDashboard:()=>bu,selectIsReadOnly:()=>nl,selectIsSaveAsDialogOpen:()=>DD,selectIsSaveAsNewButtonHidden:()=>ul,selectIsSaveAsNewButtonVisible:()=>KF,selectIsScheduleEmailDialogOpen:()=>hD,selectIsScheduleEmailManagementDialogOpen:()=>bD,selectIsSectionInsertedByPlugin:()=>QD,selectIsShareButtonHidden:()=>Ul,selectIsShareDialogOpen:()=>vD,selectIsWhiteLabeled:()=>sl,selectIsWidgetLoadingAdditionalDataByWidgetRef:()=>OD,selectKpiDeleteDialogWidgetCoordinates:()=>CD,selectKpiWidgetPlaceholder:()=>Nc,selectKpiWidgetPlaceholderCoordinates:()=>_c,selectLayout:()=>hc,selectLayoutHasAnalyticalWidgets:()=>Fc,selectLegacyDashboards:()=>ff,selectListedDashboards:()=>OE,selectListedDashboardsMap:()=>NE,selectLocale:()=>Jo,selectMapboxToken:()=>rl,selectMenuButtonItemsVisibility:()=>RD,selectObjectAvailabilityConfig:()=>il,selectOriginalFilterContextDefinition:()=>pd,selectOriginalFilterContextFilters:()=>hd,selectOtherContextAttributeFilters:()=>Fd,selectPermissions:()=>Xp,selectPersistedDashboard:()=>su,selectPlatformEdition:()=>hl,selectRenderMode:()=>Gc,selectScheduleEmailDialogDefaultAttachment:()=>fD,selectSectionModification:()=>XD,selectSelectedFilterIndex:()=>_D,selectSelectedWidgetRef:()=>FD,selectSeparators:()=>el,selectSettings:()=>Qo,selectShouldHidePixelPerfectExperience:()=>kl,selectStash:()=>mc,selectSupportsAccessControlCapability:()=>Lo,selectSupportsAttributeHierarchies:()=>zo,selectSupportsCrossFiltering:()=>jo,selectSupportsElementUris:()=>Oo,selectSupportsElementsQueryParentFiltering:()=>ko,selectSupportsHierarchicalWorkspacesCapability:()=>Mo,selectSupportsKeepingDependentFiltersSelection:()=>Go,selectSupportsKpiWidgetCapability:()=>xo,selectSupportsMultipleDateFilters:()=>Ko,selectSupportsObjectUris:()=>Ho,selectSupportsSettingConnectingAttributes:()=>Uo,selectSupportsSingleSelectDependentFilters:()=>Vo,selectValidConfiguredDrillsByWidgetRef:()=>TE,selectWeekStart:()=>al,selectWidgetByRef:()=>vc,selectWidgetCoordinatesByRef:()=>kc,selectWidgetDateDatasetAutoSelect:()=>xD,selectWidgetDrills:()=>Ic,selectWidgetPlaceholder:()=>xc,selectWidgetPlaceholderCoordinates:()=>Lc,selectWidgets:()=>bc,selectWidgetsMap:()=>Dc,selectWidgetsModification:()=>$D,selectWidgetsOverlay:()=>YD,selectWidgetsOverlayState:()=>ZD,setAttributeFilterDisplayForm:()=>xf,setAttributeFilterParents:()=>Ff,setAttributeFilterSelectionMode:()=>Mf,setAttributeFilterTitle:()=>Lf,setDashboardAttributeFilterConfigMode:()=>Si,setDashboardDateFilterConfigMode:()=>Ci,setDashboardDateFilterWithDimensionConfigMode:()=>Ti,setDateFilterConfigTitle:()=>wi,setDrillForKpiWidget:()=>qv,setExecutionResultData:()=>dD,setExecutionResultError:()=>sD,setExecutionResultLoading:()=>lD,singleEventTypeHandler:()=>VE,switchToEditRenderMode:()=>dd,translations:()=>jI,triggerEvent:()=>Xb,uiActions:()=>Va,undoLayoutChanges:()=>bv,unignoreDateFilterOnInsightWidget:()=>qp,unignoreFilterOnInsightWidget:()=>Lp,unignoreFilterOnKpiWidget:()=>Vv,updateAlert:()=>Iv,useCancelButtonProps:()=>kF,useCancelEditDialog:()=>xN,useCustomWidgetExecutionDataView:()=>kU,useCustomWidgetInsightDataView:()=>xU,useDashboardAsyncRender:()=>nD,useDashboardCommandProcessing:()=>$b,useDashboardDispatch:()=>Kb,useDashboardEventDispatch:()=>Qb,useDashboardEventsContext:()=>q,useDashboardQueryProcessing:()=>eD,useDashboardScheduledEmails:()=>tv,useDashboardSelector:()=>qb,useDashboardUserInteraction:()=>tD,useDefaultMenuItems:()=>nk,useDispatchDashboardCommand:()=>aD,useDrill:()=>qx,useDrillDown:()=>Yx,useDrillToAttributeUrl:()=>Xx,useDrillToCustomUrl:()=>Qx,useDrillToDashboard:()=>$x,useDrillToInsight:()=>Zx,useDrillToLegacyDashboard:()=>Jx,useEditButtonProps:()=>zF,useFilterBarProps:()=>LC,useInsightWidgetDataView:()=>LU,useParentFilters:()=>Tk,useSaveAsDialogProps:()=>$P,useSaveAsNewButtonProps:()=>qF,useSaveButtonProps:()=>mk,useShareButtonProps:()=>XF,useTopBarProps:()=>hk,useWidgetDragEndHandler:()=>_C,useWidgetExecutionsHandler:()=>cD,useWidgetFilters:()=>Tw,useWidgetSelection:()=>iv,userInteractionTriggered:()=>Kt});var r={};i.r(r),i.d(r,{FILE:()=>QH,HTML:()=>tU,TEXT:()=>eU,URL:()=>JH});var a=i(53244),n=i(52628);class o{config;[Symbol.toStringTag]="ObjRefMap";size=0;items=[];itemsByIdentifier={};itemsByUri={};constructor(e){this.config=e}idRefToKey=(e,t)=>this.config.strictTypeCheck&&t?`${e}#${t}`:e;addItem=e=>{const{refExtract:t,uriExtract:i,idExtract:r}=this.config,a=i(e),n=r(e);this.itemsByUri[a]=e,this.itemsByIdentifier[this.idRefToKey(n,this.config.type)]=e,this.items.push([t(e),e]),this.size++};cleanupUnmappedItems=()=>{const e=n(this.itemsByUri).concat(n(this.itemsByIdentifier));this.items=this.items.filter((([t,i])=>e.find((e=>e===i))))};fromItems=e=>(e.forEach(this.addItem),this.cleanupUnmappedItems(),this);[Symbol.iterator](){return this.items[Symbol.iterator]()}entries(){return this.items[Symbol.iterator]()}get(e){if((0,a.isIdentifierRef)(e)){const t=this.itemsByIdentifier[this.idRefToKey(e.identifier,e.type)];return t||e.type||!this.config.strictTypeCheck||console.warn("You are working with an analytical backend which can only match entities by idRefs that contain both identifier and type. However, while trying to find match an object by ref your code supplied just the identifier without type."),t}return this.itemsByUri[e.uri]}has(e){return void 0!==this.get(e)}keys(){return this.items.map((e=>e[0]))[Symbol.iterator]()}values(){return this.items.map((e=>e[1]))[Symbol.iterator]()}}const l={idExtract:e=>e.id,uriExtract:e=>e.uri,refExtract:e=>e.ref};function s(e,t=!1){return new o({type:"dataSet",strictTypeCheck:t,idExtract:e=>e.dataSet.id,uriExtract:e=>e.dataSet.uri,refExtract:e=>e.dataSet.ref}).fromItems(e)}function d(e,t=!1){return new o({type:"displayForm",strictTypeCheck:t,...l}).fromItems(e)}function c(e,t=!1){return new o({type:"attribute",strictTypeCheck:t,...l}).fromItems(e)}function u(e,t,i=!1){return new o({type:t,strictTypeCheck:i,idExtract:e=>e.identifier,uriExtract:e=>e.uri,refExtract:e=>e.ref}).fromItems(e)}function g(e,t=!1){return new o({type:"insight",strictTypeCheck:t,idExtract:a.insightId,uriExtract:a.insightUri,refExtract:a.insightRef}).fromItems(e)}var m=i(35982),p=i(41609);const h=500;async function f(e,t,i){const r=e.map((e=>{if((0,a.isAbsoluteDateFilter)(e)){const t={from:e.absoluteDateFilter.from,to:e.absoluteDateFilter.to};return Promise.resolve(t)}return(0,m.kG)(t,`backend needs to be provided for this type of filter: ${e}`),(0,m.kG)(i,`workspace needs to be provided for this type of filter: ${e}`),(0,a.isAttributeFilter)(e)?async function(e,t,i){const r={},n=t.workspace(i).attributes().elements().forFilter(e),o=(0,a.filterAttributeElements)(e),l=(0,a.attributeElementsCount)(o);if(0===l)return r;const s=Math.min(l,h);let d=await n.withLimit(s).query();const c=[];for(;!p(d.items);)c.push(...d.items),d=await d.next();return c.reduce(((e,t)=>(e[null===t.uri?"null":t.uri]=t.title,e)),r)}(e,t,i):async function(e,t,i){let r;if((0,a.isObjRef)(e.relativeDateFilter.dataSet)){const a=await t.workspace(i).catalog().forDataset(e.relativeDateFilter.dataSet).withGroups(!1).load();if(a.dateDatasets()[0]){const e=a.dateDatasets()[0].dateAttributes.find((e=>"GDC.time.date"===e.granularity));r=e?.defaultDisplayForm}}const n=t.workspace(i).attributes().elements().forFilter(e,r?.ref),o=await n.query(),l=o.limit+o.offset<o.totalCount?await o.goTo(Math.ceil(o.totalCount/o.limit)-1):o;return{from:o.items[0].title,to:(s=l.items,s[s.length-1].title)};var s}(e,t,i)}));return Promise.all(r).then((t=>t.reduce(((i,r,n)=>{const o=e[n],l=(0,a.filterObjRef)(o);if((0,m.kG)(l,`filter without reference not supported: ${o}`),(0,a.isDateFilter)(o)){const e=b(t,o,n);e&&i.dateFilters.push(e)}if((0,a.isAttributeFilter)(o)){const e=(0,a.objRefToString)(l),r=b(t,o,n);r&&(i.attributeFilters[e]=r)}return i}),{dateFilters:[],attributeFilters:{}})))}function b(e,t,i){return(0,a.isDateFilter)(t),e[i]}var D,v=i(50361);function E(e,t,i){const r=i?v(i):{};return{type:"customWidget",customType:t,identifier:e,uri:`_custom_widget_uri/${e}`,ref:(0,a.idRef)(e),...r}}function y(e){const t=e;return!p(t)&&"customWidget"===t.type&&void 0!==t.customType&&void 0!==t.ref}function I(e){const t=e;return!p(t)&&"customWidget"===t.type&&void 0!==t.customType&&void 0===t.ref}function C(e){const t=e;return!p(t)&&"customWidget"===t.type&&void 0!==t.customType}function S(e){const t=`${e.identifier}`;let i="unknown widget type";return(0,a.isWidget)(e)?i=e.type:y(e)&&(i=`${e.type}/${e.customType}`),`${t}(${i})`}function T(e,t){return{type:"IDashboardLayoutItem",size:"number"==typeof t?{xl:{gridWidth:t}}:t,widget:v(e)}}function w(e,...t){const i=function(e){if(e){if("string"==typeof e){if(p(e))return;return{title:e}}return e}}(e);return{type:"IDashboardLayoutSection",items:v(t),header:i}}function A(e){return(0,a.isDashboardDateFilter)(e.alertFilter)}function P(e){return(0,a.isDashboardAttributeFilter)(e.alertFilter)}!function(e){e.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID="{project_id}",e.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID="{workspace_id}",e.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID="{insight_id}",e.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID="{widget_id}",e.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID="{dashboard_id}",e.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID="{client_id}",e.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID="{data_product_id}"}(D=D||(D={}));var R=i(59882),F=i(41324),k=i.n(F),x=k().createContext(null),L=function(e){e()},M=function(){return L},O={notify:function(){},get:function(){return[]}};function N(e,t){var i,r=O;function a(){o.onStateChange&&o.onStateChange()}function n(){i||(i=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=M(),t=null,i=null;return{clear:function(){t=null,i=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],i=t;i;)e.push(i),i=i.next;return e},subscribe:function(e){var r=!0,a=i={callback:e,next:null,prev:i};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:i=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var o={addNestedSub:function(e){return n(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(i)},trySubscribe:n,tryUnsubscribe:function(){i&&(i(),i=void 0,r.clear(),r=O)},getListeners:function(){return r}};return o}var _="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?F.useLayoutEffect:F.useEffect;const H=function(e){var t=e.store,i=e.context,r=e.children,a=(0,F.useMemo)((function(){var e=N(t);return{store:t,subscription:e}}),[t]),n=(0,F.useMemo)((function(){return t.getState()}),[t]);_((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),n!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,n]);var o=i||x;return k().createElement(o.Provider,{value:a},r)};i(8679),i(72973);var U=i(87462);function G(){return(0,F.useContext)(x)}function B(e){void 0===e&&(e=x);var t=e===x?G:function(){return(0,F.useContext)(e)};return function(){return t().store}}var W=B();var z,V=function(e,t){return e===t};z=i(12181).unstable_batchedUpdates,L=z;var j=i(50308);const K=(0,R.createContext)({registerHandler:j,unregisterHandler:j});K.displayName="DashboardEventsContext";const q=()=>(0,R.useContext)(K);function Y(e){const{children:t,registerHandler:i,unregisterHandler:r}=e,a=(0,R.useMemo)((()=>({registerHandler:i,unregisterHandler:r})),[i,r]);return R.createElement(K.Provider,{value:a},t)}var Z=i(2525),$=i(42622),X=i(34857),Q=i(44586);function J(e){return!p(e)&&e.type?.startsWith("GDC.DASH/EVT")}function ee(e){return!p(e)&&e.type?.startsWith("CUSTOM/EVT")}function te(e){return J(e)||ee(e)}const ie=e=>t=>!p(t)&&t.type===e;function re(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.INITIALIZED",ctx:e,correlationId:n,payload:{dashboard:t,insights:i,config:r,permissions:a}}}const ae=ie("GDC.DASH/EVT.INITIALIZED"),ne=ie("GDC.DASH/EVT.DEINITIALIZED"),oe=ie("GDC.DASH/EVT.SAVED"),le=ie("GDC.DASH/EVT.COPY_SAVED"),se=ie("GDC.DASH/EVT.RENAMED");function de(e,t,i){return{type:"GDC.DASH/EVT.RESET",ctx:e,correlationId:i,payload:{dashboard:t}}}const ce=ie("GDC.DASH/EVT.RESET"),ue=ie("GDC.DASH/EVT.DELETED"),ge=ie("GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.VALIDATION.FAILED"),me=ie("GDC.DASH/EVT.EXPORT.PDF.REQUESTED"),pe=ie("GDC.DASH/EVT.EXPORT.PDF.RESOLVED"),he=ie("GDC.DASH/EVT.SHARING.CHANGED"),fe=ie("GDC.DASH/EVT.COMMAND.STARTED");function be(e,t,i){return{type:"GDC.DASH/EVT.COMMAND.FAILED",ctx:e,correlationId:t.correlationId,payload:{reason:"USER_ERROR",command:t,message:i}}}const De=ie("GDC.DASH/EVT.COMMAND.FAILED");function ve(e,t){return{type:"GDC.DASH/EVT.COMMAND.REJECTED",ctx:e,correlationId:t}}const Ee=ie("GDC.DASH/EVT.COMMAND.REJECTED"),ye=ie("GDC.DASH/EVT.QUERY.REJECTED");function Ie(e,t,i){return{type:"GDC.DASH/EVT.QUERY.FAILED",ctx:e,correlationId:i,payload:{reason:"USER_ERROR",message:t}}}const Ce=ie("GDC.DASH/EVT.QUERY.FAILED"),Se=ie("GDC.DASH/EVT.QUERY.STARTED"),Te=ie("GDC.DASH/EVT.QUERY.COMPLETED"),we=ie("GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.SELECTION_CHANGED"),Ae=ie("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADDED");function Pe(e,t,i,r){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVED",ctx:e,correlationId:r,payload:{removed:t,children:i}}}const Re=ie("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVED"),Fe=ie("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVED"),ke=ie("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_CHANGED"),xe=ie("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.PARENT_CHANGED"),Le=ie("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.TITLE_CHANGED"),Me=ie("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_MODE_CHANGED"),Oe=ie("GDC.DASH/EVT.ATTRIBUTE_FILTER_CONFIG.MODE_CHANGED"),Ne=ie("GDC.DASH/EVT.FILTER_CONTEXT.CHANGED");function _e(e,t,i,r){return{type:"GDC.DASH/EVT.DATE_FILTER_CONFIG.TITLE_CHANGED",ctx:e,correlationId:r,payload:{filter:t,filterConfig:i}}}function He(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.REMOVED",ctx:e,correlationId:i,payload:{removed:t}}}ie("GDC.DASH/EVT.DATE_FILTER_CONFIG.TITLE_CHANGED"),ie("GDC.DASH/EVT.DATE_FILTER_CONFIG.MODE_CHANGED"),ie("GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.ADDED"),ie("GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.REMOVED"),ie("GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.MOVED");const Ue=ie("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED"),Ge=ie("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_MOVED");function Be(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_REMOVED",ctx:e,correlationId:n,payload:{section:t,index:i,eagerRemoval:r,stashIdentifier:a}}}const We=ie("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_REMOVED"),ze=ie("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_HEADER_CHANGED"),Ve=ie("GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED"),je=ie("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED"),Ke=ie("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED");function qe(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REMOVED",ctx:e,correlationId:n,payload:{item:t,itemIndex:i,section:r,stashIdentifier:a}}}ie("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED_TO_NEW_SECTION");const Ye=ie("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REMOVED"),Ze=ie("GDC.DASH/EVT.FLUID_LAYOUT.LAYOUT_CHANGED"),$e=ie("GDC.DASH/EVT.KPI_WIDGET.HEADER_CHANGED"),Xe=ie("GDC.DASH/EVT.KPI_WIDGET.DESCRIPTION_CHANGED"),Qe=ie("GDC.DASH/EVT.KPI_WIDGET.CONFIGURATION_CHANGED"),Je=ie("GDC.DASH/EVT.KPI_WIDGET.MEASURE_CHANGED"),et=ie("GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED"),tt=ie("GDC.DASH/EVT.KPI_WIDGET.COMPARISON_CHANGED"),it=ie("GDC.DASH/EVT.KPI_WIDGET.DRILL_REMOVED"),rt=ie("GDC.DASH/EVT.KPI_WIDGET.DRILL_SET"),at=ie("GDC.DASH/EVT.KPI_WIDGET.WIDGET_CHANGED"),nt=ie("GDC.DASH/EVT.INSIGHT_WIDGET.HEADER_CHANGED"),ot=ie("GDC.DASH/EVT.INSIGHT_WIDGET.DESCRIPTION_CHANGED"),lt=ie("GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED"),st=ie("GDC.DASH/EVT.INSIGHT_WIDGET.PROPERTIES_CHANGED"),dt=ie("GDC.DASH/EVT.INSIGHT_WIDGET.CONFIGURATION_CHANGED"),ct=ie("GDC.DASH/EVT.INSIGHT_WIDGET.INSIGHT_SWITCHED"),ut=ie("GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_MODIFIED");function gt(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_REMOVED",ctx:e,correlationId:r,payload:{ref:t,removed:i}}}const mt=ie("GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_REMOVED"),pt=ie("GDC.DASH/EVT.INSIGHT_WIDGET.WIDGET_CHANGED"),ht=ie("GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_REQUESTED"),ft=ie("GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_RESOLVED"),bt=ie("GDC.DASH/EVT.INSIGHT_WIDGET.REFRESHED"),Dt=ie("GDC.DASH/EVT.WIDGET.EXECUTION_STARTED"),vt=ie("GDC.DASH/EVT.WIDGET.EXECUTION_FAILED"),Et=ie("GDC.DASH/EVT.WIDGET.EXECUTION_SUCCEEDED"),yt=ie("GDC.DASH/EVT.ALERT.CREATED"),It=ie("GDC.DASH/EVT.ALERTS.REMOVED"),Ct=ie("GDC.DASH/EVT.ALERT.UPDATED"),St=ie("GDC.DASH/EVT.SCHEDULED_EMAIL.CREATED"),Tt=ie("GDC.DASH/EVT.SCHEDULED_EMAIL.SAVED"),wt=ie("GDC.DASH/EVT.DRILL.REQUESTED"),At=ie("GDC.DASH/EVT.DRILL.RESOLVED"),Pt=ie("GDC.DASH/EVT.DRILL.DRILL_DOWN.REQUESTED"),Rt=ie("GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED"),Ft=ie("GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.REQUESTED"),kt=ie("GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED"),xt=ie("GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.REQUESTED"),Lt=ie("GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED"),Mt=ie("GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.REQUESTED"),Ot=ie("GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED"),Nt=ie("GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.REQUESTED"),_t=ie("GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED"),Ht=ie("GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.REQUESTED"),Ut=ie("GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED"),Gt=ie("GDC.DASH/EVT.DRILL.DRILLABLE_ITEMS.CHANGED"),Bt=ie("GDC.DASH/EVT.DRILL.CROSS_FILTERING.REQUESTED"),Wt=ie("GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED");function zt(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL_TARGETS.ADDED",ctx:e,correlationId:r,payload:{ref:t,availableDrillTargets:i}}}const Vt=ie("GDC.DASH/EVT.DRILL_TARGETS.ADDED");var jt=i(47037);function Kt(e,t){return{type:"GDC.DASH/EVT.USER_INTERACTION.TRIGGERED",correlationId:t,payload:jt(e)?{interaction:e}:e}}const qt=ie("GDC.DASH/EVT.USER_INTERACTION.TRIGGERED"),Yt=ie("GDC.DASH/EVT.RENDER.REQUESTED"),Zt=ie("GDC.DASH/EVT.RENDER.ASYNC.REQUESTED"),$t=ie("GDC.DASH/EVT.RENDER.ASYNC.RESOLVED"),Xt=ie("GDC.DASH/EVT.RENDER.RESOLVED"),Qt=ie("GDC.DASH/EVT.RENDER_MODE.CHANGED");function Jt(e){return{type:"GDC.DASH/EVT.CREATE_INSIGHT_REQUESTED",correlationId:e}}const ei=ie("GDC.DASH/EVT.CREATE_INSIGHT_REQUESTED");function ti(e){return{type:"GDC.DASH/EVT.CREATE_ATTRIBUTE_HIERARCHY_REQUESTED",correlationId:e}}const ii=ie("GDC.DASH/EVT.CREATE_ATTRIBUTE_HIERARCHY_REQUESTED");function ri(e){return{type:"GDC.DASH/EVT.DELETE_ATTRIBUTE_HIERARCHY_REQUESTED",correlationId:e}}const ai=ie("GDC.DASH/EVT.DELETE_ATTRIBUTE_HIERARCHY_REQUESTED");function ni(e,t){return i=>i?.type===e&&(t?.(i)??!0)}function*oi(e){return yield(0,X.gw)(e),!0}const li=e=>ni("GDC.DASH/EVT.RENDER.ASYNC.RESOLVED",e?t=>t.payload.id===e:()=>!0),si=e=>ni("GDC.DASH/EVT.RENDER.ASYNC.REQUESTED",e?t=>t.payload.id===e:()=>!0);function di(e={asyncRenderRequestedTimeout:2e3,asyncRenderResolvedTimeout:2e3,maxTimeout:12e5,correlationIdGenerator:Q.Z}){return function*(t){try{const i=e.correlationIdGenerator();yield(0,X.gz)(function(e,t){return{type:"GDC.DASH/EVT.RENDER.REQUESTED",correlationId:t,ctx:e}}(t,i)),yield(0,X.qn)("GDC.DASH/EVT.INITIALIZED");const r=yield(0,X.RE)(ci,e);yield(0,X.RE)(ui,r,e),yield(0,X.gz)(function(e,t){return{type:"GDC.DASH/EVT.RENDER.RESOLVED",correlationId:t,ctx:e}}(t,i))}catch(e){console.error("Rendering worker failed",e)}}}function*ci(e){const t=new Map,i=yield(0,X.Cs)(oi,e.asyncRenderRequestedTimeout),r=yield(0,X.ZO)(si());for(;;){const{asyncRenderRequested:a,timeoutResolved:n}=yield(0,X.S3)({asyncRenderRequested:(0,X.qn)(r),timeoutResolved:(0,X.v_)(i)});if(n)break;const o=a.payload.id;if(t.has(o))continue;const l=yield(0,X.Cs)(gi,o,e);t.set(o,l)}return t}function*ui(e,t){const i=yield(0,X.Cs)(oi,t.maxTimeout-t.asyncRenderRequestedTimeout),r=yield(0,X.ZO)(si());for(;;){const a=Array.from(e,(([,e])=>e)),{asyncTasksResolved:n,asyncRenderRequested:o,timeoutResolved:l}=yield(0,X.S3)({asyncRenderRequested:(0,X.qn)(r),asyncTasksResolved:(0,X.$6)(a.map((e=>(0,X.v_)(e)))),timeoutResolved:(0,X.v_)(i)});if(l||n)return a.forEach((e=>e.cancel())),void(yield(0,X.al)(i));if(o){const i=o.payload.id;if(e.has(i))continue;const r=yield(0,X.Cs)(gi,i,t);e.set(i,r)}}}function*gi(e,t){let i=0;const r=yield(0,X.ZO)(li(e));for(;;){yield(0,X.qn)(r);const{timeout:a}=yield(0,X.S3)({timeout:(0,X.RE)(oi,t.asyncRenderResolvedTimeout),anotherExecution:(0,X.qn)(si(e))});if(i+=1,a||3===i)return}}const mi="initialLoad";function pi(e,t,i){return{type:"GDC.DASH/CMD.INITIALIZE",correlationId:i,payload:{config:e,permissions:t}}}function hi(e,t,i,r){return{type:"GDC.DASH/CMD.INITIALIZE",correlationId:r,payload:{config:e,permissions:t,persistedDashboard:i}}}function fi(e,t){return{type:"GDC.DASH/CMD.SAVE",correlationId:t,payload:{title:e}}}function bi(e,t,i,r){return{type:"GDC.DASH/CMD.SAVEAS",correlationId:r,payload:{title:e,switchToCopy:t,useOriginalFilterContext:i}}}function Di(e,t){return{type:"GDC.DASH/CMD.RENAME",correlationId:t,payload:{newTitle:e}}}function vi(e,t){return{type:"GDC.DASH/CMD.SHARING.CHANGE",correlationId:t,payload:{newSharingProperties:e}}}function Ei(e){return{type:"GDC.DASH/CMD.RESET",correlationId:e}}function yi(e){return{type:"GDC.DASH/CMD.DELETE",correlationId:e}}function Ii(e){return{type:"GDC.DASH/CMD.EXPORT.PDF",correlationId:e}}function Ci(e){return{type:"GDC.DASH/CMD.DATE_FILTER_CONFIG.SET_MODE",payload:{mode:e}}}function Si(e,t){return{type:"GDC.DASH/CMD.ATTRIBUTE_FILTER_CONFIG.SET_MODE",payload:{localIdentifier:e,mode:t}}}function Ti(e,t){return{type:"GDC.DASH/CMD.DATE_FILTER_WITH_DIMENSION_CONFIG.SET_MODE",payload:{dataSet:e,mode:t}}}function wi(e,t,i){return{type:"GDC.DASH/CMD.DATE_FILTER_CONFIG.SET_TITLE",correlationId:i,payload:{dataSet:e,title:t}}}var Ai=i(14890),Pi=i(24268),Ri=i(30797),Fi="BATCHING_REDUCER.BATCH";function ki(e){return{type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fi,meta:{batch:!0},payload:e}}function xi(e){return function t(i,r){return r&&r.meta&&r.meta.batch?r.payload.reduce(t,i):e(i,r)}}var Li=i(43174);const Mi=()=>(0,Q.Z)().replace(/-/g,""),Oi={setFilterContext:(e,t)=>{const{filterContextDefinition:i,originalFilterContextDefinition:r,filterContextIdentity:n,attributeFilterDisplayForms:o}=t.payload,l=i.filters?.map((e=>(0,a.isDashboardAttributeFilter)(e)?{attributeFilter:{...e.attributeFilter,localIdentifier:e.attributeFilter.localIdentifier??Mi()}}:e)),[s,d]=Li(l,a.isDashboardCommonDateFilter),c=[...s,...d];e.filterContextDefinition={...i,filters:c},e.originalFilterContextDefinition=r,e.filterContextIdentity=n,e.attributeFilterDisplayForms=o},updateFilterContextIdentity:(e,t)=>{e.filterContextIdentity=t.payload.filterContextIdentity},removeAttributeFilterDisplayForms:(e,t)=>{(0,m.kG)(e.attributeFilterDisplayForms,"attempting to work with uninitialized state"),e.attributeFilterDisplayForms=e.attributeFilterDisplayForms.filter((e=>!(0,a.areObjRefsEqual)(e,t.payload)))},addAttributeFilterDisplayForm:(e,t)=>{(0,m.kG)(e.attributeFilterDisplayForms,"attempting to work with uninitialized state"),e.attributeFilterDisplayForms.find((e=>(0,a.areObjRefsEqual)(e,t.payload.ref)))&&(e.attributeFilterDisplayForms=e.attributeFilterDisplayForms.filter((e=>!(0,a.areObjRefsEqual)(e,t.payload)))),e.attributeFilterDisplayForms.push(t.payload)},addAttributeFilter:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{displayForm:i,index:r,initialIsNegativeSelection:n,initialSelection:o,parentFilters:l,selectionMode:s,localIdentifier:d}=t.payload,c=o&&!(0,a.attributeElementsIsEmpty)(o),u={attributeFilter:{attributeElements:o??{uris:[]},displayForm:i,negativeSelection:"single"!==s&&(n||!c),localIdentifier:d??Mi(),filterElementsBy:l?[...l]:void 0,...void 0!==s?{selectionMode:s}:{}}},g=e.filterContextDefinition.filters.findIndex(a.isDashboardDateFilter)>=0;if(-1===r)e.filterContextDefinition.filters.push(u);else{const t=g?r+1:r;e.filterContextDefinition.filters.splice(t,0,u)}},removeAttributeFilter:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i}=t.payload;e.filterContextDefinition.filters=e.filterContextDefinition.filters.filter((e=>(0,a.isDashboardDateFilter)(e)||e.attributeFilter.localIdentifier!==i))},moveAttributeFilter:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,index:r}=t.payload,n=e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,m.kG)(n>=0,"Attempt to move non-existing filter");const o=e.filterContextDefinition.filters[n];e.filterContextDefinition.filters.splice(n,1);const l=e.filterContextDefinition.filters.findIndex(a.isDashboardDateFilter)>=0;if(-1===r)e.filterContextDefinition.filters.push(o);else{const t=l?r+1:r;e.filterContextDefinition.filters.splice(t,0,o)}},addDateFilter:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{index:i,dateDataset:r}=t.payload,n={dateFilter:{dataSet:r,type:"relative",granularity:"GDC.time.date"}},o=e.filterContextDefinition.filters.findIndex(a.isDashboardCommonDateFilter)>=0;if(-1===i)e.filterContextDefinition.filters.push(n);else{const t=o?i+1:i;e.filterContextDefinition.filters.splice(t,0,n)}},removeDateFilter:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{dataSet:i}=t.payload;e.filterContextDefinition.filters=e.filterContextDefinition.filters.filter((e=>(0,a.isDashboardAttributeFilter)(e)||!(0,a.areObjRefsEqual)(e.dateFilter.dataSet,i)))},moveDateFilter:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{dataSet:i,index:r}=t.payload,n=e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardDateFilter)(e)&&(0,a.areObjRefsEqual)(e.dateFilter.dataSet,i)));(0,m.kG)(n>=0,"Attempt to move non-existing filter");const o=e.filterContextDefinition.filters[n];e.filterContextDefinition.filters.splice(n,1);const l=e.filterContextDefinition.filters.findIndex(a.isDashboardCommonDateFilter)>=0;if(-1===r)e.filterContextDefinition.filters.push(o);else{const t=l?r+1:r;e.filterContextDefinition.filters.splice(t,0,o)}},updateAttributeFilterSelection:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{elements:i,filterLocalId:r,negativeSelection:n}=t.payload,o=e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===r));(0,m.kG)(o>=0,"Attempt to update non-existing filter"),e.filterContextDefinition.filters[o]={attributeFilter:{...e.filterContextDefinition.filters[o].attributeFilter,attributeElements:i,negativeSelection:n}}},setAttributeFilterParents:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,parentFilters:r}=t.payload,n=e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,m.kG)(n>=0,"Attempt to set parent of a non-existing filter"),e.filterContextDefinition.filters[n].attributeFilter.filterElementsBy=[...r]},clearAttributeFiltersSelection:(e,t)=>{const{filterLocalIds:i}=t.payload;i.forEach((t=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const i=e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===t));(0,m.kG)(i>=0,"Attempt to clear selection of a non-existing filter");const r=e.filterContextDefinition.filters[i],n="single"!==r.attributeFilter.selectionMode;r.attributeFilter.negativeSelection=n,r.attributeFilter.attributeElements=(0,a.isAttributeElementsByRef)(r.attributeFilter.attributeElements)?{uris:[]}:{values:[]}}))},upsertDateFilter:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const i=t.payload.dataSet;let r;if(r=i?e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardDateFilter)(e)&&(0,a.areObjRefsEqual)(e.dateFilter.dataSet,i))):e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardCommonDateFilter)(e))),"allTime"===t.payload.type){if(r>=0)if(i){const t=e.filterContextDefinition.filters[r];(0,a.isDashboardDateFilter)(t)&&(e.filterContextDefinition.filters[r]=(0,a.newAllTimeDashboardDateFilter)(t.dateFilter.dataSet))}else e.filterContextDefinition.filters.splice(r,1)}else if(r>=0){const{type:i,granularity:n,from:o,to:l}=t.payload,s=e.filterContextDefinition.filters[r];(0,a.isDashboardDateFilter)(s)&&(s.dateFilter.type=i,s.dateFilter.granularity=n,s.dateFilter.from=o,s.dateFilter.to=l)}else{const{type:i,granularity:r,from:a,to:n,dataSet:o}=t.payload;e.filterContextDefinition.filters.unshift({dateFilter:{granularity:r,type:i,from:a,to:n,...o?{dataSet:o}:{}}})}},changeAttributeDisplayForm:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,displayForm:r,supportsElementUris:n}=t.payload,o=e.filterContextDefinition.filters.findIndex((e=>(0,a.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,m.kG)(o>=0,"Attempt to set parent of a non-existing filter");const l=e.filterContextDefinition.filters[o];l.attributeFilter.displayForm={...r};const s="single"!==l.attributeFilter.selectionMode;n||(l.attributeFilter.negativeSelection=s,l.attributeFilter.attributeElements=(0,a.isAttributeElementsByRef)(l.attributeFilter.attributeElements)?{uris:[]}:{values:[]})},changeAttributeTitle:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,title:r}=t.payload,n=e.filterContextDefinition.filters.find((e=>(0,a.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,m.kG)(n,"Attempt to change title of a non-existing filter"),n.attributeFilter.title=r},changeSelectionMode:(e,t)=>{(0,m.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,selectionMode:r}=t.payload,n=e.filterContextDefinition.filters.find((e=>(0,a.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,m.kG)(n,"Attempt to change selection mode of a non-existing filter"),n.attributeFilter.selectionMode=r}},Ni=(0,Pi.oM)({name:"filterContext",initialState:{filterContextDefinition:void 0,filterContextIdentity:void 0,attributeFilterDisplayForms:void 0},reducers:Oi}),_i=Ni.reducer,Hi=Ni.actions;var Ui=i(12902),Gi=i(94654);(0,Ui.vI)();const Bi={_undo:{undoPointer:-1,undoStack:[]}};function Wi(e){const t=(0,Ui.Js)(e)??function(e){try{return JSON.parse(JSON.stringify(e))}catch{return}}(e);return(0,m.kG)(t,"Unexpected value received as state in undo enhancer (not a draft)."),t}const zi=e=>(t,i)=>{const{undo:r}=i.payload,a=Wi(t),[n,o,l]=(0,Ui.aS)(a,(t=>{e(t,i)}));return(0,Ui.Uy)(n,(e=>{e._undo.undoPointer++,e._undo.undoStack.push({cmd:r.cmd,redoPatches:o,undoPatches:l})}))},Vi=e=>{e._undo=Bi._undo},ji={layout:void 0,stash:{},...Bi};function Ki(e,t,i){0===t?e.unshift(...i):t<0?e.push(...i):e.splice(t,0,...i)}function qi(e,t){return 0===t?e.shift():t<0?e.pop():e.splice(t,1)[0]}function Yi(e,t){return(0,m.kG)(t<e.length&&t>=-1),t<0?e.length-1:t}function Zi(e,t){return(0,m.kG)(0===t||t<=e.length&&t>=-1),t<0?e.length:t}function $i(e,t,i){p(i)?delete e[t]:e[t]=i}function Xi(e,t){const i=Qi(e,t);if(i)return{sectionIndex:i.sectionIndex,itemIndex:i.itemIndex}}function Qi(e,t){for(let i=0;i<e.sections.length;i++){const r=e.sections[i];for(let e=0;e<r.items.length;e++){const n=r.items[e];if((0,a.areObjRefsEqual)(n.widget?.ref,t))return{sectionIndex:i,itemIndex:e,item:n}}}}function Ji(e){const t=e.widget;return(0,a.isInsightWidget)(t)||(0,a.isKpiWidget)(t)}const er=(e,t)=>u(Gi(e?.layout?.sections,(e=>e.items.map((e=>e.widget)))).filter(Boolean)).get(t),tr=(e,t)=>{(0,m.kG)(e.layout);const{drillDefinitions:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&((0,a.isKpiWidget)(n)||(0,a.isInsightWidget)(n))),n.drills=i??[]},ir=(e,t)=>{(0,m.kG)(e.layout);const{ref:i,drill:r}=t.payload,n=er(e,i);(0,m.kG)(n&&(0,a.isKpiWidget)(n)),n.drills=r?[r]:[]},rr={setLayout:(e,t)=>{e.layout=t.payload,Vi(e)},updateWidgetIdentities:(e,t)=>{var i,r;(0,m.kG)(e.layout),i=e.layout,r=t.payload,i.sections.forEach((e=>{e.items.forEach((e=>{const t=e.widget;if(!(0,a.isInsightWidget)(t)&&!(0,a.isKpiWidget)(t))return;const{updated:i}=r.get(t.ref)??{};i&&(t.ref=i.ref,t.uri=i.uri,t.identifier=i.identifier)}))}))},removeIgnoredAttributeFilter:(e,t)=>{(0,m.kG)(e.layout);const{displayFormRefs:i}=t.payload;e.layout.sections.forEach((e=>{e.items.forEach((e=>{const t=e.widget;if((0,a.isInsightWidget)(t)||(0,a.isKpiWidget)(t)){const e=t.ignoreDashboardFilters.filter((e=>!!(0,a.isDashboardDateFilterReference)(e)||void 0===i.find((t=>(0,a.areObjRefsEqual)(t,e.displayForm)))));t.ignoreDashboardFilters=e}}))}))},removeIgnoredDateFilter:(e,t)=>{(0,m.kG)(e.layout);const{dateDataSets:i}=t.payload;e.layout.sections.forEach((e=>{e.items.forEach((e=>{const t=e.widget;if((0,a.isInsightWidget)(t)||(0,a.isKpiWidget)(t)){const e=t.ignoreDashboardFilters.filter((e=>!!(0,a.isDashboardAttributeFilterReference)(e)||void 0===i.find((t=>(0,a.areObjRefsEqual)(t,e.dataSet)))));t.ignoreDashboardFilters=e}}))}))},addSection:zi(((e,t)=>{(0,m.kG)(e.layout);const{index:i,section:r,usedStashes:a}=t.payload;Ki(e.layout.sections,i,[r]),a.forEach((t=>{delete e.stash[t]}))})),removeSection:zi(((e,t)=>{(0,m.kG)(e.layout);const{index:i,stashIdentifier:r}=t.payload;if(r){const t=e.layout.sections[i].items;e.stash[r]=t}qi(e.layout.sections,i)})),moveSection:zi(((e,t)=>{(0,m.kG)(e.layout);const{sectionIndex:i,toIndex:r}=t.payload;!function(e,t,i){const r=qi(e,t);(0,m.kG)(r),Ki(e,i,[r])}(e.layout.sections,i,r)})),changeSectionHeader:zi(((e,t)=>{(0,m.kG)(e.layout);const{index:i,header:r}=t.payload;e.layout.sections[i].header=r})),addSectionItems:zi(((e,t)=>{(0,m.kG)(e.layout);const{sectionIndex:i,itemIndex:r,items:a,usedStashes:n}=t.payload,o=e.layout.sections[i];(0,m.kG)(o),Ki(o.items,r,a),n.forEach((t=>{delete e.stash[t]}))})),moveSectionItem:zi(((e,t)=>{(0,m.kG)(e.layout);const{sectionIndex:i,itemIndex:r,toSectionIndex:a,toItemIndex:n}=t.payload,o=e.layout.sections[i],l=e.layout.sections[a];(0,m.kG)(o),(0,m.kG)(l);const s=qi(o.items,r);(0,m.kG)(s),Ki(l.items,n,[s])})),removeSectionItem:zi(((e,t)=>{(0,m.kG)(e.layout);const{sectionIndex:i,itemIndex:r,stashIdentifier:a}=t.payload,n=e.layout.sections[i];(0,m.kG)(n);const o=qi(n.items,r);(0,m.kG)(o),a&&(e.stash[a]=[o])})),replaceSectionItem:zi(((e,t)=>{(0,m.kG)(e.layout);const{sectionIndex:i,itemIndex:r,newItems:a,stashIdentifier:n,usedStashes:o}=t.payload,l=e.layout.sections[i];(0,m.kG)(l);const s=qi(l.items,r);(0,m.kG)(s),n&&(e.stash[n]=[s]),Ki(l.items,r,a),o.forEach((t=>{void 0!==n&&t===n||delete e.stash[t]}))})),replaceWidgetHeader:zi(((e,t)=>{(0,m.kG)(e.layout);const{header:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&((0,a.isKpiWidget)(n)||(0,a.isInsightWidget)(n))),n.title=i.title??""})),replaceWidgetDescription:zi(((e,t)=>{(0,m.kG)(e.layout);const{description:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&((0,a.isKpiWidget)(n)||(0,a.isInsightWidget)(n))),n.description=i.description??""})),replaceWidgetDrillWithoutUndo:tr,replaceWidgetDrills:zi(tr),replaceWidgetBlacklistHierarchies:zi(((e,t)=>{(0,m.kG)(e.layout);const{blacklistHierarchies:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&((0,a.isKpiWidget)(n)||(0,a.isInsightWidget)(n))),n.ignoredDrillDownHierarchies=i??[]})),replaceInsightWidgetVisProperties:zi(((e,t)=>{(0,m.kG)(e.layout);const{properties:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&(0,a.isInsightWidget)(n)),$i(n,"properties",i)})),replaceInsightWidgetVisConfiguration:zi(((e,t)=>{(0,m.kG)(e.layout);const{config:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&(0,a.isInsightWidget)(n)),$i(n,"configuration",i)})),replaceInsightWidgetInsight:zi(((e,t)=>{(0,m.kG)(e.layout,"State of layout is empty");const{insightRef:i,properties:r,ref:n,header:o,newSize:l}=t.payload,s=er(e,n),d=Qi(e.layout,n);(0,m.kG)((0,a.isInsightWidget)(s),"IInsightWidget is missing in state"),r&&(s.properties=r),o?.title&&(s.title=o.title),s.insight=i,l&&d?.item&&(d.item.size.xl=function(e,t){const{width:i,height:r}=t,{heightAsRatio:a}=e;let{gridWidth:n=0,gridHeight:o}=e;return i.max&&n>i.max&&(n=i.max),i.min&&n<i.min&&(n=i.min),a||(r.max&&(o||0)>r.max&&(o=r.max),r.min&&(o||0)<r.min&&(o=r.min)),{gridWidth:n,gridHeight:o,heightAsRatio:a}}(d.item.size.xl,l))})),replaceWidgetFilterSettings:zi(((e,t)=>{(0,m.kG)(e.layout);const{ignoreDashboardFilters:i,dateDataSet:r,ref:n}=t.payload,o=er(e,n);(0,m.kG)(o&&((0,a.isInsightWidget)(o)||(0,a.isKpiWidget)(o))),o.dateDataSet=r,o.ignoreDashboardFilters=i??[]})),replaceWidgetDateDataset:zi(((e,t)=>{(0,m.kG)(e.layout);const{dateDataSet:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&((0,a.isInsightWidget)(n)||(0,a.isKpiWidget)(n))),n.dateDataSet=i})),replaceKpiWidgetMeasure:zi(((e,t)=>{(0,m.kG)(e.layout);const{ref:i,measureRef:r}=t.payload,n=er(e,i);(0,m.kG)(n&&(0,a.isKpiWidget)(n)),n.kpi.metric=r})),replaceKpiWidgetComparison:zi(((e,t)=>{(0,m.kG)(e.layout);const{ref:i,comparisonType:r,comparisonDirection:n}=t.payload,o=er(e,i);(0,m.kG)(o&&(0,a.isKpiWidget)(o)),o.kpi.comparisonType=r,o.kpi.comparisonDirection=n})),replaceKpiWidgetDrillWithoutUndo:ir,replaceKpiWidgetDrill:zi(ir),replaceKpiWidgetConfiguration:zi(((e,t)=>{(0,m.kG)(e.layout);const{config:i,ref:r}=t.payload,n=er(e,r);(0,m.kG)(n&&(0,a.isKpiWidget)(n)),$i(n,"configuration",i)})),undoLayout:(e,t)=>{const{undoDownTo:i}=t.payload,r=Wi(e),{_undo:a}=r;(0,m.kG)(i<=a.undoStack.length,`invalid undo point ${i} while the undo stack has ${a.undoStack.length} item(s)`);const n=a.undoStack.slice(i);n.reverse();const o=Gi(n,(e=>e.undoPatches)),l=(0,Ui.QE)(r,o);return(0,Ui.Uy)(l,(e=>{e._undo.undoPointer=i-1,e._undo.undoStack.length=i}))},clearLayoutHistory:Vi,changeItemsHeight:(e,t)=>{(0,m.kG)(e.layout);const{sectionIndex:i,itemIndexes:r,height:a}=t.payload,n=e.layout.sections[i];r.forEach((e=>{const t=n.items[e];if(y(t.widget))return;const i={...t.size,xl:{...t.size.xl,gridHeight:a}};t.size=i}))},changeItemWidth:(e,t)=>{(0,m.kG)(e.layout);const{sectionIndex:i,itemIndex:r,width:a}=t.payload,n=e.layout.sections[i].items[r],o={...n.size,xl:{...n.size.xl,gridWidth:a}};n.size=o}},ar=(0,Pi.oM)({name:"layout",initialState:ji,reducers:rr}),nr=ar.reducer,or=ar.actions,lr=(0,Pi.oM)({name:"loadingSlice",initialState:{loading:!1},reducers:{setLoadingStart:e=>{e.loading=!0,e.result=void 0,e.error=void 0},setLoadingSuccess:e=>{e.loading=!1,e.result=!0,e.error=void 0},setLoadingError:(e,t)=>{e.loading=!1,e.result=!1,e.error=t.payload}}}),sr=lr.reducer,dr=lr.actions,cr=(0,Pi.oM)({name:"savingSlice",initialState:{saving:!1},reducers:{setSavingStart:e=>{e.saving=!0,e.result=void 0,e.error=void 0},setSavingSuccess:e=>{e.saving=!1,e.result=!0,e.error=void 0},setSavingError:(e,t)=>{e.saving=!1,e.result=!1,e.error=t.payload}}}),ur=cr.reducer,gr=cr.actions,mr=(0,Pi.HF)({selectId:e=>(0,a.serializeObjRef)((0,a.insightRef)(e))}),pr=(0,Pi.oM)({name:"insights",initialState:mr.getInitialState(),reducers:{setInsights:mr.setAll,addInsights:mr.addMany,upsertInsight:mr.upsertOne}}),hr=pr.reducer,fr=pr.actions;function br(e){return(0,X.gz)(e)}var Dr=i(20434),vr=i(82315);const Er={ref:(0,a.idRef)("defaultDateFilterProjectConfig"),selectedOption:"THIS_MONTH",allTime:vr.DateFilterHelpers.defaultDateFilterOptions.allTime,absoluteForm:vr.DateFilterHelpers.defaultDateFilterOptions.absoluteForm,relativeForm:{type:"relativeForm",availableGranularities:["GDC.time.month","GDC.time.date","GDC.time.quarter","GDC.time.year"],localIdentifier:vr.DateFilterHelpers.defaultDateFilterOptions.relativeForm.localIdentifier,name:vr.DateFilterHelpers.defaultDateFilterOptions.relativeForm.name,visible:!0},relativePresets:Object.keys(vr.DateFilterHelpers.defaultDateFilterOptions.relativePreset).reduce(((e,t)=>{const i=vr.DateFilterHelpers.defaultDateFilterOptions.relativePreset[t];return e.push(...i),e}),[]),absolutePresets:[]};var yr=i(7739),Ir=i(64721);const Cr=e=>e!==a.DateGranularity.week,Sr=e=>e.granularity!==a.DateGranularity.week;function Tr(e){return e?.visible??!1}function wr(e){return e?.some(Tr)??!1}function Ar(e,t=!0){if(!function(e){return Tr(e.allTime)||Tr(e.absoluteForm)||function(e){return Tr(e)&&!p(e?.availableGranularities??[])}(e.relativeForm)||wr(e.absolutePresets)||wr(e.relativePresets)}(e))return"NoVisibleOptions";const i=function(e){return[e.allTime,e.absoluteForm,e.relativeForm,...e.absolutePresets||[],...e.relativePresets||[]].filter((e=>void 0!==e))}(e),r=function(e){const t=yr(e,(e=>e.localIdentifier)),i=Object.keys(t).filter((e=>t[e].length>1));return i.length&&console.warn(`There were duplicate localIdentifiers in the date filter config: ${i.join(",")}`),i}(i);return r.length?"ConflictingIdentifiers":!t||function(e){const t=[e.allTime,...e.absolutePresets||[],...e.relativePresets||[]].find((t=>t?.localIdentifier===e.selectedOption));return!!t&&t.visible}(e)?"Valid":"SelectedOptionInvalid"}const Pr=["ConflictingIdentifiers","NoVisibleOptions"];function Rr(e){const{userId:t,locale:i,separators:r,workspace:a,...n}=e;return n}const Fr={setDateFilterConfig:(e,t)=>{const{dateFilterConfig:i,effectiveDateFilterConfig:r,isUsingDashboardOverrides:a}=t.payload;e.dateFilterConfig=i,e.effectiveDateFilterConfig=r,e.isUsingDashboardOverrides=a},setDateFilterConfigMode:(e,t)=>{const i=t.payload,r=p(e.dateFilterConfig)?{mode:i,filterName:""}:{...e.dateFilterConfig,mode:i};e.dateFilterConfig=r},setDateFilterConfigTitle:(e,t)=>{const i=t.payload??"",r=p(e.dateFilterConfig)?{mode:"active",filterName:i}:{...e.dateFilterConfig,filterName:i};e.dateFilterConfig=r},updateDateFilterConfig:(e,t)=>{e.dateFilterConfig=t.payload},addDateFilterConfigValidationWarning:(e,t)=>{e.dateFilterConfigValidationWarnings||(e.dateFilterConfigValidationWarnings=[]),e.dateFilterConfigValidationWarnings.push(t.payload)},clearDateFilterConfigValidationWarning:e=>{e.dateFilterConfigValidationWarnings=[]}},kr=(0,Pi.oM)({name:"dateFilterConfig",initialState:{dateFilterConfig:void 0,effectiveDateFilterConfig:void 0,isUsingDashboardOverrides:void 0,dateFilterConfigValidationWarnings:void 0},reducers:Fr}),xr=kr.reducer,Lr=kr.actions;var Mr=i(3674);const Or=["dateFilterConfig","locale","separators","colorPalette","settings"],Nr={},_r=e=>((0,m.kG)(e,"cannot sanitize undefined settings"),{...e,...Nr});function*Hr(e,t,i){yield br(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.VALIDATION.FAILED",ctx:e,correlationId:i,payload:{result:t}}}(e,t,i)),yield(0,X.gz)(Lr.addDateFilterConfigValidationWarning(t))}function Ur(e){const{backend:t,workspace:i}=e;return t.workspace(i).dateFilterConfigs().withLimit(1).query().catch((e=>{console.log("An error has occurred while loading date filter config. Will fall back to default date filter config.",e)}))}function*Gr(e,t,i){if(void 0!==t.dateFilterConfig)return t.dateFilterConfig;const r=yield(0,X.RE)(Ur,e);(r?.totalCount??0)>1&&(yield(0,X.RE)(Hr,e,"TOO_MANY_CONFIGS",i.correlationId));const a=r?.items[0];return a||(yield(0,X.RE)(Hr,e,"NO_CONFIG",i.correlationId)),r?.items[0]??Er}function Br(e,t){return t.settings&&t.locale&&t.separators?Promise.resolve({locale:t.locale,separators:t.separators,settings:t.settings}):function(e){const{backend:t,workspace:i}=e;return t.workspace(i).settings().getSettingsForCurrentUser()}(e).then((e=>({locale:t.locale??(0,Z.resolveLocale)(e.locale),separators:t.separators??e.separators,settings:t.settings??Rr(e)})))}function Wr(e,t){return t.colorPalette?Promise.resolve(t.colorPalette):function(e){const{backend:t,workspace:i}=e;return t.workspace(i).styling().getColorPalette()}(e)}function*zr(e,t){const{payload:{config:i={}}}=t;if(yield(0,X.gz)(Lr.clearDateFilterConfigValidationWarning()),function(e){if(!e)return!1;const t=Mr(e);return Or.every((e=>Ir(t,e)))}(i))return i.allowUnfinishedFeatures||!i.settings?Vr(i):{...Vr(i),settings:_r(i.settings)};const[r,a,n]=yield(0,X.$6)([(0,X.RE)(Gr,e,i,t),(0,X.RE)(Br,e,i),(0,X.RE)(Wr,e,i)]),[o,l]=function(e,t){const i=Ar(e),r=Ir(Pr,i)?Er:e,a=t.enableWeekFilters?r:function(e){const{relativeForm:t,relativePresets:i}=e,r=t?{relativeForm:{...t,availableGranularities:t?.availableGranularities?.filter(Cr)??[]}}:{};return{...e,...r,relativePresets:i?.filter(Sr)}}(r);return[a,i]}(r,a.settings);"Valid"!==l&&(yield(0,X.RE)(Hr,e,l,t.correlationId));const s=Vr(i);return{...s,locale:a.locale,separators:a.separators,dateFilterConfig:o,settings:s.allowUnfinishedFeatures?a.settings:_r(a.settings),colorPalette:n,mapboxToken:i.mapboxToken}}function Vr(e){return{...e,objectAvailability:e.objectAvailability??{},isReadOnly:e.isReadOnly??!1,isEmbedded:e.isEmbedded??!1,isExport:e.isExport??!1,isWhiteLabeled:e.isWhiteLabeled??!1,disableDefaultDrills:e.disableDefaultDrills??!1,enableFilterValuesResolutionInDrillEvents:e.enableFilterValuesResolutionInDrillEvents??!1,menuButtonItemsVisibility:e.menuButtonItemsVisibility??{},allowUnfinishedFeatures:e.allowUnfinishedFeatures??!1,allowCreateInsightRequest:e.allowCreateInsightRequest??!1,initialRenderMode:e.initialRenderMode??"view",hideSaveAsNewButton:e.hideSaveAsNewButton??!1,hideShareButton:e.hideShareButton??!1,widgetsOverlay:e.widgetsOverlay??{}}}const jr=(0,Pi.oM)({name:"config",initialState:{config:void 0},reducers:{setConfig:(e,t)=>{e.config=t.payload}}}),Kr=jr.reducer,qr=jr.actions,Yr=(0,Pi.oM)({name:"entitlements",initialState:{entitlements:void 0},reducers:{setEntitlements:(e,t)=>{e.entitlements=t.payload}}}),Zr=Yr.reducer,$r=Yr.actions;var Xr=i(59242),Qr=i(45578),Jr=i(67266);const ea=(e,t)=>e>t?e:t,ta=e=>{return{...e,from:(t=e.from,i=e.to,t<=i?t:i),to:ea(e.from,e.to)};var t,i},ia=(e,t)=>{const i=[...e||[],...t||[]].map(ta);return Qr(i,Jr)},ra=e=>t=>{if(!e.addPresets)return t;const i=ia(t?.absolutePresets??[],e.addPresets?.absolutePresets??[]),r=ia(t?.relativePresets??[],e.addPresets?.relativePresets??[]);return{...t,...i.length?{absolutePresets:i}:null,...r.length?{relativePresets:r}:null}},aa=e=>t=>i=>{const r=i[e];return r&&r.visible&&t.hideOptions&&t.hideOptions?.includes(r.localIdentifier)?{...i,[e]:{...i[e],visible:!1}}:i},na=aa("allTime"),oa=aa("absoluteForm"),la=aa("relativeForm"),sa=e=>t=>{if(!t.absolutePresets?.length||!e.hideOptions)return t;const i=t.absolutePresets.map((t=>e.hideOptions?.includes(t.localIdentifier)?{...t,visible:!1}:t));return{...t,absolutePresets:i}},da=e=>t=>{const i=e.hideOptions||e.hideGranularities;if(!t.relativePresets?.length||!i)return t;const r=t.relativePresets.map((t=>((e,t)=>{const i=t.hideGranularities?.includes(e.granularity),r=t.hideOptions?.includes(e.localIdentifier);return i||r||!1})(t,e)?{...t,visible:!1}:t));return{...t,relativePresets:r}},ca=e=>t=>{if(!t.relativeForm?.visible||!e.hideGranularities)return t;const i=t.relativeForm.availableGranularities.filter((t=>!e.hideGranularities?.includes(t))),{relativeForm:r,...a}=t;return i.length>0?{...t,relativeForm:{...r,availableGranularities:i}}:a};function*ua(e,t,i,r){if(!r)return{config:i,source:"workspace"};const a=function(e,t){return Xr(ra(t),na(t),oa(t),la(t),ca(t),sa(t),da(t))(e)}(i,r),n=Ar(a,!1);return"Valid"!==n?(yield(0,X.RE)(Hr,e,n,t.correlationId),{config:i,source:"workspace"}):{config:a,source:"dashboard"}}function ga(e){const{backend:t,workspace:i}=e;return t.workspace(i).permissions().getPermissionsForCurrentUser()}function*ma(e,t){const{permissions:i}=t.payload;return i||(yield(0,X.RE)(ga,e))}const pa=(0,Pi.oM)({name:"permissions",initialState:{permissions:void 0},reducers:{setPermissions:(e,t)=>{e.permissions=t.payload}}}),ha=pa.reducer,fa=pa.actions,ba=["GDC.time.day_in_week","GDC.time.day_in_month","GDC.time.day_in_quarter","GDC.time.day_in_year","GDC.time.week_in_quarter","GDC.time.week_in_year","GDC.time.month_in_quarter","GDC.time.month_in_year","GDC.time.quarter_in_year"];function Da(e,t){const{backend:i,workspace:r}=e,n=t.payload.config?.objectAvailability,o=i.capabilities.supportsKpiWidget?["fact","measure"]:[],l={excludeTags:(n?.excludeObjectsWithTags??[]).map((e=>(0,a.idRef)(e))),includeTags:(n?.includeObjectsWithTags??[]).map((e=>(0,a.idRef)(e))),types:["attribute",...o,"dateDataset","attributeHierarchy"],includeDateGranularities:ba,loadGroups:!1};return i.workspace(r).catalog().withOptions(l).load()}function va(e){const{backend:t,workspace:i,dashboardRef:r}=e;return t.capabilities.supportsKpiWidget?t.workspace(i).dashboards().getDashboardWidgetAlertsForCurrentUser(r):Promise.resolve([])}const Ea=(0,Pi.oM)({name:"catalog",initialState:{attributes:void 0,measures:void 0,dateDatasets:void 0,facts:void 0,attributeHierarchies:void 0,dateHierarchyTemplates:void 0},reducers:{setCatalogItems:(e,t)=>{const{attributes:i,measures:r,dateDatasets:a,facts:n,attributeHierarchies:o,dateHierarchyTemplates:l}=t.payload;e.attributes=i,e.measures=r,e.facts=n,e.dateDatasets=a,e.attributeHierarchies=o,e.dateHierarchyTemplates=l},addAttributeHierarchy:(e,t)=>{const i=t.payload;e.attributeHierarchies=[...e.attributeHierarchies??[],i]},updateAttributeHierarchy:(e,t)=>{const i=t.payload,r=e.attributeHierarchies?.findIndex((e=>e.attributeHierarchy.id===i.attributeHierarchy.id))??-1;r>=0&&(e.attributeHierarchies=[...e.attributeHierarchies??[]],e.attributeHierarchies.splice(r,1,i))},deleteAttributeHierarchy:(e,t)=>{const i=t.payload;e.attributeHierarchies=e.attributeHierarchies?.filter((e=>e.attributeHierarchy.id!==i.attributeHierarchy.id))}}}),ya=Ea.reducer,Ia=Ea.actions,Ca=(0,Pi.HF)({selectId:e=>(0,a.objRefToString)(e.ref)}),Sa=(0,Pi.oM)({name:"alerts",initialState:Ca.getInitialState(),reducers:{setAlerts:Ca.setAll,addAlert:Ca.addOne,updateAlert:Ca.updateOne,removeAlert:Ca.removeOne,removeAlerts:Ca.removeMany}}),Ta=Sa.reducer,wa=Sa.actions;function Aa(e){const{backend:t}=e;return t.currentUser().getUser()}const Pa=(0,Pi.oM)({name:"user",initialState:{user:void 0},reducers:{setUser:(e,t)=>{e.user=t.payload}}}),Ra=Pa.reducer,Fa=Pa.actions;var ka=i(39693),xa=i(8804),La=i(10928),Ma=i(18446);const Oa=e=>xa((e?.drillContext?.intersection||[]).map((e=>e.header)).filter(a.isMeasureDescriptor).map(Z.getMappingHeaderLocalIdentifier));function Na(e,t){return e&&t?(i=e,r=function(e){const t=function(e){return(e?.drillContext?.intersection||[]).map((e=>e.header)).map(Z.getMappingHeaderLocalIdentifier)}(e);return"table"===e.drillContext.type?[Oa(e)||La(t)]:t}(t),i.filter((e=>(0,a.isDrillToLegacyDashboard)(e)||(0,a.isCrossFiltering)(e)||r.includes(_a(e))))):[];var i,r}function _a(e){const{origin:t}=e;if((0,a.isLocalIdRef)(t))return t.localIdentifier;if((0,a.isDrillFromMeasure)(t))return Ha(t.measure);if((0,a.isDrillFromAttribute)(t))return Ha(t.attribute);throw new Error("InsightDrillDefinition has invalid drill origin")}function Ha(e){if((0,a.isLocalIdRef)(e))return e.localIdentifier;throw new Error("Invalid ObjRef invariant expecting LocalIdRef")}function Ua(e,t){return!(0,a.isDrillToLegacyDashboard)(e)&&t.some((t=>!(0,a.isDrillToLegacyDashboard)(t)&&Ma(e,t)))}function Ga(e,t){const i=(e.measures??[]).find((e=>e.measure.measureHeaderItem.localIdentifier===t));if(i)return i.attributes;const r=(e.attributes??[]).find((e=>e.attribute.attributeHeader.localIdentifier===t));return r?.intersectionAttributes??[]}const Ba={openScheduleEmailDialog:e=>{e.scheduleEmailDialog.open=!0},closeScheduleEmailDialog:e=>{e.scheduleEmailDialog.open=!1},setScheduleEmailDialogDefaultAttachment:(e,t)=>{e.scheduleEmailDialog.defaultAttachmentRef=t.payload},resetScheduleEmailDialogDefaultAttachment:e=>{e.scheduleEmailDialog.defaultAttachmentRef=void 0},openScheduleEmailManagementDialog:e=>{e.scheduleEmailManagementDialog.open=!0},closeScheduleEmailManagementDialog:e=>{e.scheduleEmailManagementDialog.open=!1},openSaveAsDialog:e=>{e.saveAsDialog.open=!0},closeSaveAsDialog:e=>{e.saveAsDialog.open=!1},setFilterBarExpanded:(e,t)=>{e.filterBar.expanded=t.payload},closeKpiAlertDialog:e=>{e.kpiAlerts.openedWidgetRef=void 0},openKpiAlertDialog:(e,t)=>{e.kpiAlerts.openedWidgetRef=t.payload},highlightKpiAlert:(e,t)=>{e.kpiAlerts.highlightedWidgetRef=t.payload},openShareDialog:e=>{e.shareDialog.open=!0},closeShareDialog:e=>{e.shareDialog.open=!1},openDeleteDialog:e=>{e.deleteDialog.open=!0},closeDeleteDialog:e=>{e.deleteDialog.open=!1},openKpiDeleteDialog:(e,t)=>{e.kpiDeleteDialog.widgetCoordinates=t.payload},closeKpiDeleteDialog:e=>{e.kpiDeleteDialog.widgetCoordinates=void 0},setMenuButtonItemsVisibility:(e,t)=>{e.menuButton.itemsVisibility=t.payload},selectWidget:(e,t)=>{e.selectedWidgetRef=t.payload},clearWidgetSelection:e=>{e.selectedWidgetRef=void 0},setConfigurationPanelOpened:(e,t)=>{e.configurationPanelOpened=t.payload},setWidgetDateDatasetAutoSelect:(e,t)=>{e.widgetDateDatasetAutoSelect=t.payload},requestInsightListUpdate:e=>{e.insightListLastUpdateRequested=+new Date},setWidgetLoadingAdditionalDataStarted:(e,t)=>{e.widgetsLoadingAdditionalData.push(t.payload)},setWidgetLoadingAdditionalDataStopped:(e,t)=>{e.widgetsLoadingAdditionalData=e.widgetsLoadingAdditionalData.filter((e=>!(0,a.areObjRefsEqual)(e,t.payload)))},setFilterAttributeSelectionOpen:(e,t)=>{e.filterAttributeSelectionOpen=t.payload},selectFilterIndex:(e,t)=>{e.selectedFilterIndex=t.payload},clearFilterIndexSelection:e=>{e.selectedFilterIndex=void 0},setActiveSectionIndex:(e,t)=>{e.activeSectionIndex=t.payload},clearActiveSectionIndex:e=>{e.activeSectionIndex=void 0},openCancelEditModeDialog:e=>{e.cancelEditModeDialog.open=!0},closeCancelEditModeDialog:e=>{e.cancelEditModeDialog.open=!1},resetInvalidDrillWidgetRefs:e=>{e.drillValidationMessages.invalidDrillWidgetRefs=[]},resetAllInvalidCustomUrlDrillParameterWidgets:e=>{e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets=[]},resetAllInvalidCustomUrlDrillParameterWidgetsWarnings:e=>{e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets=e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.map((e=>({...e,showMessage:!1})))},addInvalidDrillWidgetRefs:(e,t)=>{t.payload.forEach((t=>{e.drillValidationMessages.invalidDrillWidgetRefs.some((e=>(0,a.areObjRefsEqual)(e,t)))||e.drillValidationMessages.invalidDrillWidgetRefs.push(t)}))},setInvalidCustomUrlDrillParameterWidgets:(e,t)=>{t.payload.forEach((t=>{const i=e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.findIndex((e=>e.widgetId===(0,a.widgetId)(t.widget))),r={drillsWithInvalidParametersLocalIds:t.invalidDrills.map(_a),widgetId:(0,a.widgetId)(t.widget),widgetRef:(0,a.widgetRef)(t.widget),widgetUri:(0,a.widgetUri)(t.widget),showMessage:!0};i>=0?e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets[i]=r:e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.push(r)}))},removeInvalidDrillWidgetRefs:(e,t)=>{e.drillValidationMessages.invalidDrillWidgetRefs=e.drillValidationMessages.invalidDrillWidgetRefs.filter((e=>!t.payload.some((t=>(0,a.areObjRefsEqual)(t,e)))))},resetInvalidCustomUrlDrillParameterWidget:(e,t)=>{t.payload.forEach((t=>{const i=e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.findIndex((e=>e.widgetId===(0,a.widgetId)(t)));i>=0&&e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.splice(i,1)}))},setDraggingWidgetSource:(e,t)=>{e.draggingWidgetSource=t.payload},clearDraggingWidgetSource:e=>{e.draggingWidgetSource=void 0},setDraggingWidgetTarget:(e,t)=>{e.draggingWidgetTarget=t.payload,e.activeSectionIndex=t.payload.sectionIndex},clearDraggingWidgetTarget:e=>{e.draggingWidgetTarget=void 0,e.activeSectionIndex=void 0},toggleWidgetsOverlay:(e,t)=>{const{visible:i,refs:r}=t.payload;r.forEach((t=>{if(!t)return;const r=(0,a.objRefToString)(t);(e.widgetsOverlay[r]=e.widgetsOverlay[r]||{showOverlay:i}).showOverlay=i}))},setWidgetsOverlay:(e,t)=>{e.widgetsOverlay=t.payload},hideAllWidgetsOverlay:e=>{e.widgetsOverlay=Object.keys(e.widgetsOverlay).reduce(((t,i)=>({...t,[i]:{...e.widgetsOverlay[i],showOverlay:!1}})),{})}},Wa=(0,Pi.oM)({name:"uiSlice",initialState:{scheduleEmailManagementDialog:{open:!1},scheduleEmailDialog:{open:!1,defaultAttachmentRef:void 0},saveAsDialog:{open:!1},shareDialog:{open:!1},deleteDialog:{open:!1},kpiDeleteDialog:{widgetCoordinates:void 0},cancelEditModeDialog:{open:!1},filterBar:{expanded:!1},kpiAlerts:{highlightedWidgetRef:void 0,openedWidgetRef:void 0},menuButton:{itemsVisibility:{}},selectedWidgetRef:void 0,configurationPanelOpened:!0,widgetDateDatasetAutoSelect:!1,insightListLastUpdateRequested:0,widgetsLoadingAdditionalData:[],filterAttributeSelectionOpen:!1,selectedFilterIndex:void 0,activeSectionIndex:void 0,drillValidationMessages:{invalidDrillWidgetRefs:[],invalidCustomUrlDrillParameterWidgets:[]},draggingWidgetSource:void 0,draggingWidgetTarget:void 0,widgetsOverlay:{}},reducers:Ba}),za=Wa.reducer,Va=Wa.actions,ja=(0,Pi.oM)({name:"renderModeSlice",initialState:{renderMode:"view"},reducers:{setRenderMode:(e,t)=>{e.renderMode=t.payload},setEditRenderMode:e=>{e.renderMode="edit"},setViewRenderMode:e=>{e.renderMode="view"}}}),Ka=ja.reducer,qa=ja.actions;function Ya(e){const{backend:t,workspace:i}=e;return t.workspace(i).dashboards().getDashboards()}const Za=(0,Pi.HF)({selectId:e=>(0,a.objRefToString)(e.ref)}),$a=(0,Pi.oM)({name:"listedDashboards",initialState:Za.getInitialState(),reducers:{setListedDashboards:Za.setAll,addListedDashboard:Za.upsertOne}}),Xa=$a.reducer,Qa=$a.actions,Ja=(0,Pi.oM)({name:"backendCapabilities",initialState:{backendCapabilities:void 0},reducers:{setBackendCapabilities:(e,t)=>{e.backendCapabilities=t.payload}}}),en=Ja.reducer,tn=Ja.actions;var rn=i(69898),an=i(53632),nn=i(6162),on=i(15616),ln=i(94749),sn=i(84308);const dn="yyyy-MM-dd";function cn(e){const t=function(e){return e&&{...e,type:"allTime"}}(e.allTime),i=function(e){return e&&{...e,from:on(ln(sn(new Date,1)),dn),to:on(ln(new Date),dn),type:"absoluteForm"}}(e.absoluteForm),r=function(e){return e&&{from:void 0,granularity:e.availableGranularities[0],localIdentifier:e.localIdentifier,name:e.name,to:void 0,type:"relativeForm",visible:e.visible}}(e.relativeForm),a=(n=e.absolutePresets,n?.map((e=>un({...e,type:"absolutePreset"}))));var n;const o=function(e){return e&&yr(e.map((e=>un({...e,type:"relativePreset"}))),(e=>e.granularity))}(e.relativePresets);return function(e){const{absoluteForm:t,absolutePreset:i,allTime:r,relativeForm:a,relativePreset:n}=e;return{...r&&{allTime:r},...t&&{absoluteForm:t},...!p(i)&&{absolutePreset:i},...a&&{relativeForm:a},...!p(n)&&{relativePreset:n}}}({allTime:t,absoluteForm:i,absolutePreset:a,relativeForm:r,relativePreset:o})}function un(e){return{...e,from:an([e.from,e.to]),to:nn([e.from,e.to])}}var gn=i(85564);const mn={localIdentifier:"GDC__VIRTUAL_PRESET",name:"",visible:!1},pn=e=>e&&(0,a.isAllTimeDashboardDateFilter)(e);function hn(e){const t=gn(n(e.relativePreset));return ka([e.allTime,...e.absolutePreset||[],...t,e.absoluteForm,e.relativeForm])}function fn(e,t){switch(t.dateFilter.type){case"absolute":return Dn(e.absoluteForm);case"relative":return Dn(e.relativeForm);default:throw new Error("Unknown dateFilterValue type")}}function bn(e,t){return"absolute"===t.dateFilter.type?{dateFilterOption:{...e.absoluteForm,from:t.dateFilter.from.toString(),to:t.dateFilter.to.toString(),type:"absoluteForm"},excludeCurrentPeriod:!1}:{dateFilterOption:{...e.relativeForm,from:Number.parseInt(t.dateFilter.from.toString(),10),to:Number.parseInt(t.dateFilter.to.toString(),10),granularity:t.dateFilter.granularity,type:"relativeForm"},excludeCurrentPeriod:!1}}function Dn(e){return!!e?.visible}function vn(e,t){return hn(t).find(En(e))}const En=e=>t=>{if(!t)return!1;const i=e.dateFilter;return(0,vr.isAbsoluteDateFilterOption)(t)?"absolute"===i.type&&t.from===i.from&&t.to===i.to:!!(0,vr.isRelativeDateFilterOption)(t)&&"relative"===i.type&&void 0!==t.from&&t.from.toString()===i.from?.toString()&&void 0!==t.to&&t.to.toString()===i.to?.toString()&&t.granularity===i.granularity};function yn(e){if(!e)return{dateFilterOption:{...mn,type:"allTime"},excludeCurrentPeriod:!1};const{type:t,from:i,to:r,granularity:a}=e.dateFilter;return"absolute"===t?{dateFilterOption:{...mn,from:i.toString(),to:r.toString(),type:"absolutePreset"},excludeCurrentPeriod:!1}:{dateFilterOption:{...mn,from:Number.parseInt(i.toString(),10),to:Number.parseInt(r.toString(),10),granularity:a,type:"relativePreset"},excludeCurrentPeriod:!1}}function In(e,t=!0){const i=function(e,t){const i=function(e,t){const{selectedOption:i}=e,r=hn(cn(e));if(t){const e=r.find((e=>e.localIdentifier===i));if(e&&e.visible&&((0,a.isAllTimeDateFilterOption)(e)||(0,a.isAbsoluteDateFilterPreset)(e)||(0,a.isRelativeDateFilterPreset)(e)))return e}return r.find((e=>e.visible))}(e,t);if(i)return function(e){if(!(0,a.isAllTimeDateFilterOption)(e)){if((0,vr.isAbsoluteDateFilterOption)(e))return{dateFilter:{type:"absolute",granularity:"GDC.time.date",from:e.from,to:e.to}};if((0,vr.isRelativeDateFilterOption)(e))return{dateFilter:{type:"relative",granularity:e.granularity??"GDC.time.date",from:e.from,to:e.to}};throw new m.ej("Unexpected option type when converting date filter option to filter.")}}(i)}(e,t);return{title:"filterContext",description:"",filters:i?[i]:[]}}const Cn={title:"",description:"",shareStatus:"private"},Sn={descriptor:Cn,persistedDashboard:void 0},Tn={setMeta:(e,t)=>{const{dashboard:i}=t.payload;e.persistedDashboard=i,e.descriptor=i?{title:i.title,description:i.description,tags:i.tags,shareStatus:i.shareStatus,isUnderStrictControl:i.isUnderStrictControl,isLocked:i.isLocked,disableCrossFiltering:i.disableCrossFiltering}:{...Cn}},setDashboardTitle:(e,t)=>{(0,m.kG)(e.descriptor),e.descriptor.title=t.payload},setDisableCrossFiltering:(e,t)=>{(0,m.kG)(e.descriptor),e.descriptor.disableCrossFiltering=t.payload}},wn=(0,Pi.oM)({name:"meta",initialState:Sn,reducers:Tn}),An=wn.reducer,Pn=wn.actions;function Rn(e){const{filterContext:t}=e;if(t&&!(0,a.isTempFilterContext)(t)&&t.ref)return{ref:t.ref,uri:t.uri,identifier:t.identifier}}function Fn(e){const t=e.filters,i=t.filter(a.isDashboardAttributeFilter).map((e=>e.attributeFilter.localIdentifier)),r=t.map((e=>{if(!(0,a.isDashboardAttributeFilter)(e)||!e.attributeFilter.filterElementsBy)return e;const t=e.attributeFilter.filterElementsBy.filter((e=>-1!==i.indexOf(e.filterLocalIdentifier)));return{attributeFilter:{...e.attributeFilter,filterElementsBy:t}}}));return{...e,filters:r}}var kn=i(24350),xn=i(50149),Ln=i(74691),Mn=i(14293),On=i(59854);const Nn=12;var _n=i(91966),Hn=i(1469),Un=i(6557);class Gn{sectionFacade;item;itemIndex;constructor(e,t,i){this.sectionFacade=e,this.item=t,this.itemIndex=i}static for(e,t,i){return new Gn(e,t,i)}raw(){return this.item}section(){return this.sectionFacade}index(){return this.itemIndex}indexIs(e){return this.index()===e}isFirst(){return this.indexIs(0)}isLast(){return this.indexIs(this.sectionFacade.items().count()-1)}widget(){return this.item.widget}ref(){if((0,a.isObjRef)(this.item.widget))return this.item.widget}widgetEquals(e){return Ma(this.widget(),e)}widgetIs(e){return this.widget()===e}isEmpty(){return Mn(this.widget())}size(){return this.item.size}sizeForScreen(e){return this.size()[e]}hasSizeForScreen(e){return!Mn(this.sizeForScreen(e))}testRaw(e){return e(this.raw())}test(e){return e(this)}isWidgetItem(){return(0,a.isWidget)(this.widget())}isWidgetDefinitionItem(){return(0,a.isWidgetDefinition)(this.widget())}isKpiWidgetItem(){return(0,a.isKpiWidget)(this.widget())}isKpiWidgetDefinitionItem(){return(0,a.isKpiWidgetDefinition)(this.widget())}isInsightWidgetItem(){return(0,a.isInsightWidget)(this.widget())}isInsightWidgetDefinitionItem(){return(0,a.isInsightWidgetDefinition)(this.widget())}isLayoutItem(){return(0,a.isDashboardLayout)(this.widget())}isCustomItem(){return!(0,a.isDashboardLayoutItem)(this.widget())}isWidgetItemWithRef(e){return!!this.isWidgetItem()&&(0,a.areObjRefsEqual)(this.item.widget?.ref,e)}isWidgetItemWithInsightRef(e){return!(!this.isInsightWidgetItem()&&!this.isInsightWidgetDefinitionItem())&&(0,a.areObjRefsEqual)(this.item.widget?.insight,e)}isWidgetItemWithKpiRef(e){return!(!this.isKpiWidgetItem()&&!this.isKpiWidgetDefinitionItem())&&(0,a.areObjRefsEqual)(this.item.widget?.ref,e)}}class Bn{itemFacades;constructor(e){this.itemFacades=e}static for(e,t){const i=t.map(((t,i)=>Gn.for(e,t,i)));return new Bn(i)}raw(){return this.itemFacades.map((e=>e.raw()))}item(e){return this.itemFacades[e]}all(){return this.itemFacades}asGridRows(e){const t=[];let i=0,r=[];return this.itemFacades.forEach((a=>{const n=a.sizeForScreen(e);(0,m.kG)(n,`Item size for ${e} screen is not defined.`),i+n.gridWidth>Nn&&(t.push(r),r=[],i=0),r.push(a),i+=n.gridWidth})),r.length>0&&t.push(r),t}flatMap(e){return Gi(this.itemFacades,e)}count(){return this.itemFacades.length}map(e){return this.itemFacades.map(e)}reduce(e,t){return this.itemFacades.reduce(e,t)}every(e){return this.itemFacades.every(e)}some(e){return this.itemFacades.some(e)}find(e){return this.itemFacades.find(e)}filter(e){return this.itemFacades.filter(e)}}class Wn{layoutFacade;section;sectionIndex;constructor(e,t,i){this.layoutFacade=e,this.section=t,this.sectionIndex=i}static for(e,t,i){return new Wn(e,t,i)}raw(){return this.section}header(){return this.section.header}title(){return this.header()?.title}description(){return this.header()?.description}index(){return this.sectionIndex}isFirst(){return this.indexIs(0)}isLast(){return this.indexIs(this.layoutFacade.sections().count()-1)}testRaw(e){return e(this.raw())}test(e){return e(this)}indexIs(e){return this.index()===e}headerEquals(e){return Ma(this.header(),e)}hasHeader(){return!Mn(this.header())}hasTitle(){return!Mn(this.title())}hasDescription(){return!Mn(this.description())}titleEquals(e){return Ma(this.title(),e)}descriptionEquals(e){return Ma(this.description(),e)}isEmpty(){return 0===this.items().count()}items(){return Bn.for(this,this.section.items)}item(e){const t=this.section.items[e];if(t)return Gn.for(this,t,e)}layout(){return this.layoutFacade}}class zn{layoutFacade;sectionFacades;constructor(e,t){this.layoutFacade=e,this.sectionFacades=t}static for(e,t){const i=t.map(((t,i)=>Wn.for(e,t,i)));return new zn(e,i)}raw(){return this.sectionFacades.map((e=>e.raw()))}all(){return this.sectionFacades}section(e){return this.sectionFacades[e]}flatMap(e){return Gi(this.sectionFacades,e)}count(){return this.sectionFacades.length}map(e){return this.sectionFacades.map(e)}reduce(e,t){return this.sectionFacades.reduce(e,t)}every(e){return this.sectionFacades.every(e)}some(e){return this.sectionFacades.some(e)}find(e){return this.sectionFacades.find(e)}filter(e){return this.sectionFacades.filter(e)}}class Vn{layout;sectionsCache;constructor(e){this.layout=e}static for(e){return(0,m.kG)((0,a.isDashboardLayout)(e),"Provided data must be IDashboardLayout."),new Vn(e)}sections(){return void 0===this.sectionsCache&&(this.sectionsCache=zn.for(this,this.layout.sections)),this.sectionsCache}section(e){return this.sections().section(e)}size(){return this.layout.size}raw(){return this.layout}}class jn{item;validator;constructor(e,t){this.item=e,this.validator=t}build(){return this.item}modify(e){return this.item=e(this).build(),this}validate(){if("function"!=typeof this.validator)throw new Error("Validator was not provided!");return this.validator(this.item),this}}const Kn=(e,t)=>e instanceof Function?e(t):e;var qn=i(85599);class Yn extends jn{setWidget=e=>(this.item=e(this.item),this);setWidgetProp=(e,t)=>(this.setWidget((i=>({...i,[e]:Kn(t,i[e])}))),this);title=e=>this.setWidgetProp("title",e);description=e=>this.setWidgetProp("description",e);ignoreDashboardFilters=e=>this.setWidgetProp("ignoreDashboardFilters",e);dateDataSet=e=>this.setWidgetProp("dateDataSet",e);ref=e=>this.setWidgetProp("ref",e);id=e=>this.setWidgetProp("identifier",e);uri=e=>this.setWidgetProp("uri",e)}class Zn extends Yn{item;validator;constructor(e,t){super(e,t),this.item=e,this.validator=t}static for(e){return(0,qn.kG)((0,a.isInsightWidgetDefinition)(e)||(0,a.isInsightWidget)(e),"Provided data must be IInsightWidget or IInsightWidgetDefinition!"),new Zn(e)}static forNew(e){const t={description:"",drills:[],ignoreDashboardFilters:[],ignoredDrillDownHierarchies:[],title:"",type:"insight",insight:e};return Zn.for(t)}drills=e=>this.setWidgetProp("drills",e);insight=e=>this.setWidgetProp("insight",e);properties=e=>this.setWidgetProp("properties",e)}class $n extends Yn{item;validator;constructor(e,t){super(e,t),this.item=e,this.validator=t}static for(e){return(0,qn.kG)((0,a.isKpiWidgetDefinition)(e)||(0,a.isKpiWidget)(e),"Provided data must be IKpiWidget or IKpiWidgetDefinition!"),new $n(e)}static forNew(e){const t={description:"",drills:[],ignoreDashboardFilters:[],title:"",type:"kpi",kpi:{metric:e,comparisonType:"none"}};return $n.for(t)}setKpiWidgetProp=(e,t)=>(this.setWidget((i=>({...i,kpi:{...i.kpi,[e]:Kn(t,i.kpi[e])}}))),this);drills=e=>this.setWidgetProp("drills",e);measure=e=>this.setKpiWidgetProp("metric",e);comparisonType=e=>this.setKpiWidgetProp("comparisonType",e);comparisonDirection=e=>this.setKpiWidgetProp("comparisonDirection",e)}class Xn{setSection;getItemFacade;itemIndex;constructor(e,t,i){this.setSection=e,this.getItemFacade=t,this.itemIndex=i}static for(e,t){return(0,m.kG)((0,a.isDashboardLayoutItem)(e.facade().item(t)?.raw()),`Provided data must be IDashboardLayoutItem! ${t} ${e.facade().item(t)}`),new Xn((t=>e.setSection(t)),(()=>e.facade().item(t)),t)}size(e){return this.setItem((t=>({...t,size:Kn(e,t.size)}))),this}widget(e){return this.setItem((t=>({...t,widget:Kn(e,t.widget)}))),this}setItem(e){return this.setSection((t=>{const i=[...t.items];return i[this.itemIndex]=Kn(e,this.build()),{...t,items:i}})),this}modify(e){return e(this,this.facade()),this}build(){return this.facade().raw()}facade(){return this.getItemFacade()}newInsightWidget(e,t=Un){return this.widget(t(Zn.forNew(e)).build()),this}modifyInsightWidget(e){const t=this.facade().widget();return(0,m.kG)((0,a.isInsightWidgetDefinition)(t)||(0,a.isInsightWidget)(t),"Content of the item is not a kpi widget."),this.widget(e(Zn.for(t)).build()),this}newKpiWidget(e,t=Un){return this.widget(t($n.forNew(e)).build()),this}modifyKpiWidget(e){const t=this.facade().widget();return(0,m.kG)((0,a.isKpiWidgetDefinition)(t)||(0,a.isKpiWidget)(t),"Content of the item is not a kpi widget."),this.widget(e($n.for(t)).build()),this}}class Qn{sectionIndex;getSectionFacade;setLayout;constructor(e,t,i){this.sectionIndex=e,this.getSectionFacade=t,this.setLayout=i}static for(e,t){return(0,m.kG)((0,a.isDashboardLayoutSection)(e.facade().sections().section(t)?.raw()),"Provided data must be IDashboardLayoutSection."),new Qn(t,(()=>e.facade().section(t)),(t=>e.setLayout(t)))}header(e){return this.setSection((t=>({...t,header:Kn(e,t.header)})))}createItem(e,t=Un,i=this.facade().items().count()){const r={type:"IDashboardLayoutItem",size:{xl:e}};return this.setSection((e=>{const t=[...e.items];return t.splice(i,0,r),{...e,items:t}})),Xn.for(this,i).modify(t),this}addItem(e,t=this.facade().items().count()){return this.setSection((i=>{const r=[...i.items];return r.splice(t,0,e),{...i,items:r}})),this}modifyItem(e,t){const i=this.facade().items().item(e);return(0,m.kG)(i,`Cannot modify the item - item at index ${e} does not exist.`),Xn.for(this,e).modify(t),this}removeItem(e){const t=this.facade().items().item(e);return(0,m.kG)(t,`Cannot remove the item - item at index ${e} does not exist.`),this.setSection((t=>{const i=[...t.items];return i.splice(e,1),{...t,items:i}}))}moveItem(e,t){const i=this.facade().item(e);(0,m.kG)(i,`Cannot move the item - item at index ${e} does not exist.`);const r=Math.min(t,this.facade().items().count()-1);return this.removeItem(e),this.createItem(i.sizeForScreen("xl"),(e=>e.setItem(i.raw())),r),this}removeItems(e=(e=>e.all())){const t=e(this.facade().items());return Hn(t)?this.setSection((e=>{const i=_n(e.items,t.map((e=>e.raw())));return{...e,items:i}})):t&&this.removeItem(t.index()),this}removeEmptyItems=()=>this.removeItems((e=>e.filter((e=>e.isEmpty()))));modifyItems(e,t=(e=>e.all())){const i=t(this.facade().items());return Hn(i)?i.forEach((t=>{this.modifyItem(t.index(),e)})):i&&this.modifyItem(i.index(),e),this}setSection(e){return this.setLayout((t=>{const i=[...t.sections];return i[this.sectionIndex]=Kn(e,this.build()),{...t,sections:i}})),this}facade(){return this.getSectionFacade()}modify(e){return e(this,this.facade()),this}build(){return this.facade().raw()}}class Jn{layoutFacade;layoutFacadeConstructor;constructor(e,t){this.layoutFacade=e,this.layoutFacadeConstructor=t}static for(e){return(0,m.kG)((0,a.isDashboardLayout)(e),"Provided data must be IDashboardLayout."),new Jn(Vn.for(e),Vn.for)}static forNewLayout(){return Jn.for({type:"IDashboardLayout",sections:[]})}size(e){return this.setLayout((t=>({...t,size:Kn(e,this.facade().size())})))}createSection(e=Un,t=this.facade().sections().count()){const i={type:"IDashboardLayoutSection",items:[]};return this.setLayout((e=>{const r=[...e.sections];return r.splice(t,0,i),{...e,sections:r}})),Qn.for(this,t).modify(e),this}addSection(e,t=this.facade().sections().count()){return this.setLayout((i=>{const r=[...i.sections];return r.splice(t,0,e),{...i,sections:r}})),this}modifySection(e,t){const i=this.facade().sections().section(e);return(0,m.kG)(i,`Cannot modify the section - section at index ${e} does not exist.`),Qn.for(this,e).modify(t),this}removeSection(e){const t=this.facade().sections().section(e);return(0,m.kG)(t,`Cannot remove the section - section at index ${e} does not exist.`),this.setLayout((t=>{const i=[...t.sections];return i.splice(e,1),{...t,sections:i}}))}moveSection(e,t){const i=this.facade().sections().section(e)?.raw();(0,m.kG)(i,`Cannot move the section - section at index ${e} does not exist.`);const r=Math.min(t,this.facade().sections().count()-1);return this.removeSection(e),this.createSection((e=>e.setSection(i)),r),this}removeSections(e=(e=>e.all())){const t=e(this.facade().sections());return Hn(t)?this.setLayout((e=>{const i=_n(e.sections,t.map((e=>e.raw())));return{...e,sections:i}})):t&&this.removeSection(t.index()),this}removeEmptySections(){return this.removeSections((e=>e.filter((e=>e.isEmpty()))))}modifySections(e,t=(e=>e.all())){const i=t(this.facade().sections());return Hn(i)?i.forEach((t=>{this.modifySection(t.index(),e)})):i&&this.modifySection(i.index(),e),this}setLayout(e){const t=Kn(e,this.build());return this.layoutFacade=this.layoutFacadeConstructor(t),this}facade(){return this.layoutFacade}modify(e){return e(this,this.facade()),this}build(){return this.layoutFacade.raw()}}const eo={width:{min:2,default:2},height:{default:8,min:6,max:40}},to={width:{min:2,default:2},height:{default:11,min:10,max:40}};function io(e,t,i){return"kpi"===t?function(e,t){return e.enableKDWidgetCustomHeight?(0,a.isKpi)(t)?(0,a.isKpiWithoutComparison)(t)?eo:to:xn.KPI_WIDGET_SIZE_INFO_DEFAULT:xn.KPI_WIDGET_SIZE_INFO_DEFAULT_LEGACY}(e,i):ao(e,i)}function ro(e){return ao(e)}function ao(e,t){let i;return(0,a.isInsight)(t)&&(i=(0,xn.getInsightSizeInfo)(t,e)),i||(e.enableKDWidgetCustomHeight?xn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT:xn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT_LEGACY)}function no(e,t,i){return io(e,t,i).height.min}function oo(e,t,i){return io(e,t,i).height.max}function lo(e,t,i=0){const r=e.filter(a.isDashboardWidget).map((e=>no({enableKDWidgetCustomHeight:!0},(0,a.widgetType)(e),(0,a.isKpiWidget)(e)?e.kpi:t.get(e.insight))));return Math.max(i,...r)}function so(e,t){const i=e.filter(a.isDashboardWidget).map((e=>oo({enableKDWidgetCustomHeight:!0},(0,a.widgetType)(e),(0,a.isKpiWidget)(e)?e.kpi:t.get(e.insight))));return Math.min(...i)}function co(e,t,i){return io(e,t,i).width.min}function uo(e,t){return co({enableKDWidgetCustomHeight:!0},(0,a.widgetType)(e),(0,a.isKpiWidget)(e)?e.kpi:t.get(e.insight))}function go(e,t,i,r){let n,o,l;return(0,a.isWidget)(e)&&(n=(0,a.widgetType)(e)),(0,a.isInsightWidget)(e)&&(o=i.get(e.insight),l=o),(0,a.isKpiWidget)(e)&&(l=e.kpi),t?mo(t)||(t.heightAsRatio?void 0:function(e,t,i){const r=io(e,t,i);return xn.fluidLayoutDescriptor.toHeightInPx(r.height.default)}(r,n,l)):void 0}const mo=e=>{const{gridHeight:t}=e;if(t)return po(t)},po=e=>20*e,ho=["xl","lg","md","sm","xs"],fo={xs:302,sm:622,md:972,lg:1322,xl:1652};function bo(e){if((0,a.isDashboardLayout)(e))return{...e,sections:Vn.for(e).sections().reduce(((e,t)=>(e.push({...t.raw(),items:bo(t.items().raw())}),e)),[])};const t=e.map((e=>({...e,size:Do(e.size.xl)})));return ho.reduce(((e,t)=>{const i=function(e,t){const i=[];let r=0,a=[];return e.forEach((e=>{const n=e.size[t];if(Mn(n))throw Error("Item size for current screen is undefined");r+n.gridWidth>Nn&&(i.push(a),a=[],r=0),a.push(e),r+=n.gridWidth})),a.length>0&&i.push(a),i}(e,t);return gn(i.map((e=>function(e,t){const i=e.map((e=>function(e,t){const{gridWidth:i,gridHeight:r,heightAsRatio:a=0}=e.size?.[t]??{};return i?r?po(r):i*a:0}(e,t))),r=Math.max(0,...i);return 0===r?e:e.map((e=>Eo(e,t,r)))}(e,t))))}),t)}function Do(e){const t=e.gridWidth,i=e.gridHeight,r=e.heightAsRatio;switch(t){case 0:return vo(0,0,0,0,0,0,0);case 1:return vo(r,i,t,t,2,6,12);case 2:return vo(r,i,t,t,4,6,12);case 3:case 4:case 5:case 6:case 7:case 8:case 9:return vo(r,i,t,t,6,12,12);case 10:case 11:case 12:return vo(r,i,t,t,12,12,12);default:(0,m.kG)(!1,`Unsupported xlWidth: ${t}`)}}function vo(e,t,i,r,a,n,o){return t?{xl:{gridWidth:i,gridHeight:t},lg:{gridWidth:r,gridHeight:t},md:{gridWidth:a,gridHeight:t},sm:{gridWidth:n,gridHeight:t},xs:{gridWidth:o,gridHeight:t}}:{xl:{gridWidth:i,heightAsRatio:e},lg:{gridWidth:r,heightAsRatio:e},md:{gridWidth:a,heightAsRatio:e},sm:{gridWidth:n,heightAsRatio:e},xs:{gridWidth:o,heightAsRatio:e}}}const Eo=(e,t,i)=>{const r=e.size[t],n=r?.gridWidth?On(i/r.gridWidth,2):0;let o=e;return r?.gridHeight||Mn(r?.heightAsRatio)||r?.heightAsRatio===n||(((0,a.isWidget)(o.widget)||(0,a.isWidgetDefinition)(o.widget))&&(o={...o,widget:{...o.widget}}),o={...o,size:{...o.size,[t]:{...o.size[t],heightAsRatio:n}}}),"xs"===t&&n>150&&(o={...o,size:{...o.size,xs:{...o.size.xs,heightAsRatio:150}}}),o},yo=(e,t,i=[])=>{const r=Vn.for(e);return Vn.for(t).sections().reduce(((e,t)=>t.items().reduce(((e,n)=>{const o=r.sections().section(t.index()).items().item(n.index());(0,m.kG)(o);const l=o.widget(),s=n.widget();return(0,a.isDashboardLayout)(l)&&(0,a.isDashboardLayout)(s)?yo(l,s,i):(Ma(o.size(),n.size())||!(0,a.isWidget)(s)&&!(0,a.isWidgetDefinition)(s)||e.push([n.section().index(),n.index()]),e)}),e)),i)};function Io(e){return Jn.for(e).modifySections((e=>e.modifyItems(((e,t)=>{const i=t.widget();if((0,a.isDashboardLayout)(i)){const t=Io(i);return e.widget(t)}const r=function(e){const{gridHeight:t,...i}=e.size.xl;return{...e,size:{...e.size,xl:{...i}}}}(t.raw());return e.setItem(r)})))).build()}function Co(e,t,i,r,a){const n=co(a,i,r),o=xn.fluidLayoutDescriptor.gridColumnsCount,l=no(a,i,r),s=oo(a,i,r);return{validWidth:void 0!==e?Ln(e,n,o):e,validHeight:void 0!==t?Ln(t,l,s):t}}function So(e){const{ref:t,uri:i,identifier:r}=e??{};if(t&&i&&r)return{ref:t,uri:i,identifier:r}}function To(e,t){const i=[];return e.sections.forEach(((e,r)=>{const n=t.sections[r];(0,m.kG)(n),e.items.forEach(((e,t)=>{const r=n.items[t];if((0,m.kG)(r),(0,a.isDashboardLayout)(e.widget))(0,m.kG)((0,a.isDashboardLayout)(r.widget)),i.push(...To(e.widget,r.widget));else{const t=So(e.widget),a=So(r.widget);(0,m.kG)(t&&a),i.push({original:t,updated:a})}}))})),i}function wo(e,t){return i=To(e,t),new o({type:"insight",strictTypeCheck:!1,idExtract:e=>e.original.identifier,uriExtract:e=>e.original.uri,refExtract:e=>e.original.ref}).fromItems(i);var i}function Ao(e,t){const i=e.sections.map((i=>{const r=i.items.map((i=>{if((0,a.isDashboardLayout)(i.widget))return{...i,widget:Ao(e,t)};{const e=So(i.widget);return e&&t(e)?{...i,widget:{...i.widget,ref:void 0,uri:void 0,identifier:void 0}}:i}}));return{...i,items:r}}));return{...e,sections:i}}var Po=i(20573);const Ro=(0,Po.createSelector)((e=>e),(e=>e.backendCapabilities)),Fo=(0,Po.createSelector)(Ro,(e=>((0,m.kG)(e.backendCapabilities,"attempting to access uninitialized backend capabilities"),e.backendCapabilities))),ko=(0,Po.createSelector)(Fo,(e=>e.supportsElementsQueryParentFiltering??!1)),xo=(0,Po.createSelector)(Fo,(e=>e.supportsKpiWidget??!1)),Lo=(0,Po.createSelector)(Fo,(e=>e.supportsAccessControl??!1)),Mo=(0,Po.createSelector)(Fo,(e=>e.supportsHierarchicalWorkspaces??!1)),Oo=(0,Po.createSelector)(Fo,(e=>e.supportsElementUris??!1)),No=(0,Po.createSelector)(Fo,(e=>e.canExportCsv??!1)),_o=(0,Po.createSelector)(Fo,(e=>e.canExportXlsx??!1)),Ho=(0,Po.createSelector)(Fo,(e=>e.supportsObjectUris??!1)),Uo=(0,Po.createSelector)(Fo,(e=>e.supportsSettingConnectingAttributes??!1)),Go=(0,Po.createSelector)(Fo,(e=>e.supportsKeepingDependentFiltersSelection??!1)),Bo=(0,Po.createSelector)(Fo,(e=>e.supportsCircularDependencyInFilters??!1)),Wo=(0,Po.createSelector)(Fo,(e=>e.allowMultipleInteractionsPerAttributeAndMeasure??!1)),zo=(0,Po.createSelector)(Fo,(e=>e.supportsAttributeHierarchies??!1)),Vo=(0,Po.createSelector)(Fo,(e=>e.supportsSingleSelectDependentFilters??!1)),jo=(0,Po.createSelector)(Fo,(e=>e.supportsCrossFiltering??!1)),Ko=(0,Po.createSelector)(Fo,(e=>e.supportsMultipleDateFilters??!1));function qo(e,t,i=!1){return d([...Gi(e,(e=>[...e.displayForms,...e.geoPinDisplayForms])),...Gi(t,(e=>Gi(e.dateAttributes,(e=>e.attribute.displayForms))))],i)}var Yo=i(94885);const Zo=(0,Po.createSelector)((e=>e),(e=>e.config)),$o=(0,Po.createSelector)(Zo,(e=>((0,m.kG)(e.config,"attempting to access uninitialized config state"),e.config))),Xo=(0,Po.createSelector)($o,(e=>e.dateFilterConfig??void 0)),Qo=(0,Po.createSelector)($o,(e=>e.settings??void 0)),Jo=(0,Po.createSelector)($o,(e=>e.locale??void 0)),el=(0,Po.createSelector)($o,(e=>e.separators??void 0)),tl=(0,Po.createSelector)($o,(e=>e.colorPalette??void 0)),il=(0,Po.createSelector)($o,(e=>e.objectAvailability??void 0)),rl=(0,Po.createSelector)($o,(e=>e.mapboxToken??void 0)),al=(0,Po.createSelector)($o,(e=>null==e.settings?"Sunday":e.settings.enableNewUIWeekStartChange&&e.settings.weekStartOnMondayEnabled?"Monday":e.settings?.weekStart??"Sunday")),nl=(0,Po.createSelector)($o,(e=>e.isReadOnly??!1)),ol=(0,Po.createSelector)($o,(e=>e.isEmbedded??!1)),ll=(0,Po.createSelector)($o,(e=>e.isExport??!1)),sl=(0,Po.createSelector)($o,(e=>e.isWhiteLabeled??!1)),dl=(0,Po.createSelector)($o,(e=>e.disableDefaultDrills??!1)),cl=(0,Po.createSelector)($o,(e=>e.enableFilterValuesResolutionInDrillEvents??!1)),ul=(0,Po.createSelector)($o,(e=>e.hideSaveAsNewButton??!1)),gl=(0,Po.createSelector)($o,(e=>e.settings?.responsiveUiDateFormat??void 0)),ml=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardSchedule??!1)),pl=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardScheduleRecipients??!1)),hl=(0,Po.createSelector)($o,(e=>e.settings?.platformEdition??"enterprise")),fl=(0,Po.createSelector)($o,(e=>e.settings?.enableCompanyLogoInEmbeddedUI??!1)),bl=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardExportPDF??!0)),Dl=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardDrillToDashboard??!1)),vl=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardSaveAsNew??!1)),El=(0,Po.createSelector)($o,(e=>e.settings?.enableClickableAttributeURL??!0)),yl=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardDrillToURL??!1)),Il=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardDrillToInsight??!1)),Cl=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardImplicitDrillDown??!1)),Sl=(0,Po.createSelector)($o,(e=>e.settings?.enableKPIDashboardDrillFromAttribute??!1)),Tl=(0,Po.createSelector)($o,(e=>e.settings?.hideKpiDrillInEmbedded??!1)),wl=(0,Po.createSelector)($o,(e=>e.settings?.enableInsightExportScheduling??!1)),Al=(0,Po.createSelector)($o,(e=>e.settings?.enableAnalyticalDashboardPermissions??!0)),Pl=(0,Po.createSelector)($o,(e=>e.settings?.enableKDWidgetCustomHeight??!1)),Rl=(0,Po.createSelector)($o,(e=>!!(e.settings?.enableRenamingProjectToWorkspace??1))),Fl=(0,Po.createSelector)($o,(e=>!!e.settings?.enableRenamingMeasureToMetric)),kl=(0,Po.createSelector)($o,(e=>{const t=e.settings?.hidePixelPerfectExperience??!0,i=e.settings?.enablePixelPerfectExperience??!1;return!t&&i})),xl=(0,Po.createSelector)($o,(e=>!!e.settings?.disableKpiDashboardHeadlineUnderline)),Ll=(0,Po.createSelector)($o,(e=>e.allowUnfinishedFeatures||!1)),Ml=(0,Po.createSelector)($o,(e=>e.allowCreateInsightRequest??!1)),Ol=(0,Po.createSelector)($o,(e=>!!e.settings?.analyticalDesigner)),Nl=(0,Po.createSelector)($o,(e=>!!e.settings?.enableKPIDashboardDeleteFilterButton)),_l=(0,Po.createSelector)($o,(e=>!!e.settings?.enableKPIDashboardDependentFilters)),Hl=(0,Po.createSelector)($o,(e=>!!e.settings?.enableAlternativeDisplayFormSelection)),Ul=(0,Po.createSelector)($o,(e=>e.hideShareButton??!1)),Gl=(0,Po.createSelector)($o,(e=>e.settings?.enableAttributeHierarchies??!0)),Bl=(0,Po.createSelector)(Cl,Gl,((e,t)=>e||t)),Wl=(0,Po.createSelector)($o,(e=>e.settings?.showHiddenCatalogItems??e.settings?.enableUnavailableItemsVisible??!1)),zl=(0,Po.createSelector)($o,(e=>e.settings?.enableKDDependentFilters??!1)),Vl=(0,Po.createSelector)($o,(e=>e.settings?.enableMultipleDateFilters??!0)),jl=(0,Po.createSelector)(zl,_l,((e,t)=>e||t)),Kl=(0,Po.createSelector)($o,(e=>e.settings?.enableKDCrossFiltering??!1)),ql=(0,Po.createSelector)((e=>e),(e=>e.catalog)),Yl=(0,Po.createSelector)(ql,(e=>e.attributes??[])),Zl=(0,Po.createSelector)(Yl,Yo(p)),$l=(0,Po.createSelector)(Yl,(e=>Gi(e,(e=>[...e.displayForms,...e.geoPinDisplayForms])))),Xl=(0,Po.createSelector)(ql,(e=>e.measures??[])),Ql=(0,Po.createSelector)(Xl,Yo(p)),Jl=(0,Po.createSelector)(ql,(e=>e.facts??[])),es=(0,Po.createSelector)(Jl,Yo(p)),ts=(0,Po.createSelector)(ql,(e=>e.dateDatasets??[])),is=(0,Po.createSelector)(ts,Yo(p)),rs=(0,Po.createSelector)(ts,(e=>Gi(e,(e=>e.dateAttributes)))),as=(0,Po.createSelector)(ql,(e=>e.attributeHierarchies??[])),ns=(0,Po.createSelector)(ql,(e=>e.dateHierarchyTemplates??[])),os=(0,Po.createSelector)([ns,ts,Bl,zo],((e,t,i,r)=>i&&r?function(e,t){const i=[];return t.forEach((t=>{e.forEach((e=>{const r=function(e,t){const i=e.dateAttributes,r=[];if(t.granularities.forEach((e=>{const t=i.find((t=>t.granularity===e));t&&r.push(t.attribute.ref)})),!p(r))return{type:"dateAttributeHierarchy",templateId:t.id,dateDatasetRef:e.dataSet.ref,title:e.dataSet.title,attributes:r}}(t,e);r&&i.push(r)}))})),i}(e,t):[])),ls=(0,Po.createSelector)([as,os],((e,t)=>[...e,...t])),ss=(0,Po.createSelector)([Yl,rs],((e=[],t=[])=>[...e,...t].filter((e=>e.attribute.drillDownStep)))),ds=(0,Po.createSelector)([Yl,rs,ls],((e=[],t=[],i=[])=>function(e,t,i){const r=[...e,...t],n={};return r.forEach((e=>{const t=e.attribute.ref;i.forEach((e=>{const i=(0,a.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes,r=i.findIndex((e=>(0,a.areObjRefsEqual)(e,t)));if(r<0)return;const o=i[r+1];if(!o)return;const l=(0,a.objRefToString)(t);n[l]?n[l].push(o):n[l]=[o]}))})),n}(e,t,i))),cs=(0,Po.createSelector)([Yl],((e=[])=>e.filter((e=>e.attribute.drillToAttributeLink)))),us=(0,Po.createSelector)([ts,Fo],((e,t)=>s(e,t.hasTypeScopedIdentifiers))),gs=(0,Po.createSelector)([Yl,ts,Fo],((e,t,i)=>qo(e,t,i.hasTypeScopedIdentifiers))),ms=(0,Po.createSelector)([Yl,ts,Fo],((e,t,i)=>function(e,t=!1){return new o({type:"attribute",strictTypeCheck:t,idExtract:e=>e.attribute.id,uriExtract:e=>e.attribute.uri,refExtract:e=>e.attribute.ref}).fromItems(e)}([...e,...Gi(t,(e=>e.dateAttributes))],i.hasTypeScopedIdentifiers))),ps=(0,Po.createSelector)([Xl,Fo],((e,t)=>function(e,t=!1){return new o({type:"measure",strictTypeCheck:t,idExtract:e=>e.measure.id,uriExtract:e=>e.measure.uri,refExtract:e=>e.measure.ref}).fromItems(e)}(e,t.hasTypeScopedIdentifiers))),hs=(0,Po.createSelector)([ts,Fo],((e,t)=>function(e,t=!1){return new o({type:"attribute",strictTypeCheck:t,idExtract:e=>e.attribute.attribute.id,uriExtract:e=>e.attribute.attribute.uri,refExtract:e=>e.attribute.attribute.ref}).fromItems(e)}(Gi(e,(e=>e.dateAttributes.map((t=>({attribute:t,dataset:e}))))),t.hasTypeScopedIdentifiers)));async function fs(e,t){return t.length?e.backend.workspace(e.workspace).attributes().getAttributeDisplayForms(t):[]}function*bs(e,t,i){const r=i||(yield(0,X.Ys)(gs)),a=[],n=[];t.forEach((e=>{const t=r.get(e);t?a.push(t):n.push(e)}));const o=d(yield(0,X.RE)(fs,e,n)),l=[];return n.forEach((e=>{const t=o.get(e);t?a.push(t):l.push(e)})),{resolved:d(a),missing:l}}function*Ds(e,t,i){const r=t.filter(a.isDashboardAttributeFilter).map((e=>e.attributeFilter.displayForm)),n=yield(0,X.RE)(bs,e,r,i);return(0,m.kG)(p(n.missing),`Unable to resolve display forms used in filter context filters: ${n.missing.map((e=>(0,a.objRefToString)(e))).join(", ")}.`),Array.from(n.resolved.values())}function*vs(){return yield(0,X.fw)("dashboardContext")}function*Es(){return yield(0,X.fw)("privateContext")}function ys(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).attributes().getAttributeDisplayForms(t).then((e=>e.map((e=>e.ref))))}const Is=(0,Pi.oM)({name:"attributeFilterConfigs",initialState:{attributeFilterConfigs:[]},reducers:{changeMode:(e,t)=>{const{localIdentifier:i}=t.payload,r=e.attributeFilterConfigs?.find((e=>e.localIdentifier===i));r?(r.mode=t.payload.mode,e.attributeFilterConfigs=[...e.attributeFilterConfigs??[]]):e.attributeFilterConfigs=[...e.attributeFilterConfigs||[],t.payload]},setAttributeFilterConfigs:(e,t)=>{const{attributeFilterConfigs:i}=t.payload;e.attributeFilterConfigs=i},removeAttributeFilterConfig:(e,t)=>{e.attributeFilterConfigs=e.attributeFilterConfigs?.filter((e=>e.localIdentifier!==t.payload))}}}),Cs=Is.reducer,Ss=Is.actions,Ts={changeMode:(e,t)=>{const{dataSet:i}=t.payload,r=e.dateFilterConfigs?.find((e=>(0,a.areObjRefsEqual)(e.dateDataSet,i)));if(r)t.payload.mode&&(r.config.mode=t.payload.mode,e.dateFilterConfigs=[...e.dateFilterConfigs??[]]);else{const r={dateDataSet:i,config:{filterName:"",mode:t.payload.mode||"active"}};e.dateFilterConfigs=[...e.dateFilterConfigs||[],r]}},setDateFilterConfigs:(e,t)=>{const{dateFilterConfigs:i}=t.payload;e.dateFilterConfigs=i},removeDateFilterConfig:(e,t)=>{e.dateFilterConfigs=e.dateFilterConfigs?.filter((e=>!(0,a.areObjRefsEqual)(e.dateDataSet,t.payload)))},changeTitle:(e,t)=>{const{dataSet:i}=t.payload;(0,m.kG)(i,"Date data set needs to be provided.");const r=e.dateFilterConfigs?.find((e=>(0,a.areObjRefsEqual)(e.dateDataSet,i)));if(r)r.config.filterName=t.payload.title??"",e.dateFilterConfigs=[...e.dateFilterConfigs??[]];else{const r={dateDataSet:i,config:{filterName:t.payload.title??"",mode:"active"}};e.dateFilterConfigs=[...e.dateFilterConfigs||[],r]}}},ws=(0,Pi.oM)({name:"dateFilterConfigs",initialState:{dateFilterConfigs:[]},reducers:Ts}),As=ws.reducer,Ps=ws.actions,Rs=(0,Pi.oM)({name:"drill",initialState:{drillableItems:[],crossFiltering:[]},reducers:{setDrillableItems:(e,t)=>{e.drillableItems=t.payload},crossFilterByWidget:(e,t)=>{e.crossFiltering=[t.payload]},resetCrossFiltering:e=>{e.crossFiltering=[]}}}),Fs=Rs.reducer,ks=Rs.actions,xs={type:"IDashboardLayout",sections:[]};function Ls(e){return[wa.setAlerts([]),Hi.setFilterContext({filterContextDefinition:In(e),attributeFilterDisplayForms:[]}),or.setLayout(xs),fr.setInsights([]),Pn.setMeta({}),ks.resetCrossFiltering()]}function Ms(e,t){const i=t?.enableKDDependentFilters||t?.enableKPIDashboardDependentFilters?e:rn("filters",(e=>e.map((e=>(0,a.isDashboardAttributeFilter)(e)?{...e,attributeFilter:{...e.attributeFilter,filterElementsBy:[]}}:e))),e);return i}const Os=(e,t,i)=>(0,a.isDashboardAttributeFilter)(e)?t.some((t=>(0,a.areObjRefsEqual)(t,e.attributeFilter.displayForm))):!(0,a.isDashboardDateFilterWithDimension)(e)||i.some((t=>(0,a.areObjRefsEqual)(t.dataSet.ref,e.dateFilter.dataSet)));function*Ns(e,t,i,r=[]){if(!t||p(t.filters))return t;const n=Ms(t,i);if(!e.backend.capabilities.allowsInconsistentRelations)return n;const o=n.filters.filter(a.isDashboardAttributeFilter).map((e=>e.attributeFilter.displayForm)),l=yield(0,X.RE)(ys,e,o);return rn("filters",(e=>e.filter((e=>Os(e,l,r)))),n)}function*_s(e,t,i,r,n,o,l,s){const d=yield(0,X.RE)(Ns,e,t.filterContext,r,o),c=function(e,t,i){const r=e??t;return r.filterContext?{...r,filterContext:Ms(r.filterContext,i)}:r}(s,t,r),u={...t,layout:t.layout??xs,filterContext:d},g=yield(0,X.RE)(Es),p=g?.existingDashboardTransformFn?.(u)??u,h=g?.widgetsOverlayFn?.(p)??{},f=function(e,t){const{filterContext:i}=e;if(!i)return In(t,!e.ref);if((0,a.isTempFilterContext)(i))return{title:"filterContext",description:"",filters:i.filters};const r={...Fn(i)};return delete r.ref,delete r.uri,delete r.identifier,r}(p,n),b=Rn(p),D=yield(0,X.RE)(Ds,e,f.filters,l),v=function(e,t,i){const r=kn(t,(e=>(0,a.serializeObjRef)((0,a.insightRef)(e)))),n=e.sections.map((e=>{const t=ka(e.items.map((e=>function(e,t,i){const{widget:r,size:{xl:n}}=e;if(!r)return void console.log(`Found item ${e} that does not contain any widget. Removing from layout.`);if(!(0,a.isInsightWidget)(r)||!(0,a.isKpiWidget)(r))return e;const{type:o,content:l}=function(e,t){if((0,a.isInsightWidget)(e)){const i=e.insight;return{type:"insight",content:t[(0,a.serializeObjRef)(i)]}}if((0,a.isKpiWidget)(e))return{type:"kpi",content:e.kpi};throw new m.ej(`trying to extract content from unknown widget type ${e.type}`)}(r,t);if(!l)return;const{validWidth:s,validHeight:d}=Co(n.gridWidth,n.gridHeight,o,l,i);return{...e,size:{xl:{...n,gridWidth:s,gridHeight:d}}}}(e,r,i))));return{...e,items:t}}));return{...e,sections:n}}(p.layout??xs,i,r);return[Hi.setFilterContext({originalFilterContextDefinition:f,filterContextDefinition:f,filterContextIdentity:b,attributeFilterDisplayForms:D}),or.setLayout(v),Pn.setMeta({dashboard:c}),Ss.setAttributeFilterConfigs({attributeFilterConfigs:t.attributeFilterConfigs}),Lr.updateDateFilterConfig(t.dateFilterConfig),Ps.setDateFilterConfigs({dateFilterConfigs:t.dateFilterConfigs}),fr.setInsights(i),Pn.setDashboardTitle(t.title),Va.clearWidgetSelection(),Va.setWidgetsOverlay(h),ks.resetCrossFiltering()]}const Hs=(0,Pi.HF)({selectId:e=>e.id}),Us=(0,Pi.oM)({name:"executionResults",initialState:Hs.getInitialState(),reducers:{upsertExecutionResult:Hs.upsertOne,clearAllExecutionResults:Hs.removeAll}}),Gs=Us.reducer,Bs=Us.actions,Ws=(0,Pi.HF)({selectId:e=>(0,a.objRefToString)(e.ref)}),zs=(0,Pi.oM)({name:"accessibleDashboards",initialState:Ws.getInitialState(),reducers:{setAccessibleDashboards:Ws.setAll,addAccessibleDashboard:Ws.upsertOne}}),Vs=zs.reducer,js=zs.actions;function Ks(e){const{backend:t,workspace:i}=e;return t.workspace(i).dashboards().getDashboards({includeAvailableViaLink:!0})}async function qs(e){const t=await async function(e,t){return function(e){return e.authApiCall??Ys}(Zs(e))((async e=>{const i=function(e){const t=e?.md?.getProjectDashboards.bind(e?.md);return t??Ys}(e);return i(t)}))}(e.backend,e.workspace);return t?t.map((e=>{const{content:t,meta:i}=e.projectDashboard;return{identifier:i.identifier,uri:i.uri,ref:(0,a.uriRef)(i.uri),title:i.title,tabs:t.tabs.map((e=>({identifier:e.identifier,title:e.title})))}})):[]}function Ys(){return Promise.resolve()}function Zs(e){return e?.decorated?Zs(e.decorated):e}const $s=(0,Pi.oM)({name:"legacyDashboards",initialState:{legacyDashboards:void 0},reducers:{setLegacyDashboards:(e,t)=>{e.legacyDashboards=t.payload}}}),Xs=$s.reducer,Qs=$s.actions;function Js(e){const{backend:t,workspace:i,dashboardRef:r}=e;return t.workspace(i).dashboards().getDashboardPermissions(r)}const ed=(0,Pi.oM)({name:"dashboardPermissions",initialState:{dashboardPermissions:void 0},reducers:{setDashboardPermissions:(e,t)=>{e.dashboardPermissions=t.payload}}}),td=ed.reducer,id=ed.actions;function rd(e){const{backend:t}=e;return t.entitlements().resolveEntitlements()}function ad(e){const{backend:t,workspace:i}=e;return t.capabilities.supportsAttributeHierarchies?t.workspace(i).attributeHierarchies().getDateHierarchyTemplates():Promise.resolve([])}async function nd(e,t,i,r){const{backend:n,workspace:o,filterContextRef:l}=e,{preloadedDashboard:s}=t;if(s&&(0,a.areObjRefsEqual)(s.ref,i)){if(r){const t=await async function(e,t){if(!t?.layout)return[];const{backend:i,workspace:r}=e,n=[];(0,Dr.walkLayout)(t.layout,{widgetCallback:e=>{(0,a.isInsightWidget)(e)&&n.push(e.insight,...e.drills.filter(a.isDrillToInsight).map((e=>e.target)))}});const o=Qr(n,a.serializeObjRef);return Promise.all(o.map((e=>i.workspace(r).insights().getInsight(e))))}(e,s);return{dashboard:s,references:{insights:t,plugins:[]}}}return n.workspace(o).dashboards().getDashboardReferencedObjects(s,["insight"]).then((e=>({dashboard:s,references:e})))}return n.workspace(o).dashboards().getDashboardWithReferences(i,l,{loadUserData:!0},["insight"])}function*od(e,t,i){const{backend:r}=e,a=yield(0,X.RE)(Es),[n,o,l,s,d,c,u,g,m,p,h,f]=yield(0,X.$6)([(0,X.RE)(nd,e,a,i,!!t.payload.persistedDashboard),(0,X.RE)(zr,e,t),(0,X.RE)(ma,e,t),(0,X.RE)(rd,e),(0,X.RE)(Da,e,t),(0,X.RE)(va,e),(0,X.RE)(Aa,e),(0,X.RE)(Ya,e),(0,X.RE)(Ks,e),(0,X.RE)(qs,e),(0,X.RE)(Js,e),(0,X.RE)(ad,e)]),{dashboard:b,references:{insights:D}}=n,v=yield(0,X.RE)(ua,e,t,o.dateFilterConfig,b.dateFilterConfig),E=yield(0,X.RE)(_s,e,b,D,o.settings,v.config,d.dateDatasets(),function(e,t=!1){return qo(e.attributes(),e.dateDatasets(),t)}(d),t.payload.persistedDashboard);return{batch:ki([tn.setBackendCapabilities(r.capabilities),qr.setConfig(o),$r.setEntitlements(s),Fa.setUser(u),fa.setPermissions(l),Ia.setCatalogItems({attributes:d.attributes(),dateDatasets:d.dateDatasets(),facts:d.facts(),measures:d.measures(),attributeHierarchies:d.attributeHierarchies(),dateHierarchyTemplates:f}),...E,wa.setAlerts(c),Lr.setDateFilterConfig({dateFilterConfig:b.dateFilterConfig,effectiveDateFilterConfig:v.config,isUsingDashboardOverrides:"dashboard"===v.source}),Ss.setAttributeFilterConfigs({attributeFilterConfigs:b.attributeFilterConfigs}),Ps.setDateFilterConfigs({dateFilterConfigs:b.dateFilterConfigs}),Qa.setListedDashboards(g),js.setAccessibleDashboards(m),Qs.setLegacyDashboards(p),Va.setMenuButtonItemsVisibility(o.menuButtonItemsVisibility),qa.setRenderMode(o.initialRenderMode),id.setDashboardPermissions(h)],"@@GDC.DASH/BATCH.INIT.EXISTING"),event:re(e,b,D,o,l,t.correlationId)}}function*ld(e,t){const{backend:i}=e,[r,a,n,o,l,s,d,c,u]=yield(0,X.$6)([(0,X.RE)(zr,e,t),(0,X.RE)(ma,e,t),(0,X.RE)(rd,e),(0,X.RE)(Da,e,t),(0,X.RE)(Aa,e),(0,X.RE)(Ya,e),(0,X.RE)(Ks,e),(0,X.RE)(qs,e),(0,X.RE)(ad,e)]);return{batch:ki([tn.setBackendCapabilities(i.capabilities),qr.setConfig(r),$r.setEntitlements(n),Fa.setUser(l),fa.setPermissions(a),Ia.setCatalogItems({attributes:o.attributes(),dateDatasets:o.dateDatasets(),facts:o.facts(),measures:o.measures(),attributeHierarchies:o.attributeHierarchies(),dateHierarchyTemplates:u}),Qa.setListedDashboards(s),js.setAccessibleDashboards(d),Qs.setLegacyDashboards(c),Bs.clearAllExecutionResults(),...Ls(r.dateFilterConfig),Lr.setDateFilterConfig({dateFilterConfig:void 0,effectiveDateFilterConfig:r.dateFilterConfig,isUsingDashboardOverrides:!1}),Va.setMenuButtonItemsVisibility(r.menuButtonItemsVisibility),qa.setRenderMode(r.initialRenderMode),id.setDashboardPermissions({canViewDashboard:!0,canShareDashboard:!0,canShareLockedDashboard:!0,canEditDashboard:!0,canEditLockedDashboard:!0})],"@@GDC.DASH/BATCH.INIT.NEW"),event:re(e,void 0,[],r,a,t.correlationId)}}function sd(e,t={resetDashboard:!0},i){return{type:"GDC.DASH/CMD.CHANGE_RENDER_MODE",correlationId:i,payload:{renderMode:e,renderModeChangeOptions:t}}}function dd(e){return sd("edit",{resetDashboard:!0},e)}function cd(e){return sd("view",{resetDashboard:!0},e)}var ud=i(88306);const gd=e=>ud(e,((...e)=>Jr(e,{space:0}))),md=(0,Po.createSelector)((e=>e),(e=>e.filterContext)),pd=(0,Po.createSelector)(md,(e=>((0,m.kG)(e.filterContextDefinition,"attempting to access uninitialized filter context state"),e.originalFilterContextDefinition))),hd=(0,Po.createSelector)(pd,(e=>e?.filters??[])),fd=(0,Po.createSelector)(md,(e=>((0,m.kG)(e.filterContextDefinition,"attempting to access uninitialized filter context state"),e.filterContextDefinition))),bd=(0,Po.createSelector)(md,(e=>((0,m.kG)(e.filterContextDefinition,"attempting to access uninitialized filter context state"),e.filterContextIdentity))),Dd=(0,Po.createSelector)(md,(e=>((0,m.kG)(e.attributeFilterDisplayForms,"attempting to access uninitialized filter context state"),e.attributeFilterDisplayForms))),vd=(0,Po.createSelector)(md,(e=>((0,m.kG)(e.attributeFilterDisplayForms,"attempting to access uninitialized filter context state"),d(e.attributeFilterDisplayForms)))),Ed=(0,Po.createSelector)(fd,(e=>e.filters)),yd=(0,Po.createSelector)(Ed,(e=>e.filter(a.isDashboardAttributeFilter))),Id=(0,Po.createSelector)(Ed,(e=>e.find(a.isDashboardCommonDateFilter))),Cd=(0,Po.createSelector)(Ed,(e=>e.filter((e=>(0,a.isDashboardDateFilterWithDimension)(e)||(0,a.isDashboardAttributeFilter)(e))))),Sd=(0,Po.createSelector)(Ed,(e=>e.filter(a.isDashboardDateFilterWithDimension))),Td=gd((e=>(0,Po.createSelector)(Sd,(t=>t.find((t=>(0,a.areObjRefsEqual)(t.dateFilter.dataSet,e))))))),wd=(gd((e=>(0,Po.createSelector)(Sd,(t=>t.findIndex((t=>(0,a.areObjRefsEqual)(t.dateFilter.dataSet,e))))))),gd((e=>(0,Po.createSelector)(Ed,(t=>t.findIndex((t=>(0,a.isDashboardDateFilterWithDimension)(t)&&(0,a.isObjRef)(e)?(0,a.areObjRefsEqual)(t.dateFilter.dataSet,e):!(!(0,a.isDashboardAttributeFilter)(t)||"string"!=typeof e)&&t.attributeFilter.localIdentifier===e))))))),Ad=gd((e=>(0,Po.createSelector)(vd,yd,((t,i)=>{const r=t.get(e);if(r)return i.find((e=>(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,(0,a.idRef)(r.id,"displayForm"))||(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,(0,a.uriRef)(r.uri))))})))),Pd=gd((e=>(0,Po.createSelector)(yd,(t=>t.find((t=>t.attributeFilter.localIdentifier===e)))))),Rd=(gd((e=>(0,Po.createSelector)(yd,(t=>t.findIndex((t=>t.attributeFilter.localIdentifier===e)))))),gd((e=>(0,Po.createSelector)(yd,Bo,((t,i)=>{(0,m.kG)(!i,"Filter descendants cannot be computed as this backend supports circular dependencies in filters. Do not use this selector.");const r=ka([e]),a=new Set;for(;r.length;){const e=r.pop();t.filter((t=>t.attributeFilter.filterElementsBy?.some((t=>t.filterLocalIdentifier===e)))).forEach((e=>{a.add(e.attributeFilter.localIdentifier),r.push(e.attributeFilter.localIdentifier)}))}return Array.from(a)}))))),Fd=gd((e=>(0,Po.createSelector)(yd,(t=>t.filter((t=>!(0,a.areObjRefsEqual)(t.attributeFilter.displayForm,e))))))),kd=gd((e=>(0,Po.createSelector)(yd,(t=>{const i=t.find((t=>t.attributeFilter.localIdentifier===e));return(0,m.kG)(i,"Unable to find current filter to get its title."),i.attributeFilter.displayForm})))),xd=gd(((e,t)=>(0,Po.createSelector)(Rd(e),Bo,((e,i)=>((0,m.kG)(!i,"No need to compute circular dependencies as this backend supports it in filters. Do not use this selector."),e.some((e=>e===t))))))),Ld=(0,Po.createSelector)(yd,Sd,((e,t)=>e.length+t.length<30)),Md=Ld,Od=gd((e=>(0,Po.createSelector)(Pd(e),(e=>!p(e?.attributeFilter?.filterElementsBy)))));function Nd(e,t){return e?Bd(e.filters,t):[]}function _d(e,t){return e?Wd(e.filters,t):[]}function Hd(e){return e.attributeFilter.negativeSelection?(0,a.newNegativeAttributeFilter)(e.attributeFilter.displayForm,e.attributeFilter.attributeElements):(0,a.newPositiveAttributeFilter)(e.attributeFilter.displayForm,e.attributeFilter.attributeElements)}function Ud(e,t){return"relative"===e.dateFilter.type?(0,a.newRelativeDateFilter)(e.dateFilter.dataSet||t.dateDataSet,e.dateFilter.granularity,zd(e.dateFilter.from),zd(e.dateFilter.to)):(0,a.newAbsoluteDateFilter)(e.dateFilter.dataSet||t.dateDataSet,e.dateFilter.from.toString(),e.dateFilter.to.toString())}function Gd(e,t){return"relative"===e.dateFilter.type?(0,a.newRelativeDateFilter)(t,e.dateFilter.granularity,zd(e.dateFilter.from),zd(e.dateFilter.to)):(0,a.newAbsoluteDateFilter)(t,e.dateFilter.from.toString(),e.dateFilter.to.toString())}function Bd(e,t){return e.map((e=>(0,a.isDashboardAttributeFilter)(e)?Hd(e):Ud(e,t)))}function Wd(e,t){return e.map((e=>(0,a.isDashboardAttributeFilter)(e)?Hd(e):Gd(e,t)))}function zd(e){return jt(e)?Number.parseInt(e):e}function Vd(e){return!p(e)&&"gd-kpi-placeholder"===e.customType}const jd="__kpiPlaceholder__";function Kd(){return E(jd,"gd-kpi-placeholder")}function qd(e){return!p(e)&&"gd-insight-placeholder"===e.customType}const Yd="__insightPlaceholder__";function Zd(){return E(Yd,"gd-insight-placeholder")}function $d(e){return!p(e)&&"gd-widget-placeholder"===e.customType}function Xd(e){return $d(e)&&!!e.isInitial}function Qd(e){return $d(e)&&!!e.isLoading}const Jd="__placeholder__";function ec(){return E(Jd,"gd-widget-placeholder")}function tc(){return E(Jd,"gd-widget-placeholder",{isInitial:!0})}function ic(){return E(Jd,"gd-widget-placeholder",{isLoading:!0})}function rc(e){return $d(e)||qd(e)||Vd(e)}const ac=(0,Po.createSelector)((e=>e),(e=>e.drill)),nc=(0,Po.createSelector)(ac,(e=>e.drillableItems)),oc=(0,Po.createSelector)(ac,(e=>e.crossFiltering)),lc=gd((e=>(0,Po.createSelector)(oc,(t=>t.find((t=>(0,a.areObjRefsEqual)(e,t.widgetRef))))))),sc=(0,Po.createSelector)(oc,(e=>e.flatMap((e=>e.filterLocalIdentifiers)))),dc=gd((e=>(0,Po.createSelector)(sc,(t=>t.some((t=>t===e)))))),cc=gd((e=>(0,Po.createSelector)(lc(e),(e=>e?.filterLocalIdentifiers)))),uc=gd((e=>(0,Po.createSelector)(lc(e),(e=>e?.selectedPoints)))),gc=(0,Po.createSelector)((e=>e),(e=>e.layout)),mc=(0,Po.createSelector)(gc,(e=>e.stash)),pc=(0,Po.createSelector)(gc,(e=>function(e){const t=[];let i="";const r=new Set;return e._undo.undoStack.forEach(((e,a)=>{const{cmd:n,cmd:{meta:{uuid:o}={}}}=e;(0,m.kG)(o),i!==o&&((0,m.kG)(!r.has(o),"jackpot winner 🥳"),t.unshift({cmd:n,firstOccurrenceOnStack:a}),i=o,r.add(o))})),t}(e))),hc=(0,Po.createSelector)(gc,(e=>((0,m.kG)(e.layout,"attempting to access uninitialized layout state"),e.layout))),fc=(0,Po.createSelector)(hc,(e=>({...e,sections:e.sections.map((e=>({...e,items:e.items.filter(Ji)}))).filter((e=>!p(e.items)))}))),bc=(0,Po.createSelector)(hc,(e=>{const t=[];for(const i of e.sections)for(const e of i.items)e.widget&&t.push(e.widget);return t})),Dc=(0,Po.createSelector)(bc,(e=>u(e))),vc=gd((e=>(0,Po.createSelector)(Dc,(t=>{if(e)return t.get(e)})))),Ec=gd((e=>(0,Po.createSelector)(Dc,(t=>{if(!e)return;const i=t.get(e);return i&&!y(i)?i:void 0})))),yc=gd((e=>(0,Po.createSelector)(Ec(e),(e=>e?.ignoredDrillDownHierarchies??[])))),Ic=gd((e=>(0,Po.createSelector)(Ec(e),(e=>e?.drills??[])))),Cc=gd((e=>(0,Po.createSelector)(vc(e),Ed,cc(e),((t,i,r)=>{(0,m.kG)(t,`widget with ref ${(0,a.objRefToString)(e)} does not exist in the state`);const n=i.filter((e=>!(0,a.isDashboardAttributeFilter)(e)||!r?.includes(e.attributeFilter.localIdentifier))),[o,l]=Li(n,a.isDashboardCommonDateFilter);return[Bd(o,t),Bd(l,t)]})))),Sc=(0,Po.createSelector)(Dc,(e=>Array.from(e.values()))),Tc=(0,Po.createSelector)(Sc,(e=>0===e.length)),wc=(0,Po.createSelector)(Sc,(e=>e.filter(a.isKpiWidget))),Ac=(0,Po.createSelector)(Sc,(e=>e.filter(a.isInsightWidget))),Pc=(0,Po.createSelector)(Sc,(e=>e.filter(y))),Rc=(0,Po.createSelector)(Sc,(e=>e.filter((e=>!y(e))))),Fc=(0,Po.createSelector)(Rc,(e=>e.length>0)),kc=gd((e=>(0,Po.createSelector)(hc,(t=>{const i=Xi(t,e);return(0,m.kG)(i,`widget with ref ${(0,a.objRefToString)(e)} does not exist in the state`),i})))),xc=(0,Po.createSelector)(Pc,(e=>e.find($d))),Lc=(0,Po.createSelector)(xc,hc,((e,t)=>e?Xi(t,e.ref):void 0)),Mc=(0,Po.createSelector)(Pc,(e=>e.find(qd))),Oc=(0,Po.createSelector)(Mc,hc,((e,t)=>e?Xi(t,e.ref):void 0)),Nc=(0,Po.createSelector)(Pc,(e=>e.find(Vd))),_c=(0,Po.createSelector)(Nc,hc,((e,t)=>e?Xi(t,e.ref):void 0));var Hc=i(52353);const Uc=(0,Po.createSelector)((e=>e),(e=>e.renderMode)),Gc=(0,Po.createSelector)(Uc,(e=>e.renderMode)),Bc=(0,Po.createSelector)(Gc,(e=>"view"===e)),Wc=(0,Po.createSelector)(Gc,(e=>"edit"===e)),zc=(0,Po.createSelector)((e=>e),(e=>e.dateFilterConfig)),Vc=(0,Po.createSelector)(zc,(e=>e.dateFilterConfig??void 0)),jc=(0,Po.createSelector)(zc,(e=>((0,m.kG)(e.effectiveDateFilterConfig,"attempting to access uninitialized date filter config state"),e.effectiveDateFilterConfig))),Kc=(0,Po.createSelector)(jc,(e=>cn(e))),qc=(0,Po.createSelector)(jc,(e=>e.relativeForm?.availableGranularities??[])),Yc=(0,Po.createSelector)(zc,(e=>((0,m.kG)(void 0!==e.isUsingDashboardOverrides,"attempting to access uninitialized date filter config state"),e.isUsingDashboardOverrides))),Zc=(0,Po.createSelector)(Yc,Vc,((e,t)=>{if(e)return(0,m.kG)(void 0!==t),t.filterName})),$c=(0,Po.createSelector)(Wc,Vc,((e,t)=>e?"active":t?.mode??"active")),Xc=(0,Po.createSelector)(zc,(e=>e.dateFilterConfigValidationWarnings??[])),Qc=(0,Po.createSelector)((e=>e),(e=>e.attributeFilterConfigs)),Jc=(0,Po.createSelector)(Qc,(e=>e?.attributeFilterConfigs??[])),eu=(0,Po.createSelector)(Jc,(e=>e.reduce(((e,t)=>(e.set(t.localIdentifier,t.mode??a.DashboardAttributeFilterConfigModeValues.ACTIVE),e)),new Map))),tu=(0,Po.createSelector)(Wc,Jc,((e,t)=>t.reduce(((t,i)=>{const r=e||!i.mode?a.DashboardAttributeFilterConfigModeValues.ACTIVE:i.mode;return t.set(i.localIdentifier,r),t}),new Map))),iu=(0,Po.createSelector)((e=>e),(e=>e.dateFilterConfigs)),ru=(0,Po.createSelector)(iu,(e=>e?.dateFilterConfigs??[])),au=(0,Po.createSelector)(ru,(e=>e.reduce(((e,t)=>(e.set((0,a.serializeObjRef)(t.dateDataSet),t.config.mode),e)),new Map))),nu=(0,Po.createSelector)(Wc,ru,((e,t)=>t.reduce(((t,i)=>{const r=e||!i.config.mode?a.DashboardDateFilterConfigModeValues.ACTIVE:i.config.mode;return t.set((0,a.serializeObjRef)(i.dateDataSet),r),t}),new Map))),ou=(0,Po.createSelector)((e=>e),(e=>e.meta)),lu=(0,Po.createSelector)(ou,(e=>((0,m.kG)(e.descriptor,"attempting to access uninitialized meta state"),e.descriptor))),su=(0,Po.createSelector)(ou,(e=>e.persistedDashboard??void 0)),du=(0,Po.createSelector)(ou,(e=>e.persistedDashboard?.filterContext??void 0)),cu=(0,Po.createSelector)(ou,(e=>e.persistedDashboard?.dateFilterConfig??void 0)),uu=(0,Po.createSelector)(du,(e=>{if(e){if((0,a.isTempFilterContext)(e)){const{ref:t,uri:i,...r}=e;return{...r,title:"filterContext",description:""}}{const{identifier:t,ref:i,uri:r,...a}=e;return a}}})),gu=(0,Po.createSelector)(su,(e=>e?.ref??void 0)),mu=(0,Po.createSelector)(su,(e=>e?.identifier??void 0)),pu=(0,Po.createSelector)(su,(e=>e?.uri??void 0)),hu=(0,Po.createSelector)(mu,(e=>e?(0,a.idRef)(e,"analyticalDashboard"):void 0)),fu=(0,Po.createSelector)(pu,(e=>e?(0,a.uriRef)(e):void 0)),bu=(0,Po.createSelector)(gu,Hc),Du=(0,Po.createSelector)(lu,(e=>e.title)),vu=(0,Po.createSelector)(lu,(e=>e.description)),Eu=(0,Po.createSelector)(lu,(e=>e.tags??[])),yu=(0,Po.createSelector)(lu,(e=>e.shareStatus)),Iu=(0,Po.createSelector)(yu,(e=>"private"===e)),Cu=(0,Po.createSelector)(lu,(e=>e.isLocked??!1)),Su=(0,Po.createSelector)(lu,(({shareStatus:e,isLocked:t})=>({shareStatus:e,isLocked:t}))),Tu=(0,Po.createSelector)(lu,(e=>e.disableCrossFiltering??!1)),wu=(0,Po.createSelector)(du,(e=>e?.filters)),Au=(0,Po.createSelector)(wu,(e=>(e??[]).find(a.isDashboardCommonDateFilter))),Pu=(0,Po.createSelector)(wu,(e=>(e??[]).filter(a.isDashboardAttributeFilter))),Ru=(0,Po.createSelector)(wu,(e=>(e??[]).filter((e=>(0,a.isDashboardDateFilterWithDimension)(e)||(0,a.isDashboardAttributeFilter)(e))))),Fu=(0,Po.createSelector)(ou,(e=>e.persistedDashboard?.title)),ku=(0,Po.createSelector)(ou,(e=>e.persistedDashboard?.disableCrossFiltering)),xu=(0,Po.createSelector)(ou,(e=>e.persistedDashboard?.layout)),Lu=(0,Po.createSelector)(ou,(e=>e.persistedDashboard?.attributeFilterConfigs||[])),Mu=(0,Po.createSelector)(Lu,Jc,((e,t)=>!Ma(e,t))),Ou=(0,Po.createSelector)(ou,(e=>e.persistedDashboard?.dateFilterConfigs||[])),Nu=(0,Po.createSelector)(Ou,ru,((e,t)=>!Ma(e,t))),_u=(0,Po.createSelector)(Au,Id,((e,t)=>!Ma(e,t))),Hu=(0,Po.createSelector)(cu,Vc,((e,t)=>!Ma(e,t))),Uu=((0,Po.createSelector)(Pu,yd,((e,t)=>!Ma(e,t))),(0,Po.createSelector)(Ru,Cd,((e,t)=>!Ma(e,t)))),Gu=(0,Po.createSelector)(_u,Uu,Mu,Nu,((e,t,i,r)=>e||t||i||r)),Bu=(0,Po.createSelector)(ku,Tu,((e=!1,t)=>e!==t)),Wu=(0,Po.createSelector)(Fu,Du,((e,t)=>t!==e)),zu=(0,Po.createSelector)(xu,fc,((e,t)=>!Ma(t,e))),Vu=(0,Po.createSelector)(bu,fc,Gu,Wu,zu,Hu,Bu,((e,t,i,r,a,n,o)=>e?!(0,Dr.isDashboardLayoutEmpty)(t):[i,r,a,n,o].some(Boolean))),ju=(0,Po.createSelector)(su,lu,fd,bd,fc,Vc,((e,t,i,r,a,n)=>({type:"IDashboard",...t,ref:e?.ref,uri:e?.uri,identifier:e?.identifier,filterContext:{...r,...i},layout:a,dateFilterConfig:n,...e?.plugins?{plugins:e.plugins}:{}}))),Ku="@@GDC.DASH.TEMP";function qu(e){return e.identifier.startsWith(Ku)}function Yu(e){return e.map((e=>{if(!(0,a.isDashboardLayoutItem)(e))return e;if((0,a.isInsightWidgetDefinition)(e.widget)||(0,a.isKpiWidgetDefinition)(e.widget)||I(e.widget)){const t=function(){const e=`${Ku}-${(0,Q.Z)()}`;return{ref:(0,a.idRef)(e),identifier:e,uri:e}}();return{...e,widget:{...e.widget,...t}}}return e}))}var Zu=i(87185);const $u=mr.getSelectors((e=>e.insights)).selectAll,Xu=(0,Po.createSelector)($u,(e=>e.map(a.insightRef))),Qu=(0,Po.createSelector)($u,Fo,((e,t)=>g(e,t.hasTypeScopedIdentifiers))),Ju=gd((e=>(0,Po.createSelector)(Qu,(t=>e&&t.get(e))))),eg=gd((e=>(0,Po.createSelector)(vc(e),Qu,((e,t)=>t.get(e?.insight)))));async function tg(e,t){const{backend:i,workspace:r}=e,n=await Promise.all(t.map((e=>i.workspace(r).insights().getInsight(e).catch((t=>e)))));return{loaded:n.filter(a.isInsight),missing:n.filter(a.isObjRef)}}function*ig(e,t){const i=yield(0,X.Ys)(Qu),r=[],a=[];t.forEach((e=>{const t=i.get(e);t?r.push(t):a.push(e)}));const n=yield(0,X.RE)(tg,e,a);return{resolved:g([...r,...n.loaded]),loaded:n.loaded,missing:n.missing}}function*rg(e,t){const i=yield(0,X.RE)(ag,e);return{batch:ki(i.batch,"@@GDC.DASH/RESET"),reset:de(e,i.persistedDashboard,t.correlationId)}}function*ag(e){const t=yield(0,X.Ys)(su);let i=[];if(t){const r=function(e){const t=[];return e&&(0,Dr.walkLayout)(e,{widgetCallback:e=>{(0,a.isInsightWidget)(e)&&(t.push(e.insight),e.drills.forEach((e=>{(0,a.isDrillToInsight)(e)&&t.push(e.target)})))}}),t}(t.layout),n=Zu(r,a.areObjRefsEqual),o=yield(0,X.RE)(ig,e,n),l=yield(0,X.Ys)(Qo),s=yield(0,X.Ys)(jc),d=yield(0,X.Ys)(ts),c=Array(...o.resolved.values());i=yield(0,X.RE)(_s,e,t,c,l,s,d)}else i=Ls(yield(0,X.Ys)(Xo));return{batch:i,persistedDashboard:t}}var ng=i(69893),og=i(8705);function lg(e,t){const i=[];let r=null;for(;null!==(r=e.exec(t));)i.push(r);return i}const sg=/\{attribute_title\((.*?)\)\}/g,dg=/\{dash_attribute_filter_selection\((.*?)\)\}/g,cg=/\{attribute_filter_selection\((.*?)\)\}/g,ug=e=>({placeholder:e[0],identifier:e[1],ref:(0,og.Ii)(e[1],"displayForm"),toBeEncoded:0!==e.index}),gg=e=>lg(sg,e).map(ug),mg=e=>lg(dg,e).map(ug),pg=e=>lg(cg,e).map(ug);function hg(e,t,i){return Ga(t,Ha((0,a.isDrillFromAttribute)(e.origin)?e.origin?.attribute:e.origin?.measure)).some((e=>(0,a.areObjRefsEqual)(i.attribute,e.attributeHeader.formOf)))}function fg(e,t=[]){return t.some((t=>t.localIdentifier===e.localIdentifier))}function bg(e){return Gi(e.filter(ng.b(a.isDrillToCustomUrl,a.isDrillToAttributeUrl)).map((e=>(0,a.isDrillToCustomUrl)(e)?gg(e.target.url).map((e=>(0,a.idRef)(e.identifier,"displayForm"))):[e.target.displayForm,e.target.hyperlinkDisplayForm])))}const Dg=(0,Pi.HF)({selectId:e=>(0,a.serializeObjRef)(vg(e))}),vg=e=>({uri:e.uri,identifier:e.identifier}),Eg=Dg.getSelectors((e=>e.drillTargets)).selectAll,yg=(0,Po.createSelector)(Eg,(e=>u(e))),Ig=ud((e=>(0,Po.createSelector)(yg,(t=>t.get(e)))),a.serializeObjRef),Cg=(0,Po.createSelector)((e=>e),(e=>e.accessibleDashboards)),Sg=Ws.getSelectors(Cg).selectAll,Tg=(0,Po.createSelector)(Sg,(e=>u(e))),wg=(0,Pi.HF)({selectId:e=>(0,a.objRefToString)(e.ref)}),Ag=(0,Po.createSelector)((e=>e),(e=>e.inaccessibleDashboards)),Pg=wg.getSelectors(Ag).selectAll,Rg=(0,Po.createSelector)(Pg,(e=>u(e)));function Fg(e,t,i,r){let n=e;if(!t.drillTargets?.availableDrillTargets)throw be(i,r,"Drill targets not set");try{n=function(e,t){const{origin:i}=e;if((0,a.isDrillFromMeasure)(i)){const i=_a(e);if(!(t.measures||[]).some((e=>e.measure.measureHeaderItem.localIdentifier===i)))throw new Error("InsightDrillDefinition origin is not valid measure drillTarget")}if((0,a.isDrillFromAttribute)(i)){const i=_a(e);if(!(t.attributes||[]).some((e=>e.attribute.attributeHeader.localIdentifier===i)))throw new Error("InsightDrillDefinition origin is not valid attribute drillTarget")}return e}(n,t.drillTargets.availableDrillTargets)}catch(e){throw be(i,r,`Invalid drill origin for InsightDrillDefinition. Error: ${e.message}`)}const o={dashboardsMap:t.accessibleDashboardMap,insightsMap:t.resolvedInsights.resolved,displayFormsMap:t.resolvedDisplayForms.resolved,availableDrillTargets:t.drillTargets.availableDrillTargets,inaccessibleDashboardsMap:t.inaccessibleDashboardsMap};try{n=function(e,t){if((0,a.isDrillToDashboard)(e))return function(e,t){const{target:i}=e;if(!i)return e;{let r;const n=t.dashboardsMap.get(i)||t.inaccessibleDashboardsMap.get(i);if(n&&(r={...e,target:(0,a.idRef)(n.identifier,"analyticalDashboard")}),r)return r}throw Error("Unknown target dashboard")}(e,t);if((0,a.isDrillToInsight)(e))return function(e,t){const{target:i}=e;let r;if(i){const a=t.insightsMap.get(i);a&&(r={...e,target:a.insight.ref})}if(r)return r;throw Error("Unknown target Insight")}(e,t);if((0,a.isDrillToCustomUrl)(e))return function(e,t){return bg([e]).forEach((e=>{if(!t.displayFormsMap.get(e))throw new Error(`Cannot find AttributeDisplayForm definition specified by identifier: ${(0,a.objRefToString)(e)}`)})),e}(e,t);if((0,a.isDrillToAttributeUrl)(e))return function(e,t){if(!t.displayFormsMap.get(e.target.displayForm))throw new Error(`Cannot find target displayForm: ${(0,a.objRefToString)(e.target.displayForm)}`);const i=t.displayFormsMap.get(e.target.hyperlinkDisplayForm);if(!i)throw new Error(`Cannot find target hyperlinkDisplayForm: ${(0,a.objRefToString)(e.target.hyperlinkDisplayForm)}`);if("GDC.link"!==i.displayFormType)throw new Error("DisplayFormType of target hyperlinkDisplayForm type has to be GDC.link");if(!hg(e,t.availableDrillTargets,i))throw new Error(`The hyperlinkDisplayForm ${(0,a.objRefToString)(i.ref)} in not a valid drill target`);return e}(e,t);throw new Error("Can not validate unknown drillDefinition")}(n,o)}catch(e){throw be(i,r,`Invalid InsightDrillDefinition. Error: ${e.message}`)}return n}function*kg(e,t,i){const r=Ig(e),n=yield(0,X.Ys)(r),o=yield(0,X.Ys)(Tg),l=yield(0,X.Ys)(Rg),s=t.filter(a.isDrillToInsight).map((e=>e.target)),d=yield(0,X.RE)(ig,i,s),c=bg(t);return{drillTargets:n,accessibleDashboardMap:o,resolvedInsights:d,resolvedDisplayForms:yield(0,X.RE)(bs,i,c),inaccessibleDashboardsMap:l}}function*xg(e,t,i){const r=(yield(0,X.$6)(i.filter(a.isInsightWidget).map((i=>(0,X.RE)(Mg,e,t,i))))).filter((({invalidDrills:e})=>e.length>0));0===r.length?yield(0,X.gz)(Va.removeInvalidDrillWidgetRefs(i.map(a.widgetRef))):(yield(0,X.$6)(r.map((i=>(0,X.RE)(Lg,e,t,i.widget,i.invalidDrills)))),yield(0,X.gz)(Va.addInvalidDrillWidgetRefs(r.map((e=>e.widget.ref)))))}function*Lg(e,t,i,r){const n=i.drills.filter((e=>!fg(e,r)));yield(0,X.gz)(or.replaceWidgetDrillWithoutUndo({ref:(0,a.widgetRef)(i),drillDefinitions:n})),yield(0,X.gz)(gt(e,(0,a.widgetRef)(i),r,t.correlationId))}function*Mg(e,t,i){const r=yield(0,X.RE)(kg,(0,a.widgetRef)(i),i.drills,e);return r.drillTargets?{invalidDrills:Gi(i.drills,(i=>{try{return Fg(i,r,e,t),[]}catch{return[i]}})),widget:i}:{invalidDrills:[],widget:i}}function Og(e,t,i){return{type:"GDC.DASH/QUERY.WIDGET.FILTERS",correlationId:i,payload:{widgetRef:e,insight:t}}}function Ng(e,t){return{type:"GDC.DASH/QUERY.WIDGET.BROKEN_ALERTS",correlationId:t,payload:{widgetRef:e}}}function _g(e,t){return{type:"GDC.DASH/QUERY.WIDGET.ALERT_COUNT",correlationId:t,payload:{widgetRef:e}}}var Hg=i(17204);const Ug="__Q";function Gg(e,t,i=!1){return{type:`${Ug}(${e.type})`,query:e,refresh:i,onError:t?.onError??j,onStart:t?.onStart??j,onSuccess:t?.onSuccess??j}}function Bg(e,t=!1){const i={};return{promise:new Promise(((e,t)=>{i.onSuccess=e,i.onError=t})),envelope:Gg(e,i,t)}}function*Wg(e,t,i){const{query:r,query:{type:a,correlationId:n}}=i,o=n??"(no correlationId provided)";try{try{i.onStart(r)}catch(e){console.warn(`An error has occurred while calling onStart function provided for ${a}@${o} processing:`,e)}yield br(function(e,t,i){return{type:"GDC.DASH/EVT.QUERY.STARTED",ctx:e,correlationId:i,payload:{query:t}}}(t,r,n));const l=yield(0,X.RE)(e.generator,t,i.query,i.refresh??!1);try{i.onSuccess(l)}catch(e){console.warn(`An error has occurred while calling onSuccess function provided for ${a}@${o} processing`,e)}yield br(function(e,t,i,r){return{type:"GDC.DASH/EVT.QUERY.COMPLETED",ctx:e,correlationId:r,payload:{query:t,result:i}}}(t,r,l,n))}catch(e){try{i.onError(e)}catch(e){console.warn(`An error has occurred while calling onError function provided for ${a}@${o} processing:`,e)}Ce(e)?yield br(e):yield br(function(e,t,i,r){return{type:"GDC.DASH/EVT.QUERY.FAILED",ctx:e,correlationId:r,payload:{reason:"INTERNAL_ERROR",message:t,error:i}}}(t,`An internal error has occurred while processing ${a}`,e,n))}}function*zg(e,t=!1){const{promise:i,envelope:r}=Bg(e,t);return yield(0,X.gz)(r),yield(0,X.RE)((()=>i))}function Vg(e){const{attributeElements:t,displayForm:i,negativeSelection:r}=e.attributeFilter;return r?(0,a.newNegativeAttributeFilter)(i,t):(0,a.newPositiveAttributeFilter)(i,t)}function*jg(e){const t=(yield(0,X.$6)(e.map((e=>(0,X.RE)(Kg,e))))).filter((({invalidDrills:e})=>e.length>0));0===t.length?yield(0,X.gz)(Va.resetInvalidCustomUrlDrillParameterWidget(e)):yield(0,X.gz)(Va.setInvalidCustomUrlDrillParameterWidgets(t))}function*Kg(e){const t=Ig((0,a.widgetRef)(e)),i=yield(0,X.Ys)(t);if(!i?.availableDrillTargets)return{widget:e,invalidDrills:[]};const r=yield(0,X.Ys)(gs),n=(yield(0,X.RE)(zg,Og(e.ref))).filter(a.isAttributeFilter).map((e=>qg(e,r))),o=(yield(0,X.Ys)(yd)).map(Vg).map((e=>qg(e,r)));return e.drills.filter(a.isDrillToCustomUrl).reduce(((e,t)=>{const l=bg([t]).some((e=>{const a=r.get(e);return!!a&&!hg(t,i.availableDrillTargets,a)})),s=Gi([t].filter(a.isDrillToCustomUrl).map((e=>mg(e.target.url).map((e=>(0,a.idRef)(e.identifier,"displayForm")))))).some((e=>!r.get(e)||!o.some((t=>(0,a.areObjRefsEqual)((0,a.filterObjRef)(t),e))))),d=Gi([t].filter(a.isDrillToCustomUrl).map((e=>pg(e.target.url).map((e=>(0,a.idRef)(e.identifier,"displayForm")))))).some((e=>!r.get(e)||!n.some((t=>(0,a.areObjRefsEqual)((0,a.filterObjRef)(t),e)))));return(l||s||d)&&e.invalidDrills.push(t),e}),{widget:e,invalidDrills:[]})}function qg(e,t){const i=t.get((0,a.filterObjRef)(e));return i?(0,a.isNegativeAttributeFilter)(e)?{...e,negativeAttributeFilter:{...e.negativeAttributeFilter,displayForm:(0,a.idRef)(i.id,"displayForm")}}:{...e,positiveAttributeFilter:{...e.positiveAttributeFilter,displayForm:(0,a.idRef)(i.id,"displayForm")}}:e}const Yg=(0,Pi.oM)({name:"inaccessibleDashboards",initialState:wg.getInitialState(),reducers:{addInaccessibleDashboards:wg.upsertMany}}),Zg=Yg.reducer,$g=Yg.actions;function*Xg(e,t){const i=yield(0,X.Ys)(Tg),r=Gi(t.filter(a.isInsightWidget).map((({drills:e})=>e.filter(a.isDrillToDashboard)))),n=ka(r.map((({target:e})=>e))).filter((e=>!i.get(e))),o=(yield(0,X.RE)(Qg,e,n)).map((e=>({...e,title:e.title??"",accessibilityLimitation:void 0===e.title?"forbidden":"notShared"})));yield(0,X.gz)($g.addInaccessibleDashboards(o))}async function Qg(e,t){try{return await e.backend.workspace(e.workspace).dashboards().validateDashboardsExistence(t)}catch{return[]}}function*Jg(e,t){const{payload:{renderMode:i,renderModeChangeOptions:r},correlationId:n}=t;if(r.resetDashboard){const t=yield(0,X.RE)(rg,e,Ei(n));yield(0,X.gz)(ki([t.batch,Va.resetInvalidDrillWidgetRefs(),Va.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings(),qa.setRenderMode(i)])),yield(0,X.gz)(t.reset)}else yield(0,X.gz)(ki([Va.resetInvalidDrillWidgetRefs(),Va.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings(),qa.setRenderMode(i)]));if("edit"===i){const i=yield(0,X.Ys)(Rc);yield(0,X.RE)(Xg,e,i),yield(0,X.RE)(xg,e,t,i),yield(0,X.RE)(jg,i.filter(a.isInsightWidget))}return function(e,t,i){return{type:"GDC.DASH/EVT.RENDER_MODE.CHANGED",ctx:e,correlationId:i,payload:{renderMode:t}}}(e,i,n)}const em=e=>{const{created:t,description:i,identifier:r,ref:a,title:n,updated:o,uri:l,tags:s,shareStatus:d,isLocked:c}=e;return{created:t,description:i,identifier:r,ref:a,title:n,updated:o,uri:l,tags:s,shareStatus:d,isLocked:c,availability:"full"}};function tm(e,t){return e.backend.workspace(e.workspace).dashboards().createDashboard(t.dashboardToSave)}function im(e,t){const{persistedDashboard:i,dashboardToSave:r}=t;return(0,m.kG)(i),e.backend.workspace(e.workspace).dashboards().updateDashboard(i,r)}function rm(e,t=!1,i=!0,r){let a={};if(r){const{isUnderStrictControl:r,...n}=e;return a=t&&i?{shareStatus:"private",isUnderStrictControl:!0}:{shareStatus:"public"},{...n,...a}}return e}function*am(e,t){const i=yield(0,X.Ys)(su),r=yield(0,X.Ys)(lu),a=yield(0,X.Ys)(fd),n=yield(0,X.Ys)(bd),o=yield(0,X.Ys)(fc),l=yield(0,X.Ys)(Vc),s=yield(0,X.Ys)(Jc),d=yield(0,X.Ys)(ru),c=yield(0,X.Ys)(Qo),u=yield(0,X.Ys)(Fo),g={ref:i?.ref,uri:i?.uri,identifier:i?.identifier},m=i?.plugins?{plugins:i.plugins}:{},p={type:"IDashboard",...r,title:e.payload.title??r.title,...g,filterContext:{...n,...a},layout:o,dateFilterConfig:l,...s?.length?{attributeFilterConfigs:s}:{},...d?.length?{dateFilterConfigs:d}:{},...m};return{cmd:e,persistedDashboard:i,dashboardFromState:p,dashboardToSave:rm({...p,layout:Ao(o,qu)},c.enableAnalyticalDashboardPermissions,u.supportsAccessControl,t)}}function*nm(e,t,i,r){const a=yield(0,X.RE)(i,e,t),n=wo(t.dashboardFromState.layout,a.layout),o=[Pn.setMeta({dashboard:a}),Hi.updateFilterContextIdentity({filterContextIdentity:Rn(a)}),or.updateWidgetIdentities(n),or.clearLayoutHistory()];if(void 0===t.persistedDashboard){const e=em(a);o.push(Qa.addListedDashboard(e),js.addAccessibleDashboard(e))}return{batch:ki(o,r),dashboard:a}}const om=(0,Po.createSelector)((e=>e),(e=>e.user)),lm=(0,Po.createSelector)(om,(e=>((0,m.kG)(e.user,"attempting to access uninitialized user state"),e.user))),sm=(0,Po.createSelector)(lm,(e=>e.ref));function dm(e,t){return e.backend.workspace(e.workspace).dashboards().createDashboard(t.dashboardToSave)}function*cm(e){const{title:t,useOriginalFilterContext:i}=e.payload,r=t?{title:t}:{},a=yield(0,X.Ys)(su),n=yield(0,X.Ys)(lu),o=yield(0,X.Ys)(su),l=yield(0,X.Ys)(i&&o?uu:fd),s=yield(0,X.Ys)(fc),d=yield(0,X.Ys)(Vc),c=yield(0,X.Ys)(Jc),u=yield(0,X.Ys)(ru),g=yield(0,X.Ys)(Qo),m=yield(0,X.Ys)(Fo),{isUnderStrictControl:p,...h}=n,f={type:"IDashboard",...h,filterContext:{...l},layout:s,dateFilterConfig:d,...c?.length?{attributeFilterConfigs:c}:{},...u?.length?{dateFilterConfigs:u}:{}},b=a?.plugins?{plugins:a.plugins}:{},D=g.enableAnalyticalDashboardPermissions&&m.supportsAccessControl?{isLocked:!1,shareStatus:"private",isUnderStrictControl:!0}:{isLocked:!1,shareStatus:"public"};return{cmd:e,dashboardFromState:f,dashboardToSave:{...f,...r,layout:Ao(s,(()=>!0)),...D,...b}}}function*um(e,t){const i={...yield(0,X.RE)(dm,e,t),createdBy:yield(0,X.Ys)(lm)};if(!t.cmd.payload.switchToCopy)return{dashboard:i};const r=wo(t.dashboardFromState.layout,i.layout);return{batch:ki([Pn.setMeta({dashboard:i}),wa.setAlerts([]),Hi.updateFilterContextIdentity({filterContextIdentity:Rn(i)}),or.updateWidgetIdentities(r),or.clearLayoutHistory()],"@@GDC.DASH.SAVE_AS"),dashboard:i}}function gm(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().deleteDashboard(t)}function*mm(e){const t=yield(0,X.Ys)(Xo);yield(0,X.gz)(ki([...Ls(t),Bs.clearAllExecutionResults()],"@@GDC.DASH/BATCH.CLEAR")),e.dashboardRef=void 0}const pm={dateFilter:{type:"absolute",granularity:"GDC.time.year"}};function hm(e){return e.some(a.isDashboardCommonDateFilter)?e:[pm,...e]}function fm(e,t,i){const{backend:r,workspace:a}=e;return r.workspace(a).dashboards().exportDashboardToPdf(t,i)}function*bm(e){const{newSharingProperties:t}=e.payload,i=yield(0,X.Ys)(su);(0,m.kG)(i,"Cant change sharing of unsaved dashboard");const{filterContext:r,...n}=i;return{cmd:e,persistedDashboard:i,dashboardToSave:{...{...n,...(0,a.isFilterContext)(r)?{filterContext:r}:{}},shareStatus:t.shareStatus,isLocked:t.isLocked,isUnderStrictControl:t.isUnderStrictControl}}}function Dm(e,t){return e.backend.workspace(e.workspace).dashboards().updateDashboard(t.persistedDashboard,t.dashboardToSave)}function vm(e,t){return e.backend.workspace(e.workspace).dashboards().getDashboard(t)}function Em(e,t){const{granteesToAdd:i,granteesToDelete:r}=t.cmd.payload.newSharingProperties,n=[...i,...r].filter(a.isGranularAccessGrantee);return e.backend.workspace(e.workspace).accessControl().changeAccess(e.dashboardRef,n)}function*ym(e,t){const{granteesToAdd:i,granteesToDelete:r}=t.cmd.payload.newSharingProperties,n=[...i,...r].filter(a.isGranularAccessGrantee);p(n)||(yield(0,X.RE)(Em,e,t));const o=yield(0,X.RE)(Js,e),l=id.setDashboardPermissions(o);let s;return s=o.canViewDashboard?e.backend.capabilities.supportsGranularAccessControl?yield(0,X.RE)(vm,e,t.persistedDashboard.ref):yield(0,X.RE)(Dm,e,t):t.persistedDashboard,{batch:ki([Pn.setMeta({dashboard:s}),l],"@@GDC.DASH.SAVE_SHARING"),dashboard:s}}function*Im(e,t){const i=yield(0,X.Ys)(fd);yield br(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.CHANGED",ctx:e,correlationId:i,payload:{filterContext:t}}}(e,i,t.correlationId))}function*Cm(e){const t=yield(0,X.Ys)(Kc),i=vn(e,t);if(!i){if("absolute"===e.dateFilter.type)return!!t?.absoluteForm?.visible;if("relative"===e.dateFilter.type)return"GDC.time.date"===e.dateFilter.granularity&&void 0===e.dateFilter.from&&void 0===e.dateFilter.to?!!t?.allTime?.visible:!!t?.relativeForm?.visible}return!!i}async function Sm(e,t){return t.length?e.backend.workspace(e.workspace).attributes().getAttributes(t):[]}function*Tm(e,t,i){const r=i||(yield(0,X.Ys)(ms)),a=[],n=[];t.forEach((e=>{const t=r.get(e);t?a.push(t.attribute):n.push(e)}));const o=c(yield(0,X.RE)(Sm,e,n)),l=[];return n.forEach((e=>{const t=o.get(e);t?a.push(t):l.push(e)})),{resolved:c(a),missing:l}}function*wm(e,t,i){const r=[],n=new Set,o=yield(0,X.RE)(bs,i,e.map((e=>e.attributeFilter.displayForm)));for(const t of e){const e=t.attributeFilter.displayForm;let l=yield(0,X.Ys)(Ad(e));if(!l&&Fm(i)){if((0,a.isUriRef)(e)&&!i.backend.capabilities.supportsObjectUris)throw new Dr.NotSupported("Unsupported filter ObjRef! Please provide IdentifierRef instead of UriRef.");const t=o.resolved.get(e),r=yield(0,X.RE)(Tm,i,ka([t?.attribute])),n=t?.attribute&&r.resolved.get(t?.attribute);for(const e of n?.displayForms??[])if(l=yield(0,X.Ys)(Ad(e.ref)),l)break}l&&(r.push(Hi.updateAttributeFilterSelection(Rm(t,l))),n.add(l.attributeFilter.localIdentifier))}if(t){const e=(yield(0,X.Ys)(yd)).filter((e=>!n.has(e.attributeFilter.localIdentifier)));e.length>0&&r.push(Hi.clearAttributeFiltersSelection({filterLocalIds:e.map((e=>e.attributeFilter.localIdentifier))}))}return r}function*Am(e,t){if(e){if(!(yield(0,X.RE)(Cm,e)))return[];const t=(0,a.isAllTimeDashboardDateFilter)(e)?{type:"allTime",dataSet:e.dateFilter.dataSet}:{type:e.dateFilter.type,granularity:e.dateFilter.granularity,from:e.dateFilter.from,to:e.dateFilter.to,dataSet:e.dateFilter.dataSet};return[Hi.upsertDateFilter(t)]}return t?[Hi.upsertDateFilter({type:"allTime"})]:[]}function*Pm(e,t){const i=[],r=new Set;for(const t of e){const e=t.dateFilter.dataSet,n=yield(0,X.Ys)(Td(e));if(n){r.add((0,a.serializeObjRef)(n.dateFilter.dataSet));const e=(0,a.isAllTimeDashboardDateFilter)(t)?{type:"allTime",dataSet:t.dateFilter.dataSet}:{type:t.dateFilter.type,granularity:t.dateFilter.granularity,from:t.dateFilter.from,to:t.dateFilter.to,dataSet:t.dateFilter.dataSet};i.push(Hi.upsertDateFilter(e))}}if(t){const t=(yield(0,X.Ys)(Sd)).filter((e=>!r.has((0,a.serializeObjRef)(e.dateFilter.dataSet))));if(t.length>0)for(const t of e)i.push(Hi.upsertDateFilter({type:"allTime",dataSet:t.dateFilter.dataSet}))}return i}const Rm=(e,t)=>{const{attributeElements:i,negativeSelection:r}=e.attributeFilter,n={elements:i,filterLocalId:t.attributeFilter.localIdentifier,negativeSelection:r};if((0,a.isSingleSelectionFilter)(t)){if(r)return{...n,elements:(0,a.updateAttributeElementsItems)(i,[]),negativeSelection:!1};if(!(0,a.attributeElementsIsEmpty)(i)){const e=[(0,a.getAttributeElementsItems)(i)[0]];return{...n,elements:(0,a.updateAttributeElementsItems)(i,e)}}}return n};function Fm(e){return e.backend.capabilities.supportsElementUris}var km=i(14841);async function xm(e,t,i){if(0===i.length)return!0;const r=e.backend.workspace(e.workspace).attributes().getAttributeDisplayForm(t),n=e.backend.workspace(e.workspace).attributes().getAttributeDisplayForms(i.map((e=>e.attributeFilter.displayForm))),[o,l]=await Promise.all([r,n]),s=o.attribute;return!l.map((e=>e.attribute)).some((e=>(0,a.areObjRefsEqual)(e,s)))}function*Lm(e,t){const{displayForm:i,index:r,initialIsNegativeSelection:n,initialSelection:o,parentFilters:l,selectionMode:s,mode:d,localIdentifier:c}=t.payload;if(!(yield(0,X.Ys)(Md)))throw be(e,t,"Attempting to add filter, even though the limit on the count of filters has been reached.");const u=yield(0,X.Ys)(yd),g=yield(0,X.RE)(bs,e,[i]);if(!p(g.missing))throw be(e,t,`Attempting to add filter for a non-existing display form ${(0,a.objRefToString)(i)}.`);const h=g.resolved.get(i);(0,m.kG)(h);const f=h.attribute,b=yield(0,X.RE)(xm,e,i,u);if(!(yield(0,X.Ys)(sc)).includes(c)&&!b)throw be(e,t,`Filter for attribute ${(0,a.objRefToString)(f)} represented by the displayForm ${(0,a.objRefToString)(i)} already exists in the filter context.`);yield(0,X.gz)(ki([Hi.addAttributeFilter({displayForm:h.ref,index:r,initialIsNegativeSelection:n,initialSelection:o,parentFilters:l,selectionMode:s,localIdentifier:c}),Hi.addAttributeFilterDisplayForm(h)]));const D=yield(0,X.Ys)(Pd(c)),v=yield(0,X.Ys)(Ad(h.ref)),E=D??v;(0,m.kG)(E,"Inconsistent state in attributeFilterAddCommandHandler"),(yield(0,X.Ys)(Fo)).supportsHiddenAndLockedFiltersOnUI&&d&&(yield(0,X.gz)(ki([Ss.changeMode({localIdentifier:E.attributeFilter.localIdentifier,mode:d})]))),yield br(function(e,t,i,r){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADDED",ctx:e,correlationId:r,payload:{added:t,index:i}}}(e,E,t.payload.index,t.correlationId)),yield(0,X.RE)(Im,e,t);const y=yield(0,X.Ys)(Rc);yield(0,X.RE)(jg,y.filter(a.isInsightWidget))}function*Mm(e,t){const{filterLocalIds:i}=t.payload,r=yield(0,X.Ys)(yd),[n,o]=Li(r,(e=>i.includes(e.attributeFilter.localIdentifier))),l=_n(i,r.map((e=>e.attributeFilter.localIdentifier)));if(l.length)throw be(e,t,`Invalid filterLocalIds provided. These ids were not found: ${l.join(", ")}.`);for(const r of n){const n=o.filter((e=>e.attributeFilter.filterElementsBy?.some((e=>i.includes(e.filterLocalIdentifier))))),l=o.some((e=>(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,r.attributeFilter.displayForm)))?[]:[or.removeIgnoredAttributeFilter({displayFormRefs:[r.attributeFilter.displayForm]})],s=ki(ka([...n.map((({attributeFilter:e})=>Hi.setAttributeFilterParents({filterLocalId:e.localIdentifier,parentFilters:e.filterElementsBy.filter((e=>e.filterLocalIdentifier!==r?.attributeFilter.localIdentifier))}))),Hi.removeAttributeFilter({filterLocalId:r.attributeFilter.localIdentifier}),Hi.removeAttributeFilterDisplayForms(r.attributeFilter.displayForm),Ss.removeAttributeFilterConfig(r.attributeFilter.localIdentifier),...l]));yield(0,X.gz)(s),yield br(Pe(e,r,n,t.correlationId))}yield(0,X.RE)(Im,e,t);const s=yield(0,X.Ys)(Rc);yield(0,X.RE)(jg,s.filter(a.isInsightWidget))}function*Om(e,t){const{elements:i,filterLocalId:r,selectionType:a}=t.payload;if(!(yield(0,X.Ys)(Pd(t.payload.filterLocalId))))throw be(e,t,`Filter with filterLocalId ${r} not found.`);yield(0,X.gz)(Hi.updateAttributeFilterSelection({elements:i,filterLocalId:r,negativeSelection:"NOT_IN"===a}));const n=yield(0,X.Ys)(Pd(t.payload.filterLocalId));if((0,m.kG)(n,"Inconsistent state in attributeFilterChangeSelectionCommandHandler"),!e.backend.capabilities.supportsKeepingDependentFiltersSelection){const e=yield(0,X.Ys)(Rd(n.attributeFilter.localIdentifier));yield(0,X.$6)(e.map((e=>(0,X.gz)(Hi.updateAttributeFilterSelection({filterLocalId:e,elements:{uris:[]},negativeSelection:!0})))))}yield br(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,n,t.correlationId)),yield(0,X.RE)(Im,e,t)}var Nm=i(70735),_m=i(4788);async function Hm(e,t,i,r,n){const o=r.filter((e=>!(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,t.attributeFilter.displayForm))),l=o.map((e=>e.attributeFilter.localIdentifier));if(i.some((e=>!l.includes(e.filterLocalIdentifier))))return"EXTRANEOUS_PARENT";const s=i.map((e=>{const i=o.find((t=>t.attributeFilter.localIdentifier===e.filterLocalIdentifier)),r=n.get(i.attributeFilter.displayForm)?.attribute,a=n.get(t.attributeFilter.displayForm)?.attribute;if(r&&a)return{parentOverAttributes:e.over.attributes,displayFormsToGetAncestorsFor:[a,r]}}));if(s.some((e=>void 0===e)))return"INVALID_METADATA";if(e.backend.capabilities.supportsSettingConnectingAttributes){const t=await e.backend.workspace(e.workspace).attributes().getCommonAttributesBatch(s.map((e=>e.displayFormsToGetAncestorsFor)));return _m(s.map((e=>e.parentOverAttributes)),t).every((([e,t])=>0===Nm(e,t,a.objRefToString).length))?"VALID":"INVALID_CONNECTION"}return"VALID"}function Um(e,t){return-1===t||!(!p(e.sections)||t)||t<=e.sections.length}function Gm(e,t){return t>-1&&t<e.sections.length}function Bm(e,t){return-1===t||!(!p(e.items)||t)||t<=e.items.length}function Wm(e,t){return t>-1&&t<e.items.length}function zm(e,t){const i={missing:[],existing:[],resolved:[],newItemBitmap:[]};return t.forEach((t=>{if("string"!=typeof t)return i.resolved.push(t),void i.newItemBitmap.push(!0);void 0!==e[t]?(i.existing.push(t),i.resolved.push(...e[t]),i.newItemBitmap.push(...e[t].map((e=>!1)))):i.missing.push(t)})),i}function Vm(e,t){return{type:"GDC.DASH/QUERY.INSIGHT.DATE.DATASETS",correlationId:t,payload:{insightOrRef:e}}}function jm(e){const{mostImportantFromInsight:t,dateDatasetsOrdered:i}=e;return t??i[0]}function Km(e,t){return{type:"GDC.DASH/QUERY.INSIGHT.ATTRIBUTE.META",correlationId:t,payload:{insightOrRef:e}}}function qm(e,t){return{type:"GDC.DASH/QUERY.MEASURE.DATE.DATASETS",correlationId:t,payload:{measureRef:e}}}function*Ym(e,t,i,r,n){const o=yield(0,X.RE)(zg,Vm(n||i.insight)),l=s((yield(0,X.Ys)(Wl))?yield(0,X.Ys)(ts):o.allAvailableDateDatasets).get(r);if(!l)throw be(e,t,`Attempting to use date dataset ${(0,a.objRefToString)(r)}\n            to filter insight widget ${(0,a.objRefToString)(i.ref)} but the data set either does not exist or\n            is not valid to use for filtering the insight.`);return l}function*Zm(e,t,i,r){const n=s((yield(0,X.RE)(zg,qm(i.kpi.metric))).dateDatasets).get(r);if(!n)throw be(e,t,`Attempting to use date dataset ${(0,a.objRefToString)(r)}\n            to filter insight widget ${(0,a.objRefToString)(i.ref)} but the data set either does not exist or\n            is not valid to use for filtering the insight.`);return n}function*$m(e,t,i,r){const n=yield(0,X.RE)(bs,e,r),{missing:o,resolved:l}=n;if(!p(o))throw be(e,t,`Attempting to disable attribute filters but some of the display form refs to disable filters by do not exist: ${o.map(a.objRefToString).join(", ")}`);const s=yield(0,X.Ys)(yd),d=[],c=[];for(const e of l.values()){const t=s.find((t=>(0,a.areObjRefsEqual)(t.attributeFilter.displayForm,e.ref)));t?c.push(t):d.push(e.ref)}if(!p(d))throw be(e,t,`Attempting to disable attribute filters but some of the display form refs to disable filters by are not used for filtering at all: ${d.map(a.objRefToString).join(", ")}`);return c}function Xm(e,t){return e.map((e=>{if((0,a.isInsightWidget)(e.widget)){const i=t.get(e.widget.insight);return(0,m.kG)(i),{...e,widget:{...e.widget,insight:(0,a.insightRef)(i)}}}return e}))}function*Qm(e,t,i){const r=function(e){const t=[];return e.forEach((e=>{(0,a.isInsightWidget)(e.widget)&&t.push(e.widget.insight)})),t}(t.resolved),n=yield(0,X.RE)(ig,e,r);if(!p(n.missing))throw be(e,i,`Attempting to add dashboard items that reference missing insights: ${n.missing.map(a.objRefToString).join(", ")}`);return{normalizedItems:{...t,resolved:Xm(t.resolved,n.resolved)},resolvedInsights:n}}function*Jm(e,t,i,r,n){const o=i.ignoreDashboardFilters.filter(a.isDashboardAttributeFilterReference).map((e=>e.displayForm));if(yield(0,X.RE)($m,e,t,i,o),i.dateDataSet)return yield(0,X.RE)(Ym,e,t,i,i.dateDataSet,n),i;if(r){const e=yield(0,X.RE)(zg,Vm(n));return{...i,dateDataSet:jm(e)?.dataSet.ref}}return i}function*ep(e,t,i,r){const n=i.ignoreDashboardFilters.filter(a.isDashboardAttributeFilterReference).map((e=>e.displayForm));if(yield(0,X.RE)($m,e,t,i,n),i.dateDataSet)return yield(0,X.RE)(Zm,e,t,i,i.dateDataSet),i;if(r){const e=yield(0,X.RE)(zg,qm(i.kpi.metric));return{...i,dateDataSet:e.dateDatasetsOrdered[0]?.dataSet.ref}}return i}function tp(e,t){const i=e.ignoreDashboardFilters.filter((e=>!(0,a.isDashboardAttributeFilterReference)(e)||t.find((t=>(0,a.areObjRefsEqual)(t.attributeFilter.displayForm,e.displayForm)))));return{...e,ignoreDashboardFilters:i}}function*ip(e,t,i,r=!1){const n=yield(0,X.Ys)(yd),{resolvedInsights:o,normalizedItems:l}=i,s=[];let d=0;for(const i of l.resolved){const c=i.widget;if(l.newItemBitmap[d])if((0,a.isInsightWidget)(c)){const a=o.resolved.get(c.insight);(0,m.kG)(a);const n=yield(0,X.RE)(Jm,e,t,c,r,a);s.push({...i,widget:n})}else if((0,a.isKpiWidget)(c)){const a=yield(0,X.RE)(ep,e,t,c,r);s.push({...i,widget:a})}else s.push(i);else if((0,a.isInsightWidget)(c)||(0,a.isKpiWidget)(c)){const e=tp(c,n);s.push({...i,widget:e})}else s.push(i);d++}return s}function rp(e){return e&&{...e.description&&{description:e.description},...e.title&&{title:e.title}}}var ap=i(82492);function*np(e,t,i=t){const r={ctx:e,cmd:t,originalCmd:i,layout:yield(0,X.Ys)(hc)},{fromSection:a,itemToRemove:n}=function(e){const{ctx:t,cmd:{payload:{sectionIndex:i,itemIndex:r}},layout:a}=e;if(!Gm(a,i))throw be(t,e.originalCmd,`Attempting to remove item from non-existent section at ${i}. There are only ${a.sections.length} sections.`);const n=a.sections[i];if(!Wm(n,r))throw be(t,e.originalCmd,`Attempting to remove non-existent item from index ${r} in section ${i}. There are only ${n.items.length} items in this section.`);return{fromSection:n,itemToRemove:n.items[r]}}(r),{sectionIndex:o,itemIndex:l,eager:s,stashIdentifier:d}=t.payload;if(s&&1===a.items.length){yield(0,X.gz)(or.removeSection({index:o,stashIdentifier:d,undo:{cmd:i}}));const r={...a,items:[]};yield br(qe(e,n,l,r,d,t.correlationId)),yield br(Be(e,r,o,!0,void 0,t.correlationId))}else yield(0,X.gz)(or.removeSectionItem({sectionIndex:o,itemIndex:l,stashIdentifier:d,undo:{cmd:i}})),yield br(qe(e,n,l,void 0,d,t.correlationId))}const op=e=>0;function lp(e,t,i){const{payload:{ref:r}}=t,n=e.get(r);if(!n)throw be(i,t,`Cannot find insight widget with ref: ${(0,a.serializeObjRef)(r)}.`);if(!(0,a.isInsightWidget)(n))throw be(i,t,`Widget with ref: ${(0,a.serializeObjRef)(r)} exists but is not an insight widget.`);return n}function sp(e,t,i){const{payload:{ref:r}}=t,n=e.get(r);if(!n)throw be(i,t,`Cannot find insight widget with ref: ${(0,a.serializeObjRef)(r)}.`);if(!(0,a.isKpiWidget)(n))throw be(i,t,`Widget with ref: ${(0,a.serializeObjRef)(r)} exists but is not a KPI widget.`);return n}function*dp(e,t){const{payload:{measureRef:i}}=t,r=(yield(0,X.Ys)(ps)).get(i);if(!r)throw be(e,t,`Attempting to use non-existent measure for KPI widget. ${(0,a.objRefToString)(i)} does not exist.`);return r}function*cp(e,t){if(!e.dateDataSet)return;const i=yield(0,X.RE)(zg,qm(t.measure.ref));return s(i.dateDatasets).get(e.dateDataSet)||(p(i.dateDatasetsOrdered)?void 0:i.dateDatasetsOrdered[0])}function up(e,t){const i=t.map((e=>(0,a.isDashboardDateFilterReference)(e)?e.dataSet:e.displayForm));return e.filter((e=>i.some((t=>(0,a.isDashboardDateFilter)(e)?(0,a.areObjRefsEqual)(e.dateFilter.dataSet,t):(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,t)))))}function*gp(e,t,i,r,a){let n,o;if(a.dateDatasetForFiltering&&(n=yield(0,X.RE)(t.dateDatasetValidator,e,i,r,a.dateDatasetForFiltering)),a.ignoreAttributeFilters&&(o=yield(0,X.RE)(t.attributeFilterValidator,e,i,r,a.ignoreAttributeFilters)),a.ignoreDateFilters&&t.dateFilterValidator){const n=yield(0,X.RE)(t.dateFilterValidator,e,i,r,a.ignoreDateFilters);o?o.push(...n):o=n}return{dateDataSet:n,ignoredFilters:o}}function*mp(e,t){return{dateDataSet:t,ignoredFilters:up(yield(0,X.Ys)(Cd),e.ignoreDashboardFilters)}}function*pp(e,t,i,r){return yield(0,X.RE)(mp,r,void 0)}function*hp(e,t,i,r,n){let o;return"default"===n.dateDataset?(0,a.isInsightWidget)(r)?o=jm(yield(0,X.RE)(zg,Vm(r.insight))):(0,a.isKpiWidget)(r)?o=(yield(0,X.RE)(zg,qm(r.kpi.metric))).dateDatasetsOrdered[0]:(0,m.kG)(!1,"Cannot use default date dataset for custom widgets"):o=yield(0,X.RE)(t.dateDatasetValidator,e,i,r,n.dateDataset),yield(0,X.RE)(mp,r,o)}function*fp(e,t){const i=yield(0,X.Ys)(us);return{dateDataSet:e.dateDataSet?i.get(e.dateDataSet):void 0,ignoredFilters:t}}function*bp(e,t,i,r,a){const n=yield(0,X.RE)(t.attributeFilterValidator,e,i,r,a.displayFormRefs),o=yield(0,X.RE)(Dp,r);return yield(0,X.RE)(fp,r,n?[...n,...o]:o)}function*Dp(e){return function(e,t){const i=t.filter(a.isDashboardDateFilterReference).map((e=>e.dataSet));return e.filter((e=>i.some((t=>(0,a.areObjRefsEqual)(e.dateFilter.dataSet,t)))))}(yield(0,X.Ys)(Sd),e.ignoreDashboardFilters)}function*vp(e){return function(e,t){const i=t.filter(a.isDashboardAttributeFilterReference).map((e=>e.displayForm));return e.filter((e=>i.some((t=>(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,t)))))}(yield(0,X.Ys)(yd),e.ignoreDashboardFilters)}function*Ep(e,t,i,r,n){const o=yield(0,X.RE)(t.attributeFilterValidator,e,i,r,n.displayFormRefs),l=yield(0,X.RE)(vp,r),s=(o??[]).filter((e=>!l.some((t=>(0,a.areObjRefsEqual)(t.attributeFilter.displayForm,e.attributeFilter.displayForm))))),d=yield(0,X.RE)(Dp,r);return yield(0,X.RE)(fp,r,[...l,...s,...d])}function*yp(e,t,i,r,n){const o=yield(0,X.RE)(t.attributeFilterValidator,e,i,r,n.displayFormRefs),l=(yield(0,X.RE)(vp,r)).filter((e=>!(o??[]).some((t=>(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,t.attributeFilter.displayForm))))),s=yield(0,X.RE)(Dp,r);return yield(0,X.RE)(fp,r,[...l,...s])}function*Ip(e,t,i,r,n){let o=[];if(t.dateFilterValidator){const a=yield(0,X.RE)(t.dateFilterValidator,e,i,r,n.dateDataSetRefs);o=a.map((e=>e.dateFilter.dataSet))}else o=n.dateDataSetRefs;const l=yield(0,X.Ys)(Sd),s=yield(0,X.RE)(Dp,r),d=l.filter((e=>!s.some((t=>(0,a.areObjRefsEqual)(t.dateFilter.dataSet,e.dateFilter.dataSet)))&&o.some((t=>(0,a.areObjRefsEqual)(t,e.dateFilter.dataSet))))),c=yield(0,X.RE)(vp,r);return yield(0,X.RE)(fp,r,[...s,...d,...c])}function*Cp(e,t,i,r,n){let o=[];if(t.dateFilterValidator){const a=yield(0,X.RE)(t.dateFilterValidator,e,i,r,n.dateDataSetRefs);o=a.map((e=>e.dateFilter.dataSet))}else o=n.dateDataSetRefs;const l=(yield(0,X.RE)(Dp,r)).filter((e=>!(o??[]).some((t=>(0,a.areObjRefsEqual)(e.dateFilter.dataSet,t))))),s=yield(0,X.RE)(vp,r);return yield(0,X.RE)(fp,r,[...l,...s])}function*Sp(e,t,i,r){const{payload:{operation:a}}=i;switch(a.type){case"replace":return yield(0,X.RE)(gp,e,t,i,r,a);case"disableDateFilter":return yield(0,X.RE)(pp,e,t,i,r);case"enableDateFilter":return yield(0,X.RE)(hp,e,t,i,r,a);case"replaceAttributeIgnores":return yield(0,X.RE)(bp,e,t,i,r,a);case"ignoreAttributeFilter":return yield(0,X.RE)(Ep,e,t,i,r,a);case"unignoreAttributeFilter":return yield(0,X.RE)(yp,e,t,i,r,a);case"ignoreDateFilter":return yield(0,X.RE)(Ip,e,t,i,r,a);case"unignoreDateFilter":return yield(0,X.RE)(Cp,e,t,i,r,a)}}const Tp={dateDatasetValidator:Zm,attributeFilterValidator:$m},wp={dateDatasetValidator:Ym,attributeFilterValidator:$m,dateFilterValidator:function*(e,t,i,r){const n=yield(0,X.Ys)(us),[o,l]=Li(r,(e=>n.has(e)));if(!p(l))throw be(e,t,`Attempting to disable date filters but some of the date data set refs to disable filters by do not exist: ${l.map(a.objRefToString).join(", ")}`);const s=yield(0,X.Ys)(Sd),d=[],c=[];for(const e of o.values()){const t=s.find((t=>(0,a.areObjRefsEqual)(t.dateFilter.dataSet,e)));t?c.push(t):d.push(e)}if(!p(d))throw be(e,t,`Attempting to disable date filters but some of the date data set refs to disable filters by are not used for filtering at all: ${d.map(a.objRefToString).join(", ")}`);return c}};function Ap(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_HEADER",correlationId:i,payload:{ref:e,header:t}}}function Pp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"replace",...t}}}}function Rp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"enableDateFilter",dateDataset:t}}}}function Fp(e,t){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:t,payload:{ref:e,operation:{type:"disableDateFilter"}}}}function kp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"replaceAttributeIgnores",displayFormRefs:t??[]}}}}function xp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"ignoreAttributeFilter",displayFormRefs:(0,a.isObjRef)(t)?[t]:t}}}}function Lp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"unignoreAttributeFilter",displayFormRefs:(0,a.isObjRef)(t)?[t]:t}}}}function Mp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_PROPERTIES",correlationId:i,payload:{ref:e,properties:t}}}function Op(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_CONFIGURATION",correlationId:i,payload:{ref:e,config:t}}}function Np(e,t,i,r){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_INSIGHT",correlationId:r,payload:{ref:e,insightRef:t,visualizationProperties:i}}}function _p(e,t,i,r){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILLS",correlationId:r,payload:{ref:e,drills:t,blacklistHierarchiesToUpdate:i}}}function Hp(e){return{type:"GDC.DASH/CMD.ATTRIBUTE_HIERARCHY_MODIFIED",correlationId:e}}function Up(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILLS",correlationId:i,payload:{ref:e,localIdentifiers:t}}}function Gp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILL_DOWN",correlationId:i,payload:{ref:e,blacklistHierarchies:t}}}function Bp(e,t,i,r,a){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.ADD_DRILL_DOWN",correlationId:a,payload:{ref:e,attributeIdentifier:t,drillDownIdentifier:i,drillDownAttributeHierarchyRef:r}}}function Wp(e,t,i,r,a){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILL_DOWN",correlationId:a,payload:{ref:e,attributeIdentifier:t,attributeHierarchyRef:i,blacklistHierarchies:r}}}function zp(e,t){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.REFRESH",correlationId:t,payload:{ref:e}}}function Vp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.EXPORT",correlationId:i,payload:{config:t,ref:e}}}function jp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_DESCRIPTION",correlationId:i,payload:{ref:e,description:t}}}function Kp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"ignoreDateFilter",dateDataSetRefs:(0,a.isObjRef)(t)?[t]:t}}}}function qp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"unignoreDateFilter",dateDataSetRefs:(0,a.isObjRef)(t)?[t]:t}}}}const Yp=ng.b(Z.isUnknownSdkError,Z.isBadRequest,Z.isNoDataSdkError,Z.isProtectedReport,Z.isDataTooLargeToCompute,xn.isEmptyAfm),Zp=ng.b(Z.isUnknownSdkError,Z.isBadRequest,Z.isNoDataSdkError,Z.isDataTooLargeToCompute,Z.isDataTooLargeToDisplay,Z.isProtectedReport,xn.isEmptyAfm,Z.isNegativeValues),$p=(0,Po.createSelector)((e=>e),(e=>e.permissions)),Xp=(0,Po.createSelector)($p,(e=>((0,m.kG)(e.permissions,"attempting to access uninitialized permissions state"),e.permissions))),Qp=(0,Po.createSelector)(Xp,(e=>e?.canListUsersInProject??!1)),Jp=(0,Po.createSelector)(Xp,(e=>e?.canManageProject??!1)),eh=(0,Po.createSelector)(Xp,(e=>e?.canExportReport??!1)),th=(0,Po.createSelector)(Xp,(e=>(e?.canExportReport||e?.canExportTabular)??!1)),ih=(0,Po.createSelector)(Xp,(e=>(e?.canExportReport||e?.canExportPdf)??!1)),rh=(0,Po.createSelector)(Xp,(e=>e?.canCreateAnalyticalDashboard??!1)),ah=(0,Po.createSelector)(Xp,(e=>e?.canManageAnalyticalDashboard??!1)),nh=(0,Po.createSelector)(Xp,(e=>e?.canManageACL??!1)),oh=(0,Po.createSelector)(Xp,(e=>e?.canCreateScheduledMail??!1)),lh=(0,Po.createSelector)(Xp,(e=>e?.canInitData??!1)),sh=(0,Po.createSelector)(Xp,(e=>e?.canUploadNonProductionCSV??!1)),dh=(0,Po.createSelector)(Xp,(e=>e?.canExecuteRaw??!1)),ch=(0,Po.createSelector)(Xp,(e=>e?.canCreateVisualization??!1)),uh=(0,Po.createSelector)(Xp,(e=>e?.canManageMetric??!1)),gh=(0,Po.createSelector)(Xp,(e=>e?.canManageDomain??!1)),mh=(0,Po.createSelector)(Xp,(e=>e?.canInviteUserToProject??!1)),ph=(0,Po.createSelector)(Xp,(e=>e?.canRefreshData??!1)),hh=(0,Po.createSelector)(Xp,(e=>e?.canManageScheduledMail??!1)),fh=(0,Po.createSelector)(Jp,(e=>e)),bh=(0,Po.createSelector)((e=>e),(e=>e.executionResults)),Dh=Hs.getSelectors(bh),vh=Dh.selectEntities,Eh=Dh.selectById,yh=gd((e=>(0,Po.createSelector)(vh,(t=>t[(0,a.serializeObjRef)(e)])))),Ih=gd((e=>(0,Po.createSelector)(yh(e),Ec(e),(e=>{if(!e)return!1;const{isLoading:t,error:i,executionResult:r}=e;return!!r&&!t&&!Yp(i)})))),Ch=gd((e=>(0,Po.createSelector)(No,Ih(e),th,dh,Qo,((e,t,i,r,a)=>{const n=Boolean(a.enableKPIDashboardExport&&i),o=Boolean(n&&r);return e&&t&&o})))),Sh=gd((e=>(0,Po.createSelector)(_o,Ih(e),th,Qo,((e,t,i,r)=>{const a=Boolean(r.enableKPIDashboardExport&&i);return e&&t&&a}))));async function Th(e,t){return(0,Z.createExportFunction)(e)(t)}function*wh(e,t,i){if(!(yield(0,X.Ys)(Ih(i))))throw be(e,t,`The widget with ref: ${(0,a.serializeObjRef)(i)} cannot be exported at the moment.`)}function*Ah(e,t){const{config:i,ref:r}=t.payload;let n=!1;if("csv"===i.format&&(n=yield(0,X.Ys)(Ch(r))),"xlsx"===i.format&&(n=yield(0,X.Ys)(Sh(r))),!n)throw be(e,t,`The widget with ref: ${(0,a.serializeObjRef)(r)} cannot be exported because the feature is disabled or the user does not have the necessary permissions.`)}function Ph(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().createWidgetAlert(t)}function Rh(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().updateWidgetAlert(t)}const Fh=(0,Po.createSelector)((e=>e),(e=>e.alerts)),kh=Ca.getSelectors(Fh).selectAll,xh=(0,Po.createSelector)(kh,Dc,((e,t)=>u(ka(e.map((e=>{const i=t.get(e.widget);if(i)return{identifier:i.identifier,uri:i.uri,ref:i.ref,alert:e}})))))),Lh=ud((e=>(0,Po.createSelector)(xh,(t=>{const i=t.get(e);return i?.alert}))),a.serializeObjRef),Mh=(0,Po.createSelector)(kh,(e=>u(e))),Oh=ud((e=>(0,Po.createSelector)(Mh,(t=>t.get(e)))),a.serializeObjRef);function Nh(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().deleteWidgetAlerts(t)}function _h(e,t,i){const{backend:r,workspace:a}=e;return r.workspace(a).dashboards().createScheduledMail(t,i)}function Hh(e,t,i){const{backend:r,workspace:n}=e;if(!(0,a.isObjRef)(t))throw new Error("Cannot save schedule not referencing to an persisted object");return r.workspace(n).dashboards().updateScheduledMail(t,t,i)}function Uh(e,t,i){return e.map((e=>e.header)).filter((e=>function(e,t){const i=(0,Z.isDrillIntersectionAttributeItem)(e)?e:void 0,r=i?.attributeHeader?.formOf?.ref;return!!r&&!t.some((e=>(0,a.areObjRefsEqual)(e,r)))}(e,t))).filter(Z.isDrillIntersectionAttributeItem).map((e=>i?(0,a.newPositiveAttributeFilter)(e.attributeHeader.ref,{uris:[e.attributeHeaderItem.uri]}):(0,a.newPositiveAttributeFilter)(e.attributeHeader.ref,{uris:[e.attributeHeaderItem.name]})))}function Gh(e){return Id(e)??(0,a.newAllTimeDashboardDateFilter)()}function Bh(e){return yd(e)}function Wh(e){return Cd(e)}function*zh(e,t,i){const r=(yield(0,X.Ys)(i?Cd:yd)).map((e=>function(e,t){return(0,a.isDashboardAttributeFilter)(e)?Hd(e):Ud(e,t)}(e,t)));return yield(0,X.RE)(Vh,e,t,r)}function Vh(e,t,i){return e.backend.workspace(e.workspace).dashboards().getResolvedFiltersForWidgetWithMultipleDateFilters(t,[],i)}async function jh(e,t,i,r){const a={elements:r.backend.capabilities.supportsElementUris?{uris:[i]}:{primaryValues:[i]}};return(await r.backend.workspace(e).attributes().elements().forDisplayForm(t).withLimit(1).withOptions(a).query()).items[0].title}function*Kh(e,t,i){const r=function(e,t){return t.drillContext.intersection.find((t=>(0,Z.isDrillIntersectionAttributeItem)(t.header)&&(0,a.areObjRefsEqual)(t.header.attributeHeader.ref,e.target.displayForm)))?.header}(e,t);if(r)return yield(0,X.RE)(jh,i.workspace,e.target.hyperlinkDisplayForm,r.attributeHeaderItem.uri,i)}function qh(e){return(0,a.isAttributeFilter)(e)||(0,a.isDateFilter)(e)}function Yh(e){return!p(e)&&"drillDown"===e.type}function*Zh(e,t){const i=(yield(0,X.RE)(zg,Og(t,null))).filter(qh);return(yield(0,X.Ys)(cl))?{filters:i,resolvedFilterValues:yield(0,X.RE)(f,i,e.backend,e.workspace)}:{filters:i}}function*$h(e,t,i,r){return{identifier:t,elementTitle:yield(0,X.RE)(jh,r.workspace,e,i,r)}}function Xh(e,t){const i=e.find((({header:e})=>(0,a.isAttributeDescriptor)(e)&&(0,a.areObjRefsEqual)(t,e.attributeHeader.formOf.ref)));if(i&&(0,Z.isDrillIntersectionAttributeItem)(i.header))return i.header.attributeHeaderItem}function*Qh(e,t){if(t.backend.capabilities.supportsElementUris)return{displayFormForValueLoad:e,displayFormsWithKnownValues:[]};const i=(yield(0,X.Ys)(rs)).map((e=>e.attribute.ref)),{true:r=[],false:n=[]}=yr(e,(e=>{return t=i,r=e.attribute,t.some((e=>(0,a.areObjRefsEqual)(e,r)));var t,r}));return{displayFormsWithKnownValues:r,displayFormForValueLoad:n}}function*Jh(e,t,i){const r=yield(0,X.RE)(Qh,t,i),{displayFormsWithKnownValues:a,displayFormForValueLoad:n}=r;return[...a.reduce(((t,{id:i,attribute:r})=>{const a=Xh(e,r);return a?(t.push({identifier:i,elementTitle:a.uri}),t):t}),[]),...yield(0,X.$6)(n.reduce(((t,r)=>{const{id:a,attribute:n,ref:o}=r,l=Xh(e,n);return l?(t.push((0,X.RE)($h,o,a,l.uri,i)),t):t}),[]))]}const ef=e=>Mn(e)?e:encodeURIComponent(e);function tf(e,t,i){return i.backend.workspace(e).attributes().getAttributeDisplayForms(t)}function*rf(e,t,i){const r=gg(e);if(0===r.length)return[];const n=yield(0,X.RE)(tf,i.workspace,r.map((e=>(0,a.idRef)(e.identifier))),i),o=yield(0,X.RE)(Jh,t,n,i);return r.map((({placeholder:e,identifier:t,toBeEncoded:i})=>{const r=o.find((e=>e.identifier===t))?.elementTitle;return{toBeReplaced:e,replacement:i?ef(r):r}}))}function*af(e){const t=mg(e);if(0===t.length)return[];const i=yield(0,X.Ys)(yd),r=yield(0,X.Ys)(gs);return t.map((({placeholder:e,ref:t})=>{const n=i.find((e=>{const i=r.get(e.attributeFilter.displayForm);return i&&(0,a.areObjRefsEqual)((0,a.idRef)(i.id),t)})),o=n?.attributeFilter.attributeElements,l=(0,a.isAttributeElementsByValue)(o)?o.values:o?.uris??[],s=n?.attributeFilter.negativeSelection,d=n?df(l,s):void 0;return{toBeReplaced:e,replacement:ef(d)}}))}function*nf(e,t){const i=pg(e);if(0===i.length)return[];const r=yield(0,X.RE)(zg,Og(t)),n=yield(0,X.Ys)(gs);return i.map((({placeholder:e,ref:t})=>{const i=r.find((e=>{const i=(0,a.filterObjRef)(e),r=i&&n.get(i);return r&&(0,a.areObjRefsEqual)((0,a.idRef)(r.id),t)})),o=i?(0,a.filterAttributeElements)(i):void 0,l=(0,a.isAttributeElementsByValue)(o)?o.values:o?.uris??[],s=(0,a.isNegativeAttributeFilter)(i),d=i?df(l,s):void 0;return{toBeReplaced:e,replacement:ef(d)}}))}const of=(e,t="")=>({toBeReplaced:e,replacement:t,replaceGlobally:!0});function*lf(e,t,i){const{workspace:r,clientId:n,dataProductId:o}=i,l=yield(0,X.Ys)(mu),s=yield(0,X.Ys)(Ec(t)),d=yield(0,X.Ys)(Ju(s.insight)),c=[of(D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID,r),of(D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID,r),of(D.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID,l),of(D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID,n),of(D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID,o),of(D.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID,(0,a.insightId)(d))];return e.includes(D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID)?[...c,of(D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID,s.identifier)]:c}function*sf(e,t,i,r,a){const n=e.target.url,o=yield(0,X.RE)(rf,n,i.drillContext.intersection,r),l=yield(0,X.RE)(af,n),s=yield(0,X.RE)(nf,n,t),d=[...o,...l,...s].find((({replacement:e})=>void 0===e));if(d)throw be(r,a,`Drill to custom URL unable to resolve missing parameter ${d.toBeReplaced}`);const c=yield(0,X.RE)(lf,n,t,r);return((e,t)=>t.reduce(((e,{toBeReplaced:t,replacement:i,replaceGlobally:r})=>e.replace(r?new RegExp(t,"g"):t,i)),e))(n,[...o,...l,...s,...c])}function df(e,t){return`${t?"NOT_IN":"IN"}${Jr(e)}`}const cf=(0,Pi.oM)({name:"drillTargets",initialState:Dg.getInitialState(),reducers:{addDrillTargets:Dg.upsertOne}}),uf=cf.reducer,gf=cf.actions;async function mf(e,t,i){if(!t)return"INVALID_FILTER_ATTRIBUTE";const{backend:r,workspace:n}=e;return(await r.workspace(n).attributes().getAttribute(t)).displayForms.some((e=>(0,a.areObjRefsEqual)((0,a.idRef)(e.id,"displayForm"),i)||(0,a.areObjRefsEqual)((0,a.uriRef)(e.uri),i)))?"VALID":"INVALID_ATTRIBUTE_DISPLAY_FORM"}function pf(e,t){return{type:"GDC.DASH/QUERY.DISPLAY.FORM.ATTRIBUTE",correlationId:t,payload:{displayForms:e}}}const hf=(0,Po.createSelector)((e=>e),(e=>e.legacyDashboards)),ff=(0,Po.createSelector)(hf,(e=>((0,m.kG)(e.legacyDashboards,"attempting to access uninitialized legacy dashboard state"),e.legacyDashboards)));function*bf(e,t,i){const r=yield(0,X.Ys)(ff);try{!function(e,t){const i=t.find((t=>(0,a.areObjRefsEqual)(t.ref,e.target)));if(!i)throw Error(`Dashboard with ref ${(0,a.objRefToString)(e.target)} was not found.`);if(!i.tabs.some((t=>t.identifier===e.tab)))throw Error(`Dashboard with ref ${(0,a.objRefToString)(e.target)} does not contain tab with identifier ${e.tab}.`)}(e,r)}catch(e){throw be(t,i,`Invalid KPI drill target. Error: ${e.message}`)}}function Df(e,t){return e.backend.workspace(e.workspace).insights().getInsight(t)}function vf(e,t,i){return(0,a.isAttributeHierarchyReference)(e)?(0,a.areObjRefsEqual)(e.attributeHierarchy,t)&&(0,a.areObjRefsEqual)(e.attribute,i):Ma((0,a.objRefToString)(e.dateHierarchyTemplate),(0,a.objRefToString)(t))&&(0,a.areObjRefsEqual)(e.dateDatasetAttribute,i)}function Ef(e,t,i,r,a,n,o){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.CHANGE_SELECTION",correlationId:n,payload:{dataSet:o,type:e,granularity:t,from:i,to:r,dateFilterOptionLocalId:a}}}function yf(e,t){if((0,a.isAllTimeDateFilter)(e))return If(t,(0,a.relativeDateFilterValues)(e,!0).dataSet);if((0,a.isRelativeDateFilter)(e)){const i=(0,a.relativeDateFilterValues)(e,!0);return Ef("relative",i.granularity,i.from,i.to,void 0,t,i.dataSet)}{const i=(0,a.absoluteDateFilterValues)(e,!0);return Ef("absolute","GDC.time.date",i.from,i.to,void 0,t,i.dataSet)}}function If(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.CHANGE_SELECTION",correlationId:e,payload:{dataSet:t,type:"relative",granularity:"GDC.time.date"}}}function Cf(e,t,i,r,a,n,o,l){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADD",correlationId:i,payload:{displayForm:e,index:t,selectionMode:r,mode:a,initialSelection:n,initialIsNegativeSelection:o,localIdentifier:l}}}function Sf(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVE",correlationId:t,payload:{filterLocalIds:[e]}}}function Tf(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVE",correlationId:t,payload:{filterLocalIds:e}}}function wf(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVE",correlationId:i,payload:{filterLocalId:e,index:t}}}function Af(e,t,i,r){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.CHANGE_SELECTION",correlationId:r,payload:{filterLocalId:e,elements:t,selectionType:i}}}function Pf(e,t,i){return Af(e,(0,a.filterAttributeElements)(t),(0,a.isPositiveAttributeFilter)(t)?"IN":"NOT_IN",i)}function Rf(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.CHANGE_SELECTION",correlationId:t,payload:{filterLocalId:e,elements:{uris:[]},selectionType:"NOT_IN"}}}function Ff(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_PARENTS",correlationId:i,payload:{filterLocalId:e,parentFilters:t}}}function kf(e,t=!1,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.CHANGE_SELECTION",correlationId:i,payload:{filters:e,resetOthers:t}}}function xf(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_DISPLAY_FORM",payload:{filterLocalId:e,displayForm:t}}}function Lf(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_TITLE",correlationId:i,payload:{filterLocalId:e,title:t}}}function Mf(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_SELECTION_MODE",payload:{filterLocalId:e,selectionMode:t}}}function Of(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.ADD",correlationId:i,payload:{dateDataset:e,index:t}}}function Nf(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.REMOVE",correlationId:t,payload:{dataSets:[e]}}}function _f(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.MOVE",correlationId:i,payload:{dataSet:e,index:t}}}const Hf=["GDC.time.day_in_week","GDC.time.day_in_month","GDC.time.day_in_quarter","GDC.time.day_in_year","GDC.time.week_in_quarter","GDC.time.week_in_year","GDC.time.month_in_quarter","GDC.time.month_in_year","GDC.time.quarter_in_year"];function Uf(e,t){const{backend:i,workspace:r}=e,n={excludeTags:(t.excludeObjectsWithTags??[]).map((e=>(0,a.idRef)(e))),includeTags:(t.includeObjectsWithTags??[]).map((e=>(0,a.idRef)(e))),types:["attribute","fact","measure","dateDataset","attributeHierarchy"],includeDateGranularities:Hf,loadGroups:!1};return i.workspace(r).catalog().withOptions(n).load()}async function Gf(e,t){return 0===t.length||!t.map((e=>e.dateFilter.dataSet)).some((t=>(0,a.areObjRefsEqual)(t,e)))}const Bf={"GDC.DASH/CMD.INITIALIZE":function*(e,t){const{dashboardRef:i}=e;try{let r;return yield(0,X.gz)(dr.setLoadingStart()),r=i?yield(0,X.RE)(od,e,t,i):yield(0,X.RE)(ld,e,t),yield(0,X.gz)(r.batch),yield(0,X.gz)(dr.setLoadingSuccess()),r.event}catch(e){throw yield(0,X.gz)(dr.setLoadingError(e)),e}},"GDC.DASH/CMD.SAVE":function*(e,t){try{yield(0,X.gz)(gr.setSavingStart());const i=void 0===(yield(0,X.Ys)(su)),r=yield(0,X.RE)(am,t,i);let a;a=i?yield(0,X.RE)(nm,e,r,tm,"@@GDC.DASH.SAVE_NEW"):yield(0,X.RE)(nm,e,r,im,"@@GDC.DASH.SAVE_EXISTING");const{dashboard:n,batch:o}=a;return yield(0,X.gz)(o),i&&(e.dashboardRef=n.ref),(yield(0,X.Ys)(Bc))||(yield(0,X.RE)(Jg,e,sd("view",void 0,t.correlationId))),yield(0,X.gz)(gr.setSavingSuccess()),function(e,t,i,r){return{type:"GDC.DASH/EVT.SAVED",ctx:e,correlationId:r,payload:{dashboard:t,newDashboard:i}}}(e,n,i,t.correlationId)}catch(e){throw yield(0,X.gz)(gr.setSavingError(e)),e}},"GDC.DASH/CMD.SAVEAS":function*(e,t){try{yield(0,X.gz)(gr.setSavingStart());const i=yield(0,X.RE)(cm,t),{payload:{switchToCopy:r}}=t,a=yield(0,X.RE)(um,e,i),{dashboard:n,batch:o}=a;o&&(yield(0,X.gz)(o)),r&&(e.dashboardRef=n.ref);const l=em(n);return yield(0,X.gz)(Qa.addListedDashboard(l)),yield(0,X.gz)(js.addAccessibleDashboard(l)),(yield(0,X.Ys)(Bc))||(yield(0,X.RE)(Jg,e,sd("view",void 0,t.correlationId))),yield(0,X.gz)(gr.setSavingSuccess()),function(e,t,i,r){return{type:"GDC.DASH/EVT.COPY_SAVED",ctx:e,correlationId:r,payload:{dashboard:t,isOriginalDashboardLocked:i}}}(e,n,i.dashboardFromState.isLocked??!1,t.correlationId)}catch(e){throw yield(0,X.gz)(gr.setSavingError(e)),e}},"GDC.DASH/CMD.RESET":function*(e,t){const i=yield(0,X.RE)(ag,e);return yield(0,X.gz)(ki(i.batch,"@@GDC.DASH/RESET")),de(e,i.persistedDashboard,t.correlationId)},"GDC.DASH/CMD.RENAME":function*(e,t){const{newTitle:i}=t.payload;return yield(0,X.gz)(Pn.setDashboardTitle(i)),function(e,t,i){return{type:"GDC.DASH/EVT.RENAMED",ctx:e,correlationId:i,payload:{newTitle:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.DELETE":function*(e,t){const i=e.dashboardRef,r=yield(0,X.Ys)(su);if(!r)throw be(e,t,"Attempting to delete a dashboard that was never saved.");return(0,m.kG)(i&&((0,a.areObjRefsEqual)(i,(0,a.uriRef)(r.uri))||(0,a.areObjRefsEqual)(i,(0,a.idRef)(r.identifier)))),yield(0,X.RE)(gm,e,r.ref),yield(0,X.RE)(mm,e),function(e,t,i){return{type:"GDC.DASH/EVT.DELETED",ctx:e,correlationId:i,payload:{dashboard:t}}}(e,r,t.correlationId)},"GDC.DASH/CMD.CHANGE_RENDER_MODE":Jg,"GDC.DASH/CMD.SHARING.CHANGE":function*(e,t){if(!(yield(0,X.Ys)(gu)))throw be(e,t,"Dashboard to change its sharing status must have an ObjRef.");const i=yield(0,X.RE)(bm,t),r=yield(0,X.RE)(ym,e,i),{batch:a,dashboard:n}=r;return a&&(yield(0,X.gz)(a)),function(e,t,i){return{type:"GDC.DASH/EVT.SHARING.CHANGED",ctx:e,correlationId:i,payload:{newSharingProperties:t}}}(e,{...t.payload.newSharingProperties,shareStatus:n.shareStatus},t.correlationId)},"GDC.DASH/CMD.EXPORT.PDF":function*(e,t){yield(0,X.gz)(function(e,t){return{type:"GDC.DASH/EVT.EXPORT.PDF.REQUESTED",ctx:e,correlationId:t}}(e,t.correlationId));const i=yield(0,X.Ys)(gu);if(!i)throw be(e,t,"Dashboard to export to PDF must have an ObjRef.");const r=hm(yield(0,X.Ys)(Ed)),a=yield(0,X.RE)(fm,e,i,r),n=e.backend.config.hostname?new URL(a.uri,e.backend.config.hostname).href:a.uri;return function(e,t,i){return{type:"GDC.DASH/EVT.EXPORT.PDF.RESOLVED",ctx:e,correlationId:i,payload:{resultUri:t.uri,result:t}}}(e,{...a,uri:n},t.correlationId)},"GDC.DASH/CMD.EVENT.TRIGGER":function*(e,t){const i={...t.payload.eventBody,ctx:e};yield br(i)},"GDC.DASH/CMD.EXECUTION_RESULT.UPSERT":function*(e,t){yield(0,X.gz)(Bs.upsertExecutionResult(t.payload))},"GDC.DASH/CMD.FILTER_CONTEXT.CHANGE_SELECTION":function*(e,t){const{filters:i,resetOthers:r}=t.payload,n=i.map((t=>(0,a.isDashboardAttributeFilter)(t)||(0,a.isDashboardDateFilter)(t)?t:function(e,t){if((0,a.isAttributeFilter)(e))return{attributeFilter:{negativeSelection:(0,a.isNegativeAttributeFilter)(e),displayForm:(0,a.filterObjRef)(e),attributeElements:(0,a.filterAttributeElements)(e),selectionMode:"multi"}};if((0,a.isAbsoluteDateFilter)(e))return(0,a.newAbsoluteDashboardDateFilter)(e.absoluteDateFilter.from,e.absoluteDateFilter.to,t?e.absoluteDateFilter.dataSet:void 0);if((0,a.isAllTimeDateFilter)(e))return(0,a.newAllTimeDashboardDateFilter)(t?e.relativeDateFilter.dataSet:void 0);if((0,a.isRelativeDateFilter)(e))return(0,a.newRelativeDashboardDateFilter)(e.relativeDateFilter.granularity,e.relativeDateFilter.from,e.relativeDateFilter.to,t?e.relativeDateFilter.dataSet:void 0);throw new Dr.NotSupported("Unsupported filter type! Please provide valid dashboard filter.")}(t,!!e.backend.capabilities.supportsMultipleDateFilters))),o=Qr(n,(e=>{const t=(0,a.isDashboardAttributeFilter)(e)?e.attributeFilter.displayForm:e.dateFilter.dataSet;return t?(0,a.objRefToString)(t):t})),[l,s]=Li(o,a.isDashboardDateFilter),[[d],c]=Li(l,a.isDashboardCommonDateFilter),[u,g,m]=yield(0,X.$6)([(0,X.RE)(wm,s,r,e),(0,X.RE)(Am,d,r),(0,X.RE)(Pm,c,r)]);yield(0,X.gz)(ki([...u,...g,...m])),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.CHANGE_SELECTION":function*(e,t){const i="relative"===t.payload.type&&"GDC.time.date"===t.payload.granularity&&void 0===t.payload.from&&void 0===t.payload.to;var r;if(!(yield(0,X.RE)(Cm,(r=t.payload,"absolute"===r.type&&r.from&&r.to?(0,a.newAbsoluteDashboardDateFilter)(r.from.toString(),r.to.toString()):"relative"===r.type&&"GDC.time.date"===r.granularity&&void 0===r.from&&void 0===r.to?(0,a.newAllTimeDashboardDateFilter)():(0,a.newRelativeDashboardDateFilter)(r.granularity,km(r.from),km(r.to))))))throw be(e,t,"Cannot apply a date filter that is invalid by the current dateFilterConfig.");yield(0,X.gz)(Hi.upsertDateFilter(i?{type:"allTime",dataSet:t.payload.dataSet}:{type:t.payload.type,granularity:t.payload.granularity,from:t.payload.from,to:t.payload.to,dataSet:t.payload.dataSet}));const n=t.payload.dataSet?yield(0,X.Ys)(Td(t.payload.dataSet)):yield(0,X.Ys)(Id);yield br(function(e,t,i,r){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.SELECTION_CHANGED",ctx:e,correlationId:r,payload:{filter:t,dateFilterOptionLocalId:i}}}(e,n,t.payload.dateFilterOptionLocalId,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADD":Lm,"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVE":Mm,"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVE":function*(e,t){const{filterLocalId:i,index:r}=t.payload,a=yield(0,X.Ys)(Pd(i));if(!a)throw be(e,t,`Filter with filterLocalId ${i} not found.`);const n=(yield(0,X.Ys)(Ed)).length-1;if(r>n||r<-1)throw be(e,t,`Invalid index (${r}) provided, it must be between -1 and ${n}`);const o=yield(0,X.Ys)(wd(i));yield(0,X.gz)(Hi.moveAttributeFilter({filterLocalId:i,index:r}));const l=yield(0,X.Ys)(wd(i));yield br(function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVED",ctx:e,correlationId:a,payload:{moved:t,fromIndex:i,toIndex:r}}}(e,a,o,l,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.CHANGE_SELECTION":Om,"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_PARENTS":function*(e,t){const{filterLocalId:i,parentFilters:r}=t.payload,a=yield(0,X.Ys)(yd),n=yield(0,X.Ys)(Pd(i)),o=yield(0,X.Ys)(vd);if(!n)throw be(e,t,`Filter with localId ${i} was not found.`);const l=yield(0,X.RE)(Hm,e,n,[...r],a,o);if("VALID"!==l)throw be(e,t,"EXTRANEOUS_PARENT"===l?"Some of the parents provided cannot be used because filters for those are not in the filters collection. Only existing filters can be used as parent filters.":"INVALID_METADATA"===l?"Some of the parents provided cannot be used because the 'metadata' for parent filter are missing.":"Some of the parents provided cannot be used because the 'over' parameter is invalid for the target filter.");yield(0,X.gz)(Hi.setAttributeFilterParents({filterLocalId:i,parentFilters:r}));const s=yield(0,X.Ys)(Pd(i));(0,m.kG)(s,"Inconsistent state in attributeFilterSetParentCommandHandler"),yield br(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.PARENT_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,s,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_DISPLAY_FORM":function*(e,t){const{filterLocalId:i,displayForm:r}=t.payload,{backend:{capabilities:{supportsElementUris:a}}}=e,n=yield(0,X.Ys)(gs),o=yield(0,X.RE)(zg,pf([r])),l=d([...Gi(o,(e=>e.displayForms))]),s=n.get(r)||l.get(r);(0,m.kG)(s,"Inconsistent state in changeAttributeDisplayFormHandler, cannot update attribute filter with display form not available in the catalog.");const c=s?.attribute,u=yield(0,X.RE)(mf,e,c,r);if("VALID"!==u)throw be(e,t,"INVALID_ATTRIBUTE_DISPLAY_FORM"===u?"The display form provided is not a valid display form of the attribute filter.":"Cannot find the attribute for the display form used on the attribute filter.");yield(0,X.gz)(ki([Hi.addAttributeFilterDisplayForm(s),Hi.changeAttributeDisplayForm({filterLocalId:i,displayForm:r,supportsElementUris:a})]));const g=yield(0,X.Ys)(Pd(i));(0,m.kG)(g,"Inconsistent state in changeAttributeDisplayFormHandler, cannot update attribute filter for given local identifier."),yield br(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.DISPLAY_FORM_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,g,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_TITLE":function*(e,t){const{filterLocalId:i,title:r}=t.payload;if(!(yield(0,X.Ys)(Pd(t.payload.filterLocalId))))throw be(e,t,`Filter with filterLocalId ${i} not found.`);yield(0,X.gz)(Hi.changeAttributeTitle({filterLocalId:i,title:r}));const a=yield(0,X.Ys)(Pd(t.payload.filterLocalId));(0,m.kG)(a,"Inconsistent state in changeAttributeTitleHandler, cannot update attribute filter for given local identifier."),yield br(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.TITLE_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,a,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_SELECTION_MODE":function*(e,t){const{filterLocalId:i,selectionMode:r}=t.payload;if(!(yield(0,X.Ys)(Pd(t.payload.filterLocalId))))throw be(e,t,`Filter with filterLocalId ${i} not found.`);yield(0,X.gz)(Hi.changeSelectionMode({filterLocalId:i,selectionMode:r}));const a=yield(0,X.Ys)(Pd(t.payload.filterLocalId));(0,m.kG)(a,"Inconsistent state in changeAttributeSelectionModeHandler, cannot update attribute filter for given local identifier."),yield br(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_MODE_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,a,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.ADD":function*(e,t){const{index:i,dateDataset:r}=t.payload;if(!(yield(0,X.Ys)(Md)))throw be(e,t,"Attempting to add filter, even though the limit on the count of filters has been reached.");const n=(yield(0,X.Ys)(us)).get(r);if(!n)throw be(e,t,`Attempting to add filter for a non-existing date data set ${(0,a.objRefToString)(r)}.`);(0,m.kG)(n);const o=yield(0,X.Ys)(Sd);if(!(yield(0,X.RE)(Gf,r,o)))throw be(e,t,`Filter for date data set ${(0,a.objRefToString)(r)} already exists in the filter context.`);yield(0,X.gz)(Hi.addDateFilter({index:i,dateDataset:r}));const l=yield(0,X.Ys)(Td(r));(0,m.kG)(l,"Inconsistent state in addDateFilterHandler"),yield br(function(e,t,i,r){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.ADDED",ctx:e,correlationId:r,payload:{added:t,index:i}}}(e,l,t.payload.index,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.REMOVE":function*(e,t){const{dataSets:i}=t.payload,r=yield(0,X.Ys)(Sd),[n,o]=Li(r,(e=>i.some((t=>(0,a.areObjRefsEqual)(t,e.dateFilter.dataSet))))),l=_n(i.map(a.serializeObjRef),r.map((e=>(0,a.serializeObjRef)(e.dateFilter.dataSet))));if(l.length)throw be(e,t,`Invalid dataSet provided. These ids were not found: ${l.join(", ")}.`);for(const i of n){const r=ki([Hi.removeDateFilter({dataSet:i.dateFilter.dataSet}),Ps.removeDateFilterConfig(i.dateFilter.dataSet),or.removeIgnoredDateFilter({dateDataSets:[i.dateFilter.dataSet]})]);yield(0,X.gz)(r),yield br(He(e,i,t.correlationId))}yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.MOVE":function*(e,t){const{dataSet:i,index:r}=t.payload,a=yield(0,X.Ys)(Td(i));if(!a)throw be(e,t,`Filter with dataSet ${i} not found.`);const n=(yield(0,X.Ys)(Ed)).length-1;if(r>n||r<-1)throw be(e,t,`Invalid index (${r}) provided, it must be between -1 and ${n}`);const o=yield(0,X.Ys)(wd(i));yield(0,X.gz)(Hi.moveDateFilter({dataSet:i,index:r}));const l=yield(0,X.Ys)(wd(i));yield br(function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.MOVED",ctx:e,correlationId:a,payload:{moved:t,fromIndex:i,toIndex:r}}}(e,a,o,l,t.correlationId)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.ATTRIBUTE_FILTER_CONFIG.SET_MODE":function*(e,t){const{localIdentifier:i}=t.payload;if(!(yield(0,X.Ys)(Pd(i))))throw be(e,t,`Filter with localIdentifier ${i} not found.`);yield(0,X.gz)(Ss.changeMode(t.payload));const r=yield(0,X.Ys)(Pd(i));(0,m.kG)(r,"Inconsistent state in changeAttributeModeHandler, cannot update attribute filter for given local identifier."),yield br(function(e,t){return{type:"GDC.DASH/EVT.ATTRIBUTE_FILTER_CONFIG.MODE_CHANGED",ctx:e,payload:{filter:t}}}(e,r)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.DATE_FILTER_CONFIG.SET_MODE":function*(e,t){const{mode:i}=t.payload;yield(0,X.gz)(ki([Lr.setDateFilterConfigMode(i)]))},"GDC.DASH/CMD.DATE_FILTER_WITH_DIMENSION_CONFIG.SET_MODE":function*(e,t){const{dataSet:i}=t.payload;if(!(yield(0,X.Ys)(Td(i))))throw be(e,t,`Filter with data set ${i} not found.`);yield(0,X.gz)(Ps.changeMode(t.payload));const r=yield(0,X.Ys)(Td(i)),a=(yield(0,X.Ys)(ru)).find((e=>e.dateDataSet===i));(0,m.kG)(r,"Inconsistent state in changeDateModeHandler, cannot update date filter for given data set."),(0,m.kG)(a,"Inconsistent state in changeDateModeHandler, cannot update date filter config for given data set."),yield br(function(e,t,i,r){return{type:"GDC.DASH/EVT.DATE_FILTER_CONFIG.MODE_CHANGED",ctx:e,correlationId:void 0,payload:{filter:t,filterConfig:i}}}(e,r,a.config)),yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.DATE_FILTER_CONFIG.SET_TITLE":function*(e,t){const{dataSet:i}=t.payload;if(i){if(!(yield(0,X.Ys)(Td(i))))throw be(e,t,`Filter with data set ${i} not found.`);yield(0,X.gz)(Ps.changeTitle(t.payload));const r=yield(0,X.Ys)(Td(i)),a=(yield(0,X.Ys)(ru)).find((e=>e.dateDataSet===i));(0,m.kG)(r,"Inconsistent state in changeDateFilterTitleHandler, cannot update date filter for given data set."),(0,m.kG)(a,"Inconsistent state in changeDateFilterTitleHandler, cannot update date filter config for given data set."),yield br(_e(e,r,a.config))}else{yield(0,X.gz)(Lr.setDateFilterConfigTitle(t.payload.title));const i=yield(0,X.Ys)(Id),r=yield(0,X.Ys)(Vc);(0,m.kG)(i,"Inconsistent state in changeDateFilterTitleHandler, cannot update common date filter."),(0,m.kG)(r,"Inconsistent state in changeDateFilterTitleHandler, cannot update common date filter config."),yield br(_e(e,i,r))}yield(0,X.RE)(Im,e,t)},"GDC.DASH/CMD.FLUID_LAYOUT.ADD_SECTION":function*(e,t){const{payload:{initialItems:i=[]}}=t,r={ctx:e,cmd:t,initialItems:Yu(i),layout:yield(0,X.Ys)(hc),stash:yield(0,X.Ys)(mc),availableInsights:yield(0,X.Ys)(Qu)},a=function(e){const{ctx:t,layout:i,stash:r,initialItems:a,cmd:{payload:{index:n}}}=e;if(!Um(i,n))throw be(t,e.cmd,`Attempting to insert new section at wrong index ${n}. There are currently ${i.sections.length} sections.`);const o=zm(r,a);if(!p(o.missing))throw be(t,e.cmd,`Attempting to use non-existing stashes. Identifiers of missing stashes: ${o.missing.join(", ")}`);return o}(r),{payload:{index:n,initialHeader:o,autoResolveDateFilterDataset:l}}=t,s=yield(0,X.RE)(Qm,e,a,t),d=yield(0,X.RE)(ip,e,t,s,l),c={type:"IDashboardLayoutSection",header:rp(o),items:d};return yield(0,X.gz)(ki([fr.addInsights(s.resolvedInsights.loaded),or.addSection({section:c,usedStashes:a.existing,index:n,undo:{cmd:t}})])),function(e,t,i,r){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED",ctx:e,correlationId:r,payload:{section:t,index:i}}}(e,c,Zi(r.layout.sections,n),t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_SECTION":function*(e,t){const i={ctx:e,cmd:t,layout:yield(0,X.Ys)(hc)},{absoluteIndex:r}=function(e){const{ctx:t,cmd:{payload:{sectionIndex:i,toIndex:r}},layout:a}=e;if(!Gm(a,i))throw be(t,e.cmd,`Attempting to move non-existent section from index ${i}. There are only ${a.sections.length} sections.`);if(!Um(a,r))throw be(t,e.cmd,`Attempting to move section to a wrong index ${r}. There are currently ${a.sections.length} sections.`);const n=Yi(a.sections,r);if(i===n)throw be(t,e.cmd,`Attempting to move section to a same index where it already resides ${i}.`);return{absoluteIndex:n}}(i),{sectionIndex:a,toIndex:n}=t.payload;return yield(0,X.gz)(or.moveSection({sectionIndex:a,toIndex:n,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_MOVED",ctx:e,correlationId:a,payload:{section:t,fromIndex:i,toIndex:r}}}(e,i.layout.sections[a],a,r,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_SECTION":function*(e,t){const i=yield(0,X.Ys)(hc),{index:r,stashIdentifier:a}=t.payload;if(p(i.sections))throw be(e,t,"Attempting to remove a section from an empty layout.");if(!Gm(i,r))throw be(e,t,`Attempting to remove non-existing layout section at index ${r}.`);const n=Yi(i.sections,r),o=i.sections[n];return yield(0,X.gz)(or.removeSection({index:n,stashIdentifier:a,undo:{cmd:t}})),Be(e,o,n,!1,a,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.CHANGE_SECTION_HEADER":function*(e,t){const i=yield(0,X.Ys)(hc),{index:r,header:a,merge:n}=t.payload;if(!Gm(i,r))throw be(e,t,`Attempting to modify header of non-existent section at ${r}. There are currently ${i.sections.length} sections.`);const o=i.sections[r].header??{},l=rp(n?ap({},o,a):a);return yield(0,X.gz)(or.changeSectionHeader({index:r,header:l,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_HEADER_CHANGED",ctx:e,correlationId:r,payload:{newHeader:t,sectionIndex:i}}}(e,l,r,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_HEIGHT":function*(e,t){const{payload:{sectionIndex:i,itemIndexes:r,height:a}}=t,n=yield(0,X.Ys)(hc),o=yield(0,X.Ys)(Qu);return function(e,t,i){const{payload:{sectionIndex:r,itemIndexes:a}}=i;if(!Gm(t,r))throw be(e,i,`Attempting to resize item from non-existent section at ${r}. There are only ${t.sections.length} sections.`);const n=t.sections[r];a.forEach((t=>{if(!Wm(n,t))throw be(e,i,`Attempting to resize non-existent item from index ${t} in section ${r}. There are only ${n.items.length} items in this section.`)}))}(e,n,t),function(e,t,i,r){const{payload:{sectionIndex:a,itemIndexes:n,height:o}}=r,l=n.map((e=>t.sections[a].items[e].widget)),s=lo(l,i),d=so(l,i);if(!(o>=s&&o<=d))throw be(e,r,`Attempting to set invalid height. Allowed height is from ${s} to ${d}.`)}(e,n,o,t),yield(0,X.gz)(or.changeItemsHeight({sectionIndex:i,itemIndexes:r,height:a})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ITEMS_HEIGHT_RESIZED",ctx:e,correlationId:a,payload:{sectionIndex:t,itemIndexes:i,newHeight:r}}}(e,i,r,a,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_WIDTH":function*(e,t){const{payload:{sectionIndex:i,itemIndex:r,width:a}}=t,n=yield(0,X.Ys)(hc),o=yield(0,X.Ys)(Qu);return function(e,t,i){const{payload:{sectionIndex:r,itemIndex:a}}=i;if(!Gm(t,r))throw be(e,i,`Attempting to resize item from non-existent section at ${r}. There are only ${t.sections.length} sections.`);const n=t.sections[r];if(!Wm(n,a))throw be(e,i,`Attempting to resize non-existent item from index ${a} in section ${r}. There are only ${n.items.length} items in this section.`)}(e,n,t),function(e,t,i,r){const{payload:{sectionIndex:a,itemIndex:n,width:o}}=r,l=uo(t.sections[a].items[n].widget,i);if(!(o>=l&&o<=Nn))throw be(e,r,`Attempting to set invalid width. Allowed width is from ${l} to ${Nn}.`)}(e,n,o,t),yield(0,X.gz)(or.changeItemWidth({sectionIndex:i,itemIndex:r,width:a})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ITEM_WIDTH_RESIZED",ctx:e,correlationId:a,payload:{sectionIndex:t,itemIndex:i,newWidth:r}}}(e,i,r,a,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.ADD_ITEMS":function*(e,t){const{payload:{items:i}}=t,r={ctx:e,cmd:t,items:Yu(i),layout:yield(0,X.Ys)(hc),stash:yield(0,X.Ys)(mc),availableInsights:yield(0,X.Ys)(Qu)},{stashValidationResult:a,section:n}=function(e){const{ctx:t,layout:i,stash:r,items:a,cmd:{payload:{sectionIndex:n,itemIndex:o}}}=e;if(!Gm(i,n))throw be(t,e.cmd,`Attempting to add items to non-existing layout section at index ${n}.`);const l=i.sections[n];if(!Bm(l,o))throw be(t,e.cmd,`Attempting to insert new item at wrong index ${o}. There are currently ${l.items.length} items.`);const s=zm(r,a);if(!p(s.missing))throw be(t,e.cmd,`Attempting to use non-existing stashes. Identifiers of missing stashes: ${s.missing.join(", ")}`);return{stashValidationResult:s,section:l}}(r),{payload:{itemIndex:o,sectionIndex:l,autoResolveDateFilterDataset:s}}=t,d=yield(0,X.RE)(Qm,e,a,t),c=yield(0,X.RE)(ip,e,t,d,s);return yield(0,X.gz)(ki([fr.addInsights(d.resolvedInsights.loaded),or.addSectionItems({sectionIndex:l,itemIndex:o,items:c,usedStashes:a.existing,undo:{cmd:t}})])),function(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED",ctx:e,correlationId:n,payload:{sectionIndex:t,startIndex:i,itemsAdded:r,stashesUsed:a}}}(e,l,Zi(n.items,o),a.resolved,a.existing,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM":function*(e,t){const i={ctx:e,cmd:t,layout:yield(0,X.Ys)(hc)},{targetSectionIndex:r,targetItemIndex:a,itemToMove:n,shouldRemoveSection:o}=function(e){const{ctx:t,layout:i,cmd:{payload:{sectionIndex:r,toSectionIndex:a,itemIndex:n,toItemIndex:o,removeOriginalSectionIfEmpty:l}}}=e;if(!Gm(i,r))throw be(t,e.cmd,`Attempting to move item from non-existent section at ${r}. There are only ${i.sections.length} sections.`);const s=i.sections[r];if(!Wm(s,n))throw be(t,e.cmd,`Attempting to move non-existent item from index ${n}. There are only ${s.items.length} items.`);const d=s.items[n];if(!Um(i,a))throw be(t,e.cmd,`Attempting to move item to a wrong section at index ${a}. There are currently ${i.sections.length} sections.`);const c=Yi(i.sections,a),u=i.sections[c];if(!Bm(u,o))throw be(t,e.cmd,`Attempting to move item to a wrong location at index ${o}. Target section has ${u.items.length} items.`);let g=0;if(r===c){if(g=Yi(u.items,o),n===g)throw be(t,e.cmd,`Attempting to move item to a same place where it already resides ${o}.`)}else g=Zi(u.items,o);return{targetSectionIndex:c,targetItemIndex:g,itemToMove:d,shouldRemoveSection:Boolean(l)&&1===s.items.length}}(i),{itemIndex:l,sectionIndex:s}=t.payload;return yield(0,X.gz)(ki([or.moveSectionItem({sectionIndex:s,itemIndex:l,toSectionIndex:r,toItemIndex:a,undo:{cmd:t}}),...o?[or.removeSection({index:s,undo:{cmd:t}})]:[]])),function(e,t,i,r,a,n,o,l){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED",ctx:e,correlationId:l,payload:{item:t,fromSectionIndex:i,toSectionIndex:r,fromIndex:a,toIndex:n,originalSectionRemoved:o}}}(e,n,s,o&&s<r?s-1:r,l,a,o,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM_TO_NEW_SECTION":function*(e,t){const i={ctx:e,cmd:t,layout:yield(0,X.Ys)(hc)},{targetSectionIndex:r,targetItemIndex:a,itemToMove:n,shouldRemoveSection:o}=function(e){const{ctx:t,layout:i,cmd:{payload:{sectionIndex:r,toSectionIndex:a,itemIndex:n,removeOriginalSectionIfEmpty:o}}}=e;if(!Gm(i,r))throw be(t,e.cmd,`Attempting to move item from non-existent section at ${r}. There are only ${i.sections.length} sections.`);const l=i.sections[r];if(!Wm(l,n))throw be(t,e.cmd,`Attempting to move non-existent item from index ${n}. There are only ${l.items.length} items.`);const s=l.items[n];if(!Um(i,a))throw be(t,e.cmd,`Attempting to move item to a wrong section at index ${a}. There are currently ${i.sections.length} sections.`);return{targetSectionIndex:a,targetItemIndex:0,itemToMove:s,shouldRemoveSection:Boolean(o)&&1===l.items.length}}(i),{itemIndex:l,sectionIndex:s,toSectionIndex:d}=t.payload,c=d>s?s:s+1;return yield(0,X.gz)(ki([or.addSection({index:r,section:{type:"IDashboardLayoutSection",items:[]},usedStashes:[],undo:{cmd:t}}),or.moveSectionItem({sectionIndex:c,itemIndex:l,toSectionIndex:r,toItemIndex:a,undo:{cmd:t}}),...o?[or.removeSection({index:c,undo:{cmd:t}})]:[]])),function(e,t,i,r,a,n,o,l){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED_TO_NEW_SECTION",ctx:e,correlationId:l,payload:{item:t,fromSectionIndex:i,toSectionIndex:r,fromIndex:a,toIndex:n,originalSectionRemoved:o}}}(e,n,s,r,l,a,o,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM":function*(e,t){return yield(0,X.RE)(np,e,t)},"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM_BY_WIDGET_REF":function*(e,t){let i;try{i=yield(0,X.Ys)(kc(t.payload.widgetRef))}catch(i){throw be(e,t,`Can't get widget coordinates for widget ref: ${(0,a.objRefToString)(t.payload.widgetRef)}, ${i.message}`)}return yield(0,X.RE)(np,e,{correlationId:t.correlationId,payload:{...i,eager:t.payload.eager,stashIdentifier:t.payload.stashIdentifier}},t)},"GDC.DASH/CMD.FLUID_LAYOUT.REPLACE_ITEM":function*(e,t){const{payload:{item:i}}=t,r={ctx:e,cmd:t,items:Yu([i]),layout:yield(0,X.Ys)(hc),stash:yield(0,X.Ys)(mc)},{itemToReplace:a,stashValidationResult:n}=function(e){const{ctx:t,cmd:{payload:{sectionIndex:i,itemIndex:r}},items:a,layout:n,stash:o}=e;if(!Gm(n,i))throw be(t,e.cmd,`Attempting to replace item from non-existent section at ${i}. There are only ${n.sections.length} sections.`);const l=n.sections[i];if(!Wm(l,r))throw be(t,e.cmd,`Attempting to replace non-existent item from index ${r} in section ${i}. There are only ${l.items.length} items in this section.`);const s=zm(o,a);if(!p(s.missing))throw be(t,e.cmd,`Attempting to use non-existing stashes. Identifiers of missing stashes: ${s.missing.join(", ")}`);return{itemToReplace:l.items[r],stashValidationResult:s}}(r),{sectionIndex:o,itemIndex:l,stashIdentifier:s,autoResolveDateFilterDataset:d}=t.payload,c=yield(0,X.RE)(Qm,e,n,t),u=yield(0,X.RE)(ip,e,t,c,d);return yield(0,X.gz)(ki([fr.addInsights(c.resolvedInsights.loaded),or.replaceSectionItem({sectionIndex:o,itemIndex:l,newItems:u,stashIdentifier:s,usedStashes:n.existing,undo:{cmd:t}})])),function(e,t,i,r,a,n,o){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",ctx:e,correlationId:o,payload:{sectionIndex:t,itemIndex:i,items:r,previousItem:a,stashIdentifier:n}}}(e,o,l,n.resolved,a,s,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.UNDO":function*(e,t){const i=yield(0,X.Ys)(pc),{undoPointSelector:r=op}=t.payload,a=r(i.map((e=>e.cmd)));if(a<0||a>=i.length)throw be(e,t,`Undo point selector returned result out of bounds. Undoable commands: ${i.length}. Got index: ${a}`);const n=i[a];return yield(0,X.gz)(or.undoLayout({undoDownTo:n.firstOccurrenceOnStack})),function(e,t,i){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.LAYOUT_CHANGED",ctx:e,correlationId:i,payload:{layout:t}}}(e,yield(0,X.Ys)(hc),t.correlationId)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_HEADER":function*(e,t){const{payload:{header:i},correlationId:r}=t,a=sp(yield(0,X.Ys)(Dc),t,e);return yield(0,X.gz)(or.replaceWidgetHeader({ref:a.ref,header:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.HEADER_CHANGED",ctx:e,correlationId:r,payload:{ref:t,header:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE":function*(e,t){const{correlationId:i}=t,r=sp(yield(0,X.Ys)(Dc),t,e),a=yield(0,X.RE)(dp,e,t),n=function(e,t){const{payload:{header:i}}=e;return"string"==typeof i&&"from-measure"===i?{title:t.measure.title}:p(r=i)||void 0===r.title?void 0:i;var r}(t,a),o=yield(0,X.RE)(cp,r,a),l=[or.replaceKpiWidgetMeasure({ref:r.ref,measureRef:a.measure.ref,undo:{cmd:t}}),or.replaceWidgetDateDataset({ref:r.ref,dateDataSet:o?.dataSet.ref,undo:{cmd:t}})];n&&l.push(or.replaceWidgetHeader({ref:r.ref,header:n,undo:{cmd:t}})),yield(0,X.gz)(ki(l,"@@CMD.UPDATE.KPI"));const s=(yield(0,X.Ys)(Dc)).get(r.ref);return function(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.KPI_WIDGET.MEASURE_CHANGED",ctx:e,correlationId:n,payload:{ref:t,kpiWidget:i,measure:r,header:a}}}(e,r.ref,s,a.measure,n,i)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS":function*(e,t){const i=sp(yield(0,X.Ys)(Dc),t,e),r=yield(0,X.RE)(Sp,e,Tp,t,i),{dateDataSet:n,ignoredFilters:o}=r,l=o?.filter(a.isDashboardAttributeFilter),s=l?.map((e=>({type:"attributeFilterReference",displayForm:e.attributeFilter.displayForm})));return yield(0,X.gz)(or.replaceWidgetFilterSettings({ref:i.ref,dateDataSet:n?.dataSet.ref,ignoreDashboardFilters:s,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",ctx:e,correlationId:a,payload:{ref:t,ignoredAttributeFilters:i,dateDatasetForFiltering:r}}}(e,i.ref,l??[],r.dateDataSet,t.correlationId)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_COMPARISON":function*(e,t){const{payload:{comparison:{comparisonType:i,comparisonDirection:r}},correlationId:a}=t,n=sp(yield(0,X.Ys)(Dc),t,e),o=i??"none",l="none"!==o?r??"growIsGood":void 0;yield(0,X.gz)(or.replaceKpiWidgetComparison({ref:n.ref,comparisonType:o,comparisonDirection:l,undo:{cmd:t}}));const s=(yield(0,X.Ys)(Dc)).get(n.ref);return function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.COMPARISON_CHANGED",ctx:e,correlationId:r,payload:{ref:t,kpi:i}}}(e,n.ref,s.kpi,a)},"GDC.DASH/CMD.KPI_WIDGET.REMOVE_DRILL":function*(e,t){const{correlationId:i}=t,r=sp(yield(0,X.Ys)(Dc),t,e),{ref:a}=r;return yield(0,X.gz)(or.replaceKpiWidgetDrill({ref:a,drill:void 0,undo:{cmd:t}})),function(e,t,i){return{type:"GDC.DASH/EVT.KPI_WIDGET.DRILL_REMOVED",ctx:e,correlationId:i,payload:{ref:t}}}(e,a,i)},"GDC.DASH/CMD.KPI_WIDGET.SET_DRILL":function*(e,t){const{correlationId:i}=t,{legacyDashboardTabIdentifier:r,legacyDashboardRef:a}=t.payload,n=sp(yield(0,X.Ys)(Dc),t,e),{ref:o}=n,l={tab:r,target:a,origin:{type:"drillFromMeasure",measure:n.kpi.metric},type:"drillToLegacyDashboard",transition:"in-place"};return yield(0,X.RE)(bf,l,e,t),yield(0,X.gz)(or.replaceKpiWidgetDrill({ref:o,drill:l,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.DRILL_SET",ctx:e,correlationId:r,payload:{ref:t,drill:i}}}(e,o,l,i)},"GDC.DASH/CMD.KPI_WIDGET.REFRESH":function*(e,t){yield br(ve(e,t.correlationId))},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_DESCRIPTION":function*(e,t){const{payload:{description:i},correlationId:r}=t,a=sp(yield(0,X.Ys)(Dc),t,e);return yield(0,X.gz)(or.replaceWidgetDescription({ref:a.ref,description:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.DESCRIPTION_CHANGED",ctx:e,correlationId:r,payload:{ref:t,description:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_CONFIGURATION":function*(e,t){const{payload:{config:i},correlationId:r}=t,a=sp(yield(0,X.Ys)(Dc),t,e);return yield(0,X.gz)(or.replaceKpiWidgetConfiguration({ref:a.ref,config:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.CONFIGURATION_CHANGED",ctx:e,correlationId:r,payload:{ref:t,configuration:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_HEADER":function*(e,t){const{payload:{header:i},correlationId:r}=t,a=lp(yield(0,X.Ys)(Dc),t,e);return yield(0,X.gz)(or.replaceWidgetHeader({ref:a.ref,header:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.HEADER_CHANGED",ctx:e,correlationId:r,payload:{ref:t,header:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_DESCRIPTION":function*(e,t){const{payload:{description:i},correlationId:r}=t,a=lp(yield(0,X.Ys)(Dc),t,e);return yield(0,X.gz)(or.replaceWidgetDescription({ref:a.ref,description:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DESCRIPTION_CHANGED",ctx:e,correlationId:r,payload:{ref:t,description:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS":function*(e,t){const i=lp(yield(0,X.Ys)(Dc),t,e),r=yield(0,X.RE)(Sp,e,wp,t,i),{dateDataSet:n,ignoredFilters:o}=r,l=o?.map((e=>(0,a.isDashboardAttributeFilter)(e)?{type:"attributeFilterReference",displayForm:e.attributeFilter.displayForm}:{type:"dateFilterReference",dataSet:e.dateFilter.dataSet}));return yield(0,X.gz)(or.replaceWidgetFilterSettings({ref:i.ref,dateDataSet:n?.dataSet.ref,ignoreDashboardFilters:l,undo:{cmd:t}})),function(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",ctx:e,correlationId:a,payload:{ref:t,ignoredAttributeFilters:i,ignoredDateFilters:n,dateDatasetForFiltering:r}}}(e,i.ref,(o??[]).filter(a.isDashboardAttributeFilter),r.dateDataSet,t.correlationId,(o??[]).filter(a.isDashboardDateFilterWithDimension))},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_PROPERTIES":function*(e,t){const{payload:{properties:i},correlationId:r}=t,a=lp(yield(0,X.Ys)(Dc),t,e);return yield(0,X.gz)(or.replaceInsightWidgetVisProperties({ref:a.ref,properties:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.PROPERTIES_CHANGED",ctx:e,correlationId:r,payload:{ref:t,properties:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_CONFIGURATION":function*(e,t){const{payload:{config:i},correlationId:r}=t,a=lp(yield(0,X.Ys)(Dc),t,e);return yield(0,X.gz)(or.replaceInsightWidgetVisConfiguration({ref:a.ref,config:i,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.CONFIGURATION_CHANGED",ctx:e,correlationId:a,payload:{ref:t,newConfig:i,oldConfig:r}}}(e,a.ref,i,a.configuration,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_INSIGHT":function*(e,t){const{payload:{ref:i,insightRef:r,visualizationProperties:n},correlationId:o}=t,l=lp(yield(0,X.Ys)(Dc),t,e),s=yield(0,X.Ys)(Ju(l.insight));(0,m.kG)(s,"inconsistent store, original insight not already in store");const d=(0,a.insightTitle)(s);let c;try{c=yield(0,X.RE)(Df,e,r)}catch{throw be(e,t,`The insight with ref: ${(0,a.serializeObjRef)(r)} was not found.`)}const u=(0,a.widgetTitle)(l)!==d,g=(0,a.insightTitle)(c)!==d,p=!u&&g,h=io({enableKDWidgetCustomHeight:!0},"insight",c);return yield(0,X.gz)(ki([fr.upsertInsight(c),Va.requestInsightListUpdate(),or.replaceInsightWidgetInsight({ref:i,insightRef:r,properties:n,header:p?{title:(0,a.insightTitle)(c)}:void 0,newSize:h,undo:{cmd:t}})])),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.INSIGHT_SWITCHED",ctx:e,correlationId:r,payload:{ref:t,insight:i}}}(e,i,c,o)},"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILLS":function*(e,t){const{payload:{drills:i=[],blacklistHierarchiesToUpdate:r=[]},correlationId:a}=t,n=lp(yield(0,X.Ys)(Dc),t,e),{ref:o}=n,l=yield(0,X.RE)(kg,o,i,e);if(r.length>0){const e=n.ignoredDrillDownHierarchies||[];yield(0,X.gz)(or.replaceWidgetBlacklistHierarchies({ref:o,blacklistHierarchies:[...e,...r],undo:{cmd:t}}))}const{drills:s=[]}=n,d=i.map((i=>Fg(i,l,e,t))),c=d.filter((e=>!fg(e,s))),u=d.filter((e=>fg(e,s))),g=[...s.map((e=>function(e,t=[]){return t.find((t=>t.localIdentifier===e.localIdentifier))}(e,u)||e)),...c];yield(0,X.gz)(ki([fr.addInsights(l.resolvedInsights.loaded),or.replaceWidgetDrills({ref:n.ref,drillDefinitions:g,undo:{cmd:t}})]));const m=yield(0,X.Ys)(vc(n.ref));return yield(0,X.RE)(xg,e,t,[m]),yield(0,X.RE)(jg,[m]),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_MODIFIED",ctx:e,correlationId:a,payload:{ref:t,added:i,updated:r}}}(e,o,c,u,a)},"GDC.DASH/CMD.ATTRIBUTE_HIERARCHY_MODIFIED":function*(e,t){const{correlationId:i}=t,r=yield(0,X.Ys)(il),a=yield(0,X.RE)(Uf,e,r),n=yield(0,X.RE)(ad,e);return yield(0,X.gz)(Ia.setCatalogItems({attributes:a.attributes(),dateDatasets:a.dateDatasets(),facts:a.facts(),measures:a.measures(),attributeHierarchies:a.attributeHierarchies(),dateHierarchyTemplates:n})),function(e,t){return{type:"GDC.DASH/EVT.ATTRIBUTE_HIERARCHY_MODIFIED",ctx:e,correlationId:t}}(e,i)},"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILLS":function*(e,t){const{payload:{localIdentifiers:i},correlationId:r}=t,n=lp(yield(0,X.Ys)(Dc),t,e),{ref:o,drills:l}=n,s=function(e,t,i,r){return"*"===e?t:e.map((e=>{try{return function(e,t=[]){const i=t.find((t=>t.localIdentifier===e.localIdentifier));if(!i)throw new Error("Cannot find drill definition specified by local identifier");return i}(e,t)}catch(t){const n=t.message;throw be(i,r,`Invalid drill local identifier: ${(0,a.objRefToString)(e)}. Error: ${n}`)}}))}(i,l,e,t),d=l.filter((e=>!fg(e,s)));yield(0,X.gz)(or.replaceWidgetDrills({ref:o,drillDefinitions:d,undo:{cmd:t}}));const c=yield(0,X.Ys)(vc(o));return yield(0,X.RE)(xg,e,t,[c]),yield(0,X.RE)(jg,[c]),gt(e,o,s,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILL_DOWN":function*(e,t){const{payload:{blacklistHierarchies:i},correlationId:r}=t,a=lp(yield(0,X.Ys)(Dc),t,e),{ref:n,ignoredDrillDownHierarchies:o}=a,l=[...o||[],...i];return yield(0,X.gz)(or.replaceWidgetBlacklistHierarchies({ref:n,blacklistHierarchies:l,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILL_DOWN_REMOVED",ctx:e,correlationId:r,payload:{ref:t,removed:i}}}(e,n,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.ADD_DRILL_DOWN":function*(e,t){const{payload:{attributeIdentifier:i,drillDownIdentifier:r,drillDownAttributeHierarchyRef:a},correlationId:n}=t,o=lp(yield(0,X.Ys)(Dc),t,e),{ref:l,ignoredDrillDownHierarchies:s}=o,d=o.drills.filter((e=>e.localIdentifier!==r));yield(0,X.gz)(or.replaceWidgetDrills({ref:o.ref,drillDefinitions:d,undo:{cmd:t}}));const c=s?s.filter((e=>!vf(e,a,i))):[];return yield(0,X.gz)(or.replaceWidgetBlacklistHierarchies({ref:l,blacklistHierarchies:c,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILL_DOWN_ADDED",ctx:e,correlationId:a,payload:{ref:t,attributeHierarchyRef:i,attribute:r}}}(e,l,a,i,n)},"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILL_DOWN":function*(e,t){const{payload:{attributeIdentifier:i,attributeHierarchyRef:r,blacklistHierarchies:a},correlationId:n}=t,o=lp(yield(0,X.Ys)(Dc),t,e),{ref:l,ignoredDrillDownHierarchies:s}=o,d=[...s?s.filter((e=>!vf(e,r,i))):[],...a];return yield(0,X.gz)(or.replaceWidgetBlacklistHierarchies({ref:l,blacklistHierarchies:d,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILL_DOWN_MODIFIED",ctx:e,correlationId:r,payload:{ref:t,updated:i}}}(e,l,a,n)},"GDC.DASH/CMD.INSIGHT_WIDGET.REFRESH":function*(e,t){const i=lp(yield(0,X.Ys)(Dc),t,e),{insight:r}=i;if(!(yield(0,X.Ys)(Ju(r))))throw be(e,t,`Insight with ref ${(0,a.objRefToString)(r)} was not found in the store.`);const n=yield(0,X.RE)(Df,e,r);return yield(0,X.gz)(fr.upsertInsight(n)),function(e,t,i){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.REFRESHED",ctx:e,correlationId:i,payload:{insight:t}}}(e,n,t.correlationId)},"GDC.DASH/CMD.INSIGHT_WIDGET.EXPORT":function*(e,t){const{config:i,ref:r}=t.payload;yield(0,X.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_REQUESTED",ctx:e,correlationId:r,payload:{ref:t,config:i}}}(e,r,i,t.correlationId)),yield(0,X.RE)(wh,e,t,r),yield(0,X.RE)(Ah,e,t);const a=yield(0,X.Ys)(yh(r));(0,m.kG)(a?.executionResult);const n=yield(0,X.RE)(Th,a.executionResult,i),o=e.backend.config.hostname?new URL(n.uri,e.backend.config.hostname).href:n.uri;return function(e,t,i){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_RESOLVED",ctx:e,correlationId:i,payload:{resultUri:t.uri,result:t}}}(e,{...n,uri:o},t.correlationId)},"GDC.DASH/CMD.ALERT.CREATE":function*(e,t){const i=yield(0,X.RE)(Ph,e,t.payload.alert);return yield(0,X.gz)(wa.addAlert(i)),function(e,t,i){return{type:"GDC.DASH/EVT.ALERT.CREATED",ctx:e,correlationId:i,payload:{alert:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.ALERT.UPDATE":function*(e,t){const i=yield(0,X.RE)(Rh,e,t.payload.alert);return yield(0,X.gz)(wa.updateAlert({changes:t.payload.alert,id:(0,a.objRefToString)(t.payload.alert.ref)})),function(e,t,i){return{type:"GDC.DASH/EVT.ALERT.UPDATED",ctx:e,correlationId:i,payload:{updated:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.ALERTS.REMOVE":function*(e,t){const i=function(e,t,i){const{payload:{refs:r}}=t;return r.map((r=>{const n=e.get(r);if(!n)throw be(i,t,`Cannot find Kpi alert with ref: ${(0,a.serializeObjRef)(r)}.`);return n}))}(yield(0,X.Ys)(Mh),t,e),r=i.map((e=>e.ref));yield(0,X.RE)(Nh,e,r);const n=i.map((e=>(0,a.objRefToString)(e.ref)));return yield(0,X.gz)(wa.removeAlerts(n)),function(e,t,i){return{type:"GDC.DASH/EVT.ALERTS.REMOVED",ctx:e,correlationId:i,payload:{alerts:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.SCHEDULED_EMAIL.CREATE":function*(e,t){return function(e,t,i){return{type:"GDC.DASH/EVT.SCHEDULED_EMAIL.CREATED",ctx:e,correlationId:i,payload:{scheduledEmail:t}}}(e,yield(0,X.RE)(_h,e,t.payload.scheduledEmail,t.payload.filterContext),t.correlationId)},"GDC.DASH/CMD.SCHEDULED_EMAIL.SAVE":function*(e,t){const{scheduledEmail:i,filterContextRef:r}=t.payload;return yield(0,X.RE)(Hh,e,i,r),function(e,t){return{type:"GDC.DASH/EVT.SCHEDULED_EMAIL.SAVED",ctx:e,correlationId:t}}(e,t.correlationId)},"GDC.DASH/CMD.DRILL":function*(e,t){yield(0,X.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:t,drillContext:i}}}(e,t.payload.drillEvent,t.payload.drillContext,t.correlationId));const i=Na(t.payload.drillEvent.drillDefinitions,t.payload.drillEvent);return function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.RESOLVED",ctx:e,correlationId:r,payload:{drillEvent:t,drillContext:i}}}(e,{...t.payload.drillEvent,drillDefinitions:i},t.payload.drillContext,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_DOWN":function*(e,t){const{drillDefinition:i,drillEvent:r,insight:a}=t.payload;return yield(0,X.gz)(function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_DOWN.REQUESTED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,a,i,r,t.correlationId)),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,(0,xn.getInsightWithAppliedDrillDown)(a,r,i,e.backend.capabilities.supportsElementUris??!0),t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_INSIGHT":function*(e,t){const{drillDefinition:i,drillEvent:r}=t.payload,a=yield(0,X.Ys)(Ju(i.target));return yield(0,X.gz)(function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.REQUESTED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,a,i,r,t.correlationId)),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,(0,xn.addIntersectionFiltersToInsight)(a,r.drillContext.intersection,e.backend.capabilities.supportsElementUris??!0),t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_DASHBOARD":function*(e,t){yield(0,X.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.REQUESTED",ctx:e,correlationId:r,payload:{drillDefinition:t,drillEvent:i}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const i=yield(0,X.Ys)(Ec(t.payload.drillEvent.widgetRef)),r=yield(0,X.Ys)(Ju(i.insight));(0,m.kG)(r);const n=i.dateDataSet&&!function(e){const t=(0,a.insightMeasures)(e);return!p(t)&&t.every((e=>{if((0,a.isSimpleMeasure)(e)){const t=(0,a.measureFilters)(e);return!!t?.some(a.isDateFilter)}return!0}))}(r)?yield(0,X.Ys)(Gh):void 0,o=(0,a.areObjRefsEqual)(e.dashboardRef,t.payload.drillDefinition.target),l=yield(0,X.Ys)(Ko),s=yield(0,X.Ys)(Vl),d=l&&s,c=o?d?yield(0,X.Ys)(Wh):yield(0,X.Ys)(Bh):yield(0,X.RE)(zh,e,i,d),u=yield(0,X.Ys)(rs),g=Uh(t.payload.drillEvent.drillContext.intersection,u.map((e=>e.attribute.ref)),e.backend.capabilities.supportsElementUris??!0);return function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED",ctx:e,correlationId:a,payload:{filters:t,drillDefinition:i,drillEvent:r}}}(e,ka([n,...g,...c]),t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_ATTRIBUTE_URL":function*(e,t){yield(0,X.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const[i,r]=yield(0,X.$6)([(0,X.RE)(Kh,t.payload.drillDefinition,t.payload.drillEvent,e),(0,X.RE)(Zh,e,t.payload.drillEvent.widgetRef)]),{widgetRef:a}=t.payload.drillEvent,n=yield(0,X.Ys)(Ic(a)),o=!Ua(t.payload.drillDefinition,n);return function(e,t,i,r,a,n,o){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED",ctx:e,correlationId:o,payload:{drillEvent:r,drillDefinition:i,url:t,filtersInfo:a,isImplicit:n}}}(e,i,t.payload.drillDefinition,t.payload.drillEvent,r,o,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_CUSTOM_URL":function*(e,t){yield(0,X.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const[i,r]=yield(0,X.$6)([(0,X.RE)(sf,t.payload.drillDefinition,t.payload.drillEvent.widgetRef,t.payload.drillEvent,e,t),(0,X.RE)(Zh,e,t.payload.drillEvent.widgetRef)]);return function(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED",ctx:e,correlationId:n,payload:{url:t,drillEvent:r,drillDefinition:i,filtersInfo:a}}}(e,i,t.payload.drillDefinition,t.payload.drillEvent,r,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_LEGACY_DASHBOARD":function*(e,t){return yield(0,X.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)),function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.CROSS_FILTERING":function*(e,t){yield(0,X.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.CROSS_FILTERING.REQUESTED",ctx:e,correlationId:r,payload:{drillDefinition:t,drillEvent:i}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const i=!!e.backend.capabilities.supportsElementUris,r=t.payload.drillEvent.widgetRef,n=yield(0,X.Ys)(yd),o=(yield(0,X.Ys)(rs)).map((e=>e.attribute.ref)),l=yield(0,X.Ys)(sc),s=l.map((e=>n.find((t=>t.attributeFilter.localIdentifier===e)))),d=yield(0,X.Ys)(lc(r)),c=Uh(t.payload.drillEvent.drillContext.intersection??[],o,i),u=!p(d)&&d?.filterLocalIdentifiers.length<=c.length,g=c.map((e=>{const t=(0,a.filterObjRef)(e),i=(0,a.filterAttributeElements)(e),r=(0,a.isNegativeAttributeFilter)(e),n=u?s.find((e=>(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,t))):void 0;return{attributeFilter:{displayForm:t,attributeElements:i,negativeSelection:r,localIdentifier:n?.attributeFilter.localIdentifier??(0,Q.Z)(),selectionMode:"multi"}}})),m=`crossFiltering_${(0,Q.Z)()}`;u||(yield(0,X.RE)(Mm,e,Tf(l)));const h=n.length-l.length;return yield(0,X.gz)(ks.crossFilterByWidget({widgetRef:r,filterLocalIdentifiers:g.map((e=>e.attributeFilter.localIdentifier)),selectedPoints:t.payload.drillEvent.drillContext.intersection?[t.payload.drillEvent.drillContext.intersection]:void 0})),yield(0,X.$6)(g.map(((t,i)=>l.includes(t.attributeFilter.localIdentifier)?(0,X.RE)(Om,e,Af(t.attributeFilter.localIdentifier,t.attributeFilter.attributeElements,t.attributeFilter.negativeSelection?"NOT_IN":"IN",m)):(0,X.RE)(Lm,e,Cf(t.attributeFilter.displayForm,h+i,m,"multi","readonly",t.attributeFilter.attributeElements,t.attributeFilter.negativeSelection,t.attributeFilter.localIdentifier))))),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED",ctx:e,correlationId:a,payload:{filters:t,drillDefinition:i,drillEvent:r}}}(e,g,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILLABLE_ITEMS.CHANGE":function*(e,t){const{drillableItems:i}=t.payload;return yield(0,X.gz)(ks.setDrillableItems(i)),function(e,t,i){return{type:"GDC.DASH/EVT.DRILL.DRILLABLE_ITEMS.CHANGED",ctx:e,correlationId:i,payload:{drillableItems:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.DRILL_TARGETS.ADD":function*(e,t){const{payload:{availableDrillTargets:i},correlationId:r}=t,a=yield(0,X.Ys)(Dc),n=yield(0,X.Ys)(Sl),o=lp(a,t,e),l=function(e,t,i,r){const a=e,n=a?.attributes;if(!t&&n&&n.length>0)throw be(i,r,"Attributes in availableDrillTargets are not supported when enableKPIDashboardDrillFromAttribute FF is set to false");return a}(i,n,e,t),{ref:s,uri:d,identifier:c}=o;return yield(0,X.gz)(gf.addDrillTargets({identifier:c,uri:d,ref:s,availableDrillTargets:l})),(yield(0,X.Ys)(Wc))&&(yield(0,X.RE)(xg,e,t,[o]),yield(0,X.RE)(jg,[o])),zt(e,s,i,r)},"GDC.DASH/CMD.RENDER.ASYNC.REQUEST":function(e,t){const{payload:{id:i},correlationId:r}=t;return function(e,t,i){return{type:"GDC.DASH/EVT.RENDER.ASYNC.REQUESTED",correlationId:i,ctx:t,payload:{id:e}}}(i,e,r)},"GDC.DASH/CMD.RENDER.ASYNC.RESOLVE":function(e,t){const{payload:{id:i},correlationId:r}=t;return function(e,t,i){return{type:"GDC.DASH/EVT.RENDER.ASYNC.RESOLVED",correlationId:i,ctx:t,payload:{id:e}}}(i,e,r)}};function*Wf(e,t){yield br(ve(e,t.correlationId))}const zf="__C";function Vf(e,t){return{type:`${zf}(${e.type})`,command:e,onError:t?.onError??j,onStart:t?.onStart??j,onSuccess:t?.onSuccess??j}}function*jf(e,t){const{command:i,command:{type:r,correlationId:a}}=t,n=a??"(no correlationId provided)",o=Bf[t.command.type]??Wf;try{yield br(function(e,t){return{type:"GDC.DASH/EVT.COMMAND.STARTED",ctx:e,correlationId:t.correlationId,payload:{command:t}}}(e,t.command));try{t.onStart(i)}catch(e){console.warn(`An error has occurred while calling onStart function provided for ${r}@${n} processing:`,e)}const a=yield(0,X.RE)(o,e,i);J(a)&&(yield br(a));try{t.onSuccess(a)}catch(e){console.warn(`An error has occurred while calling onSuccess function provided for ${r}@${n} processing`,e)}}catch(a){try{t.onError(a)}catch(e){console.warn(`An error has occurred while calling onError function provided for ${r}@${n} processing:`,e)}De(a)?yield br(a):yield br(function(e,t,i,r){return{type:"GDC.DASH/EVT.COMMAND.FAILED",ctx:e,correlationId:t.correlationId,payload:{reason:"INTERNAL_ERROR",command:t,message:i,error:r}}}(e,i,`Internal error has occurred while handling ${r}`,a))}}function*Kf(){const e=yield(0,X.ZO)((e=>e.type&&(e.type.startsWith(zf)||e.type.startsWith("GDC.DASH/CMD"))));for(;;){const r=(t=yield(0,X.qn)(e),i=void 0,(i=t)&&i.type.startsWith(zf)?t:Vf(t)),a=yield(0,X.RE)(vs);yield(0,X.RE)(jf,a,r)}var t,i}var qf=i(48403);function Yf(e,t,i){const r=function(e,t){const i=function(e){const t=e.split("/")[1];(0,m.kG)(t,`Trying to create slice for query data but the query type name seems invalid: ${e}. Must always start with "GDC.DASH/QUERY." prefix`);const i=t.split(".").slice(1).map(qf);return i[0]=i[0].toLowerCase(),`${i.join("")}Cache`}(e),r=(0,Pi.HF)({selectId:e=>t(e.query)}),a={set:r.setOne,remove:r.removeOne,removeAll:r.removeAll},n=(0,Pi.oM)({name:i,initialState:r.getInitialState(),reducers:a}),o=r.getSelectors((e=>e._queryCache[i])),l=ud((e=>{const i=t(e);return(0,Po.createSelector)((e=>e),(e=>o.selectById(e,i)))}),(e=>t(e)));return{cacheName:i,reducer:n.reducer,actions:n.actions,selectQueryResult:l,selectById:e=>(0,Po.createSelector)((e=>e),(t=>o.selectById(t,e)))}}(e,i);return{name:e,generator:function*(e,a,n=!1){const o=i(a),l=yield(0,X.Ys)(r.selectById(o));if(l?.result&&!n)return l.result;try{yield(0,X.gz)(r.actions.set({query:a,status:"loading"}));const i=yield(0,X.RE)(t,e,a);return yield(0,X.gz)(r.actions.set({query:a,status:"success",result:i})),i}catch(e){throw yield(0,X.gz)(r.actions.set({query:a,status:"error",error:e.message})),e}},cache:r}}function Zf(e,t){return{name:e,generator:t}}function $f(e,t){const i=(r=t,(e,t)=>r[e.dataSet.title].localeCompare(r[t.dataSet.title]));var r;return e.slice().sort(((e,t)=>e.relevance===t.relevance?i(e,t):((e,t)=>t.relevance-e.relevance)(e,t)))}function Xf(e){return e.dataSet.title.trim().replace(/^Date \((.*)\)$/,"$1")}function*Qf(e,t){const{backend:i,workspace:r}=e,n=yield(0,X.Ys)(il),o=i.workspace(r).catalog(),l=(yield(0,X.RE)([o,o.load])).availableItems().withOptions({types:["dateDataset"],insight:t,excludeTags:(n.excludeObjectsWithTags??[]).map((e=>(0,a.idRef)(e))),includeTags:(n.includeObjectsWithTags??[]).map((e=>(0,a.idRef)(e)))});return(yield(0,X.RE)([l,l.load])).availableDateDatasets()}const Jf=Yf("GDC.DASH/QUERY.INSIGHT.DATE.DATASETS",(function*(e,t){const{payload:{insightOrRef:i},correlationId:r}=t;let n;if((0,a.isObjRef)(i)){if(n=yield(0,X.Ys)(Ju(i)),!n)throw Ie(e,`Insight with ref ${(0,a.objRefToString)(i)} does not exist on the dashboard`,r)}else n=i;const o=yield(0,X.RE)(Qf,e,n),l=yield(0,X.RE)(ib,n),{usedInDateFilters:s,usedInAttributes:d,usedInAttributeFilters:c}=l,u=s[0]??d[0]??c[0],g=Qr([...o,...s,...d,...c].filter(a.isCatalogDateDataset),(e=>(0,a.serializeObjRef)(e.dataSet.ref))),m=Hg(g.map((e=>[e.dataSet.title,Xf(e)])));return{dateDatasets:o,dateDatasetsOrdered:$f(o,m),usedInDateFilters:s,usedInAttributes:d,usedInAttributeFilters:c,dateDatasetDisplayNames:m,mostImportantFromInsight:u,allAvailableDateDatasets:g}}),(e=>{const{payload:{insightOrRef:t}}=e,i=(0,a.isObjRef)(t)?t:(0,a.insightRef)(t);return(0,a.serializeObjRef)(i)})),eb=Jf.cache.selectQueryResult;function*tb(e,t){const i=yield(0,X.RE)(zg,Km(e)),{usage:{inAttributes:r,inFilters:a},displayForms:n}=i,o=d(n,(yield(0,X.Ys)(Fo)).hasTypeScopedIdentifiers),l=e=>{const i=o.get(e);(0,m.kG)(i);const r=i.attribute;return t.get(r)?.dataset};return{usedInAttributes:ka(r.map(l)),usedInAttributeFilters:ka(a.map(l))}}function*ib(e){const t=yield(0,X.Ys)(us),i=yield(0,X.Ys)(hs),r=function(e,t){return(0,a.insightFilters)(e).filter(a.isDateFilter).map((e=>{const i=(0,a.filterObjRef)(e),r=t.get(i);return(0,m.kG)(r,`cannot find metadata for date dataset ${(0,a.objRefToString)(i)}`),r}))}(e,t),n=yield(0,X.RE)(tb,e,i),{usedInAttributes:o,usedInAttributeFilters:l}=n;return{usedInDateFilters:r,usedInAttributes:o,usedInAttributeFilters:l}}const rb=Yf("GDC.DASH/QUERY.INSIGHT.ATTRIBUTE.META",(function*(e,t){const{correlationId:i,payload:{insightOrRef:r}}=t;let n;if((0,a.isObjRef)(r)){if(n=yield(0,X.Ys)(Ju(r)),!n)throw Ie(e,`Insight with ref ${(0,a.objRefToString)(r)} does not exist on the dashboard`,i)}else n=r;const o=(0,a.insightDisplayFormUsage)(n),l=yield(0,X.Ys)(gs),s=yield(0,X.Ys)(ms);return yield(0,X.RE)(nb,e,o,l,s)}),(e=>{const{payload:{insightOrRef:t}}=e,i=(0,a.isObjRef)(t)?t:(0,a.insightRef)(t);return(0,a.serializeObjRef)(i)})),ab=rb.cache.selectQueryResult;async function nb(e,t,i,r){const n=[...t.inAttributes,...t.inFilters,...t.inMeasureFilters],o=[],l=[];n.forEach((e=>{const t=i.get(e);t?o.push(t):l.push(e)}));const s=o.map((e=>{const t=r.get(e.attribute);return(0,m.kG)(t,"dashboard metadata catalog is corrupted"),t.attribute})),{loadedDisplayForms:d,loadedAttributes:c}=await async function(e,t){const{backend:i,workspace:r}=e,a=await i.workspace(r).attributes().getAttributeDisplayForms(t),n=await i.workspace(r).attributes().getAttributes(a.map((e=>e.attribute)));return{loadedDisplayForms:a,loadedAttributes:n}}(e,l);return{usage:t,attributes:Qr([...s,...c],(e=>(0,a.serializeObjRef)(e.ref))),displayForms:Qr([...o,...d],(e=>(0,a.serializeObjRef)(e.ref)))}}const ob=Zf("GDC.DASH/QUERY.WIDGET.FILTERS",(function*(e,t){const{payload:{widgetRef:i,insight:r},correlationId:n}=t,o=vc(i),l=yield(0,X.Ys)(o);if(!l)throw Ie(e,`Widget with ref ${(0,a.objRefToString)(i)} does not exist on the dashboard`,n);if(r)return yield(0,X.RE)(fb,e,l,r);if((0,a.isInsightWidget)(l)){const t=l.insight,i=Ju(t),r=yield(0,X.Ys)(i);if(!r)throw Ie(e,`Insight with ref ${(0,a.objRefToString)(t)} does not exist on the dashboard`,n);return yield(0,X.RE)(fb,e,l,r)}return yield(0,X.RE)(bb,e,l)}));function lb(e,t,i){return(0,a.areObjRefsEqual)(e,t.ref)||(0,a.areObjRefsEqual)(e,(0,a.idRef)(t.id,i))||(0,a.areObjRefsEqual)(e,(0,a.uriRef)(t.uri))}function*sb(e,t){const i=t.map(a.filterObjRef),r=yield(0,X.RE)(bs,e,ka(i));return(0,m.kG)(p(r.missing)),t.map((e=>({filter:e,displayForm:r.resolved.get((0,a.filterObjRef)(e))})))}function db(e,t){const i=us(e);return t.map((e=>({dateDataset:i.get((0,a.filterObjRef)(e)),filter:e})))}function*cb(e,t,i,r){return[...yield(0,X.RE)(ub,e,t,i),...r]}function*ub(e,t,i){const r=function(e,t){return t.filter((({displayForm:t})=>!(t&&e.ignoreDashboardFilters?.filter(a.isDashboardAttributeFilterReference).some((e=>lb(e.displayForm,t,"displayForm"))))))}(t,yield(0,X.RE)(sb,e,i));return r.map((e=>e.filter))}function gb(e,t,i,r,n,o){if(function(e){const t=(0,a.insightMeasures)(e,a.isSimpleMeasure);return t.length>0&&t.every((e=>(0,a.measureFilters)(e)?.some(a.isDateFilter)))}(t))return o;const l=mb(e,i,r,n);return hb(db(e,o),l)}function mb(e,t,i,r){return function(e,t,i){return[...t.filter((({dateDataset:t})=>!!e.dateDataSet&&t&&lb(e.dateDataSet,t.dataSet,"dataSet"))),...i.filter((({dateDataset:t})=>!(t&&e.ignoreDashboardFilters?.filter(a.isDashboardDateFilterReference).some((e=>lb(e.dataSet,t.dataSet,"dataSet"))))))]}(t,db(e,i),db(e,r))}function pb(e,t,i,r){return hb([],mb(e,t,i,r))}function hb(e,t){const i=t.filter((e=>!!e.dateDataset)).map((e=>e.filter));return e.filter((e=>!!e.dateDataset)).reduceRight(((e,t)=>(e.some((e=>lb((0,a.filterObjRef)(e),t.dateDataset.dataSet,"dataSet")))||e.push(t.filter),e)),i).filter((e=>!(0,a.isAllTimeDateFilter)(e)))}function*fb(e,t,i){const r=Cc(t.ref),[n,o]=yield(0,X.Ys)(r);!n.length&&t.dateDataSet&&n.push((0,a.newAllTimeFilter)(t.dateDataSet));const l=(0,a.insightFilters)(i),[s,d]=yield(0,X.$6)([(0,X.Ys)(gb,i,t,n.filter(a.isDateFilter),o.filter(a.isDateFilter),l.filter(a.isDateFilter)),(0,X.RE)(cb,e,t,o.filter(a.isAttributeFilter),l.filter(a.isAttributeFilter))]);return[...s,...d,...l.filter(a.isMeasureValueFilter),...l.filter(a.isRankingFilter)]}function*bb(e,t){const i=Cc(t.ref),[r,n]=yield(0,X.Ys)(i),[o,l]=yield(0,X.$6)([(0,X.Ys)(pb,t,r.filter(a.isDateFilter),n.filter(a.isDateFilter)),(0,X.RE)(ub,e,t,n.filter(a.isAttributeFilter))]);return[...o,...l]}const Db=Yf("GDC.DASH/QUERY.MEASURE.DATE.DATASETS",(function*(e,t){const{payload:{measureRef:i}}=t,r=(yield(0,X.Ys)(ps)).get(i);if(!r)throw Ie(e,`Measure ${(0,a.objRefToString)(i)} does not exist.`,t.correlationId);const n=(0,a.newInsightDefinition)("local:headline",(e=>e.buckets([(0,a.newBucket)("measures",(0,a.newMeasure)(r.measure.ref,(e=>e.localId("measure_date_datasets_availability"))))]))),o=yield(0,X.RE)(Qf,e,n),l=Hg(o.map((e=>[e.dataSet.title,Xf(e)])));return{dateDatasets:o,dateDatasetsOrdered:$f(o,l),dateDatasetDisplayNames:l}}),(e=>(0,a.serializeObjRef)(e.payload.measureRef))),vb=Db.cache.selectQueryResult;const Eb=Zf("GDC.DASH/QUERY.WIDGET.BROKEN_ALERTS",(function*(e,t){const{payload:{widgetRef:i},correlationId:r}=t,{alert:n,kpiWidget:o}=yield(0,X.RE)(yb,i,e,r),l=n?.filterContext?.filters;if(!n||!l)return[];const s=yield(0,X.RE)(Ib,n,e);return function(e,t,i,r){const n=e?.filterContext?.filters;if(!n)return[];const o=[],[l,s]=Li(n,a.isDashboardDateFilter),d=i.filter(a.isAttributeFilter);s.forEach((e=>{const i=r.get(e.attributeFilter.displayForm);(0,m.kG)(i,`Alert filter display form not resolved ${e.attributeFilter.displayForm}`);const n=(l=t,s=i.ref,l.ignoreDashboardFilters.some((e=>(0,a.isDashboardAttributeFilterReference)(e)&&(0,a.areObjRefsEqual)(e.displayForm,s))));var l,s;n?o.push({alertFilter:e,brokenType:"ignored"}):!d.some((e=>(0,a.areObjRefsEqual)((0,a.filterObjRef)(e),i.ref)))&&o.push({alertFilter:e,brokenType:"deleted"})}));const c=xa(l);if(c){const e=function(e){const t=e.dateDataSet,i=!!t&&function(e,t){return e.ignoreDashboardFilters.some((e=>(0,a.isDashboardDateFilterReference)(e)&&(0,a.areObjRefsEqual)(e.dataSet,t)))}(e,t);return!t||i}(t);e&&o.push({alertFilter:{dateFilter:{...c.dateFilter,dataSet:c.dateFilter.dataSet??t.dateDataSet}},brokenType:"ignored"})}return o}(n,o,yield(0,X.RE)(Cb,o),s)}));function*yb(e,t,i){const r=Ec(e),n=yield(0,X.Ys)(r);if(!n)throw Ie(t,`Widget with ref ${(0,a.objRefToString)(e)} does not exist on the dashboard`,i);if(!(0,a.isKpiWidget)(n))throw Ie(t,`Widget with ref ${(0,a.objRefToString)(e)} is not IKpiWidget, only IKpiWidget could has alert assign.`,i);const o=Lh(n.ref);return{alert:yield(0,X.Ys)(o),kpiWidget:n}}function*Ib(e,t){const i=function(e){return(e.filterContext?.filters??[]).filter(a.isDashboardAttributeFilter).map((e=>e.attributeFilter.displayForm))}(e),r=yield(0,X.RE)(bs,t,i);return(0,m.kG)(p(r.missing),"Unable resolve some AttributeDisplayForms defined by alert filters"),r.resolved}function*Cb(e){return Bd(yield(0,X.Ys)(Ed),e)??[]}const Sb=Zf("GDC.DASH/QUERY.WIDGET.ALERT_COUNT",(function*(e,t){const{payload:{widgetRef:i},correlationId:r}=t,n=yield(0,X.Ys)(vc(i));if(!n)throw Ie(e,`Widget with ref ${(0,a.objRefToString)(i)} does not exist on the dashboard`,r);if(!(0,a.isKpiWidget)(n)||qu(n))return 0;const o=e.backend.workspace(e.workspace).dashboards(),[l]=yield(0,X.RE)([o,o.getWidgetAlertsCountForWidgets],[i]);return l.alertCount})),Tb=Yf("GDC.DASH/QUERY.CONNECTING.ATTRIBUTES",(function*(e,t){const{payload:{refs:i},correlationId:r}=t,a=yield(0,X.RE)(Pb,i),n=ka(a.map((e=>ka(e))));if(i.length!==n.length)throw Ie(e,"Cannot find attributes for given displayForms",r);const o=yield(0,X.RE)(wb,e,n);return yield(0,X.RE)(Ab,e,o)}),(e=>{const{payload:{refs:t}}=e;return t.flatMap((e=>e)).map(a.serializeObjRef).join("&")}));async function wb(e,t){const{backend:i,workspace:r}=e;return await i.workspace(r).attributes().getCommonAttributesBatch(t)}async function Ab(e,t){const{backend:i,workspace:r}=e;return(await Promise.all(t.map((e=>Promise.all(e.map((e=>i.workspace(r).attributes().getAttribute(e)))))))).map((e=>e.map((e=>({title:e.title,ref:e.ref})))))}function*Pb(e){const t=yield(0,X.Ys)(vd);return e.map((e=>e.map((e=>t.get(e)?.attribute))))}const Rb=Yf("GDC.DASH/QUERY.DISPLAY.FORM.ATTRIBUTE",(function*(e,t){const{payload:{displayForms:i},correlationId:r}=t,a=yield(0,X.Ys)(Yl),n=yield(0,X.RE)(Fb,e,a,i);if(!n)throw Ie(e,"Cannot find attribute for given displayForm",r);return n}),(e=>{const{payload:{displayForms:t}}=e;return t.map((e=>(0,a.serializeObjRef)(e))).join()}));async function Fb(e,t,i){return Promise.all(i.map((i=>async function(e,t,i){const{backend:r,workspace:n}=e,o=t.find((e=>e.displayForms.some((e=>(0,a.areObjRefsEqual)(e.ref,i)))));return o?o.attribute:r.workspace(n).attributes().getAttributeByDisplayForm(i)}(e,t,i))))}const kb=Yf("GDC.DASH/QUERY.DATA.SET.ATTRIBUTE",(function*(e,t){const{payload:{displayForm:i},correlationId:r}=t,a=yield(0,X.RE)(xb,e,i);if(!a)throw Ie(e,"Cannot find attribute data set for given displayForm",r);return a}),(e=>{const{payload:{displayForm:t}}=e;return(0,a.serializeObjRef)(t)}));async function xb(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).attributes().getAttributeDatasetMeta(t)}const Lb=Yf("GDC.DASH/QUERY.ELEMENTS.ATTRIBUTE",(function*(e,t){const{payload:{displayForm:i,limit:r},correlationId:a}=t,n=yield(0,X.RE)(Mb,e,i,r);if(!n)throw Ie(e,"Cannot find attribute elements for given displayForm",a);return{elements:n.items,totalCount:n.totalCount}}),(e=>{const{payload:{displayForm:t}}=e;return(0,a.serializeObjRef)(t)}));async function Mb(e,t,i){const{backend:r,workspace:a}=e;let n=r.workspace(a).attributes().elements().forDisplayForm(t);return i&&(n=n.withLimit(i)),n.query()}const Ob=Yf("GDC.DASH/QUERY.CONNECTED.ATTRIBUTES",(function*(e,t){const{payload:{ref:i}}=t;return yield(0,X.RE)(Nb,e,i)}),(e=>{const{payload:{ref:t}}=e;return(0,a.serializeObjRef)(t)}));async function Nb(e,t){const{backend:i,workspace:r}=e;return await i.workspace(r).attributes().getConnectedAttributesByDisplayForm(t)}const _b=[Jf,rb,ob,Db,Eb,Sb,Tb,Rb,kb,Lb,Ob];var Hb=i(25356);const Ub=(0,Hb.b)(Ri.ZP),Gb=["GDC.DASH/EVT.COMMAND.STARTED","GDC.DASH/EVT.COMMAND.FAILED","GDC.DASH/EVT.QUERY.FAILED","@@GDC.DASH.SAVE_NEW","@@GDC.DASH.SAVE_EXISTING","@@GDC.DASH.SAVE_AS","GDC.DASH/EVT.WIDGET.EXECUTION_STARTED","GDC.DASH/EVT.WIDGET.EXECUTION_SUCCEEDED","GDC.DASH/EVT.WIDGET.EXECUTION_FAILED","GDC.DASH/CMD.EVENT.TRIGGER","GDC.DASH/CMD.DRILL","GDC.DASH/CMD.EXECUTION_RESULT.UPSERT","GDC.DASH/EVT.DRILL.REQUESTED","GDC.DASH/EVT.DRILL.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_DOWN","GDC.DASH/EVT.DRILL.DRILL_DOWN.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_INSIGHT","GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_DASHBOARD","GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_ATTRIBUTE_URL","GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_CUSTOM_URL","GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_LEGACY_DASHBOARD","GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED","GDC.DASH/CMD.DRILL.CROSS_FILTERING","GDC.DASH/EVT.DRILL.CROSS_FILTERING.REQUESTED","GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED","GDC.DASH/CMD.DRILL.DRILLABLE_ITEMS.CHANGE","GDC.DASH/EVT.DRILL.DRILLABLE_ITEMS.CHANGED","meta/setDrillableItems","layout/updateWidgetIdentities","executionResults/upsertExecutionResult","loadingSlice/setLoadingError"];function*Bb(e,t,i,r){const a=yield(0,X.RE)(vs);try{yield(0,X.rM)(e),yield(0,X.rM)(t),yield(0,X.rM)(i);for(const e of r)yield(0,X.rM)(e,a)}catch(e){console.error("Root saga failed",e)}}const Wb=()=>e=>t=>{const i=+new Date;return t.meta={...t.meta,acceptedTimestamp:i},t.type.startsWith("GDC.DASH/CMD.")&&(t.meta={...t.meta,uuid:(0,Q.Z)()}),e(t)};function zb(e){const t=function(e){const t=kn(e,(e=>e.name)),i=Hg(ka(e.map((e=>e.cache?[e.cache.cacheName,e.cache.reducer]:null))));return{queryCacheReducer:(0,Ai.combineReducers)(i),rootQueryProcessor:function*(){const e=yield(0,X.ZO)((e=>e.type&&(e.type.startsWith(Ug)||e.type.startsWith("GDC.DASH/QUERY."))));for(;;){const o=(i=yield(0,X.qn)(e),r=void 0,(r=i)&&r.type.startsWith(Ug)?i:Gg(i)),l=yield(0,X.RE)(vs),s=t[o.query.type];s?yield(0,X.Cs)(Wg,s,l,o):yield br((a=l,n=o.query.correlationId,{type:"GDC.DASH/EVT.QUERY.REJECTED",ctx:a,correlationId:n}))}var i,r,a,n}}}(function(e,t=[]){return n(ap({},kn(e,(e=>e.name)),kn(t,(e=>e.name))))}(_b,e.queryServices)),i=Ub({context:{dashboardContext:e.dashboardContext,privateContext:e.privateContext??{}}}),r=(0,Ai.combineReducers)({loading:sr,saving:ur,backendCapabilities:en,config:Kr,entitlements:Zr,permissions:ha,filterContext:_i,layout:nr,dateFilterConfig:xr,attributeFilterConfigs:Cs,dateFilterConfigs:As,insights:hr,alerts:Ta,drillTargets:uf,catalog:ya,user:Ra,meta:An,drill:Fs,listedDashboards:Xa,accessibleDashboards:Vs,inaccessibleDashboards:Zg,legacyDashboards:Xs,executionResults:Gs,renderMode:Ka,ui:za,dashboardPermissions:td,_queryCache:t.queryCacheReducer}),a=(0,Pi.xC)({reducer:xi(r),middleware:t=>t({thunk:!1,serializableCheck:{ignoredActions:Gb,ignoredActionPaths:["ctx","onStart","onError","onSuccess"],ignoredPaths:["drill.drillableItems","executionResults"],warnAfter:128}}).prepend(Wb).concat(...e.additionalMiddleware?[e.additionalMiddleware]:[],i),devTools:{name:"Dashboard component state"}}),{eventing:o={}}=e;o.onStateChange&&a.subscribe((()=>o.onStateChange?.(a.getState(),a.dispatch)));const l=function(e=[],t){let i=[...e];return{registerHandler:e=>{i.push(e)},unregisterHandler:e=>{i=i.filter((t=>t!==e))},eventEmitterSaga:function*(){const e=yield(0,X.ZO)(te);for(;;){const r=yield(0,X.qn)(e),a=yield(0,X.Ys)(),n=e=>e(a);try{i.forEach((e=>{e.eval(r)&&e.handler(r,t,n)}))}catch(e){console.error("Error has occurred while dispatching event",r,e)}}}}}(o.initialEventHandlers,a.dispatch);o.onEventingInitialized?.(l.registerHandler,l.unregisterHandler);const s=i.run(Bb,l.eventEmitterSaga,Kf,t.rootQueryProcessor,e.backgroundWorkers);return{store:a,registerEventHandler:l.registerHandler,unregisterEventHandler:l.unregisterHandler,rootSagaTask:s}}function Vb(e,t){const i=(0,a.isDashboard)(t.dashboard)?t.dashboard.ref:t.dashboard;e?.store.dispatch({type:"GDC.DASH/EVT.DEINITIALIZED",ctx:{backend:t.backend,workspace:t.workspace,dashboardRef:i,filterContextRef:t.filterContextRef,clientId:t.clientId,dataProductId:t.dataProductId},correlationId:undefined,payload:{dashboard:i}})}const jb=R.createContext(null),Kb=function(e){void 0===e&&(e=x);var t=e===x?W:B(e);return function(){return t().dispatch}}(jb),qb=function(e){void 0===e&&(e=x);var t=e===x?G:function(){return(0,F.useContext)(e)};return function(e,i){void 0===i&&(i=V);var r=t(),a=function(e,t,i,r){var a,n=(0,F.useReducer)((function(e){return e+1}),0)[1],o=(0,F.useMemo)((function(){return N(i,r)}),[i,r]),l=(0,F.useRef)(),s=(0,F.useRef)(),d=(0,F.useRef)(),c=(0,F.useRef)(),u=i.getState();try{if(e!==s.current||u!==d.current||l.current){var g=e(u);a=void 0!==c.current&&t(g,c.current)?c.current:g}else a=c.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return _((function(){s.current=e,d.current=u,c.current=a,l.current=void 0})),_((function(){function e(){try{var e=i.getState();if(e===d.current)return;var r=s.current(e);if(t(r,c.current))return;c.current=r,d.current=e}catch(e){l.current=e}n()}return o.onStateChange=e,o.trySubscribe(),e(),function(){return o.tryUnsubscribe()}}),[i,o]),a}(e,i,r.store,r.subscription);return(0,F.useDebugValue)(a),a}}(jb),Yb=e=>{const t=(e=>{const{dashboard:t,persistedDashboard:i}=e,r=(0,Z.useBackendStrict)(e.backend),n=(0,Z.useWorkspace)(e.workspace),o=(0,$.useMapboxToken)(e.config?.mapboxToken),{client:l,dataProduct:s}=(0,Z.useClientWorkspaceIdentifiers)()??{},[d,c]=(0,R.useState)(null),u=(0,a.isDashboard)(t)?t.ref:t,g={backend:r,workspace:n,dashboard:t,filterContextRef:e.filterContextRef,clientId:l,dataProductId:s,initialEventHandlers:e.eventHandlers},m=(0,Z.usePrevious)(g);return function(e,t){const i=(0,R.useRef)(e),r=(0,R.useRef)(t);(0,R.useEffect)((()=>{i.current=e,r.current=t})),(0,R.useEffect)((()=>()=>{Vb(i.current,r.current)}),[])}(d,g),(0,R.useEffect)((()=>{if(!function(e,t){if(e===t)return!0;if(!e||!t)return!1;const i=Object.keys(e),r=Object.keys(t),a=i.length;if(r.length!==a)return!1;for(let r=0;r<a;r++){const a=i[r];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}(m,g)||!d){if(d){Vb(d,m);try{d.rootSagaTask.cancel()}catch{}}const l=[di()],s=zb({dashboardContext:{backend:r,workspace:n,dashboardRef:u,filterContextRef:g.filterContextRef,clientId:g.clientId,dataProductId:g.dataProductId},eventing:{initialEventHandlers:e.eventHandlers,onStateChange:e.onStateChange,onEventingInitialized:e.onEventingInitialized},backgroundWorkers:l,privateContext:{...e.customizationFns,widgetsOverlayFn:e.widgetsOverlayFn,preloadedDashboard:(0,a.isDashboard)(t)?t:void 0},initialRenderMode:e.initialRenderMode??"view"});s.store.dispatch(hi((0,$.enrichMapboxToken)(e.config,o),e.permissions,i,mi)),c(s)}})),d})(e),{additionalReduxContext:i}=e;return t?null!=i&&i!==jb?R.createElement(H,{store:t.store,context:jb},R.createElement(H,{store:t.store,context:i},R.createElement(Y,{registerHandler:t.registerEventHandler,unregisterHandler:t.unregisterEventHandler},e.children))):R.createElement(H,{store:t.store,context:jb},R.createElement(Y,{registerHandler:t.registerEventHandler,unregisterHandler:t.unregisterEventHandler},e.children)):null},Zb=(e,t,i)=>{const r=Kb(),{registerHandler:a,unregisterHandler:n}=q();return(0,R.useCallback)(((...o)=>{let l=e(...o);const s=l.correlationId??(0,Q.Z)();l.correlationId||(l={...l,correlationId:s});const d=t?Object.keys(t).map((e=>({eval:t=>t.type===e,handler:i=>{i.correlationId===s&&(d.forEach((e=>{n(e)})),t[e](i))}}))):[];d.forEach((e=>{a(e)})),i?.(l),r(l)}),[])},$b=({commandCreator:e,successEvent:t,errorEvent:i,onSuccess:r,onError:a,onBeforeRun:n})=>{const[o,l]=(0,R.useState)();return{run:Zb(e,{[t]:e=>{l("success"),r?.(e)},[i]:e=>{l("error"),a?.(e)}},(e=>{l("running"),n?.(e)})),status:o}};function Xb(e,t){return{type:"GDC.DASH/CMD.EVENT.TRIGGER",correlationId:t,payload:{eventBody:e}}}const Qb=()=>{const e=Kb();return(0,R.useCallback)((t=>{(0,m.kG)(te(t),"Unsupported event passed to useDashboardEventDispatch result.");const i=Xb(t);e(i)}),[e])};async function Jb(e,t){const{promise:i,envelope:r}=Bg(t);return e(r),i}const eD=({queryCreator:e,onSuccess:t,onError:i,onRejected:r,onBeforeRun:a})=>{const[n,o]=(0,R.useState)({status:"pending",error:void 0,result:void 0}),l=(0,R.useRef)(!1),s=Kb(),d=(0,R.useCallback)(((...n)=>{if(l.current)return;let d=e(...n);d.correlationId||(d={...d,correlationId:(0,Q.Z)()}),l.current||o({status:"running",result:void 0,error:void 0}),a?.(d),Jb(s,d).then((e=>{l.current||(o({status:"success",result:e,error:void 0}),t?.(e))})).catch((e=>{l.current||(Ce(e)?(o({status:"error",result:void 0,error:new Z.UnexpectedSdkError(e.payload.message,e.payload.error)}),i?.(e)):ye(e)&&(o({status:"rejected",result:void 0,error:void 0}),r?.(e)))}))}),[e,t,i,r,a]);return(0,R.useEffect)((()=>()=>{l.current=!0}),[]),{run:d,...n}},tD=()=>{const e=Qb(),t=(0,R.useCallback)((()=>{e(Kt("poweredByGDLogoClicked"))}),[e]),i=(0,R.useCallback)((()=>{e(Kt("kpiAlertDialogClosed"))}),[e]),r=(0,R.useCallback)((t=>{e(Kt({interaction:"kpiAlertDialogOpened",data:{alreadyHasAlert:t}}))}),[e]),a=(0,R.useCallback)((t=>{e(Kt({interaction:"descriptionTooltipOpened",data:t}))}),[e]),n=(0,R.useCallback)((t=>{e(Kt({interaction:"shareDialogInteraction",data:t}))}),[e]),o=(0,R.useCallback)((t=>{e(Kt(t))}),[e]),l=(0,R.useCallback)((t=>{e(Kt(t))}),[e]);return{poweredByGDLogoClicked:t,kpiAlertDialogClosed:i,kpiAlertDialogOpened:r,descriptionTooltipOpened:a,shareDialogInteraction:n,attributeFilterInteraction:o,filterContextStateReset:(0,R.useCallback)((()=>{e(Kt("filterContextStateReset"))}),[e]),interactionPanelOpened:(0,R.useCallback)((()=>{e(Kt("interactionPanelOpened"))}),[e]),addInteractionClicked:(0,R.useCallback)((()=>{e(Kt("addInteractionClicked"))}),[e]),attributeHierarchiesInteraction:l,dateFilterInteraction:(0,R.useCallback)((t=>{e(Kt(t))}),[e])}};function iD(e,t){return{type:"GDC.DASH/CMD.RENDER.ASYNC.REQUEST",correlationId:t,payload:{id:e}}}function rD(e,t){return{type:"GDC.DASH/CMD.RENDER.ASYNC.RESOLVE",correlationId:t,payload:{id:e}}}const aD=e=>{const t=Kb();return(0,R.useCallback)(((...i)=>{const r=e(...i);t(r)}),[e])},nD=e=>{const t=aD(iD),i=aD(rD);return{onRequestAsyncRender:(0,R.useCallback)((()=>{t(e)}),[e]),onResolveAsyncRender:(0,R.useCallback)((()=>{i(e)}),[e])}};function oD(e,t,i){return{type:"GDC.DASH/CMD.EXECUTION_RESULT.UPSERT",correlationId:i,payload:{...t,id:jt(e)?e:(0,a.serializeObjRef)(e)}}}function lD(e,t){return oD(e,{isLoading:!0,executionResult:void 0,error:void 0,warnings:void 0},t)}function sD(e,t,i){return oD(e,{isLoading:!1,error:t,warnings:void 0},i)}function dD(e,t,i,r){return oD(e,{isLoading:!1,error:void 0,executionResult:t,warnings:i},r)}function cD(e){const t=aD(lD),i=aD(dD),r=aD(sD),a=(0,R.useCallback)((t=>{r(e,t)}),[r,e]),n=(0,R.useCallback)(((t,r)=>{i(e,t,r)}),[i,e]),o=(0,R.useCallback)((e=>{e.dataView&&n(e.dataView.result,e.dataView.warnings)}),[n]);return{onLoadingChanged:(0,R.useCallback)((({isLoading:i})=>{i&&t(e)}),[t,e]),onError:a,onSuccess:n,onPushData:o}}var uD=i(65165),gD=i(93386),mD=i(63105);const pD=(0,Po.createSelector)((e=>e),(e=>e.ui)),hD=(0,Po.createSelector)(pD,(e=>e.scheduleEmailDialog.open)),fD=(0,Po.createSelector)(pD,(e=>e.scheduleEmailDialog.defaultAttachmentRef??void 0)),bD=(0,Po.createSelector)(pD,(e=>e.scheduleEmailManagementDialog.open)),DD=(0,Po.createSelector)(pD,(e=>e.saveAsDialog.open)),vD=(0,Po.createSelector)(pD,(e=>e.shareDialog.open)),ED=(0,Po.createSelector)(pD,(e=>e.deleteDialog.open)),yD=(0,Po.createSelector)(pD,(e=>!!e.kpiDeleteDialog.widgetCoordinates)),ID=(0,Po.createSelector)(pD,(e=>!!e.cancelEditModeDialog.open)),CD=(0,Po.createSelector)(pD,(e=>e.kpiDeleteDialog.widgetCoordinates)),SD=(0,Po.createSelector)(pD,(e=>e.filterBar.expanded)),TD=(0,Po.createSelector)(pD,(e=>e.kpiAlerts.highlightedWidgetRef)),wD=(0,Po.createSelector)(pD,(e=>e.kpiAlerts.openedWidgetRef??void 0)),AD=gd((e=>(0,Po.createSelector)(Dc,wD,((t,i)=>{if(!e)return!1;const r=i&&t.get(i);if(!r)return!1;const a=t.get(e);return!!a&&a.identifier===r.identifier})))),PD=gd((e=>(0,Po.createSelector)(Dc,TD,((t,i)=>{if(!e)return!1;const r=i&&t.get(i);if(!r)return!1;const a=t.get(e);return!!a&&a.identifier===r.identifier})))),RD=(0,Po.createSelector)(pD,(e=>e.menuButton.itemsVisibility??{})),FD=(0,Po.createSelector)(pD,(e=>e.selectedWidgetRef)),kD=(0,Po.createSelector)(pD,(e=>e.configurationPanelOpened)),xD=(0,Po.createSelector)(pD,(e=>e.widgetDateDatasetAutoSelect)),LD=(0,Po.createSelector)(pD,(e=>e.insightListLastUpdateRequested)),MD=(0,Po.createSelector)(pD,(e=>e.widgetsLoadingAdditionalData)),OD=gd((e=>(0,Po.createSelector)(MD,(t=>t.some((t=>(0,a.areObjRefsEqual)(t,e))))))),ND=(0,Po.createSelector)(pD,(e=>e.filterAttributeSelectionOpen)),_D=(0,Po.createSelector)(pD,(e=>e.selectedFilterIndex)),HD=(0,Po.createSelector)(pD,(e=>void 0!==e.draggingWidgetSource)),UD=(0,Po.createSelector)(pD,(e=>e.activeSectionIndex)),GD=(0,Po.createSelector)(pD,(e=>e.drillValidationMessages.invalidDrillWidgetRefs)),BD=(0,Po.createSelector)(pD,(e=>e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets)),WD=(0,Po.createSelector)(BD,(e=>e.map((e=>e.widgetRef)))),zD=(0,Po.createSelector)(BD,(e=>e.filter((e=>e.showMessage)).map((e=>e.widgetRef)))),VD=(0,Po.createSelector)(BD,(e=>new o({idExtract:e=>e.widgetId,refExtract:e=>e.widgetRef,uriExtract:e=>e.widgetUri,strictTypeCheck:!1}).fromItems(e))),jD=gd((e=>(0,Po.createSelector)(VD,(t=>t.get(e)?.drillsWithInvalidParametersLocalIds??[])))),KD=(0,Po.createSelector)(pD,(e=>e.draggingWidgetSource)),qD=(0,Po.createSelector)(pD,(e=>e.draggingWidgetTarget)),YD=(0,Po.createSelector)(pD,(e=>e.widgetsOverlay)),ZD=gd((e=>(0,Po.createSelector)(YD,(t=>e.every((e=>(e&&t[(0,a.objRefToString)(e)]?.showOverlay)??!1)))))),$D=gd((e=>(0,Po.createSelector)(YD,(t=>e.reduce(((e,i)=>{const r=i&&t[(0,a.objRefToString)(i)];return r?.modification?gD(e,[r.modification]):e}),[]))))),XD=gd((e=>(0,Po.createSelector)(YD,(t=>{const i=e.map((e=>{const i=e&&t[(0,a.objRefToString)(e)];return i?.modification})),r=mD(i,(e=>"insertedByPlugin"===e)),n=mD(i,(e=>"modifiedByPlugin"===e));return[...r.length===e.length?["insertedByPlugin"]:[],...n.length===e.length?["modifiedByPlugin"]:[]]})))),QD=gd((e=>(0,Po.createSelector)(XD(e),(e=>e.length>0&&e.every((e=>"insertedByPlugin"===e))))));var JD=i(50049);const ev=(0,JD.vU)({messagesDashboardSaveSuccess:{id:"messages.dashboardSaveSuccess"},messagesDashboardSaveFailed:{id:"messages.dashboardSaveFailed"},messagesExportResultStart:{id:"messages.exportResultStart"},messagesExportResultSuccess:{id:"messages.exportResultSuccess"},messagesExportResultRestrictedError:{id:"messages.exportResultRestrictedError"},messagesExportResultError:{id:"messages.exportResultError"},messagesSharingChangedSuccess:{id:"messages.sharingChangedSuccess"},messagesSharingChangedError:{id:"messages.sharingChangedError.general"},messagesSharingDialogError:{id:"messages.sharingDialogError.general"},scheduleEmailSubmitError:{id:"dialogs.schedule.email.submit.error"},scheduleEmailSubmitSuccess:{id:"dialogs.schedule.email.submit.success"},scheduleEmailSaveError:{id:"dialogs.schedule.email.save.error"},scheduleEmailSaveSuccess:{id:"dialogs.schedule.email.save.success"},scheduleEmailDeleteSuccess:{id:"dialogs.schedule.email.delete.success"},scheduleManagementLoadError:{id:"dialogs.schedule.management.load.error"},scheduleManagementDeleteError:{id:"dialogs.schedule.management.delete.error"},scheduleManagementTabUser:{id:"dialogs.schedule.management.tab.user"},scheduleManagementTabAll:{id:"dialogs.schedule.management.tab.all"},scheduleManagementNoSchedules:{id:"dialogs.schedule.management.noSchedules"},scheduleManagementNoSchedulesByUser:{id:"dialogs.schedule.management.noSchedules.byUser"},saveAsNewAlertsAndEmailsMessage:{id:"dialogs.save.as.new.alertsAndEmailsMessage"},saveAsNewAlertsMessage:{id:"dialogs.save.as.new.alertsMessage"},saveAsNewEmailsMessage:{id:"dialogs.save.as.new.emailsMessage"},alertMessageRelativePresetInPeriod:{id:"filters.alertMessage.relativePreset.inPeriod"},alertMessageRelativePreset:{id:"filters.alertMessage.relativePreset"},scheduleEmailOptionRecepientInvalid:{id:"options.menu.schedule.email.recipient.invalid"},scheduleEmailOptionRecepientExternalNotAllowed:{id:"options.menu.schedule.email.recipient.external.not.allowed"},tabsMy:{id:"gs.visualizationsList.tabs.my"},tabsAll:{id:"gs.visualizationsList.tabs.all"},controlButtonsSaveValue:{id:"controlButtons.save.value"},controlButtonsSaveAndPublishValue:{id:"controlButtons.saveAndPublish.value"},controlButtonsSaveAndPublishTitle:{id:"controlButtons.saveAndPublish.title"},controlButtonsSaveAsPrivateTitle:{id:"controlButtons.saveAsPrivate.title"},controlButtonsSaveAndPublishNoChanges:{id:"controlButtons.saveAndPublish.disable.noChanges.title"},controlButtonsSaveAndPublishEmpty:{id:"controlButtons.saveAndPublish.disable.empty.title"},scheduleDialogEmailRepeats_custom:{id:"dialogs.schedule.email.repeats.types.custom"},scheduleDialogEmailRepeats_daily:{id:"dialogs.schedule.email.repeats.types.daily"},scheduleDialogEmailRepeats_monthly:{id:"dialogs.schedule.email.repeats.types.monthly"},scheduleDialogEmailRepeats_weekly:{id:"dialogs.schedule.email.repeats.types.weekly"},scheduleDialogEmailRepeatsExecuteOn_dayOfMonth:{id:"dialogs.schedule.email.repeats.execute.on.dayOfMonth"},scheduleDialogEmailRepeatsExecuteOn_dayOfWeek:{id:"dialogs.schedule.email.repeats.execute.on.dayOfWeek"},scheduleDialogEmailRepeatsFrequencies_day:{id:"dialogs.schedule.email.repeats.frequencies.day"},scheduleDialogEmailRepeatsFrequencies_month:{id:"dialogs.schedule.email.repeats.frequencies.month"},scheduleDialogEmailRepeatsFrequencies_week:{id:"dialogs.schedule.email.repeats.frequencies.week"},filterHiddenTooltip:{id:"filter.visibilityMode.tooltip.hidden"},filterReadonlyInEditModeTooltip:{id:"filter.visibilityMode.tooltip.readonly.editMode"},filterReadonlyInViewModeTooltip:{id:"filter.visibilityMode.tooltip.readonly.viewMode"},filterConfigurationModeActiveTitle:{id:"filter.configuration.mode.interactive.title"},filterConfigurationModeHiddenTitle:{id:"filter.configuration.mode.hidden.title"},filterConfigurationModeReadOnlyTitle:{id:"filter.configuration.mode.locked.title"},filterConfigurationModeActiveTooltip:{id:"filter.configuration.mode.interactive.tooltip"},filterConfigurationModeHiddenTooltip:{id:"filter.configuration.mode.hidden.tooltip"},filterConfigurationModeReadOnlyTooltip:{id:"filter.configuration.mode.locked.tooltip"},filterConfigurationModeTitle:{id:"filter.configuration.mode.title"},filterConfigurationTitleTitle:{id:"attributesDropdown.title"},filterConfigurationTitleReset:{id:"attributesDropdown.title.reset"},dateFilterDropdownConfigurationHeader:{id:"dateFilterDropdown.configuration"},dateFilterDropdownConfigurationSaveText:{id:"dateFilterDropdown.save"},dateFilterDropdownConfigurationCancelText:{id:"gs.list.cancel"},filterResetButtonTooltip:{id:"filter.resetButton.tooltip"},drillToDashboardConfig:{id:"configurationPanel.drillConfig.drillIntoDashboard"},drillIntoInsight:{id:"configurationPanel.drillConfig.drillIntoInsight"},drillDownConfig:{id:"configurationPanel.drillConfig.drillDown"},drillToUrlConfig:{id:"configurationPanel.drillConfig.drillIntoUrl"},disableDrillDownToolTip:{id:"configurationPanel.drillConfig.disableDrillDownTooltip"},disableUsedDrillDownTooltip:{id:"configurationPanel.drillConfig.alreadyUsedTooltip"},filterDropzoneTooltip:{id:"filterBar.filter.dropzone.tooltip"},filterDropzoneTooltipGeneric:{id:"filterBar.filter.dropzone.tooltip.generic"}}),tv=()=>{const{addSuccess:e,addError:t}=(0,uD.useToastMessage)(),i=qb(hD),r=qb(bD),a=Kb(),n=qb(gu),o=qb(wl),l=qb(nl),s=qb(Bc),d=qb(oh),c=qb(ml),u=qb(RD),g=()=>a(Va.openScheduleEmailDialog()),m=()=>a(Va.closeScheduleEmailDialog()),p=()=>o&&a(Va.openScheduleEmailManagementDialog()),h=()=>o&&a(Va.closeScheduleEmailManagementDialog()),f=()=>o&&a(Va.resetScheduleEmailDialogDefaultAttachment()),[b,D]=(0,R.useState)(),[v,E]=(0,R.useState)([]),y=s&&!l&&d&&c&&(u.scheduleEmailButton??!0),I=(0,R.useCallback)((()=>{n&&(o?p():g())}),[n,o]),C=(0,R.useCallback)((e=>{g(),e&&(e=>{o&&a(Va.setScheduleEmailDialogDefaultAttachment(e))})(e)}),[]),S=(0,R.useCallback)((()=>{m(),t(ev.scheduleEmailSubmitError)}),[]),T=(0,R.useCallback)((()=>{m(),e(ev.scheduleEmailSubmitSuccess),f()}),[]),w=(0,R.useCallback)((()=>{m(),t(ev.scheduleEmailSaveError),D(void 0)}),[]),A=(0,R.useCallback)((()=>{m(),p(),e(ev.scheduleEmailSaveSuccess),D(void 0)}),[]),P=(0,R.useCallback)((()=>{m(),p(),f(),D(void 0)}),[]),F=(0,R.useCallback)((()=>{e(ev.scheduleEmailDeleteSuccess)}),[]),k=(0,R.useCallback)((()=>{h(),g()}),[]),x=(0,R.useCallback)(((e,t)=>{h(),D(e),E(t),g()}),[]),L=(0,R.useCallback)((()=>{h()}),[]),M=(0,R.useCallback)((()=>{h(),t(ev.scheduleManagementLoadError)}),[]),O=(0,R.useCallback)((()=>{h(),t(ev.scheduleManagementDeleteError)}),[]);return{isScheduledEmailingVisible:y,enableInsightExportScheduling:o,defaultOnScheduleEmailing:I,isScheduleEmailingDialogOpen:i,isScheduleEmailingManagementDialogOpen:r,onScheduleEmailingOpen:C,onScheduleEmailingManagementEdit:x,scheduledEmailToEdit:b,users:v,onScheduleEmailingCancel:P,onScheduleEmailingCreateError:S,onScheduleEmailingCreateSuccess:T,onScheduleEmailingSaveError:w,onScheduleEmailingSaveSuccess:A,onScheduleEmailingManagementAdd:k,onScheduleEmailingManagementClose:L,onScheduleEmailingManagementLoadingError:M,onScheduleEmailingManagementDeleteSuccess:F,onScheduleEmailingManagementDeleteError:O}};function iv(e){const t=Kb(),i=qb(kD),r=qb(Wc),n=qb(FD),o=Boolean(r&&n&&e&&(0,a.areObjRefsEqual)(n,e)),l=(0,R.useCallback)((()=>{t(Va.setConfigurationPanelOpened(!1))}),[t]),s=(0,R.useCallback)((i=>{i&&(i.processedDuringWidgetSelect=!0),r&&e&&(t(Va.selectWidget(e)),t(Va.setConfigurationPanelOpened(!0)))}),[r,e,t]),d=(0,R.useCallback)((e=>{!e?.processedDuringWidgetSelect&&n&&t(Va.clearWidgetSelection())}),[t,n]);return{isSelectable:r,isSelected:o,onSelected:s,hasConfigPanelOpen:i&&o,closeConfigPanel:l,deselectWidgets:d}}function rv(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.ADD_SECTION",correlationId:a,payload:{index:e,initialHeader:t,initialItems:i,autoResolveDateFilterDataset:r}}}function av(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_SECTION",correlationId:i,payload:{sectionIndex:e,toIndex:t}}}function nv(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_SECTION",correlationId:i,payload:{index:e,stashIdentifier:t}}}function ov(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.CHANGE_SECTION_HEADER",correlationId:r,payload:{index:e,header:t,merge:i}}}function lv(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.ADD_ITEMS",correlationId:a,payload:{sectionIndex:e,itemIndex:t,items:[i],autoResolveDateFilterDataset:r}}}function sv(e,t,i,r,a,n){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REPLACE_ITEM",correlationId:n,payload:{sectionIndex:e,itemIndex:t,item:i,autoResolveDateFilterDataset:a,stashIdentifier:r}}}function dv(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM",correlationId:a,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,toItemIndex:r,removeOriginalSectionIfEmpty:!1}}}function cv(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM",correlationId:a,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,toItemIndex:r,removeOriginalSectionIfEmpty:!0}}}function uv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM_TO_NEW_SECTION",correlationId:r,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,removeOriginalSectionIfEmpty:!1}}}function gv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM_TO_NEW_SECTION",correlationId:r,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,removeOriginalSectionIfEmpty:!0}}}function mv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM",correlationId:r,payload:{sectionIndex:e,itemIndex:t,stashIdentifier:i,eager:!1}}}function pv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM",correlationId:r,payload:{sectionIndex:e,itemIndex:t,stashIdentifier:i,eager:!0}}}function hv(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM_BY_WIDGET_REF",correlationId:i,payload:{widgetRef:e,stashIdentifier:t,eager:!1}}}function fv(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM_BY_WIDGET_REF",correlationId:i,payload:{widgetRef:e,stashIdentifier:t,eager:!0}}}function bv(e,t){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.UNDO",correlationId:t,payload:{undoPointSelector:e}}}function Dv(e){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.UNDO",correlationId:e,payload:{}}}function vv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_HEIGHT",correlationId:r,payload:{sectionIndex:e,itemIndexes:t,height:i}}}function Ev(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_WIDTH",correlationId:r,payload:{sectionIndex:e,itemIndex:t,width:i}}}function yv(e,t){return{type:"GDC.DASH/CMD.ALERT.CREATE",correlationId:t,payload:{alert:e}}}function Iv(e,t){return{type:"GDC.DASH/CMD.ALERT.UPDATE",correlationId:t,payload:{alert:e}}}function Cv(e,t){return{type:"GDC.DASH/CMD.ALERTS.REMOVE",correlationId:t,payload:{refs:e}}}function Sv(e,t,i){return{type:"GDC.DASH/CMD.SCHEDULED_EMAIL.CREATE",correlationId:i,payload:{scheduledEmail:e,filterContext:t}}}function Tv(e,t,i){return{type:"GDC.DASH/CMD.SCHEDULED_EMAIL.SAVE",correlationId:i,payload:{scheduledEmail:e,filterContextRef:t}}}function wv(e,t,i){return{type:"GDC.DASH/CMD.DRILL",correlationId:i,payload:{drillEvent:e,drillContext:t}}}function Av(e,t,i,r){return{type:"GDC.DASH/CMD.DRILL.DRILL_DOWN",correlationId:r,payload:{insight:e,drillDefinition:t,drillEvent:i}}}function Pv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_INSIGHT",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Rv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_DASHBOARD",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Fv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_CUSTOM_URL",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function kv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_ATTRIBUTE_URL",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function xv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_LEGACY_DASHBOARD",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Lv(e,t){return{type:"GDC.DASH/CMD.DRILL.DRILLABLE_ITEMS.CHANGE",correlationId:t,payload:{drillableItems:e}}}function Mv(e,t,i,r){return{type:"GDC.DASH/CMD.DRILL.CROSS_FILTERING",correlationId:r,payload:{insight:e,drillDefinition:t,drillEvent:i}}}function Ov(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_HEADER",correlationId:i,payload:{ref:e,header:t}}}function Nv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_DESCRIPTION",correlationId:i,payload:{ref:e,description:t}}}function _v(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_CONFIGURATION",correlationId:i,payload:{ref:e,config:t}}}function Hv(e,t,i,r){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE",correlationId:r,payload:{ref:e,measureRef:t,header:i}}}function Uv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"replace",...t}}}}function Gv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"enableDateFilter",dateDataset:t}}}}function Bv(e,t){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:t,payload:{ref:e,operation:{type:"disableDateFilter"}}}}function Wv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"replaceAttributeIgnores",displayFormRefs:t??[]}}}}function zv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"ignoreAttributeFilter",displayFormRefs:(0,a.isObjRef)(t)?[t]:t}}}}function Vv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"unignoreAttributeFilter",displayFormRefs:(0,a.isObjRef)(t)?[t]:t}}}}function jv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_COMPARISON",correlationId:i,payload:{ref:e,comparison:t}}}function Kv(e,t){return{type:"GDC.DASH/CMD.KPI_WIDGET.REFRESH",correlationId:t,payload:{ref:e}}}function qv(e,t,i,r){return{type:"GDC.DASH/CMD.KPI_WIDGET.SET_DRILL",correlationId:r,payload:{ref:e,legacyDashboardTabIdentifier:i,legacyDashboardRef:t}}}function Yv(e,t){return{type:"GDC.DASH/CMD.KPI_WIDGET.REMOVE_DRILL",correlationId:t,payload:{ref:e}}}function Zv(e,t,i){return{type:"GDC.DASH/CMD.DRILL_TARGETS.ADD",correlationId:i,payload:{ref:e,availableDrillTargets:t}}}function $v(e,t){return{type:"GDC.DASH/QUERY.CONNECTING.ATTRIBUTES",correlationId:t,payload:{refs:e}}}function Xv(e,t){return{type:"GDC.DASH/QUERY.CONNECTED.ATTRIBUTES",correlationId:t,payload:{ref:e}}}function Qv(e,t){return{type:"GDC.DASH/QUERY.DATA.SET.ATTRIBUTE",correlationId:t,payload:{displayForm:e}}}function Jv(e,t,i){return{type:"GDC.DASH/QUERY.ELEMENTS.ATTRIBUTE",correlationId:i,payload:{displayForm:e,limit:t}}}const eE=(0,Po.createSelector)((e=>e),(e=>e.loading)),tE=eE,iE=(0,Po.createSelector)(eE,(e=>e.loading)),rE=(0,Po.createSelector)((e=>e),(e=>e.saving)),aE=rE,nE=(0,Po.createSelector)(rE,(e=>e.saving)),oE=(0,Po.createSelector)((e=>e),(e=>e.entitlements)),lE=(0,Po.createSelector)(oE,(e=>((0,m.kG)(e.entitlements,"attempting to access uninitialized entitlements state"),e.entitlements))),sE=(0,Po.createSelector)(lE,(e=>e.find((e=>"PdfExports"===e.name)))),dE=(0,Po.createSelector)((e=>e),(e=>e.dashboardPermissions)),cE=(0,Po.createSelector)(dE,(e=>((0,m.kG)(e.dashboardPermissions,"attempting to access uninitialized dashboard permissions state"),e.dashboardPermissions))),uE=(0,Po.createSelector)(cE,(e=>e?.canViewDashboard??!1)),gE=(0,Po.createSelector)(cE,(e=>e?.canShareDashboard??!1)),mE=(0,Po.createSelector)(cE,(e=>e?.canShareLockedDashboard??!1)),pE=(0,Po.createSelector)(cE,(e=>e?.canEditDashboard??!1)),hE=(0,Po.createSelector)(cE,(e=>e?.canEditLockedDashboard??!1));function fE(e){let t;if((0,a.isDrillFromMeasure)(e.origin))t=e.origin.measure;else{if(!(0,a.isDrillFromAttribute)(e.origin))throw new Dr.UnexpectedError("Unknown drill origin!");t=e.origin.attribute}return ka([(0,a.isLocalIdRef)(t)&&Z.HeaderPredicates.localIdentifierMatch(t.localIdentifier),(0,a.isIdentifierRef)(t)&&Z.HeaderPredicates.identifierMatch(t.identifier),(0,a.isUriRef)(t)&&Z.HeaderPredicates.uriMatch(t.uri)])}function bE(e,t,i){const r=i.get(t),n=r?{target:r.defaultDisplayForm.ref,title:r.attribute.title}:{target:t};return{drillDefinition:{type:"drillDown",origin:(0,a.localIdRef)(e.attribute.attributeHeader.localIdentifier),...n},predicates:[Z.HeaderPredicates.localIdentifierMatch(e.attribute.attributeHeader.localIdentifier)]}}function DE(e,t,i,r,n,o){return n?.length?e.flatMap((e=>{const t=e.attribute.attributeHeader.formOf.ref,l=[];return r.forEach((e=>{const r=(0,a.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.ref:e.dateDatasetRef,s=((0,a.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes).filter((e=>{const t=n.findIndex((t=>vf(t,r,e)));if(o){const r=i.get(e);return t<0&&r}return t<0})),d=s.findIndex((e=>(0,a.areObjRefsEqual)(e,t)));if(d<0)return;const c=s[d+1];c&&l.push(c)})),l.map((t=>bE(e,t,i)))})):e.filter((e=>(0,a.objRefToString)(e.attribute.attributeHeader.formOf.ref)in t)).flatMap((e=>{const r=e.attribute.attributeHeader.formOf.ref;return t[(0,a.objRefToString)(r)].map((t=>bE(e,t,i)))}))}function vE(e,t){return e.filter((e=>t.some((t=>(0,a.areObjRefsEqual)(t.attribute.ref,e.attribute.attributeHeader.formOf.ref))))).map((e=>{const i=t.find((t=>(0,a.areObjRefsEqual)(t.attribute.ref,e.attribute.attributeHeader.formOf.ref)));return{drillDefinition:{type:"drillToAttributeUrl",transition:"new-window",origin:{type:"drillFromAttribute",attribute:(0,a.localIdRef)(e.attribute.attributeHeader.localIdentifier)},target:{displayForm:e.attribute.attributeHeader.ref,hyperlinkDisplayForm:i.attribute.drillToAttributeLink}},predicates:[Z.HeaderPredicates.identifierMatch(e.attribute.attributeHeader.identifier),Z.HeaderPredicates.uriMatch(e.attribute.attributeHeader.uri)]}}))}const EE=gd((e=>(0,Po.createSelector)(Ig(e),ds,ms,Bl,eg(e),yc(e),ls,Fo,((e,t,i,r,a,n,o,l)=>r&&!a?.insight?.properties?.controls?.disableDrillDown?DE(e?.availableDrillTargets?.attributes??[],t,i,o,n,l.supportsAttributeHierarchies):[])))),yE=gd((e=>(0,Po.createSelector)(Kl,jo,Ig(e),Tu,nc,((e,t,i,r,a)=>{if(!e||!t||r||a.length>0)return;const n=(i?.availableDrillTargets?.attributes??[]).filter((e=>!e.attribute.attributeHeader.granularity));return n.length?{drillDefinition:{type:"crossFiltering",transition:"in-place",origin:{}},predicates:[...n.map((e=>Z.HeaderPredicates.localIdentifierMatch(e.attribute.attributeHeader.localIdentifier))),...ka(i?.availableDrillTargets?.measures?.map((e=>Z.HeaderPredicates.localIdentifierMatch(e.measure.measureHeaderItem.localIdentifier))))]}:void 0})))),IE=gd((e=>(0,Po.createSelector)(Ig(e),ls,yc(e),Gl,zo,eg(e),((e,t,i,r,n,o)=>r&&n&&!o?.insight?.properties?.controls?.disableDrillDown?function(e,t,i=[]){const r=t?.attributes??[],n=[];return e.map((e=>{const t=(0,a.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.ref:e.dateDatasetRef,i=(0,a.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes;return{attributeIdentifiers:i.slice(0,i.length-1).map((e=>(0,a.objRefToString)(e))),ref:t}})).forEach((({attributeIdentifiers:e,ref:t})=>{r.forEach((r=>{const o=r.attribute.attributeHeader,l=e.includes((0,a.objRefToString)(o.formOf.ref)),s=i.findIndex((e=>vf(e,t,o.formOf.ref)));l&&s<0&&n.push({type:"drillDown",origin:(0,a.localIdRef)(o.localIdentifier),target:t})}))})),n}(t,e?.availableDrillTargets,i):[])))),CE=gd((e=>(0,Po.createSelector)(Ig(e),cs,El,((e,t,i)=>i?vE(e?.availableDrillTargets?.attributes??[],t):[])))),SE=gd((e=>(0,Po.createSelector)(Ic(e),dl,El,yl,Il,Dl,Kl,Tl,ol,Tu,((e=[],t,i,r,a,n,o,l,s,d)=>{if(t)return[];const c=[...e].filter((e=>{const t=e.type;switch(t){case"drillToAttributeUrl":return i;case"drillToCustomUrl":return r;case"drillToDashboard":return n;case"drillToInsight":return a;case"drillToLegacyDashboard":return!(s&&l);case"crossFiltering":return o&&!d;default:{const e=t;throw new Dr.UnexpectedError(`Unhandled widget drill type: ${e}`)}}}));return c.map((e=>({drillDefinition:e,predicates:fE(e)})))})))),TE=gd((e=>(0,Po.createSelector)(SE(e),gs,Tg,Qu,((e=[],t,i,r)=>e.filter((e=>{switch(e.drillDefinition.type){case"drillToAttributeUrl":return t.get(e.drillDefinition.target.hyperlinkDisplayForm);case"drillToCustomUrl":case"drillToLegacyDashboard":case"drillDown":case"crossFiltering":return!0;case"drillToDashboard":return!e.drillDefinition.target||i.get(e.drillDefinition.target);case"drillToInsight":return r.get(e.drillDefinition.target);default:{const t=e.drillDefinition;throw new Dr.UnexpectedError(`Unhandled widget drill type: ${t}`)}}})))))),wE=gd((e=>(0,Po.createSelector)(CE(e),(e=>Gi(e,(e=>e.predicates)))))),AE=gd((e=>(0,Po.createSelector)(EE(e),(e=>Gi(e,(e=>e.predicates)))))),PE=gd((e=>(0,Po.createSelector)(TE(e),((e=[])=>Gi(e,(e=>e.predicates)))))),RE=gd((e=>(0,Po.createSelector)(yE(e),(e=>e?.predicates??[])))),FE=gd((e=>(0,Po.createSelector)(TE(e),EE(e),CE(e),yE(e),((e,t,i,r)=>ka([...e,...t,...i,r]))))),kE=gd((e=>(0,Po.createSelector)(dl,nc,PE(e),AE(e),wE(e),RE(e),((e,t,i,r,a,n)=>{const o=[...t];return e||o.push(...i,...r,...a,...n),o})))),xE=gd(((e,t=[])=>(0,Po.createSelector)(cs,ds,ms,Bl,ls,Fo,((i,r,a,n,o,l)=>{const s=e?.attributes??[];return[...n?DE(s,r,a,o,t,l.supportsAttributeHierarchies):[],...vE(s,i)]})))),LE=gd(((e,t)=>(0,Po.createSelector)(xE(e,t),(e=>Gi(e,(e=>e.predicates)))))),ME=(0,Po.createSelector)((e=>e),(e=>e.listedDashboards)),OE=Za.getSelectors(ME).selectAll,NE=(0,Po.createSelector)(OE,(e=>u(e)));async function _E(e,t){const{promise:i,envelope:r}=function(e){const t={};return{promise:new Promise(((e,i)=>{t.onSuccess=e,t.onError=i})),envelope:Vf(e,t)}}(t);return e(r),i}class HE{selectorEvaluator;dispatch;constructor(e,t){this.selectorEvaluator=e,this.dispatch=t}getDashboardSelect=()=>((0,m.kG)(this.selectorEvaluator,"DashboardStoreAccessor selectorEvaluator is not initialized"),this.selectorEvaluator);setSelector=e=>{this.selectorEvaluator=e};getDashboardDispatch=()=>((0,m.kG)(this.dispatch,"DashboardStoreAccessor dispatch is not initialized"),this.dispatch);setDispatch=e=>{this.dispatch=e};isDashboardStoreAccessorInitialized=()=>!!this.selectorEvaluator&&!!this.dispatch;setSelectAndDispatch=(e,t)=>{this.setSelector((t=>t(e))),this.setDispatch(t)}}class UE{static accessors=new Map;static getSerializedDashboardRef(e){const t="string"==typeof e?(0,a.idRef)(e):e;return(0,a.serializeObjRef)(t)}static getAccessorsForDashboard(e){const t=UE.getSerializedDashboardRef(e),i=this.accessors.get(t);return(0,m.kG)(i,`No accessor available for dashboard ${e}`),i}static getDashboardSelectForDashboard(e){const t=UE.getSerializedDashboardRef(e),i=this.accessors.get(t)?.getDashboardSelect();return(0,m.kG)(i,`No selector available for dashboard ${e}`),i}static getDashboardDispatchForDashboard(e){const t=UE.getSerializedDashboardRef(e),i=this.accessors.get(t)?.getDashboardDispatch();return(0,m.kG)(i,`No selector available for dashboard ${e}`),i}static getOnChangeHandlerForDashboard(e){const t=UE.getSerializedDashboardRef(e);return(e,i)=>{UE.setAccessorForDashboard(t,(t=>t(e)),i)}}static setAccessorForDashboard(e,t,i){UE.accessors.set(e,new HE(t,i))}static clearAccessorForDashboard(e){const t=UE.getSerializedDashboardRef(e);UE.accessors.delete(t)}static clearAllAccessors(){UE.accessors.clear()}static isAccessorInitializedForDashboard(e){const t=this.getSerializedDashboardRef(e),i=UE.accessors.get(t);return!!i?.isDashboardStoreAccessorInitialized()}}const GE=(0,a.serializeObjRef)((0,a.idRef)("SingleDashboardStoreAccessor_mock_dashboard_id"));class BE{static getDashboardSelect(){return UE.getAccessorsForDashboard(GE).getDashboardSelect()}static getDashboardDispatch(){return UE.getAccessorsForDashboard(GE).getDashboardDispatch()}static getOnChangeHandler(){return UE.getOnChangeHandlerForDashboard(GE)}static clearAccessor(){UE.clearAccessorForDashboard(GE)}static isAccessorInitialized(){return UE.isAccessorInitializedForDashboard(GE)}}function WE(e){return{eval:()=>!0,handler:e}}function zE(e){return{eval:J,handler:e}}function VE(e,t){return{eval:t=>t.type===e,handler:t}}function jE(e,t){return{eval:t=>fe(t)&&t.payload.command.type===e,handler:t}}function KE(e,t){return{eval:t=>De(t)&&t.payload.command.type===e,handler:t}}const qE=e=>({eval:ni("GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED",(t=>!t.payload.drillDefinition.target||(0,a.areObjRefsEqual)(t.payload.drillDefinition.target,e))),handler:(e,t)=>{t(kf(e.payload.filters))}});class YE{reduxedStore;monitoredActions={};capturedActions=[];capturedEvents=[];constructor(e,t){this.reduxedStore=zb({dashboardContext:e,additionalMiddleware:()=>e=>t=>(t.type.startsWith("@@redux/")||this.onActionCaptured(t),e(t)),eventing:{initialEventHandlers:[{eval:()=>!0,handler:this.eventHandler}]},queryServices:t?.queryServices,backgroundWorkers:t?.backgroundWorkers||[],privateContext:t?.customizationFns,initialRenderMode:"view"})}getOrCreateMonitoredAction=e=>{const t=this.monitoredActions[e];if(t)return t;const i={calls:0,resolve:j,reject:j},r=new Promise(((e,t)=>{i.resolve=e,i.reject=t})),a={...i,promise:r};return this.monitoredActions[e]=a,a};onActionCaptured=e=>{this.capturedActions.push(e);const t=this.getOrCreateMonitoredAction(e.type);t.calls+=1,t.resolve(e)};eventHandler=e=>{this.capturedEvents.push(e)};dispatch(e){this.monitoredActions={},this.reduxedStore.store.dispatch(e)}dispatchAndWaitFor(e,t,i=1e3){return this.dispatch(e),this.waitFor(t,i)}commandFailedRejectsWaitFor=()=>this.getOrCreateMonitoredAction("GDC.DASH/EVT.COMMAND.FAILED").promise.then((e=>{throw console.error(`Command processing failed: ${e.payload.reason} - ${e.payload.message}`),e.payload.error}));commandRejectedEndsWaitFor=()=>this.getOrCreateMonitoredAction("GDC.DASH/EVT.COMMAND.REJECTED").promise.then((e=>{throw console.error("Command was rejected because dashboard does not know how to handle it. This is likely because the handler for the rejected command is not registered in the system. See root command handler."),e}));query(e){const{envelope:t,promise:i}=Bg(e);return this.reduxedStore.store.dispatch(t),i}waitFor(e,t=1e3){const i="GDC.DASH/EVT.COMMAND.FAILED"!==e;return Promise.race([this.getOrCreateMonitoredAction(e).promise,...i?[this.commandFailedRejectsWaitFor()]:[],this.commandRejectedEndsWaitFor(),new Promise(((i,r)=>{setTimeout((()=>{r(new Error(`Wait for action '${e}' timed out after ${t}ms`))}),t)}))])}select(e){return e(this.state())}state(){return this.reduxedStore.store.getState()}}function ZE(e){return function(t){const i=qb(Gc),r=e[i]??e.view;return R.createElement(r,{...t})}}var $E=i(42740);const XE=(0,R.createContext)({isOpen:!1,dialogConfig:{},closeDialog:j,openDialog:j}),QE=()=>(0,R.useContext)(XE),JE=({children:e})=>{const[t,i]=(0,R.useState)(!1),[r,a]=(0,R.useState)({}),n=(0,R.useCallback)(((e={})=>{i(!0),a(e)}),[]),o=(0,R.useCallback)((()=>{i(!1)}),[]),l=(0,R.useMemo)((()=>({isOpen:t,dialogConfig:r,openDialog:n,closeDialog:o})),[t,r,n,o]);return R.createElement(XE.Provider,{value:l},e)},ey=(0,R.createContext)({});ey.displayName="DashboardCustomizationsContext";const ty=e=>({...(0,R.useContext)(ey),...e});function iy(e){const{children:t,...i}=e;return R.createElement(ey.Provider,{value:i},t)}const ry=e=>()=>{throw new Z.UnexpectedSdkError(`Component: ${e} is missing in the DashboardComponentsProvider.`)},ay=(0,R.createContext)({ErrorComponent:Z.ErrorComponent,LoadingComponent:Z.LoadingComponent,LayoutComponent:ry("LayoutComponent"),InsightComponentProvider:ry("InsightComponent"),InsightBodyComponentProvider:ry("InsightBodyComponent"),InsightMenuButtonComponentProvider:ry("InsightMenuButtonComponent"),InsightMenuComponentProvider:ry("InsightMenuComponent"),InsightMenuTitleComponentProvider:ry("InsightMenuTitleComponent"),KpiComponentProvider:ry("KpiComponent"),WidgetComponentProvider:ry("WidgetComponent"),ButtonBarComponent:ry("ButtonBarComponent"),MenuButtonComponent:ry("MenuButtonComponent"),TitleComponent:ry("TitleComponent"),TopBarComponent:ry("TopBarComponent"),ToolbarComponent:ry("ToolbarComponent"),ScheduledEmailDialogComponent:ry("ScheduledEmailDialogComponent"),ScheduledEmailManagementDialogComponent:ry("ScheduledEmailManagementDialogComponent"),ShareDialogComponent:ry("ShareDialogComponent"),SaveAsDialogComponent:ry("SaveAsDialogComponent"),DashboardAttributeFilterComponentProvider:ry("DashboardAttributeFilterComponentProvider"),DashboardDateFilterComponentProvider:ry("DashboardDateFilterComponentProvider"),FilterBarComponent:ry("FilterBarComponent"),SidebarComponent:ry("SidebarComponent"),InsightWidgetComponentSet:null,KpiWidgetComponentSet:null,AttributeFilterComponentSet:null,DateFilterComponentSet:null,EmptyLayoutDropZoneBodyComponent:ry("EmptyLayoutDropZoneBodyComponent"),SaveButtonComponent:ry("SaveButtonComponent"),DashboardContentComponentProvider:ry("DashboardContentComponentProvider")});ay.displayName="DashboardComponentsContext";const ny=e=>{const t=(0,R.useContext)(ay);return Object.keys(t).reduce(((i,r)=>(i[r]=e?.[r]??t[r],i)),{})};function oy(e){const{children:t,...i}=e;return R.createElement(ay.Provider,{value:i},t)}const ly=(0,R.createContext)({menuButtonConfig:{}});ly.displayName="DashboardConfigContext";const sy=e=>{const{children:t,...i}=e;return R.createElement(ly.Provider,{value:i},t)};var dy=i(94184);const cy=!1;function uy({isOver:e=!1}){return cy?e?{backgroundColor:"rgba(0, 255, 0, 0.4)"}:{backgroundColor:"rgba(0, 255, 0, 0.08)"}:{}}function gy(e){return"internal-width-resizer"===e||"internal-height-resizer"===e}function my(e){return"attributeFilter"===e.type}function py(e){return"dateFilter"===e.type}function hy(e){return void 0!==e.size?.gridWidth&&void 0!==e.size?.gridHeight}function fy(e){return hy(e)&&void 0!==e.sectionIndex&&void 0!==e.itemIndex}function by(e){return"insight"===e.type}function Dy(e){return"kpi"===e.type}function vy(e){return"attributeFilter-placeholder"===e.type}function Ey(e){return"kpi-placeholder"===e.type}function yy(e){return"insight-placeholder"===e.type}function Iy(e){return"insightListItem"===e.type}var Cy=i(15787);function Sy(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];if(!e){var n;if(void 0===t)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(n=new Error(t.replace(/%s/g,(function(){return r[o++]})))).name="Invariant Violation"}throw n.framesToPop=1,n}}var Ty=(0,Cy.createContext)({dragDropManager:void 0});function wy(){var e=(0,Cy.useContext)(Ty).dragDropManager;return Sy(null!=e,"Expected drag drop context"),e}var Ay="undefined"!=typeof window?Cy.useLayoutEffect:Cy.useEffect;function Py(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ry(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Fy=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ry(this,"spec",void 0),Ry(this,"monitor",void 0),this.spec=t,this.monitor=i}var t,i;return t=e,(i=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}])&&Py(t.prototype,i),e}();function ky(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function xy(e,t,i){var r=wy(),a=function(e,t){var i=(0,Cy.useMemo)((function(){return new Fy(e,t)}),[t]);return(0,Cy.useEffect)((function(){i.spec=e}),[e]),i}(e,t),n=function(e){var t=e.accept;return(0,Cy.useMemo)((function(){return Sy(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]}),[t])}(e);Ay((function(){var e,o,l=function(e,t,i){var r=i.getRegistry(),a=r.addTarget(e,t);return[a,function(){return r.removeTarget(a)}]}(n,a,r),s=(o=2,function(e){if(Array.isArray(e))return e}(e=l)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(e,o)||function(e,t){if(e){if("string"==typeof e)return ky(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ky(e,t):void 0}}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];return t.receiveHandlerId(d),i.receiveHandlerId(d),c}),[r,t,a,i,n.map((function(e){return e.toString()})).join("|")])}function Ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function My(e,t){var i,r=function(e){if(Array.isArray(e))return Ly(e)}(i=t||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return Ly(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ly(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return null==t&&"function"!=typeof e&&r.push(e),(0,Cy.useMemo)((function(){return"function"==typeof e?e():e}),r)}function Oy(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ny(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _y=!1,Hy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ny(this,"internalMonitor",void 0),Ny(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,i;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Sy(!_y,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return _y=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{_y=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&Oy(t.prototype,i),e}();function Uy(e,t,i,r){var a=i?i.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),s=0;s<n.length;s++){var d=n[s];if(!l(d))return!1;var c=e[d],u=t[d];if(!1===(a=i?i.call(r,c,u,d):void 0)||void 0===a&&c!==u)return!1}return!0}function Gy(e){var t={};return Object.keys(e).forEach((function(i){var r=e[i];if(i.endsWith("Ref"))t[i]=e[i];else{var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,Cy.isValidElement)(t)){var r=t;return e(r,i),r}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}(a);var n=i?function(t){return e(t,i)}:e;return function(e,t){var i=e.ref;return Sy("string"!=typeof i,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?(0,Cy.cloneElement)(e,{ref:function(e){By(i,e),By(t,e)}}):(0,Cy.cloneElement)(e,{ref:t})}(a,n)}}(r);t[i]=function(){return a}}})),t}function By(e,t){"function"==typeof e?e(t):e.current=t}function Wy(e){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(e)}function zy(e){return null!==e&&"object"===Wy(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function Vy(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jy(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ky=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jy(this,"hooks",Gy({dropTarget:function(e,t){i.clearDropTarget(),i.dropTargetOptions=t,zy(e)?i.dropTargetRef=e:i.dropTargetNode=e,i.reconnect()}})),jy(this,"handlerId",null),jy(this,"dropTargetRef",null),jy(this,"dropTargetNode",void 0),jy(this,"dropTargetOptionsInternal",null),jy(this,"unsubscribeDropTarget",void 0),jy(this,"lastConnectedHandlerId",null),jy(this,"lastConnectedDropTarget",null),jy(this,"lastConnectedDropTargetOptions",null),jy(this,"backend",void 0),this.backend=t}var t,i;return t=e,(i=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Uy(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&Vy(t.prototype,i),e}(),qy=i(64063),Yy=i.n(qy);function Zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function $y(e,t,i){var r,a,n=(r=(0,Cy.useState)((function(){return t(e)})),a=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(r,a)||function(e,t){if(e){if("string"==typeof e)return Zy(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Zy(e,t):void 0}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],l=n[1],s=(0,Cy.useCallback)((function(){var r=t(e);Yy()(o,r)||(l(r),i&&i())}),[o,e,i]);return Ay(s),[o,s]}function Xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Qy(e,t,i){return function(e,t,r){var a,n,o=(a=$y(e,t,(function(){return i.reconnect()})),n=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(a,n)||function(e,t){if(e){if("string"==typeof e)return Xy(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Xy(e,t):void 0}}(a,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1];return Ay((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),l}(t,e||function(){return{}})}function Jy(e){return(0,Cy.useMemo)((function(){return e.hooks.dropTarget()}),[e])}const eI=e=>({isOver:e.isOver(),canDrop:e.canDrop(),itemType:e.getItemType(),item:e.getItem()});function tI(e,t,i){return function(e,t){var i,r=My(e,t),a=(i=wy(),(0,Cy.useMemo)((function(){return new Hy(i)}),[i])),n=function(e){var t=wy(),i=(0,Cy.useMemo)((function(){return new Ky(t.getBackend())}),[t]);return Ay((function(){return i.dropTargetOptions=e||null,i.reconnect(),function(){return i.disconnectDropTarget()}}),[e]),i}(r.options);return xy(r,a,n),[Qy(r.collect,a,n),Jy(n)]}({accept:e,drop:t.drop,canDrop:t.canDrop,collect:eI,hover:t.hover},i)}function iI({placement:e="inside",hintPosition:t,targetIndex:i,acceptPlaceholder:r=!0,onAddAttributePlaceholder:a}){const n=Kb(),o=function(e,t,i){return"outside"===e?"next"===t?[i]:[i-1]:"next"===t?[i,i+1]:[i,i-1]}(e,t,i),[{canDrop:l,isOver:s},d]=tI(r?["attributeFilter","dateFilter","attributeFilter-placeholder"]:"attributeFilter",{canDrop:e=>my(e)||py(e)?!o.includes(e.filterIndex):vy(e),drop:r=>{const o="inside"===e&&"next"===t?1:0;if(my(r)){const e=r.filter.attributeFilter.localIdentifier,t=r.filterIndex;n(wf(e,i+o+(t<i?-1:0)))}if(py(r)){const e=r.filter.dateFilter.dataSet,t=r.filterIndex;n(_f(e,i+o+(t<i?-1:0)))}if(vy(r)&&a)return a(i+o)}},[o,i,e,t]),c=l&&s,u=dy("attr-filter-dropzone",t,{outside:"outside"===e,hidden:!l}),g=uy({isOver:s});return R.createElement("div",{className:u,style:g,ref:d},c?R.createElement("div",{className:"drop-hint"}):null)}function rI(e){return rI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rI(e)}function aI(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nI(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var oI=function(){function e(t,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nI(this,"spec",void 0),nI(this,"monitor",void 0),nI(this,"connector",void 0),this.spec=t,this.monitor=i,this.connector=r}var t,i;return t=e,(i=[{key:"beginDrag",value:function(){var e,t=this.spec,i=this.monitor;return null!==(e="object"===rI(t.item)?t.item:"function"==typeof t.item?t.item(i):{})&&void 0!==e?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var i=this.spec,r=this.monitor,a=i.isDragging;return a?a(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,i=this.connector,r=e.end;r&&r(t.getItem(),t),i.reconnect()}}])&&aI(t.prototype,i),e}();function lI(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function sI(e,t,i){var r=wy(),a=function(e,t,i){var r=(0,Cy.useMemo)((function(){return new oI(e,t,i)}),[t,i]);return(0,Cy.useEffect)((function(){r.spec=e}),[e]),r}(e,t,i),n=function(e){return(0,Cy.useMemo)((function(){var t=e.type;return Sy(null!=t,"spec.type must be defined"),t}),[e])}(e);Ay((function(){if(null!=n){var e=function(e,t,i){var r=i.getRegistry(),a=r.addSource(e,t);return[a,function(){return r.removeSource(a)}]}(n,a,r),o=(c=2,function(e){if(Array.isArray(e))return e}(d=e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(d,c)||function(e,t){if(e){if("string"==typeof e)return lI(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?lI(e,t):void 0}}(d,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1];return t.receiveHandlerId(l),i.receiveHandlerId(l),s}var d,c}),[r,t,i,a,n])}function dI(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cI(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var uI=!1,gI=!1,mI=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cI(this,"internalMonitor",void 0),cI(this,"sourceId",null),this.internalMonitor=t.getMonitor()}var t,i;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Sy(!uI,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return uI=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{uI=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Sy(!gI,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return gI=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{gI=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&dI(t.prototype,i),e}();function pI(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hI(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var fI,bI=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),hI(this,"hooks",Gy({dragSource:function(e,t){i.clearDragSource(),i.dragSourceOptions=t||null,zy(e)?i.dragSourceRef=e:i.dragSourceNode=e,i.reconnectDragSource()},dragPreview:function(e,t){i.clearDragPreview(),i.dragPreviewOptions=t||null,zy(e)?i.dragPreviewRef=e:i.dragPreviewNode=e,i.reconnectDragPreview()}})),hI(this,"handlerId",null),hI(this,"dragSourceRef",null),hI(this,"dragSourceNode",void 0),hI(this,"dragSourceOptionsInternal",null),hI(this,"dragSourceUnsubscribe",void 0),hI(this,"dragPreviewRef",null),hI(this,"dragPreviewNode",void 0),hI(this,"dragPreviewOptionsInternal",null),hI(this,"dragPreviewUnsubscribe",void 0),hI(this,"lastConnectedHandlerId",null),hI(this,"lastConnectedDragSource",null),hI(this,"lastConnectedDragSourceOptions",null),hI(this,"lastConnectedDragPreview",null),hI(this,"lastConnectedDragPreviewOptions",null),hI(this,"backend",void 0),this.backend=t}var t,i;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Uy(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Uy(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&pI(t.prototype,i),e}();function DI(e){return(0,Cy.useMemo)((function(){return e.hooks.dragSource()}),[e])}function vI(e){return(0,Cy.useMemo)((function(){return e.hooks.dragPreview()}),[e])}var EI=i(23560);const yI=()=>{const e=(0,R.useCallback)((()=>{(0,uD.handleOnGoodstrapDragEvent)()}),[]);return(0,R.useCallback)((()=>{e()}),[e])};function II(e){return{isDragging:e.isDragging(),item:e.getItem()}}function CI({dragItem:e,canDrag:t=!0,hideDefaultPreview:i=!0,dragEnd:r,dragStart:a},n=[]){const[o,l,s]=function(e,t){var i=My(e,t);Sy(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var r,a=(r=wy(),(0,Cy.useMemo)((function(){return new mI(r)}),[r])),n=function(e,t){var i=wy(),r=(0,Cy.useMemo)((function(){return new bI(i.getBackend())}),[i]);return Ay((function(){return r.dragSourceOptions=e||null,r.reconnect(),function(){return r.disconnectDragSource()}}),[r,e]),Ay((function(){return r.dragPreviewOptions=t||null,r.reconnect(),function(){return r.disconnectDragPreview()}}),[r,t]),r}(i.options,i.previewOptions);return sI(i,a,n),[Qy(i.collect,a,n),DI(n),vI(n)]}((()=>({type:(EI(e)?e():e).type,item:e,collect:II,canDrag:t,end:r})),n),d=yI(),c=(0,R.useCallback)((e=>{d(),a&&a(e)}),[a,d]),u=(0,R.useRef)(!1);return(0,R.useEffect)((()=>{if(o.isDragging){if(!u.current){const t=EI(e)?e():e;u.current=!0,c(t)}}else u.current=!1}),[o.isDragging,c,e]),(0,R.useEffect)((()=>{i&&s((fI||((fI=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),fI),{captureDraggingState:!1})}),[s,i]),[o,l]}function SI(e){return(0,a.isAttributeElementsByValue)(e.attributeFilter.attributeElements)?e:{attributeFilter:{...e.attributeFilter,attributeElements:{values:e.attributeFilter.attributeElements.uris}}}}function TI({FilterComponent:e,filter:t,filterIndex:i,autoOpen:r,readonly:a,onAttributeFilterChanged:n,onAttributeFilterAdded:o,onAttributeFilterClose:l}){const s=qb(Wc),[{isDragging:d},c]=CI({dragItem:{type:"attributeFilter",filter:t,filterIndex:i},canDrag:s},[t,i,s]),u=qb(Oo),g=qb(Md),m=(0,R.useMemo)((()=>u?t:SI(t)),[t,u]),p=(0,R.useCallback)((()=>{l()}),[l]),h=s&&!d;return R.createElement("div",{className:"draggable-attribute-filter"},h?R.createElement(iI,{hintPosition:"prev",targetIndex:i,onAddAttributePlaceholder:o,acceptPlaceholder:g}):null,R.createElement("div",{className:dy("dash-filters-notdate","dash-filters-attribute",{"dash-filter-is-edit-mode":s,"is-dragging":d}),ref:c},R.createElement(e,{filter:m,onFilterChanged:n,isDraggable:s,readonly:a,autoOpen:r,onClose:p})),h?R.createElement(iI,{hintPosition:"next",targetIndex:i,onAddAttributePlaceholder:o,acceptPlaceholder:g}):null)}function wI({FilterComponent:e,filter:t,filterIndex:i,autoOpen:r,readonly:a,onDateFilterChanged:n,onDateFilterAdded:o,config:l}){const s=qb(Wc),[{isDragging:d},c]=CI({dragItem:{type:"dateFilter",filter:t,filterIndex:i},canDrag:s},[t,i,s]),u=qb(Md),g=s&&!d;return R.createElement("div",{className:"draggable-attribute-filter"},g?R.createElement(iI,{hintPosition:"prev",targetIndex:i,onAddAttributePlaceholder:o,acceptPlaceholder:u}):null,R.createElement("div",{className:dy("dash-filters-date","dash-filters-nodate",{"dash-filter-is-edit-mode":s,"is-dragging":d}),ref:c},R.createElement(e,{filter:t,config:l,onFilterChanged:n,isDraggable:s,readonly:a,autoOpen:r})),g?R.createElement(iI,{hintPosition:"next",targetIndex:i,onAddAttributePlaceholder:o,acceptPlaceholder:u}):null)}var AI=i(44012),PI=i(25972);function RI({targetIndex:e,onDrop:t}){const i=(0,PI.Fg)(),r=qb(Wc),a=qb(Vl),n=qb(Ko),[{canDrop:o,isOver:l,itemType:s},d]=tI(["attributeFilter-placeholder"],{drop:()=>t(e)},[e]);if(!r||void 0!==s&&("attributeFilter"===s||"dateFilter"===s))return null;const c=o||l,u=dy("attr-filter-dropzone-box","s-last-filter-drop-position","s-attr-filter-dropzone-box",{"attr-filter-dropzone-box-active":c},{"attr-filter-dropzone-box-over":l}),g=uy({isOver:l}),m=a&&n?ev.filterDropzoneTooltipGeneric:ev.filterDropzoneTooltip;return R.createElement("div",{className:"attr-filter-dropzone-box-outer",style:g,ref:d},c?R.createElement("div",{className:u},R.createElement("div",{className:"attr-filter-dropzone-box-inner"},R.createElement(AI.Z,{id:"filterBar.filter.drop"}))):R.createElement(uD.BubbleHoverTrigger,null,R.createElement("div",{className:u},R.createElement("div",{className:"attr-filter-dropzone-box-inner"},R.createElement(AI.Z,{id:"filterBar.filter.addFilterPlaceholder",values:{icon:R.createElement(uD.Icon.AttributeFilter,{className:"attribute-filter-icon",width:14,height:14,color:i?.palette?.complementary?.c6})}}))),R.createElement(uD.Bubble,{alignPoints:[{align:"bc tc",offset:{x:0,y:0}}]},R.createElement(AI.Z,{id:m.id}))))}const FI=()=>null;var kI=i(88699),xI=i(29558),LI=i(2498);const MI=JSON.parse('{"loading":{"value":"Loading…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"untitled":{"value":"Untitled","comment":"","limit":0},"empty_value":{"value":"empty value","comment":"","limit":0},"gs.list.cancel":{"value":"Cancel","comment":"","limit":0},"gs.list.apply":{"value":"Apply","comment":"","limit":0},"gs.list.only":{"value":"Only","comment":"","limit":0},"messages.dashboardSaveSuccess":{"value":"Great. We saved your dashboard.","comment":"","limit":0},"options.menu.save.as":{"value":"Save as new","comment":"Save As New Dashboard","limit":0},"options.menu.save.as.tooltip":{"value":"Empty dashboard cannot be saved.","comment":"Empty dashboard cannot be saved.","limit":0},"messages.dashboardSaveFailed":{"value":"Failed to save dashboard, please try again.","comment":"","limit":0},"messages.dashboard.invalidDrills.title":{"value":"<b>Some interactions were removed</b>","comment":"Title of the warning message shown while editing KPI dashboard with some invalid drills.","limit":0},"messages.dashboard.invalidDrills.body.modern._measure|insight":{"value":"One or more dashboard/insight/measure/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","limit":0},"messages.dashboard.invalidDrills.body.modern._metric|insight":{"value":"One or more dashboard/insight/metric/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","limit":0},"messages.dashboard.invalidDrills.body.modern._measure|report":{"value":"One or more dashboard/report/measure/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","translate":false,"limit":0},"messages.dashboard.invalidDrills.body.modern._metric|report":{"value":"One or more dashboard/report/metric/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","translate":false,"limit":0},"messages.dashboard.invalidCustomUrlDrills.title":{"value":"<b>Some of the drill-into-URL interactions are not working</b>","comment":"Title of the warning message shown while editing KPI dashboard with some invalid drills.","limit":0},"messages.dashboard.invalidCustomUrlDrills.body.modern|insight":{"value":"Invalid URL parameters in your custom URLs are causing drill-into-URL interactions to fail on these widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","limit":0},"messages.dashboard.invalidCustomUrlDrills.body.modern|report":{"value":"Invalid URL parameters in your custom URLs are causing drill-into-URL interactions to fail on these widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","translate":false,"limit":0},"messages.dashboard.expandable.showMore":{"value":"Show more","comment":"Title of the link to show more text of a notification message.","limit":0},"messages.dashboard.expandable.showLess":{"value":"Show less","comment":"Title of the link to collapse text of a notification message.","limit":0},"messages.drill.InteractionConfiguredSuccess":{"value":"Interaction configured.","comment":"Dialog. Configure of drill interaction is created.","limit":0},"messages.drill.InteractionUpdatedSuccess":{"value":"Interaction updated.","comment":"Dialog. Configure of drill interaction is updated.","limit":0},"filterBar.showAll":{"value":"Show all","comment":"","limit":0},"filterBar.showLess":{"value":"Show less","comment":"","limit":0},"options.menu.export.PDF":{"value":"Export to PDF","comment":"Export whole KPI dashboard to PDF","limit":0},"options.menu.schedule.email":{"value":"Schedule emailing","comment":"Translate as imperative. Schedule emailing whole KPI dashboard","limit":0},"options.menu.delete":{"value":"Delete","comment":"Delete Dashboard","limit":0},"dialogs.export.cells":{"value":"CELLS","comment":"Cells of the table that is going to be exported to file","limit":0},"dialogs.export.filters|insight":{"value":"INSIGHT CONTEXT","comment":"The filters that are applied to the report","limit":0},"dialogs.export.filters|report":{"value":"REPORT CONTEXT","comment":"The filters that are applied to the report","limit":0,"translate":false},"dialogs.export.includeFilters":{"value":"Include applied filters","comment":"Include the applied filters to the exported file","limit":0},"dialogs.export.headline":{"value":"Export to XLSX","comment":"Export data to XLSX file","limit":0},"dialogs.export.mergeHeaders":{"value":"Keep attribute cells merged","comment":"Merge the similar cells of the table into one when exporting table to the file.","limit":0},"dialogs.export.submit":{"value":"Export","comment":"Start to export data to file","limit":0},"dialogs.schedule.email.delete.success":{"value":"Success! Your scheduled email was deleted.","comment":"","limit":0},"dialogs.schedule.email.submit.success":{"value":"Success! Your dashboard is scheduled for emailing.","comment":"","limit":0},"dialogs.schedule.email.submit.error":{"value":"Failed to schedule the dashboard. Try again later.","comment":"","limit":0},"dialogs.schedule.email.save.success":{"value":"Success! Your schedule has been saved.","comment":"","limit":0},"dialogs.schedule.email.save.error":{"value":"Failed to save the schedule. Try again later.","comment":"","limit":0},"dialogs.save.as.new.title":{"value":"Save dashboard as new","comment":"","limit":0},"dialogs.save.as.new.desc":{"value":"Give your new dashboard a new descriptive name, so it\'s easier to find it later on.","comment":"","limit":0},"dialogs.save.as.new.default.title":{"value":"Copy of {title}","comment":"","limit":0},"dialogs.save.as.new.alertsAndEmailsMessage":{"value":"Alerts and email schedules will not be duplicated","comment":"","limit":0},"dialogs.save.as.new.alertsMessage":{"value":"Alerts will not be duplicated","comment":"","limit":0},"dialogs.save.as.new.emailsMessage":{"value":"Email schedules will not be duplicated","comment":"","limit":0},"cancelConfirmationDialog.headline":{"value":"Discard changes?","comment":"","limit":0},"cancelConfirmationDialog.message":{"value":"All changes will be lost","comment":"","limit":0},"cancelConfirmationDialog.submitButtonText":{"value":"Discard changes","comment":"","limit":0},"deleteDashboardDialog.headline":{"value":"Delete dashboard?","comment":"","limit":0},"deleteDashboardDialog.submitButtonText":{"value":"Delete","comment":"","limit":0},"deleteDashboardDialog.alertsAndEmailsMessage":{"value":"All alerts and scheduled emails set up for this dashboard will also be deleted.","comment":"","limit":0},"deleteDashboardDialog.alertsMessage":{"value":"All alerts set up for this dashboard will also be deleted.","comment":"","limit":0},"deleteDashboardDialog.emailsMessage":{"value":"All scheduled emails set up for this dashboard will also be deleted.","comment":"","limit":0},"deleteDashboardDialog.drillMessage":{"value":"All drilling into this dashboard from other dashboards will be removed.","comment":"","limit":0},"create.dashboard":{"value":"Create dashboard","comment":"","limit":0},"drill_modal_picker.drill-down":{"value":"Drill down","comment":"Title of widget interactions","limit":0},"drill_modal_picker.drill-into":{"value":"Drill into","comment":"Title of widget interactions","limit":0},"drill_modal_picker.cross-filter":{"value":"Cross-filter","comment":"Title of widget interactions","limit":0},"drill_modal_picker.more.details":{"value":"More details","comment":"","limit":0},"drillModal.backToTop":{"value":"Back to top","comment":"","limit":0},"filters.allTime.previousPeriod":{"value":"prev. period","comment":"","limit":0},"filters.allTime.lastYear":{"value":"prev. year","comment":"","limit":0},"filters.minute.previousPeriod":{"value":"prev. minute","comment":"","limit":0},"filters.hour.previousPeriod":{"value":"prev. hour","comment":"","limit":0},"filters.day.previousPeriod":{"value":"prev. {n, plural, one {day} other {#d}}","comment":"In \'{n, plural, one {DAY} other {#D}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#d}\', wrong \'{#d.}\').","limit":0},"filters.week.previousPeriod":{"value":"prev. {n, plural, one {week} other {#w}}","comment":"In \'{n, plural, one {WEEK} other {#W}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#w}\', wrong \'{#w.}\').","limit":0},"filters.month.previousPeriod":{"value":"prev. {n, plural, one {month} other {#m}}","comment":"In \'{n, plural, one {MONTH} other {#M}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#m}\', wrong \'{#m.}\').","limit":0},"filters.quarter.previousPeriod":{"value":"prev. {n, plural, one {quarter} other {#q}}","comment":"In \'{n, plural, one {QUARTER} other {#Q}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#q}\', wrong \'{#q.}\').","limit":0},"filters.year.previousPeriod":{"value":"prev. {n, plural, one {year} other {#y}}","comment":"In \'{n, plural, one {YEAR} other {#Y}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#y}\', wrong \'{#y.}\').","limit":0},"filters.alertMessage.relativePreset":{"value":"in {calendarIcon} {range}","comment":"Don\'t translate placeholders \'{calendarIcon}\', \'{range}\'.","limit":0},"filters.alertMessage.relativePreset.inPeriod":{"value":"in period {calendarIcon} {range}","comment":"Don\'t translate placeholders \'{calendarIcon}\', \'{range}\'. Example text: \'in period (calendar) from 2 months ago to 2 months ahead\'","limit":0},"filters.config.warning.multipleProjectConfigs":{"value":"There is more than one project date filter configuration associated with this project. The first one was used.","comment":"Displayed if there is more than one project date filter configuration associated with the project.","limit":0},"filters.config.warning.multipleWorkspacesConfigs":{"value":"There is more than one workspace date filter configuration associated with this workspace. The first one was used.","comment":"Displayed if there is more than one workspace date filter configuration associated with the workspace.","limit":0},"filters.config.warning.selectedFilterNotValid":{"value":"The default filter option is not valid, using the first option available instead.","comment":"Displayed if the default option for new dashboards is not valid.","limit":0},"filters.config.warning.allOptionsHidden":{"value":"The dashboard date filter configuration was ignored because it would have hidden all the filter options.","comment":"Displayed if applying a dashboard config would make all the filter options hidden.","limit":0},"filters.config.warning.conflictingIdentifiers":{"value":"The dashboard date filter configuration was ignored because it contains date filter options with identical identifiers.","comment":"Displayed if applying a dashboard config would make it contain more than one option with the same identifier.","limit":0},"filters.config.warning.notAvailable":{"value":"The project date filter configuration is either not defined or you do not have the permissions to access it.","comment":"Displayed if there is an error getting the project level config.","limit":0},"filters.config.warning.workspace.notAvailable":{"value":"The workspace date filter configuration is either not defined or you do not have the permissions to access it.","comment":"Displayed if there is an error getting the workspace level config.","limit":0},"filters.configurationPanel.header":{"value":"Configuration","comment":"Cross-filtering configuration panel - header.","limit":0},"filters.configurationPanel.sectionHeader.interactions":{"value":"Interactions","comment":"Cross-filtering configuration panel - interactions sub section header.","limit":0},"filters.configurationPanel.crossFiltering.toggle":{"value":"Cross-filtering","comment":"Cross-filtering configuration panel - label for toggle that disables or enables cross-filtering.","limit":0},"kpi.noData":{"value":"No data for current filter settings. Try changing the filters.","comment":"","limit":0},"kpiPop.change":{"value":"change","comment":"","limit":0},"dialogs.schedule.email.filters":{"value":"Dashboard contains filter changes that will be saved in the schedule.","comment":"","limit":0},"dialogs.schedule.email.filters.not.saved":{"value":"Dashboard filters saved in the schedule will not be affected.","comment":"","limit":0},"dialogs.schedule.email.attachment.filter":{"value":"(with currently set filters)","comment":"Keep the parentheses. Attachment with filters included.","limit":0},"dialogs.schedule.email.attachment.label":{"value":"Attachment:","comment":"Attachment of the scheduled email.","limit":0},"dialogs.schedule.email.attachments.label":{"value":"Attachments:","comment":"Attachments of the scheduled email.","limit":0},"dialogs.schedule.email.attachment.select":{"value":"Select attachments","comment":"Label of a button that opens attachment selection","limit":0},"dialogs.schedule.email.attachment.select.disabled.message|insight":{"value":"This dashboard does not contain any insights.","comment":"Message for button to add insights to the export, if there are no insights.","limit":0},"dialogs.schedule.email.attachment.select.disabled.message|report":{"value":"This dashboard does not contain any reports.","comment":"Message for button to add reports to the export, if there are no reports.","limit":0,"translate":false},"dialogs.schedule.email.attachment.select.dashboard.header":{"value":"Dashboard (PDF)","comment":"Heading of checkbox that selects dashboard to be exported in PDF file format","limit":0},"dialogs.schedule.email.attachment.select.widgets.header|report":{"value":"Reports (CSV, XLSX)","comment":"Heading of section of checkboxes for selecting reports to be exported as CSV of XLSX file","limit":0,"translate":false},"dialogs.schedule.email.attachment.select.widgets.header|insight":{"value":"Insights (CSV, XLSX)","comment":"Heading of section of checkboxes for selecting insights to be exported as CSV of XLSX file","limit":0},"dialogs.schedule.email.headline":{"value":"Schedule email delivery","comment":"Translate as imperative. Schedule emailing whole KPI dashboard.","limit":0},"dialogs.schedule.email.heading":{"value":"Schedule export","comment":"Translate as imperative. Schedule exporting whole dashboard and insights","limit":0},"dialogs.schedule.email.message.label":{"value":"Message:","comment":"Message of the scheduled email.","limit":0},"dialogs.schedule.email.unsubscribed.recipients":{"value":"{n, plural, one {1 recipient unsubscribed} other {# recipients unsubscribed}} from this schedule.","comment":"Translate only \'recipient unsubscribed\'/\'recipients unsubscribed\' and \'from this schedule.\' to form a proper sentence with correct plural form for given language","limit":0},"dialogs.schedule.email.repeats.label":{"value":"Repeats:","comment":"Count of repeats of the scheduled email.","limit":0},"dialogs.schedule.email.repeats.execute.on.dayOfMonth":{"value":"on day {date}","comment":"Example \'on day 2 of January\'. Placeholder \'{date}\' refers to ordinal number of day of the month. Don\'t translate placeholder \'{date}\'.","limit":0},"dialogs.schedule.email.repeats.execute.on.dayOfWeek":{"value":"on the {week, select, 1 {first} 2 {second} 3 {third} 4 {fourth} other {last}} {day}","comment":"Example: \'on the first Friday\'. Translate only uppercase in \'ON THE {week, select, 1 {FIRST} 2 {SECOND} 3 {THIRD} 4 {FOURTH} other {LAST}} {day}\'","limit":0},"dialogs.schedule.email.repeats.every":{"value":"every","comment":"Example \'every 1 month\'. FIXME: This needs to be split into variants \'every day\', \'every week\', ... since some languages uses different gramatical gender for the \'every\' based on the subject.","limit":0},"dialogs.schedule.email.repeats.frequencies.day":{"value":"{n, plural, one {day} other {days}}","comment":"Translate only uppercase in \'{n, plural, one {DAY} other {DAYS}}\'.","limit":0},"dialogs.schedule.email.repeats.frequencies.month":{"value":"{n, plural, one {month} other {months}}","comment":"Translate only uppercase in \'{n, plural, one {MONTH} other {MONTHS}}\'.","limit":0},"dialogs.schedule.email.repeats.frequencies.week":{"value":"{n, plural, one {week} other {weeks}}","comment":"Translate only uppercase in \'{n, plural, one {WEEK} other {WEEKS}}\'.","limit":0},"dialogs.schedule.email.repeats.types.custom":{"value":"Custom","comment":"Repeats the schedule email using custom rules defined by the user.","limit":0},"dialogs.schedule.email.repeats.types.daily":{"value":"Daily","comment":"Repeats the schedule email daily.","limit":0},"dialogs.schedule.email.repeats.types.monthly":{"value":"Monthly on the {week, select, 1 {first} 2 {second} 3 {third} 4 {fourth} other {last}} {day}","comment":"Example: \'Monthly on the first Friday\'. Translate only uppercase in \'MONTHLY ON THE {week, select, 1 {FIRST} 2 {SECOND} 3 {THIRD} 4 {FOURTH} other {LAST}} {day}\'","limit":0},"dialogs.schedule.email.repeats.types.weekly":{"value":"Weekly on {day}","comment":"Example: \'Weekly on Friday\'. Placeholder \'{day}\' refers to a day of a week. Don\'t translate placeholder \'{day}\'.","limit":0},"dialogs.schedule.email.subject.label":{"value":"Subject:","comment":"Subject of the schedule email.","limit":0},"dialogs.schedule.email.time.label":{"value":"First occurrence:","comment":"Translate as imperative. Date time of the schedule email.","limit":0},"dialogs.schedule.email.to.label":{"value":"To:","comment":"Emails of the schedule email.","limit":0},"dialogs.schedule.email.message.placeholder":{"value":"Hello,\\n\\nYour scheduled email is ready. You can download the dashboard in attachments.","comment":"Don\'t translate \'\\n\\n\' which adds 2 new lines to the text.","limit":0},"dialogs.schedule.email.submit":{"value":"Schedule","comment":"Translate as imperative. Submit the schedule config form.","limit":0},"dialogs.schedule.email.save":{"value":"Save","comment":"Translate as imperative. It\'s caption of a button for saving scheduled mail","limit":0},"dialogs.schedule.email.format.options":{"value":"Format options","comment":"Header of a formatting dialog. Not an imperative!","limit":0},"dialogs.schedule.email.insight.format|insight":{"value":"Insight format:","comment":"Label of a dropdown for selecting export format","limit":0},"dialogs.schedule.email.insight.format|report":{"value":"Report format:","comment":"Label of a dropdown for selecting export format","limit":0,"translate":false},"dialogs.schedule.email.attribute.merged":{"value":"Keep attribute cells merged","comment":"Label of a checkbox field","limit":0},"dialogs.schedule.email.show.filters":{"value":"Show what filters are applied","comment":"Label of a checkbox field","limit":0},"dialogs.schedule.management.title":{"value":"Scheduled exports","comment":"","limit":0},"dialogs.schedule.management.delete":{"value":"Delete the schedule.","comment":"","limit":0},"dialogs.schedule.management.delete.dialog":{"value":"Delete schedule?","comment":"","limit":0},"dialogs.schedule.management.delete.dialog.confirm":{"value":"<b>The schedule</b> will be permanently deleted.","comment":"Do not translate html tags <b>, </b>","limit":0},"dialogs.schedule.management.noSchedules":{"value":"The dashboard contains no scheduled exports.{br}Add one now.","comment":"","limit":0},"dialogs.schedule.management.noSchedules.byUser":{"value":"You have not scheduled any exports yet.{br}Add one now.","comment":"","limit":0},"dialogs.schedule.management.addSchedule":{"value":"Add schedule","comment":"","limit":0},"dialogs.schedule.management.recipients":{"value":"{n, plural, one {# recipient} other {# recipients}}","comment":"Translate only uppercase in \'{n, plural, one {# RECIPIENT} other {# RECIPIENTS}}\'.","limit":0},"dialogs.schedule.management.recipients.onlyYou":{"value":"Only you","comment":"There is no other recipient than you.","limit":0},"dialogs.schedule.management.attachments.dashboard":{"value":"Dashboard","comment":"Type of attachment.","limit":0},"dialogs.schedule.management.attachments.widgets|insight":{"value":"{n, plural, one {# insight} other {# insights}}","comment":"Translate only uppercase in \'{n, plural, one {# INSIGHT} other {# INSIGHTS}}\'.","limit":0},"dialogs.schedule.management.attachments.widgets|report":{"value":"{n, plural, one {# report} other {# reports}}","comment":"Translate only uppercase in \'{n, plural, one {# REPORT} other {# REPORTS}}\'.","limit":0,"translate":false},"dialogs.schedule.management.attachments.mixed|insight":{"value":"Dashboard and {n, plural, one {# insight} other {# insights}}","comment":"In \'{n, plural, one {# INSIGHT} other {# INSIGHTS}}\', translate only uppercase words.","limit":0},"dialogs.schedule.management.attachments.mixed|report":{"value":"Dashboard and {n, plural, one {# report} other {# reports}}","comment":"In \'{n, plural, one {# REPORT} other {# REPORTS}}\', translate only uppercase words.","limit":0,"translate":false},"dialogs.schedule.management.load.error":{"value":"Failed to load. Try again later.","comment":"","limit":0},"dialogs.schedule.management.delete.error":{"value":"Failed to delete schedule. Try again later.","comment":"","limit":0},"dialogs.schedule.management.tab.all":{"value":"all","comment":"","limit":0},"dialogs.schedule.management.tab.user":{"value":"created by me","comment":"","limit":0},"options.menu.schedule.email.recipient.invalid":{"value":"This is not a valid email address.","comment":"Translate as imperative. Error message for recipient email address","limit":0},"options.menu.schedule.email.recipient.warning.existed":{"value":"You have already added this recipient.","comment":"Translate as imperative. Warning email has been existed on recipient field in schedule email dialog","limit":0},"options.menu.schedule.email.recipient.warning.belong.workspace":{"value":"This email address does not belong to this workspace. The recipient may receive sensitive data.","comment":"Translate as imperative. Warning email on recipient field in schedule email dialog","limit":0},"options.menu.schedule.email.recipient.external.not.allowed":{"value":"This email address does not belong to this workspace. Only the author of the schedule can add this email address.","comment":"Translate as imperative. Warning email on recipient field in schedule email dialog","limit":0},"delete":{"value":"Delete","comment":"","limit":0},"close":{"value":"Close","comment":"Label of a button for closing a dialog window","limit":0},"cancel":{"value":"Cancel","comment":"","limit":0},"gs.date.at":{"value":"at","comment":"","limit":0},"gs.date.today":{"value":"Today","comment":"","limit":0},"gs.date.tomorrow":{"value":"Tomorrow","comment":"","limit":0},"gs.date.yesterday":{"value":"Yesterday","comment":"","limit":0},"kpi.alertBox.title":{"value":"Set an alert on KPI change","comment":"","limit":0},"kpi.alertBox.example":{"value":"e.g.","comment":"","limit":0},"kpi.alertBox.unverifiedEmail":{"value":"Sorry, you can\'t set an alert. Make sure your email is verified. If that doesn\'t help, ask your administrator to update your permissions.","comment":"","limit":0},"kpi.alertBox.disabledInReadOnly":{"value":"Alerting is disabled in the read-only mode","comment":"","limit":0},"kpi.error.view":{"value":"KPI cannot be displayed. Contact your administrator to fix the KPI definition.","comment":"","limit":0},"kpiAlertDialog.delete":{"value":"Delete","comment":"","limit":0},"kpiAlertDialog.deleting":{"value":"Deleting…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"kpiAlertDialog.emailMe":{"value":"Email me","comment":"","limit":0},"kpiAlertDialog.emailMeWhen":{"value":"{emailMe} when this KPI is","comment":"Don\'t translate placeholder \'{emailMe}\'.","limit":0},"kpiAlertDialog.emailInfo":{"value":"Email will be sent to {userEmail}","comment":"Don\'t translate placeholder \'{userEmail}\'.","limit":0},"kpiAlertDialog.invalidNumber":{"value":"<strong>This number is not valid.</strong>{br}Double-check it and try again.","comment":"Do not translate HTML markup enclosed in <>.","limit":0},"kpiAlertDialog.filtersDiffer":{"value":"KPI is now filtered differently than when the alert was set up.","comment":"","limit":0},"kpiAlertDialog.filtersApply":{"value":"Apply alert filters to dashboard","comment":"","limit":0},"kpiAlertDialog.savingFailed":{"value":"Saving alert failed. Please try again.","comment":"","limit":0},"kpiAlertDialog.deleteingFailed":{"value":"Deleting alert failed. Please try again.","comment":"","limit":0},"kpiAlertDialog.brokenAlert":{"value":"Broken alert","comment":"","limit":0},"kpiAlertDialog.brokenAlertAppeal":{"value":"To see correct KPI value, update the filters in this alert. You can also remove the alert.","comment":"","limit":0},"kpiAlertDialog.brokenAlertDefaultDateLabel":{"value":"Date","comment":"Label used in broken alert dialog in case no other date label is found.","limit":0},"kpiAlertDialog.removedFilters":{"value":"Filters removed from dashboard","comment":"","limit":0},"kpiAlertDialog.ignoredFilters":{"value":"Filters ignored for this kpi","comment":"","limit":0},"kpiAlertDialog.updateTitle":{"value":"Update","comment":"","limit":0},"kpiAlertDialog.updateBrokenTitle":{"value":"Update filters","comment":"","limit":0},"kpiAlertDialog.updatingTitle":{"value":"Updating…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"kpiAlertDialog.updateBrokenFailed":{"value":"Updating filters failed. Please try again.","comment":"","limit":0},"kpiAlertDialog.setTitle":{"value":"Set alert","comment":"","limit":0},"kpiAlertDialog.settingTitle":{"value":"Setting…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"kpiAlertDialog.threshold.above":{"value":"above","comment":"","limit":0},"kpiAlertDialog.threshold.below":{"value":"below","comment":"","limit":0},"kpiAlertDialog.withAttributeFilters":{"value":"{numFilters} more {numFilters, select, 1 {filter} other {filters}} applied","comment":"Don\'t translate placeholder \'{numFilters}\'. In \'{numFilters, select, 1 {FILTER} other {FILTERS}}\' translate only uppercase words.","limit":0},"messages.exportResultError":{"value":"Failed to export the data. Try again later.","comment":"Error dialog. Exporting insight to the file fails.","limit":0},"messages.exportResultRestrictedError|insight":{"value":"You cannot export this insight because it contains restricted data.","comment":"Error dialog. Exporting insight to the file fails because contains restricted data.","limit":0},"messages.exportResultRestrictedError|report":{"value":"You cannot export this report because it contains restricted data.","comment":"Error dialog. Exporting report to the file fails because contains restricted data.","limit":0,"translate":false},"messages.exportResultStart":{"value":"Export in progress","comment":"Dialog. Export of the visualization to the file is in progress.","limit":0},"messages.exportResultSuccess":{"value":"Export successful.","comment":"Dialog. Export of the visualization to the file is done.","limit":0},"messages.sharingChangedSuccess":{"value":"Sharing updated.","comment":"Global messages. Change of dashboard sharing is done.","limit":0},"messages.sharingChangedError.general":{"value":"Failed to update the sharing settings. Try again later.","comment":"Global messages. Change of dashboard sharing fails.","limit":0},"messages.sharingDialogError.general":{"value":"Failed to load the sharing settings. Try again later.","comment":"Global messages. Load of dashboard sharing dialog fails.","limit":0},"visualization.dataTooLarge.headline":{"value":"Too many data points to display","comment":"","limit":0},"visualization.dataTooLarge.text":{"value":"Try applying one or more filters to your dashboard.","comment":"","limit":0},"visualization.execute_protected_report.headline":{"value":"You are not authorized to see this report","comment":"","limit":0},"visualization.execute_protected_report.text":{"value":"Contact your administrator.","comment":"","limit":0},"visualization.alert_not_supported":{"value":"Alerts are not supported for the static date period","comment":"","limit":0},"visualization.empty.headline":{"value":"No data for your filter selection","comment":"","limit":0},"visualization.error.headline|insight":{"value":"Sorry, we can\'t display this insight","comment":"","limit":0},"visualization.error.headline|report":{"value":"Sorry, we can\'t display this report","comment":"","limit":0,"translate":false},"visualization.error.text":{"value":"Contact your administrator.","comment":"","limit":0},"options.button.bubble|insight":{"value":"Export insight data","comment":"Show this message when hovering on the options button","limit":0},"options.button.bubble|report":{"value":"Export report data","comment":"Show this message when hovering on the options button","limit":0,"translate":false},"options.menu.export.CSV":{"value":"CSV","comment":"Export to file with CSV extension.","limit":0},"options.menu.export.XLSX":{"value":"XLSX","comment":"Export to file with XLSX extension.","limit":0},"options.menu.unsupported.error._measure|insight":{"value":"The insight cannot be exported at the moment. Try applying different filters, or using different measures or attributes.","comment":"Error popup. Insight cannot be exported to the file because of wrong setting of filters, measures or attributes.","limit":0},"options.menu.unsupported.error._metric|insight":{"value":"The insight cannot be exported at the moment. Try applying different filters, or using different metrics or attributes.","comment":"Error popup. Insight cannot be exported to the file because of wrong setting of filters, metrics or attributes.","limit":0},"options.menu.unsupported.error._measure|report":{"value":"The report cannot be exported at the moment. Try applying different filters, or using different measures or attributes.","comment":"Error popup. Report cannot be exported to the file because of wrong setting of filters, measures or attributes.","limit":0,"translate":false},"options.menu.unsupported.error._metric|report":{"value":"The report cannot be exported at the moment. Try applying different filters, or using different metrics or attributes.","comment":"Error popup. Report cannot be exported to the file because of wrong setting of filters, metrics or attributes.","limit":0,"translate":false},"options.menu.unsupported.loading|insight":{"value":"The insight cannot be exported at the moment.","comment":"Error popup. Insight cannot be exported to the file.","limit":0},"options.menu.unsupported.loading|report":{"value":"The report cannot be exported at the moment.","comment":"Error popup. Report cannot be exported to the file.","limit":0,"translate":false},"export.defaultTitle|insight":{"value":"Untitled insight","comment":"Default title for exported file","limit":0},"export.defaultTitle|report":{"value":"Untitled report","comment":"Default title for exported file","limit":0,"translate":false},"export_unsupported.disabled":{"value":"Export is not supported","comment":"Export to the file not supported.","limit":0},"widget.options.menu.exportToCSV":{"value":"Export to CSV","comment":"Export to file with CSV extension.","limit":0},"widget.options.menu.exportToXLSX":{"value":"Export to XLSX","comment":"Export to file with XLSX extension.","limit":0},"widget.options.menu.scheduleExport":{"value":"Schedule export","comment":"","limit":0},"share.button.text":{"value":"Share","comment":"Text of button that opens share dialog","limit":0},"dashboard.error.empty.heading":{"value":"This dashboard is empty","comment":"The user has a dashboard that contains no widgets.","limit":0},"dashboard.error.empty.text|insight":{"value":"All insights were removed.","comment":"The user has a dashboard that contains no widgets.","limit":0},"dashboard.error.empty.text|report":{"value":"All reports were removed.","comment":"The user has a dashboard that contains no widgets.","translate":false,"limit":0},"dashboard.shareDialog.underLenientControl.label":{"value":"Other users can access this dashboard if they drill to it","comment":"Label of checkbox that sets if other users than the ones in the list above the checkbox will be able to access the dashboard if they drill into it from another dashboard.","limit":0},"dashboard.shareDialog.lock.label":{"value":"Only admins can edit this dashboard","comment":"Label of checkbox that sets edit right for the dashboard","limit":0},"header.lockStatus.tooltip":{"value":"<b>This dashboard is locked.</b> Only administrators can edit this dashboard.","comment":"Shown when hovering over lock indicator. Dont translate html tags <b>, </b>","limit":0},"header.shareStatus.private.text":{"value":"Private","comment":"Share indicator text when dashboard is private","limit":0},"header.shareStatus.private.strict.tooltip":{"value":"Only you can view and edit this dashboard.","comment":"Shown when hovering over share indicator of private dashboard and strict access.","limit":0},"header.shareStatus.private.not.strict.tooltip":{"value":"The creator can edit this dashboard. Other users with appropriate user roles can edit this dashboard when they drill to it.","comment":"Shown when hovering over share indicator of private dashboard and not strict access.","limit":0},"dashboard.shareDialog.removeAccessGranteeTooltip":{"value":"Remove access to this dashboard.","comment":"Text of the tooltip shown above button that removes user or group dashboard access right.","limit":0},"dashboard.shareDialog.removeAccessCreatorTooltip":{"value":"The user that created this dashboard. Creators cannot be removed.","comment":"Text of the tooltip shown above disabled button that removes user dashboard access right. Shown in the case when user cannot be removed because he is the creator of the dashboard.","limit":0},"attributesDropdown.placeholder":{"value":"Search…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"attributesDropdown.configuration":{"value":"Configuration","comment":"Configuration button label in attribute filter dropdown","limit":0},"attributesDropdown.itemsFiltered":{"value":"Items are filtered","comment":"This message is displayed when attribute elements are being filtered out by parent filters","limit":0},"attributesDropdown.allItemsFiltered":{"value":"All items are filtered out","comment":"This message is displayed when there are no items available because they were filtered out by parent filters","limit":0},"attributesDropdown.itemsFiltered.tooltip":{"value":"Items are filtered by: <strong>{filters}</strong>","comment":"Do not translate HTML markup enclosed in <> and {filters} placeholder as it will be replaced by list of filter names.","limit":0},"attributesDropdown.save":{"value":"Save","comment":"Save button label in attribute filter dropdown configuration","limit":0},"attributesDropdown.filterBy":{"value":"Filter by","comment":"Filter section label in attribute filter dropdown configuration","limit":0},"attributesDropdown.displayValuesAs":{"value":"Display values as","comment":"Filter section label in attribute filter dropdown configuration. Displayed before dropdown button that changes form of the attribute used in insight. For example \'Display as: Shortened name\'.","limit":0},"attributesDropdown.title":{"value":"Title","comment":"","limit":0},"attributesDropdown.title.reset":{"value":"Reset","comment":"","limit":0},"attributesDropdown.selectionMode":{"value":"Selection","comment":"Dropdown subsection title.","limit":0},"attributesDropdown.selectionMode.multi":{"value":"Multiple values","comment":"Input selection choice.","limit":0},"attributesDropdown.selectionMode.single":{"value":"Single value","comment":"Input selection choice.","limit":0},"attributesDropdown.selectionMode.disabled.tooltip":{"value":"Single value selection is not allowed if any filters are selected in Filter by.To use the Single value selection, disable all filters in Filter by.","comment":"Tooltip describing why selection value is disabled.","limit":0},"attributesDropdown.parentFilter.disabled.tooltip":{"value":"Filtering by other filters is disabled for Single value selection. To set Filter by, select the multiple value selection.","comment":"Tooltip describing why choosing parent filters is disabled.","limit":0},"attributesDropdown.noConnectionMessage":{"value":"<strong>{childTitle}</strong> cannot be filtered by <strong>{parentTitle}</strong>. There is no connection between the filter attributes in the data model.","comment":"Do not translate HTML markup enclosed in <> and placeholders enclosed in {}.","limit":0},"attributesDropdown.details.dataset":{"value":"Dataset","comment":"","limit":0},"attributesDropdown.details.values":{"value":"Values","comment":"","limit":0},"attributesDropdown.details.shortening_decoration":{"value":"…and {count} more","comment":"Don\'t translate placeholder \'{count}\'. Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"attributesDropdown.removeTooltip":{"value":"Remove from dashboard","comment":"Tooltip text of button for deleting filter","limit":0},"layout.header.characters.left":{"value":"{currentCharactersCount} / {maximumCharactersCount} characters left","comment":"Number of characters that can be written e.g. : 4 /20 characters left","limit":0},"layout.header.add.title.placeholder":{"value":"Add Title here...","comment":"Add title component placeholder text","limit":0},"layout.header.add.description.placeholder":{"value":"Add Description here...","comment":"Add description component placeholder text","limit":0},"error":{"value":"Error","comment":"","limit":0},"controlButtons.edit.value":{"value":"Edit","comment":"","limit":0},"controlButtons.saveAndPublish.value":{"value":"Save & Publish","comment":"","limit":0},"controlButtons.save.value":{"value":"Save","comment":"","limit":0},"controlButtons.saveAndPublish.title":{"value":"All changes will be immediately visible to everyone who can access this dashboard.","comment":"","limit":0},"controlButtons.saveAsPrivate.title":{"value":"All changes will be saved.","comment":"","limit":0},"controlButtons.saveAndPublish.disable.empty.title":{"value":"Empty dashboard cannot be saved","comment":"","limit":0},"controlButtons.saveAndPublish.disable.noChanges.title":{"value":"There are no changes to save","comment":"","limit":0},"controlButtons.saving.value":{"value":"Saving…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"gs.visualizationsList.tabs.all":{"value":"all","comment":"","limit":0},"gs.visualizationsList.tabs.my":{"value":"created by me","comment":"","limit":0},"visualizationsList.noInsights|insight":{"value":"This workspace contains no insights.","comment":"","limit":0},"visualizationsList.noInsights|report":{"value":"This workspace contains no reports.","comment":"","limit":0,"translate":false},"visualizationsList.create|insight":{"value":"Create insight","comment":"","limit":0},"visualizationsList.create|report":{"value":"Create report","comment":"","translate":false,"limit":0},"visualizationsList.noUserInsights|insight":{"value":"No insights created.","comment":"","limit":0},"visualizationsList.noUserInsights|report":{"value":"No reports created.","comment":"","limit":0,"translate":false},"visualizationsList.noVisualizationsFound|insight":{"value":"No insight matched.","comment":"","limit":0},"visualizationsList.noVisualizationsFound|report":{"value":"No report matched.","comment":"","limit":0,"translate":false},"search_insights|insight":{"value":"Search all insights…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"search_insights|report":{"value":"Search all reports…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0,"translate":false},"save.as.new":{"value":"Save as new","comment":"","limit":0},"addPanel.deleteItem":{"value":"Drop to remove","comment":"","limit":0},"addPanel.newItem":{"value":"New item","comment":"","limit":0},"addPanel.attributeFilter":{"value":"Attribute Filter","comment":"","limit":0},"addPanel.filter":{"value":"Filter","comment":"","limit":0},"addPanel.attributeFilter.tooltip.no_attributes":{"value":"The attribute filter requires an attribute.","comment":"","limit":0},"addPanel.attributeFilter.tooltip.no_items":{"value":"The filter requires an attribute or a date dataset.","comment":"","limit":0},"addPanel.attributeFilter.tooltip.no_attributes.link":{"value":"Learn more","comment":"","limit":0},"addPanel.kpi":{"value":"Key Performance Indicator","comment":"","limit":0},"addPanel.kpi.tooltip.no_measures._measure":{"value":"The Key Performance Indicator requires a calculated measure.","comment":"","limit":0},"addPanel.kpi.tooltip.no_measures._metric":{"value":"The Key Performance Indicator requires a metric.","comment":"","limit":0},"addPanel.kpi.tooltip.no_measures.link":{"value":"Learn more","comment":"","limit":0},"visualizationsList.dragToAdd":{"value":"Drag to add","comment":"","limit":0},"visualizationsList.savedVisualizations|insight":{"value":"Saved insights","comment":"","limit":0},"visualizationsList.savedVisualizations|report":{"value":"Saved reports","comment":"","translate":false,"limit":0},"configurationPanel.drillConfig.selectDashboard":{"value":"Choose dashboard…","comment":"Hint guiding users that drill target dashboard in select box has to be selected. Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":{"value":"Search all dashboards…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.forbiddenDashboard":{"value":"(Not shared with you)","comment":"Placeholder used instead of the name of a dashboard in a list if dashboard name cannot be shown because dashboard was not shared with the user..","limit":0},"configurationPanel.drillConfig.forbiddenDashboard.tooltip":{"value":"Dashboard is not shared with you, but other users have access to this dashboard.","comment":"Tooltip explaining the accessibility of the dashboard.","limit":0},"configurationPanel.drillConfig.notSharedDashboard.tooltip":{"value":"Dashboard is not shared with you, but all users can access it if they drill to it.","comment":"Tooltip explaining the accessibility of the dashboard.","limit":0},"configurationPanel.remove.form.dashboard":{"value":"Remove from dashboard","comment":"","limit":0},"filterBar.filter.drop":{"value":"drop to add","comment":"","limit":0},"filterBar.filter.addFilterPlaceholder":{"value":"Drag {icon} here","comment":"Do not translate variable enclosed in {}.","limit":0},"filterBar.filter.dropzone.tooltip":{"value":"Drag the attribute filter here.","comment":"","limit":0},"filterBar.filter.dropzone.tooltip.generic":{"value":"Drag the filter here.","comment":"","limit":0},"configurationPanel.title":{"value":"Configuration","comment":"Label of widget configuration section","limit":0},"configurationPanel.comparison":{"value":"Comparison","comment":"","limit":0},"configurationPanel.compareWith":{"value":"Compare with","comment":"","limit":0},"configurationPanel.increasingNumberIs":{"value":"Increasing number is","comment":"","limit":0},"configurationPanel.comparisonTypeItems.previousPeriod":{"value":"Previous period","comment":"","limit":0},"configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":{"value":"Same period in previous year","comment":"","limit":0},"configurationPanel.comparisonTypeItems.noComparison":{"value":"No comparison","comment":"","limit":0},"configurationPanel.comparisonDirectionItems.green":{"value":"Green","comment":"","limit":0},"configurationPanel.comparisonDirectionItems.red":{"value":"Red","comment":"","limit":0},"configurationPanel.unlistedMetric._measure":{"value":"Unlisted measure","comment":"","limit":0},"configurationPanel.unlistedMetric._metric":{"value":"Unlisted metric","comment":"","limit":0},"configurationPanel.unlistedMetricIconTitle._measure":{"value":"This measure is hidden. Only you can see it.","comment":"","limit":0},"configurationPanel.unlistedMetricIconTitle._metric":{"value":"This metric is hidden. Only you can see it.","comment":"","limit":0},"configurationPanel.selectMeasurePlaceholder._measure":{"value":"Select measure…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.selectMeasurePlaceholder._metric":{"value":"Select metric…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.selectComparisonPlaceholder":{"value":"Select comparison…","comment":"Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.selectComparisonDirectionPlaceholder":{"value":"Select positive/negative","comment":"","limit":0},"configurationPanel.measure._measure":{"value":"Measure","comment":"","limit":0},"configurationPanel.measure._metric":{"value":"Metric","comment":"","limit":0},"configurationPanel.filterBy":{"value":"Filter by","comment":"","limit":0},"configurationPanel.date":{"value":"Date","comment":"","limit":0},"configurationPanel.dateAs":{"value":"as","comment":"","limit":0},"configurationPanel.vizCantBeFilteredByAttribute|insight":{"value":"The insight cannot be filtered by {attributeName}. Unselect the check box.","comment":"Don\'t translate placeholder \'{attributeName}\'.","limit":0},"configurationPanel.vizCantBeFilteredByAttribute|report":{"value":"The report cannot be filtered by {attributeName}. Unselect the check box.","comment":"Don\'t translate placeholder \'{attributeName}\'.","translate":false,"limit":0},"configurationPanel.kpiCantBeFilteredByAttribute":{"value":"The kpi cannot be filtered by {attributeName}. Unselect the check box.","comment":"Don\'t translate placeholder \'{attributeName}\'.","limit":0},"configurationPanel.vizCantBeFilteredByDate|insight":{"value":"The insight cannot be filtered by Date. Unselect the check box.","comment":"","limit":0},"configurationPanel.vizCantBeFilteredByDate|report":{"value":"The report cannot be filtered by Date. Unselect the check box.","comment":"","translate":false,"limit":0},"configurationPanel.kpiCantBeFilteredByDate":{"value":"The kpi cannot be filtered by Date. Unselect the check box.","comment":"","limit":0},"configurationPanel.unrelatedVizDateInfo|insight":{"value":"\\"{dateDataSet}\\" can no longer be applied to the insight. Select a different dimension or edit the insight.","comment":"Don\'t translate placeholder \'{dateDataSet}\' and keep \'\\"\' characters as are.","limit":0},"configurationPanel.unrelatedVizDateInfo|report":{"value":"\\"{dateDataSet}\\" can no longer be applied to the report. Select a different dimension or edit the report.","comment":"Don\'t translate placeholder \'{dateDataSet}\' and keep \'\\"\' characters as are.","translate":false,"limit":0},"configurationPanel.unrelatedKpiDateInfo":{"value":"\\"{dateDataSet}\\" can no longer be applied to the kpi. Select a different dimension or edit the kpi.","comment":"Don\'t translate placeholder \'{dateDataSet}\' and keep \'\\"\' characters as are.","limit":0},"configurationPanel.breakAlertWarning":{"value":"\\n            Users have set up {numAlerts} {numAlerts, select, 1 {alert} other {alerts}}\\n            for this KPI. Modifying the KPI will affect {numAlerts, select, 1 {this alert} other {these alerts}}.\\n        ","comment":"Don\'t translate placeholder \'{numAlerts}\'. Translate only uppercase \'{numAlerts, select, 1 {ALERT} other {ALERTS}}\'","limit":0},"configurationPanel.drillIntoDashboard":{"value":"Drill into dashboard","comment":"","limit":0},"configurationPanel.noLinkableDashboards":{"value":"No dashboard to link to","comment":"","limit":0},"configurationPanel.selectDashboard":{"value":"Select a dashboard","comment":"","limit":0},"configurationPanel.interactions":{"value":"Interactions","comment":"","limit":0},"configurationPanel.drillConfig.interactions":{"value":"Drill interactions","comment":"Header of a section where user can set drilling for some visualization widget containing some visualization (chart, table, etc). Interactions here stands for user interactions.","limit":0},"configurationPanel.drillConfig.addInteraction":{"value":"Add interaction","comment":"Use imperative. Button label that is related to \\"Interactions\\" section. This button adds some drilling to a widget.","limit":30},"configurationPanel.drillConfig.clickHint":{"value":"When I click on","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"WHEN I CLICK ON on value of measure \'Number of user accounts\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.measureValue._measure":{"value":"Value of measure","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"When I click on VALUE OF MEASURE \'Number of user accounts\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.measureValue._metric":{"value":"Value of metric","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"When I click on VALUE OF METRIC \'Number of user accounts\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.attributeValue":{"value":"Value of attribute","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"When I click on VALUE OF ATTRIBUTE \'Account\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.selectTarget":{"value":"I want to","comment":"","limit":0},"configurationPanel.drillConfig.clickHintItem":{"value":"When I click on <addon>(value of)</addon>","comment":"Do not translate <addon...> and </addon>, but translate (value of)","limit":0},"configurationPanel.drillConfig.drillIntoDashboard":{"value":"Drill into dashboard","comment":"","limit":0},"configurationPanel.drillConfig.drillIntoInsight|insight":{"value":"Drill into insight","comment":"","limit":0},"configurationPanel.drillConfig.drillIntoInsight|report":{"value":"Drill into report","comment":"","translate":false,"limit":0},"configurationPanel.drillConfig.drillDown":{"value":"Drill down","comment":"Name of an option in dropdown that is used to select drill down type of dashboard drill.","limit":0},"configurationPanel.drillConfig.disableDrillDownTooltip":{"value":"Drill down is turned off in this insight\'s configuration.","comment":"The disable tooltip message for the Drill down item","limit":0},"configurationPanel.drillConfig.drillIntoUrl":{"value":"Drill into URL","comment":"Name of an option in dropdown that is used to select type of dashboard drill.","limit":0},"configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":{"value":"Invalid URL parameters","comment":"Warning displayed in drill config when drill into URL has invalid parameters of custom URL.","limit":0},"configurationPanel.drillConfig.select":{"value":"Choose action…","comment":"Hint guiding users that drill actions in select box has to be selected. Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning|insight":{"value":"The date attribute value from the insight will not be transferred to filter the target dashboard.","comment":"Warning displayed in drill config when drill into dashboard has date attribute as source or in intersection","limit":0},"configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning|report":{"value":"The date attribute value from the report will not be transferred to filter the target dashboard.","comment":"Warning displayed in drill config when drill into dashboard has date attribute as source or in intersection","translate":false,"limit":0},"configurationPanel.unlistedDashboardTab":{"value":"Unlisted dashboard","comment":"","limit":0},"configurationPanel.visualprops.sectionTitle":{"value":"Title","comment":"","limit":0},"configurationPanel.visualprops.hideTitle":{"value":"Hide title","comment":"","limit":0},"configurationPanel.visualprops.sectionDescription":{"value":"Description","comment":"","limit":0},"configurationPanel.visualprops.inheritDescription":{"value":"Inherit","comment":"","limit":0},"configurationPanel.visualprops.inheritDescriptionHelp|insight":{"value":"Inherit the description from the insight.","comment":"","limit":0},"configurationPanel.visualprops.inheritDescriptionHelp|report":{"value":"Inherit the description from the report.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":{"value":"Inherit the description from the metric.","comment":"","limit":0},"configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":{"value":"Inherit the description from the measure.","comment":"","limit":0},"configurationPanel.visualprops.customDescription":{"value":"Custom","comment":"","limit":0},"configurationPanel.visualprops.customDescriptionHelp|insight":{"value":"Add a custom description for this instance of the insight.","comment":"","limit":0},"configurationPanel.visualprops.customDescriptionHelp|report":{"value":"Add a custom description for this instance of the report.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.customKpiDescriptionHelp":{"value":"Add a custom description.","comment":"","limit":0},"configurationPanel.visualprops.noneDescription":{"value":"None","comment":"","limit":0},"configurationPanel.visualprops.includeMetrics._measure":{"value":"Include measure descriptions","comment":"","limit":0},"configurationPanel.visualprops.includeMetrics._metric":{"value":"Include metric descriptions","comment":"","limit":0},"configurationPanel.visualprops.includeMetricsHelp._measure|insight":{"value":"Display section with list of insight’s measures and their description.","comment":"","limit":0},"configurationPanel.visualprops.includeMetricsHelp._metric|insight":{"value":"Display section with list of insight’s metrics and their description.","comment":"","limit":0},"configurationPanel.visualprops.includeMetricsHelp._measure|report":{"value":"Display section with list of report’s measures and their description.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.includeMetricsHelp._metric|report":{"value":"Display section with list of report’s metrics and their description.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.descriptionPlaceholder":{"value":"Add description…","comment":"","limit":0},"configurationPanel.drillIntoUrl.defaultButtonValue":{"value":"Choose URL","comment":"Default value of \'Drill into URL\' dropdown button before a value is selected.","limit":0},"configurationPanel.drillIntoUrl.attributeUrlSectionTitle":{"value":"Hyperlink in attribute label","comment":"Title of \'Drill into URL\' dropdown section.","limit":0},"configurationPanel.drillIntoUrl.customUrlSectionTitle":{"value":"Custom URL","comment":"Title of \'Drill into URL\' dropdown section.","limit":0},"configurationPanel.drillIntoUrl.editor.addUrlTitle":{"value":"Add custom URL","comment":"Title of Drill to URL \'Custom URL\' editor when URL is not defined.","limit":0},"configurationPanel.drillIntoUrl.editor.editUrlTitle":{"value":"Edit custom URL","comment":"Title of Drill to URL \'Custom URL\' editor when URL is defined.","limit":0},"configurationPanel.drillIntoUrl.editor.textAreaLabel":{"value":"URL","comment":"Label of the textarea in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parametersPanelLabel":{"value":"Parameters","comment":"Label of the panel in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":{"value":"Parameters are placeholders that are replaced by dynamic values during drilling.","comment":"Tooltip displayed when user hovers over question mark icon next to label of the parameters panel in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":{"value":"Add","comment":"Label of the button that adds a parameter to URL in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailType":{"value":"Type","comment":"Title of type section in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailLabel":{"value":"Label","comment":"Title of label section in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailValues":{"value":"{numberOfValues, plural, one {Value} other {Values}}","comment":"Translate only uppercase words in \'{numberOfValues, plural, one {VALUE} other {VALUES}}\'. Title of values section in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":{"value":"...and {count} more","comment":"Translate only uppercase words In \'...AND {count} MORE\'. Info about number of other values not shown in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightIdParameterLabel|insight":{"value":"Insight ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightIdParameterLabel|report":{"value":"Report ID","comment":"Label of the report parameter in Drill to URL \'Custom URL\' editor.","translate":false,"limit":0},"configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":{"value":"Client ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":{"value":"Data product ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":{"value":"Project ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":{"value":"Workspace ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":{"value":"Widget ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":{"value":"Dashboard ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.identifierTypeLabel":{"value":"Identifier","comment":"Type label of identifier in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel|insight":{"value":"Insight","comment":"Label of the parameters section that contains attributes and measures in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel|report":{"value":"Report","comment":"Label of the parameters section that contains attributes and measures in Drill to URL \'Custom URL\' editor.","translate":false,"limit":0},"configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":{"value":"Identifiers","comment":"Label of the parameters section that contains identifiers in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":{"value":"Dashboard","comment":"Label of the parameters section that contains dashboard filters in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.applyButtonLabel":{"value":"Apply","comment":"Label of the button that applies changes in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.cancelButtonLabel":{"value":"Cancel","comment":"Label of the button that cancels changes in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":{"value":"Enter URL and add parameters from the right panel.","comment":"Placeholder of textarea in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.helpButtonLabel":{"value":"How to create custom URLs?","comment":"Help button label in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":{"value":"Invalid parameters: {invalidParameters}","comment":"Help button label in Drill to URL \'Custom URL\' editor. Do not translate \'{invalidParameters}\' placeholder.","limit":0},"configurationPanel.drillIntoUrl.customUrlAddButtonLabel":{"value":"Add custom URL","comment":"Label of the button in \'Drill into URL\' dropdown that is used for adding of the custom URL.","limit":0},"configurationPanel.drillIntoUrl.customUrlEditButtonLabel":{"value":"Edit custom URL","comment":"Label of the button in \'Drill into URL\' dropdown that is used for editing of the custom URL.","limit":0},"configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":{"value":"Attribute label value","comment":"Type label of default display form in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":{"value":"Attribute geo value","comment":"Type label of geo display form in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":{"value":"Attribute URL value","comment":"Type label of URL display form in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.zoomInsight|insight":{"value":"Zoomable insight","comment":"","limit":0},"configurationPanel.zoomInsight|report":{"value":"Zoomable report","comment":"","translate":false,"limit":0},"configurationPanel.zoomInsight.help|insight":{"value":"Enable to zoom the insight to display a detailed view. Hold the shift key to pan the zoomed area.","comment":"","limit":0},"configurationPanel.zoomInsight.help|report":{"value":"Enable to zoom the report to display a detailed view. Hold the shift key to pan the zoomed area.","comment":"","translate":false,"limit":0},"configurationPanel.zoomInsight.notice":{"value":"Zoom will not be applied to exported dashboards","comment":"","limit":0},"configurationPanel.drillConfig.selectInsight|insight":{"value":"Choose insight…","comment":"Hint guiding users that drill target insight in select box has to be selected. Use \'…\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.selectInsight|report":{"value":"Choose report…","comment":"Hint guiding users that drill target report in select box has to be selected. Use \'…\' as one character, not 3 dots (\'...\').","translate":false,"limit":0},"gs.date.date-dataset.recommended":{"value":"Recommended","comment":"","limit":0},"gs.date.date-dataset.other":{"value":"Other","comment":"","limit":0},"gs.date.date-dataset.related":{"value":"Related","comment":"","limit":0},"gs.date.date-dataset.unrelated":{"value":"Unrelated","comment":"","limit":0},"gs.date.date-dataset.unrelated_hidden":{"value":"{count} unrelated {count, plural, one {date} other {dates}} {isShow, select, true {visible} other {hidden}}.","comment":"Don\'t translate placeholder \'{count}\'. In \'{count, plural, one {DATE} other {DATES}} and {isShow, select, true {VISIBLE} other {HIDDEN}}\' translate only uppercase words.","limit":0},"gs.date.date-dataset.unrelated.show":{"value":"Show","comment":"The unrelated items button","limit":0},"gs.date.date-dataset.unrelated.hide":{"value":"Hide","comment":"The unrelated items button","limit":0},"gs.date.date-dataset.duplicityWarning":{"value":"Another filter is using the same date dataset. Disable this filter or set a different date.","comment":"","limit":0},"layout.widget.width.min":{"value":"Widget is at the minimal width","comment":"Shown as red text inside of widget if resized under min limit.","limit":0},"layout.widget.width.max":{"value":"Widget is at the maximal width","comment":"Shown as red text inside of widget if resized under max limit.","limit":0},"layout.widget.height.min":{"value":"Widget is at the minimal height","comment":"Shown as red text inside of widget if resized under min limit.","limit":0},"layout.widget.height.max":{"value":"Widget is at the maximal height","comment":"Shown as red text inside of widget if resized under max limit.","limit":0},"layout.widget.addedByPlugin":{"value":"Added by plugin","comment":"","limit":0},"layout.widget.modifiedByPlugin":{"value":"Modified by plugin","comment":"","limit":0},"layout.widget.hideOverlay":{"value":"Hide overlay","comment":"","limit":0},"dropzone.new.row.desc":{"value":"Drop to create a{nbsp}<b>new section</b>","comment":"Used as placeholder when user drags some widget and tries to drop it on dashboard. Dropping the widget over such placeholder creates new section of a dashboard. Do not translate HTML markup enclosed in <>. Translate words \'new section\'.","limit":0},"dropzone.widget.desc":{"value":"Drop <b>here</b>","comment":"Do not translate HTML markup enclosed in <>. Translate word \'here\'.","limit":0},"dropzone.widget.last.in.row.desc":{"value":"Drop to the <b>existing section</b>","comment":"Used as placeholder when user drags some widget and tries to drop it on dashboard. Dropping the widget over such placeholder will cause adding the widget to an existing section of a dashboard. Do not translate HTML markup enclosed in <>. Translate words \'existing section\'.","limit":0},"deleteKpiConfirmationDialog.headline":{"value":"Delete KPI","comment":"","limit":0},"deleteKpiConfirmationDialog.message":{"value":"All alerts set up for this KPI will also be deleted.","comment":"","limit":0},"deleteKpiConfirmationDialog.submitButtonText":{"value":"Delete","comment":"","limit":0},"newDashboard.title|insight":{"value":"Drag insight here","comment":"","limit":0},"newDashboard.title|report":{"value":"Drag report here","comment":"","translate":false,"limit":0},"newDashboard.dropInsight|insight":{"value":"Drop insight","comment":"A placeholder showed when user drags new insight into a dashboard canvas by cursor (drag and drop).","limit":0},"newDashboard.dropInsight|report":{"value":"Drop report","comment":"A placeholder showed when user drags new report into a dashboard canvas by cursor (drag and drop).","translate":false,"limit":0},"attributesDropdown.filterConfiguredMessage":{"value":"<strong>{parentTitle}</strong> is already filtered by <strong>{childTitle}</strong> filter directly or through other filters.","comment":"Do not translate HTML markup enclosed in <> and placeholders enclosed in {}.","limit":0},"attributesDropdown.attributeNameWithData":{"value":"with data of","comment":"Will be used in sentence between two nouns. For instance \'Filter by AttributeX with data of MetricY\'","limit":0},"filter.visibilityMode.tooltip.hidden":{"value":"This filter is hidden. It can be accessed only via the Edit mode.","comment":"The tooltip serves as a warning to the user that the filter will be hidden in view mode.","limit":0},"filter.visibilityMode.tooltip.readonly.editMode":{"value":"This filter is locked. It can be changed only via the Edit mode.","comment":"The tooltip serves as a warning to the user that the filter will be locked, and the user cannot change its value in view mode.","limit":0},"filter.visibilityMode.tooltip.readonly.viewMode":{"value":"This filter is locked.","comment":"The tooltip helps users understand why they cannot change its value.","limit":0},"filter.resetButton.tooltip":{"value":"Reset all filters","comment":"The tooltip of the reset button in the filter bar","limit":0},"dateFilterDropdown.save":{"value":"Save","comment":"Save button label in date filter dropdown configuration","limit":0},"filter.configuration.mode.title":{"value":"Mode","comment":"The title of the state section in date filter dropdown configuration","limit":0},"filter.configuration.mode.interactive.title":{"value":"Interactive","comment":"The title of the interactive mode","limit":0},"filter.configuration.mode.interactive.tooltip":{"value":"Dashboard users can see and change the filter.","comment":"The tooltip of the interactive mode","limit":0},"filter.configuration.mode.locked.title":{"value":"Locked","comment":"The title of the locked mode","limit":0},"filter.configuration.mode.locked.tooltip":{"value":"Dashboard users can see the filter but cannot change it.","comment":"The tooltip of the locked mode","limit":0},"filter.configuration.mode.hidden.title":{"value":"Hidden","comment":"The title of the hidden mode","limit":0},"filter.configuration.mode.hidden.tooltip":{"value":"Dashboard users cannot see the filter but it is applied.","comment":"The tooltip of the hidden mode","limit":0},"filter.dependency.icon.tooltip":{"value":"Available values for <strong>{filterTitle}</strong> are limited by selection in another filter.","comment":"Do not translate HTML markup enclosed in <> and placeholders enclosed in {}.","limit":0},"configurationPanel.drillConfig.alreadyUsedTooltip":{"value":"This <strong>hierarchy</strong> is already used for <strong>the same</strong> drill down.","comment":"Tooltip displayed when hierarchy object cannot be used again for drill down functionality.","limit":0}}'),OI=JSON.parse('{"loading":"Lädt…","untitled":"Unbenannt","empty_value":"leerer Wert","gs.list.cancel":"Abbrechen","gs.list.apply":"Übernehmen","gs.list.only":"Nur","messages.dashboardSaveSuccess":"Super. Wir haben Ihr Dashboard gespeichert.","options.menu.save.as":"Als neu speichern","options.menu.save.as.tooltip":"Ein leeres Dashboard kann nicht gespeichert werden.","messages.dashboardSaveFailed":"Speichern des Dashboards fehlgeschlagen. Bitte versuchen Sie es noch einmal.","messages.dashboard.invalidDrills.title":"<b>Einige Interaktionen wurden entfernt.</b>","messages.dashboard.invalidDrills.body.modern._measure":"Ein oder mehrere Dashboards/Betrachtungen/Messungen/Attribute wurden geändert oder gelöscht, wodurch einige Interaktionen von folgenden Widgets entfernt wurden: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Ein oder mehrere Dashboards/Betrachtungen/Metriken/Attribute wurden geändert oder gelöscht, wodurch einige Interaktionen von folgenden Widgets entfernt wurden: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Einige der Drill-in-URL-Interaktionen funktionieren nicht.</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Ungültige URL-Parameter in Ihren benutzerdefinierten URLs führen dazu, dass Drill-in-URL-Interaktionen bei diesen Widgets fehlschlagen: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Mehr anzeigen","messages.dashboard.expandable.showLess":"Weniger anzeigen","messages.drill.InteractionConfiguredSuccess":"Interaktion konfiguriert.","messages.drill.InteractionUpdatedSuccess":"Interaktion aktualisiert.","filterBar.showAll":"Alle anzeigen","filterBar.showLess":"Weniger anzeigen","options.menu.export.PDF":"Nach PFD exportieren","options.menu.schedule.email":"E-Mailing planen","options.menu.delete":"Löschen","dialogs.export.cells":"ZELLEN","dialogs.export.filters":"BETRACHTUNGSKONTEXT","dialogs.export.includeFilters":"Angewendete Filter einschließen","dialogs.export.headline":"Nach XLSX exportieren","dialogs.export.mergeHeaders":"Zusammengeführte Attributzellen so belassen","dialogs.export.submit":"Exportieren","dialogs.schedule.email.delete.success":"Erfolgreich! Ihre geplante E-Mail wurde gelöscht.","dialogs.schedule.email.submit.success":"Erfolgreich! Ihr Dashboard ist jetzt für E-Mails eingerichtet.","dialogs.schedule.email.submit.error":"Fehler! E-Mails für das Dashboard konnten nicht eingerichtet werden. Bitte später erneut versuchen.","dialogs.schedule.email.save.success":"Erfolgreich! Ihr Zeitplan wurde gespeichert.","dialogs.schedule.email.save.error":"Der Zeitplan konnte nicht gespeichert werden. Bitte später erneut versuchen.","dialogs.save.as.new.title":"Dashboard als \\"Neu\\" speichern","dialogs.save.as.new.desc":"Geben Sie Ihrem neuen Dashboard einen aussagekräftigen Namen, um es später einfacher zu finden.","dialogs.save.as.new.default.title":"Kopie von {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Warnmeldungen und E-Mail-Zeitpläne werden nicht dupliziert","dialogs.save.as.new.alertsMessage":"Warnmeldungen werden nicht dupliziert","dialogs.save.as.new.emailsMessage":"Warnmeldungen und E-Mail-Zeitpläne werden nicht dupliziert","cancelConfirmationDialog.headline":"Änderungen verwerfen?","cancelConfirmationDialog.message":"Alle Änderungen gehen verloren","cancelConfirmationDialog.submitButtonText":"Änderungen verwerfen","deleteDashboardDialog.headline":"Dashboard löschen?","deleteDashboardDialog.submitButtonText":"Löschen","deleteDashboardDialog.alertsAndEmailsMessage":"Alle Warnmeldungen und geplanten E-Mails für dieses Dashboard werden ebenfalls gelöscht.","deleteDashboardDialog.alertsMessage":"Alle für dieses Dashboard eingerichteten Alarme werden ebenfalls gelöscht.","deleteDashboardDialog.emailsMessage":"Alle geplanten E-Mails für dieses Dashboard werden ebenfalls gelöscht.","deleteDashboardDialog.drillMessage":"Jegliches Drilling in diesem Dashboard von anderen Dashboards wird entfernt.","create.dashboard":"Dashboard erstellen","drill_modal_picker.drill-down":"Drill-Down","drill_modal_picker.drill-into":"Verfeinern von","drill_modal_picker.cross-filter":"Kreuzfilter","drill_modal_picker.more.details":"Mehr Infos","drillModal.backToTop":"Nach oben","filters.allTime.previousPeriod":"vorh. Zeitraum","filters.allTime.lastYear":"Vorjahr","filters.minute.previousPeriod":"vorh. Minute","filters.hour.previousPeriod":"vorh. Stunde","filters.day.previousPeriod":"vorh. {n, plural, one {Tag} other {#T}}","filters.week.previousPeriod":"vorh. {n, plural, one {Woche} other {#W}}","filters.month.previousPeriod":"vorh. {n, plural, one {Monat} other {#M}}","filters.quarter.previousPeriod":"vorh. {n, plural, one {Quartal} other {#Q}}","filters.year.previousPeriod":"vorh. {n, plural, one {Jahr} other {#J}}","filters.alertMessage.relativePreset":"in {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"im Zeitraum {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Mit diesem Projekt ist mehr als ein Projektdatumsfilter verknüpft. Der erste Filter wird verwendet.","filters.config.warning.multipleWorkspacesConfigs":"Mit diesem Workspace sind mehrere Datumsfilterkonfigurationen verknüpft. Es wurde die erste Konfiguration verwendet.","filters.config.warning.selectedFilterNotValid":"Die Standardfilteroption ist ungültig. Stattdessen wird die erste gültige Filteroption verwendet.","filters.config.warning.allOptionsHidden":"Die Dashboard-Datumsfiltereinstellung wurde ignoriert, weil sie alle Filteroptionen verborgen hätte.","filters.config.warning.conflictingIdentifiers":"Die Dashboard-Datumsfiltereinstellung wurde ignoriert, weil sie Datenfilteroptionen mit identischen Identifikatoren enthält.","filters.config.warning.notAvailable":"Die Konfiguration des Projektdatumsfilters wurde entweder noch nicht definiert oder Sie haben keine Zugriffsberechtigung dafür.","filters.config.warning.workspace.notAvailable":"Die Datumsfilterkonfiguration des Workspaces ist entweder nicht definiert oder Sie verfügen nicht über die nötigen Zugriffsrechte.","filters.configurationPanel.header":"Konfiguration","filters.configurationPanel.sectionHeader.interactions":"Interaktionen","filters.configurationPanel.crossFiltering.toggle":"Querfilterung:","kpi.noData":"Keine Daten für die aktuellen Filtereinstellungen. Versuchen Sie, die Filter zu ändern.","kpiPop.change":"Veränderung","dialogs.schedule.email.filters":"Das Dashboard enthält Filteränderungen, die im Zeitplan gespeichert werden.","dialogs.schedule.email.filters.not.saved":"Dashboard-Filter, die im Zeitplan gespeichert wurden, sind nicht davon betroffen.","dialogs.schedule.email.attachment.filter":"(mit derzeit festgelegten Filtern)","dialogs.schedule.email.attachment.label":"Anhang:","dialogs.schedule.email.attachments.label":"Anhänge:","dialogs.schedule.email.attachment.select":"Anhänge auswählen","dialogs.schedule.email.attachment.select.disabled.message":"Dieses Dashboard enthält keine Betrachtungen.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Betrachtungen (CSV, XLSX)","dialogs.schedule.email.headline":"Planen Sie die E-Mail-Zustellung","dialogs.schedule.email.heading":"Exportvorgang planen","dialogs.schedule.email.message.label":"Nachricht:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 Empfänger hat} other {# Empfänger haben}} diesen Zeitplan nicht mehr abonniert.","dialogs.schedule.email.repeats.label":"Wiederholungen:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"am {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"am {week, select, 1 {ersten} 2 {zweiten} 3 {dritten} 4 {vierten} other {letzten}} {day}","dialogs.schedule.email.repeats.every":"alle","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {Tag} other {Tage}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {Monat} other {Monate}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {Woche} other {Wochen}}","dialogs.schedule.email.repeats.types.custom":"Benutzerdefiniert","dialogs.schedule.email.repeats.types.daily":"Täglich","dialogs.schedule.email.repeats.types.monthly":"Monatlich am {week, select, 1 {ersten} 2 {zweiten} 3 {dritten} 4 {vierten} other {letzten}} {day}","dialogs.schedule.email.repeats.types.weekly":"Wöchentlich am {day}","dialogs.schedule.email.subject.label":"Betreff:","dialogs.schedule.email.time.label":"Erste E-Mail:","dialogs.schedule.email.to.label":"An:","dialogs.schedule.email.message.placeholder":"Hallo,\\n\\nIhre geplante E-Mail ist bereit. Sie können das Dashboard in Anhänge herunterladen.","dialogs.schedule.email.submit":"Planen","dialogs.schedule.email.save":"Speichern","dialogs.schedule.email.format.options":"Formatoptionen","dialogs.schedule.email.insight.format":"Format der Betrachtung:","dialogs.schedule.email.attribute.merged":"Zusammengeführte Attributzellen so belassen","dialogs.schedule.email.show.filters":"Angewendete Filter anzeigen","dialogs.schedule.management.title":"Geplante Exportvorgänge","dialogs.schedule.management.delete":"Löschen Sie den Zeitplan.","dialogs.schedule.management.delete.dialog":"Zeitplan löschen?","dialogs.schedule.management.delete.dialog.confirm":"<b>Der Zeitplan</b> wird unwiderruflich gelöscht.","dialogs.schedule.management.noSchedules":"Das Dashboard enthält keine geplanten Exporte.{br}Jetzt hinzufügen.","dialogs.schedule.management.noSchedules.byUser":"Sie haben noch keine Exporte geplant.{br}Jetzt hinzufügen.","dialogs.schedule.management.addSchedule":"Zeitplan hinzufügen","dialogs.schedule.management.recipients":"{n, plural, one {# Empfänger} other {# Empfänger}}","dialogs.schedule.management.recipients.onlyYou":"Nur Sie","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# Betrachtung} other {# Betrachtungen}}","dialogs.schedule.management.attachments.mixed":"Dashboard und {n, plural, one {# Betrachtung} other {# Betrachtungen}}","dialogs.schedule.management.load.error":"Laden fehlgeschlagen. Später erneut versuchen.","dialogs.schedule.management.delete.error":"Der Zeitplan konnte nicht gelöscht werden. Später erneut versuchen.","dialogs.schedule.management.tab.all":"alle","dialogs.schedule.management.tab.user":"von mir erstellt","options.menu.schedule.email.recipient.invalid":"Dies ist keine gültige E-Mail-Adresse.","options.menu.schedule.email.recipient.warning.existed":"Sie haben diesen Empfänger bereits hinzugefügt.","options.menu.schedule.email.recipient.warning.belong.workspace":"Diese E-Mail-Adresse ist nicht bei diesem Workspace registriert. Der Empfänger könnte sensible Daten erhalten.","options.menu.schedule.email.recipient.external.not.allowed":"Diese E-Mail-Adresse ist nicht bei diesem Workspace registriert. Nur der Ersteller des Zeitplans kann diese E-Mail-Adresse hinzufügen.","delete":"Löschen","close":"Schließen","cancel":"Abbrechen","gs.date.at":"um","gs.date.today":"Heute","gs.date.tomorrow":"Morgen","gs.date.yesterday":"Gestern","kpi.alertBox.title":"Alarm bei KPI-Änderung setzen","kpi.alertBox.example":"z. B.","kpi.alertBox.unverifiedEmail":"Leider können Sie keinen Alarm sehen. Überprüfen Sie Ihre E-Mail. Wenn das nichts nützt, bitten Sie Ihren Administrator, Ihre Berechtigungen zu aktualisieren.","kpi.alertBox.disabledInReadOnly":"Warnmeldungen im schreibgeschützten Modus deaktiviert","kpi.error.view":"KPI kann nicht angezeigt werden. Setzen Sie sich mit Ihrem Administrator in Verbindung, um die KPI-Definition festzulegen.","kpiAlertDialog.delete":"Löschen","kpiAlertDialog.deleting":"Wird gelöscht…","kpiAlertDialog.emailMe":"Schicken Sie mir eine E-Mail","kpiAlertDialog.emailMeWhen":"{emailMe}, wenn dieser KPI ist","kpiAlertDialog.emailInfo":"E-Mail wird gesendet an {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Diese Nummer ist ungültig.</strong>{br}Bitte überprüfen und erneut versuchen.","kpiAlertDialog.filtersDiffer":"Der KPI wird jetzt anders gefiltert als beim Einrichten des Alarms.","kpiAlertDialog.filtersApply":"Alarmfilter auf Dashboard anwenden","kpiAlertDialog.savingFailed":"Speichern des Alarms fehlgeschlagen. Bitte versuchen Sie es noch einmal.","kpiAlertDialog.deleteingFailed":"Löschen des Alarms fehlgeschlagen. Bitte versuchen Sie es noch einmal.","kpiAlertDialog.brokenAlert":"Gebrochene Warnmeldung","kpiAlertDialog.brokenAlertAppeal":"Um den richtigen KPI-Wert anzuzeigen, aktivieren Sie die Filter in dieser Warnmeldung. Sie können die Warnmeldung auch entfernen.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Datum","kpiAlertDialog.removedFilters":"Die Filter wurden aus dem Dashboard entfernt","kpiAlertDialog.ignoredFilters":"Unbekannte Filter für diesen KPI","kpiAlertDialog.updateTitle":"Aktualisieren","kpiAlertDialog.updateBrokenTitle":"Filter aktualisieren","kpiAlertDialog.updatingTitle":"Wird aktualisiert…","kpiAlertDialog.updateBrokenFailed":"Aktualisieren der Filter fehlgeschlagen. Bitte versuchen Sie es erneut.","kpiAlertDialog.setTitle":"Alarm einstellen","kpiAlertDialog.settingTitle":"Wird eingestellt…","kpiAlertDialog.threshold.above":"über","kpiAlertDialog.threshold.below":"unter","kpiAlertDialog.withAttributeFilters":"{numFilters} weitere {numFilters, select, 1 {Filter} other {Filter}} angewandt","messages.exportResultError":"Daten konnten nicht exportiert werden. Versuchen Sie es später noch einmal.","messages.exportResultRestrictedError":"Sie können die Betrachtungsansicht nicht exportieren, weil sie zugriffsbeschränkte Daten enthält.","messages.exportResultStart":"Export wird durchgeführt","messages.exportResultSuccess":"Export erfolgreich abgeschlossen.","messages.sharingChangedSuccess":"Freigabe aktualisiert.","messages.sharingChangedError.general":"Fehler beim Aktualisieren der Freigabeeinstellungen. Bitte später erneut versuchen.","messages.sharingDialogError.general":"Fehler beim Laden der Freigabeeinstellungen. Bitte später erneut versuchen.","visualization.dataTooLarge.headline":"Zu viele Datenpunkte zum Anzeigen","visualization.dataTooLarge.text":"Versuchen Sie, einen oder mehrere Filter auf Ihr Dashboard anzuwenden.","visualization.execute_protected_report.headline":"Sie sind nicht berechtigt, diesen Bericht anzuzeigen.","visualization.execute_protected_report.text":"Setzen Sie sich mit Ihrem Administrator in Verbindung.","visualization.alert_not_supported":"Warnmeldungen für den statischen Zeitraum werden nicht unterstützt.","visualization.empty.headline":"Keine Daten für Ihre Filterauswahl","visualization.error.headline":"Leider können wir diese Betrachtung nicht anzeigen","visualization.error.text":"Setzen Sie sich mit Ihrem Administrator in Verbindung.","options.button.bubble":"Betrachtungsdaten exportieren","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"Die Betrachtung kann momentan nicht exportiert werden. Versuchen Sie andere Filter anzuwenden bzw. andere Messungen oder Attribute.","options.menu.unsupported.error._metric":"Die Betrachtungen können derzeit nicht exportiert werden. Wählen Sie andere Filter, Metriken oder Attribute aus.","options.menu.unsupported.loading":"Die Betrachtung kann momentan nicht exportiert werden. ","export.defaultTitle":"Betrachtung ohne Namen","export_unsupported.disabled":"Es wird kein Export unterstützt","widget.options.menu.exportToCSV":"Als CSV exportieren","widget.options.menu.exportToXLSX":"Nach XLSX exportieren","widget.options.menu.scheduleExport":"Exportvorgang planen","share.button.text":"Teilen","dashboard.error.empty.heading":"Dieses Dashboard ist leer","dashboard.error.empty.text":"Alle Betrachtungen wurden entfernt.","dashboard.shareDialog.underLenientControl.label":"Andere Benutzer können auf dieses Dashboard zugreifen, wenn sie danach suchen","dashboard.shareDialog.lock.label":"Nur Administratoren können dieses Dashboard bearbeiten","header.lockStatus.tooltip":"<b>Dieses Dashboard ist gesperrt.</b> Nur Administratoren können dieses Dashboard bearbeiten.","header.shareStatus.private.text":"Privat","header.shareStatus.private.strict.tooltip":"Nur Sie können dieses Dashboard ansehen und bearbeiten.","header.shareStatus.private.not.strict.tooltip":"Der Ersteller kann dieses Dashboard bearbeiten. Andere Benutzer mit entsprechenden Benutzerrollen können dieses Dashboard bearbeiten, wenn sie danach suchen.","dashboard.shareDialog.removeAccessGranteeTooltip":"Entfernt den Zugriff auf dieses Dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"Dies ist der Benutzer, der dieses Dashboard erstellt hat. Ersteller können nicht entfernt werden.","attributesDropdown.placeholder":"Sucht…","attributesDropdown.configuration":"Konfiguration","attributesDropdown.itemsFiltered":"Elemente wurden gefiltert","attributesDropdown.allItemsFiltered":"Alle Elemente sind ausgefiltert.","attributesDropdown.itemsFiltered.tooltip":"Elemente wurden nach: <strong>{filters}</strong> gefiltert","attributesDropdown.save":"Speichern","attributesDropdown.filterBy":"Filtern nach","attributesDropdown.displayValuesAs":"Werte anzeigen als","attributesDropdown.title":"Titel","attributesDropdown.title.reset":"Zurücksetzen","attributesDropdown.selectionMode":"Auswahl","attributesDropdown.selectionMode.multi":"Mehrere Werte","attributesDropdown.selectionMode.single":"Einzelner Wert","attributesDropdown.selectionMode.disabled.tooltip":"Die Auswahl einzelner Werte ist nicht zulässig, wenn Filter in den Filtereinstellungen ausgewählt sind. Um einzelne Werte auswählen zu können, deaktivieren Sie bitte alle Filter.","attributesDropdown.parentFilter.disabled.tooltip":"Das Filtern nach anderen Filtern ist für die Auswahl von einzelnen Werten deaktiviert. Um Filtereinstellungen festzulegen, wählen Sie die Auswahl von mehreren Werten.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> kann nicht nach <strong>{parentTitle}</strong> gefiltert werden. Es besteht keine Verbindung zwischen den Filterattributen und dem Datenmodell.","attributesDropdown.details.dataset":"Dataset","attributesDropdown.details.values":"Werte","attributesDropdown.details.shortening_decoration":"…und {count} weitere","attributesDropdown.removeTooltip":"Vom Dashboard entfernen","layout.header.characters.left":"Noch {currentCharactersCount}/{maximumCharactersCount} Zeichen","layout.header.add.title.placeholder":"Titel hier hinzufügen...","layout.header.add.description.placeholder":"Beschreibung hier hinzufügen...","error":"Fehler","controlButtons.edit.value":"Bearbeiten","controlButtons.saveAndPublish.value":"Speichern und veröffentlichen","controlButtons.save.value":"Speichern","controlButtons.saveAndPublish.title":"Alle Änderungen sind sofort für alle sichtbar, die auf dieses Dashboard zugreifen können.","controlButtons.saveAsPrivate.title":"Alle Änderungen werden gespeichert.","controlButtons.saveAndPublish.disable.empty.title":"Leere Dashboards können nicht gespeichert werden","controlButtons.saveAndPublish.disable.noChanges.title":"Es gibt keine Änderungen, die gespeichert werden könnten","controlButtons.saving.value":"Speichert…","gs.visualizationsList.tabs.all":"alle","gs.visualizationsList.tabs.my":"von mir erstellt","visualizationsList.noInsights":"Dieser Workspace enthält keine Betrachtungen.","visualizationsList.create":"Betrachtung erstellen","visualizationsList.noUserInsights":"Keine Betrachtungen erstellt.","visualizationsList.noVisualizationsFound":"Keine übereinstimmende Betrachtung.","search_insights":"Alle durchsuchen…","save.as.new":"Als neu speichern","addPanel.deleteItem":"Zum Entfernen loslassen","addPanel.newItem":"Neues Element","addPanel.attributeFilter":"Attributsfilter","addPanel.filter":"Filter","addPanel.attributeFilter.tooltip.no_attributes":"Der Attributfilter erfordert ein Attribut.","addPanel.attributeFilter.tooltip.no_items":"Der Filter erfordert ein Attribut oder einen Datumsdatensatz.","addPanel.attributeFilter.tooltip.no_attributes.link":"Weitere Informationen","addPanel.kpi":"Kritischer Leistungsindikator","addPanel.kpi.tooltip.no_measures._measure":"Der Kritische Leistungsindikator erfordert eine berechnete Messung.","addPanel.kpi.tooltip.no_measures._metric":"Der Kritische Leistungsindikator erfordert eine Metrik.","addPanel.kpi.tooltip.no_measures.link":"Weitere Informationen","visualizationsList.dragToAdd":"Zum Hinzufügen loslassen","visualizationsList.savedVisualizations":"Gespeicherte Betrachtungen","configurationPanel.drillConfig.selectDashboard":"Dashboard auswählen…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Alle Dashboards durchsuchen…","configurationPanel.drillConfig.forbiddenDashboard":"(Nicht mit Ihnen geteilt)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"Dieses Dashboard wird nicht mit Ihnen geteilt, aber andere Benutzer haben Zugriff auf dieses Dashboard.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"Dieses Dashboard wird nicht mit Ihnen geteilt, aber alle Benutzer können darauf zugreifen, wenn sie danach suchen.","configurationPanel.remove.form.dashboard":"Vom Dashboard entfernen","filterBar.filter.drop":"zum Hinzufügen loslassen","filterBar.filter.addFilterPlaceholder":"{icon} hierher ziehen","filterBar.filter.dropzone.tooltip":"Ziehen Sie den Attributfilter hierher.","filterBar.filter.dropzone.tooltip.generic":"Ziehen Sie den Filter hierher.","configurationPanel.title":"Konfiguration","configurationPanel.comparison":"Vergleich","configurationPanel.compareWith":"Vergleichen mit","configurationPanel.increasingNumberIs":"Steigender Wert ist","configurationPanel.comparisonTypeItems.previousPeriod":"Vorheriger Zeitraum","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Gleicher Zeitraum des Vorjahres","configurationPanel.comparisonTypeItems.noComparison":"Kein Vergleich","configurationPanel.comparisonDirectionItems.green":"Grün","configurationPanel.comparisonDirectionItems.red":"Rot","configurationPanel.unlistedMetric._measure":"Nicht aufgeführte Messung","configurationPanel.unlistedMetric._metric":"Nicht aufgeführte Metrik","configurationPanel.unlistedMetricIconTitle._measure":"Diese Messung wird ausgeblendet. Nur Sie können sie sehen.","configurationPanel.unlistedMetricIconTitle._metric":"Diese Metrik ist ausgeblendet. Nur Sie können sie sehen.","configurationPanel.selectMeasurePlaceholder._measure":"Messung auswählen…","configurationPanel.selectMeasurePlaceholder._metric":"Metrik auswählen…","configurationPanel.selectComparisonPlaceholder":"Wählt Vergleich aus…","configurationPanel.selectComparisonDirectionPlaceholder":"Positive/negative auswählen","configurationPanel.measure._measure":"Messung","configurationPanel.measure._metric":"Metrik","configurationPanel.filterBy":"Filtern nach","configurationPanel.date":"Datum","configurationPanel.dateAs":"als","configurationPanel.vizCantBeFilteredByAttribute":"Die Betrachtung kann nicht nach {attributeName} gefiltert werden. Deaktivieren Sie das Kontrollfeld.","configurationPanel.kpiCantBeFilteredByAttribute":"KPI kann nicht nach {attributeName} gefiltert werden. Markierung des Kontrollfelds entfernen.","configurationPanel.vizCantBeFilteredByDate":"Die Betrachtung kann nicht nach Datum gefiltert werden. Deaktivieren Sie das Kontrollfeld.","configurationPanel.kpiCantBeFilteredByDate":"KPI kann nicht nach Datum gefiltert werden. Markierung des Kontrollfelds entfernen.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" kann nicht mehr auf die Betrachtung angewandt werden. Wählen Sie eine andere Einheit oder bearbeiten Sie die Betrachtung.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" kann nicht mehr auf den kpi angewandt werden. Wählen Sie eine andere Dimension oder bearbeiten Sie den KPI.","configurationPanel.breakAlertWarning":"\\n            Nutzer haben {numAlerts} {numAlerts, select, 1 {Benachrichtigung} other {Benachrichtigungen}}\\n            für diese KPI eingerichtet. Eine Änderung der KPI wirkt sich auf {numAlerts, select, 1 {dies Benachrichtungen} other {diese Benachrichtungen}} aus.\\n","configurationPanel.drillIntoDashboard":"Dashboard verfeinern","configurationPanel.noLinkableDashboards":"Kein Dashboard zum Verbinden mit","configurationPanel.selectDashboard":"Ein Dashboard auswählen","configurationPanel.interactions":"Interaktionen","configurationPanel.drillConfig.interactions":"Drill-Interaktionen","configurationPanel.drillConfig.addInteraction":"Interaktion hinzufügen","configurationPanel.drillConfig.clickHint":"Beim Klicken auf","configurationPanel.drillConfig.measureValue._measure":"Messwert","configurationPanel.drillConfig.measureValue._metric":"Wert von Metrik","configurationPanel.drillConfig.attributeValue":"Attributwert","configurationPanel.drillConfig.selectTarget":"Ich möchte","configurationPanel.drillConfig.clickHintItem":"Wenn ich auf <addon>(Wert von)</addon> klicke","configurationPanel.drillConfig.drillIntoDashboard":"Dashboard verfeinern","configurationPanel.drillConfig.drillIntoInsight":"Betrachtung verfeinern","configurationPanel.drillConfig.drillDown":"Drill-Down","configurationPanel.drillConfig.disableDrillDownTooltip":"Der Drill-Down ist für diese Betrachtung deaktiviert.","configurationPanel.drillConfig.drillIntoUrl":"URL-Ansicht verfeinern","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Ungültige URL-Parameter","configurationPanel.drillConfig.select":"Befehl auswählen…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"Der Datumsattributwert aus der Betrachtung wird nicht übertragen, um das Ziel-Dashboard zu filtern.","configurationPanel.unlistedDashboardTab":"Nicht aufgeführtes Dashboard","configurationPanel.visualprops.sectionTitle":"Titel","configurationPanel.visualprops.hideTitle":"Titel ausblenden","configurationPanel.visualprops.sectionDescription":"Beschreibung","configurationPanel.visualprops.inheritDescription":"Erben","configurationPanel.visualprops.inheritDescriptionHelp":"Übernehmen Sie die Beschreibung aus der Betrachtung.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Übernehmen Sie die Beschreibung von der Metrik.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Übernehmen Sie die Beschreibung von der Messung.","configurationPanel.visualprops.customDescription":"Benutzerdefiniert","configurationPanel.visualprops.customDescriptionHelp":"Fügen Sie eine benutzerdefinierte Beschreibung für diese Instanz der Betrachtung hinzu.","configurationPanel.visualprops.customKpiDescriptionHelp":"Fügen Sie eine benutzerdefinierte Beschreibung hinzu.","configurationPanel.visualprops.noneDescription":"Keine","configurationPanel.visualprops.includeMetrics._measure":"Messbeschreibungen einbeziehen","configurationPanel.visualprops.includeMetrics._metric":"Metrikbeschreibungen einbeziehen","configurationPanel.visualprops.includeMetricsHelp._measure":"Anzeigebereich mit einer Liste der Messungen einer Betrachtung und deren Beschreibung.","configurationPanel.visualprops.includeMetricsHelp._metric":"Anzeigebereich mit einer Liste der Metriken einer Betrachtung und deren Beschreibung.","configurationPanel.visualprops.descriptionPlaceholder":"Beschreibung hinzufügen…","configurationPanel.drillIntoUrl.defaultButtonValue":"URL auswählen","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hyperlink in Attributsbeschriftung","configurationPanel.drillIntoUrl.customUrlSectionTitle":"Eigene URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Eigene URL hinzufügen","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Eigene URL bearbeiten","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parameter","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Parameter sind Platzhalter, die beim Verfeinern mit dynamischen Werten ersetzt werden.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Hinzufügen","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Typ","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Bezeichnung","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Wert} other {Werte}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"... und {count} weitere","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"Betrachtungs-ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"Client-ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"Daten Produkt-ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"Projekt-ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"Workspace-ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"Widget-ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"Dashboard-ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Kennung","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Betrachtung","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identifikatoren","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"Dashboard","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Übernehmen","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Abbrechen","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"URL eingeben und Parameter aus dem rechten Bereich einfügen.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Wie erstelle ich eigene URL?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Ungültige Parameter: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Eigene URL hinzufügen","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Eigene URL bearbeiten","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Attributsbeschriftungswert","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Geo-Attributswert","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"URL-Attributswert","configurationPanel.zoomInsight":"Vergrößerbare Betrachtung","configurationPanel.zoomInsight.help":"Aktivieren Sie Vergrößern der Betrachtung für eine detaillierte Ansicht. Halten Sie die Umschalttaste gedrückt, um den vergrößerten Bereich zu verschieben.","configurationPanel.zoomInsight.notice":"Vergrößern wird nicht auf exportierte Dashboards angewendet","configurationPanel.drillConfig.selectInsight":"Betrachtung auswählen…","gs.date.date-dataset.recommended":"Empfohlen","gs.date.date-dataset.other":"Andere","gs.date.date-dataset.related":"Zugehörig","gs.date.date-dataset.unrelated":"Nicht zugehörig","gs.date.date-dataset.unrelated_hidden":"{count} irrelevante {count, plural, one {Datumsangabe} other {Datumsangaben}} {isShow, select, true {sichtbar} other {ausgeblendet}}.","gs.date.date-dataset.unrelated.show":"Anzeigen","gs.date.date-dataset.unrelated.hide":"Verbergen","gs.date.date-dataset.duplicityWarning":"Ein anderer Filter verwendet denselben Datumsdatensatz. Deaktivieren Sie diesen Filter oder legen Sie ein anderes Datum fest.","layout.widget.width.min":"Widget hat minimale Breite","layout.widget.width.max":"Das Widget kann nicht breiter sein","layout.widget.height.min":"Das Widget befindet sich auf der minimalen Höhe","layout.widget.height.max":"Das Widget befindet sich auf der maximalen Höhe","layout.widget.addedByPlugin":"Über Plugin hinzugefügt","layout.widget.modifiedByPlugin":"Über Plugin bearbeitet","layout.widget.hideOverlay":"Overlay ausblenden","dropzone.new.row.desc":"Zum Erstellen eines{nbsp}<b>neuen Bereichs</b> ablegen","dropzone.widget.desc":"<b>Hier</b> ablegen","dropzone.widget.last.in.row.desc":"Im <b>vorhandenen Abschnitt</b> ablegen","deleteKpiConfirmationDialog.headline":"KPI löschen","deleteKpiConfirmationDialog.message":"Alle für diesen KPI eingerichteten Alarme werden ebenfalls gelöscht.","deleteKpiConfirmationDialog.submitButtonText":"Löschen","newDashboard.title":"Betrachtungen hierher ziehen","newDashboard.dropInsight":"Betrachtung ablegen","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> ist bereits durch <strong>{childTitle}</strong> gefiltert, filtern Sie direkt oder durch andere Filter.","attributesDropdown.attributeNameWithData":"mit Daten von","filter.visibilityMode.tooltip.hidden":"Dieser Filter ist ausgeblendet. Der Zugriff ist nur über den Bearbeitungsmodus möglich.","filter.visibilityMode.tooltip.readonly.editMode":"Dieser Filter ist gesperrt. Es kann nur über den Bearbeitungsmodus geändert werden.","filter.visibilityMode.tooltip.readonly.viewMode":"Dieser Filter ist gesperrt.","filter.resetButton.tooltip":"Alle Filter zurücksetzen","dateFilterDropdown.save":"Speichern","filter.configuration.mode.title":"Modus","filter.configuration.mode.interactive.title":"Interaktiv","filter.configuration.mode.interactive.tooltip":"Dashboard-Benutzer können den Filter sehen und ändern.","filter.configuration.mode.locked.title":"Gesperrt","filter.configuration.mode.locked.tooltip":"Dashboard-Benutzer können den Filter sehen, ihn aber nicht ändern.","filter.configuration.mode.hidden.title":"Ausgeblendet","filter.configuration.mode.hidden.tooltip":"Dashboard-Benutzer können den Filter nicht sehen, er ist jedoch angewendet.","filter.dependency.icon.tooltip":"Die verfügbaren Werte für <strong>{filterTitle}</strong> werden durch die Auswahl in einem anderen Filter eingeschränkt.","configurationPanel.drillConfig.alreadyUsedTooltip":"Diese <strong>Hierarchie</strong> wird bereits für <strong>denselben</strong> Drilldown verwendet."}'),NI=JSON.parse('{"loading":"Cargando…","untitled":"Sin título","empty_value":"valor vacío","gs.list.cancel":"Cancelar","gs.list.apply":"Aplicar","gs.list.only":"Solo","messages.dashboardSaveSuccess":"Genial. Hemos guardado su panel.","options.menu.save.as":"Guardar como nuevo","options.menu.save.as.tooltip":"No se puede guardar el panel vacío.","messages.dashboardSaveFailed":"Error al guardar panel. Vuelva a intentarlo.","messages.dashboard.invalidDrills.title":"<b>Se han eliminado algunas interacciones</b>","messages.dashboard.invalidDrills.body.modern._measure":"Se ha cambiado o eliminado algún(a) panel/perspectiva/medida/atributo, lo que ha provocado que se hayan quitado algunas interacciones de los siguientes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Se ha cambiado o eliminado algún(a) panel/perspectiva/métrica/atributo, lo que ha provocado que se hayan quitado algunas interacciones de los siguientes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Algunas de las interacciones de exploración hasta la URL no están funcionando</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Los parámetros de URL no válidos en sus URL personalizas están provocando que las interacciones de exploración hasta la URL den error en estos widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Mostrar más","messages.dashboard.expandable.showLess":"Mostrar menos","messages.drill.InteractionConfiguredSuccess":"Interacción configurada.","messages.drill.InteractionUpdatedSuccess":"Interacción actualizada.","filterBar.showAll":"Mostrar todo","filterBar.showLess":"Mostrar menos","options.menu.export.PDF":"Exportar a PDF","options.menu.schedule.email":"Programar el envío de correos","options.menu.delete":"Eliminar","dialogs.export.cells":"CELDAS","dialogs.export.filters":"CONTEXTO DE LA PERSPECTIVA","dialogs.export.includeFilters":"Incluir filtros aplicados","dialogs.export.headline":"Exportar a XLSX","dialogs.export.mergeHeaders":"Mantener fusionadas las celdas de atributos","dialogs.export.submit":"Exportar","dialogs.schedule.email.delete.success":"¡Hecho! Se ha eliminado el correo electrónico programado.","dialogs.schedule.email.submit.success":"¡Hecho! Su panel se ha configurado para el envío de correos.","dialogs.schedule.email.submit.error":"Error al programar el panel. Inténtelo de nuevo más tarde.","dialogs.schedule.email.save.success":"¡Hecho! Se ha guardado la programación.","dialogs.schedule.email.save.error":"Error al guardar la programación. Inténtelo de nuevo más tarde.","dialogs.save.as.new.title":"Guardar panel como nuevo","dialogs.save.as.new.desc":"Póngale a su nuevo panel un nombre descriptivo nuevo para que después sea más fácil de encontrar.","dialogs.save.as.new.default.title":"Copia de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"La programación de los correos electrónicos y las alertas no se duplicará","dialogs.save.as.new.alertsMessage":"Las alertas no se duplicarán","dialogs.save.as.new.emailsMessage":"La programación de los correos no se duplicará","cancelConfirmationDialog.headline":"¿Desea descartar los cambios?","cancelConfirmationDialog.message":"Se perderán todos los cambios","cancelConfirmationDialog.submitButtonText":"Descartar cambios","deleteDashboardDialog.headline":"¿Desea eliminar el panel?","deleteDashboardDialog.submitButtonText":"Eliminar","deleteDashboardDialog.alertsAndEmailsMessage":"Todas las alertas y los correos programados configurados para este panel también se eliminarán.","deleteDashboardDialog.alertsMessage":"Todas las alertas establecidas para este panel también se eliminarán.","deleteDashboardDialog.emailsMessage":"Todos los correos electrónicos programados configurados para este panel también se eliminarán.","deleteDashboardDialog.drillMessage":"Se eliminarán todas las exploraciones de otros paneles que lleven a este panel.","create.dashboard":"Crear panel","drill_modal_picker.drill-down":"Exploración vertical","drill_modal_picker.drill-into":"Explorar hasta","drill_modal_picker.cross-filter":"Filtro cruzado","drill_modal_picker.more.details":"Más detalles","drillModal.backToTop":"Volver al principio","filters.allTime.previousPeriod":"period. prev.","filters.allTime.lastYear":"año prev.","filters.minute.previousPeriod":"minuto prev.","filters.hour.previousPeriod":"hora prev.","filters.day.previousPeriod":"{n, plural, one {día} other {#d}} prev.","filters.week.previousPeriod":"{n, plural, one {semana} other {#s}} prev.","filters.month.previousPeriod":"{n, plural, one {mes} other {#m}} prev.","filters.quarter.previousPeriod":"{n, plural, one {trimestre} other {#t}} prev.","filters.year.previousPeriod":"{n, plural, one {año} other {#a}} prev.","filters.alertMessage.relativePreset":"en {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"en el periodo {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Hay más de una configuración de filtro de fechas de proyecto asociada a este proyecto. Se ha utilizado la primera.","filters.config.warning.multipleWorkspacesConfigs":"Hay más de una configuración de filtro de fechas de espacio de trabajo asociada a este espacio de trabajo. Se ha utilizado la primera.","filters.config.warning.selectedFilterNotValid":"La opción de filtro predeterminada no es válida; utilice la primera opción disponible en su lugar.","filters.config.warning.allOptionsHidden":"La configuración del filtro de fechas del panel se ha ignorado porque habría ocultado todas las opciones de filtros.","filters.config.warning.conflictingIdentifiers":"La configuración del filtro de fechas del panel se ha ignorado porque contiene opciones de filtro de fechas con identificadores idénticos.","filters.config.warning.notAvailable":"La configuración del filtro de fechas del proyecto no está definida o no tiene permiso para acceder a ella.","filters.config.warning.workspace.notAvailable":"La configuración del filtro de fechas del espacio de trabajo no está definida o no tiene permiso para acceder a ella.","filters.configurationPanel.header":"Configuración","filters.configurationPanel.sectionHeader.interactions":"Interacciones","filters.configurationPanel.crossFiltering.toggle":"Filtrado cruzado","kpi.noData":"No hay datos para la configuración actual de filtro. Intente cambiar los filtros.","kpiPop.change":"cambio","dialogs.schedule.email.filters":"El panel contiene cambios en los filtros que se guardarán en la programación.","dialogs.schedule.email.filters.not.saved":"Los filtros del panel guardados en la programación no se verán afectados.","dialogs.schedule.email.attachment.filter":"(con los filtros establecidos actualmente)","dialogs.schedule.email.attachment.label":"Adjunto:","dialogs.schedule.email.attachments.label":"Adjuntos:","dialogs.schedule.email.attachment.select":"Seleccione los adjuntos","dialogs.schedule.email.attachment.select.disabled.message":"Este panel no contiene ninguna perspectiva.","dialogs.schedule.email.attachment.select.dashboard.header":"Panel (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Perspectivas (CSV, XLSX)","dialogs.schedule.email.headline":"Programe el envío de correos","dialogs.schedule.email.heading":"Programe la exportación","dialogs.schedule.email.message.label":"Mensaje:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 destinatario se dio de baja} other {# destinatarios se dieron de baja}} de esta programación.","dialogs.schedule.email.repeats.label":"Repeticiones:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"el {date} día","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"el {week, select, 1 {primer} 2 {segundo} 3 {tercer} 4 {cuarto} other {último}} {day}","dialogs.schedule.email.repeats.every":"cada","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {día} other {días}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {mes} other {meses}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semana} other {semanas}}","dialogs.schedule.email.repeats.types.custom":"Personalizado","dialogs.schedule.email.repeats.types.daily":"Diario","dialogs.schedule.email.repeats.types.monthly":"Mensualmente el {week, select, 1 {primer} 2 {segundo} 3 {tercer} 4 {cuarto} other {último}} {day}","dialogs.schedule.email.repeats.types.weekly":"Semanalmente el {day}","dialogs.schedule.email.subject.label":"Asunto:","dialogs.schedule.email.time.label":"Primer evento:","dialogs.schedule.email.to.label":"Para:","dialogs.schedule.email.message.placeholder":"Hola:\\n\\nEl correo programado está listo. Puede descargar el panel en los adjuntos.","dialogs.schedule.email.submit":"Programar","dialogs.schedule.email.save":"Guardar","dialogs.schedule.email.format.options":"Opciones de formato","dialogs.schedule.email.insight.format":"Formato de la perspectiva:","dialogs.schedule.email.attribute.merged":"Mantener fusionadas las celdas de atributos","dialogs.schedule.email.show.filters":"Mostrar qué filtros se aplican","dialogs.schedule.management.title":"Exportaciones programadas","dialogs.schedule.management.delete":"Eliminar la programación","dialogs.schedule.management.delete.dialog":"¿Eliminar la programación?","dialogs.schedule.management.delete.dialog.confirm":"<b>La programación</b> se eliminará permanentemente.","dialogs.schedule.management.noSchedules":"El panel no contiene ninguna exportación programada.{br}Añada una ahora.","dialogs.schedule.management.noSchedules.byUser":"Todavía no ha programado ninguna exportación.{br}Añada una ahora.","dialogs.schedule.management.addSchedule":"Añadir programación","dialogs.schedule.management.recipients":"{n, plural, one {# destinatario} other {# destinatarios}}","dialogs.schedule.management.recipients.onlyYou":"Solo usted","dialogs.schedule.management.attachments.dashboard":"Panel","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# perspectiva} other {# perspectivas}}","dialogs.schedule.management.attachments.mixed":"Panel y {n, plural, one {# perspectiva} other {# perspectivas}}","dialogs.schedule.management.load.error":"Error al cargar. Inténtelo de nuevo más tarde.","dialogs.schedule.management.delete.error":"Error al eliminar la programación. Inténtelo de nuevo más tarde.","dialogs.schedule.management.tab.all":"todo","dialogs.schedule.management.tab.user":"creado por mí","options.menu.schedule.email.recipient.invalid":"Debe introducir una dirección de correo electrónico válida.","options.menu.schedule.email.recipient.warning.existed":"Ya ha añadido a este destinatario.","options.menu.schedule.email.recipient.warning.belong.workspace":"Esta dirección de correo electrónico no pertenece a este espacio de trabajo. Es posible que el destinatario reciba datos confidenciales.","options.menu.schedule.email.recipient.external.not.allowed":"Esta dirección de correo electrónico no pertenece a este espacio de trabajo. Solo el autor de la programación puede añadir esta dirección de correo electrónico.","delete":"Eliminar","close":"Cerrar","cancel":"Cancelar","gs.date.at":"en","gs.date.today":"Hoy","gs.date.tomorrow":"Mañana","gs.date.yesterday":"Ayer","kpi.alertBox.title":"Establecer una alerta para cambio en KPI","kpi.alertBox.example":"p. ej.","kpi.alertBox.unverifiedEmail":"Lo sentimos, no puede establecer una alerta. Asegúrese de que su correo electrónico está verificado. Si prosigue el problema, pídale a su administrador que actualice sus permisos.","kpi.alertBox.disabledInReadOnly":"Las alertas están desactivadas en el modo de solo lectura","kpi.error.view":"No se puede mostrar el KPI. Póngase en contacto con su administrador para solucionar la definición del KPI.","kpiAlertDialog.delete":"Eliminar","kpiAlertDialog.deleting":"Eliminando…","kpiAlertDialog.emailMe":"Enviarme un correo electrónico","kpiAlertDialog.emailMeWhen":"{emailMe} cuando este KPI sea","kpiAlertDialog.emailInfo":"El correo electrónico se enviará a {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Este número no es válido.</strong>{br}Compruébelo de nuevo e inténtelo otra vez.","kpiAlertDialog.filtersDiffer":"El KPI está filtrado de manera distinta a cuando se estableció la alerta.","kpiAlertDialog.filtersApply":"Aplicar filtros de alerta al panel","kpiAlertDialog.savingFailed":"Error al guardar la alerta. Vuelva a intentarlo más tarde.","kpiAlertDialog.deleteingFailed":"Error al eliminar la alerta. Vuelva a intentarlo más tarde.","kpiAlertDialog.brokenAlert":"Alerta rota","kpiAlertDialog.brokenAlertAppeal":"Para ver el valor KPI correcto, actualice los filtros de esta alerta. También puede quitar la alerta.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Fecha","kpiAlertDialog.removedFilters":"Filtros quitados del panel","kpiAlertDialog.ignoredFilters":"Filtros omitidos para este kpi","kpiAlertDialog.updateTitle":"Actualizar","kpiAlertDialog.updateBrokenTitle":"Actualizar filtros","kpiAlertDialog.updatingTitle":"Actualizando…","kpiAlertDialog.updateBrokenFailed":"Error al actualizar filtros. Inténtelo de nuevo.","kpiAlertDialog.setTitle":"Establecer alerta","kpiAlertDialog.settingTitle":"Estableciendo…","kpiAlertDialog.threshold.above":"encima de","kpiAlertDialog.threshold.below":"abajo de","kpiAlertDialog.withAttributeFilters":"{numFilters} {numFilters, select, 1 {filtro más aplicado} other {filtros más aplicados}}","messages.exportResultError":"Error al exportar los datos. Inténtelo de nuevo más tarde.","messages.exportResultRestrictedError":"No puede exportar esta perspectiva porque contiene datos restringidos.","messages.exportResultStart":"Exportación en curso","messages.exportResultSuccess":"Exportación correcta.","messages.sharingChangedSuccess":"Uso compartido actualizado.","messages.sharingChangedError.general":"Error al actualizar los ajustes de uso compartido. Inténtelo de nuevo más tarde.","messages.sharingDialogError.general":"Error al cargar los ajustes de uso compartido. Inténtelo de nuevo más tarde.","visualization.dataTooLarge.headline":"Demasiados puntos de datos para ser mostrados","visualization.dataTooLarge.text":"Intente aplicar uno o más filtros a su panel.","visualization.execute_protected_report.headline":"No tiene permiso para ver este informe.","visualization.execute_protected_report.text":"Póngase en contacto con su administrador.","visualization.alert_not_supported":"No se admiten alertas en los periodos de fecha estáticos","visualization.empty.headline":"No existen datos para su selección de filtro","visualization.error.headline":"Lo sentimos, no podemos mostrar esta perspectiva","visualization.error.text":"Póngase en contacto con su administrador.","options.button.bubble":"Exportar datos de la perspectiva","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"No se puede exportar la perspectiva en estos momentos. Intente aplicar otros filtros o utilice unas medidas o unos atributos diferentes.","options.menu.unsupported.error._metric":"No se puede exportar la perspectiva en estos momentos. Intente aplicar otros filtros o utilice métricas o atributos diferentes.","options.menu.unsupported.loading":"No se puede exportar la perspectiva en estos momentos.","export.defaultTitle":"Perspectiva sin título","export_unsupported.disabled":"La exportación no es compatible","widget.options.menu.exportToCSV":"Exportar a CSV","widget.options.menu.exportToXLSX":"Exportar a XLSX","widget.options.menu.scheduleExport":"Programe la exportación","share.button.text":"Compartir","dashboard.error.empty.heading":"Este panel está vacío","dashboard.error.empty.text":"Se eliminaron todas las perspectivas.","dashboard.shareDialog.underLenientControl.label":"Otros usuarios pueden acceder a este panel si exploran hacia él","dashboard.shareDialog.lock.label":"Solo los administradores pueden editar este panel","header.lockStatus.tooltip":"<b>Este panel está bloqueado.</b> Solo los administradores pueden editar este panel.","header.shareStatus.private.text":"Privado","header.shareStatus.private.strict.tooltip":"Solo usted puede visualizar y editar este panel.","header.shareStatus.private.not.strict.tooltip":"El creador puede editar este panel. Otros usuarios con funciones de usuario apropiadas pueden editar este panel cuando exploren hacia él.","dashboard.shareDialog.removeAccessGranteeTooltip":"Eliminar acceso a este panel.","dashboard.shareDialog.removeAccessCreatorTooltip":"El usuario que creó este panel. Los creadores no se pueden eliminar.","attributesDropdown.placeholder":"Buscar…","attributesDropdown.configuration":"Configuración","attributesDropdown.itemsFiltered":"Los elementos se han filtrado","attributesDropdown.allItemsFiltered":"Todos los elementos están filtrados","attributesDropdown.itemsFiltered.tooltip":"Los elementos se han filtrado por: <strong>{filters}</strong>","attributesDropdown.save":"Guardar","attributesDropdown.filterBy":"Filtrar según","attributesDropdown.displayValuesAs":"Mostrar valores como","attributesDropdown.title":"Título","attributesDropdown.title.reset":"Restablecer","attributesDropdown.selectionMode":"Selección","attributesDropdown.selectionMode.multi":"Varios valores","attributesDropdown.selectionMode.single":"Valor único","attributesDropdown.selectionMode.disabled.tooltip":"No se pueden seleccionar valores únicos si hay filtros seleccionados en Filtrar por. Para usar la selección de valores únicos, desactive todos los filtros en Filtrar por.","attributesDropdown.parentFilter.disabled.tooltip":"La opción de filtrar por otros filtros está desactivada en la selección de valores únicos. Para usar Filtrar por, elija la selección de varios valores.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> no se puede filtrar por <strong>{parentTitle}</strong>. No hay ninguna conexión entre los atributos de filtro en el modelo de datos.","attributesDropdown.details.dataset":"Conjunto de datos","attributesDropdown.details.values":"Valores","attributesDropdown.details.shortening_decoration":"…y {count} más","attributesDropdown.removeTooltip":"Quitar del panel","layout.header.characters.left":"Quedan {currentCharactersCount} / {maximumCharactersCount} caracteres","layout.header.add.title.placeholder":"Añadir título aquí...","layout.header.add.description.placeholder":"Añadir descripción aquí...","error":"Error","controlButtons.edit.value":"Editar","controlButtons.saveAndPublish.value":"Guardar y publicar","controlButtons.save.value":"Guardar","controlButtons.saveAndPublish.title":"Todos los cambios serán visibles inmediatamente para quienes accedan a este panel.","controlButtons.saveAsPrivate.title":"Se guardarán todos los cambios.","controlButtons.saveAndPublish.disable.empty.title":"No se puede guardar un panel vacío","controlButtons.saveAndPublish.disable.noChanges.title":"No hay cambios que guardar","controlButtons.saving.value":"Guardando…","gs.visualizationsList.tabs.all":"todo","gs.visualizationsList.tabs.my":"creado por mí","visualizationsList.noInsights":"Este espacio de trabajo no contiene perspectivas.","visualizationsList.create":"Crear perspectiva","visualizationsList.noUserInsights":"No se ha creado ninguna perspectiva.","visualizationsList.noVisualizationsFound":"No coincide ninguna perspectiva.","search_insights":"Buscar perspectivas…","save.as.new":"Guardar como nuevo","addPanel.deleteItem":"Arrastre para eliminar","addPanel.newItem":"Nuevo elemento","addPanel.attributeFilter":"Filtro de atributo","addPanel.filter":"Filtro","addPanel.attributeFilter.tooltip.no_attributes":"El filtro de atributo requiere un atributo.","addPanel.attributeFilter.tooltip.no_items":"El filtro requiere un atributo o un conjunto de datos de fecha.","addPanel.attributeFilter.tooltip.no_attributes.link":"Más información","addPanel.kpi":"Indicador clave de rendimiento","addPanel.kpi.tooltip.no_measures._measure":"El indicador clave de rendimiento requiere una medida calculada.","addPanel.kpi.tooltip.no_measures._metric":"El indicador clave de rendimiento requiere una métrica.","addPanel.kpi.tooltip.no_measures.link":"Más información","visualizationsList.dragToAdd":"Arrastre para añadir","visualizationsList.savedVisualizations":"Perspectivas guardadas","configurationPanel.drillConfig.selectDashboard":"Elija un panel…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Buscar todos los paneles…","configurationPanel.drillConfig.forbiddenDashboard":"(No compartido con usted)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"El panel no se ha compartido con usted, pero otros usuarios tienen acceso a él.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"El panel no se ha compartido con usted, pero todos los usuarios pueden acceder a él si exploran hacia el panel.","configurationPanel.remove.form.dashboard":"Quitar del panel","filterBar.filter.drop":"arrastre para añadir","filterBar.filter.addFilterPlaceholder":"Arrastre {icon} aquí","filterBar.filter.dropzone.tooltip":"Arrastre el filtro de atributo aquí.","filterBar.filter.dropzone.tooltip.generic":"Arrastre el filtro aquí.","configurationPanel.title":"Configuración","configurationPanel.comparison":"Comparación","configurationPanel.compareWith":"Comparar con","configurationPanel.increasingNumberIs":"El número creciente es","configurationPanel.comparisonTypeItems.previousPeriod":"Periodo previo","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Mismo periodo en el año previo","configurationPanel.comparisonTypeItems.noComparison":"Sin comparación","configurationPanel.comparisonDirectionItems.green":"Verde","configurationPanel.comparisonDirectionItems.red":"Rojo","configurationPanel.unlistedMetric._measure":"Medida no listada","configurationPanel.unlistedMetric._metric":"Métrica no listada","configurationPanel.unlistedMetricIconTitle._measure":"Esta medida está oculta. Solo usted puede verla.","configurationPanel.unlistedMetricIconTitle._metric":"Esta métrica está oculta. Solo usted puede verla.","configurationPanel.selectMeasurePlaceholder._measure":"Seleccione una medida…","configurationPanel.selectMeasurePlaceholder._metric":"Seleccione una métrica…","configurationPanel.selectComparisonPlaceholder":"Seleccione una comparación…","configurationPanel.selectComparisonDirectionPlaceholder":"Seleccione positivo/negativo","configurationPanel.measure._measure":"Medida","configurationPanel.measure._metric":"Métrica","configurationPanel.filterBy":"Filtrar según","configurationPanel.date":"Fecha","configurationPanel.dateAs":"como","configurationPanel.vizCantBeFilteredByAttribute":"La perspectiva no puede filtrarse por {attributeName}. Desmarque la casilla de verificación.","configurationPanel.kpiCantBeFilteredByAttribute":"El KPI no se puede filtrar por {attributeName}. Deseleccione la casilla de verificación.","configurationPanel.vizCantBeFilteredByDate":"No se puede filtrar la perspectiva por fecha. Desmarque la casilla de verificación.","configurationPanel.kpiCantBeFilteredByDate":"El KPI no se puede filtrar por fecha. Deseleccione la casilla de verificación.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" no puede aplicarse más a la perspectiva. Seleccione una dimensión diferente o edite la perspectiva.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" ya no se puede aplicar al KPI. Seleccione otra dimensión o edite el KPI.","configurationPanel.breakAlertWarning":"\\n Los usuarios han configurado {numAlerts} {numAlerts, select, 1 {alerta} other {alertas}}\\n            para este KPI. Modificar el KPI afectará a {numAlerts, select, 1 {esta alerta} other {estas alertas}}.\\n","configurationPanel.drillIntoDashboard":"Explorar hasta el panel","configurationPanel.noLinkableDashboards":"No hay ningún panel con el que vincular","configurationPanel.selectDashboard":"Seleccione un panel","configurationPanel.interactions":"Interacciones","configurationPanel.drillConfig.interactions":"Interacciones de exploración","configurationPanel.drillConfig.addInteraction":"Añadir interacción","configurationPanel.drillConfig.clickHint":"Cuando haga clic en","configurationPanel.drillConfig.measureValue._measure":"Valor de medida","configurationPanel.drillConfig.measureValue._metric":"Valor de métrica","configurationPanel.drillConfig.attributeValue":"Valor de atributo","configurationPanel.drillConfig.selectTarget":"Deseo","configurationPanel.drillConfig.clickHintItem":"Cuando haga clic en <addon>(valor de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Explorar hasta el panel","configurationPanel.drillConfig.drillIntoInsight":"Explorar hasta la perspectiva","configurationPanel.drillConfig.drillDown":"Exploración vertical","configurationPanel.drillConfig.disableDrillDownTooltip":"La exploración vertical se ha desactivado en la configuración de esta perspectiva.","configurationPanel.drillConfig.drillIntoUrl":"Explorar hasta la URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Parámetros de URL no válidos","configurationPanel.drillConfig.select":"Elija una acción…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"El valor del atributo de fecha de la perspectiva no se transferirá para filtrar el panel de destino.","configurationPanel.unlistedDashboardTab":"Panel no listado","configurationPanel.visualprops.sectionTitle":"Título","configurationPanel.visualprops.hideTitle":"Ocultar título","configurationPanel.visualprops.sectionDescription":"Descripción","configurationPanel.visualprops.inheritDescription":"Heredado","configurationPanel.visualprops.inheritDescriptionHelp":"Heredar la descripción de la perspectiva.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Heredar la descripción de la métrica.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Heredar la descripción de la medida.","configurationPanel.visualprops.customDescription":"Personalizado","configurationPanel.visualprops.customDescriptionHelp":"Añadir una descripción personalizada para esta instancia de la perspectiva.","configurationPanel.visualprops.customKpiDescriptionHelp":"Añadir una descripción personalizada.","configurationPanel.visualprops.noneDescription":"Ninguno","configurationPanel.visualprops.includeMetrics._measure":"Incluir descripciones de las medidas","configurationPanel.visualprops.includeMetrics._metric":"Incluir descripciones de las métricas","configurationPanel.visualprops.includeMetricsHelp._measure":"Mostrar sección con la lista de las medidas de la perspectiva y su descripción.","configurationPanel.visualprops.includeMetricsHelp._metric":"Mostrar sección con la lista de las métricas de la perspectiva y su descripción.","configurationPanel.visualprops.descriptionPlaceholder":"Añadir descripción…","configurationPanel.drillIntoUrl.defaultButtonValue":"Elegir URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hiperenlace en etiqueta de atributo","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personalizada","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Añadir URL personalizada","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parámetros","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Los parámetros son marcadores de posición que se reemplazan con valores dinámicos durante la exploración.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Agregar","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Tipo","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Etiqueta","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valor} other {Valores}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...y {count} más","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"Id. de la perspectiva","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"Id. del cliente","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"Id. del producto de datos","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"Id. del proyecto","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"Id. del espacio de trabajo","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"Id. del widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"Id. del panel","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificador","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Perspectiva","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificadores","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"Panel","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Aplicar","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Cancelar","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Introduzca la URL y añada parámetros desde el panel derecho.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"¿Cómo crear URL personalizadas?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Parámetros no válidos: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Añadir URL personalizada","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valor de la etiqueta del atributo","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valor geográfico del atributo","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valor de la URL del atributo","configurationPanel.zoomInsight":"Perspectiva que se puede alejar/acercar","configurationPanel.zoomInsight.help":"Actívelo para acercar/alejar la perspectiva y mostrar una vista más detallada. Mantenga pulsada la tecla Mayús para hacer una panorámica del área acercada/alejada.","configurationPanel.zoomInsight.notice":"La opción de acercar/alejar no se aplica a los paneles exportados","configurationPanel.drillConfig.selectInsight":"Elija una perspectiva…","gs.date.date-dataset.recommended":"Recomendado","gs.date.date-dataset.other":"Otros","gs.date.date-dataset.related":"Relacionado","gs.date.date-dataset.unrelated":"No relacionado","gs.date.date-dataset.unrelated_hidden":"{count} {count, plural, one {fecha} other {fechas}} no relacionada(s) {isShow, select, true {visible(s)} other {oculta(s)}}.","gs.date.date-dataset.unrelated.show":"Mostrar","gs.date.date-dataset.unrelated.hide":"Ocultar","gs.date.date-dataset.duplicityWarning":"Otro filtro está usando el mismo conjunto de datos de fecha. Desactive este filtro o establezca una fecha diferente.","layout.widget.width.min":"El widget tiene el tamaño mínimo","layout.widget.width.max":"El widget está a su ancho máximo","layout.widget.height.min":"El widget está a su altura mínima","layout.widget.height.max":"El widget está a su altura máxima","layout.widget.addedByPlugin":"Añadido por el complemento","layout.widget.modifiedByPlugin":"Modificado por el complemento","layout.widget.hideOverlay":"Ocultar superposición","dropzone.new.row.desc":"Suelte para crear una{nbsp}<b>sección nueva</b>","dropzone.widget.desc":"Suelte <b>aquí</b>","dropzone.widget.last.in.row.desc":"Suelte en la <b>sección existente</b>","deleteKpiConfirmationDialog.headline":"Eliminar KPI","deleteKpiConfirmationDialog.message":"Todas las alertas establecidas para este KPI se eliminarán.","deleteKpiConfirmationDialog.submitButtonText":"Eliminar","newDashboard.title":"Arrastre aquí la perspectiva","newDashboard.dropInsight":"Soltar perspectiva","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> ya se ha filtrado por el filtro <strong>{childTitle}</strong> directamente o mediante otros filtros.","attributesDropdown.attributeNameWithData":"con datos de","filter.visibilityMode.tooltip.hidden":"Este filtro está oculto. Solo se puede acceder a él desde el modo Edición.","filter.visibilityMode.tooltip.readonly.editMode":"Este filtro está bloqueado. Solo se puede cambiar en el modo Edición.","filter.visibilityMode.tooltip.readonly.viewMode":"Este filtro está bloqueado.","filter.resetButton.tooltip":"Restablecer todos los filtros","dateFilterDropdown.save":"Guardar","filter.configuration.mode.title":"Modo","filter.configuration.mode.interactive.title":"Interactivo","filter.configuration.mode.interactive.tooltip":"Los usuarios del panel pueden ver y cambiar el filtro.","filter.configuration.mode.locked.title":"Bloqueado","filter.configuration.mode.locked.tooltip":"Los usuarios del panel pueden ver el filtro, pero no cambiarlo.","filter.configuration.mode.hidden.title":"Oculto","filter.configuration.mode.hidden.tooltip":"Los usuarios del panel no pueden ver el filtro, pero se aplica.","filter.dependency.icon.tooltip":"Los valores disponibles para <strong>{filterTitle}</strong> están limitados por la selección en otro filtro.","configurationPanel.drillConfig.alreadyUsedTooltip":"Esta <strong>jerarquía</strong> ya se usa para <strong>la misma</strong> exploración."}'),_I=JSON.parse('{"loading":"Chargement en cours…","untitled":"Sans titre","empty_value":"valeur vide","gs.list.cancel":"Annuler","gs.list.apply":"Appliquer","gs.list.only":"Uniquement","messages.dashboardSaveSuccess":"Votre tableau de bord a été enregistré.","options.menu.save.as":"Enregistrer sous un nouveau nom","options.menu.save.as.tooltip":"Un tableau de bord vide ne peut pas être enregistré.","messages.dashboardSaveFailed":"Échec d\'enregistrement du tableau de bord, réessayez.","messages.dashboard.invalidDrills.title":"<b>Certaines interactions ont été supprimées.</b>","messages.dashboard.invalidDrills.body.modern._measure":"Un ou plusieurs tableaux de bord/perceptions/mesures/attributs ont été modifiés ou supprimés. Par conséquent, certaines interactions ont été retirées des widgets suivants : <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Un ou plusieurs tableaux de bord/perceptions/métriques/attributs ont été modifiés ou supprimés. Par conséquent, certaines interactions ont été retirées des widgets suivants : <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Certaines interactions d\'URL d\'exploration ne fonctionnent pas</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Certains paramètres d\'URL non valides dans vos URL personnalisées entraînent une erreur dans les interactions des URL d\'exploration sur les widgets suivants : <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Montrer plus","messages.dashboard.expandable.showLess":"Montrer moins","messages.drill.InteractionConfiguredSuccess":"Interaction configurée","messages.drill.InteractionUpdatedSuccess":"Interaction modifiée","filterBar.showAll":"Afficher tout","filterBar.showLess":"Montrer moins","options.menu.export.PDF":"Exporter vers PDF","options.menu.schedule.email":"Programmer l\'envoi d\'e-mails","options.menu.delete":"Supprimer","dialogs.export.cells":"CELLULES","dialogs.export.filters":"CONTEXTE DE LA PERCEPTION","dialogs.export.includeFilters":"Inclure les filtres appliqués","dialogs.export.headline":"Exporter vers XLSX","dialogs.export.mergeHeaders":"Garder les cellules d\'attributs fusionnées","dialogs.export.submit":"Exporter","dialogs.schedule.email.delete.success":"Votre e-mail programmé a bien été supprimé.","dialogs.schedule.email.submit.success":"Le tableau de bord est programmé pour envoyer des e-mails.","dialogs.schedule.email.submit.error":"Échec de la programmation du tableau de bord. Réessayez plus tard.","dialogs.schedule.email.save.success":"Bravo ! Votre programme a été enregistré.","dialogs.schedule.email.save.error":"L\'enregistrement du programme a échoué. Veuillez réessayer.","dialogs.save.as.new.title":"Enregistrer en tant que nouveau tableau de bord","dialogs.save.as.new.desc":"Donnez au nouveau tableau de bord un nom descriptif pour le retrouver facilement.","dialogs.save.as.new.default.title":"Copie de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Les alertes et e-mails planifiés ne seront pas dupliqués.","dialogs.save.as.new.alertsMessage":"Les alertes ne seront pas dupliquées.","dialogs.save.as.new.emailsMessage":"Les e-mails planifiés ne seront pas dupliqués.","cancelConfirmationDialog.headline":"Ignorez les modifications?","cancelConfirmationDialog.message":"Toutes les modifications seront perdues","cancelConfirmationDialog.submitButtonText":"Ignorer les modifications","deleteDashboardDialog.headline":"Supprimez le tableau de bord?","deleteDashboardDialog.submitButtonText":"Supprimer","deleteDashboardDialog.alertsAndEmailsMessage":"Tous les e-mails programmés et alertes configurés pour ce tableau de bord seront aussi supprimés.","deleteDashboardDialog.alertsMessage":"Toutes les alertes configurées pour ce tableau de bord vont être également supprimées.","deleteDashboardDialog.emailsMessage":"Tous les e-mails planifiés configurés pour ce tableau de bord seront également supprimés.","deleteDashboardDialog.drillMessage":"Toutes les explorations de ce tableau de bord à partir d\'autres tableaux de bord seront aussi supprimées.","create.dashboard":"Créer un tableau de bord","drill_modal_picker.drill-down":"Exploration descendante","drill_modal_picker.drill-into":"Explorer","drill_modal_picker.cross-filter":"Filtres croisés","drill_modal_picker.more.details":"Plus de détails","drillModal.backToTop":"Haut de page","filters.allTime.previousPeriod":"période préc.","filters.allTime.lastYear":"année préc.","filters.minute.previousPeriod":"minute préc.","filters.hour.previousPeriod":"heure préc.","filters.day.previousPeriod":"préc. {n, plural, one {jour} other {#j}}","filters.week.previousPeriod":"préc. {n, plural, one {semaine} other {#s}}","filters.month.previousPeriod":"préc. {n, plural, one {mois} other {#m}}","filters.quarter.previousPeriod":"préc. {n, plural, one {trimestre} other {#t}}","filters.year.previousPeriod":"préc. {n, plural, one {année} other {#a}}","filters.alertMessage.relativePreset":"dans {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"de la période de {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Il y a plus d\'une configuration de filtre de date de projet associée à ce projet. La première a été utilisée.","filters.config.warning.multipleWorkspacesConfigs":"Il y a plus d\'une configuration de filtre de date d\'espace de travail associée à cet espace de travail. La première a été utilisée.","filters.config.warning.selectedFilterNotValid":"L\'option de filtre par défaut n\'est pas valide, la première option disponible est utilisée à la place.","filters.config.warning.allOptionsHidden":"La configuration de filtre de date de tableau de bord a été ignorée car elle aurait masqué toutes les options de filtre.","filters.config.warning.conflictingIdentifiers":"La configuration de filtre de date de tableau de bord a été ignorée, car elle contient des options de filtre de date avec des identifiants identiques.","filters.config.warning.notAvailable":"La configuration de filtre de date de projet est non définie ou vous n\'avez pas les autorisations nécessaires pour y accéder.","filters.config.warning.workspace.notAvailable":"La configuration de filtre de date d\'espace de travail n\'est pas définie ou vous n\'avez pas les autorisations nécessaires pour y accéder.","filters.configurationPanel.header":"Configuration","filters.configurationPanel.sectionHeader.interactions":"Interactions","filters.configurationPanel.crossFiltering.toggle":"Filtres croisés","kpi.noData":"Aucune donnée pour les paramètres de filtre actuels. Essayez de modifier les filtres.","kpiPop.change":"modifier","dialogs.schedule.email.filters":"Le tableau de bord contient des modifications de filtres qui seront enregistrés dans la planification.","dialogs.schedule.email.filters.not.saved":"Les filtres de tableau de bord enregistrés dans la planification ne sont pas affectés.","dialogs.schedule.email.attachment.filter":"(avec les filtres configurés actuellement)","dialogs.schedule.email.attachment.label":"Pièce jointe :","dialogs.schedule.email.attachments.label":"Pièces jointes :","dialogs.schedule.email.attachment.select":"Sélectionner les pièces jointes","dialogs.schedule.email.attachment.select.disabled.message":"Ce tableau de bord ne contient aucune perception.","dialogs.schedule.email.attachment.select.dashboard.header":"Tableau de bord (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Perception (CSV, XLSX)","dialogs.schedule.email.headline":"Programmer un envoi par e-mail","dialogs.schedule.email.heading":"Programmer l\'exportation","dialogs.schedule.email.message.label":"Message:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 destinataire désinscrit} other {# destinataires désinscrits}} de ce programme.","dialogs.schedule.email.repeats.label":"Se répète :","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"le {date} jour","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"le {week, select, 1 {premier} 2 {deuxième} 3 {troisième} 4 {quatrième} other {dernier}} {day}","dialogs.schedule.email.repeats.every":"toutes les","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {jour} other {jours}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {mois} other {mois}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semaine} other {semaines}}","dialogs.schedule.email.repeats.types.custom":"Personnalisé","dialogs.schedule.email.repeats.types.daily":"Quotidiennement","dialogs.schedule.email.repeats.types.monthly":"Mensuellement le {week, select, 1 {premier} 2 {deuxième} 3 {troisième} 4 {quatrième} other {dernier}} {day}","dialogs.schedule.email.repeats.types.weekly":"Hebdomadairement le {day}","dialogs.schedule.email.subject.label":"Objet:","dialogs.schedule.email.time.label":"Première occurrence :","dialogs.schedule.email.to.label":"À:","dialogs.schedule.email.message.placeholder":"Bonjour,\\n\\nvotre e-mail programmé est prêt. Vous pouvez télécharger le tableau de bord dans les pièces jointes.","dialogs.schedule.email.submit":"Planifier","dialogs.schedule.email.save":"Enregistrer","dialogs.schedule.email.format.options":"Options de format","dialogs.schedule.email.insight.format":"Format de perception:","dialogs.schedule.email.attribute.merged":"Garder les cellules d\'attributs fusionnées","dialogs.schedule.email.show.filters":"Montrer les filtres appliqués","dialogs.schedule.management.title":"Exportations programmées","dialogs.schedule.management.delete":"Supprimer la planification.","dialogs.schedule.management.delete.dialog":"Supprimer la planification ?","dialogs.schedule.management.delete.dialog.confirm":"<b>La planification</b> sera supprimée de façon définitive.","dialogs.schedule.management.noSchedules":"Le tableau de bord ne contient aucune exportation programmée.{br}Ajoutez-en une dès maintenant.","dialogs.schedule.management.noSchedules.byUser":"Vous n\'avez aucune exportation programmée.{br}Ajoutez-en une dès maintenant.","dialogs.schedule.management.addSchedule":"Ajouter planification","dialogs.schedule.management.recipients":"{n, plural, one {# destinataire} other {# destinataires}}","dialogs.schedule.management.recipients.onlyYou":"Vous uniquement","dialogs.schedule.management.attachments.dashboard":"Tableau de bord","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# perception} other {# perceptions}}","dialogs.schedule.management.attachments.mixed":"Tableau de bord et {n, plural, one {# perception} other {# perceptions}}","dialogs.schedule.management.load.error":"Le chargement a échoué. Veuillez réessayer plus tard.","dialogs.schedule.management.delete.error":"La suppression de la planification a échoué. Veuillez réessayer plus tard.","dialogs.schedule.management.tab.all":"tout","dialogs.schedule.management.tab.user":"créées par moi","options.menu.schedule.email.recipient.invalid":"Ceci n\'est pas une adresse e-mail valide.","options.menu.schedule.email.recipient.warning.existed":"Vous avez déjà ajouté ce destinataire.","options.menu.schedule.email.recipient.warning.belong.workspace":"Cette adresse e-mail ne fait pas partie de cet espace de travail. Le destinataire recevra peut-être des données sensibles.","options.menu.schedule.email.recipient.external.not.allowed":"Cette adresse e-mail ne fait pas partie de cet espace de travail. Seul l\'auteur du programme peut ajouter cette adresse e-mail.","delete":"Supprimer","close":"Fermer","cancel":"Annuler","gs.date.at":"à","gs.date.today":"Aujourd\'hui","gs.date.tomorrow":"Demain","gs.date.yesterday":"Hier","kpi.alertBox.title":"Définir une alerte lors de la modification du KPI","kpi.alertBox.example":"Par ex.","kpi.alertBox.unverifiedEmail":"Désolé, vous ne pouvez pas définir une alerte. Assurez-vous que votre e-mail est vérifié. Si cela n\'aide pas, demandez à votre administrateur de mettre à jour vos autorisations.","kpi.alertBox.disabledInReadOnly":"Les alertes sont désactivées en mode lecture seule","kpi.error.view":"Impossible d\'afficher le KPI. Contactez votre administrateur pour corriger la définition du KPI.","kpiAlertDialog.delete":"Supprimer","kpiAlertDialog.deleting":"Suppression en cours…","kpiAlertDialog.emailMe":"Envoyez-moi un e-mail","kpiAlertDialog.emailMeWhen":"{emailMe} lorsque ce KPI est","kpiAlertDialog.emailInfo":"L\'e-mail sera envoyé à {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Ce nombre n\'est pas valide.</strong>{br}Vérifiez-le et réessayez.","kpiAlertDialog.filtersDiffer":"KPI est à présent filtré différemment que lors de la configuration de l\'alerte.","kpiAlertDialog.filtersApply":"Appliquer les filtres d\'alerte au tableau de bord","kpiAlertDialog.savingFailed":"Échec de l\'enregistrement de l\'alerte. Réessayez.","kpiAlertDialog.deleteingFailed":"Échec de suppression de l\'alerte. Réessayez.","kpiAlertDialog.brokenAlert":"Alerte interrompue","kpiAlertDialog.brokenAlertAppeal":"Pour voir la valeur correcte de KPI, mettez à jour les filtres dans cette alerte. Vous pouvez également supprimer l\'alerte.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Date","kpiAlertDialog.removedFilters":"Filtres supprimés du tableau de bord","kpiAlertDialog.ignoredFilters":"Filtres ignorés pour ce KPI","kpiAlertDialog.updateTitle":"Mettre à jour","kpiAlertDialog.updateBrokenTitle":"Mettre à jour les filtres","kpiAlertDialog.updatingTitle":"Mise à jour en cours…","kpiAlertDialog.updateBrokenFailed":"Échec de mise à jour des filtres. Réessayez.","kpiAlertDialog.setTitle":"Définir l\'alerte","kpiAlertDialog.settingTitle":"Définition en cours…","kpiAlertDialog.threshold.above":"au-dessus de","kpiAlertDialog.threshold.below":"au-dessous de","kpiAlertDialog.withAttributeFilters":"{numFilters} plus {numFilters, select, 1 {filtre} other {filtres}} appliqués","messages.exportResultError":"Échec de l\'exportation des données. Réessayez plus tard.","messages.exportResultRestrictedError":"Vous ne pouvez pas exporter cette perception car elle contient des données à accès restreint.","messages.exportResultStart":"Exportation en cours","messages.exportResultSuccess":"Exportation effectuée","messages.sharingChangedSuccess":"Partage mis à jour.","messages.sharingChangedError.general":"La mise à jour des paramètres de partage a échoué. Veuillez réessayer ultérieurement.","messages.sharingDialogError.general":"Le chargement des paramètres de partage a échoué. Veuillez réessayer ultérieurement.","visualization.dataTooLarge.headline":"Trop de points de données à afficher","visualization.dataTooLarge.text":"Essayez d\'appliquer un ou plusieurs filtres à votre tableau de bord.","visualization.execute_protected_report.headline":"Vous n\'êtes pas autorisé à consulter ce rapport","visualization.execute_protected_report.text":"Contactez votre administrateur.","visualization.alert_not_supported":"Les alertes ne sont pas prises en charge sur la période de dates statique","visualization.empty.headline":"Aucune donnée pour votre sélection de filtre","visualization.error.headline":"Désolé, nous ne pouvons pas afficher cette perception","visualization.error.text":"Contactez votre administrateur.","options.button.bubble":"Exporter les données de perception","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"La perception ne peut pas être exportée à l\'heure actuelle. Essayez d\'appliquer d\'autres filtres ou d\'utiliser d\'autres mesures ou attributs.","options.menu.unsupported.error._metric":"La perception ne peut pas être exportée à l\'heure actuelle. Essayez d\'appliquer d\'autres filtres ou d\'utiliser d\'autres métriques ou attributs.","options.menu.unsupported.loading":"La perception ne peut pas être exportée à l\'heure actuelle.","export.defaultTitle":"Perception sans titre","export_unsupported.disabled":"L\'exportation n\'est pas prise en charge.","widget.options.menu.exportToCSV":"Exporter au format CSV","widget.options.menu.exportToXLSX":"Exporter vers XLSX","widget.options.menu.scheduleExport":"Programmer l\'exportation","share.button.text":"Partage","dashboard.error.empty.heading":"Ce tableau de bord est vide","dashboard.error.empty.text":"Toutes les perceptions ont été retirées.","dashboard.shareDialog.underLenientControl.label":"D\'autres utilisateurs peuvent accéder à ce tableau de bord s\'ils l\'explorent","dashboard.shareDialog.lock.label":"Seuls les administrateurs peuvent modifier ce tableau de bord","header.lockStatus.tooltip":"<b>Ce tableau de bord est verrouillé.</b> Seuls les administrateurs peuvent modifier ce tableau de bord.","header.shareStatus.private.text":"Privé","header.shareStatus.private.strict.tooltip":"Vous seul pouvez visualiser et modifier ce tableau de bord.","header.shareStatus.private.not.strict.tooltip":"Le créateur du tableau de bord peut modifier celui-ci. Les autres utilisateurs avec des rôles adéquats peuvent modifier le tableau de bord lorsqu\'ils l\'explorent.","dashboard.shareDialog.removeAccessGranteeTooltip":"Retirer l\'accès à ce tableau de bord.","dashboard.shareDialog.removeAccessCreatorTooltip":"L\'utilisateur qui a créé ce tableau de bord. Les créateurs ne peuvent pas être retirés.","attributesDropdown.placeholder":"Rechercher…","attributesDropdown.configuration":"Configuration","attributesDropdown.itemsFiltered":"Les éléments sont filtrés.","attributesDropdown.allItemsFiltered":"Tous les éléments ont été filtrés.","attributesDropdown.itemsFiltered.tooltip":"Les éléments sont filtrés par : <strong>{filters}</strong>","attributesDropdown.save":"Enregistrer","attributesDropdown.filterBy":"Filtrer par","attributesDropdown.displayValuesAs":"Affichage des valeurs","attributesDropdown.title":"Titre","attributesDropdown.title.reset":"Réinitialiser","attributesDropdown.selectionMode":"Sélection","attributesDropdown.selectionMode.multi":"Valeurs multiples","attributesDropdown.selectionMode.single":"Valeur unique","attributesDropdown.selectionMode.disabled.tooltip":"La sélection d\'une seule valeur n\'est pas autorisée si un ou plusieurs filtres sont sélectionnés dans Filtrer par. Pour utiliser la sélection de valeur unique, désactivez tous les filtres dans Filtrer par.","attributesDropdown.parentFilter.disabled.tooltip":"L\'utilisation d\'autres filtres est désactivée pour la sélection de valeur unique. Pour configurer la section Filtrer par, choisissez la sélection de valeurs multiples.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> ne peut pas être filtré par <strong>{parentTitle}</strong>. Il n\'existe aucune connexion entre les attributs du filtre dans le modèle de données.","attributesDropdown.details.dataset":"Ensemble de données","attributesDropdown.details.values":"Valeurs","attributesDropdown.details.shortening_decoration":"…et {count} de plus","attributesDropdown.removeTooltip":"Retirer du tableau de bord","layout.header.characters.left":"{currentCharactersCount}/{maximumCharactersCount} caractères restant","layout.header.add.title.placeholder":"Ajouter un titre ici...","layout.header.add.description.placeholder":"Ajouter une description ici...","error":"Erreur","controlButtons.edit.value":"Modifier","controlButtons.saveAndPublish.value":"Enregistrer et publier","controlButtons.save.value":"Enregistrer","controlButtons.saveAndPublish.title":"Toutes les modifications seront immédiatement visibles pour tous les utilisateurs qui ont accès à ce tableau de bord.","controlButtons.saveAsPrivate.title":"Toutes les modifications vont être enregistrées.","controlButtons.saveAndPublish.disable.empty.title":"Impossible d\'enregistrer un tableau de bord vide","controlButtons.saveAndPublish.disable.noChanges.title":"Il n\'y a aucun changement à enregistrer","controlButtons.saving.value":"Enregistrement en cours…","gs.visualizationsList.tabs.all":"tout","gs.visualizationsList.tabs.my":"créées par moi","visualizationsList.noInsights":"Cet espace de travail ne contient aucune perception.","visualizationsList.create":"Créer une perception","visualizationsList.noUserInsights":"Aucune perception créée.","visualizationsList.noVisualizationsFound":"Aucune perception correspondante.","search_insights":"Rechercher tout…","save.as.new":"Enregistrer sous un nouveau nom","addPanel.deleteItem":"Déposer pour supprimer","addPanel.newItem":"Nouvel élément","addPanel.attributeFilter":"Filtre d\'attribut","addPanel.filter":"Filtrer","addPanel.attributeFilter.tooltip.no_attributes":"Le filtre d\'attribut nécessite un attribut.","addPanel.attributeFilter.tooltip.no_items":"Le filtre nécessite un attribut ou un ensemble de données de date.","addPanel.attributeFilter.tooltip.no_attributes.link":"En savoir plus","addPanel.kpi":"Indicateur clé de performance","addPanel.kpi.tooltip.no_measures._measure":"L\'indicateur clé de performance nécessite une mesure calculée.","addPanel.kpi.tooltip.no_measures._metric":"L\'indicateur clé de performance nécessite une métrique.","addPanel.kpi.tooltip.no_measures.link":"En savoir plus","visualizationsList.dragToAdd":"Faire glisser pour ajouter","visualizationsList.savedVisualizations":"Perceptions enregistrées","configurationPanel.drillConfig.selectDashboard":"Choisir un tableau de bord…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Rechercher dans tous les tableaux de bord…","configurationPanel.drillConfig.forbiddenDashboard":"(Non partagé avec vous)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"Le tableau de bord n\'est pas partagé avec vous, mais d\'autres utilisateurs y ont accès.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"Le tableau de bord n\'est pas partagé avec vous, mais tous les utilisateurs peuvent y accéder s\'ils l\'explorent.","configurationPanel.remove.form.dashboard":"Retirer du tableau de bord","filterBar.filter.drop":"déposer pour ajouter","filterBar.filter.addFilterPlaceholder":"Faites glisser {icon} ici","filterBar.filter.dropzone.tooltip":"Faites glisser le filtre d\'attribut ici.","filterBar.filter.dropzone.tooltip.generic":"Faites glisser le filtre ici.","configurationPanel.title":"Configuration","configurationPanel.comparison":"Comparaison","configurationPanel.compareWith":"Comparer avec","configurationPanel.increasingNumberIs":"Le nombre croissant est","configurationPanel.comparisonTypeItems.previousPeriod":"Période précédente","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Même période de l\'année précédente","configurationPanel.comparisonTypeItems.noComparison":"Aucune comparaison","configurationPanel.comparisonDirectionItems.green":"Vert","configurationPanel.comparisonDirectionItems.red":"Rouge","configurationPanel.unlistedMetric._measure":"Mesure non répertoriée","configurationPanel.unlistedMetric._metric":"Métrique non répertoriée","configurationPanel.unlistedMetricIconTitle._measure":"Cette mesure est cachée. Vous seul pouvez la voir.","configurationPanel.unlistedMetricIconTitle._metric":"Cette métrique est cachée. Vous seul pouvez la voir.","configurationPanel.selectMeasurePlaceholder._measure":"Sélectionner la mesure…","configurationPanel.selectMeasurePlaceholder._metric":"Sélectionner la métrique…","configurationPanel.selectComparisonPlaceholder":"Sélectionner la comparaison…","configurationPanel.selectComparisonDirectionPlaceholder":"Sélectionner positif/négatif","configurationPanel.measure._measure":"Mesure","configurationPanel.measure._metric":"Métrique","configurationPanel.filterBy":"Filtrer par","configurationPanel.date":"Date","configurationPanel.dateAs":"comme","configurationPanel.vizCantBeFilteredByAttribute":"La perception ne peut pas être filtrée par {attributeName}. Décochez la case.","configurationPanel.kpiCantBeFilteredByAttribute":"Le KPI ne peut pas être filtré par {attributeName}. Décochez la case.","configurationPanel.vizCantBeFilteredByDate":"La perception ne peut pas être filtrée par Date. Décochez la case.","configurationPanel.kpiCantBeFilteredByDate":"Le KPI ne peut pas être filtré par Date. Décochez la case.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" ne peut plus être appliqué à la perception. Sélectionnez une dimension différente ou éditez la perception.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" ne peut plus être appliqué au KPI. Sélectionnez une dimension différente ou modifiez le KPI.","configurationPanel.breakAlertWarning":"\\n            Les utilisateurs ont défini {numAlerts} {numAlerts, select, 1 {alerte} other {alertes}}\\n            pour ce KPI. Le fait de modifier le KPI affectera {numAlerts, select, 1 {cette alerte} other {ces alertes}}.\\n","configurationPanel.drillIntoDashboard":"Explorer le tableau de bord","configurationPanel.noLinkableDashboards":"Aucun tableau de bord vers lequel lier","configurationPanel.selectDashboard":"Sélectionner un tableau de bord","configurationPanel.interactions":"Interactions","configurationPanel.drillConfig.interactions":"Explorer les interactions","configurationPanel.drillConfig.addInteraction":"Ajouter une interaction","configurationPanel.drillConfig.clickHint":"Lorsque je clique sur","configurationPanel.drillConfig.measureValue._measure":"Valeur de mesure","configurationPanel.drillConfig.measureValue._metric":"Valeur de métrique","configurationPanel.drillConfig.attributeValue":"Valeur d\'attribut","configurationPanel.drillConfig.selectTarget":"Je veux","configurationPanel.drillConfig.clickHintItem":"Lorsque je clique sur <addon>(valeur de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Explorer le tableau de bord","configurationPanel.drillConfig.drillIntoInsight":"Explorer la perception","configurationPanel.drillConfig.drillDown":"Exploration descendante","configurationPanel.drillConfig.disableDrillDownTooltip":"L\'exploration descendante est désactivée dans la configuration de cette perception.","configurationPanel.drillConfig.drillIntoUrl":"Explorer l\'URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Paramètres URL non valides","configurationPanel.drillConfig.select":"Choisir une action…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"La valeur de l\'attribut date de la perception ne sera pas transférée pour filtrer le tableau de bord cible.","configurationPanel.unlistedDashboardTab":"Tableau de bord non répertorié","configurationPanel.visualprops.sectionTitle":"Titre","configurationPanel.visualprops.hideTitle":"Masquer le titre","configurationPanel.visualprops.sectionDescription":"Description","configurationPanel.visualprops.inheritDescription":"Hériter","configurationPanel.visualprops.inheritDescriptionHelp":"Hériter de la description de la perception.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Hériter de la description de la métrique.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Hériter de la description de la mesure.","configurationPanel.visualprops.customDescription":"Personnalisé","configurationPanel.visualprops.customDescriptionHelp":"Ajouter une description personnalisée pour cette instance de la perception.","configurationPanel.visualprops.customKpiDescriptionHelp":"Ajouter une description personnalisée.","configurationPanel.visualprops.noneDescription":"Aucun(e)","configurationPanel.visualprops.includeMetrics._measure":"Inclure les descriptions des mesures","configurationPanel.visualprops.includeMetrics._metric":"Inclure les descriptions des métriques","configurationPanel.visualprops.includeMetricsHelp._measure":"Afficher une liste des mesures de la perception et leur description.","configurationPanel.visualprops.includeMetricsHelp._metric":"Afficher une liste des métriques de la perception et leur description.","configurationPanel.visualprops.descriptionPlaceholder":"Ajouter une description…","configurationPanel.drillIntoUrl.defaultButtonValue":"Sélectionner une URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hyperlien dans le libellé de l\'attribut","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personnalisée","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Ajouter une URL personnalisée","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Modifier une URL personnalisée","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Paramètres","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Les paramètres sont des éléments par défaut substitués par des valeurs dynamiques lors de l\'exploration.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Ajouter","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Type","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Libellé","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valeur} other {Valeurs}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...et {count} de plus","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"ID de la perception","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"ID du client","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"ID du produit de données","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"ID du projet","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ID de l\'espace de travail","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ID du widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ID du tableau de bord","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificateur","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Perception","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificateurs","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"Tableau de bord","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Appliquer","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Annuler","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Saisissez l\'URL et ajoutez des paramètres à partir du panneau de droite.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Comment créer des URL personnalisées ?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Paramètres non valides : {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Ajouter une URL personnalisée","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Modifier une URL personnalisée","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valeur du libellé de l\'attribut","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valeur géographique de l\'attribut","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valeur de l\'URL de l\'attribut","configurationPanel.zoomInsight":"Zoom sur la perception","configurationPanel.zoomInsight.help":"Zoomez sur une perception pour l\'afficher en détail. Maintenez la touche Maj enfoncée pour parcourir la zone agrandie.","configurationPanel.zoomInsight.notice":"Le zoom n\'est pas appliqué aux tableaux de bord exportés","configurationPanel.drillConfig.selectInsight":"Choisir une perception…","gs.date.date-dataset.recommended":"Recommandé","gs.date.date-dataset.other":"Autre","gs.date.date-dataset.related":"Associé","gs.date.date-dataset.unrelated":"Non associé","gs.date.date-dataset.unrelated_hidden":"{count} {count, plural, one {date} other {dates}} {isShow, select, true {visible(s)} other {masquée(s)}} sans rapport.","gs.date.date-dataset.unrelated.show":"Afficher","gs.date.date-dataset.unrelated.hide":"Masquer","gs.date.date-dataset.duplicityWarning":"Un autre filtre utilise le même ensemble de données de date. Désactivez ce filtre ou définissez une autre date.","layout.widget.width.min":"Le widget est à la largeur minimale","layout.widget.width.max":"Le widget est à la largeur maximale","layout.widget.height.min":"Le widget est à la hauteur minimale","layout.widget.height.max":"Le widget est à la hauteur maximale","layout.widget.addedByPlugin":"Ajouté par le plug-in","layout.widget.modifiedByPlugin":"Modifié par le plug-in","layout.widget.hideOverlay":"Masquer le chevauchement","dropzone.new.row.desc":"Déposer l\'élément pour créer une{nbsp}<b>nouvelle section</b>","dropzone.widget.desc":"Déposer <b>ici</b>","dropzone.widget.last.in.row.desc":"Déposer dans la <b>section existante</b>","deleteKpiConfirmationDialog.headline":"Supprimer le KPI","deleteKpiConfirmationDialog.message":"Toutes les alertes configurées pour ce KPI vont être supprimées.","deleteKpiConfirmationDialog.submitButtonText":"Supprimer","newDashboard.title":"Faire glisser une perception ici","newDashboard.dropInsight":"Déposer une perception","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> est déjà filtré par le filtre <strong>{childTitle}</strong>, directement ou via d\'autres filtres.","attributesDropdown.attributeNameWithData":"avec les données de","filter.visibilityMode.tooltip.hidden":"Ce filtre est masqué. Il n\'est accessible qu\'en mode Édition.","filter.visibilityMode.tooltip.readonly.editMode":"Ce filtre est verrouillé. Il peut uniquement être modifié en mode Édition.","filter.visibilityMode.tooltip.readonly.viewMode":"Ce filtre est verrouillé.","filter.resetButton.tooltip":"Réinitialiser tous les filtres","dateFilterDropdown.save":"Enregistrer","filter.configuration.mode.title":"Mode","filter.configuration.mode.interactive.title":"Interactif","filter.configuration.mode.interactive.tooltip":"Les utilisateurs du tableau de bord peuvent voir le filtre et le modifier.","filter.configuration.mode.locked.title":"Verrouillé","filter.configuration.mode.locked.tooltip":"Les utilisateurs du tableau de bord peuvent voir le filtre mais ne peuvent pas le modifier.","filter.configuration.mode.hidden.title":"Masqué","filter.configuration.mode.hidden.tooltip":"Les utilisateurs du tableau de bord ne peuvent pas voir le filtre, mais il est appliqué.","filter.dependency.icon.tooltip":"Les valeurs disponibles pour <strong>{filterTitle}</strong> sont limitées par la sélection dans un autre filtre.","configurationPanel.drillConfig.alreadyUsedTooltip":"Cette <strong>hiérarchie</strong> est déjà utilisée pour <strong>la même</strong> exploration descendante."}'),HI=JSON.parse('{"loading":"読み込んでいます…","untitled":"無題","empty_value":"空の値","gs.list.cancel":"キャンセル","gs.list.apply":"適用","gs.list.only":"限定","messages.dashboardSaveSuccess":"完了。ダッシュボードを保存しました。","options.menu.save.as":"新規として保存","options.menu.save.as.tooltip":"空のダッシュボードは保存されません。","messages.dashboardSaveFailed":"ダッシュボードを保存できませんでした。再試行してください。","messages.dashboard.invalidDrills.title":"<b>操作が削除されました</b>","messages.dashboard.invalidDrills.body.modern._measure":"1 つ以上のダッシュボード/インサイト/測定値/属性が変更または削除されたため、以下のウィジェットからいくつかの操作が削除されました：<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"1 つ以上のダッシュボード/インサイト/測定値/属性が変更または削除されたため、以下のウィジェットからいくつかの操作が削除されました：<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>URL へのドリルインタラクションの一部が機能しません</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"カスタム URL に無効な URL パラメータがあるため、URL へのドリルインタラクションは次のウィジェットでは失敗します: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"もっと表示","messages.dashboard.expandable.showLess":"簡易表示","messages.drill.InteractionConfiguredSuccess":"操作が設定されました。","messages.drill.InteractionUpdatedSuccess":"操作が更新されました。","filterBar.showAll":"すべて表示","filterBar.showLess":"簡易表示","options.menu.export.PDF":"PDF にエクスポート","options.menu.schedule.email":"メール送信予定","options.menu.delete":"削除","dialogs.export.cells":"セル","dialogs.export.filters":"インサイトのコンテキスト","dialogs.export.includeFilters":"適用済みフィルターを含める","dialogs.export.headline":"XLSX にエクスポート","dialogs.export.mergeHeaders":"アトリビュートセルのマージを維持します","dialogs.export.submit":"エクスポート","dialogs.schedule.email.delete.success":"成功！メール送信予定は削除されました。","dialogs.schedule.email.submit.success":"成功！あなたのダッシュボードでメール送信が予定されました。","dialogs.schedule.email.submit.error":"ダッシュボードのスケジュールに失敗。後で再試行してください。","dialogs.schedule.email.save.success":"スケジュールの保存に成功しました！","dialogs.schedule.email.save.error":"スケジュールの保存に失敗。後で再試行してください。","dialogs.save.as.new.title":"新規のダッシュボードとして保存","dialogs.save.as.new.desc":"新規ダッシュボードにわかりやすい名前を付けて、後日見つけやすいようにします。","dialogs.save.as.new.default.title":"{title}のコピー","dialogs.save.as.new.alertsAndEmailsMessage":"警告とメールのスケジュールは重複しません","dialogs.save.as.new.alertsMessage":"警告は重複しません","dialogs.save.as.new.emailsMessage":"メールのスケジュールは重複しません","cancelConfirmationDialog.headline":"変更を廃棄しますか？?","cancelConfirmationDialog.message":"すべての変更が失われます","cancelConfirmationDialog.submitButtonText":"変更を破棄","deleteDashboardDialog.headline":"ダッシュボードを消去しますか？","deleteDashboardDialog.submitButtonText":"削除","deleteDashboardDialog.alertsAndEmailsMessage":"このダッシュボードのすべてのアラートとメールスケジュール設定も削除されます。","deleteDashboardDialog.alertsMessage":"このダッシュボードに対して設定されたすべての通知が消去されます。","deleteDashboardDialog.emailsMessage":"このダッシュボードで設定された予約メールはすべて消去されます。","deleteDashboardDialog.drillMessage":"このダッシュボードから他のダッシュボードへのドリルが全て削除されます。","create.dashboard":"ダッシュボードを作成","drill_modal_picker.drill-down":"ドリルダウン","drill_modal_picker.drill-into":"ドリル","drill_modal_picker.cross-filter":"クロスフィルター","drill_modal_picker.more.details":"詳細","drillModal.backToTop":"トップに戻る","filters.allTime.previousPeriod":"前期","filters.allTime.lastYear":"前年","filters.minute.previousPeriod":"過去 1 分間","filters.hour.previousPeriod":"過去 1 時間","filters.day.previousPeriod":"前の {n, plural, one {日} other {#日}}","filters.week.previousPeriod":"前の {n, plural, one {週間} other {#週間}}","filters.month.previousPeriod":"前の {n, plural, one {ヶ月} other {#ヶ月}}","filters.quarter.previousPeriod":"前の {n, plural, one {四半期} other {#四半期}}","filters.year.previousPeriod":"前の {n, plural, one {年間} other {#年}}","filters.alertMessage.relativePreset":"{calendarIcon} {range}で","filters.alertMessage.relativePreset.inPeriod":"{calendarIcon}から {range}の期間","filters.config.warning.multipleProjectConfigs":"このプロジェクトに関連付けされたプロジェクト用日付フィルター設定が複数あります。最初のフィルター設定が使用されました。","filters.config.warning.multipleWorkspacesConfigs":"このワークスペースには、複数のワークスペース日付フィルター設定が関連付けられています。最初の設定が使用されました。","filters.config.warning.selectedFilterNotValid":"デフォルトのフィルターオプションは使用できないため、代わりに使用可能な最初のオプションを適用しています。","filters.config.warning.allOptionsHidden":"フィルターオプションをすべて隠す設定になっているため、ダッシュボード用日付フィルター設定は無視されました。","filters.config.warning.conflictingIdentifiers":"同一の識別子を持つ日付フィルターオプションを含むため、ダッシュボード用日付フィルター設定は無視されました。","filters.config.warning.notAvailable":"プロジェクト用日付フィルター設定が定義されていないか、アクセスが許可されていません。","filters.config.warning.workspace.notAvailable":"ワークスペース日付フィルター設定が定義されていないか、アクセス権限がありません。","filters.configurationPanel.header":"設定","filters.configurationPanel.sectionHeader.interactions":"操作","filters.configurationPanel.crossFiltering.toggle":"クロスフィルタリング","kpi.noData":"現在のフィルター設定に対するデータがありません。フィルターを変更してみてください。","kpiPop.change":"変更","dialogs.schedule.email.filters":"ダッシュボードには、スケジュールに保存されるフィルターの変更が含まれています。","dialogs.schedule.email.filters.not.saved":"スケジュールに保存されたダッシュボードフィルターは影響を受けません。","dialogs.schedule.email.attachment.filter":"（現在設定されているフィルターを使用）","dialogs.schedule.email.attachment.label":"添付：","dialogs.schedule.email.attachments.label":"添付：","dialogs.schedule.email.attachment.select":"添付ファイルを選択","dialogs.schedule.email.attachment.select.disabled.message":"このダッシュボードには、インサイトは含まれていません。","dialogs.schedule.email.attachment.select.dashboard.header":"ダッシュボード（PDF）","dialogs.schedule.email.attachment.select.widgets.header":"インサイト（CSV、XLSX）","dialogs.schedule.email.headline":"メール送信予定","dialogs.schedule.email.heading":"エクスポート予定","dialogs.schedule.email.message.label":"メッセージ:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1} other {#}} 名がこの予定の購読を中止しました。","dialogs.schedule.email.repeats.label":"繰り返し：","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"{date}日目","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"{week, select, 1 {初週の} 2 {番目の} 3 {第三の} 4 {第四の} other {最後の}} {day}","dialogs.schedule.email.repeats.every":"頻度","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {日} other {日}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {月} other {月}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {週} other {週}}","dialogs.schedule.email.repeats.types.custom":"カスタム","dialogs.schedule.email.repeats.types.daily":"日次","dialogs.schedule.email.repeats.types.monthly":"毎月 {week, select, 1 {初週の} 2 {番目の} 3 {第三の} 4 {第四の} other {最後の}} {day}","dialogs.schedule.email.repeats.types.weekly":"毎週 {day}","dialogs.schedule.email.subject.label":"件名:","dialogs.schedule.email.time.label":"開始日時：","dialogs.schedule.email.to.label":"宛先:","dialogs.schedule.email.message.placeholder":"スケジュールされたメールの準備ができました。ダッシュボードを添付ファイルとしてダウンロードできます。","dialogs.schedule.email.submit":"スケジュール","dialogs.schedule.email.save":"保存","dialogs.schedule.email.format.options":"書式オプション","dialogs.schedule.email.insight.format":"インサイト書式：","dialogs.schedule.email.attribute.merged":"アトリビュートセルのマージを維持します","dialogs.schedule.email.show.filters":"適用されたフィルターを表示","dialogs.schedule.management.title":"エクスポート予定","dialogs.schedule.management.delete":"スケジュールを削除","dialogs.schedule.management.delete.dialog":"スケジュールを削除しますか？","dialogs.schedule.management.delete.dialog.confirm":"<b>スケジュール</b>は完全に削除されます。","dialogs.schedule.management.noSchedules":"このダッシュボードには、エクスポート予定がありません。{br}新しく追加してください。","dialogs.schedule.management.noSchedules.byUser":"あなたのエクスポート予定がありません。{br}新しく追加してください。","dialogs.schedule.management.addSchedule":"予定を追加","dialogs.schedule.management.recipients":"{n, plural, one {# 受信者} other {# 受信者}}","dialogs.schedule.management.recipients.onlyYou":"あなたのみ","dialogs.schedule.management.attachments.dashboard":"ダッシュボード","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# インサイト} other {# インサイト}}","dialogs.schedule.management.attachments.mixed":"ダッシュボードおよび {n, plural, one {# インサイト} other {# インサイト}}","dialogs.schedule.management.load.error":"読み込みに失敗しました。後で再試行してください。","dialogs.schedule.management.delete.error":"スケジュールの削除に失敗しました。後で再試行してください。","dialogs.schedule.management.tab.all":"すべて","dialogs.schedule.management.tab.user":"自分が作成","options.menu.schedule.email.recipient.invalid":"これは有効なメールアドレスではありません。","options.menu.schedule.email.recipient.warning.existed":"この受信者はすでに追加されています。","options.menu.schedule.email.recipient.warning.belong.workspace":"このメールアドレスはワークスペースに属していません。受信者は機密データを受け取る可能性があります。","options.menu.schedule.email.recipient.external.not.allowed":"このメールアドレスはこのワークスペースに属していません。このメールアドレスを追加できるのは、スケジュールの作成者のみです。","delete":"削除","close":"閉じる","cancel":"キャンセル","gs.date.at":"の時刻","gs.date.today":"今日","gs.date.tomorrow":"明日","gs.date.yesterday":"昨日","kpi.alertBox.title":"KPIの変更に通知を設定","kpi.alertBox.example":"例:","kpi.alertBox.unverifiedEmail":"申し訳ございませんが、通知を設定できません。電子メールが有効なことを確認してください。それでも問題が解決しない場合は、管理者にあなたの許可を更新するように要請してください。","kpi.alertBox.disabledInReadOnly":"読み取り専用モードではアラートは無効になっています","kpi.error.view":"KPIを表示できません。管理者にKPI定義を修正するように要請してください。","kpiAlertDialog.delete":"削除","kpiAlertDialog.deleting":"消去しています…","kpiAlertDialog.emailMe":"メールで通知する","kpiAlertDialog.emailMeWhen":"KPI が次の場合、{emailMe}","kpiAlertDialog.emailInfo":"電子メールの送信先:{userEmail}","kpiAlertDialog.invalidNumber":"<strong>この数値は無効です。</strong>{br}再確認して、再試行してください。","kpiAlertDialog.filtersDiffer":"通知が設定されたときと異なるフィルターが、KPIに適用されています。","kpiAlertDialog.filtersApply":"通知のフィルターをダッシュボードに適用","kpiAlertDialog.savingFailed":"通知を保存できませんでした。もう一度やり直してください。","kpiAlertDialog.deleteingFailed":"通知を消去できませんでした。もう一度やり直してください。","kpiAlertDialog.brokenAlert":"通知が壊れています","kpiAlertDialog.brokenAlertAppeal":"正しい KPI の値を確認するには、この通知のフィルターを更新します。通知を削除することもできます。","kpiAlertDialog.brokenAlertDefaultDateLabel":"日付","kpiAlertDialog.removedFilters":"フィルターをダッシュボードから削除しました","kpiAlertDialog.ignoredFilters":"この kpi に対してフィルターが無視されました","kpiAlertDialog.updateTitle":"更新","kpiAlertDialog.updateBrokenTitle":"フィルターを更新","kpiAlertDialog.updatingTitle":"更新中…","kpiAlertDialog.updateBrokenFailed":"フィルターの更新に失敗しました。もう一度やり直してください。","kpiAlertDialog.setTitle":"通知を設定","kpiAlertDialog.settingTitle":"設定中…","kpiAlertDialog.threshold.above":"次より上","kpiAlertDialog.threshold.below":"次より下","kpiAlertDialog.withAttributeFilters":"{numFilters} 件の {numFilters, select, 1 {フィルター} other {フィルター}} をさらに適用済","messages.exportResultError":"データをエクスポートできませんでした。後でもう一度お試しください。","messages.exportResultRestrictedError":"制限されているデータを含んでいるため、このインサイトをエクスポートできません。","messages.exportResultStart":"エクスポート実行中","messages.exportResultSuccess":"正常にエクスポートしました。","messages.sharingChangedSuccess":"共有を更新済み。","messages.sharingChangedError.general":"共有設定を更新できませんでした。後で再試行してください。","messages.sharingDialogError.general":"共有設定をロードできませんでした。後で再試行してください。","visualization.dataTooLarge.headline":"表示するデータポイントが多すぎます","visualization.dataTooLarge.text":"ダッシュボードに1つまたは複数のフィルターを適用してみてください。","visualization.execute_protected_report.headline":"このレポートを表示する権限がありません","visualization.execute_protected_report.text":"管理者に連絡してください.","visualization.alert_not_supported":"一定日付期間のアラートはサポートされていません。","visualization.empty.headline":"フィルターの選択肢にデータがありません","visualization.error.headline":"申し訳ございませんが、この解析を表示できません","visualization.error.text":"管理者に連絡してください.","options.button.bubble":"インサイトデータをエクスポート","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"現在、このインサイトはエクスポートできません。別のフィルターを適用するか、別の測定値や属性をご利用ください。","options.menu.unsupported.error._metric":"現在、このインサイトはエクスポートできません。別のフィルターを適用するか、別のメトリックや属性をご利用ください。","options.menu.unsupported.loading":"現在、このインサイトはエクスポートできません。","export.defaultTitle":"無題の解析","export_unsupported.disabled":"エクスポートはサポートされていません","widget.options.menu.exportToCSV":"CSV にエクスポート","widget.options.menu.exportToXLSX":"XLSX にエクスポート","widget.options.menu.scheduleExport":"エクスポート予定","share.button.text":"共有する","dashboard.error.empty.heading":"このダッシュボードは空欄です","dashboard.error.empty.text":"すべてのインサイトは削除されました。","dashboard.shareDialog.underLenientControl.label":"共有されていないユーザでも、ドリルによる遷移ではこのダッシュボードにアクセスできます","dashboard.shareDialog.lock.label":"このダッシュボードを編集できるのは管理者のみです","header.lockStatus.tooltip":"<b>このダッシュボードはロックされています。</b>このダッシュボードを編集できるのは管理者のみです。","header.shareStatus.private.text":"プライベート","header.shareStatus.private.strict.tooltip":"このダッシュボードを表示および編集できるのは、あなたのみです。","header.shareStatus.private.not.strict.tooltip":"作成者はこのダッシュボードを編集できます。適切なユーザーロールを持つ他のユーザーは、ドリルすることでダッシュボードを編集できます。","dashboard.shareDialog.removeAccessGranteeTooltip":"このダッシュボードへのアクセス権を外す。","dashboard.shareDialog.removeAccessCreatorTooltip":"このダッシュボードを作成したユーザー。作成者は削除できません。","attributesDropdown.placeholder":"検索…","attributesDropdown.configuration":"設定","attributesDropdown.itemsFiltered":"アイテムはフィルター済み","attributesDropdown.allItemsFiltered":"すべてのアイテムはフィルター済み","attributesDropdown.itemsFiltered.tooltip":"アイテムのフィルター：<strong>{filters}</strong>","attributesDropdown.save":"保存","attributesDropdown.filterBy":"次によりフィルター:","attributesDropdown.displayValuesAs":"値の表示方法","attributesDropdown.title":"タイトル","attributesDropdown.title.reset":"リセット","attributesDropdown.selectionMode":"選択","attributesDropdown.selectionMode.multi":"多値","attributesDropdown.selectionMode.single":"単独値","attributesDropdown.selectionMode.disabled.tooltip":"「次によりフィルター:」でフィルタが選択されている場合、単一値選択はできません。単一値選択を使用するには、「次によりフィルター:」ですべてのフィルタを無効にしてください。","attributesDropdown.parentFilter.disabled.tooltip":"単一値選択では、他のフィルターによるフィルタリングは無効です。「次によりフィルター:」を設定するには、複数値選択を選択します。","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> フィルターが無効 <strong>{parentTitle}</strong>。フィルターアトリビュートとデータモデルが無関係です。","attributesDropdown.details.dataset":"データセット","attributesDropdown.details.values":"値","attributesDropdown.details.shortening_decoration":"…その他{count}","attributesDropdown.removeTooltip":"ダッシュボードから削除","layout.header.characters.left":"残り {currentCharactersCount} / {maximumCharactersCount} 文字","layout.header.add.title.placeholder":"こちらにタイトルを追加します…","layout.header.add.description.placeholder":"こちらに説明を追加します…","error":"エラー","controlButtons.edit.value":"編集","controlButtons.saveAndPublish.value":"保存して公開","controlButtons.save.value":"保存","controlButtons.saveAndPublish.title":"すべての変更はこのダッシュボードにアクセスできる人全員にすぐに見えるようになります。","controlButtons.saveAsPrivate.title":"すべての変更が保存されます。","controlButtons.saveAndPublish.disable.empty.title":"空のダッシュボードは保存できません","controlButtons.saveAndPublish.disable.noChanges.title":"保存する変更はありません","controlButtons.saving.value":"保存しています…","gs.visualizationsList.tabs.all":"すべて","gs.visualizationsList.tabs.my":"自分が作成","visualizationsList.noInsights":"このワークスペースにはインサイトがありません。","visualizationsList.create":"インサイトを作成","visualizationsList.noUserInsights":"作成されたインサイトはありません。","visualizationsList.noVisualizationsFound":"一致する解析はありません。","search_insights":"全検索…","save.as.new":"新規として保存","addPanel.deleteItem":"ドロップして削除","addPanel.newItem":"新規項目","addPanel.attributeFilter":"アトリビュートフィルター","addPanel.filter":"フィルター","addPanel.attributeFilter.tooltip.no_attributes":"アトリビュートフィルターにはアトリビュートが必要です。","addPanel.attributeFilter.tooltip.no_items":"フィルターには属性または日付データセットが必要です。","addPanel.attributeFilter.tooltip.no_attributes.link":"詳細","addPanel.kpi":"KPI","addPanel.kpi.tooltip.no_measures._measure":"キーパフォーマンスインジケーターには、計算済みメジャーが必要です。","addPanel.kpi.tooltip.no_measures._metric":"キーパフォーマンスインジケーターには、メトリックが必要です。","addPanel.kpi.tooltip.no_measures.link":"詳細","visualizationsList.dragToAdd":"ドラッグして追加","visualizationsList.savedVisualizations":"保存済みインサイト","configurationPanel.drillConfig.selectDashboard":"ダッシュボードを選択…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"全てのダッシュボードを検索…","configurationPanel.drillConfig.forbiddenDashboard":"（共有されていません）","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"ダッシュボードは共有されていませんが、他のユーザーはこのダッシュボードにアクセスできます。","configurationPanel.drillConfig.notSharedDashboard.tooltip":"ダッシュボードは共有されていませんが、このダッシュボードにドリルするとアクセスできるようになります。","configurationPanel.remove.form.dashboard":"ダッシュボードから削除","filterBar.filter.drop":"ドロップして追加","filterBar.filter.addFilterPlaceholder":"{icon} をここにドラッグ","filterBar.filter.dropzone.tooltip":"アトリビュートフィルターをここにドラッグします。","filterBar.filter.dropzone.tooltip.generic":"ここにフィルタをドラッグします。","configurationPanel.title":"設定","configurationPanel.comparison":"比較","configurationPanel.compareWith":"次と比較:","configurationPanel.increasingNumberIs":"増加している数は","configurationPanel.comparisonTypeItems.previousPeriod":"前期","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"前年の同期間","configurationPanel.comparisonTypeItems.noComparison":"比較なし","configurationPanel.comparisonDirectionItems.green":"緑","configurationPanel.comparisonDirectionItems.red":"赤","configurationPanel.unlistedMetric._measure":"リストにないメジャー","configurationPanel.unlistedMetric._metric":"非公開のメトリック","configurationPanel.unlistedMetricIconTitle._measure":"このメジャーは隠されており、あなただけに表示されています。","configurationPanel.unlistedMetricIconTitle._metric":"このメトリックは非表示であり、あなただけに表示されています。","configurationPanel.selectMeasurePlaceholder._measure":"メジャーを選択…","configurationPanel.selectMeasurePlaceholder._metric":"メトリックを選択…","configurationPanel.selectComparisonPlaceholder":"比較を選択…","configurationPanel.selectComparisonDirectionPlaceholder":"正/負を選択","configurationPanel.measure._measure":"メジャー","configurationPanel.measure._metric":"メトリック","configurationPanel.filterBy":"次によりフィルター:","configurationPanel.date":"日付","configurationPanel.dateAs":"として","configurationPanel.vizCantBeFilteredByAttribute":"解析を {attributeName} によりフィルターできません。チェックボックスをオフにしてください。","configurationPanel.kpiCantBeFilteredByAttribute":"KPIは{attributeName}でフィルターできません。チェックボックスをオフにしてください。","configurationPanel.vizCantBeFilteredByDate":"解析を日付によりフィルターできません。チェックボックスをオフにしてください。","configurationPanel.kpiCantBeFilteredByDate":"KPIは日付でフィルターできません。チェックボックスをオフにしてください。","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" は解析に適用できなくなりました。別のディメンションを選ぶか、解析を編集してください。","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\"はKPIに適用できなくなりました。別のディメンションを選ぶか、KPIを編集してください。","configurationPanel.breakAlertWarning":"\\n ユーザーがこのKPIで{numAlerts, select, 1 {通知} other {通知}}\\nを{numAlerts}件設定しました。このKPIを変更すると{numAlerts, select, 1 {その通知} other {その通知}}に影響が出ます。\\n","configurationPanel.drillIntoDashboard":"ダッシュボードにドリル","configurationPanel.noLinkableDashboards":"次にリンクされているダッシュボードはありません","configurationPanel.selectDashboard":"ダッシュボードを選択","configurationPanel.interactions":"操作","configurationPanel.drillConfig.interactions":"ドリル操作","configurationPanel.drillConfig.addInteraction":"操作を追加","configurationPanel.drillConfig.clickHint":"次をクリックする際:","configurationPanel.drillConfig.measureValue._measure":"メジャーの意味","configurationPanel.drillConfig.measureValue._metric":"メトリックの値","configurationPanel.drillConfig.attributeValue":"アトリビュートの値","configurationPanel.drillConfig.selectTarget":"実行したいこと","configurationPanel.drillConfig.clickHintItem":"次の<addon>（値）</addon>をクリックすると","configurationPanel.drillConfig.drillIntoDashboard":"ダッシュボードにドリル","configurationPanel.drillConfig.drillIntoInsight":"インサイトにドリル","configurationPanel.drillConfig.drillDown":"ドリルダウン","configurationPanel.drillConfig.disableDrillDownTooltip":"このインサイトの設定では、ドリルダウンはオフになっています。","configurationPanel.drillConfig.drillIntoUrl":"URL にドリル","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"無効な URL パラメーター","configurationPanel.drillConfig.select":"アクションを選択…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"インサイトの日付アトリビュート値は、ターゲットダッシュボードをフィルタリングするために転送されません。","configurationPanel.unlistedDashboardTab":"リストにないダッシュボード","configurationPanel.visualprops.sectionTitle":"タイトル","configurationPanel.visualprops.hideTitle":"タイトルを非表示","configurationPanel.visualprops.sectionDescription":"説明","configurationPanel.visualprops.inheritDescription":"継承","configurationPanel.visualprops.inheritDescriptionHelp":"インサイトからの説明を継承します。","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"メトリックからの説明を継承します。","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"測定値からの説明を継承します。","configurationPanel.visualprops.customDescription":"カスタム","configurationPanel.visualprops.customDescriptionHelp":"インサイトのこのインスタンスでカスタムの説明を追加します。","configurationPanel.visualprops.customKpiDescriptionHelp":"カスタムの説明を追加します。","configurationPanel.visualprops.noneDescription":"なし","configurationPanel.visualprops.includeMetrics._measure":"測定値の説明を含める","configurationPanel.visualprops.includeMetrics._metric":"メトリックの説明を含める","configurationPanel.visualprops.includeMetricsHelp._measure":"インサイトの測定値のリストとその説明があるセクションを表示します。","configurationPanel.visualprops.includeMetricsHelp._metric":"インサイトのメトリックのリストとその説明を含むセクションを表示します。","configurationPanel.visualprops.descriptionPlaceholder":"説明を追加する…","configurationPanel.drillIntoUrl.defaultButtonValue":"URL を選択","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"アトリビュートラベルにハイパーリンク","configurationPanel.drillIntoUrl.customUrlSectionTitle":"カスタム URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":"カスタム URL を追加","configurationPanel.drillIntoUrl.editor.editUrlTitle":"カスタム URL を編集","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"パラメーター","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"パラメーターはプレースホルダーであるため、ドリルした際には動的な値に切り替わります。","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"追加","configurationPanel.drillIntoUrl.editor.parameterDetailType":"タイプ","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"ラベル","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {値} other {値}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...そして更に {count} ","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"インサイト ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"クライアント ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"データプロダクト ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"プロジェクト ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ワークスペース ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ウィジェット ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ダッシュボード ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"識別子","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"インサイト","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"識別子","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"ダッシュボード","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"適用","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"キャンセル","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"URL を入力後、右パネルよりパラメーターを追加してください。","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"カスタム URL の作成方法","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"無効なパラメーター： {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"カスタム URL を追加","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"カスタム URL を編集","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"アトリビュートラベル値","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"アトリビュートジオ値","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"アトリビュート URL 値","configurationPanel.zoomInsight":"ズーム可能なインサイト","configurationPanel.zoomInsight.help":"インサイトのズームを有効にして、詳細ビューを表示します。 Shiftキーを押し続けると、ズーム領域がスクロールできます。","configurationPanel.zoomInsight.notice":"エクスポートされたダッシュボードにはズームは適用されません","configurationPanel.drillConfig.selectInsight":"インサイトを選択…","gs.date.date-dataset.recommended":"お勧め","gs.date.date-dataset.other":"その他","gs.date.date-dataset.related":"関係する","gs.date.date-dataset.unrelated":"無関係な","gs.date.date-dataset.unrelated_hidden":"{count} 件の無関係な {count, plural, one {日} other {日}} {isShow, select, true {表示} other {非表示}}","gs.date.date-dataset.unrelated.show":"表示","gs.date.date-dataset.unrelated.hide":"非表示","gs.date.date-dataset.duplicityWarning":"別のフィルターが同じ日付データセットを使用しています。このフィルタを無効にするか、別の日付を設定してください。","layout.widget.width.min":"現在ウィジェットの幅が最小です","layout.widget.width.max":"ウィジェットの幅が最大です","layout.widget.height.min":"ウィジェットの高さは最小になっています","layout.widget.height.max":"ウィジェットの高さは最大になっています","layout.widget.addedByPlugin":"プラグインで追加されました","layout.widget.modifiedByPlugin":"プラグインで変更されました","layout.widget.hideOverlay":"オーバーレイを隠す","dropzone.new.row.desc":"<b>新規のセクション</b>を{nbsp}作成してドロップ","dropzone.widget.desc":"<b>ここ</b>にドロップ","dropzone.widget.last.in.row.desc":"<b>現行のセクション</b>にドロップ","deleteKpiConfirmationDialog.headline":"KPIを消去する","deleteKpiConfirmationDialog.message":"このKPIに対して設定されたすべての通知も消去されます。","deleteKpiConfirmationDialog.submitButtonText":"削除","newDashboard.title":"インサイトをここにドラッグ","newDashboard.dropInsight":"インサイトをドラッグ&ドロップ","attributesDropdown.filterConfiguredMessage":"直接フィルターか、他のフィルターで<strong>{parentTitle}</strong> すでにフィルター済み <strong>{childTitle}</strong>。","attributesDropdown.attributeNameWithData":"データの","filter.visibilityMode.tooltip.hidden":"このフィルタは非表示です。編集モードでのみアクセスできます。","filter.visibilityMode.tooltip.readonly.editMode":"このフィルタはロックされています。編集モードでのみ変更できます。","filter.visibilityMode.tooltip.readonly.viewMode":"このフィルタはロックされています。","filter.resetButton.tooltip":"すべてのフィルターをリセット","dateFilterDropdown.save":"保存","filter.configuration.mode.title":"モード","filter.configuration.mode.interactive.title":"インタラクティブ","filter.configuration.mode.interactive.tooltip":"ダッシュボードユーザーはフィルタを確認および変更できます。","filter.configuration.mode.locked.title":"ロックされています","filter.configuration.mode.locked.tooltip":"ダッシュボードユーザーはフィルタが表示されますが、変更することはできません。","filter.configuration.mode.hidden.title":"非表示","filter.configuration.mode.hidden.tooltip":"ダッシュボードユーザーにはフィルタが表示されませんが、フィルタは適用されます。","filter.dependency.icon.tooltip":"<strong>{filterTitle}</strong> で使用できる値は、別のフィルタでの選択によって制限されます。","configurationPanel.drillConfig.alreadyUsedTooltip":"この<strong>階層</strong>は<strong>同じ</strong>ドリルダウンにすでに使用されています。"}'),UI=JSON.parse('{"loading":"Laden…","untitled":"Zonder titel","empty_value":"lege waarde","gs.list.cancel":"Annuleren","gs.list.apply":"Toepassen","gs.list.only":"Alleen","messages.dashboardSaveSuccess":"Top. We hebben uw dashboard opgeslagen.","options.menu.save.as":"Opslaan als nieuw","options.menu.save.as.tooltip":"Leeg dashboard kan niet worden opgeslagen.","messages.dashboardSaveFailed":"Kon dashboard niet opslaan, probeer het later opnieuw.","messages.dashboard.invalidDrills.title":"<b>Sommige interacties zijn verwijderd</b>","messages.dashboard.invalidDrills.body.modern._measure":"Een of meer dashboards/inzichten/maten/attributen zijn gewijzigd of verwijderd waardoor bepaalde interacties zijn verwijderd uit de volgende widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Een of meer dashboards/inzichten/meetgegevens/attributen zijn gewijzigd of verwijderd waardoor bepaalde interacties zijn verwijderd uit de volgende widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Sommige van de inzoomen-op-URL-interacties werken niet</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Ongeldige URL-parameters in uw aangepaste URL\'s zorgen ervoor dat inzoomen-op-URL-interacties mislukken voor deze widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Meer weergeven","messages.dashboard.expandable.showLess":"Minder weergeven","messages.drill.InteractionConfiguredSuccess":"Interactie geconfigureerd.","messages.drill.InteractionUpdatedSuccess":"Interactie bijgewerkt.","filterBar.showAll":"Alle tonen","filterBar.showLess":"Minder weergeven","options.menu.export.PDF":"Exporteren naar PDF","options.menu.schedule.email":"E-mail plannen","options.menu.delete":"Verwijderen","dialogs.export.cells":"CELLEN","dialogs.export.filters":"CONTEXT INZICHT","dialogs.export.includeFilters":"Inclusief toegepaste filters","dialogs.export.headline":"Exporteren naar XLSX","dialogs.export.mergeHeaders":"Attribuutcellen samengevoegd laten","dialogs.export.submit":"Exporteren","dialogs.schedule.email.delete.success":"Gelukt! Uw geplande e-mail is verwijderd.","dialogs.schedule.email.submit.success":"Gelukt! Uw dashboard is ingesteld om te mailen.","dialogs.schedule.email.submit.error":"Inplannen van dashboard mislukt. Probeer het later opnieuw.","dialogs.schedule.email.save.success":"Gelukt! Uw schema is opgeslagen.","dialogs.schedule.email.save.error":"Schema opslaan mislukt. Probeer het later opnieuw.","dialogs.save.as.new.title":"Dashboard als nieuw opslaan","dialogs.save.as.new.desc":"Geef uw nieuwe dashboard een beschrijvende naam zodat het later makkelijker te vinden is.","dialogs.save.as.new.default.title":"Kopie van {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Alarmen en e-mailschema\'s worden niet gedupliceerd","dialogs.save.as.new.alertsMessage":"Alarmen worden niet gedupliceerd","dialogs.save.as.new.emailsMessage":"E-mailschema\'s worden niet gedupliceerd","cancelConfirmationDialog.headline":"Wijzigingen wegdoen?","cancelConfirmationDialog.message":"Alle wijzigingen zullen verloren gaan","cancelConfirmationDialog.submitButtonText":"Wijzigingen wegdoen","deleteDashboardDialog.headline":"Dashboard verwijderen?","deleteDashboardDialog.submitButtonText":"Verwijderen","deleteDashboardDialog.alertsAndEmailsMessage":"Alle alarmen en ingeplande e-mails voor dit dashboard worden ook verwijderd.","deleteDashboardDialog.alertsMessage":"Alle ingestelde alarmen voor dit dashboard zullen ook worden verwijderd.","deleteDashboardDialog.emailsMessage":"Alle ingeplande e-mails voor dit dashboard worden ook verwijderd.","deleteDashboardDialog.drillMessage":"Alle detaillering voor dit dashboard van andere dashboards wordt verwijderd.","create.dashboard":"Dashboard maken","drill_modal_picker.drill-down":"Zoomen","drill_modal_picker.drill-into":"Inzoomen op","drill_modal_picker.cross-filter":"Kruisfilter","drill_modal_picker.more.details":"Meer details","drillModal.backToTop":"Terug naar boven","filters.allTime.previousPeriod":"vorige periode","filters.allTime.lastYear":"vorig jaar","filters.minute.previousPeriod":"vorige minuut","filters.hour.previousPeriod":"vorig uur","filters.day.previousPeriod":"vorige {n, plural, one {dag} other {#d}}","filters.week.previousPeriod":"vorige {n, plural, one {week} other {#w}}","filters.month.previousPeriod":"vorige {n, plural, one {maand} other {#m}}","filters.quarter.previousPeriod":"vorig {n, plural, one {kwartaal} other {#k}}","filters.year.previousPeriod":"vorig {n, plural, one {jaar} other {#j}}","filters.alertMessage.relativePreset":"in {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"in periode {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Er zijn meerdere filterconfiguraties voor de projectdatum gekoppeld aan dit project. De eerste is gebruikt.","filters.config.warning.multipleWorkspacesConfigs":"Er zijn meerdere filterconfiguraties voor de werkruimtedatum gekoppeld aan deze werkruimte. De eerste is gebruikt.","filters.config.warning.selectedFilterNotValid":"De standaard filteroptie is ongeldig, in plaats daarvan wordt de eerste beschikbare optie gebruikt.","filters.config.warning.allOptionsHidden":"De filterconfiguratie voor het dashboard werd genegeerd omdat deze alle filteropties zou hebben verborgen.","filters.config.warning.conflictingIdentifiers":"De filterconfiguratie voor het dashboard werd genegeerd omdat deze datumfilteropties met identieke identificators bevat.","filters.config.warning.notAvailable":"De filterconfiguratie voor de projectdatum is niet gedefinieerd of u hebt niet de machtigingen om deze te laden.","filters.config.warning.workspace.notAvailable":"De filterconfiguratie voor de werkruimtedatum is niet gedefinieerd of u hebt niet de machtigingen om deze te laden.","filters.configurationPanel.header":"Configuratie","filters.configurationPanel.sectionHeader.interactions":"Interacties","filters.configurationPanel.crossFiltering.toggle":"Cross-filters","kpi.noData":"Geen data voor de huidige filterinstellingen. Probeer om de filters te wijzigen.","kpiPop.change":"Wijziging","dialogs.schedule.email.filters":"Dasboard bevat filterwijzigingen die worden opgeslagen in het schema.","dialogs.schedule.email.filters.not.saved":"Geen gevolgen voor dashboardfilters die zijn opgeslagen in het schema.","dialogs.schedule.email.attachment.filter":"(met momenteel ingestelde filters)","dialogs.schedule.email.attachment.label":"Bijlage:","dialogs.schedule.email.attachments.label":"Bijlagen:","dialogs.schedule.email.attachment.select":"Bijlagen selecteren","dialogs.schedule.email.attachment.select.disabled.message":"Dit dashboard bevat geen inzichten.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Inzichten (CSV, XLSX)","dialogs.schedule.email.headline":"Planning e-mailbezorging ","dialogs.schedule.email.heading":"Planning export","dialogs.schedule.email.message.label":"Bericht:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 ontvanger is afgemeld} other {# ontvangers zijn afgemeld}} van dit schema.","dialogs.schedule.email.repeats.label":"Herhalingen:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"op dag {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"op de {week, select, 1 {eerste} 2 {tweede} 3 {derde} 4 {vierde} other {laatste}} {day}","dialogs.schedule.email.repeats.every":"elke","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {dag} other {dagen}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {maand} other {maanden}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {week} other {weken}}","dialogs.schedule.email.repeats.types.custom":"Aangepast","dialogs.schedule.email.repeats.types.daily":"Dagelijks","dialogs.schedule.email.repeats.types.monthly":"Maandelijks op de {week, select, 1 {eerste} 2 {tweede} 3 {derde} 4 {vierde} other {laatste}} {day}","dialogs.schedule.email.repeats.types.weekly":"Wekelijks op {day}","dialogs.schedule.email.subject.label":"Onderwerp:","dialogs.schedule.email.time.label":"Eerste keer:","dialogs.schedule.email.to.label":"Aan:","dialogs.schedule.email.message.placeholder":"Hallo,\\n\\nUw geplande e-mail is klaar. U kunt het dashboard in bijlagen downloaden.","dialogs.schedule.email.submit":"Plan","dialogs.schedule.email.save":"Opslaan","dialogs.schedule.email.format.options":"Opmaakopties","dialogs.schedule.email.insight.format":"Indeling inzicht:","dialogs.schedule.email.attribute.merged":"Attribuutcellen samengevoegd laten","dialogs.schedule.email.show.filters":"Tonen welke filters zijn toegepast","dialogs.schedule.management.title":"Planning exports","dialogs.schedule.management.delete":"Verwijder het schema.","dialogs.schedule.management.delete.dialog":"Schema verwijderen?","dialogs.schedule.management.delete.dialog.confirm":"<b>Het schema</b> wordt voorgoed verwijderd.","dialogs.schedule.management.noSchedules":"Het dashboard bevat geen geplande exports.{br}Voeg er nu een toe.","dialogs.schedule.management.noSchedules.byUser":"U hebt nog geen geplande exports.{br}Voeg er nu een toe.","dialogs.schedule.management.addSchedule":"Schema toevoegen","dialogs.schedule.management.recipients":"{n, plural, one {# ontvanger} other {# ontvangers}}","dialogs.schedule.management.recipients.onlyYou":"Alleen u","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# inzicht} other {# inzichten}}","dialogs.schedule.management.attachments.mixed":"Dashboard en {n, plural, one {# inzicht} other {# inzichten}}","dialogs.schedule.management.load.error":"Laden mislukt. Probeer het later opnieuw.","dialogs.schedule.management.delete.error":"Verwijderen planning mislukt. Probeer het later opnieuw.","dialogs.schedule.management.tab.all":"alle","dialogs.schedule.management.tab.user":"door mij aangemaakt","options.menu.schedule.email.recipient.invalid":"Dit is geen geldig e-mailadres.","options.menu.schedule.email.recipient.warning.existed":"U hebt deze ontvanger al toegevoegd.","options.menu.schedule.email.recipient.warning.belong.workspace":"Het e-mailadres hoort niet bij deze werkruimte. De ontvanger ontvangt mogelijk vertrouwelijke gegevens.","options.menu.schedule.email.recipient.external.not.allowed":"Het e-mailadres hoort niet bij deze werkruimte. Alleen de auteur van het schema mag dit e-mailadres toevoegen.","delete":"Verwijderen","close":"Sluiten","cancel":"Annuleren","gs.date.at":"bij","gs.date.today":"Vandaag","gs.date.tomorrow":"Morgen","gs.date.yesterday":"Gisteren","kpi.alertBox.title":"Een alarm voor de KPI-wijziging instellen","kpi.alertBox.example":"bijv.","kpi.alertBox.unverifiedEmail":"Sorry, u kunt geen alarm instellen. Zorg ervoor dat uw e-mailadres is geverifieerd. Als dit niet helpt, vraag uw beheerder dan om uw machtigingen bij te werken.","kpi.alertBox.disabledInReadOnly":"Alarmen zijn uitgeschakeld in alleen-lezen","kpi.error.view":"KPI kan niet worden weergegeven. Neem contact op met uw beheerder om de KPI-definitie te corrigeren.","kpiAlertDialog.delete":"Verwijderen","kpiAlertDialog.deleting":"Verwijderen…","kpiAlertDialog.emailMe":"E-mail mij","kpiAlertDialog.emailMeWhen":"{emailMe} wanneer deze KPI wordt","kpiAlertDialog.emailInfo":"De e-mail zal worden verstuurd naar {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Dit nummer is ongeldig.</strong>{br}Controleer het nogmaals en probeer het opnieuw.","kpiAlertDialog.filtersDiffer":"De KPI wordt nu anders gefilterd dan wanneer het alarm werd ingesteld.","kpiAlertDialog.filtersApply":"Alarmfilters op het dashboard toepassen","kpiAlertDialog.savingFailed":"Alamr kon niet worden opgeslagen. Probeer het opnieuw.","kpiAlertDialog.deleteingFailed":"Het alarm kon niet worden verwijderd. Probeer het opnieuw.","kpiAlertDialog.brokenAlert":"Niet-nagekomen waarschuwing","kpiAlertDialog.brokenAlertAppeal":"Om de juist KPI-waarde te zien moet u de filters in deze waarschuwing bijwerken. U kunt de waarschuwing ook verwijderen.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Datum","kpiAlertDialog.removedFilters":"Filters verwijderd uit dashboard","kpiAlertDialog.ignoredFilters":"Geen rekening gehouden met de filters voor deze kpi","kpiAlertDialog.updateTitle":"Update","kpiAlertDialog.updateBrokenTitle":"Filters bijwerken","kpiAlertDialog.updatingTitle":"Updaten…","kpiAlertDialog.updateBrokenFailed":"Filters bijwerken mislukt. Probeer het opnieuw.","kpiAlertDialog.setTitle":"Alarm instellen","kpiAlertDialog.settingTitle":"Instellen…","kpiAlertDialog.threshold.above":"boven","kpiAlertDialog.threshold.below":"onder","kpiAlertDialog.withAttributeFilters":"{numFilters} meer {numFilters, select, 1 {filter} other {filters}} toegepast","messages.exportResultError":"Exporteren van gegevens is mislukt. Probeer het later opnieuw.","messages.exportResultRestrictedError":"U kunt dit inzicht niet exporteren omdat het beperkte gegevens bevat.","messages.exportResultStart":"Bezig met exporteren","messages.exportResultSuccess":"Exporteren geslaagd.","messages.sharingChangedSuccess":"Delen bijgewerkt.","messages.sharingChangedError.general":"Bijwerken van instellingen voor delen konden niet worden bijgewerkt. Probeer het later opnieuw.","messages.sharingDialogError.general":"Laden van instellingen voor delen mislukt. Probeer het later opnieuw.","visualization.dataTooLarge.headline":"Te veel datapunten om weer te geven","visualization.dataTooLarge.text":"Probeer om een of meerdere filters op uw dashboard toe te passen.","visualization.execute_protected_report.headline":"U bent niet gemachtigd om dit rapport te bekijken","visualization.execute_protected_report.text":"Neem contact op met uw beheerder.","visualization.alert_not_supported":"Alarmen worden niet ondersteund voor de statische datumperiode","visualization.empty.headline":"Geen data voor uw filterselectie","visualization.error.headline":"Sorry, we kunnen dit inzicht niet weergeven","visualization.error.text":"Neem contact op met uw beheerder.","options.button.bubble":"Inzichtgegevens exporteren","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"U kunt het inzicht momenteel niet exporteren. Probeer verschillende filters toe te passen of verschillende maten of attributen te gebruiken.","options.menu.unsupported.error._metric":"Het inzicht kan momenteel niet worden geëxporteerd. Probeer verschillende filters toe te passen of diverse meetgegevens of attributen te gebruiken.","options.menu.unsupported.loading":"U kunt het inzicht momenteel niet exporteren.","export.defaultTitle":"Inzicht zonder naam","export_unsupported.disabled":"Exporteren wordt niet ondersteund","widget.options.menu.exportToCSV":"Exporteren naar CSV","widget.options.menu.exportToXLSX":"Exporteren naar XLSX","widget.options.menu.scheduleExport":"Planning export","share.button.text":"Deel","dashboard.error.empty.heading":"Dit dashboard is leeg","dashboard.error.empty.text":"Alle inzichten zijn verwijderd.","dashboard.shareDialog.underLenientControl.label":"Andere gebruikers hebben toegang tot dit dashboard als ze erop inzoomen","dashboard.shareDialog.lock.label":"Alleen beheerders kunnen dit dashboard bewerken","header.lockStatus.tooltip":"<b>Dit dashboard is vergrendeld.</b> Alleeb beheerders kunnen dit dashboard bewerken.","header.shareStatus.private.text":"Privé","header.shareStatus.private.strict.tooltip":"Alleen u kunt dit dashboard bekijken en bewerken.","header.shareStatus.private.not.strict.tooltip":"De maker kan dit dashboard bewerken. Andere gebruikers met geschikte gebruikersrollen kunnen dit dashboard bewerken als ze erop inzoomen.","dashboard.shareDialog.removeAccessGranteeTooltip":"Verwijder de toegang tot dit dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"De gebruiker die dit dashboard heeft gemaakt. Makers kunnen niet worden verwijderd.","attributesDropdown.placeholder":"Zoeken…","attributesDropdown.configuration":"Configuratie","attributesDropdown.itemsFiltered":"Items zijn gefilterd","attributesDropdown.allItemsFiltered":"Alle items zijn uitgefilterd","attributesDropdown.itemsFiltered.tooltip":"Items zijn gefilterd op: <strong>{filters}</strong> ","attributesDropdown.save":"Opslaan","attributesDropdown.filterBy":"Filteren volgens","attributesDropdown.displayValuesAs":"Waarden weergeven als","attributesDropdown.title":"titel","attributesDropdown.title.reset":"Reset","attributesDropdown.selectionMode":"Selectie","attributesDropdown.selectionMode.multi":"Meerdere waarden","attributesDropdown.selectionMode.single":"Enkele waarde","attributesDropdown.selectionMode.disabled.tooltip":"Selectie van enkele waarde is niet toegestaan als filters worden geselecteerd in Filteren op. Schakel om de selectie van een enkele waarde te gebruiken alle filters uit in Filteren op.","attributesDropdown.parentFilter.disabled.tooltip":"Filteren op andere filters is uitgeschakeld voor de selectie van een enkele waarde. Om Filteren op in te stellen, selecteert u de selectie van meerdere waarden.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> kan niet worden gefilterd op <strong>{parentTitle}</strong>. Er is geen verbinding tussen de filterattributen in het gegevensmodel.","attributesDropdown.details.dataset":"Dataset","attributesDropdown.details.values":"Waarden","attributesDropdown.details.shortening_decoration":"…en {count} meer","attributesDropdown.removeTooltip":"Verwijderen van dashboard","layout.header.characters.left":"Nog {currentCharactersCount} / {maximumCharactersCount} tekens","layout.header.add.title.placeholder":"Titel hier toevoegen...","layout.header.add.description.placeholder":"Beschrijving hier toevoegen...","error":"Fout","controlButtons.edit.value":"Bewerken","controlButtons.saveAndPublish.value":"Opslaan & publiceren","controlButtons.save.value":"Opslaan","controlButtons.saveAndPublish.title":"Alle wijzigingen zijn meteen zichtbaar voor iedereen die toegang heeft tot dit dashboard.","controlButtons.saveAsPrivate.title":"Alle wijzigingen worden opgeslagen.","controlButtons.saveAndPublish.disable.empty.title":"Een leeg dashboard kan niet worden opgeslagen","controlButtons.saveAndPublish.disable.noChanges.title":"Er zijn geen wijzigingen om op te slaan","controlButtons.saving.value":"Opslaan…","gs.visualizationsList.tabs.all":"alle","gs.visualizationsList.tabs.my":"door mij aangemaakt","visualizationsList.noInsights":"Deze werkruimte bevat geen inzichten.","visualizationsList.create":"Inzicht maken","visualizationsList.noUserInsights":"Geen inzichten gemaakt.","visualizationsList.noVisualizationsFound":"Geen overeenkomstig inzicht.","search_insights":"Alle doorzoeken…","save.as.new":"Opslaan als nieuw","addPanel.deleteItem":"Laat los om te verwijderen","addPanel.newItem":"Nieuw item","addPanel.attributeFilter":"Kenmerkfilter","addPanel.filter":"Filter","addPanel.attributeFilter.tooltip.no_attributes":"Het attributenfilter vereist een attribuut.","addPanel.attributeFilter.tooltip.no_items":"Het filter vereist een attribuut of een datum-dataset.","addPanel.attributeFilter.tooltip.no_attributes.link":"Meer weten","addPanel.kpi":"Key Performance Indicator","addPanel.kpi.tooltip.no_measures._measure":"De Key Performance Indicator vereist een berekende maat.","addPanel.kpi.tooltip.no_measures._metric":"De Key Performance Indicator vereist meetgegevens.","addPanel.kpi.tooltip.no_measures.link":"Meer weten","visualizationsList.dragToAdd":"Versleep om toe te voegen","visualizationsList.savedVisualizations":"Opgeslagen inzichten","configurationPanel.drillConfig.selectDashboard":"Dashboard kiezen…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Zoeken in alle dashboards…","configurationPanel.drillConfig.forbiddenDashboard":"(Niet gedeeld met u)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"Dashboard is niet gedeeld met u, maar andere gebruikers hebben toegang tot dit dashboard.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"Dashboard is niet gedeeld met u, maar andere gebruikers hebben er toegang tot als zij inzoomen.","configurationPanel.remove.form.dashboard":"Verwijderen van dashboard","filterBar.filter.drop":"laat los om toe te voegen","filterBar.filter.addFilterPlaceholder":"Sleep {icon} hierheen","filterBar.filter.dropzone.tooltip":"Sleep het attributenfilter hierheen.","filterBar.filter.dropzone.tooltip.generic":"Sleep het filter hierheen.","configurationPanel.title":"Configuratie","configurationPanel.comparison":"Vergelijking","configurationPanel.compareWith":"Vergelijken met","configurationPanel.increasingNumberIs":"Stijgend aantal is","configurationPanel.comparisonTypeItems.previousPeriod":"Vorige periode","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Dezelfde periode in het vorige jaar","configurationPanel.comparisonTypeItems.noComparison":"Geen vergelijking","configurationPanel.comparisonDirectionItems.green":"Groen","configurationPanel.comparisonDirectionItems.red":"Rood","configurationPanel.unlistedMetric._measure":"Niet-vermelde maat","configurationPanel.unlistedMetric._metric":"Niet-weergegeven meetgegevens","configurationPanel.unlistedMetricIconTitle._measure":"Deze maat is verborgen en is alleen voor u zichtbaar.","configurationPanel.unlistedMetricIconTitle._metric":"Deze meetgegevens zijn verborgen en alleen voor u zichtbaar.","configurationPanel.selectMeasurePlaceholder._measure":"Maat selecteren…","configurationPanel.selectMeasurePlaceholder._metric":"Meetgegevens selecteren…","configurationPanel.selectComparisonPlaceholder":"Vergelijking selecteren…","configurationPanel.selectComparisonDirectionPlaceholder":"Positief/negatief selecteren","configurationPanel.measure._measure":"Maat","configurationPanel.measure._metric":"Meetgegeven","configurationPanel.filterBy":"Filteren volgens","configurationPanel.date":"Datum","configurationPanel.dateAs":"als","configurationPanel.vizCantBeFilteredByAttribute":"Het inzicht kan niet worden gefilterd op {attributeName}, verwijder het keuzevinkje.","configurationPanel.kpiCantBeFilteredByAttribute":"De KPI kan niet worden gefilterd op {attributeName}. Vink het selectievakje af.","configurationPanel.vizCantBeFilteredByDate":"Het Inzicht kan niet worden gefilterd volgens Datum, verwijder het keuzevinkje.","configurationPanel.kpiCantBeFilteredByDate":"De KPI kan niet worden gefilterd op Datum. Vink het selectievakje af.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" kan niet langer op het inzicht worden toegepast. Selecteer een andere dimensie of bewerk het inzicht.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" kan niet langer op de KPI worden toegepast. Selecteer een andere dimensie of bewerk de KPI.","configurationPanel.breakAlertWarning":"\\n            Gebruikers hebben {numAlerts} {numAlerts, select, 1 {alarm} other {alarmen}}\\n            ingesteld voor deze KPI. Het aanpassen van de KPI heeft gevolgen voor {numAlerts, select, 1 {dit alarm} other {deze alarmen}}.\\n","configurationPanel.drillIntoDashboard":"Drill in dashboard","configurationPanel.noLinkableDashboards":"Geen dashboard om te linken","configurationPanel.selectDashboard":"Een dashboard selecteren","configurationPanel.interactions":"Interacties","configurationPanel.drillConfig.interactions":"Inzoomen-interacties","configurationPanel.drillConfig.addInteraction":"Interactie toevoegen","configurationPanel.drillConfig.clickHint":"Als ik klik op","configurationPanel.drillConfig.measureValue._measure":"Waarde van maat","configurationPanel.drillConfig.measureValue._metric":"Waarde van meetgegevens","configurationPanel.drillConfig.attributeValue":"Waarde van attribuut","configurationPanel.drillConfig.selectTarget":"Ik wil","configurationPanel.drillConfig.clickHintItem":"Als ik klik op <addon>(waarde van)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Drill in dashboard","configurationPanel.drillConfig.drillIntoInsight":"Inzoomen op inzicht","configurationPanel.drillConfig.drillDown":"Zoomen","configurationPanel.drillConfig.disableDrillDownTooltip":"Zoomen is uitgeschakeld in de configuratie van dit inzicht.","configurationPanel.drillConfig.drillIntoUrl":"Inzoomen op URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Ongeldige URL-parameters","configurationPanel.drillConfig.select":"Actie kiezen…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"De datum-attribuutwaarde van het inzicht wordt niet overgedragen om het doel-dashboard te filteren.","configurationPanel.unlistedDashboardTab":"Niet-vermeld dashboard","configurationPanel.visualprops.sectionTitle":"titel","configurationPanel.visualprops.hideTitle":"Titel verbergen","configurationPanel.visualprops.sectionDescription":"Beschrijving","configurationPanel.visualprops.inheritDescription":"Erven","configurationPanel.visualprops.inheritDescriptionHelp":"Erf de beschrijving van het inzicht.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Erf de beschrijving van de meetgegevens.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Erf de beschrijving van de maat.","configurationPanel.visualprops.customDescription":"Aangepast","configurationPanel.visualprops.customDescriptionHelp":"Voeg een aangepaste beschrijving toe voor dit exemplaar van het inzicht.","configurationPanel.visualprops.customKpiDescriptionHelp":"Voeg een aangepaste beschrijving toe.","configurationPanel.visualprops.noneDescription":"Geen","configurationPanel.visualprops.includeMetrics._measure":"Beschrijvingen van maten insluiten","configurationPanel.visualprops.includeMetrics._metric":"Beschrijvingen van meetgegevens insluiten","configurationPanel.visualprops.includeMetricsHelp._measure":"Weergavegedeelte met lijst met maten van het inzicht en de beschrijvingen ervan.","configurationPanel.visualprops.includeMetricsHelp._metric":"Weergavegedeelte met lijst met meetgegevens van het inzicht en de beschrijvingen ervan.","configurationPanel.visualprops.descriptionPlaceholder":"Beschrijving toevoegen…","configurationPanel.drillIntoUrl.defaultButtonValue":"URL kiezen","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hyperlink in attributenlabel","configurationPanel.drillIntoUrl.customUrlSectionTitle":"Aangepaste URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Aangepaste URL toevoegen","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Aangepaste URL bewerken","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parameters","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Parameters en tijdelijke aanduidingen die worden vervangen door dynamische waarden tijdens het inzoomen.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Toevoegen","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Type","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Label","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {waarde} other {waarden}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...en nog {count}","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"Inzicht-ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"Client-ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"Gegevensproduct-ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"Project-ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"Werkruimte-ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"Widget-ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"Dashboard-ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificator","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Inzicht","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identifiers","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"Dashboard","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Toepassen","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Annuleren","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Voer de URL in en voeg parameters toe vanuit het rechterpaneel.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Hoe kan ik aangepaste URL\'s maken?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Ongeldige parameters: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Aangepaste URL toevoegen","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Aangepaste URL bewerken","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Waarde attributenlabel","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Waarde attribuut-geo","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Waarde attribuut-URL","configurationPanel.zoomInsight":"Zoombaar inzicht","configurationPanel.zoomInsight.help":"Schakel inzoomen op het inzicht in voor een gedetailleerd overzicht. Houd de Shift-toets ingedrukt om het ingezoomde gebied zijwaarts te schuiven.","configurationPanel.zoomInsight.notice":"Zoomen wordt niet toegepast op geëxporteerde dashboards","configurationPanel.drillConfig.selectInsight":"Inzicht kiezen…","gs.date.date-dataset.recommended":"Aanbevolen","gs.date.date-dataset.other":"Overige","gs.date.date-dataset.related":"Verwant","gs.date.date-dataset.unrelated":"Niet verwant","gs.date.date-dataset.unrelated_hidden":"{count} ongerelateerde {count, plural, one {datum} other {datums}} {isShow, select, true {zichtbaar} other {verborgen}}.","gs.date.date-dataset.unrelated.show":"Tonen","gs.date.date-dataset.unrelated.hide":"Verbergen","gs.date.date-dataset.duplicityWarning":"Een ander filter gebruikt dezelfde datum-dataset. Schakel dit filter uit of stel een andere datum in.","layout.widget.width.min":"Widget heeft de minimale breedte","layout.widget.width.max":"Widget heeft de maximale breedte","layout.widget.height.min":"Widget heeft de minimale hoogte","layout.widget.height.max":"Widget heeft de maximale hoogte","layout.widget.addedByPlugin":"Toegevoegd door plugin","layout.widget.modifiedByPlugin":"Aangepast door plugin","layout.widget.hideOverlay":"Overlay verbergen","dropzone.new.row.desc":"Op de <b>nieuwe sectie</b> laten vallen","dropzone.widget.desc":"<b>Hier</b> laten vallen","dropzone.widget.last.in.row.desc":"Op de <b>bestaande sectie</b> laten vallen","deleteKpiConfirmationDialog.headline":"KPI verwijderen","deleteKpiConfirmationDialog.message":"Alle ingestelde alarmen voor deze KPI zullen ook worden verwijderd.","deleteKpiConfirmationDialog.submitButtonText":"Verwijderen","newDashboard.title":"Inzicht hierheen slepen","newDashboard.dropInsight":"Inzicht laten vallen","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> is al gefilterd op <strong>{childTitle}</strong>, rechtstreeks of via andere filters.","attributesDropdown.attributeNameWithData":"met gegevens van","filter.visibilityMode.tooltip.hidden":"Dit filter is verborgen. Het is alleen toegankelijk via de bewerkingsmodus.","filter.visibilityMode.tooltip.readonly.editMode":"Dit filter is vergrendeld. U kunt het alleen wijzigen via de bewerkingsmodus.","filter.visibilityMode.tooltip.readonly.viewMode":"Dit filter is vergrendeld.","filter.resetButton.tooltip":"Alle filters herstellen","dateFilterDropdown.save":"Opslaan","filter.configuration.mode.title":"Modus","filter.configuration.mode.interactive.title":"Interactief","filter.configuration.mode.interactive.tooltip":"Dashboard-gebruikers kunnen he filter zien en wijzigen.","filter.configuration.mode.locked.title":"Vergrendeld","filter.configuration.mode.locked.tooltip":"Dashboard-gebruikers kunnen het filter zien maar niet wijzigen.","filter.configuration.mode.hidden.title":"Verborgen","filter.configuration.mode.hidden.tooltip":"Dashboard-gebruikers kunnen het filter niet zien maar het wordt wel toegepast.","filter.dependency.icon.tooltip":"Beschikbare waarden voor <strong>{filterTitle}</strong> worden beperkt door selectie in een ander filter.","configurationPanel.drillConfig.alreadyUsedTooltip":"Deze <strong>hiërarchie</strong> wordt al gebruikt voor <strong>dezelfde</strong> zoom."}'),GI=JSON.parse('{"loading":"Carregando…","untitled":"Sem título","empty_value":"valor vazio","gs.list.cancel":"Cancelar","gs.list.apply":"Aplicar","gs.list.only":"Só","messages.dashboardSaveSuccess":"Ótimo. Salvamos seu dashboard.","options.menu.save.as":"Salvar como novo","options.menu.save.as.tooltip":"Não é possível salvar dashboards vazios.","messages.dashboardSaveFailed":"Falha ao salvar painel. Tente novamente.","messages.dashboard.invalidDrills.title":"<b>Algumas interações foram removidas</b>","messages.dashboard.invalidDrills.body.modern._measure":"Um ou mais dashboards/insights/medidas/atributos foram alterados ou excluídos, causando a remoção de algumas interações dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Um ou mais dashboards/insights/métricas/atributos foram alterados ou excluídos, causando a remoção de algumas interações dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Algumas das interações de detalhar URL não estão funcionando</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Parâmetros de URL inválidos em suas URLs personalizadas estão fazendo com que as interações de detalhar URL falhem nesses widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Exibir mais","messages.dashboard.expandable.showLess":"Exibir menos","messages.drill.InteractionConfiguredSuccess":"Interação configurada.","messages.drill.InteractionUpdatedSuccess":"Interação atualizada.","filterBar.showAll":"Exibir tudo","filterBar.showLess":"Exibir menos","options.menu.export.PDF":"Exportar para PDF","options.menu.schedule.email":"Agendar envio por e-mail","options.menu.delete":"Excluir","dialogs.export.cells":"CÉLULAS","dialogs.export.filters":"CONTEXTO DO INSIGHT","dialogs.export.includeFilters":"Incluir filtros aplicados","dialogs.export.headline":"Exportar para XLSX","dialogs.export.mergeHeaders":"Manter células de atributo mescladas","dialogs.export.submit":"Exportar","dialogs.schedule.email.delete.success":"Sucesso! Seu e-mail agendado foi excluído.","dialogs.schedule.email.submit.success":"Sucesso! Seu painel está agendado para envio por e-mail.","dialogs.schedule.email.submit.error":"Erro ao agendar o painel. Tente novamente mais tarde.","dialogs.schedule.email.save.success":"Sucesso! Seu agendamento foi salvo.","dialogs.schedule.email.save.error":"Não foi possível salvar o agendamento. Tente novamente mais tarde.","dialogs.save.as.new.title":"Salvar dashboard como novo","dialogs.save.as.new.desc":"Dê um nome descritivo ao seu novo dashboard para que seja mais fácil localizá-lo depois.","dialogs.save.as.new.default.title":"Copiar de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"As programações de alertas e e-mails não serão duplicadas.","dialogs.save.as.new.alertsMessage":"Os alertas não serão duplicados","dialogs.save.as.new.emailsMessage":"Os agendamentos de e-mail não serão duplicados","cancelConfirmationDialog.headline":"Descartar alterações?","cancelConfirmationDialog.message":"Todas as alterações serão perdidas","cancelConfirmationDialog.submitButtonText":"Descartar alterações","deleteDashboardDialog.headline":"Excluir painel?","deleteDashboardDialog.submitButtonText":"Excluir","deleteDashboardDialog.alertsAndEmailsMessage":"Todos os alertas e e-mails agendados configurados para este painel também serão excluídos.","deleteDashboardDialog.alertsMessage":"Todos os alertas configurados para este painel também serão excluídos.","deleteDashboardDialog.emailsMessage":"Todos os e-mails programados para este dashboard também serão excluídos.","deleteDashboardDialog.drillMessage":"Todos os detalhamentos de outros painéis dentro deste painel serão removidos.","create.dashboard":"Criar dashboard","drill_modal_picker.drill-down":"Detalhamento aprofundado","drill_modal_picker.drill-into":"Detalhar","drill_modal_picker.cross-filter":"Entre filtros","drill_modal_picker.more.details":"Mais detalhes","drillModal.backToTop":"Voltar ao início","filters.allTime.previousPeriod":"período ant.","filters.allTime.lastYear":"ano anter.","filters.minute.previousPeriod":"minuto anter.","filters.hour.previousPeriod":"hora anter.","filters.day.previousPeriod":"{n, plural, one {dia} other {#d}} ant.","filters.week.previousPeriod":"{n, plural, one {semana} other {#s}} ant.","filters.month.previousPeriod":"{n, plural, one {mês} other {#m}} ant.","filters.quarter.previousPeriod":"{n, plural, one {trimestre} other {#t}} ant.","filters.year.previousPeriod":"{n, plural, one {ano} other {#a}} ant.","filters.alertMessage.relativePreset":"em {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"no período de {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Há mais de uma configuração de filtro de data associada a este projeto. O primeiro foi usado.","filters.config.warning.multipleWorkspacesConfigs":"Há mais de uma configuração de filtro de data associada a este espaço de trabalho. O primeiro foi usado.","filters.config.warning.selectedFilterNotValid":"A opção de filtro padrão não é válida. Use a primeira opção disponível.","filters.config.warning.allOptionsHidden":"A configuração do filtro de data do painel foi ignorada porque teria ocultado todas as opções de filtro.","filters.config.warning.conflictingIdentifiers":"A configuração do filtro de data do dashboard foi ignorada porque contém opções de filtro de data com identificadores idênticos.","filters.config.warning.notAvailable":"A configuração do filtro de data do projeto não foi definida ou você não tem as permissões para acessá-la.","filters.config.warning.workspace.notAvailable":"A configuração do filtro de data do espaço de trabalho  não foi definida ou você não tem as permissões para acessá-la.","filters.configurationPanel.header":"Configuração","filters.configurationPanel.sectionHeader.interactions":"Interações","filters.configurationPanel.crossFiltering.toggle":"Entre filtros","kpi.noData":"Sem dados para configurações atuais do filtro. Tente alterar os filtros.","kpiPop.change":"alterado","dialogs.schedule.email.filters":"O dashboard contém alterações no filtro que serão salvas conforme o agendamento.","dialogs.schedule.email.filters.not.saved":"Filtros de dashboard salvos conforme o agendamento não serão afetados.","dialogs.schedule.email.attachment.filter":"(com filtros definidos)","dialogs.schedule.email.attachment.label":"Anexar:","dialogs.schedule.email.attachments.label":"Anexos:","dialogs.schedule.email.attachment.select":"Selecionar anexos","dialogs.schedule.email.attachment.select.disabled.message":"Este dashboard não contém insights.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Insights (CSV, XLSX)","dialogs.schedule.email.headline":"Agendar entrega de e-mail","dialogs.schedule.email.heading":"Agendar exportação","dialogs.schedule.email.message.label":"Mensagem:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 destinatário descadastrado} other {# destinatários descadastrados}} deste agendamento.","dialogs.schedule.email.repeats.label":"Repetições:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"no dia {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"ao {week, select, 1 {primeira} 2 {segunda} 3 {terceira} 4 {quarta} other {última}} {day}","dialogs.schedule.email.repeats.every":"a cada","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {dia} other {dias}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {mês} other {meses}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semana} other {semanas}}","dialogs.schedule.email.repeats.types.custom":"Personalizado","dialogs.schedule.email.repeats.types.daily":"Diariamente","dialogs.schedule.email.repeats.types.monthly":"Mensalmente ao {week, select, 1 {primeiro} 2 {segundo} 3 {terceiro} 4 {quarto} other {último}} {day}","dialogs.schedule.email.repeats.types.weekly":"Semanalmente às {day}","dialogs.schedule.email.subject.label":"Assunto:","dialogs.schedule.email.time.label":"Primeira ocorrência:","dialogs.schedule.email.to.label":"Para:","dialogs.schedule.email.message.placeholder":"Olá,\\n\\nSeu e-mail agendado está pronto. Você pode baixar o dashboard nos anexos.","dialogs.schedule.email.submit":"Agendar","dialogs.schedule.email.save":"Salvar","dialogs.schedule.email.format.options":"Opções de formato","dialogs.schedule.email.insight.format":"Formato de insight:","dialogs.schedule.email.attribute.merged":"Manter células de atributo mescladas","dialogs.schedule.email.show.filters":"Mostrar que filtros são aplicados","dialogs.schedule.management.title":"Exportações agendadas","dialogs.schedule.management.delete":"Excluir o agendamento.","dialogs.schedule.management.delete.dialog":"Excluir agendamento?","dialogs.schedule.management.delete.dialog.confirm":"<b>O agendamento</b> será excluído permanentemente.","dialogs.schedule.management.noSchedules":"Este dashboard não contém exportações agendadas.{br}Adicione uma agora.","dialogs.schedule.management.noSchedules.byUser":"Você ainda não agendou nenhuma exportação.{br}Adicione uma agora.","dialogs.schedule.management.addSchedule":"Adicionar agendamento","dialogs.schedule.management.recipients":"{n, plural, one {# recipiente} other {# recipientes}}","dialogs.schedule.management.recipients.onlyYou":"Apenas você","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.attachments.mixed":"Dashboard e {n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.load.error":"Não foi possível carregar. Tente novamente mais tarde.","dialogs.schedule.management.delete.error":"Não foi possível excluir o agendamento. Tente novamente mais tarde.","dialogs.schedule.management.tab.all":"todos","dialogs.schedule.management.tab.user":"criado por mim","options.menu.schedule.email.recipient.invalid":"Este não é um endereço de e-mail válido.","options.menu.schedule.email.recipient.warning.existed":"Você já adicionou este destinatário.","options.menu.schedule.email.recipient.warning.belong.workspace":"Este endereço de e-mail não pertence a este espaço de trabalho. O destinatário pode receber dados sigilosos.","options.menu.schedule.email.recipient.external.not.allowed":"Este endereço de e-mail não pertence a este espaço de trabalho. Apenas o autor do agendamento pode adicionar este endereço de e-mail.","delete":"Excluir","close":"Fechar","cancel":"Cancelar","gs.date.at":"em","gs.date.today":"Hoje","gs.date.tomorrow":"Amanhã","gs.date.yesterday":"Ontem","kpi.alertBox.title":"Definir alerta na alteração de KPI","kpi.alertBox.example":"p. ex.,","kpi.alertBox.unverifiedEmail":"Infelizmente, você não pode definir um alerta. Garanta que seu e-mail seja verificado. Se isso não ajudar, peça para o administrador atualizar suas permissões.","kpi.alertBox.disabledInReadOnly":"Os alertas estão desabilitados no modo somente leitura","kpi.error.view":"Não é possível exibir o KPI. Entre em contato com seu administrador para corrigir a definição do KPI.","kpiAlertDialog.delete":"Excluir","kpiAlertDialog.deleting":"Excluindo…","kpiAlertDialog.emailMe":"Enviar-me e-mail","kpiAlertDialog.emailMeWhen":"{emailMe} quando este KPI for","kpiAlertDialog.emailInfo":"O e-mail será enviado para {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Número inválido.</strong>{br}Verifique e tente novamente.","kpiAlertDialog.filtersDiffer":"O KPI foi filtrado de outra maneira em relação a quando o alerta foi configurado.","kpiAlertDialog.filtersApply":"Aplicar filtros de alerta ao painel","kpiAlertDialog.savingFailed":"Falha ao salvar alerta. Tente novamente.","kpiAlertDialog.deleteingFailed":"Falha ao excluir alerta. Tente novamente.","kpiAlertDialog.brokenAlert":"Alerta interrompido","kpiAlertDialog.brokenAlertAppeal":"Para ver o valor KPI correcto, atualize os filtros nesta alerta. Você também poderá remover o alerta.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Data","kpiAlertDialog.removedFilters":"Filtros removidos do painel","kpiAlertDialog.ignoredFilters":"Filtros ignorados por este KPI","kpiAlertDialog.updateTitle":"Atualizar","kpiAlertDialog.updateBrokenTitle":"Atualizar filtros","kpiAlertDialog.updatingTitle":"Atualizando…","kpiAlertDialog.updateBrokenFailed":"Falha ao atualizar os filtros. Tente novamente.","kpiAlertDialog.setTitle":"Definir alerta","kpiAlertDialog.settingTitle":"Definindo…","kpiAlertDialog.threshold.above":"acima","kpiAlertDialog.threshold.below":"abaixo","kpiAlertDialog.withAttributeFilters":"{numFilters} mais {numFilters, select, 1 {filtro aplicado} other {filtros aplicados}}","messages.exportResultError":"Falha ao exportar os dados. Tente novamente.","messages.exportResultRestrictedError":"Você não pode exportar esse insight porque ele contém dados restritos.","messages.exportResultStart":"Exportação em curso","messages.exportResultSuccess":"Exportação concluída com sucesso.","messages.sharingChangedSuccess":"Compartilhamento atualizado.","messages.sharingChangedError.general":"Não foi possível atualizar as configurações do compartilhamento. Tente novamente mais tarde.","messages.sharingDialogError.general":"Não foi possível carregar as configurações do compartilhamento. Tente novamente mais tarde.","visualization.dataTooLarge.headline":"Muitos pontos de dados a serem exibidos","visualization.dataTooLarge.text":"Tente aplicar um ou mais filtros ao seu painel.","visualization.execute_protected_report.headline":"Você não tem autorização para ver este relatório","visualization.execute_protected_report.text":"Entre em contato com seu administrador.","visualization.alert_not_supported":"Não há suporte para alertas no período de datas estático","visualization.empty.headline":"Sem dados para seleção de filtro","visualization.error.headline":"Lamentamos, não é possível exibir este insight","visualization.error.text":"Entre em contato com seu administrador.","options.button.bubble":"Exportar dados do insight","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"O insight não pode ser exportado no momento. Tente aplicar filtros diferentes, ou usar medidas e atributos diferentes.","options.menu.unsupported.error._metric":"Não é possível exportar o insight no momento. Tente aplicar outros filtros ou usar métricas ou atributos diferentes.","options.menu.unsupported.loading":"O insight não pode ser exportado no momento.","export.defaultTitle":"Insight sem título","export_unsupported.disabled":"Exportação não é compatível.","widget.options.menu.exportToCSV":"Exportar para CSV","widget.options.menu.exportToXLSX":"Exportar para XLSX","widget.options.menu.scheduleExport":"Agendar exportação","share.button.text":"Compartilhar","dashboard.error.empty.heading":"Dashboard vazio","dashboard.error.empty.text":"Todos os insights foram removidos.","dashboard.shareDialog.underLenientControl.label":"Outros usuários podem acessar o dashboard pelo detalhamento","dashboard.shareDialog.lock.label":"Somente administradores podem editar o dashboard","header.lockStatus.tooltip":"<b>Dashboard bloqueado.</b> Somente administradores podem editá-lo.","header.shareStatus.private.text":"Privado","header.shareStatus.private.strict.tooltip":"Somente você pode ver e editar o dashboard.","header.shareStatus.private.not.strict.tooltip":"O criador não consegue editar este dashboard. Outros usuários com funções apropriadas poderão editá-lo no detalhamento.","dashboard.shareDialog.removeAccessGranteeTooltip":"Remover acesso a este dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"O usuário que criou o dashboard. Não é possível remover os criadores.","attributesDropdown.placeholder":"Pesquisar…","attributesDropdown.configuration":"Configuração","attributesDropdown.itemsFiltered":"Os itens estão filtrados","attributesDropdown.allItemsFiltered":"Todos os itens estão filtrados","attributesDropdown.itemsFiltered.tooltip":"Os itens estão filtrados por: <strong>{filters}</strong>","attributesDropdown.save":"Salvar","attributesDropdown.filterBy":"Filtrar por","attributesDropdown.displayValuesAs":"Exibir valores como","attributesDropdown.title":"Título","attributesDropdown.title.reset":"Restaurar","attributesDropdown.selectionMode":"Seleção","attributesDropdown.selectionMode.multi":"Vários valores","attributesDropdown.selectionMode.single":"Valor único","attributesDropdown.selectionMode.disabled.tooltip":"Não é permitido selecionar um único valor se houver filtros selecionados em Filtrar por. Para usar Selecionar um único valor, desative todos os filtros em Filtrar por.","attributesDropdown.parentFilter.disabled.tooltip":"Filtrar por outros filtros está desativado para Selecionar um único valor. Para ajustar Filtrar por, escolha a seleção de múltiplos valores.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> não pode ser filtrado por <strong>{parentTitle}</strong>. Não há conexão entre os atributos do filtro e o modelo de dados.","attributesDropdown.details.dataset":"Conjunto de Dados","attributesDropdown.details.values":"Valores","attributesDropdown.details.shortening_decoration":"…e mais {count}","attributesDropdown.removeTooltip":"Remover do dashboard","layout.header.characters.left":"{currentCharactersCount}/{maximumCharactersCount} caracteres restantes","layout.header.add.title.placeholder":"Adicione o título aqui...","layout.header.add.description.placeholder":"Adicione a descrição aqui...","error":"Erro","controlButtons.edit.value":"Editar","controlButtons.saveAndPublish.value":"Salvar e publicar","controlButtons.save.value":"Salvar","controlButtons.saveAndPublish.title":"Todas as alterações serão vistas imediatamente por todos que tiverem acesso ao dashboard.","controlButtons.saveAsPrivate.title":"Todas as alterações serão salvas.","controlButtons.saveAndPublish.disable.empty.title":"Não é possível salvar um dashboard vazio","controlButtons.saveAndPublish.disable.noChanges.title":"Não há alterações para salvar","controlButtons.saving.value":"Salvando…","gs.visualizationsList.tabs.all":"todos","gs.visualizationsList.tabs.my":"criado por mim","visualizationsList.noInsights":"O espaço de trabalho não contém nenhum insight.","visualizationsList.create":"Criar insight","visualizationsList.noUserInsights":"Nenhum insight foi criado.","visualizationsList.noVisualizationsFound":"Sem resultado de insights.","search_insights":"Pesquisar insights…","save.as.new":"Salvar como novo","addPanel.deleteItem":"Solte para remover","addPanel.newItem":"Novo item","addPanel.attributeFilter":"Filtro de atributo","addPanel.filter":"Filtrar","addPanel.attributeFilter.tooltip.no_attributes":"O filtro de atributo requer um atributo.","addPanel.attributeFilter.tooltip.no_items":"O filtro precisa de um conjunto de dados de atributo ou data.","addPanel.attributeFilter.tooltip.no_attributes.link":"Saber mais","addPanel.kpi":"Indicador Chave de Desempenho","addPanel.kpi.tooltip.no_measures._measure":"O indicador chave de desempenho requer uma medida calculada.","addPanel.kpi.tooltip.no_measures._metric":"O indicador chave de desempenho requer uma métrica.","addPanel.kpi.tooltip.no_measures.link":"Saber mais","visualizationsList.dragToAdd":"Arraste para adicionar","visualizationsList.savedVisualizations":"Insights salvos","configurationPanel.drillConfig.selectDashboard":"Escolher painel…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Pesquisar em todos os painéis…","configurationPanel.drillConfig.forbiddenDashboard":"(Não compartilhado com você)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"O dashboard não foi compartilhado com você, mas outros usuários têm acesso a ele.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"O dashboard não foi compartilhado com você, mas todos os usuários podem acessá-lo pelo detalhamento.","configurationPanel.remove.form.dashboard":"Remover do dashboard","filterBar.filter.drop":"solte para adicionar","filterBar.filter.addFilterPlaceholder":"Arraste {icon} para aqui","filterBar.filter.dropzone.tooltip":"Arraste o filtro de atributo até aqui.","filterBar.filter.dropzone.tooltip.generic":"Arraste o fitro até aqui.","configurationPanel.title":"Configuração","configurationPanel.comparison":"Comparação","configurationPanel.compareWith":"Comparar com","configurationPanel.increasingNumberIs":"O número ascendente é","configurationPanel.comparisonTypeItems.previousPeriod":"Período anterior","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Mesmo período no ano anterior","configurationPanel.comparisonTypeItems.noComparison":"Sem comparação","configurationPanel.comparisonDirectionItems.green":"Verde","configurationPanel.comparisonDirectionItems.red":"Vermelho","configurationPanel.unlistedMetric._measure":"Medida não listada","configurationPanel.unlistedMetric._metric":"Métrica não listada","configurationPanel.unlistedMetricIconTitle._measure":"Esta medida está oculta. Apenas você poderá vê-la.","configurationPanel.unlistedMetricIconTitle._metric":"Essa métrica está oculta. Só você pode vê-la.","configurationPanel.selectMeasurePlaceholder._measure":"Selecionar medida…","configurationPanel.selectMeasurePlaceholder._metric":"Selecionar métrica…","configurationPanel.selectComparisonPlaceholder":"Selecionar comparação…","configurationPanel.selectComparisonDirectionPlaceholder":"Selecionar positivo/negativo","configurationPanel.measure._measure":"Medida","configurationPanel.measure._metric":"Métrica","configurationPanel.filterBy":"Filtrar por","configurationPanel.date":"Data","configurationPanel.dateAs":"como","configurationPanel.vizCantBeFilteredByAttribute":"O insight não pode ser filtrado por {attributeName}. Desmarque a caixa de seleção.","configurationPanel.kpiCantBeFilteredByAttribute":"O KPI não pode ser filtrado por {attributeName}. Desmarque a caixa de seleção.","configurationPanel.vizCantBeFilteredByDate":"Não é possível filtrar o insight por data. Desmarque a caixa de seleção.","configurationPanel.kpiCantBeFilteredByDate":"O KPI não pode ser filtrado por Data. Desmarque a caixa de seleção.","configurationPanel.unrelatedVizDateInfo":"Não é possível aplicar \\"{dateDataSet}\\" ao insight. Selecione uma dimensão diferente ou edite o insight.","configurationPanel.unrelatedKpiDateInfo":"Não é possível aplicar \\"{dateDataSet}\\" ao KPI. Selecione uma dimensão diferente ou edite o KPI.","configurationPanel.breakAlertWarning":"\\n            Usuários configuraram {numAlerts} {numAlerts, select, 1 {alerta} other {alertas}}\\n            para este KPI. Modificar o KPI afetará {numAlerts, select, 1 {este alerta} other {estes alertas}}.\\n","configurationPanel.drillIntoDashboard":"Detalhar painel","configurationPanel.noLinkableDashboards":"Nenhum dashboard para vincular","configurationPanel.selectDashboard":"Selecionar um painel","configurationPanel.interactions":"Interações","configurationPanel.drillConfig.interactions":"Interações de detalhamento","configurationPanel.drillConfig.addInteraction":"Adicionar interação","configurationPanel.drillConfig.clickHint":"Quando clicar em","configurationPanel.drillConfig.measureValue._measure":"Valor da medição","configurationPanel.drillConfig.measureValue._metric":"Valor da métrica","configurationPanel.drillConfig.attributeValue":"Valor do atributo","configurationPanel.drillConfig.selectTarget":"Eu quero","configurationPanel.drillConfig.clickHintItem":"Quando eu clique no <addon>(valor de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Detalhar painel","configurationPanel.drillConfig.drillIntoInsight":"Detalhar insight","configurationPanel.drillConfig.drillDown":"Detalhamento aprofundado","configurationPanel.drillConfig.disableDrillDownTooltip":"Desativa o detalhamento aprofundado nas configurações deste insight.","configurationPanel.drillConfig.drillIntoUrl":"Detalhar URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Parâmetros inválidos da URL","configurationPanel.drillConfig.select":"Escolher ação…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"O valor do atributo de data do insight não será transferido para filtrar o painel de destino.","configurationPanel.unlistedDashboardTab":"Painel não listado","configurationPanel.visualprops.sectionTitle":"Título","configurationPanel.visualprops.hideTitle":"Ocultar o título","configurationPanel.visualprops.sectionDescription":"Descrição","configurationPanel.visualprops.inheritDescription":"Herdado","configurationPanel.visualprops.inheritDescriptionHelp":"Herdar a descrição do insight.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Herdar a descrição da métrica.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Herdar a descrição da medida.","configurationPanel.visualprops.customDescription":"Personalizado","configurationPanel.visualprops.customDescriptionHelp":"Adicionar uma descrição personalizada para esta insância do insight.","configurationPanel.visualprops.customKpiDescriptionHelp":"Adicionar uma descrição personalizada.","configurationPanel.visualprops.noneDescription":"Nenhum","configurationPanel.visualprops.includeMetrics._measure":"Incluir descrições de medida","configurationPanel.visualprops.includeMetrics._metric":"Incluir descrições de métrica","configurationPanel.visualprops.includeMetricsHelp._measure":"Exibir seção com lista de medidas de insight e sua descrição.","configurationPanel.visualprops.includeMetricsHelp._metric":"Exibir seção com lista de métricas de insight e sua descrição.","configurationPanel.visualprops.descriptionPlaceholder":"Adicionar descrição…","configurationPanel.drillIntoUrl.defaultButtonValue":"Escolher URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hiperlink no rótulo do atributo","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personalizada","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Adicionar URL personalizada","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parâmetros","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Os parâmetros são espaços reservados que são substituídos por valores dinâmicos durante o detalhamento.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Adicionar","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Tipo","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Rótulo","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valor} other {Valores}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"... e {count} mais","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"ID do insight","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"ID do cliente","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"ID do produto de dados","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"ID do projeto","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ID do espaço de trabalho","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ID do widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ID do dashboard","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificador","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Insight","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificadores","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"Dashboard","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Aplicar","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Cancelar","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Insira a URL e adicione parâmetros do painel à direita.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Como criar URLs personalizadas?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Parâmetros inválidos: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Adicionar URL personalizada","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valor do rótulo de atributo","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valor do atributo geográfico","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valor da URL do atributo","configurationPanel.zoomInsight":"Insight com zoom","configurationPanel.zoomInsight.help":"Permite ampliar o insight para ter uma visualização detalhada. Mantenha pressionada a tecla Shift para ver uma panorâmica da área ampliada.","configurationPanel.zoomInsight.notice":"O zoom não será aplicado a dashboards exportados","configurationPanel.drillConfig.selectInsight":"Escolher insight…","gs.date.date-dataset.recommended":"Recomendado","gs.date.date-dataset.other":"Outros","gs.date.date-dataset.related":"Relacionado","gs.date.date-dataset.unrelated":"Não relacionado","gs.date.date-dataset.unrelated_hidden":"{count} não relacionado {count, plural, one {data} other {datas}} {isShow, select, true {visível} other {oculto}}.","gs.date.date-dataset.unrelated.show":"Exibir","gs.date.date-dataset.unrelated.hide":"Ocultar","gs.date.date-dataset.duplicityWarning":"Outro filtro está usando o mesmo conjunto de dados de data. Desabilite esse filtro ou defina uma data diferente.","layout.widget.width.min":"O widget está na largura mínima","layout.widget.width.max":"O widget está com a largura máxima","layout.widget.height.min":"O widget já está com a altura mínima","layout.widget.height.max":"O widget já está com a altura máxima","layout.widget.addedByPlugin":"Adicionado por plugin","layout.widget.modifiedByPlugin":"Modificado por plugin","layout.widget.hideOverlay":"Esconder sobreposição","dropzone.new.row.desc":"Arraste para criar uma{nbsp}<b>seção</b>","dropzone.widget.desc":"Solte <b>aqui</b>","dropzone.widget.last.in.row.desc":"Arraste até a <b>seção existente</b>","deleteKpiConfirmationDialog.headline":"Excluir KPI","deleteKpiConfirmationDialog.message":"Todos os alertas configurados para este KPI também serão excluídos.","deleteKpiConfirmationDialog.submitButtonText":"Excluir","newDashboard.title":"Arraste o insight para cá","newDashboard.dropInsight":"Soltar insight","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> já foi filtrado por <strong>{childTitle}</strong> diretamente ou por meio de outros filtros.","attributesDropdown.attributeNameWithData":"com dados de","filter.visibilityMode.tooltip.hidden":"O filtro está oculto e pode ser acessado apenas através do modo Editar.","filter.visibilityMode.tooltip.readonly.editMode":"O filtro está bloqueado e pode ser alterado apenas através do modo Editar.","filter.visibilityMode.tooltip.readonly.viewMode":"O filtro está bloqueado.","filter.resetButton.tooltip":"Redefinir todos os filtros","dateFilterDropdown.save":"Salvar","filter.configuration.mode.title":"Modo","filter.configuration.mode.interactive.title":"Interativo","filter.configuration.mode.interactive.tooltip":"Usuários do painel podem visualizar e alterar o filtro.","filter.configuration.mode.locked.title":"Bloqueado","filter.configuration.mode.locked.tooltip":"Usuários do painel pode visualizar o filtro, mas não podem alterá-lo.","filter.configuration.mode.hidden.title":"Oculto","filter.configuration.mode.hidden.tooltip":"Usuários do painel não podem visualizar o filtro, mas ele está aplicado.","filter.dependency.icon.tooltip":"Os valores disponíveis para <strong>{filterTitle}</strong> são limitados pela seleção em outro filtro.","configurationPanel.drillConfig.alreadyUsedTooltip":"Essa <strong>hierarquia</strong> já está sendo usada para <strong>o mesmo</strong> detalhamento aprofundado."}'),BI=JSON.parse('{"loading":"A carregar…","untitled":"Sem título","empty_value":"valor vazio","gs.list.cancel":"Cancelar","gs.list.apply":"Aplicar","gs.list.only":"Só","messages.dashboardSaveSuccess":"Excelente. Guardámos o seu dashboard.","options.menu.save.as":"Guardar como novo","options.menu.save.as.tooltip":"Não é possível guardar um dashboard vazio.","messages.dashboardSaveFailed":"Falha ao guardar dashboard, tente de novo.","messages.dashboard.invalidDrills.title":"<b>Algumas interações foram removidas</b>","messages.dashboard.invalidDrills.body.modern._measure":"Um ou vários dashboards/insights/medidas/atributos foram alterados ou eliminados, removendo algumas interações dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Um ou vários dashboards/insights/métricas/atributos foram alterados ou eliminados, removendo algumas interações dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Algumas das interações de aprofundamento de URL não estão a funcionar</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Parâmetros de URL inválidos nos seus URLs personalizados estão a provocar a falha de interações de aprofundamento de URL nestes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Mostrar mais","messages.dashboard.expandable.showLess":"Mostrar menos","messages.drill.InteractionConfiguredSuccess":"Interação configurada.","messages.drill.InteractionUpdatedSuccess":"Interação atualizada.","filterBar.showAll":"Mostrar tudo","filterBar.showLess":"Mostrar menos","options.menu.export.PDF":"Exportar para PDF","options.menu.schedule.email":"Agenda envio de e-mail","options.menu.delete":"Eliminar","dialogs.export.cells":"CÉLULAS","dialogs.export.filters":"CONTEXTO DO INSIGHT","dialogs.export.includeFilters":"Incluir filtros aplicados","dialogs.export.headline":"Exportar para XLSX","dialogs.export.mergeHeaders":"Manter células de atributo unidas","dialogs.export.submit":"Exportar","dialogs.schedule.email.delete.success":"Êxito! O seu e-mail agendado foi eliminado.","dialogs.schedule.email.submit.success":"Êxito! O seu dashboard está agendado para envio de e-mail.","dialogs.schedule.email.submit.error":"Não foi possível agendar o dashboard. Tente mais tarde.","dialogs.schedule.email.save.success":"Parabéns! O seu horário foi guardado.","dialogs.schedule.email.save.error":"Falha ao guardar o horário. Tente mais tarde.","dialogs.save.as.new.title":"Guardar dashboard como novo","dialogs.save.as.new.desc":"Dê ao seu novo dashboard um novo nome descritivo, para que seja mais fácil encontrá-lo depois.","dialogs.save.as.new.default.title":"Cópia de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Os alertas e agendamentos de e-mail não serão duplicados","dialogs.save.as.new.alertsMessage":"Os alertas não serão duplicados","dialogs.save.as.new.emailsMessage":"Os agendamentos de e-mail não serão duplicados","cancelConfirmationDialog.headline":"Rejeitar alterações?","cancelConfirmationDialog.message":"Todas as alterações serão perdidas","cancelConfirmationDialog.submitButtonText":"Rejeitar alterações","deleteDashboardDialog.headline":"Eliminar dashboard?","deleteDashboardDialog.submitButtonText":"Eliminar","deleteDashboardDialog.alertsAndEmailsMessage":"Serão também eliminados todos os alertas e e-mails agendados configurados para este dashboard.","deleteDashboardDialog.alertsMessage":"Todos os alertas configurados para este dashboard serão também eliminados.","deleteDashboardDialog.emailsMessage":"Serão também eliminados todos os e-mails agendados configurados para este dashboard.","deleteDashboardDialog.drillMessage":"Toda a exploração neste dashboard a partir de outros dashboards será removida.","create.dashboard":"Criar dashboard","drill_modal_picker.drill-down":"Exploração descendente","drill_modal_picker.drill-into":"Aprofundar","drill_modal_picker.cross-filter":"Filtragem cruzada","drill_modal_picker.more.details":"Mais informações","drillModal.backToTop":"Regressar ao início","filters.allTime.previousPeriod":"período ant.","filters.allTime.lastYear":"ano ant.","filters.minute.previousPeriod":"minuto ant.","filters.hour.previousPeriod":"hora ant.","filters.day.previousPeriod":"ant. {n, plural, one {dia} other {#d}}","filters.week.previousPeriod":"ant. {n, plural, one {semana} other {#s}}","filters.month.previousPeriod":"ant. {n, plural, one {mês} other {#m}}","filters.quarter.previousPeriod":"ant. {n, plural, one {trimestre} other {#t}}","filters.year.previousPeriod":"ant. {n, plural, one {ano} other {#a}}","filters.alertMessage.relativePreset":"em {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"no período {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Existe mais que uma configuração de filtro de datas de projeto associada a este projeto. Foi utilizada a primeira configuração.","filters.config.warning.multipleWorkspacesConfigs":"Existe mais do que uma configuração de filtro de data de área de trabalho associada a esta área de trabalho. Foi utilizada a primeira.","filters.config.warning.selectedFilterNotValid":"A opção de filtro predefinida não é válida. Em vez disso, será utilizada a primeira opção disponível.","filters.config.warning.allOptionsHidden":"A configuração de filtro de data de dashboard foi ignorada porque teria ocultado todas as opções de filtro.","filters.config.warning.conflictingIdentifiers":"A configuração de filtro de data de dashboard foi ignorada porque contém opções de filtro de data com identificadores idênticos.","filters.config.warning.notAvailable":"A configuração de filtro de data do projeto não se encontra definida ou não tem permissões para aceder à mesma.","filters.config.warning.workspace.notAvailable":"A configuração de filtro de data de área de trabalho não se encontra definida ou não tem permissões para aceder à mesma.","filters.configurationPanel.header":"Configuração","filters.configurationPanel.sectionHeader.interactions":"Interações","filters.configurationPanel.crossFiltering.toggle":"Filtragem cruzada","kpi.noData":"Sem dados para as definições atuais dos filtros. Tente alterar os filtros.","kpiPop.change":"alterar","dialogs.schedule.email.filters":"O dashboard contém alterações de filtros que serão guardadas na programação.","dialogs.schedule.email.filters.not.saved":"Os filtros de dashboard guardados no agendamento não serão afetados.","dialogs.schedule.email.attachment.filter":"(com os filtros atualmente definidos)","dialogs.schedule.email.attachment.label":"Anexo:","dialogs.schedule.email.attachments.label":"Anexos:","dialogs.schedule.email.attachment.select":"Selecionar anexos","dialogs.schedule.email.attachment.select.disabled.message":"Este dashboard não contém quaisquer insights.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Insights (CSV, XLSX)","dialogs.schedule.email.headline":"Agendar entrega do e-mail","dialogs.schedule.email.heading":"Exportação de programação","dialogs.schedule.email.message.label":"Mensagem:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 subscrição de destinatário anulada} other {# subscrições de destinatários anuladas}} deste agendamento.","dialogs.schedule.email.repeats.label":"Repetições:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"no dia {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"no {week, select, 1 {primeiro} 2 {segundo} 3 {terceiro} 4 {quarto} other {último}} {day}","dialogs.schedule.email.repeats.every":"a cada","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {dia} other {dias}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {mês} other {meses}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semana} other {semanas}}","dialogs.schedule.email.repeats.types.custom":"Personalizado","dialogs.schedule.email.repeats.types.daily":"Diariamente","dialogs.schedule.email.repeats.types.monthly":"Mensalmente no {week, select, 1 {primeiro} 2 {segundo} 3 {terceiro} 4 {quarto} other {último}} {day}","dialogs.schedule.email.repeats.types.weekly":"Semanalmente à {day}","dialogs.schedule.email.subject.label":"Assunto:","dialogs.schedule.email.time.label":"Primeira ocorrência:","dialogs.schedule.email.to.label":"Para:","dialogs.schedule.email.message.placeholder":"Olá,\\n\\nO seu e-mail agendado está pronto. Pode transferir o dashboard nos anexos.","dialogs.schedule.email.submit":"Agendar","dialogs.schedule.email.save":"Guardar","dialogs.schedule.email.format.options":"Opções de formatação","dialogs.schedule.email.insight.format":"Formato do insight:","dialogs.schedule.email.attribute.merged":"Manter células de atributo unidas","dialogs.schedule.email.show.filters":"Mostrar filtros aplicados","dialogs.schedule.management.title":"Exportações agendadas","dialogs.schedule.management.delete":"Eliminar a programação.","dialogs.schedule.management.delete.dialog":"Eliminar programação?","dialogs.schedule.management.delete.dialog.confirm":"<b>A programação</b> será eliminada de forma permanente.","dialogs.schedule.management.noSchedules":"O dashboard não contém quaisquer exportações agendadas.{br}Adicione uma agora.","dialogs.schedule.management.noSchedules.byUser":"Ainda não agendou quaisquer exportações.{br}Adicione uma agora.","dialogs.schedule.management.addSchedule":"Adicionar programação","dialogs.schedule.management.recipients":"{n, plural, one {# destinatário} other {# destinatários}}","dialogs.schedule.management.recipients.onlyYou":"Apenas o Utilizador","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.attachments.mixed":"Dashboard e {n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.load.error":"Falha ao carregar. Tente mais tarde.","dialogs.schedule.management.delete.error":"Falha ao eliminar programação. Tente mais tarde.","dialogs.schedule.management.tab.all":"todos","dialogs.schedule.management.tab.user":"criadas por mim","options.menu.schedule.email.recipient.invalid":"Este não é um endereço de e-mail válido.","options.menu.schedule.email.recipient.warning.existed":"Já adicionou este destinatário.","options.menu.schedule.email.recipient.warning.belong.workspace":"Este endereço de e-mail não pertence a esta área de trabalho. O destinatário poderá receber dados sensíveis.","options.menu.schedule.email.recipient.external.not.allowed":"Este endereço de e-mail não pertence a esta área de trabalho. Só o autor do agendamento pode adicionar este endereço de e-mail.","delete":"Eliminar","close":"Fechar","cancel":"Cancelar","gs.date.at":"em","gs.date.today":"Hoje","gs.date.tomorrow":"Amanhã","gs.date.yesterday":"Ontem","kpi.alertBox.title":"Definir um alerta na alteração do KPI","kpi.alertBox.example":"por ex.","kpi.alertBox.unverifiedEmail":"Lamentamos, não pode definir um alerta. Certifique-se de que o seu e-mail foi verificado. Se isso não ajudar, solicite a atualização das suas permissões ao administrador.","kpi.alertBox.disabledInReadOnly":"Os alertas encontram-se desativados no modo só de leitura","kpi.error.view":"Não é possível apresentar o KPI. Contacte o administrador para corrigir a definição do KPI.","kpiAlertDialog.delete":"Eliminar","kpiAlertDialog.deleting":"A eliminar…","kpiAlertDialog.emailMe":"Enviar-me um e-mail","kpiAlertDialog.emailMeWhen":"{emailMe} quando este KPI for","kpiAlertDialog.emailInfo":"O e-mail será enviado para {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Este número não é válido.</strong>{br}Verifique-o e tente novamente.","kpiAlertDialog.filtersDiffer":"O KPI está agora filtrado de forma diferente do que quando o alerta foi configurado.","kpiAlertDialog.filtersApply":"Aplicar filtros de alerta ao dashboard","kpiAlertDialog.savingFailed":"Guardar o alerta falhou. Tente de novo.","kpiAlertDialog.deleteingFailed":"Eliminar o alerta falhou. Tente de novo.","kpiAlertDialog.brokenAlert":"Alerta infringido","kpiAlertDialog.brokenAlertAppeal":"Para ver o valor KPI correto, atualize os filtros neste alerta. Pode também remover o alerta.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Data","kpiAlertDialog.removedFilters":"Filtros removidos do dashboard","kpiAlertDialog.ignoredFilters":"Filtros ignorados para este kpi","kpiAlertDialog.updateTitle":"Atualizar","kpiAlertDialog.updateBrokenTitle":"Atualizar filtros","kpiAlertDialog.updatingTitle":"A atualizar…","kpiAlertDialog.updateBrokenFailed":"Falha ao atualizar filtros. Tente de novo.","kpiAlertDialog.setTitle":"Definir alerta","kpiAlertDialog.settingTitle":"A definir…","kpiAlertDialog.threshold.above":"acima","kpiAlertDialog.threshold.below":"abaixo","kpiAlertDialog.withAttributeFilters":"{numFilters} mais {numFilters, select, 1 {filtro} other {filtros}} aplicados","messages.exportResultError":"Falha ao exportar os dados. Tente mais tarde.","messages.exportResultRestrictedError":"Não é possível exportar este insight porque contém dados confidenciais.","messages.exportResultStart":"Exportação em curso","messages.exportResultSuccess":"Exportação bem sucedida.","messages.sharingChangedSuccess":"Partilha atualizada.","messages.sharingChangedError.general":"Falha ao atualizar as definições de partilha. Tente mais tarde.","messages.sharingDialogError.general":"Falha ao carregar as definições de partilha. Tente mais tarde.","visualization.dataTooLarge.headline":"Demasiados pontos de dados para apresentar","visualization.dataTooLarge.text":"Tente aplicar um ou mais filtros ao dashboard.","visualization.execute_protected_report.headline":"Não tem autorização para ver este relatório","visualization.execute_protected_report.text":"Contacte o seu administrador.","visualization.alert_not_supported":"Não são suportados alertas para o período de datas estático","visualization.empty.headline":"Sem dados para a seleção de filtros","visualization.error.headline":"Lamentamos, não podemos apresentar este insight","visualization.error.text":"Contacte o seu administrador.","options.button.bubble":"Exportar dados de insight","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"De momento não é possível exportar o insight. Experimente aplicar outros filtros ou utilizar outras medidas ou atributos.","options.menu.unsupported.error._metric":"De momento não é possível exportar o insight. Experimente aplicar outros filtros ou utilizar outras métricas ou atributos.","options.menu.unsupported.loading":"De momento não é possível exportar o insight.","export.defaultTitle":"Insight sem título","export_unsupported.disabled":"A exportação não é suportada","widget.options.menu.exportToCSV":"Exportar para CSV","widget.options.menu.exportToXLSX":"Exportar para XLSX","widget.options.menu.scheduleExport":"Exportação de programação","share.button.text":"Partilhar","dashboard.error.empty.heading":"Este dashboard está vazio","dashboard.error.empty.text":"Todos os insights foram removidos.","dashboard.shareDialog.underLenientControl.label":"Os outros utilizadores podem aceder a este dashboard se desagregarem até ele","dashboard.shareDialog.lock.label":"Este dashboard só pode ser editado por administradores","header.lockStatus.tooltip":"<b>Este dashboard encontra-se bloqueado.</b> Só pode ser editado por administradores.","header.shareStatus.private.text":"Privado","header.shareStatus.private.strict.tooltip":"Só o utilizador pode visualizar e editar este dashboard.","header.shareStatus.private.not.strict.tooltip":"O criador pode editar este dashboard. Outros utilizadores com funções de utilizador adequadas podem editá-lo quando o exploram.","dashboard.shareDialog.removeAccessGranteeTooltip":"Remover acesso a este dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"O utilizador que criou este dashboard. Não é possível remover criadores.","attributesDropdown.placeholder":"Pesquisar…","attributesDropdown.configuration":"Configuração","attributesDropdown.itemsFiltered":"Há itens filtrados","attributesDropdown.allItemsFiltered":"Todos os itens foram filtrados","attributesDropdown.itemsFiltered.tooltip":"Os itens foram filtrados por: <strong>{filters}</strong>","attributesDropdown.save":"Guardar","attributesDropdown.filterBy":"Filtrar por","attributesDropdown.displayValuesAs":"Apresentar valores como","attributesDropdown.title":"Título","attributesDropdown.title.reset":"Repor","attributesDropdown.selectionMode":"Seleção","attributesDropdown.selectionMode.multi":"Vários valores","attributesDropdown.selectionMode.single":"Valor único","attributesDropdown.selectionMode.disabled.tooltip":"A opção Valor único não é permitida se houver filtros selecionados em Filtrar por. Para utilizar a opção Valor único, desative todos os filtros em Filtrar por.","attributesDropdown.parentFilter.disabled.tooltip":"A filtragem por outros filtros encontra-se desativada para a opção Valor único. Para definir Filtrar por, selecione a opção de valor múltiplo.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> não pode ser filtrado por <strong>{parentTitle}</strong>. Não há ligação entre os atributos de filtro no modelo de dados.","attributesDropdown.details.dataset":"Conjunto de dados","attributesDropdown.details.values":"Valores","attributesDropdown.details.shortening_decoration":"…e {count} mais","attributesDropdown.removeTooltip":"Remover do dashboard","layout.header.characters.left":"{currentCharactersCount} / {maximumCharactersCount} carateres remanescentes","layout.header.add.title.placeholder":"Adicionar Título aqui...","layout.header.add.description.placeholder":"Adicionar Descrição aqui...","error":"Erro","controlButtons.edit.value":"Editar","controlButtons.saveAndPublish.value":"Guardar e Publicar","controlButtons.save.value":"Guardar","controlButtons.saveAndPublish.title":"Todas as alterações serão visíveis de imediato para todos os utilizadores que consigam aceder a este dashboard.","controlButtons.saveAsPrivate.title":"Todas as alterações serão guardadas.","controlButtons.saveAndPublish.disable.empty.title":"Não é possível guardar um dashboard vazio","controlButtons.saveAndPublish.disable.noChanges.title":"Não há alterações para guardar","controlButtons.saving.value":"A guardar…","gs.visualizationsList.tabs.all":"todos","gs.visualizationsList.tabs.my":"criadas por mim","visualizationsList.noInsights":"Esta área de trabalho não contém quaisquer insights.","visualizationsList.create":"Criar insight","visualizationsList.noUserInsights":"Nenhuns insights criados.","visualizationsList.noVisualizationsFound":"Nenhum insight correspondente.","search_insights":"Pesquisar todos os insights…","save.as.new":"Guardar como novo","addPanel.deleteItem":"Largar para remover","addPanel.newItem":"Novo item","addPanel.attributeFilter":"Filtro de Atributo","addPanel.filter":"Filtrar","addPanel.attributeFilter.tooltip.no_attributes":"O filtro de atributo requer um atributo.","addPanel.attributeFilter.tooltip.no_items":"O filtro requer um atributo ou um conjunto de dados de data.","addPanel.attributeFilter.tooltip.no_attributes.link":"Saber mais","addPanel.kpi":"Indicador Chave de Desempenho","addPanel.kpi.tooltip.no_measures._measure":"O Indicador Chave de Desempenho requer uma medida calculada.","addPanel.kpi.tooltip.no_measures._metric":"O Indicador Chave de Desempenho requer uma métrica.","addPanel.kpi.tooltip.no_measures.link":"Saber mais","visualizationsList.dragToAdd":"Arrastar para adicionar","visualizationsList.savedVisualizations":"Insights guardados","configurationPanel.drillConfig.selectDashboard":"Escolher dashboard…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Pesquisar todos os dashboards…","configurationPanel.drillConfig.forbiddenDashboard":"(Não partilhados consigo)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"O dashboard não está partilhado consigo, mas outros utilizadores têm acesso a este dashboard.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"O dashboard não está partilhado consigo, mas todos os utilizadores têm acesso ao mesmo se desagregarem até ele.","configurationPanel.remove.form.dashboard":"Remover do dashboard","filterBar.filter.drop":"largar para adicionar","filterBar.filter.addFilterPlaceholder":"Arraste o {icon} para aqui","filterBar.filter.dropzone.tooltip":"Arraste o filtro de atributos para aqui.","filterBar.filter.dropzone.tooltip.generic":"Arraste o filtro para aqui.","configurationPanel.title":"Configuração","configurationPanel.comparison":"Comparação","configurationPanel.compareWith":"Comparar com","configurationPanel.increasingNumberIs":"Número crescente é","configurationPanel.comparisonTypeItems.previousPeriod":"Período anterior","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Mesmo período do ano anterior","configurationPanel.comparisonTypeItems.noComparison":"Sem comparação","configurationPanel.comparisonDirectionItems.green":"Verde","configurationPanel.comparisonDirectionItems.red":"Vermelho","configurationPanel.unlistedMetric._measure":"Medida não listada","configurationPanel.unlistedMetric._metric":"Métrica não listada","configurationPanel.unlistedMetricIconTitle._measure":"Esta medida está oculta. Só o utilizador a pode ver.","configurationPanel.unlistedMetricIconTitle._metric":"Esta métrica está oculta. Só o utilizador a consegue ver.","configurationPanel.selectMeasurePlaceholder._measure":"Selecionar medida…","configurationPanel.selectMeasurePlaceholder._metric":"Selecione a métrica…","configurationPanel.selectComparisonPlaceholder":"Selecionar comparação…","configurationPanel.selectComparisonDirectionPlaceholder":"Selecionar positivo/negativo","configurationPanel.measure._measure":"Medir","configurationPanel.measure._metric":"Métrica","configurationPanel.filterBy":"Filtrar por","configurationPanel.date":"Data","configurationPanel.dateAs":"como","configurationPanel.vizCantBeFilteredByAttribute":"Não é possível filtrar o insight por {attributeName}. Desmarque a caixa de verificação.","configurationPanel.kpiCantBeFilteredByAttribute":"Não é possível filtrar o kpi por {attributeName}. Desmarque a caixa de verificação.","configurationPanel.vizCantBeFilteredByDate":"Não é possível filtrar o insight por Data. Desmarque a caixa de verificação.","configurationPanel.kpiCantBeFilteredByDate":"Não é possível filtrar o kpi por Data. Desmarque a caixa de verificação.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" já não pode ser aplicado ao insight. Selecione uma dimensão diferente ou edite o insight.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" já não pode ser aplicado ao kpi. Selecione uma dimensão diferente ou edite o kpi.","configurationPanel.breakAlertWarning":"\\n            Os utilizadores configuraram {numAlerts} {numAlerts, select, 1 {alerta} other {alertas}}\\n            para este KPI. A modificação do KPI afetará {numAlerts, select, 1 {este alerta} other {estes alertas}}.\\n","configurationPanel.drillIntoDashboard":"Exploração aprofundada do dashboard","configurationPanel.noLinkableDashboards":"Nenhum dashboard para ligação","configurationPanel.selectDashboard":"Selecionar um dashboard","configurationPanel.interactions":"Interações","configurationPanel.drillConfig.interactions":"Aprofundar interações","configurationPanel.drillConfig.addInteraction":"Adicionar interação","configurationPanel.drillConfig.clickHint":"Quando clicar em","configurationPanel.drillConfig.measureValue._measure":"Valor da medida","configurationPanel.drillConfig.measureValue._metric":"Valor da métrica","configurationPanel.drillConfig.attributeValue":"Valor do atributo","configurationPanel.drillConfig.selectTarget":"Quero","configurationPanel.drillConfig.clickHintItem":"Quando clicar em <addon>(valor de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Exploração aprofundada do dashboard","configurationPanel.drillConfig.drillIntoInsight":"Aprofundar insight","configurationPanel.drillConfig.drillDown":"Exploração descendente","configurationPanel.drillConfig.disableDrillDownTooltip":"A exploração descendente encontra-se desativada na configuração deste insight.","configurationPanel.drillConfig.drillIntoUrl":"Aprofundar URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Parâmetros de URL inválidos","configurationPanel.drillConfig.select":"Escolher ação…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"O valor do atributo de data do insight não será transferido para filtrar o dashboard de destino.","configurationPanel.unlistedDashboardTab":"Dashboard não listado","configurationPanel.visualprops.sectionTitle":"Título","configurationPanel.visualprops.hideTitle":"Ocultar título","configurationPanel.visualprops.sectionDescription":"Descrição","configurationPanel.visualprops.inheritDescription":"Herdar","configurationPanel.visualprops.inheritDescriptionHelp":"Herdar a descrição do insight.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Herdar a descrição da métrica.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Herdar a descrição da medida.","configurationPanel.visualprops.customDescription":"Personalizado","configurationPanel.visualprops.customDescriptionHelp":"Adicione uma descrição personalizada para esta instância do insight.","configurationPanel.visualprops.customKpiDescriptionHelp":"Adicione uma descrição personalizada.","configurationPanel.visualprops.noneDescription":"Nenhum","configurationPanel.visualprops.includeMetrics._measure":"Incluir descrições de medidas","configurationPanel.visualprops.includeMetrics._metric":"Incluir descrições de métricas","configurationPanel.visualprops.includeMetricsHelp._measure":"Apresentar secção com a lista das medidas do insight e respetiva descrição.","configurationPanel.visualprops.includeMetricsHelp._metric":"Apresentar secção com a lista das métricas do insight e respetiva descrição.","configurationPanel.visualprops.descriptionPlaceholder":"Adicionar descrição…","configurationPanel.drillIntoUrl.defaultButtonValue":"Escolher URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hiperligação da etiqueta do atributo","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personalizado","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Adicionar URL personalizado","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Editar URL personalizado","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parâmetros","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Os parâmetros são marcadores de posição substituídos por valores dinâmicos durante a exploração.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Adicionar","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Tipo","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Etiqueta","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valor} other {Valores}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...e outros {count}","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"ID do Insight","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"ID de Cliente","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"ID de produto dos dados","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"ID do Projeto","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ID da área de trabalho","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ID do Widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ID do Dashboard","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificador","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Insight","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificadores","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"Dashboard","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Aplicar","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Cancelar","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Introduza o URL e adicione parâmetros no painel da direita.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Como criar URLs personalizados?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Parâmetros inválidos: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Adicionar URL personalizado","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Editar URL personalizado","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valor da etiqueta do atributo","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valor geográfico do atributo","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valor do URL do atributo","configurationPanel.zoomInsight":"Insight passível de zoom","configurationPanel.zoomInsight.help":"Ative para ampliar o insight e apresentar uma vista detalhada. Mantenha premida a tecla Shift para rodar a zona ampliada.","configurationPanel.zoomInsight.notice":"O zoom não será aplicado aos dashboards exportados","configurationPanel.drillConfig.selectInsight":"Escolher insight…","gs.date.date-dataset.recommended":"Recomendado","gs.date.date-dataset.other":"Outros","gs.date.date-dataset.related":"Relacionado","gs.date.date-dataset.unrelated":"Não relacionado","gs.date.date-dataset.unrelated_hidden":"{count} não relacionados {count, plural, one {data} other {datas}} {isShow, select, true {visível} other {oculto}}.","gs.date.date-dataset.unrelated.show":"Mostrar","gs.date.date-dataset.unrelated.hide":"Ocultar","gs.date.date-dataset.duplicityWarning":"Outro filtro está a usar o mesmo conjunto de dados de data. Desative este filtro ou defina outra data.","layout.widget.width.min":"O widget tem a largura mínima","layout.widget.width.max":"O widget já tem a largura máxima","layout.widget.height.min":"O widget já tem a altura mínima","layout.widget.height.max":"O widget já tem a altura máxima","layout.widget.addedByPlugin":"Adicionado por plug-in","layout.widget.modifiedByPlugin":"Modificado por plug-in","layout.widget.hideOverlay":"Ocultar sobreposição","dropzone.new.row.desc":"Largue para criar uma{nbsp}<b>nova seção</b>","dropzone.widget.desc":"Largar <b>aqui</b>","dropzone.widget.last.in.row.desc":"Largar na <b>secção existente</b>","deleteKpiConfirmationDialog.headline":"Eliminar KPI","deleteKpiConfirmationDialog.message":"Todos os alertas configurados para este KPI serão também eliminados.","deleteKpiConfirmationDialog.submitButtonText":"Eliminar","newDashboard.title":"Arraste o insight para aqui","newDashboard.dropInsight":"Largar insight","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> já se encontra filtrado pelo filtro <strong>{childTitle}</strong>, de forma direta ou através de outros filtros.","attributesDropdown.attributeNameWithData":"com dados de","filter.visibilityMode.tooltip.hidden":"Este filtro está oculto. Só pode ser acedido através do Modo de edição.","filter.visibilityMode.tooltip.readonly.editMode":"Este filtro está bloqueado. Só pode ser alterado através do Modo de edição.","filter.visibilityMode.tooltip.readonly.viewMode":"Este filtro está bloqueado.","filter.resetButton.tooltip":"Repor todos os filtros","dateFilterDropdown.save":"Guardar","filter.configuration.mode.title":"Modo","filter.configuration.mode.interactive.title":"Interativo","filter.configuration.mode.interactive.tooltip":"Os utilizadores do dashboard podem ver e alterar o filtro.","filter.configuration.mode.locked.title":"Bloqueado","filter.configuration.mode.locked.tooltip":"Os utilizadores do dashboard podem ver o filtro mas não o podem alterar.","filter.configuration.mode.hidden.title":"Oculto","filter.configuration.mode.hidden.tooltip":"Os utilizadores do dashboard não podem ver o filtro, mas este é aplicado.","filter.dependency.icon.tooltip":"Os valores disponíveis para <strong>{filterTitle}</strong> encontram-se limitados pela seleção noutro filtro.","configurationPanel.drillConfig.alreadyUsedTooltip":"Esta <strong>hierarquia</strong> já é utilizada para <strong>a mesma</strong> exploração descendente."}'),WI=JSON.parse('{"loading":"正在加载…","untitled":"无标题","empty_value":"空值","gs.list.cancel":"取消","gs.list.apply":"应用","gs.list.only":"仅","messages.dashboardSaveSuccess":"太棒了，我们已保存您的控制面板。","options.menu.save.as":"另存为新的","options.menu.save.as.tooltip":"空控制面板无法保存。","messages.dashboardSaveFailed":"无法保存控制面板，请重试。","messages.dashboard.invalidDrills.title":"<b>某些互动已被删除</b>","messages.dashboard.invalidDrills.body.modern._measure":"一个或多个控制面板/洞察/度量/属性已更改或删除，导致某些交互从以下构件中删除：<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"一个或多个控制面板/洞察/指标/属性已更改或删除，导致某些交互从以下构件中删除：<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>一些钻取 URL 交互不起作用</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"自定义 URL 中的无效 URL 参数导致这些小组件上的钻取 URL 交互失败：<b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"显示更多","messages.dashboard.expandable.showLess":"显示更少","messages.drill.InteractionConfiguredSuccess":"交互已配置。","messages.drill.InteractionUpdatedSuccess":"交互已更新。","filterBar.showAll":"显示全部","filterBar.showLess":"显示更少","options.menu.export.PDF":"导出为 PDF","options.menu.schedule.email":"安排电子邮件发送","options.menu.delete":"删除","dialogs.export.cells":"单元格","dialogs.export.filters":"洞察上下文","dialogs.export.includeFilters":"包含已应用的筛选器","dialogs.export.headline":"导出为 XLSX","dialogs.export.mergeHeaders":"保持属性单元格合并","dialogs.export.submit":"出口","dialogs.schedule.email.delete.success":"成功！您的计划的电子邮件已删除。","dialogs.schedule.email.submit.success":"成功！您的控制面板已计划发送电子邮件。","dialogs.schedule.email.submit.error":"计划控制面板失败，请稍后重试。","dialogs.schedule.email.save.success":"成功！您的计划已保存。","dialogs.schedule.email.save.error":"计划保存失败，请稍后重试。","dialogs.save.as.new.title":"另存为新的控制面板","dialogs.save.as.new.desc":"为新的控制面板指定新的描述性名称，以便以后方便查找。","dialogs.save.as.new.default.title":"{title} 的副本","dialogs.save.as.new.alertsAndEmailsMessage":"警报和电子邮件时间表将不会被复制","dialogs.save.as.new.alertsMessage":"警报将不会被复制","dialogs.save.as.new.emailsMessage":"电子邮件时间表将不会被复制","cancelConfirmationDialog.headline":"放弃更改？","cancelConfirmationDialog.message":"所有更改都将丢失","cancelConfirmationDialog.submitButtonText":"放弃更改","deleteDashboardDialog.headline":"删除控制面板？","deleteDashboardDialog.submitButtonText":"删除","deleteDashboardDialog.alertsAndEmailsMessage":"为此控制面板设置的所有警报和计划的电子邮件也将被删除。","deleteDashboardDialog.alertsMessage":"为此控制面板设置的所有警报也将被删除。","deleteDashboardDialog.emailsMessage":"为此控制面板设置的所有计划的电子邮件也将被删除。","deleteDashboardDialog.drillMessage":"从其他控制面板到该控制面板的所有深入查看都将被删除。","create.dashboard":"创建控制面板","drill_modal_picker.drill-down":"深入查看","drill_modal_picker.drill-into":"深入了解","drill_modal_picker.cross-filter":"交叉筛选","drill_modal_picker.more.details":"更多详情","drillModal.backToTop":"返回顶部","filters.allTime.previousPeriod":"前一时间段","filters.allTime.lastYear":"前一年","filters.minute.previousPeriod":"前一分钟","filters.hour.previousPeriod":"前一小时","filters.day.previousPeriod":"前 {n, plural, one {天} other {#天}}","filters.week.previousPeriod":"前 {n, plural, one {周} other {#周}}","filters.month.previousPeriod":"前 {n, plural, one {月} other {#月}}","filters.quarter.previousPeriod":"前 {n, plural, one {季度} other {#季度}}","filters.year.previousPeriod":"前 {n, plural, one {年} other {#年}}","filters.alertMessage.relativePreset":"在 {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"在时间段 {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"此项目关联了多个项目日期筛选器配置，使用第一个。","filters.config.warning.multipleWorkspacesConfigs":"工作区关联了多个工作区日期筛选器配置，使用第一个。","filters.config.warning.selectedFilterNotValid":"默认筛选器选项无效，使用第一个可用选项。","filters.config.warning.allOptionsHidden":"已忽略控制面板日期筛选器配置，因为它隐藏了所有筛选器选项。","filters.config.warning.conflictingIdentifiers":"已忽略控制面板日期筛选器配置，因为它包含具有相同标识符的日期筛选器选项。","filters.config.warning.notAvailable":"项目的日期筛选器配置未定义，或者您没有其访问权限。","filters.config.warning.workspace.notAvailable":"工作区日期筛选器配置未定义，或者您没有其访问权限。","filters.configurationPanel.header":"配置","filters.configurationPanel.sectionHeader.interactions":"交互","filters.configurationPanel.crossFiltering.toggle":"交叉筛选","kpi.noData":"当前筛选器设置无数据。请更改筛选器。","kpiPop.change":"变化","dialogs.schedule.email.filters":"控制面板包含将要保存在计划中的筛选器更改。","dialogs.schedule.email.filters.not.saved":"保存在计划中的控制面板筛选器不会受到影响。","dialogs.schedule.email.attachment.filter":"（使用当前设置的筛选器）","dialogs.schedule.email.attachment.label":"附件：","dialogs.schedule.email.attachments.label":"附件：","dialogs.schedule.email.attachment.select":"选择附件","dialogs.schedule.email.attachment.select.disabled.message":"此控制面板不包含任何洞察。","dialogs.schedule.email.attachment.select.dashboard.header":"控制面板 (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"洞察 (CSV, XLSX)","dialogs.schedule.email.headline":"安排电子邮件发送","dialogs.schedule.email.heading":"计划导出","dialogs.schedule.email.message.label":"消息：","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 收件人退订} other {# 收件人退订}} 此计划。","dialogs.schedule.email.repeats.label":"重复：","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"在第 {date} 天","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"在 {week, select, 1 {第一个} 2 {第二个} 3 {第三个} 4 {第四个} other {最后一个}} {day}","dialogs.schedule.email.repeats.every":"每","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {天} other {天}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {月} other {月}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {周} other {周}}","dialogs.schedule.email.repeats.types.custom":"自定义","dialogs.schedule.email.repeats.types.daily":"每日","dialogs.schedule.email.repeats.types.monthly":"每月 {week, select, 1 {第一个} 2 {第二个} 3 {第三个} 4 {第四个} other {最后一个}} {day}","dialogs.schedule.email.repeats.types.weekly":"每周 {day}","dialogs.schedule.email.subject.label":"主题：","dialogs.schedule.email.time.label":"第一次出现：","dialogs.schedule.email.to.label":"收件人：","dialogs.schedule.email.message.placeholder":"您好，\\n\\n 您的计划的电子邮件已准备就绪。您可以在附件中下载控制面板。","dialogs.schedule.email.submit":"时间表","dialogs.schedule.email.save":"保存","dialogs.schedule.email.format.options":"格式选项","dialogs.schedule.email.insight.format":"洞察格式：","dialogs.schedule.email.attribute.merged":"保持属性单元格合并","dialogs.schedule.email.show.filters":"显示应用了哪些筛选器","dialogs.schedule.management.title":"已计划的导出","dialogs.schedule.management.delete":"删除此计划。","dialogs.schedule.management.delete.dialog":"删除计划？","dialogs.schedule.management.delete.dialog.confirm":"<b>此计划</b>将被永久删除。","dialogs.schedule.management.noSchedules":"此控制面板不包含任何计划的导出。{br}立即添加一个。","dialogs.schedule.management.noSchedules.byUser":"您尚未计划任何导出。{br}立即添加一个。","dialogs.schedule.management.addSchedule":"添加计划","dialogs.schedule.management.recipients":"{n, plural, one {# 收件人} other {# 收件人}}","dialogs.schedule.management.recipients.onlyYou":"只有您","dialogs.schedule.management.attachments.dashboard":"控制面板","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# 洞察} other {# 洞察}}","dialogs.schedule.management.attachments.mixed":"控制面板和{n, plural, one {# 洞察} other {# 洞察}}","dialogs.schedule.management.load.error":"加载失败，请稍后重试。","dialogs.schedule.management.delete.error":"计划删除失败，请稍后再试。","dialogs.schedule.management.tab.all":"全部","dialogs.schedule.management.tab.user":"由我创建","options.menu.schedule.email.recipient.invalid":"此电子邮件地址无效。","options.menu.schedule.email.recipient.warning.existed":"您已经添加了此收件人。","options.menu.schedule.email.recipient.warning.belong.workspace":"此电子邮件地址不属于此工作区。收件人可能会收到敏感数据。","options.menu.schedule.email.recipient.external.not.allowed":"此电子邮件地址不属于此工作区。只有此计划的作者才能添加此电子邮件地址。","delete":"删除","close":"关","cancel":"取消","gs.date.at":"在","gs.date.today":"今天","gs.date.tomorrow":"明天","gs.date.yesterday":"昨天","kpi.alertBox.title":"设置 KPI 更改警报","kpi.alertBox.example":"例如","kpi.alertBox.unverifiedEmail":"抱歉，您无法设置警报。请确保您的电子邮件地址已经过验证。如果还未解决问题，请让管理员更新您的权限。","kpi.alertBox.disabledInReadOnly":"在只读模式下禁用警报","kpi.error.view":"无法显示 KPI。请与您的管理员联系以修复 KPI 定义。","kpiAlertDialog.delete":"删除","kpiAlertDialog.deleting":"正在删除…","kpiAlertDialog.emailMe":"给我发邮件","kpiAlertDialog.emailMeWhen":"{emailMe}，当此 KPI 是","kpiAlertDialog.emailInfo":"电子邮件将发送至 {userEmail}","kpiAlertDialog.invalidNumber":"<strong>此号码无效。</strong>{br}请仔细检查并重试。","kpiAlertDialog.filtersDiffer":"现在 KPI 的筛选方式与设置警报时的筛选方式不同。","kpiAlertDialog.filtersApply":"将警报筛选器应用于控制面板","kpiAlertDialog.savingFailed":"保存警报失败。请重试。","kpiAlertDialog.deleteingFailed":"删除警报失败。请重试。","kpiAlertDialog.brokenAlert":"损坏的警报","kpiAlertDialog.brokenAlertAppeal":"要查看正确的 KPI 值，请更新此警报中的筛选器。您也可以删除此警报。","kpiAlertDialog.brokenAlertDefaultDateLabel":"日期","kpiAlertDialog.removedFilters":"从控制面板删除的筛选器","kpiAlertDialog.ignoredFilters":"忽略此 KPI 的筛选器","kpiAlertDialog.updateTitle":"更新","kpiAlertDialog.updateBrokenTitle":"更新筛选器","kpiAlertDialog.updatingTitle":"正在更新…","kpiAlertDialog.updateBrokenFailed":"更新筛选器失败。请重试。","kpiAlertDialog.setTitle":"设置警报","kpiAlertDialog.settingTitle":"设置…","kpiAlertDialog.threshold.above":"高于","kpiAlertDialog.threshold.below":"低于","kpiAlertDialog.withAttributeFilters":"{numFilters} 更多{numFilters, select, 1 {筛选器} other {筛选器}} 已应用","messages.exportResultError":"数据导出失败，请稍后重试。","messages.exportResultRestrictedError":"您不能导出此洞察，因为它包含限制数据。","messages.exportResultStart":"正在导出","messages.exportResultSuccess":"导出成功！","messages.sharingChangedSuccess":"共享已更新。","messages.sharingChangedError.general":"无法更新共享设置。请稍后再试。","messages.sharingDialogError.general":"无法加载共享设置。请稍后再试。","visualization.dataTooLarge.headline":"要显示的数据点太多","visualization.dataTooLarge.text":"尝试将一个或多个筛选器应用于控制面板。","visualization.execute_protected_report.headline":"您无权查看此报告","visualization.execute_protected_report.text":"请联系您的管理员。","visualization.alert_not_supported":"静态日期时间段不支持警报","visualization.empty.headline":"对于您的筛选器选项，找不到数据","visualization.error.headline":"抱歉，我们无法显示此洞察。","visualization.error.text":"请联系您的管理员。","options.button.bubble":"导出洞察数据","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"目前无法导出此洞察。请使用其他筛选器，或使用其他度量或属性。","options.menu.unsupported.error._metric":"此洞察暂时无法导出。请尝试应用不同的筛选器，或使用不同的指标或属性。","options.menu.unsupported.loading":"目前无法导出此洞察。","export.defaultTitle":"无标题洞察","export_unsupported.disabled":"不支持导出","widget.options.menu.exportToCSV":"导出至 CSV","widget.options.menu.exportToXLSX":"导出为 XLSX","widget.options.menu.scheduleExport":"计划导出","share.button.text":"共享","dashboard.error.empty.heading":"此控制面板为空","dashboard.error.empty.text":"已删除所有洞察。","dashboard.shareDialog.underLenientControl.label":"如果其他用户要深入了解此控制面板，他们可以访问此控制面板","dashboard.shareDialog.lock.label":"只有管理员才可以编辑此控制面板","header.lockStatus.tooltip":"<b>此控制面板已锁定。</b>只有管理员才可以编辑此控制面板。","header.shareStatus.private.text":"私密","header.shareStatus.private.strict.tooltip":"只有您可以查看和编辑此控制面板。","header.shareStatus.private.not.strict.tooltip":"创建者可以编辑此控制面板。具有适当用户角色的其他用户可在深入查看此控制面板时对其进行编辑。","dashboard.shareDialog.removeAccessGranteeTooltip":"删除对此控制面板的访问权限。","dashboard.shareDialog.removeAccessCreatorTooltip":"创建此控制面板的用户。无法删除创建者。","attributesDropdown.placeholder":"搜索…","attributesDropdown.configuration":"配置","attributesDropdown.itemsFiltered":"各项已筛选","attributesDropdown.allItemsFiltered":"所有各项都被筛选掉","attributesDropdown.itemsFiltered.tooltip":"各项已筛选： <strong>{filters}</strong>","attributesDropdown.save":"保存","attributesDropdown.filterBy":"筛选条件","attributesDropdown.displayValuesAs":"将数值显示为","attributesDropdown.title":"标题","attributesDropdown.title.reset":"重启","attributesDropdown.selectionMode":"选择","attributesDropdown.selectionMode.multi":"多个值","attributesDropdown.selectionMode.single":"单个值","attributesDropdown.selectionMode.disabled.tooltip":"如果在筛选条件中选择了任何筛选器，则不允许选择单值。要使用单值选择，请在筛选条件中禁用所有筛选器。","attributesDropdown.parentFilter.disabled.tooltip":"对于单值选择，禁用其他筛选器筛选。要设置筛选条件，请选择多值选择。","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> 无法被 <strong>{parentTitle}</strong> 筛选。数据模型中的筛选器属性之间没有关联。","attributesDropdown.details.dataset":"数据集","attributesDropdown.details.values":"数值","attributesDropdown.details.shortening_decoration":"…和另外 {count} 个","attributesDropdown.removeTooltip":"从控制面板中移除","layout.header.characters.left":"还剩 {currentCharactersCount} / {maximumCharactersCount} 个字符","layout.header.add.title.placeholder":"在此处添加标题...","layout.header.add.description.placeholder":"在此处添加说明...","error":"错误","controlButtons.edit.value":"编辑","controlButtons.saveAndPublish.value":"保存并发布","controlButtons.save.value":"保存","controlButtons.saveAndPublish.title":"可访问此控制面板的每个人都能立即看到所有更改。","controlButtons.saveAsPrivate.title":"所有更改都将被保存。","controlButtons.saveAndPublish.disable.empty.title":"无法保存空的控制面板","controlButtons.saveAndPublish.disable.noChanges.title":"没有要保存的更改","controlButtons.saving.value":"正在保存…","gs.visualizationsList.tabs.all":"全部","gs.visualizationsList.tabs.my":"由我创建","visualizationsList.noInsights":"该工作区不包含任何洞察。","visualizationsList.create":"创建洞察","visualizationsList.noUserInsights":"未创建任何洞察。","visualizationsList.noVisualizationsFound":"未找到匹配的洞察。","search_insights":"搜索所有洞察…","save.as.new":"另存为新的","addPanel.deleteItem":"放置以删除","addPanel.newItem":"新条目","addPanel.attributeFilter":"属性筛选器","addPanel.filter":"筛选器","addPanel.attributeFilter.tooltip.no_attributes":"属性筛选器需要一个属性。","addPanel.attributeFilter.tooltip.no_items":"该筛选器需要属性或日期数据集。","addPanel.attributeFilter.tooltip.no_attributes.link":"了解更多","addPanel.kpi":"关键绩效指标","addPanel.kpi.tooltip.no_measures._measure":"关键绩效指标需要一个计算度量。","addPanel.kpi.tooltip.no_measures._metric":"关键绩效指标需要一个指标。","addPanel.kpi.tooltip.no_measures.link":"了解更多","visualizationsList.dragToAdd":"拖动以添加","visualizationsList.savedVisualizations":"已保存的见解","configurationPanel.drillConfig.selectDashboard":"选择控制面板…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"搜索所有控制面板…","configurationPanel.drillConfig.forbiddenDashboard":"（未共享给您）","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"控制面板未共享给您，但其他用户可以访问此控制面板。","configurationPanel.drillConfig.notSharedDashboard.tooltip":"控制面板未共享给您，但所有用户都可以访问它，如果想深入了解。","configurationPanel.remove.form.dashboard":"从控制面板中移除","filterBar.filter.drop":"放置即可添加","filterBar.filter.addFilterPlaceholder":"拖动 {icon} 至此处","filterBar.filter.dropzone.tooltip":"将属性筛选器拖至此处。","filterBar.filter.dropzone.tooltip.generic":"将筛选器拖到此处。","configurationPanel.title":"配置","configurationPanel.comparison":"比较","configurationPanel.compareWith":"对比于","configurationPanel.increasingNumberIs":"增加的数字是","configurationPanel.comparisonTypeItems.previousPeriod":"上一时间段","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"上年同期","configurationPanel.comparisonTypeItems.noComparison":"无比较","configurationPanel.comparisonDirectionItems.green":"绿色","configurationPanel.comparisonDirectionItems.red":"红色","configurationPanel.unlistedMetric._measure":"未列出的度量","configurationPanel.unlistedMetric._metric":"未列出的指标","configurationPanel.unlistedMetricIconTitle._measure":"此度量是隐藏的。只有您能看到它。","configurationPanel.unlistedMetricIconTitle._metric":"此指标是隐藏的。只有您能看到它。","configurationPanel.selectMeasurePlaceholder._measure":"选择度量…","configurationPanel.selectMeasurePlaceholder._metric":"选择指标…","configurationPanel.selectComparisonPlaceholder":"选择比较…","configurationPanel.selectComparisonDirectionPlaceholder":"选择正/负","configurationPanel.measure._measure":"度量","configurationPanel.measure._metric":"指标","configurationPanel.filterBy":"筛选条件","configurationPanel.date":"日期","configurationPanel.dateAs":"作为","configurationPanel.vizCantBeFilteredByAttribute":"此洞察无法按 {attributeName} 筛选。请取消选中该复选框。","configurationPanel.kpiCantBeFilteredByAttribute":"KPI 无法按 {attributeName} 筛选。请取消选中该复选框。","configurationPanel.vizCantBeFilteredByDate":"此洞察无法按日期筛选。请取消选中该复选框。","configurationPanel.kpiCantBeFilteredByDate":"KPI 无法按日期筛选。请取消选中该复选框。","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\"无法再应用于该洞察。请选择其他范围或编辑此洞察。","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\"无法再应用于该 KPI。请选择其他范围或编辑该 KPI。","configurationPanel.breakAlertWarning":"\\n           用户为此 KPI 设置了 {numAlerts} {numAlerts, select, 1 {警报} other {警报}}\\n 。修该此 KPI 将影响 {numAlerts, select, 1 {此警报} other {这些警报}}。\\n","configurationPanel.drillIntoDashboard":"深入控制面板","configurationPanel.noLinkableDashboards":"没有控制面板链接至","configurationPanel.selectDashboard":"选择控制面板","configurationPanel.interactions":"交互","configurationPanel.drillConfig.interactions":"深入查看交互","configurationPanel.drillConfig.addInteraction":"添加交互","configurationPanel.drillConfig.clickHint":"当我点击","configurationPanel.drillConfig.measureValue._measure":"度量值","configurationPanel.drillConfig.measureValue._metric":"指标值","configurationPanel.drillConfig.attributeValue":"属性值","configurationPanel.drillConfig.selectTarget":"我想要","configurationPanel.drillConfig.clickHintItem":"当我点击<addon>（其数值）</addon>","configurationPanel.drillConfig.drillIntoDashboard":"深入控制面板","configurationPanel.drillConfig.drillIntoInsight":"深入了解","configurationPanel.drillConfig.drillDown":"深入查看","configurationPanel.drillConfig.disableDrillDownTooltip":"在此洞察的配置中，向下钻取处于关闭状态。","configurationPanel.drillConfig.drillIntoUrl":"深入查看 URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"URL 参数无效","configurationPanel.drillConfig.select":"选择操作…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"筛选目标控制面板时，洞察中的日期属性值不会被传输。","configurationPanel.unlistedDashboardTab":"未列出的控制面板","configurationPanel.visualprops.sectionTitle":"标题","configurationPanel.visualprops.hideTitle":"隐藏标题","configurationPanel.visualprops.sectionDescription":"描述","configurationPanel.visualprops.inheritDescription":"继承 ","configurationPanel.visualprops.inheritDescriptionHelp":"从洞察继承说明。","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"从指标继承说明。","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"从度量继承说明。","configurationPanel.visualprops.customDescription":"自定义","configurationPanel.visualprops.customDescriptionHelp":"为此洞察实例添加自定义说明。","configurationPanel.visualprops.customKpiDescriptionHelp":"添加自定义说明。","configurationPanel.visualprops.noneDescription":"无","configurationPanel.visualprops.includeMetrics._measure":"包括度量说明","configurationPanel.visualprops.includeMetrics._metric":"包括指标说明","configurationPanel.visualprops.includeMetricsHelp._measure":"显示包含洞察度量列表及其说明的部分。","configurationPanel.visualprops.includeMetricsHelp._metric":"显示包含洞察指标列表及其说明的部分。","configurationPanel.visualprops.descriptionPlaceholder":"添加说明…","configurationPanel.drillIntoUrl.defaultButtonValue":"选择 URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"属性标签中的超链接","configurationPanel.drillIntoUrl.customUrlSectionTitle":"自定义 URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":"添加自定义 URL","configurationPanel.drillIntoUrl.editor.editUrlTitle":"编辑自定义 URL","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"参数","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"参数是占位符，在深入了解过程中将被动态值替换。","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"添加","configurationPanel.drillIntoUrl.editor.parameterDetailType":"类型","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"标签","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {数值} other {数值}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...以及再多 {count} 个","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"洞察 ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"客户 ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"数据产品 ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"项目 ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"工作区 ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"构件 ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"控制面板 ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"标识符","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"洞察","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"标识符","configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":"控制面板","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"应用","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"取消","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"输入 URL 并从右侧面板添加参数。","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"如何创建自定义 URL？","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"无效参数：{invalidParameters} ","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"添加自定义 URL","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"编辑自定义 URL","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"属性标签值","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"属性地理值","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"属性 URL 值","configurationPanel.zoomInsight":"可缩放的洞察","configurationPanel.zoomInsight.help":"启用以放大洞察以显示详细视图。按住 Shift 键可平移缩放区域。","configurationPanel.zoomInsight.notice":"缩放不会应用于导出的控制面板","configurationPanel.drillConfig.selectInsight":"选择洞察…","gs.date.date-dataset.recommended":"已推荐","gs.date.date-dataset.other":"其他","gs.date.date-dataset.related":"相关","gs.date.date-dataset.unrelated":"无关","gs.date.date-dataset.unrelated_hidden":"{count} 无关 {count, plural, one {日期} other {日期}} {isShow, select, true {可见} other {隐藏}}。","gs.date.date-dataset.unrelated.show":"显示","gs.date.date-dataset.unrelated.hide":"隐藏","gs.date.date-dataset.duplicityWarning":"另一个筛选器正在使用相同的日期数据集。禁用此筛选器或设置不同的日期。","layout.widget.width.min":"构件处于最小宽度","layout.widget.width.max":"构件处于最大宽度","layout.widget.height.min":"构件处于最小高度","layout.widget.height.max":"构件处于最大高度","layout.widget.addedByPlugin":"由插件添加","layout.widget.modifiedByPlugin":"由插件修改","layout.widget.hideOverlay":"隐藏覆盖","dropzone.new.row.desc":"拖放以创建{nbsp}<b>新部分</b>","dropzone.widget.desc":"放至<b>此处</b>","dropzone.widget.last.in.row.desc":"放至<b>现有区域</b>","deleteKpiConfirmationDialog.headline":"删除 KPI","deleteKpiConfirmationDialog.message":"为此 KPI 设置的所有警报也将被删除。","deleteKpiConfirmationDialog.submitButtonText":"删除","newDashboard.title":"将洞察拖至此处","newDashboard.dropInsight":"放置洞察","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> 已被 <strong>{childTitle}</strong> 筛选器直接筛选或已通过其他筛选器筛选。","attributesDropdown.attributeNameWithData":"带下列数据","filter.visibilityMode.tooltip.hidden":"此筛选条件已隐藏。只能通过编辑模式访问。","filter.visibilityMode.tooltip.readonly.editMode":"此筛选条件已锁定。只能通过编辑模式进行更改。","filter.visibilityMode.tooltip.readonly.viewMode":"此筛选条件已锁定","filter.resetButton.tooltip":"重置所有筛选器","dateFilterDropdown.save":"保存","filter.configuration.mode.title":"模式","filter.configuration.mode.interactive.title":"互动","filter.configuration.mode.interactive.tooltip":"仪表板用户可以查看和更改筛选条件。","filter.configuration.mode.locked.title":"已锁定","filter.configuration.mode.locked.tooltip":"仪表板用户可以看到筛选条件，但不能更改它。","filter.configuration.mode.hidden.title":"隐藏","filter.configuration.mode.hidden.tooltip":"仪表板用户无法看到筛选条件，但其已获应用。","filter.dependency.icon.tooltip":"<strong>{filterTitle}</strong>的可用值受另一个筛选器中的选择限制。","configurationPanel.drillConfig.alreadyUsedTooltip":"此<strong>层次结构</strong>已用于<strong>同一</strong>向下挖掘。"}'),zI=JSON.parse('{"loading":"Загрузка…","untitled":"Без названия","empty_value":"значение отсутствует","gs.list.cancel":"Отмена","gs.list.apply":"Применить","gs.list.only":"Только","messages.dashboardSaveSuccess":"Отлично. Мы сохранили ваш дашборд.","options.menu.save.as":"Сохранить как новую","options.menu.save.as.tooltip":"Пустой дашборд нельзя сохранить.","messages.dashboardSaveFailed":"Не удалось сохранить дашборд, повторите попытку.","messages.dashboard.invalidDrills.title":"<b>Некоторые взаимодействия были удалены</b>","messages.dashboard.invalidDrills.body.modern._measure":"Один или несколько дашбордов/анализов/показателей/атрибутов были изменены или удалены, в результате чего некоторые взаимодействия были удалены из следующих виджетов: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Один или несколько дашбордов/анализов/метрик/атрибутов были изменены или удалены, в результате чего некоторые взаимодействия были удалены из следующих виджетов: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Некоторая детализация взаимодействий с URL-адресами была отключена</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Некоторая детализация взаимодействий с URL-адресами была отключена в следующих виджетах из-за изменений в атрибутах аналитики: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Раскрыть","messages.dashboard.expandable.showLess":"Скрыть","messages.drill.InteractionConfiguredSuccess":"Взаимодействие настроено.","messages.drill.InteractionUpdatedSuccess":"Взаимодействие обновлено.","filterBar.showAll":"Показать все","filterBar.showLess":"Скрыть","options.menu.export.PDF":"Экспорт в PDF","options.menu.schedule.email":"Запланируйте отправку по электронной почте","options.menu.delete":"Удалить","dialogs.export.cells":"ЯЧЕЙКИ","dialogs.export.filters":"КОНТЕКСТ АНАЛИЗА","dialogs.export.includeFilters":"Включить примененные фильтры","dialogs.export.headline":"Экспорт в XLSX","dialogs.export.mergeHeaders":"Сохранить ячейки атрибутов объединенными","dialogs.export.submit":"Экспортировать","dialogs.schedule.email.delete.success":"Получилось! Запланированное электронное письмо было удалено.","dialogs.schedule.email.submit.success":"Получилось! Запланирована отправка вашего дашборда по электронной почте.","dialogs.schedule.email.submit.error":"Не удалось запланировать отправку дашборда. Повторите попытку позже.","dialogs.schedule.email.save.success":"Получилось! Ваше расписание сохранено.","dialogs.schedule.email.save.error":"Не удалось сохранить расписание. Повторите попытку позже.","dialogs.save.as.new.title":"Сохранить дашборд как новый","dialogs.save.as.new.desc":"Дайте новому дашборду описательное имя, чтобы его было легче найти в дальнейшем.","dialogs.save.as.new.default.title":"Копия {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Оповещения и запланированные электронные письма не будут дублироваться","dialogs.save.as.new.alertsMessage":"Оповещения не будут дублироваться","dialogs.save.as.new.emailsMessage":"Запланированные электронные письма не будут дублироваться","cancelConfirmationDialog.headline":"Отменить изменения?","cancelConfirmationDialog.message":"Все изменения будут потеряны","cancelConfirmationDialog.submitButtonText":"Отменить изменения","deleteDashboardDialog.headline":"Удалить дашборд?","deleteDashboardDialog.submitButtonText":"Удалить","deleteDashboardDialog.alertsAndEmailsMessage":"Все оповещения и запланированные электронные письма, настроенные для этого дашборда, также будут удалены.","deleteDashboardDialog.alertsMessage":"Все оповещения, настроенные для этого дашборда, также будут удалены.","deleteDashboardDialog.emailsMessage":"Все запланированные электронные письма, настроенные для этого дашборда, также будут удалены.","deleteDashboardDialog.drillMessage":"Все данные, полученные на этом дашборде с других дашбордов, будут удалены.","create.dashboard":"Создать дашборд","drill_modal_picker.drill-down":"Углубиться","drill_modal_picker.drill-into":"Углубиться","drill_modal_picker.more.details":"Подробнее","drillModal.backToTop":"Наверх","filters.allTime.previousPeriod":"пред. период","filters.allTime.lastYear":"пред. год","filters.minute.previousPeriod":"пред. минута","filters.hour.previousPeriod":"пред. час","filters.day.previousPeriod":"пред. {n, plural, one {день} other {#д}}","filters.week.previousPeriod":"пред. {n, plural, one {неделя} other {#н}}","filters.month.previousPeriod":"пред. {n, plural, one {месяц} other {#м}}","filters.quarter.previousPeriod":"пред. {n, plural, one {квартал} other {#к}}","filters.year.previousPeriod":"пред. {n, plural, one {год} other {#г}}","filters.alertMessage.relativePreset":"за {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"за период {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"С этим проектом связано несколько конфигураций фильтра по дате проекта. Была использована первая.","filters.config.warning.multipleWorkspacesConfigs":"С этой рабочей областью связано несколько конфигураций фильтра по дате проекта. Была использована первая.","filters.config.warning.selectedFilterNotValid":"Параметр фильтра по умолчанию недействителен, вместо него используется первый доступный вариант.","filters.config.warning.allOptionsHidden":"Конфигурация фильтра даты дашборда была проигнорирована, поскольку она скрыла бы все параметры фильтра.","filters.config.warning.conflictingIdentifiers":"Конфигурация фильтра даты дашборда была проигнорирована, поскольку она содержит параметры фильтра даты с идентичными идентификаторами.","filters.config.warning.notAvailable":"Конфигурация фильтра даты проекта либо не определена, либо у вас нет прав доступа к ней.","filters.config.warning.workspace.notAvailable":"Конфигурация фильтра даты рабочей области либо не определена, либо у вас нет прав доступа к ней.","kpi.noData":"Нет данных для текущих настроек фильтра. Попробуйте изменить фильтры.","kpiPop.change":"изменить","dialogs.schedule.email.filters":"Дашборд содержит изменения фильтра, которые будут сохранены в расписании.","dialogs.schedule.email.filters.not.saved":"Фильтры дашборда, сохраненные в расписании, не будут затронуты.","dialogs.schedule.email.attachment.filter":"(с текущими установленными фильтрами)","dialogs.schedule.email.attachment.label":"Вложение:","dialogs.schedule.email.attachments.label":"Вложения:","dialogs.schedule.email.attachment.select":"Выбрать вложения","dialogs.schedule.email.attachment.select.disabled.message":"Этот дашборд не содержит никаких анализов.","dialogs.schedule.email.attachment.select.dashboard.header":"Дашборд (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Анализы (CSV, XLSX)","dialogs.schedule.email.headline":"Запланируйте доставку электронной почты","dialogs.schedule.email.heading":"Запланировать экспорт","dialogs.schedule.email.message.label":"Сообщение:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 получатель отказался от подписки} few {# получателя отказались от подписки} many {# получателей отказались от подписки} other {# получателей отказались от подписки}} на это расписаниеe.","dialogs.schedule.email.repeats.label":"Повторы:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"{date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"в {week, select, 1 {первый} 2 {второй} 3 {третий} 4 {четвертый} other {последний}} {day}","dialogs.schedule.email.repeats.every":"каждый","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {день} few {дня} many {дней} other {дней}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {месяц} few {месяца} many {месяцев} other {месяцев}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {неделя} few {недели} many {недель} other {недель}}","dialogs.schedule.email.repeats.types.custom":"Свои правила","dialogs.schedule.email.repeats.types.daily":"Ежедневно","dialogs.schedule.email.repeats.types.monthly":"Ежемесячно в {week, select, 1 {первый} 2 {второй} 3 {третий} 4 {четвертый} other {последний}} {day}","dialogs.schedule.email.repeats.types.weekly":"Еженедельно в: {day}","dialogs.schedule.email.subject.label":"Тема:","dialogs.schedule.email.time.label":"Первый раз:","dialogs.schedule.email.to.label":"Кому:","dialogs.schedule.email.message.placeholder":"Здравствуйте,\\n\\nВы получили запланированное электронное письмо. Вы можете посмотреть дашборд во вложении.","dialogs.schedule.email.submit":"Запланировать","dialogs.schedule.email.save":"Сохранить","dialogs.schedule.email.format.options":"Параметры формата","dialogs.schedule.email.insight.format":"Формат анализа:","dialogs.schedule.email.attribute.merged":"Сохранить ячейки атрибутов объединенными","dialogs.schedule.email.show.filters":"Показать, какие фильтры применяются","dialogs.schedule.management.title":"Запланированные экспорты","dialogs.schedule.management.delete":"Удалить расписание.","dialogs.schedule.management.delete.dialog":"Удалить расписание?","dialogs.schedule.management.delete.dialog.confirm":"<b>Расписание</b> будет удалено навсегда.","dialogs.schedule.management.noSchedules":"На дашборде нет запланированных экспортов.{br}Добавьте их прямо сейчас.","dialogs.schedule.management.noSchedules.byUser":"Вы еще не запланировали ни одного экспорта.{br}Добавьте их прямо сейчас.","dialogs.schedule.management.addSchedule":"Добавить расписание","dialogs.schedule.management.recipients":"{n, plural, one {# получатель} few {# получателя} many {# получателей} other {# получателей}}","dialogs.schedule.management.recipients.onlyYou":"Только вы","dialogs.schedule.management.attachments.dashboard":"Дашборд","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# анализ} few {# анализа} many {# анализов} other {# анализов}}","dialogs.schedule.management.attachments.mixed":"Дашборд и {n, plural, one {# анализ} few {# анализа} many {# анализов} other {# анализов}}","dialogs.schedule.management.load.error":"Не удалось загрузить. Повторите попытку позже.","dialogs.schedule.management.delete.error":"Не удалось удалить расписание. Повторите попытку позже.","dialogs.schedule.management.tab.all":"все","dialogs.schedule.management.tab.user":"создано мной","options.menu.schedule.email.recipient.invalid":"Это недействительный адрес электронной почты.","options.menu.schedule.email.recipient.warning.existed":"Вы уже добавили этого получателя.","options.menu.schedule.email.recipient.warning.belong.workspace":"Этот адрес электронной почты не принадлежит этому рабочему пространству. Получатель может получить конфиденциальные данные.","options.menu.schedule.email.recipient.external.not.allowed":"Этот адрес электронной почты не принадлежит этому рабочему пространству. Только автор расписания может добавить этот адрес электронной почты.","delete":"Удалить","close":"Закрыть","cancel":"Отмена","gs.date.at":"в","gs.date.today":"Сегодня","gs.date.tomorrow":"Завтра","gs.date.yesterday":"Вчера","kpi.alertBox.title":"Установите оповещение об изменении КПЭ","kpi.alertBox.example":"напр.","kpi.alertBox.unverifiedEmail":"К сожалению, вы не можете установить оповещение. Убедитесь, что ваш адрес электронной почты подтвержден. Если это не поможет, попросите администратора обновить ваши разрешения.","kpi.alertBox.disabledInReadOnly":"Оповещение отключено в режиме только для чтения","kpi.error.view":"КПЭ не может быть отображен. Обратитесь к администратору, чтобы исправить определение КПЭ.","kpiAlertDialog.delete":"Удалить","kpiAlertDialog.deleting":"Удаление…","kpiAlertDialog.emailMe":"Отправить мне","kpiAlertDialog.emailMeWhen":"{emailMe} когда этот КПЭ","kpiAlertDialog.emailInfo":"Эл. письмо будет отправлено на {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Этот число недопустимо.</strong>{br}Еще раз проверьте его и повторите попытку.","kpiAlertDialog.filtersDiffer":"КПЭ теперь фильтруется иначе, чем когда было настроено оповещение.","kpiAlertDialog.filtersApply":"Применить фильтры оповещения к дашбордам","kpiAlertDialog.savingFailed":"Не удалось сохранить оповещение. Повторите попытку.","kpiAlertDialog.deleteingFailed":"Не удалось удалить оповещение. Повторите попытку.","kpiAlertDialog.brokenAlert":"Неработающее оповещение","kpiAlertDialog.brokenAlertAppeal":"Чтобы увидеть правильное значение КПЭ, обновите фильтры в этом оповещении. Вы также можете удалить оповещение.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Дата","kpiAlertDialog.removedFilters":"Фильтры удалены с дашборда","kpiAlertDialog.ignoredFilters":"Фильтры игнорируются для этого КПЭ","kpiAlertDialog.updateTitle":"Обновить","kpiAlertDialog.updateBrokenTitle":"Обновить фильтры","kpiAlertDialog.updatingTitle":"Обновление…","kpiAlertDialog.updateBrokenFailed":"Не удалось обновить фильтры. Повторите попытку.","kpiAlertDialog.setTitle":"Установить оповещение","kpiAlertDialog.settingTitle":"Установка…","kpiAlertDialog.threshold.above":"выше","kpiAlertDialog.threshold.below":"ниже","kpiAlertDialog.withAttributeFilters":"еще {numFilters} {numFilters, select, 1 {фильтр применен} few {фильтра применено} many {фильтров применено} other {фильтров применено}}","messages.exportResultError":"Не удалось экспортировать данные. Попробуйте позже.","messages.exportResultRestrictedError":"Вы не можете экспортировать этот анализ, так как он содержит данные с ограниченным доступом.","messages.exportResultStart":"Выполняется экспорт","messages.exportResultSuccess":"Экспорт успешно завершен.","messages.sharingChangedSuccess":"Общий доступ обновлен.","messages.sharingChangedError.general":"Не удалось обновить настройки общего доступа. Попробуйте позже.","messages.sharingDialogError.general":"Не удалось загрузить настройки общего доступа. Попробуйте позже.","visualization.dataTooLarge.headline":"Слишком много точек данных для отображения","visualization.dataTooLarge.text":"Попробуйте применить один или несколько фильтров к своему дашборду.","visualization.execute_protected_report.headline":"У вас нет прав для просмотра этого отчета","visualization.execute_protected_report.text":"Свяжитесь со своим администратором.","visualization.alert_not_supported":"Оповещения не поддерживаются для статического периода даты.","visualization.empty.headline":"Нет данных при вашем выборе фильтров","visualization.error.headline":"К сожалению, мы не можем отобразить этот анализ","visualization.error.text":"Свяжитесь со своим администратором.","options.button.bubble":"Экспорт данных анализа","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"В настоящий момент анализ нельзя экспортировать. Попробуйте применить другие фильтры или использовать другие показатели или атрибуты.","options.menu.unsupported.error._metric":"В настоящий момент анализ нельзя экспортировать. Попробуйте применить другие фильтры или использовать другие метрики или атрибуты.","options.menu.unsupported.loading":"В настоящий момент анализ нельзя экспортировать.","export.defaultTitle":"Анализ без названия","export_unsupported.disabled":"Экспорт не поддерживается","widget.options.menu.exportToCSV":"Экспорт в CSV","widget.options.menu.exportToXLSX":"Экспорт в XLSX","widget.options.menu.scheduleExport":"Запланировать экспорт","share.button.text":"Поделиться","dashboard.error.empty.heading":"Этот дашборд пуст","dashboard.error.empty.text":"Все анализы были удалены.","dashboard.shareDialog.underLenientControl.label":"Другие пользователи могут получить доступ к этому дашборду, если они перейдут к нему в ходе детализации.","dashboard.shareDialog.lock.label":"Только администраторы могут редактировать этот дашборд","header.lockStatus.tooltip":"<b>Этот дашборд заблокирован.</b> Только администраторы могут редактировать его.","header.shareStatus.private.text":"Приватные","header.shareStatus.private.strict.tooltip":"Только вы можете просматривать и редактировать этот дашборд.","header.shareStatus.private.not.strict.tooltip":"Создатель может редактировать этот дашборд. Другие пользователи с соответствующими ролями могут редактировать этот дашборд при переходе к нему.","dashboard.shareDialog.removeAccessGranteeTooltip":"Удалить доступ к этому дашборду.","dashboard.shareDialog.removeAccessCreatorTooltip":"Это пользователь, создавший этот дашборд. Создателя невозможно удалить.","attributesDropdown.placeholder":"Поиск атрибутов…","attributesDropdown.configuration":"Конфигурация","attributesDropdown.itemsFiltered":"Элементы фильтруются","attributesDropdown.allItemsFiltered":"Все элементы отфильтрованы","attributesDropdown.itemsFiltered.tooltip":"Элементы фильтруются по: <strong>{filters}</strong>","attributesDropdown.save":"Сохранить","attributesDropdown.filterBy":"Фильтровать по","attributesDropdown.displayValuesAs":"Отображать значения как","attributesDropdown.title":"Заголовок","attributesDropdown.title.reset":"Сброс","attributesDropdown.selectionMode":"Выделение","attributesDropdown.selectionMode.multi":"Несколько значений","attributesDropdown.selectionMode.single":"Одно значение","attributesDropdown.selectionMode.disabled.tooltip":"Выбор одного значения не допускается, если какие-либо фильтры выбраны в поле «Фильтровать по». Чтобы использовать выбор «Одно значение», отключите все фильтры в поле «Фильтровать по».","attributesDropdown.parentFilter.disabled.tooltip":"Фильтрация другими фильтрами отключена для выбора «Одно значение». Чтобы установить «Фильтровать по», выберите «Несколько значений».","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> нельзя фильтровать по <strong>{parentTitle}</strong>. В модели данных нет связи между атрибутами фильтра.","attributesDropdown.details.dataset":"Датасет","attributesDropdown.details.values":"Значения","attributesDropdown.details.shortening_decoration":"…и еще {count}","attributesDropdown.removeTooltip":"Удалить с дашборда","layout.header.characters.left":"осталось символов: {currentCharactersCount}/{maximumCharactersCount}","layout.header.add.title.placeholder":"Добавьте заголовок здесь...","layout.header.add.description.placeholder":"Добавьте описание здесь...","error":"Ошибка","controlButtons.edit.value":"Изменить","controlButtons.saveAndPublish.value":"Сохранить и опубликовать","controlButtons.save.value":"Сохранить","controlButtons.saveAndPublish.title":"Все изменения будут немедленно видны всем, у кого есть доступ к этому дашборду.","controlButtons.saveAsPrivate.title":"Все изменения будут сохранены.","controlButtons.saveAndPublish.disable.empty.title":"Пустой дашборд нельзя сохранить","controlButtons.saveAndPublish.disable.noChanges.title":"Нет изменений для сохранения","controlButtons.saving.value":"Сохранение…","gs.visualizationsList.tabs.all":"все","gs.visualizationsList.tabs.my":"создано мной","visualizationsList.noInsights":"Эта рабочая область не содержит анализов.","visualizationsList.create":"Создать анализ","visualizationsList.noUserInsights":"Нет созданных анализов.","visualizationsList.noVisualizationsFound":"Нет подходящего анализа.","search_insights":"Поиск по всем анализам…","save.as.new":"Сохранить как новую","addPanel.deleteItem":"Сбросьте, чтобы удалить","addPanel.newItem":"Новый элемент","addPanel.attributeFilter":"Фильтр атрибутов","addPanel.attributeFilter.tooltip.no_attributes":"Фильтру атрибутов требуется атрибут.","addPanel.attributeFilter.tooltip.no_attributes.link":"Подробнее","addPanel.kpi":"Ключевой показатель эффективности","addPanel.kpi.tooltip.no_measures._measure":"Ключевому показателю эффективности требуется вычисляемый показатель.","addPanel.kpi.tooltip.no_measures._metric":"Ключевому показателю эффективности требуется метрика.","addPanel.kpi.tooltip.no_measures.link":"Подробнее","visualizationsList.dragToAdd":"Перетащите, чтобы добавить","visualizationsList.savedVisualizations":"Сохраненные анализы","configurationPanel.drillConfig.selectDashboard":"Выберите дашборд…","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Поиск по всем дашбордам…","configurationPanel.drillConfig.forbiddenDashboard":"(Не предоставлена вам)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"Дашборд не предоставлен вам, но другие пользователи имеют доступ к нему.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"Дашборд не предоставлен вам, но все пользователи могут получить к нему доступ, если они перейдут к нему в ходе детализации.","configurationPanel.remove.form.dashboard":"Удалить с дашборда","filterBar.filter.drop":"сбросьте, чтобы добавить","filterBar.filter.addFilterPlaceholder":"Перетащите {icon} сюда","filterBar.filter.dropzone.tooltip":"Перетащите фильтр атрибутов сюда.","configurationPanel.title":"Конфигурация","configurationPanel.comparison":"Сравнение","configurationPanel.compareWith":"Сравнить с","configurationPanel.increasingNumberIs":"Увеличение числа","configurationPanel.comparisonTypeItems.previousPeriod":"Предыдущий период","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Тот же период предыдущего года","configurationPanel.comparisonTypeItems.noComparison":"Без сравнения","configurationPanel.comparisonDirectionItems.green":"Зеленый","configurationPanel.comparisonDirectionItems.red":"Красный","configurationPanel.unlistedMetric._measure":"Показатель вне списка","configurationPanel.unlistedMetric._metric":"Метрика вне списка","configurationPanel.unlistedMetricIconTitle._measure":"Этот показатель скрыт. Только вы можете видеть его.","configurationPanel.unlistedMetricIconTitle._metric":"Эта метрика скрыта. Только вы можете видеть ее.","configurationPanel.selectMeasurePlaceholder._measure":"Выбрать показатель…","configurationPanel.selectMeasurePlaceholder._metric":"Выбрать метрику…","configurationPanel.selectComparisonPlaceholder":"Выбрать сравнение…","configurationPanel.selectComparisonDirectionPlaceholder":"Выберите положительный/отрицательный","configurationPanel.measure._measure":"Показатель","configurationPanel.measure._metric":"Метрика","configurationPanel.filterBy":"Фильтровать по","configurationPanel.date":"Дата","configurationPanel.dateAs":"как","configurationPanel.vizCantBeFilteredByAttribute":"Этот анализ нельзя фильтровать по {attributeName}. Снимите флажок.","configurationPanel.kpiCantBeFilteredByAttribute":"Этот КПЭ нельзя фильтровать по {attributeName}. Снимите флажок.","configurationPanel.vizCantBeFilteredByDate":"Этот анализ нельзя фильтровать по дате. Снимите флажок.","configurationPanel.kpiCantBeFilteredByDate":"Этот КПЭ нельзя фильтровать по дате. Снимите флажок.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" больше нельзя применять к анализу. Выберите другое измерение или отредактируйте анализ.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" больше нельзя применять к КПЭ. Выберите другое измерение или отредактируйте анализ.","configurationPanel.breakAlertWarning":"\\n            Пользователи настроили {numAlerts} {numAlerts, select, 1 {оповещение} few {оповещения} many {оповещений} other {оповещений}}\\n            для этого КПЭ. Изменение КПЭ повлияет на {numAlerts, select, 1 {это оповещение} few {этих оповещения} many {этих оповещений} other {тих оповещений}}.\\n        ","configurationPanel.drillIntoDashboard":"Углубиться в дашборд","configurationPanel.noLinkableDashboards":"Нет дашборда для ссылки","configurationPanel.selectDashboard":"Выберите дашборд","configurationPanel.interactions":"Взаимодействия","configurationPanel.drillConfig.interactions":"Детализация взаимодействий","configurationPanel.drillConfig.addInteraction":"Добавить взаимодействие","configurationPanel.drillConfig.clickHint":"Когда я щелкну","configurationPanel.drillConfig.measureValue._measure":"значение показателя","configurationPanel.drillConfig.measureValue._metric":"значение метрики","configurationPanel.drillConfig.attributeValue":"значение атрибута","configurationPanel.drillConfig.selectTarget":"Я хочу","configurationPanel.drillConfig.clickHintItem":"Когда я щелкну <addon>(значение)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Углубиться в дашборд","configurationPanel.drillConfig.drillIntoInsight":"Углубиться в анализ","configurationPanel.drillConfig.drillDown":"Углубиться","configurationPanel.drillConfig.drillIntoUrl":"Углубиться в URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Неверные параметры URL","configurationPanel.drillConfig.select":"Выбрать действие…","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"Значение атрибута даты из анализа не будет передано для фильтрации целевого дашборда.","configurationPanel.unlistedDashboardTab":"Дашборд вне списка","configurationPanel.visualprops.sectionTitle":"Заголовок","configurationPanel.visualprops.hideTitle":"Скрыть заголовок","configurationPanel.visualprops.sectionDescription":"Описание","configurationPanel.visualprops.inheritDescription":"Унаследованное","configurationPanel.visualprops.inheritDescriptionHelp":"Наследовать описание из анализа.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Наследовать описание из метрики.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Наследовать описание из показателя.","configurationPanel.visualprops.customDescription":"Свои правила","configurationPanel.visualprops.customDescriptionHelp":"Добавьте собственное описание для этого экземпляра анализа.","configurationPanel.visualprops.customKpiDescriptionHelp":"Добавьте собственное описание.","configurationPanel.visualprops.noneDescription":"Нет","configurationPanel.visualprops.includeMetrics._measure":"Включать описания показателей","configurationPanel.visualprops.includeMetrics._metric":"Включать описания метрик","configurationPanel.visualprops.includeMetricsHelp._measure":"Отобразить раздел со списком показателей анализа и их описанием.","configurationPanel.visualprops.includeMetricsHelp._metric":"Отобразить раздел со списком метрик анализа и их описанием.","configurationPanel.visualprops.descriptionPlaceholder":"Добавить описание…","configurationPanel.drillIntoUrl.defaultButtonValue":"Выбрать URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Гиперссылка в метке атрибута","configurationPanel.drillIntoUrl.customUrlSectionTitle":"Пользовательский URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Добавить польз. URL","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Редак. польз. URL","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Параметры","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Параметры – это заполнители, которые заменяются динамическими значениями во время детализации.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Добавить","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Тип","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Метка","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {значение} few {значения} many {значений} other {значений}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...и еще {count}","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"ИД анализа","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"ИД клиента","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"ИД данных продукта","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"ИД проекта","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ИД рабочей области","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ИД виджета","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ИД дашборда","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Идентификатор","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Анализ","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Идентификаторы","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Применить","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Отмена","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Введите URL и добавьте параметры с правой панели.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Как создать пользовательский URL?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Неверные параметры: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Добавить польз. URL","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Редак. польз. URL","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Значение метки атрибута","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Значение гео-атрибута","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Значение URL атрибута","configurationPanel.zoomInsight":"Масштабируемый анализ","configurationPanel.zoomInsight.help":"Включите масштабирование анализа для отображения подробного представления. Удерживайте клавишу shift, чтобы перемещать масштабируемую область.","configurationPanel.zoomInsight.notice":"Масштабирование не будет применяться к экспортированным дашбордам.","configurationPanel.drillConfig.selectInsight":"Выбрать анализ…","gs.date.date-dataset.recommended":"Рекомендуемые","gs.date.date-dataset.other":"Прочие","gs.date.date-dataset.related":"Связанные","gs.date.date-dataset.unrelated":"Несвязанные","gs.date.date-dataset.unrelated_hidden":"{count} {count, plural, one {несвязная дата} few {несвязные даты} many {несвязных дат} other {несвязных дат}} {isShow, select, true {видны} other {скрыты}}.","gs.date.date-dataset.unrelated.show":"Показать","gs.date.date-dataset.unrelated.hide":"Скрыть","layout.widget.width.min":"Виджет имеет минимальную ширину","layout.widget.width.max":"Виджет имеет максимальную ширину","layout.widget.height.min":"Виджет имеет минимальную высоту","layout.widget.height.max":"Виджет имеет максимальную высоту","layout.widget.addedByPlugin":"Добавлено плагином","layout.widget.modifiedByPlugin":"Изменено плагином","layout.widget.hideOverlay":"Скрыть оверлей","dropzone.new.row.desc":"Сбросьте, чтобы создать{nbsp}<b>новый раздел</b>","dropzone.widget.desc":"Сбросьте <b>сюда</b>","dropzone.widget.last.in.row.desc":"Сбросьте в <b>имеющийся раздел</b>","deleteKpiConfirmationDialog.headline":"Удалить КПЭ","deleteKpiConfirmationDialog.message":"Все оповещения, настроенные для этого КПЭ, также будут удалены.","deleteKpiConfirmationDialog.submitButtonText":"Удалить","newDashboard.title":"Перетащите анализ сюда","newDashboard.dropInsight":"Сбросьте анализ","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> уже отфильтрован фильтром <strong>{childTitle}</strong> напрямую или через другие фильтры.","attributesDropdown.attributeNameWithData":"с данными","filter.visibilityMode.tooltip.hidden":"Этот фильтр скрыт. Доступ к нему возможен только через режим редактирования.","filter.visibilityMode.tooltip.readonly.editMode":"Этот фильтр заблокирован. Его можно изменить только в режиме редактирования.","filter.visibilityMode.tooltip.readonly.viewMode":"Этот фильтр заблокирован.","dateFilterDropdown.save":"Сохранять","filter.configuration.mode.title":"Режим","filter.configuration.mode.interactive.title":"Интерактивный","filter.configuration.mode.interactive.tooltip":"Пользователи панели могут очень легко настроить фильтр.","filter.configuration.mode.locked.title":"Заблокировано","filter.configuration.mode.locked.tooltip":"Пользователи информационной панели могут видеть фильтр, но не могут его изменить.","filter.configuration.mode.hidden.title":"Скрытый","filter.configuration.mode.hidden.tooltip":"Пользователи информационной панели не видят фильтр, но он применяется."}'),VI={"en-US":LI._(MI),"de-DE":OI,"es-ES":NI,"fr-FR":_I,"ja-JP":HI,"nl-NL":UI,"pt-BR":GI,"pt-PT":BI,"zh-Hans":WI,"ru-RU":zI},jI=ap({},Z.messagesMap,VI),KI={time:{hhmm:{hour:"numeric",minute:"2-digit"}},date:{shortWithoutYear:{day:"numeric",month:"short"},shortWithYear:{day:"numeric",month:"short",year:"numeric"}}},qI=({children:e,locale:t=Z.DefaultLocale})=>{const i=(0,R.useCallback)((i=>R.createElement(xI.Z,{locale:t,messages:i,formats:KI},e)),[t,e]);return R.createElement(Z.TranslationsCustomizationProvider,{translations:jI[t],render:i})},YI=300,ZI={x:0,y:0,bottom:0,top:0,left:0,right:0,height:0,width:0},$I={resizeDirection:"none",resizeItemIdentifiers:[],heightLimitReached:"none",widthState:null,initialDashboardDimensions:ZI},XI=(0,R.createContext)({resizeDirection:"none",resizeItemIdentifiers:[],heightLimitReached:"none",widthState:null,initialDashboardDimensions:ZI,resizeStart:j,resizeEnd:j,setScrollCorrection:j,getScrollCorrection:()=>({x:0,y:0}),setWidthState:j,toggleHeightLimitReached:j});function QI({children:e}){const t=(0,R.useRef)({x:0,y:0}),[i,r]=(0,R.useState)($I),a=(0,R.useCallback)(((e,t,i)=>{r({heightLimitReached:"none",initialDashboardDimensions:i?i():ZI,resizeDirection:e,resizeItemIdentifiers:t,widthState:null})}),[]),n=(0,R.useCallback)((e=>{r((t=>({...t,heightLimitReached:e})))}),[]),o=(0,R.useCallback)((e=>{r((t=>({...t,widthState:e})))}),[]),l=(0,R.useCallback)((e=>{t.current=e}),[]),s=(0,R.useCallback)((()=>t.current),[]),d=(0,R.useCallback)((()=>{r($I)}),[]);return R.createElement(XI.Provider,{value:{...i,resizeStart:a,resizeEnd:d,setScrollCorrection:l,getScrollCorrection:s,setWidthState:o,toggleHeightLimitReached:n}},e)}function JI(){return(0,R.useContext)(XI)}function eC(){const e=JI();return{resizeStart:e.resizeStart,toggleHeightLimitReached:e.toggleHeightLimitReached,resizeEnd:e.resizeEnd,setWidthState:e.setWidthState,setScrollCorrection:e.setScrollCorrection,getScrollCorrection:e.getScrollCorrection}}function tC({isCurrent:e,isInitial:t,index:i}){const r="gd-resize-bullet s-resize-bullet-"+i;return R.createElement("div",{className:r},R.createElement("svg",{className:"gd-resize-bullet-icon"},R.createElement("circle",{cx:"3",cy:"3",r:"3",className:dy({active:e,initial:t,passive:!e&&!t})})))}const iC=Nn+1;function rC(){const e=function(){const e=JI();return{isResizingWidth:"width"===e.resizeDirection,...e.widthState}}();return e.isResizingWidth?R.createElement("div",{className:"gd-resize-bullets-bar"},[...Array(iC)].map(((t,i)=>R.createElement(tC,{key:i,index:i,isInitial:e.initialIndex===i,isCurrent:e.currentIndex===i})))):null}const aC=({isVisible:e,isFilterBarExpanded:t,onToggle:i})=>{if(!e)return null;const r=t?"gd-icon-chevron-up":"gd-icon-chevron-down";return R.createElement("div",{className:"show-all"},R.createElement("button",{className:"button-filter-bar-show-all",tabIndex:-1,onClick:()=>i(!t)},R.createElement("span",{className:"gd-button-text gd-label"},t?R.createElement(AI.Z,{id:"filterBar.showLess"}):R.createElement(AI.Z,{id:"filterBar.showAll"}),R.createElement("i",{className:`gd-button-icon gd-icon ${r}`}))))},nC={expandedHeight:0,collapsedHeight:0,rows:[]};const oC=[{align:"tr tl"},{align:"br bl"},{align:"tl tr"},{align:"tr tr"},{align:"br br"}],lC={"tr tl":[7,28],"br bl":[7,-28],"tl tr":[-7,28],"tr tr":[-76,28],"br br":[-76,-28]},sC={"tr tr":"right","br br":"right"},dC=[".s-dash-item.is-selected"],cC=e=>{const{children:t,classNames:i,onClose:r,alignTo:a=".s-dash-item.is-selected",alignPoints:n=oC}=e;return R.createElement(uD.Bubble,{className:dy("bubble-light gd-configuration-bubble s-gd-configuration-bubble",i),overlayClassName:"gd-configuration-bubble-wrapper sdk-edit-mode-on",alignTo:a,alignPoints:n,arrowOffsets:lC,arrowDirections:sC,closeOnOutsideClick:!0,closeOnParentScroll:!1,ignoreClicksOnByClass:dC,onClose:r},t)},uC=[{align:"br tr"}];function gC(){const[e,t]=(0,R.useState)(!1),i=(0,PI.Fg)();return R.createElement("div",{className:"gd-filters-configuration"},R.createElement("div",{className:"gd-filters-configuration-button",onClick:()=>t((e=>!e))},R.createElement(uD.Icon.SettingsGear,{width:18,height:18,color:e?i?.palette?.primary?.base??"#14b2e2":i?.palette?.complementary?.c6??"#94a1ad"})),e?R.createElement(cC,{classNames:"gd-filters-configuration-panel",onClose:()=>t(!1),alignTo:".gd-filters-configuration-button",alignPoints:uC},R.createElement("div",{className:"configuration-panel"},R.createElement("div",{className:"configuration-panel-header"},R.createElement(uD.Typography,{tagName:"h3",className:"configuration-panel-header-title"},R.createElement(AI.Z,{id:"filters.configurationPanel.header"}))),R.createElement("div",{className:"configuration-category"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"filters.configurationPanel.sectionHeader.interactions"})),R.createElement(mC,null)))):null)}function mC(){const e=qb(Tu),t=Kb();return R.createElement("label",{className:"input-checkbox-toggle"},R.createElement("input",{type:"checkbox",checked:!e,onChange:e=>{var i;i=!e.currentTarget.checked,t(Pn.setDisableCrossFiltering(i))}}),R.createElement("span",{className:"input-label-text"},R.createElement(AI.Z,{id:"filters.configurationPanel.crossFiltering.toggle"})))}const pC=(0,Po.createSelector)(Wc,Kl,jo,((e,t,i)=>e&&t&&i)),hC=(0,Hb.b)(kI.Z),fC=({children:e})=>{const{rows:t,height:i,isFilterBarExpanded:r,scrollable:a,setFilterBarExpanded:n,setCalculatedRows:o}=function(){const[e,t]=(0,R.useState)(nC),{expandedHeight:i,collapsedHeight:r,rows:a}=e,n=Kb(),o=qb(SD);return{rows:a,scrollable:function(e){const[t,i]=(0,R.useState)(!1);return(0,R.useEffect)((()=>{let t=null;return e?t=window.setTimeout((()=>i(!0)),200):i(!1),()=>{null!==t&&window.clearTimeout(t)}}),[e]),t}(o),height:(o?i:r)+1,isFilterBarExpanded:o,setCalculatedRows:t,setFilterBarExpanded:e=>n(Va.setFilterBarExpanded(e))}}(),l=function(e,t,i){const r=(0,R.useRef)(!1),a=(0,R.useRef)(!1),n=(0,R.useRef)(!1),[{canDrop:o},l]=tI(["attributeFilter","dateFilter","attributeFilter-placeholder"],{drop:(e,t)=>{t.didDrop()&&(n.current=!0)}},[]);return(0,R.useEffect)((()=>{const l=o===r.current,s=e===a.current;l&&s||(o&&e?(n.current=t,i(!0)):n.current!==t&&(i(n.current),n.current=!1),r.current=o,a.current=e)}),[o,e,t,i]),l}(t.length>1,r,n),s=qb(pC);return R.createElement("div",{className:"dash-filters-wrapper s-gd-dashboard-filter-bar",ref:l},R.createElement("div",{style:{height:i},className:dy("dash-filters-visible",{scrollable:a,"s-dash-filters-visible-all":r})},R.createElement(bC,{setCalculatedRows:o},e),R.createElement(DC,{rows:t}),s?R.createElement(gC,null):null),R.createElement(aC,{isFilterBarExpanded:r,isVisible:t.length>1,onToggle:e=>n(e)}),R.createElement(rC,null))},bC=({setCalculatedRows:e,children:t})=>{const i=(0,R.useRef)(null),r=(a=i,(0,R.useCallback)((e=>{const t=a.current;if(!t||!e.bounds)return nC;const{height:i}=e.bounds,r=function(e){const t=Array.prototype.slice.call(e.childNodes);let i=Number.MIN_SAFE_INTEGER;return t.reduce(((e,t)=>{if(Boolean(t.offsetWidth)){const r=e[e.length-1];t.offsetLeft<=i?e.push([t]):r.push(t),i=t.offsetLeft}return e}),[[]])}(t),n=function(e){return e.map((e=>{const t=e.map((e=>e.offsetHeight??0));return Math.max(...t)}))}(r);return{expandedHeight:i,collapsedHeight:n[0],rows:n}}),[a]));var a;return R.createElement(hC,{bounds:!0,innerRef:e=>i.current=e,onResize:t=>e(r(t))},(({measureRef:e})=>R.createElement("div",{className:"dash-filters-all",ref:e},t)))},DC=({rows:e})=>R.createElement(R.Fragment,null,e.length>1&&R.createElement("div",{className:"dash-filters-rows"},e.map(((e,t)=>R.createElement("div",{className:"dash-filters-row",style:{height:e},key:t}))))),vC=({children:e})=>{const t=qb(Jo);return R.createElement(qI,{locale:t},R.createElement(fC,null,e))};function EC(e){return"filterPlaceholder"===e.type}function yC(e){return(0,a.isDashboardAttributeFilter)(e.filter)}function IC(e){return!(EC(e)||!(0,a.isDashboardDateFilter)(e.filter)||!e.filter.dateFilter.dataSet)}function CC(e){return(0,a.isDashboardAttributeFilter)(e)||(0,a.isDashboardDateFilterWithDimension)(e)}const SC=e=>null,TC={bubbleClassNames:"gd-filter-button-custom-icon-bubble s-gd-filter-button-custom-icon-bubble"},wC=(e,t,i,r)=>{if(i)return e===a.DashboardDateFilterConfigModeValues.HIDDEN?{...TC,icon:"gd-icon-invisible s-gd-icon-invisible",tooltip:r.formatMessage(ev.filterHiddenTooltip)}:e===a.DashboardDateFilterConfigModeValues.READONLY?{...TC,icon:"gd-icon-lock s-gd-icon-lock",tooltip:r.formatMessage(t?ev.filterReadonlyInEditModeTooltip:ev.filterReadonlyInViewModeTooltip)}:void 0},AC=(e,t,i,r)=>{const n=t===a.DashboardDateFilterConfigModeValues.HIDDEN,o=e.every((e=>IC(e)?RC(e,r):PC(e,i)));return n&&o},PC=(e,t)=>!EC(e)&&(!!yC(e)&&t.get(e.filter.attributeFilter.localIdentifier)===a.DashboardAttributeFilterConfigModeValues.HIDDEN),RC=(e,t)=>!EC(e)&&(!!IC(e)&&t.get((0,a.serializeObjRef)(e.filter.dateFilter.dataSet))===a.DashboardDateFilterConfigModeValues.HIDDEN);var FC=i(86896);const kC=[{align:"bc tc"}],xC=()=>{const e=(0,FC.Z)().formatMessage(ev.filterResetButtonTooltip),[t,i]=(()=>{const e=qb(Wc),t=qb(hd),i=qb(Ed),r=qb(Kl),n=qb(jo),o=qb(Tu),l=Kb(),{filterContextStateReset:s}=tD(),d=R.useMemo((()=>!e&&!Ma(i,t)),[t,i,e]),c=R.useMemo((()=>{const e=t.filter(a.isDashboardAttributeFilter).map((e=>e.attributeFilter.localIdentifier)),r=i.filter(a.isDashboardAttributeFilter).map((e=>e.attributeFilter.localIdentifier));return _n(r,e)}),[i,t]),u=R.useCallback((()=>{if(!d)return;const[[e],i]=Li(t,a.isDashboardCommonDateFilter);l(kf([e??(0,a.newAllTimeDashboardDateFilter)(),...i])),r&&n&&!o&&(l(Tf(c)),l(ks.resetCrossFiltering())),s()}),[d,t,l,r,n,s,c,o]);return[d,u]})();return t?R.createElement("div",{className:"dash-filters-reset"},R.createElement(uD.BubbleHoverTrigger,null,R.createElement("button",{className:"gd-button-link button-filter-bar-reset",onClick:i},R.createElement(uD.Icon.Reset,{className:"gd-icon-reset",width:20,height:20})),R.createElement(uD.Bubble,{alignPoints:kC},R.createElement("span",null,e)))):null},LC=()=>{const e=qb(Ed),t=qb(Oo),i=Kb(),r=(0,R.useCallback)((e=>{const r=t?e:function(e){return(0,a.isAttributeElementsByRef)(e.attributeFilter.attributeElements)?e:{attributeFilter:{...e.attributeFilter,attributeElements:{uris:e.attributeFilter.attributeElements.values}}}}(e),{attributeElements:n,negativeSelection:o,localIdentifier:l}=r.attributeFilter;i(Af(l,n,o?"NOT_IN":"IN"))}),[i,t]),n=(0,R.useCallback)(((e,t)=>{if(e)if((0,a.isAllTimeDashboardDateFilter)(e))i(If(void 0,e?.dateFilter.dataSet));else{const{type:r,granularity:a,from:n,to:o,dataSet:l}=e.dateFilter;i(Ef(r,a,n,o,t,void 0,l))}else i(If())}),[i]);return{filters:e,onAttributeFilterChanged:r,onDateFilterChanged:n,DefaultFilterBar:MC}};function MC(e){const{filters:t,onAttributeFilterChanged:i,onDateFilterChanged:r}=e,[{commonDateFilter:n,draggableFiltersWithPlaceholder:o,draggableFiltersCount:l,autoOpenFilter:s},{addDraggableFilterPlaceholder:d,closeAttributeSelection:c,selectDraggableFilter:u,onCloseAttributeFilter:g}]=function(e){const t=Kb(),i=qb(_D),r=qb(Yl),n=qb(us),[o,[l]]=Li(e,CC),[s,d]=Li(o,a.isDashboardDateFilterWithDimension),[c,u]=(0,R.useState)(),[g,m]=(0,R.useState)(),p=(0,R.useMemo)((()=>{if(void 0!==i)return c?{type:"filterPlaceholder",filterIndex:i,selectedDisplayForm:c}:{type:"filterPlaceholder",filterIndex:i}}),[i,c]),h=(0,R.useCallback)((function(e){t(Va.selectFilterIndex(e))}),[t]),f=(0,R.useCallback)((()=>{u(void 0),t(Va.clearFilterIndexSelection())}),[t]),b=(0,R.useCallback)((function(){c||f()}),[c,f]),D=(0,R.useMemo)((()=>{const e=o.map(((e,t)=>((0,a.isDashboardAttributeFilter)(e),{filter:e,filterIndex:t}))),t=c&&o.some((e=>(0,a.isDashboardAttributeFilter)(e)?(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,c):(0,a.areObjRefsEqual)(e.dateFilter.dataSet,c)));return void 0===p||t||e.splice(p.filterIndex,0,p),e}),[p,o,c]),v=(0,R.useCallback)((function(e){if(p)if((0,a.isIdentifierRef)(e)&&"dataSet"===e.type){const i=n.get(e),r=s.find((e=>(0,a.areObjRefsEqual)(e.dateFilter.dataSet,i?.dataSet.ref)));r?(m(r.dateFilter.dataSet),f()):(u(e),m(e),_E(t,Of(e,p.filterIndex)).finally(f))}else{const i=r.find((t=>t.displayForms.some((t=>(0,a.areObjRefsEqual)(t.ref,e))))),n=i?.displayForms.find((e=>d.find((t=>(0,a.areObjRefsEqual)(t.attributeFilter.displayForm,e)))));n?(m(n),f()):(u(e),m(e),_E(t,Cf(e,p.filterIndex)).finally(f))}}),[p,s,d,n,r,f,t]),E=(0,R.useCallback)((()=>{m(void 0)}),[]);return[{commonDateFilter:l,draggableFiltersWithPlaceholder:D,draggableFiltersCount:o.length,autoOpenFilter:g},{addDraggableFilterPlaceholder:h,selectDraggableFilter:v,closeAttributeSelection:b,onCloseAttributeFilter:E}]}(t),p=qb(Wc),h=qb(qc),f=qb(Kc),b=qb($c),D=qb(tu),v=qb(nu),E=qb(ts),y=qb(ll),{AttributeFilterComponentSet:I,DashboardDateFilterComponentProvider:C}=ny(),S=qb(Oo),T=qb(vd),w=qb(Md),A=AC(o,b,D,v);if(y||A)return R.createElement(SC,{...e});const P={availableGranularities:h,dateFilterOptions:f},F=C(n);return R.createElement(vC,null,R.createElement("div",{className:dy("dash-filters-date",{"dash-filter-is-edit-mode":p})},b===a.DashboardDateFilterConfigModeValues.HIDDEN?R.createElement(FI,null):R.createElement(R.Fragment,null,R.createElement(F,{filter:n,onFilterChanged:r,config:P,readonly:b===a.DashboardDateFilterConfigModeValues.READONLY}),R.createElement(iI,{placement:"outside",hintPosition:"next",targetIndex:0,onAddAttributePlaceholder:d,acceptPlaceholder:w}))),o.map((e=>{if(EC(e)){const t=I.creating.CreatingPlaceholderComponent;return R.createElement(t,{key:e.filterIndex,onClose:c,onSelect:u})}if(yC(e)){const{filter:t,filterIndex:r}=e,n=S?t:SI(t),o=I.MainComponentProvider(n),l=D.get(t.attributeFilter.localIdentifier),c=T.get(n.attributeFilter.displayForm);return(0,m.kG)(c,"inconsistent state, display form for a filter was not found"),l===a.DashboardAttributeFilterConfigModeValues.HIDDEN?null:R.createElement(TI,{key:`${(0,a.objRefToString)(c.attribute)}-${t.attributeFilter.localIdentifier}`,autoOpen:(0,a.areObjRefsEqual)(t.attributeFilter.displayForm,s),filter:t,filterIndex:r,readonly:l===a.DashboardAttributeFilterConfigModeValues.READONLY,FilterComponent:o,onAttributeFilterChanged:i,onAttributeFilterAdded:d,onAttributeFilterClose:g})}if(e.filter.dateFilter.dataSet){const{filter:t,filterIndex:i}=e,n=C(t),o=v.get((0,a.serializeObjRef)(t.dateFilter.dataSet))||a.DashboardDateFilterConfigModeValues.ACTIVE;if(o===a.DashboardDateFilterConfigModeValues.HIDDEN)return null;const l=E.find((e=>(0,a.areObjRefsEqual)(e.dataSet.ref,t.dateFilter.dataSet))).dataSet.title;return R.createElement(wI,{key:(0,a.objRefToString)(e.filter.dateFilter.dataSet),autoOpen:(0,a.areObjRefsEqual)(e.filter.dateFilter.dataSet,s),filter:t,filterIndex:i,config:{...P,customFilterName:l},readonly:o===a.DashboardDateFilterConfigModeValues.READONLY,FilterComponent:n,onDateFilterChanged:r,onDateFilterAdded:d,onDateFilterClose:g})}return null})),w?R.createElement(RI,{targetIndex:l,onDrop:d}):null,R.createElement(xC,null),R.createElement("div",{className:"filter-bar-dropzone-container"},R.createElement(iI,{placement:"outside",hintPosition:"prev",acceptPlaceholder:!1,targetIndex:l})))}var OC=i(73609);function NC(e){return{sectionIndex:e.section()?.index(),itemIndex:e.index()}}function _C(){const e=Kb();return(0,R.useCallback)((()=>{e(Va.clearDraggingWidgetSource()),e(Va.clearDraggingWidgetTarget())}),[e])}const HC=(0,JD.vU)({minHeight:{id:"layout.widget.height.min"},maxHeight:{id:"layout.widget.height.max"},minWidth:{id:"layout.widget.width.min"},maxWidth:{id:"layout.widget.width.max"}});var UC;function GC(e){const t=function({isResizingColumnOrRow:e,isActive:t,reachedWidthLimit:i,reachedHeightLimit:r}){let a=UC.None;return e&&(a=UC.Grey,t&&(a=UC.Active,"none"===i&&"none"===r||(a=UC.Error))),a}(e);if(t===UC.None)return null;const i=t===UC.Error,r=t===UC.Active,a=dy("gd-resize-overlay",{active:r,error:i}),n=function({reachedHeightLimit:e,reachedWidthLimit:t}){return"min"===e?HC.minHeight:"max"===e?HC.maxHeight:"min"===t?HC.minWidth:"max"===t?HC.maxWidth:void 0}({reachedHeightLimit:e.reachedHeightLimit,reachedWidthLimit:e.reachedWidthLimit}),o=R.createElement("div",{className:"gd-resize-overlay-text"},R.createElement(AI.Z,{...n}));return R.createElement(R.Fragment,null,R.createElement("div",{role:"resize-overlay",className:a}),i?o:null)}function BC(e,t){const i=Kb(),r=qb(Qo),{run:n}=$b({commandCreator:Rp,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",onSuccess:e=>{i(Va.setWidgetLoadingAdditionalDataStopped(e.payload.ref))},onError:e=>{i(Va.setWidgetLoadingAdditionalDataStopped(e.payload.command.payload.ref))}}),{run:o}=$b({commandCreator:sv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",onSuccess:e=>{const t=e.payload.items[0].widget.ref;i(Va.selectWidget(t)),i(Va.setConfigurationPanelOpened(!0)),i(Va.setWidgetDateDatasetAutoSelect(!0)),i(Va.setWidgetLoadingAdditionalDataStarted(t)),n(t,"default")}});return(0,R.useCallback)((n=>{const l=`insert-insight-list-item-${e}_${t}`,s=io(r,"insight",n);_E(i,lv(e,t,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:s.height.default,gridWidth:s.width.default}},widget:ic()},!1,l)).then((()=>{o(e,t,{type:"IDashboardLayoutItem",widget:{type:"insight",insight:(0,a.insightRef)(n),ignoreDashboardFilters:[],drills:[],title:(0,a.insightTitle)(n),description:""},size:{xl:{gridHeight:s.height.default,gridWidth:s.width.default}}},void 0,!1,l)}))}),[o,i,t,e,r])}function WC(e,t){const i=Kb(),r=qb(Qo),{run:n}=$b({commandCreator:lv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED",onSuccess:()=>{i(Va.selectWidget((0,a.idRef)(Yd))),i(Va.setConfigurationPanelOpened(!0))}});return(0,R.useCallback)((()=>{const i=ro(r);n(e,t,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:i.height.default,gridWidth:i.width.default}},widget:Zd()})}),[t,n,e,r])}function zC(e,t){const i=Kb(),r=qb(Qo),{run:n}=$b({commandCreator:lv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED",onSuccess:e=>{const t=e.payload.itemsAdded[0].widget.ref;i(Va.selectWidget((0,a.idRef)(jd))),i(Va.setConfigurationPanelOpened(!0)),i(Va.setWidgetDateDatasetAutoSelect(!0)),i(Va.setWidgetLoadingAdditionalDataStarted(t))}});return(0,R.useCallback)((()=>{const i=io(r,"kpi");n(e,t,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:i.height.default,gridWidth:i.width.default}},widget:Kd()})}),[n,t,e,r])}function VC(e,t){const i=Kb();return(0,R.useCallback)((r=>{let a=t;r.sectionIndex===e&&(r.itemIndex<t&&(a=t-1),r.itemIndex===a)||i(cv(r.sectionIndex,r.itemIndex,e,a))}),[i,t,e])}function jC(){const e=Kb();return{handleDragHoverStart:(0,R.useCallback)((t=>{e(Va.setDraggingWidgetTarget(t))}),[e]),handleDragHoverEnd:(0,R.useCallback)((()=>{e(Va.clearDraggingWidgetTarget())}),[e])}}!function(e){e[e.None=0]="None",e[e.Grey=1]="Grey",e[e.Active=2]="Active",e[e.Error=3]="Error"}(UC||(UC={}));const KC=e=>{const{itemIndex:t,sectionIndex:i,classNames:r,dropZoneType:a,isEndingHotspot:n}=e,o=(0,R.useRef)(!1),l="next"===a?t+1:t,s=BC(i,l),d=WC(i,l),c=zC(i,l),u=VC(i,l),{handleDragHoverStart:g}=jC(),[{canDrop:m,isOver:p,item:h},f]=tI(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{drop:e=>{Iy(e)&&s(e.insight),Ey(e)&&c(),yy(e)&&d(),(by(e)||Dy(e))&&u(e)}},[l,i,s,d,c,u]);(0,R.useEffect)((()=>{p&&(g({sectionIndex:i,itemIndex:l}),o.current=p)}),[p,i,l,g]);const b=uy({isOver:p}),D=(0,R.useCallback)((e=>!!e&&(!by(e)&&!Dy(e)||n||e.sectionIndex!==i||e.itemIndex!==t)),[n,i,t]);return R.createElement("div",{className:dy(r,"dropzone",a,{hidden:!m||!D(h),full:n}),style:b,ref:f})};function qC({status:e}){const t=dy("s-gd-fluidlayout-width-resizer","gd-fluidlayout-width-resizer",e),i=dy("width-resizer-line",e);return R.createElement("div",{className:t},R.createElement("div",{className:i}))}function YC(e,t,i){return t!==e?e>i?"max":"min":"none"}function ZC(e,t,i,r){const{minLimit:a,maxLimit:n,currentWidth:o,initialLayoutDimensions:l,gridColumnWidth:s}=e,d=function(e,t){return Math.round(e/t)}(i-r,s),c=function(e,t,i,r){const a=i+r,n=Ln(a,e,t);return{limitedSize:n,unlimitedSize:a,isLimited:n!==a,limitReached:YC(a,n,t)}}(a,n,o,d),u=c.limitedSize-o,g=u*s,m=d*s,p=Math.round((t-l.left)/s),h=p+u;return{...c,limitedX:t+g,unlimitedX:t+m,initialIndex:p,currentIndex:h}}function $C({item:e,screen:t,getGridColumnWidth:i,getGridColumnHeightInPx:r,getLayoutDimensions:a}){const n=Kb(),o=qb(Qu),{resizeStart:l,resizeEnd:s,getScrollCorrection:d}=eC(),c=(0,R.useMemo)((()=>e.widget()),[e]),u=c.identifier,{isWidthResizing:g,isActive:m}=function(e){const t=JI();return{isWidthResizing:"width"===t.resizeDirection,isActive:t.resizeItemIdentifiers.includes(e),widthState:t.widthState}}(u),[p,h]=(0,R.useState)(!1),f=e.section().index(),b=e.index(),D=e.sizeForScreen(t).gridWidth,v=uo(c,o),E=function(e,t){let i=0;const r=e.section().items().all();for(const t of r){const r=t.sizeForScreen("xl").gridWidth+i;if(r<=Nn){if(t.index()===e.index())break;i=r}else{if(t.index()===e.index())return Nn;i=t.sizeForScreen("xl")?.gridWidth??1}}return Nn-i}(e),[{isDragging:y},I]=CI({dragItem:()=>{const e=a();return{type:"internal-width-resizer",sectionIndex:f,itemIndex:b,gridColumnHeightInPx:r(),gridColumnWidth:i(),initialLayoutDimensions:e,currentWidth:D,minLimit:v,maxLimit:E}},dragEnd:(e,t)=>{const i=d(),{limitedSize:r}=ZC(e,t.getInitialClientOffset().x,t.getDifferenceFromInitialOffset().x,i.x);n(Ev(f,b,r)),h(!1)}},[c,o,f,b,D,v,E]);(0,R.useEffect)((()=>{y?l("width",[u],a):s()}),[y]);const C=p||g&&m,S=y?"muted":"active";return!y||g||p?R.createElement("div",{className:"dash-width-resizer-container"},R.createElement("div",{className:"s-dash-width-resizer-hotspot dash-width-resizer-hotspot",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:I},C?R.createElement(qC,{status:S}):null)):null}class XC{workspace;decorated;factories;constructor(e,t){this.decorated=e,this.factories=t,this.workspace=e.workspace}getDescriptor(){return this.decorated.getDescriptor()}getParentWorkspace(){return this.decorated.getParentWorkspace()}attributes(){const{attributes:e}=this.factories;return e?e(this.decorated.attributes(),this.workspace):this.decorated.attributes()}execution(){const{execution:e}=this.factories;return e?e(this.decorated.execution()):this.decorated.execution()}catalog(){const{catalog:e}=this.factories;return e?e(this.decorated.catalog()):this.decorated.catalog()}measures(){return this.decorated.measures()}facts(){return this.decorated.facts()}insights(){return this.decorated.insights()}dashboards(){const{dashboards:e}=this.factories;return e?e(this.decorated.dashboards(),this.workspace):this.decorated.dashboards()}settings(){const{workspaceSettings:e}=this.factories;return e?e(this.decorated.settings(),this.workspace):this.decorated.settings()}styling(){return this.decorated.styling()}datasets(){return this.decorated.datasets()}permissions(){return this.decorated.permissions()}users(){return this.decorated.users()}dateFilterConfigs(){return this.decorated.dateFilterConfigs()}userGroups(){return this.decorated.userGroups()}accessControl(){return this.decorated.accessControl()}attributeHierarchies(){return this.decorated.attributeHierarchies()}}class QC{organizationId;decorated;factories;constructor(e,t){this.decorated=e,this.factories=t,this.organizationId=e.organizationId}getDescriptor(e){return this.decorated.getDescriptor(e)}securitySettings(){const{securitySettings:e}=this.factories;return e?e(this.decorated.securitySettings()):this.decorated.securitySettings()}styling(){return this.decorated.styling()}settings(){return this.decorated.settings()}users(){return this.decorated.users()}permissions(){return this.decorated.permissions()}}class JC{decorated;factories;constructor(e,t){this.decorated=e,this.factories=t}async getCurrentOrganization(){const e=await this.decorated.getCurrentOrganization();return new QC(e,this.factories)}}class eS{capabilities;config;decorated;factories;constructor(e,t={}){this.decorated=e,this.factories=t,this.capabilities=e.capabilities,this.config=e.config}authenticate(e){return this.decorated.authenticate(e)}deauthenticate(){return this.decorated.deauthenticate()}isAuthenticated(){return this.decorated.isAuthenticated()}onHostname(e){return new eS(this.decorated.onHostname(e),this.factories)}withAuthentication(e){return new eS(this.decorated.withAuthentication(e),this.factories)}withTelemetry(e,t){return new eS(this.decorated.withTelemetry(e,t),this.factories)}organization(e){return new QC(this.decorated.organization(e),this.factories)}organizations(){return new JC(this.decorated.organizations(),this.factories)}currentUser(){return this.decorated.currentUser()}workspace(e){return new XC(this.decorated.workspace(e),this.factories)}entitlements(){return this.decorated.entitlements()}workspaces(){return this.decorated.workspaces()}}var tS=i(14057);class iS extends tS.s9{callbacks;constructor(e,t){super(e),this.callbacks=t}execute=()=>{const{beforeExecute:e,successfulExecute:t,failedExecute:i}=this.callbacks,r=(0,Q.Z)();return e?.(this.definition,r),super.execute().then((e=>(t?.(e,r),new rS(e,this.createNew,this.callbacks,r)))).catch((e=>{throw i?.(e,r),e}))};createNew=e=>new iS(e,this.callbacks)}class rS extends tS.Hn{callbacks;executionId;constructor(e,t,i,r){super(e,t),this.callbacks=i,this.executionId=r}readAll=()=>{const{successfulResultReadAll:e,failedResultReadAll:t}=this.callbacks;return super.readAll().then((t=>(e?.(t,this.executionId),t))).catch((e=>{throw t?.(e,this.executionId),e}))};readWindow=(e,t)=>{const{successfulResultReadWindow:i,failedResultReadWindow:r}=this.callbacks;return super.readWindow(e,t).then((r=>(i?.(e,t,r,this.executionId),r))).catch((i=>{throw r?.(e,t,i,this.executionId),i}))}}function aS(e){return e?(0,a.serializeObjRef)(e):""}const nS={xs:"layout-xs",sm:"layout-sm",md:"layout-md",lg:"layout-lg",xl:"layout-xl"},oS=({className:e,screen:t,...i})=>R.createElement("div",{...i,className:dy(e,"dash-item","s-dash-item",nS[t])}),lS=e=>{const{KpiWidgetComponentSet:t}=ny(),{kpiWidget:i}=e,r=(0,R.useMemo)((()=>t.MainComponentProvider(i.kpi,i)),[t,i]);return R.createElement(r,{...e})},sS=e=>{const{kpiWidget:t,onError:i,onFiltersChange:r,screen:n,dashboardItemClasses:o}=e,{isSelected:l}=iv((0,a.widgetRef)(t)),s=Lh((0,a.widgetRef)(t)),d=qb(s);return R.createElement(oS,{className:dy("type-kpi",o,{"is-selected":l}),screen:n},R.createElement(lS,{kpiWidget:t,alert:d,onFiltersChange:r,onError:i}))},dS={headline:"viz-type-headline",xirr:"viz-type-xirr",column:"viz-type-column",bar:"viz-type-bar",line:"viz-type-line",area:"viz-type-area",combo:"viz-type-combo",combo2:"viz-type-combo2",scatter:"viz-type-scatter",bubble:"viz-type-bubble",pie:"viz-type-pie",donut:"viz-type-donut",treemap:"viz-type-treemap",heatmap:"viz-type-heatmap",table:"viz-type-table",pushpin:"viz-type-pushpin"};function cS(e,t){return"kpi"===e?"viz-type-kpi":dS[t]??""}const uS=(0,R.forwardRef)((function({children:e,className:t,isSelectable:i,isSelected:r,onSelected:a},n){return R.createElement("div",{className:dy("dash-item-content",t,{"is-selectable":i,"is-selected":r}),ref:n,onClick:a},e)})),gS=(0,Hb.b)(kI.Z),mS=({children:e})=>R.createElement(gS,{client:!0},(({measureRef:t,contentRect:i})=>R.createElement("div",{className:"dash-item-content-wrapper",ref:t},e({clientWidth:i.client?.width,clientHeight:i.client?.height})))),pS=()=>null,hS=({children:e,contentClassName:t,visualizationClassName:i,renderHeadline:r=pS,renderBeforeVisualization:a=pS,renderAfterVisualization:n=pS,renderBeforeContent:o=pS,renderAfterContent:l=pS,contentRef:s,isSelectable:d=!1,isSelected:c=!1,onSelected:u})=>R.createElement(mS,null,(({clientWidth:g,clientHeight:m})=>R.createElement(R.Fragment,null,o(),R.createElement(uS,{className:t,ref:s,isSelectable:d,isSelected:c,onSelected:u},a(),R.createElement("div",{className:i},r(m),e({clientWidth:g,clientHeight:m})),n()),l()))),fS=({visualizationClassName:e,...t})=>R.createElement(hS,{...t,visualizationClassName:dy("visualization",e)});var bS=i(6870),DS=i(16028);const vS={fontSize:"15px"},ES={marginTop:0},yS={height:"38px",lineHeight:"36px"},IS={...yS,CUSTOM_MARGIN_STYLE:ES};function CS(e){return void 0!==e&&e<120}function SS(e,t){return t?e?IS:yS:e?ES:void 0}const TS=(0,R.memo)((function({hasCustomMargin:e,isCustomHeightSmall:t,children:i}){return R.createElement("div",{className:"item-headline-outer",style:SS(e,t)},R.createElement("div",{className:"item-headline",style:t?vS:void 0},i))})),wS=({children:e,clientHeight:t})=>R.createElement(TS,{hasCustomMargin:void 0!==t&&t<=140,isCustomHeightSmall:CS(t)},e),AS=DS()(bS.Z),PS=({title:e,clientHeight:t})=>{const i=(0,R.useMemo)((()=>R.createElement(AS,{maxLine:2,ellipsis:"...",className:"item-headline-inner s-headline",text:e})),[e]);return R.createElement(wS,{clientHeight:t},i)},RS=e=>{const{insight:t,widget:i}=e,{InsightWidgetComponentSet:r}=ny(),a=(0,R.useMemo)((()=>r.MainComponentProvider(t,i)),[r,t,i]);return R.createElement(a,{...e})},FS="downloader";function kS({objectUrl:e,fileName:t}){const i=document.createElement("a");i.id=FS,i.href=e,i.download=t??"exportedFile",document.body.appendChild(i),i.click(),document.body.removeChild(i),e&&URL.revokeObjectURL(e)}const xS=e=>{const{title:t,widgetRef:i,insight:r}=e,[a,n]=(0,R.useState)(!1),o=Kb(),l=(0,R.useCallback)((e=>_E(o,Vp(i,{...e,format:"xlsx"===e.format?"xlsx":"csv"},(0,Q.Z)())).then((e=>e.payload.result))),[i]),s=(0,xn.getInsightVisualizationMeta)(r).supportsExport,d=qb(Ch(i)),c=qb(Sh(i)),u=qb(Qo),g=(()=>{const{addProgress:e,addSuccess:t,addError:i,removeMessage:r}=(0,uD.useToastMessage)(),a=(0,R.useRef)("");return(0,R.useCallback)((async(n,o)=>{try{a.current=e(ev.messagesExportResultStart,{duration:0});const i=await n(o);a.current&&r(a.current),t(ev.messagesExportResultSuccess),kS(i)}catch(e){a.current&&r(a.current),(0,Dr.isProtectedDataError)(e)?i(ev.messagesExportResultRestrictedError):i(ev.messagesExportResultError)}}),[])})(),{openDialog:p,closeDialog:h}=QE();return{exportCSVEnabled:!a&&s&&d,exportXLSXEnabled:!a&&s&&c,onExportCSV:(0,R.useCallback)((()=>{n(!0);const e={format:"csv",title:t};(0,m.kG)(l),g(l,e).then((()=>n(!1)))}),[l,t]),onExportXLSX:(0,R.useCallback)((()=>{p({onSubmit:({includeFilterContext:e,mergeHeaders:i})=>{n(!0),(0,m.kG)(l),h(),g(l,{format:"xlsx",mergeHeaders:i,includeFilterContext:e,showFilters:e,title:t}).then((()=>n(!1)))},includeFilterContext:Boolean(u?.activeFiltersByDefault??!0),mergeHeaders:Boolean(u?.cellMergedByDefault??!0),filterContextVisible:Boolean(u?.enableActiveFilterContext??!0)})}),[u,t,l,h])}};function LS(e,t){const{exportCSVDisabled:i,exportXLSXDisabled:r,onExportCSV:a,onExportXLSX:n,isDataError:o}=t,l=o?e.formatMessage({id:"options.menu.unsupported.error"}):e.formatMessage({id:"options.menu.unsupported.loading"});return[{type:"button",itemId:"ExportXLSXBubble",itemName:e.formatMessage({id:"options.menu.export.XLSX"}),disabled:r,onClick:n,tooltip:l,className:"options-menu-export-xlsx s-options-menu-export-xlsx"},{type:"button",itemId:"ExportCSVBubble",itemName:e.formatMessage({id:"options.menu.export.CSV"}),disabled:i,onClick:a,tooltip:l,className:"options-menu-export-csv s-options-menu-export-csv"}]}function MS(e,t){const{exportCSVDisabled:i,exportXLSXDisabled:r,scheduleExportDisabled:a,onExportCSV:n,onExportXLSX:o,onScheduleExport:l,isScheduleExportVisible:s,isDataError:d}=t,c=d?e.formatMessage({id:"options.menu.unsupported.error"}):e.formatMessage({id:"options.menu.unsupported.loading"});return ka([{type:"button",itemId:"ExportXLSXBubble",itemName:e.formatMessage({id:"widget.options.menu.exportToXLSX"}),onClick:o,disabled:r,tooltip:c,icon:"gd-icon-download",className:"s-options-menu-export-xlsx"},{type:"button",itemId:"ExportCSVBubble",itemName:e.formatMessage({id:"widget.options.menu.exportToCSV"}),onClick:n,disabled:i,tooltip:c,icon:"gd-icon-download",className:"s-options-menu-export-csv"},s&&{type:"button",itemId:"ScheduleExport",itemName:e.formatMessage({id:"widget.options.menu.scheduleExport"}),onClick:l,disabled:a,tooltip:c,icon:"gd-icon-clock",className:"s-options-menu-schedule-export"}])}const OS=e=>{const{widget:t,Component:i}=e,r=qb(Qu).get(t.insight);return r?R.createElement(i,{...e,insight:r}):(console.debug("DefaultDashboardInsightWidget rendered before the insights were ready, skipping render."),null)};var NS=i(56541);const _S=[{align:"tr tl"},{align:"cr cl"},{align:"br bl"},{align:"tl tr"},{align:"cl cr"},{align:"bl br"},{align:"bl tl"},{align:"bc tc"},{align:"br tr"},{align:"tl bl"},{align:"tc bc"},{align:"tr br"}],HS=e=>{const{onOpen:t}=e,[i,r]=(0,R.useState)(!1),a=(0,R.useCallback)((()=>{r((e=>(!e&&t&&t(),!e)))}),[r,t]),n=dy("dash-item-action-description",{"dash-item-action-description-active":i},e.className);return R.createElement(R.Fragment,null,R.createElement("div",{className:n,onClick:a},R.createElement(uD.DescriptionIcon,{className:"dash-item-action-description-trigger"})),i?R.createElement(uD.Bubble,{className:"bubble-light gd-description-panel-bubble",alignPoints:_S,arrowOffsets:uD.DESCRIPTION_PANEL_ARROW_OFFSETS,arrowStyle:{display:"none"},onClose:a,closeOnOutsideClick:!0,closeOnParentScroll:!1,alignTo:`.${e.className}`},R.createElement(uD.DescriptionPanelContent,{...e})):null)},US=e=>{const{widget:t,insight:i}=e,r=t.configuration?.description?.visible??!0,n="widget"===t.configuration?.description?.source?t.description:i.insight.summary,o=n?.trim(),l=(0,a.objRefToString)((0,a.widgetRef)(t)),s=tD(),d={from:"widget",type:"widget"===t.configuration?.description?.source?"custom":"inherit",description:o};return r&&o&&""!==o?R.createElement(HS,{className:`widget-description-${NS.gl(l)}`,description:o,onOpen:()=>s.descriptionTooltipOpened(d)}):null},GS=({widget:e,insight:t,screen:i,onError:r,onExportReady:n,onLoadingChanged:o,dashboardItemClasses:l})=>{const s=(0,FC.Z)(),d=(0,a.insightVisualizationType)(t),{ref:c}=e,{exportCSVEnabled:u,exportXLSXEnabled:g,onExportCSV:m,onExportXLSX:p}=xS({widgetRef:c,title:(0,a.widgetTitle)(e)||s.formatMessage({id:"export.defaultTitle"}),insight:t}),{isScheduledEmailingVisible:h,enableInsightExportScheduling:f,onScheduleEmailingOpen:b}=tv(),D=qb(th),v=(0,R.useCallback)((()=>{b(c)}),[b,c]),E=!y(e),{closeMenu:I,isMenuOpen:C,menuItems:S,openMenu:T}=(e=>{const{insight:t,widget:i}=e,[r,a]=(0,R.useState)(!1),n=(0,R.useCallback)((()=>a(!1)),[]),o=(0,R.useCallback)((()=>a(!0)),[]),{insightMenuItemsProvider:l}=ty(),s=function(e,t,i){const{exportCSVEnabled:r,exportXLSXEnabled:a,scheduleExportEnabled:n,onExportCSV:o,onExportXLSX:l,onScheduleExport:s,isScheduleExportVisible:d,widget:c}=e,u=(0,FC.Z)(),g=qb(yh(c.ref));return(0,R.useMemo)((()=>(t?MS:LS)(u,{exportCSVDisabled:!r,exportXLSXDisabled:!a,scheduleExportDisabled:!n,onExportCSV:()=>{i(!1),o()},onExportXLSX:()=>{i(!1),l()},onScheduleExport:()=>{i(!1),s()},isScheduleExportVisible:d,isDataError:Zp(g?.error)})),[t,g,r,a,n,o,l,s,d,u,i])}(e,l,a);return{menuItems:(0,R.useMemo)((()=>l?l(t,i,s,n,"view"):s),[l,t,i,s,n]),isMenuOpen:r,openMenu:o,closeMenu:n}})({insight:t,widget:e,exportCSVEnabled:u,exportXLSXEnabled:g,scheduleExportEnabled:E,onExportCSV:m,onExportXLSX:p,onScheduleExport:v,isScheduleExportVisible:h&&D&&f}),{InsightMenuButtonComponentProvider:w,InsightMenuComponentProvider:A,ErrorComponent:P,LoadingComponent:F}=ny(),k=(0,R.useMemo)((()=>w(t,e)),[w,t,e]),x=(0,R.useMemo)((()=>A(t,e)),[A,t,e]),L=qb(Qo);return R.createElement(oS,{className:dy(l,"type-visualization","gd-dashboard-view-widget",cS(e.type,d)),screen:i},R.createElement(fS,{renderHeadline:t=>!e.configuration?.hideTitle&&R.createElement(PS,{title:e.title,clientHeight:t}),renderBeforeVisualization:()=>R.createElement("div",{className:"gd-absolute-row"},L?.enableDescriptions?R.createElement(US,{insight:t,widget:e,screen:i}):null,R.createElement(k,{insight:t,widget:e,isOpen:C,onClick:T,items:S})),renderAfterContent:()=>C?R.createElement(x,{insight:t,widget:e,isOpen:C,onClose:I,items:S}):null},(({clientHeight:i,clientWidth:a})=>R.createElement(RS,{clientHeight:i,clientWidth:a,insight:t,widget:e,onExportReady:n,onLoadingChanged:o,onError:r,ErrorComponent:P,LoadingComponent:F}))))},BS=6e3;function WS(e,t,i){if(t&&!i)return e.findIndex((e=>(0,a.areObjRefsEqual)(e.dataSet.ref,t.dataSet.ref)))<0?t:void 0}function zS(e){return e.trim().replace(/^Date \((.*)\)$/,"$1")}function VS(e,t){return e.find((e=>(0,a.areObjRefsEqual)(e.ref,t)))}function jS(e){return{id:e.dataSet.id,title:e.dataSet.title,relevance:e.relevance}}const KS=(e,t)=>{const i=qb(Vc),r=qb(ru),n=e?r.find((t=>(0,a.areObjRefsEqual)(t.dateDataSet,e)))?.config:i,o=n&&""!==n?.filterName?n?.filterName:t;return{mode:n?.mode??"active",title:o}},qS=[{align:"cl cr",offset:{x:-20,y:0}}],YS=e=>{const{isDropdownLoading:t,isFilterLoading:i,dateFilterEnabled:r,selectedDateDataset:n,selectedDateDatasetHidden:o,dateFilterCheckboxDisabled:l,relatedDateDatasets:s,widget:d,onDateDatasetFilterEnabled:c,enableUnrelatedItemsVisibility:u}=e,g=s&&WS(s,n,o),m=!s?.length&&!o&&r&&!t&&!l&&!u,p=dy("s-date-filter-by-item","input-checkbox-label","filter-by-item",{"date-filter-error":(!!g||m)&&!t&&!i&&r&&!o&&!l}),h=(0,R.useCallback)((e=>{const{checked:t}=e.target,i=n?n.dataSet.ref:void 0;c(t,i)}),[c,n]),f=(0,FC.Z)().formatMessage({id:"dateFilterDropdown.title"}),{title:b}=KS(void 0,f);return R.createElement("div",null,R.createElement("label",{className:p,htmlFor:"configurationPanel.date.input"},R.createElement("input",{className:"input-checkbox s-date-filter-checkbox",id:"configurationPanel.date.input",type:"checkbox",checked:!l&&r,disabled:l,onChange:h}),R.createElement("span",{className:"input-label-text title"},R.createElement(uD.ShortenedText,{tooltipAlignPoints:qS,tagName:"span",className:"title"},b)),i?R.createElement("div",{className:"gd-spinner small"}):null),!i&&m?R.createElement("div",{className:"gd-message error s-no-related-date"},(0,a.isInsightWidget)(d)?R.createElement(AI.Z,{id:"configurationPanel.vizCantBeFilteredByDate"}):R.createElement(AI.Z,{id:"configurationPanel.kpiCantBeFilteredByDate"})):null)},ZS=[{align:"bl tl"},{align:"tl bl"}],$S=[{align:"cl cr",offset:{x:-10,y:0}},{align:"cr cl",offset:{x:10,y:0}}],XS=(0,JD.vU)({"gs.date.date-dataset.recommended":{id:"gs.date.date-dataset.recommended"},"gs.date.date-dataset.other":{id:"gs.date.date-dataset.other"},"gs.date.date-dataset.related":{id:"gs.date.date-dataset.related"},"gs.date.date-dataset.unrelated":{id:"gs.date.date-dataset.unrelated"}}),QS=({id:e,title:t="",isHeader:i,isSelected:r,isUnrelated:a,onClick:n})=>{if(i)return R.createElement("div",{className:"gd-list-item gd-list-item-header"},t);const o=dy("gd-list-item","gd-list-item-shortened",`s-${e}`,`s-${NS.gl(t)}`,{"is-selected":r,"is-unrelated":a});return R.createElement("div",{className:o,onClick:n},R.createElement(uD.ShortenedText,{tooltipAlignPoints:$S},t))},JS=e=>{const{className:t="s-date-dataset-switch",isLoading:i=!1,autoOpen:r=!1,onDateDatasetChange:n,activeDateDataset:o,unrelatedDateDataset:l,dateFromVisualization:s,relatedDateDatasets:d,widgetRef:c,enableUnrelatedItemsVisibility:u,unrelatedDateDatasets:g}=e,m=(0,FC.Z)(),{onItemScroll:p,closeOnParentScroll:h}=function(e){const[t,i]=(0,R.useState)(!e);(0,R.useEffect)((()=>{i(!e)}),[e]);return{onItemScroll:(0,R.useCallback)((()=>{setTimeout((()=>{i(!0)}),300)}),[]),closeOnParentScroll:t}}(r),[f,b]=(0,R.useState)(!1),D=l?l.dataSet.id:null;let v,E,y,I="-";!i&&o&&(v=o.dataSet.id,I=o.dataSet.title,E=o.dataSet.uri),s&&(y=d.find((e=>e.dataSet.uri===s.dataSet.uri)));const C=function(e,t,i,r,a=!1){const n=(0,uD.sortDateDatasets)((r||[]).map(jS)),o=[uD.unrelatedHeader,...n];return a?[...(0,uD.sortDateDatasets)(e.map(jS),t?jS(t):void 0),...o]:(0,uD.sortDateDatasets)(e.map(jS),t?jS(t):void 0,i?jS(i):void 0)}(d,y,l,g,u&&f),S=(g?.length??0)-(l?1:0),T=(0,R.useRef)(),[{height:w,width:A},P]=(0,R.useState)({width:e.width,height:170}),F=28*(C?.length||0);(0,R.useEffect)((()=>{const e=T?.current?.getBoundingClientRect(),t=e?.width??0,i=function(e,t,i,r=!1){const a=22+(r?37:0),n=e-a,o=window.innerHeight-(e+t+a),l=Math.max(n,o);return Math.min(i,l,400)}(e?.top??0,e?.height??0,F,!g?.length);P({width:t,height:i})}),[F,g,T]);const k=()=>{b(!f)};return R.createElement(uD.Dropdown,{key:`${(0,a.objRefToString)(c)}_${r}`,openOnInit:r,ignoreClicksOnByClass:[".dash-content"],renderButton:({isOpen:e,toggleDropdown:t})=>{const a=dy("s-date-dataset-button",e?"s-expanded":"s-collapsed",{"is-loading":i,"is-unrelated":!i&&l&&l.dataSet.uri===E}),n=i?m.formatMessage({id:"loading"}):zS(I);return R.createElement(uD.ScrollableItem,{scrollIntoView:r,onItemScrolled:p},R.createElement("div",{ref:e=>{e&&e!==T.current&&(T.current=e)}},R.createElement(uD.DropdownButton,{className:a,value:n,isOpen:e,onClick:t,disabled:i})))},className:t,closeOnParentScroll:h,closeOnMouseDrag:!0,alignPoints:ZS,renderBody:({closeDropdown:e})=>i?null:R.createElement("div",{style:{width:A}},R.createElement(uD.DropdownList,{className:"configuration-dropdown dataSets-list",height:w,width:A,items:C,itemsCount:C.length,renderItem:({item:t})=>{const i=(0,uD.isDateDatasetHeader)(t),r=!(0,uD.isDateDatasetHeader)(t)&&v===t.id,a=!(0,uD.isDateDatasetHeader)(t)&&D===t.id;return R.createElement(QS,{title:i?m.formatMessage(XS[t.title]):zS(t.title),isHeader:i,isSelected:r,isUnrelated:a,onClick:i=>{i.preventDefault(),(0,uD.isDateDatasetHeader)(t)||(e(),n(t.id))}})}}),u&&S>0?R.createElement("div",{className:"gd-list-footer"},R.createElement(AI.Z,{id:"gs.date.date-dataset.unrelated_hidden",values:{count:S,isShow:f}}),R.createElement(uD.Button,{onClick:k,className:"gd-button-link-dimmed unrelated-date-button",value:m.formatMessage({id:f?"gs.date.date-dataset.unrelated.hide":"gs.date.date-dataset.unrelated.show"})})):null)})},eT=(0,Hb.b)(kI.Z),tT=e=>{const{relatedDateDatasets:t,selectedDateDataset:i,selectedDateDatasetHidden:r,widget:n,dateFromVisualization:o,autoOpen:l,isLoading:s,enableUnrelatedItemsVisibility:d,unrelatedDateDatasets:c,onDateDatasetChange:u}=e,g=t&&WS(t,i,r);return R.createElement("div",null,R.createElement("div",{className:"configuration-subcategory"},R.createElement("label",{className:"s-filter-date-dropdown-heading subcategory-label",htmlFor:"s-filter-date-dropdown"},R.createElement(AI.Z,{id:"configurationPanel.dateAs"})),R.createElement(eT,null,(({measureRef:e,contentRect:a})=>((e,a)=>R.createElement("div",{className:"subcategory-dropdown",ref:e},R.createElement(JS,{autoOpen:l,widgetRef:n.ref,className:"s-filter-date-dropdown",relatedDateDatasets:t??[],activeDateDataset:r?void 0:i,unrelatedDateDataset:g,dateFromVisualization:o,onDateDatasetChange:u,isLoading:s,width:a,enableUnrelatedItemsVisibility:d,unrelatedDateDatasets:c})))(e,a.entry.width||0)))),!(!g||s)&&R.createElement("div",{className:"gd-message error s-unrelated-date"},(0,a.isInsightWidget)(n)?R.createElement(AI.Z,{id:"configurationPanel.unrelatedVizDateInfo",values:{dateDataSet:zS(g.dataSet.title)}}):R.createElement(AI.Z,{id:"configurationPanel.unrelatedKpiDateInfo",values:{dateDataSet:zS(g.dataSet.title)}})))};function iT(e){const t=(0,uD.getRecommendedDateDataset)(e.map((e=>({id:e.dataSet.id,title:e.dataSet.title,relevance:e.relevance}))))?.id;return t?e.find((e=>e.dataSet.id===t)):void 0}function rT(e,t,i,r){const[n,o]=(0,R.useState)("ok"),l=(0,a.widgetRef)(e),{run:s}=$b({commandCreator:Bv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:d}=$b({commandCreator:Gv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),o("loading")},onError:()=>{o("error")},onSuccess:e=>{o("ok")}}),{run:c}=$b({commandCreator:Fp,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:u}=$b({commandCreator:Rp,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),o("loading")},onError:()=>{o("error")},onSuccess:e=>{o("ok")}}),g=(0,R.useCallback)(((i,r)=>{const n=(0,a.isInsightWidget)(e)?u:d,o=(0,a.isInsightWidget)(e)?c:s;if(i)if(r)n(l,r);else{const e=(()=>{if(!t?.length)return null;const e=iT(t),i=xa(t);return e?e.dataSet.ref:i.dataSet.ref})();n(l,e??"default")}else o(l)}),[(0,a.isInsightWidget)(e),aS(l),u,c,d,s,t]),{run:m}=$b({commandCreator:Kp,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:p}=$b({commandCreator:qp,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),o("loading")},onError:()=>{o("error")},onSuccess:()=>{o("ok")}}),h=(0,R.useCallback)((e=>{r&&(e?p(l,r):m(l,r))}),[r,m,l,p]);return{status:n,handleDateDatasetChanged:(0,R.useCallback)((t=>{(0,a.isInsightWidget)(e)?u(l,(0,a.idRef)(t,"dataSet")):d(l,(0,a.idRef)(t,"dataSet"))}),[(0,a.isInsightWidget)(e),aS(l)]),handleDateFilterEnabled:g,handleIgnoreChanged:h}}const aT=()=>R.createElement("div",{className:"gd-message warning s-date-dataset-duplicity-warning"},R.createElement("div",{className:"gd-message-text"},R.createElement(AI.Z,{id:"gs.date.date-dataset.duplicityWarning"}))),nT=e=>{const{relatedDateDatasets:t,widget:i,dateFilterCheckboxDisabled:r,dateFromVisualization:n,isDatasetsLoading:o,shouldPickDateDataset:l,shouldOpenDateDatasetPicker:s,onDateDatasetChanged:d,isLoadingAdditionalData:c}=e,u=qb(Wl),g=qb(us),m=i.dateDataSet&&g.get(i.dateDataSet),p=qb(ts),h=qb(Td(i.dateDataSet)),{selectedDateDatasetHiddenByObjectAvailability:f,status:b}=function(e){const t=(0,Z.useBackendStrict)(),i=(0,Z.useWorkspaceStrict)(),r=qb(ts),n=qb(il),o=!(!n.excludeObjectsWithTags?.length&&!n.includeObjectsWithTags?.length),{result:l,status:s}=(0,Z.useCancelablePromise)({promise:o?async()=>(await t.workspace(i).catalog().withGroups(!1).forTypes(["dateDataset"]).excludeTags((n.excludeObjectsWithTags??[]).map((e=>(0,a.idRef)(e)))).includeTags((n.includeObjectsWithTags??[]).map((e=>(0,a.idRef)(e)))).load()).dateDatasets():()=>Promise.resolve(r)},[t,i,n]);return{selectedDateDatasetHiddenByObjectAvailability:(0,R.useMemo)((()=>!(!l||!e||l.some((t=>(0,a.areObjRefsEqual)(e,t.dataSet.ref))))),[aS(e),l]),status:s}}(m?.dataSet.ref),[D,v]=(0,R.useState)(!!i.dateDataSet||l||c),{handleDateDatasetChanged:E,handleDateFilterEnabled:y,status:I}=rT(i,t,v),C=(0,R.useCallback)((e=>{d?.(e),E(e)}),[E,d]),S="loading"===I,T=o||"loading"===b,w=!r&&!(!D||S)&&(t?.length||T||f||p.length&&u),A=t&&WS(t,m,f),P=(F=p,(k=t)?F.filter((e=>!k.some((t=>(0,a.areObjRefsEqual)(t.dataSet.ref,e.dataSet.ref))))):F);var F,k;return R.createElement("div",null,R.createElement(YS,{relatedDateDatasets:t,widget:i,dateFilterCheckboxDisabled:r,dateFilterEnabled:D,isDropdownLoading:T,isFilterLoading:S,selectedDateDataset:m,selectedDateDatasetHidden:f,onDateDatasetFilterEnabled:y,enableUnrelatedItemsVisibility:u}),!!w&&R.createElement(tT,{relatedDateDatasets:t,dateFromVisualization:n,widget:i,selectedDateDataset:m,selectedDateDatasetHidden:f,unrelatedDateDataset:A,onDateDatasetChange:C,autoOpen:s,isLoading:T,enableUnrelatedItemsVisibility:u,unrelatedDateDatasets:P}),!T&&!!h&&R.createElement(aT,null))};function oT(e){const t=Kb(),i=qb(xD);return(0,R.useEffect)((()=>()=>{t(Va.setWidgetDateDatasetAutoSelect(!1))}),[t]),{handleDateDatasetChanged:(0,R.useCallback)((()=>{t(Va.setWidgetDateDatasetAutoSelect(!1))}),[t]),shouldOpenDateDatasetPicker:i&&e&&e.length>1&&!iT(e)}}function lT({widget:e}){const{status:t,run:i,result:r}=eD({queryCreator:Vm}),n=qb(OD((0,a.widgetRef)(e))),o=qb(Ju(e.insight));(0,m.kG)(o,"inconsistent state in InsightDateDataSetFilter"),(0,R.useEffect)((()=>{i(o)}),[i,o]);const{handleDateDatasetChanged:l,shouldOpenDateDatasetPicker:s}=oT(r?.dateDatasets),d=(0,R.useMemo)((()=>{const e=(0,a.insightMeasures)(o);return!p(e)&&e.every(sT)}),[o]);return R.createElement(nT,{widget:e,dateFilterCheckboxDisabled:d,isDatasetsLoading:"running"===t||"pending"===t||n,relatedDateDatasets:r?.dateDatasetsOrdered,isLoadingAdditionalData:n,shouldOpenDateDatasetPicker:s,onDateDatasetChanged:l})}function sT(e){return!(0,a.isSimpleMeasure)(e)||((0,a.measureFilters)(e)??[]).some(a.isDateFilter)}const dT=[{align:"cl cr",offset:{x:-20,y:0}}],cT=e=>{const{widget:t,displayFormRef:i,title:r}=e,n=qb(vd),[o,l]=(0,R.useState)((()=>!t.ignoreDashboardFilters.some((e=>{if(!(0,a.isDashboardAttributeFilterReference)(e))return!1;const t=n.get(e.displayForm);return(0,a.areObjRefsEqual)(t?.ref,i)})))),s=function(e,t){const i=qb(yh((0,a.widgetRef)(e))),r=i?.warnings,n=qb(vd).get(t);return!n||!!r?.length&&r.filter((e=>"gdc.aqe.not_applied_filter.report"===e.warningCode)).some((e=>e.parameters?.some((e=>(0,a.isObjRef)(e)&&(0,a.areObjRefsEqual)(e,n.attribute)))))}(t,i),{handleIgnoreChanged:d,status:c}=function(e,t,i){const[r,n]=(0,R.useState)("ok"),o=(0,a.widgetRef)(e),{run:l}=$b({commandCreator:zv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:s}=$b({commandCreator:Vv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),n("loading")},onError:()=>{n("error")},onSuccess:()=>{n("ok")}}),{run:d}=$b({commandCreator:xp,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:c}=$b({commandCreator:Lp,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),n("loading")},onError:()=>{n("error")},onSuccess:()=>{n("ok")}});return{status:r,handleIgnoreChanged:(0,R.useCallback)((i=>{const r=(0,a.isInsightWidget)(e)?d:l,n=(0,a.isInsightWidget)(e)?c:s;i?n(o,t):r(o,t)}),[(0,a.isInsightWidget)(e),aS(t),aS(o),d,l,c,s])}}(t,i,l),u=o&&("error"===c||s),g="loading"===c,m=dy("s-attribute-filter-by-item",`s-${NS.gl(r)}`,"input-checkbox-label","filter-by-item","attribute-filter-by-item",{"attribute-filter-error":u}),p=(0,a.objRefToString)(i);return R.createElement("div",null,R.createElement("label",{className:m,htmlFor:p},R.createElement("input",{id:p,type:"checkbox",className:"input-checkbox",checked:o,onChange:e=>d(e.target.checked)}),R.createElement("span",{className:"input-label-text"},R.createElement(uD.ShortenedText,{tooltipAlignPoints:dT,tagName:"span",className:"title"},r)),g?R.createElement("div",{className:"gd-spinner small"}):null),!!u&&R.createElement("div",{className:"gd-message error s-not-applied-attribute-filter"},(0,a.isInsightWidget)(t)?R.createElement(AI.Z,{id:"configurationPanel.vizCantBeFilteredByAttribute",values:{attributeName:r}}):R.createElement(AI.Z,{id:"configurationPanel.kpiCantBeFilteredByAttribute",values:{attributeName:r}})))},uT=[{align:"cl cr",offset:{x:-20,y:0}}],gT=e=>{const{widget:t,dataSetRef:i}=e,[r,n]=(0,R.useState)((()=>!t.ignoreDashboardFilters.some((e=>!!(0,a.isDashboardDateFilterReference)(e)&&(0,a.areObjRefsEqual)(e.dataSet,i))))),o=qb(us),l=o.get(i)?.dataSet.title||"Date",{title:s}=KS(i,l),{handleIgnoreChanged:d,status:c}=rT(t,[],n,i),u=r&&("error"===c||!1),g="loading"===c,m=dy("s-attribute-filter-by-item",`s-${NS.gl(s)}`,"input-checkbox-label","filter-by-item","attribute-filter-by-item",{"attribute-filter-error":u}),p=(0,a.objRefToString)(i);return R.createElement("div",null,R.createElement("label",{className:m,htmlFor:p},R.createElement("input",{id:p,type:"checkbox",className:"input-checkbox",checked:r,onChange:e=>d(e.target.checked)}),R.createElement("span",{className:"input-label-text"},R.createElement(uD.ShortenedText,{tooltipAlignPoints:uT,tagName:"span",className:"title"},s)),g?R.createElement("div",{className:"gd-spinner small"}):null),!!u&&R.createElement("div",{className:"gd-message error s-not-applied-attribute-filter"},(0,a.isInsightWidget)(t)?R.createElement(AI.Z,{id:"configurationPanel.vizCantBeFilteredByDate",values:{attributeName:s}}):R.createElement(AI.Z,{id:"configurationPanel.kpiCantBeFilteredByDate",values:{attributeName:s}})))};function mT(e){const{run:t,result:i,status:r,error:a}=eD({queryCreator:pf});return(0,R.useEffect)((()=>{t(e)}),[e,t]),{attributes:i,attributesLoading:(0,R.useMemo)((()=>"pending"===r||"running"===r),[r]),attributesLoadingError:a}}const pT=e=>{const{widget:t}=e,i=qb(Ed),r=qb(vd),n=qb(ms),o=qb(us),l=(0,R.useMemo)((()=>i.filter((e=>(0,a.isDashboardAttributeFilter)(e)||(0,a.isDashboardDateFilterWithDimension)(e)))),[i]),s=(0,R.useMemo)((()=>l.filter(a.isDashboardAttributeFilter)),[l]),d=(0,R.useMemo)((()=>s.map((e=>e.attributeFilter.displayForm))),[s]),{attributes:c,attributesLoading:u}=mT(d);return u?R.createElement("span",{className:"gd-spinner small s-attribute-filter-configuration-loading"}):!c&&o.size?null:R.createElement("div",{className:"s-attribute-filter-configuration"},l.map((e=>{if((0,a.isDashboardAttributeFilter)(e)){if(!c)return null;const i=r.get(e.attributeFilter.displayForm);(0,m.kG)(i,"Inconsistent state in AttributeFilterConfiguration");const o=VS(c,i.attribute),l=n.get(i.attribute)||o;(0,m.kG)(l,"Inconsistent state in AttributeFilterConfiguration");const s=(0,a.isAttributeMetadataObject)(l)?l.title:l.attribute.title;return R.createElement(cT,{key:(0,a.objRefToString)(i.ref),displayFormRef:i.ref,title:e.attributeFilter.title??s,widget:t})}return R.createElement(gT,{key:(0,a.objRefToString)(e.dateFilter.dataSet),dataSetRef:e.dateFilter.dataSet,widget:t})})))};function hT({widget:e}){return R.createElement("div",{className:"s-viz-filters-panel configuration-category"},R.createElement(uD.Typography,{tagName:"h3",className:"s-viz-filters-headline"},R.createElement(AI.Z,{id:"configurationPanel.filterBy"})),(0,a.isInsightWidget)(e)?R.createElement(lT,{widget:e}):null,R.createElement(pT,{widget:e}))}function fT(e){const{hideTitle:t,widget:i,setVisualPropsConfigurationTitle:r,isHidingOfWidgetTitleEnabled:a}=e,n=(0,FC.Z)(),[o,l]=(0,R.useState)(t);return R.createElement(R.Fragment,null,a?R.createElement("div",{className:"configuration-category s-hide-title-configuration"},R.createElement(uD.Typography,{tagName:"h3",className:"s-viz-title-headline"},R.createElement(AI.Z,{id:"configurationPanel.visualprops.sectionTitle"})),R.createElement(uD.Checkbox,{onChange:e=>{l(e),r(i,e)},value:o,text:n.formatMessage({id:"configurationPanel.visualprops.hideTitle"}),labelSize:"small"})):null)}function bT(e){const{description:t,setDescription:i,readOnly:r=!1}=e,a=(0,FC.Z)();return R.createElement("label",{className:"gd-input"},R.createElement(uD.TextAreaWithSubmit,{className:dy("gd-input-field description gd-widget-description-input"),rows:4,defaultValue:(t||"").trim(),maxLength:2e3,placeholder:r?void 0:a.formatMessage({id:"configurationPanel.visualprops.descriptionPlaceholder"}),onSubmit:e=>{i(e.trim())},disabled:r}))}const DT=(e,t,i)=>{if(!e.visible)return{config:"none",description:"",includeMetrics:!1};const r="insight"===e.source;return{config:e.source,description:r?i:t,includeMetrics:e.includeMetrics??!1}};function vT(e){const{descriptionConfig:t,widget:i,setDescriptionConfiguration:r,isWidgetDescriptionEnabled:a,setWidgetDescription:n}=e,o=(0,FC.Z)(),l=(0,R.useMemo)((()=>[{id:"insight",title:o.formatMessage({id:"configurationPanel.visualprops.inheritDescription"}),info:o.formatMessage({id:"configurationPanel.visualprops.inheritDescriptionHelp"})},{id:"widget",title:o.formatMessage({id:"configurationPanel.visualprops.customDescription"}),info:o.formatMessage({id:"configurationPanel.visualprops.customDescriptionHelp"})},{id:"none",title:o.formatMessage({id:"configurationPanel.visualprops.noneDescription"})}]),[o]),s=qb(Ju(i.insight)),[d,c]=(0,R.useState)(DT(t,i.description,s?.insight?.summary)),[u,g]=(0,R.useState)(i.description),m=(0,R.useCallback)((e=>{n(i,e),c((t=>({...t,description:e}))),g(e)}),[i,n,c]),p=(0,R.useCallback)((e=>{let t;const a=s?.insight?.summary;"none"===e?(t={includeMetrics:!1,visible:!1,source:"insight"},c(DT(t,"",""))):(t={includeMetrics:d.includeMetrics,visible:!0,source:e},c(DT(t,"widget"===e?u:"",a))),r(i,t),"widget"===e&&n(i,u??""),"none"!==e&&"insight"!==e||n(i,"")}),[i,s,r,n,d.includeMetrics,u]);return(0,R.useCallback)((e=>{const a={...d,includeMetrics:e};c(a),r(i,{...t,includeMetrics:e})}),[t,r,i,d]),R.createElement(R.Fragment,null,a?R.createElement("div",{className:"configuration-category s-description-configuration description-configuration-section"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"configurationPanel.visualprops.sectionDescription"})),R.createElement(uD.Dropdown,{closeOnParentScroll:!0,renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{items:l,renderItem:({item:t})=>R.createElement(uD.SingleSelectListItem,{title:t.title,info:t.info,isSelected:t.id===d.config,onClick:()=>{p(t.id),e()}})}),renderButton:({openDropdown:e,isOpen:t})=>R.createElement(uD.DropdownButton,{value:l.find((e=>e.id===d.config))?.title,isOpen:t,onClick:e,className:"description-config-dropdown-button s-description-config-dropdown-button"})}),"widget"===d.config||"insight"===d.config?R.createElement(bT,{description:d.description??"",setDescription:m,readOnly:"insight"===d.config}):null,null):null)}const ET=uD.OverlayController.getInstance(BS),yT=({widget:e})=>{const t=(0,a.isInsightWidget)(e)?NS.gl((0,a.objRefToString)(e.ref)):"",i=qb(Qo),r=Kb(),n=dy("configuration-scrollable-panel","s-configuration-scrollable-panel",`s-visualization-${t}`);return R.createElement(uD.ScrollablePanel,{className:n},R.createElement(uD.OverlayControllerProvider,{overlayController:ET},R.createElement(fT,{widget:e,isHidingOfWidgetTitleEnabled:i.enableHidingOfWidgetTitle??!1,hideTitle:e.configuration?.hideTitle??!1,setVisualPropsConfigurationTitle:(e,t)=>{r(Op(e.ref,{...e.configuration,hideTitle:t}))}}),R.createElement(vT,{widget:e,isWidgetDescriptionEnabled:i.enableDescriptions??!1,descriptionConfig:e.configuration?.description??{source:"insight",includeMetrics:!1,visible:!0},setDescriptionConfiguration:(e,t)=>{r(Op(e.ref,{hideTitle:!1,...e.configuration,description:t}))},setWidgetDescription:(e,t)=>{r(jp(e.ref,{description:t}))}}),R.createElement(hT,{widget:e})))};function IT(e){return(0,a.isDrillToCustomUrl)(e)||(0,a.isDrillToAttributeUrl)(e)}var CT,ST;function TT(e){return!p(e)&&void 0!==e.dashboard}function wT(e){return!p(e)&&void 0!==e.insightRef}function AT(e){return!p(e)&&void 0!==e.customUrl}function PT(e){return!p(e)&&void 0!==e.insightAttributeDisplayForm}function RT(e){return!p(e)&&void 0!==e.urlDrillTarget}function FT(e,t){const i=(e.measures||[]).find((e=>e.measure.measureHeaderItem.localIdentifier===t));if(i)return i.measure.measureHeaderItem.name;const r=(e.attributes||[]).find((e=>e.attribute.attributeHeader.localIdentifier===t));return r?r.attribute.attributeHeader.formOf.name:""}!function(e){e.DRILL_TO_DASHBOARD="DrillToDashboard",e.DRILL_TO_INSIGHT="DrillToInsight",e.DRILL_DOWN="DrillDown",e.DRILL_TO_URL="DrillToUrl"}(CT=CT||(CT={})),function(e){e.HYPERLINK="GDC.link",e.GEO_PUSHPIN="GDC.geo.pin",e.GEO_PUSHPIN_LATITUDE="GDC.geo.pin_latitude",e.GEO_PUSHPIN_LONGITUDE="GDC.geo.pin_longitude"}(ST=ST||(ST={}));const kT=e=>{if((0,a.isDrillToCustomUrl)(e))return{customUrl:e.target.url};if((0,a.isDrillToAttributeUrl)(e)){const{displayForm:t,hyperlinkDisplayForm:i}=e.target;return{insightAttributeDisplayForm:t,drillToAttributeDisplayForm:i}}throw new Error("Unsupported URL drill type!")},xT=(0,JD.Em)({id:"configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl"}),LT=(0,JD.vU)({added:{id:"messages.drill.InteractionConfiguredSuccess"},modified:{id:"messages.drill.InteractionUpdatedSuccess"}}),MT=e=>{const{widgetRef:t}=e,i=qb(vc(t));(0,m.kG)((0,a.isInsightWidget)(i),"must be insight widget");const r=qb(Ju(i.insight)),{drills:n}=i,{incompleteItems:o,deleteIncompleteItem:l,onChangeItem:s,onOriginSelect:d,completeItem:c,isItemNew:u}=(e=>{const{widgetDrills:t}=e,[i,r]=(0,R.useState)([]),a=(0,Z.usePrevious)(t);(0,R.useEffect)((()=>{if(!Ma(t,a)){const e=i.filter((e=>!e.complete));e.length!==i.length&&r(e)}}),[t,a,i]);const n=(0,R.useCallback)((e=>{r(((e,t)=>{const i=e.findIndex((e=>e.localIdentifier===t.localIdentifier));if(-1!==i){const r=[...e];return r[i]=t,r}return[...e,t]})(i,e))}),[i]),o=(0,R.useCallback)((e=>{const t=i.filter((t=>t.localIdentifier!==e.localIdentifier));r(t)}),[i]),l=(0,R.useCallback)((e=>{const t=i.map((t=>t.localIdentifier===e.localIdentifier?{...t,complete:!0}:t));r(t)}),[i]),s=(0,R.useCallback)((e=>{const t={...e,complete:!1};n(t)}),[n]),d=(0,R.useCallback)(((e,t)=>{const i=(0,Q.Z)().replace(/-/g,"");if(p(r=e)||void 0===r.measure){const r={type:"attribute",localIdentifier:i,originLocalIdentifier:e.attribute.attributeHeader.localIdentifier,title:e.attribute.attributeHeader.formOf.name,attributes:e.intersectionAttributes,drillTargetType:void 0,complete:!1,widgetRef:t};n(r)}else{const r={type:"measure",localIdentifier:i,originLocalIdentifier:e.measure.measureHeaderItem.localIdentifier,title:e.measure.measureHeaderItem.name,attributes:e.attributes,drillTargetType:void 0,complete:!1,widgetRef:t};n(r)}var r}),[n]),c=(0,R.useCallback)((e=>i.some((t=>t.localIdentifier===e.localIdentifier&&!t.complete))),[i]);return{incompleteItems:i,isItemNew:c,completeItem:l,deleteIncompleteItem:o,onChangeItem:s,onOriginSelect:d}})({widgetDrills:n}),{addSuccess:g}=(0,uD.useToastMessage)(),h=Kb(),f=qb(Gl),b=qb(Wo),D=qb(IE(t)),v=qb(Ig(t)),E=qb(jD(t)),y=qb(Qo),{enableKDZooming:I}=y,C=v?.availableDrillTargets,S=(0,R.useMemo)((()=>C?((e,t,i,r)=>e.map((e=>((e,t,i,r)=>(0,a.isDrillToInsight)(e)?((e,t,i)=>{const r=(0,a.isDrillFromAttribute)(e.origin)?Ha(e.origin?.attribute):Ha(e.origin?.measure);return{type:(0,a.isDrillFromAttribute)(e.origin)?"attribute":"measure",originLocalIdentifier:r,title:FT(t,r),attributes:Ga(t,r),localIdentifier:e.localIdentifier,drillTargetType:CT.DRILL_TO_INSIGHT,insightRef:e.target,complete:!0,widgetRef:i}})(e,t,r):(0,a.isDrillToDashboard)(e)?((e,t,i)=>{const r=(0,a.isDrillFromAttribute)(e.origin)?Ha(e.origin?.attribute):Ha(e.origin?.measure);return{type:(0,a.isDrillFromAttribute)(e.origin)?"attribute":"measure",originLocalIdentifier:r,title:FT(t,r),attributes:Ga(t,r),localIdentifier:e.localIdentifier,drillTargetType:CT.DRILL_TO_DASHBOARD,dashboard:e.target,complete:!0,widgetRef:i}})(e,t,r):IT(e)?((e,t,i,r)=>{const n=_a(e),o=i.includes(n);return{type:(0,a.isDrillFromAttribute)(e.origin)?"attribute":"measure",originLocalIdentifier:n,title:FT(t,n),attributes:Ga(t,n),localIdentifier:e.localIdentifier,drillTargetType:CT.DRILL_TO_URL,urlDrillTarget:kT(e),complete:!0,warning:o?xT.id:void 0,widgetRef:r}})(e,t,i,r):null)(e,t,i,r))))(n,C,E,t):[]),[C,n,E]),T=(0,R.useMemo)((()=>C?((e,t,i)=>e.map((e=>{const r=_a(e),n=`${r}_${(0,a.objRefToString)(e.target)}`;return{type:"attribute",drillTargetType:CT.DRILL_DOWN,attributeHierarchyRef:e.target,originLocalIdentifier:r,title:FT(t,r),attributes:Ga(t,r),localIdentifier:n,complete:!0,widgetRef:i}})))(D,C,t):[]),[D,C]),w=(0,R.useMemo)((()=>((e,t,i)=>i.reduce(((e,t)=>{const i=e.findIndex((e=>e.localIdentifier===t.localIdentifier));return-1!==i?t.complete||(e[i]=t):e.push(t),e}),[...t??[],...e??[]]))(S,T,o)),[S,T,o]),A=(0,R.useMemo)((()=>((e,t,i,r)=>{if(i&&r)return{measures:e?.measures,attributes:e?.attributes};const a=e?.measures?.filter((e=>!t.some((t=>"measure"===t.type&&t.originLocalIdentifier===e.measure.measureHeaderItem.localIdentifier)))),n=e?.attributes?.filter((e=>!t.some((t=>"attribute"===t.type&&t.originLocalIdentifier===e.attribute.attributeHeader.localIdentifier))));return{measures:a,attributes:n}})(C,w,b,f)),[C,w,b,f]),P=(0,R.useCallback)(((e,i)=>{const r=u(i);if(p(a=e)||void 0===a.attributeHierarchyRef){const r=function(e){return!p(e)&&void 0!==e.attributeHierarchyRef}(i)?OT(i):[];h(_p(t,[e],r))}var a;if(c(i),i.drillTargetType===CT.DRILL_DOWN){const r=i.attributes.find((e=>e.attributeHeader.localIdentifier===i.originLocalIdentifier));i.complete?h(Wp(t,r.attributeHeader.formOf.ref,i.attributeHierarchyRef,OT(e))):h(Bp(t,r.attributeHeader.formOf.ref,i.localIdentifier,i.attributeHierarchyRef)),l(i)}g(r?LT.added:LT.modified,{duration:3e3})}),[t,c,g,u,h]),F=(0,R.useCallback)((e=>{e.complete&&(e.drillTargetType===CT.DRILL_DOWN?h(Gp(t,OT(e))):h(Up(t,[(0,a.localIdRef)(e.localIdentifier)]))),l(e)}),[t,h,l]);return{widget:i,insight:r,enableKDZooming:I,drillConfigItems:w,originSelectorItems:A,isOriginSelectorVisible:!!v?.availableDrillTargets,isLoaded:!!v,onChangeItem:s,onOriginSelect:d,onSetupItem:P,onDeleteItem:F}};function OT(e){const t=e.attributes.find((t=>t.attributeHeader.localIdentifier===e.originLocalIdentifier));return t?t.attributeHeader.granularity?[{type:"dateHierarchyReference",dateHierarchyTemplate:e.attributeHierarchyRef,dateDatasetAttribute:t.attributeHeader.formOf.ref}]:[{type:"attributeHierarchyReference",attributeHierarchy:e.attributeHierarchyRef,attribute:t.attributeHeader.formOf.ref}]:[]}const NT=({onDelete:e,title:t,type:i,isDateAttribute:r})=>{const a=((e,t,i)=>t?"date":i&&"measure"===e?"metric":e)(i,r,qb(Fl)),n=`dm-button-icon dm-button-icon-${a}`;return R.createElement("div",{className:"gd-drill-config-measure-item"},R.createElement("div",{className:n}),R.createElement("div",{className:"dm-button-title s-drill-config-item-title",title:t},t),R.createElement("div",{className:"dm-button-delete-wrapper"},R.createElement(uD.Button,{className:"drill-config-item-delete gd-button-link gd-button-icon-only gd-icon-cross s-drill-config-item-delete",onClick:e})))},_T=e=>R.createElement(uD.DropdownButton,{value:e.value,isSmall:!1,disabled:e.disabled,className:`gd-button-small ${e.className}`,iconLeft:e.icon,isOpen:e.isOpen,onClick:e.onClick}),HT=[{align:"cr cl"}],UT={"cr cl":[15,0]},GT=({item:e,icon:t,isSelected:i,onClick:r})=>{const{formatMessage:a}=(0,FC.Z)(),n=e.disabled?j:r,o=dy(t,{"is-disabled s-is-disable":e.disabled});return R.createElement(uD.BubbleHoverTrigger,{hideDelay:0,showDelay:0},R.createElement(uD.SingleSelectListItem,{className:o,title:e.title,info:a({id:e.tooltipMessage},{a:t=>e.documentUrl?R.createElement("a",{href:e.documentUrl,target:"_blank",rel:"noreferrer"},t):null}),eventsOnBubble:!0,hideDelayBubble:100,isSelected:i,onClick:n}),e.disabled&&e.disableTooltipMessage?R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:HT,arrowOffsets:UT},e.disableTooltipMessage):null)},BT=e=>{const t={[CT.DRILL_TO_DASHBOARD]:"gd-icon-drill-to-dashboard",[CT.DRILL_TO_INSIGHT]:"gd-icon-drill-to-insight",[CT.DRILL_DOWN]:"gd-icon-drill-down",[CT.DRILL_TO_URL]:"gd-icon-hyperlink-disabled"};return e?t[e]:void 0},WT=e=>{const{selection:t,enabledDrillTargetTypeItems:i,isButtonDisabled:r}=e,a=(0,FC.Z)(),n=((e,t)=>t.find((t=>t.id===e)))(t,i),o=n?n.title:a.formatMessage({id:"configurationPanel.drillConfig.select"});return R.createElement(uD.Dropdown,{closeOnParentScroll:!0,closeOnMouseDrag:!1,closeOnOutsideClick:!0,alignPoints:[{align:"bl tl"},{align:"tl bl"}],renderButton:({isOpen:e,toggleDropdown:i})=>R.createElement(_T,{className:"s-drill-config-panel-target-button",value:o,icon:BT(t),isOpen:e,disabled:r,onClick:i}),renderBody:({closeDropdown:t})=>R.createElement(uD.DropdownList,{width:200,itemHeight:25,items:i,className:"gd-drill-config-panel-target s-drill-config-panel-target-type-open",renderItem:({item:i})=>{const r=n&&n.id===i.id,a=BT(i.id);return R.createElement(GT,{item:i,icon:a,isSelected:r,onClick:()=>{var r;r=i,e.onSelect(r.id),t()}})}})})};var zT=i(23279),VT=i(96026);const jT=({hasNoMatchingData:e,isUserInsights:t,showNoDataCreateButton:i,onCreateButtonClick:r})=>R.createElement("div",{className:dy("gd-visualizations-list-no-data","gd-no-data",{"gd-visualization-list-not-found":e})},e?R.createElement("span",{className:"s-visualization-list-no-data-message"},R.createElement(AI.Z,{id:"visualizationsList.noVisualizationsFound"})):R.createElement(R.Fragment,null,R.createElement("span",{className:"s-visualization-list-no-data-message"},t?R.createElement(AI.Z,{id:"visualizationsList.noUserInsights"}):R.createElement(AI.Z,{id:"visualizationsList.noInsights"}))," ",i?R.createElement(uD.Button,{className:"gd-button-link s-create-new-insight",tagName:"a",onClick:r,value:R.createElement(AI.Z,{id:"visualizationsList.create"})}):null)),KT=[ev.tabsMy,ev.tabsAll],qT=({height:e,width:t=229,searchAutofocus:i,renderItem:r,selectedRef:n,onSelect:o})=>{const l=(0,FC.Z)(),s=(0,Z.useBackendStrict)(),d=(0,Z.useWorkspaceStrict)(),[c,u]=(0,R.useState)(!1),[g,m]=(0,R.useState)([0]),[p,h]=(0,R.useState)(""),[f,b]=(0,R.useState)(ev.tabsMy.id),D=(()=>{const e=qb(Ho),t=qb(lm),i=(0,a.isUriRef)(t.ref)?t.ref.uri:void 0;return e?i:t.login})(),v=qb(LD),E=qb(ch),y=qb(Ml),I=qb(Qo),C=(0,R.useRef)(""),S=g.map((e=>({limit:50,offset:50*e,title:p,author:f!==ev.tabsMy.id||p?void 0:D}))),{items:T,totalItemsCount:w,isLoading:A}=(0,Z.usePagedResource)((({limit:e,offset:t,title:i,author:r})=>{const a={limit:e,offset:t,author:r,title:i,orderBy:"updated"};return C.current=i??"",s.workspace(d).insights().getInsights(a)}),S,[s,g,p,f,v],[p,f,0===g.length,v],void 0,void 0,C.current!==p&&Ma(g,[0]));(0,R.useEffect)((()=>{c||void 0===w||(u(!0),0===w&&b(ev.tabsAll.id))}),[c,w]);const P=(0,R.useCallback)(zT((e=>{m([0]),h(e)}),500),[]),F=Qb(),k=(0,R.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),F(Jt())}),[]),x=e&&e-(p?47:70),L=A&&0===T.length,M=c&&!p,O=y&&E;return R.createElement(uD.DropdownList,{width:t,height:x,isMobile:!1,isLoading:L,showSearch:c,searchString:p,searchFieldSize:"small",searchPlaceholder:l.formatMessage({id:"search_insights"}),onSearch:P,disableAutofocus:!i,showTabs:M,tabs:s.capabilities.supportsOwners&&D?KT:void 0,selectedTabId:f,onTabSelect:({id:e})=>{m([0]),b(e)},itemHeight:40,itemHeightGetter:e=>!w||0!==e&&e!==w-1?40:50,items:T,itemsCount:w,renderItem:r??(({item:e,width:t})=>{if(!e)return R.createElement(uD.InsightListItem,{isLoading:!0});const i=(0,a.insightTitle)(e),r=(0,a.insightSummary)(e)?.trim(),l=function(e){return{insight:e,insightType:(0,a.insightVisualizationType)(e)}}(e),s=(0,a.areObjRefsEqual)(e.insight.ref,n);return R.createElement(uD.InsightListItem,{title:i,description:r,showDescriptionPanel:I?.enableDescriptions,type:l.insightType,width:t,isSelected:s,updated:(0,a.insightUpdated)(l.insight)??(0,a.insightCreated)(l.insight),isLocked:(0,a.insightIsLocked)(l.insight),onClick:()=>o?.(e),metadataTimeZone:I?.metadataTimeZone})}),renderNoData:({hasNoMatchingData:e})=>R.createElement(jT,{isUserInsights:f===ev.tabsMy.id,hasNoMatchingData:e,showNoDataCreateButton:O,onCreateButtonClick:k}),onScrollEnd:(e,t)=>{const i=Math.floor(e/50),r=Math.floor(t/50),a=VT(i,r+1);m(a)}})},YT=[{align:"bl tl",offset:{x:0,y:4}},{align:"tl bl",offset:{x:0,y:-4}}],ZT=({insightConfig:e,onSelect:t})=>{const i=(0,FC.Z)(),{insight:r,insightType:n,insightRef:o}=function(e){const t=qb(Qu);return(0,R.useMemo)((()=>{if(wT(e)&&e.insightRef){const i=t.get(e.insightRef);if((0,a.isInsight)(i)){const t=(0,a.insightVisualizationType)(i);return{insight:i,insightRef:e.insightRef,insightType:t}}}return{}}),[e,t])}(e),l=function(e,t,i){return i?e||t.formatMessage({id:"loading"}):t.formatMessage({id:"configurationPanel.drillConfig.selectInsight"})}(r?.insight.title??"",i,o);return R.createElement(uD.Dropdown,{className:"s-report_select report-select",closeOnMouseDrag:!0,closeOnParentScroll:!0,alignPoints:YT,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(uD.DropdownButton,{value:l,onClick:t,isOpen:e,isSmall:!1,iconLeft:n?`gd-vis-type-${n}`:void 0,className:"gd-button-small s-visualization-button-target-insight"}),renderBody:({closeDropdown:i})=>R.createElement("div",{className:"open-visualizations s-open-visualizations"},R.createElement(qT,{selectedRef:wT(e)?e.insightRef:void 0,height:300,width:275,searchAutofocus:!0,onSelect:e=>{t(e),i()}}))})},$T=({insight:e,onSelect:t})=>R.createElement(ZT,{insightConfig:e,onSelect:t}),XT=({className:e,children:t})=>R.createElement(uD.Typography,{tagName:"h3",className:dy("gd-drill-to-url-section-title gd-list-item gd-list-item-header",e)},R.createElement("span",null,t)),QT=({urlValue:e,closeDropdown:t})=>R.createElement("div",{onClick:t,className:"gd-list-item gd-menu-item gd-drill-to-custom-url-option s-drill-to-custom-url-option gd-icon-hyperlink-disabled is-selected"},R.createElement("span",null,e.length>50?`${e.substring(0,50)}...`:e)),JT=({urlValue:e,toggleModal:t})=>{const i=(0,FC.Z)(),r=e?i.formatMessage({id:"configurationPanel.drillIntoUrl.customUrlEditButtonLabel"}):i.formatMessage({id:"configurationPanel.drillIntoUrl.customUrlAddButtonLabel"}),a=e?void 0:"gd-icon-add";return R.createElement(uD.Button,{className:"gd-button gd-button-secondary gd-button-small s-drill-to-custom-url-button",iconLeft:a,onClick:t,value:r})},ew=e=>{const{urlDrillTarget:t,closeDropdown:i}=e,r=AT(t)?t.customUrl:void 0;return R.createElement(R.Fragment,null,R.createElement(XT,null,R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.customUrlSectionTitle"})),!!r&&R.createElement(QT,{urlValue:r,closeDropdown:i}),R.createElement("div",{className:"gd-drill-to-custom-url-button-wrapper"},R.createElement(JT,{...e,urlValue:r})))},tw=e=>{const{title:t,typeName:i,label:r,isLoading:a,useEllipsis:n,values:o,additionalValues:l}=e;return R.createElement("div",{className:"gd-drill-to-url-editor-parameter-detail s-parameter-detail"},R.createElement("div",{className:"gd-parameter-detail-title"},t),R.createElement(iw,{typeName:i}),r?R.createElement(rw,{label:r}):null,!p(o)&&R.createElement(aw,{isLoading:a,useEllipsis:n,values:o,additionalValues:l}))},iw=({typeName:e})=>R.createElement("div",{className:"gd-parameter-detail-section"},R.createElement("div",{className:"gd-parameter-detail-subtitle"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailType"})),R.createElement("div",null,e)),rw=({label:e})=>R.createElement("div",{className:"gd-parameter-detail-section"},R.createElement("div",{className:"gd-parameter-detail-subtitle"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailLabel"})),R.createElement("div",null,e)),aw=({isLoading:e,useEllipsis:t,values:i,additionalValues:r})=>e?R.createElement(uD.LoadingMask,{className:"s-parameter-detail-loading",height:60}):R.createElement(nw,{useEllipsis:t,values:i,additionalValues:r}),nw=({useEllipsis:e,values:t,additionalValues:i})=>{const r=dy("s-parameter-detail-value",{"gd-parameter-detail-ellipsis-row":e});return t&&R.createElement("div",{className:"gd-parameter-detail-section"},R.createElement("div",{className:"gd-parameter-detail-subtitle"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailValues",values:{numberOfValues:t.length}})),R.createElement("div",null,t.map(((e,t)=>R.createElement("div",{className:r,key:t},e))),i?R.createElement("div",{className:"gd-parameter-detail-info"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues",values:{count:i}})):null))},ow=({title:e})=>{const t=(0,Z.useWorkspaceStrict)(),i=(0,FC.Z)();return R.createElement(tw,{title:e,typeName:i.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:[t]})},lw=({title:e})=>{const t=qb(mu),i=(0,FC.Z)();return R.createElement(tw,{title:e,typeName:i.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:t?[t]:[]})},sw=({title:e})=>{const t=(0,FC.Z)(),i=qb(FD),r=qb(vc(i));let n=[];return(0,a.isInsightWidget)(r)&&!qu(r)&&(n=[r.identifier]),R.createElement(tw,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:n})},dw=({title:e})=>{const t=(0,FC.Z)(),i=qb(FD),r=qb(vc(i));(0,m.kG)((0,a.isInsightWidget)(r),"must be insight widget selected");const n=qb(Ju(r.insight));return R.createElement(tw,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:n?.insight.identifier?[n.insight.identifier]:[]})},cw=({title:e})=>{const t=(0,FC.Z)(),{client:i}=(0,Z.useClientWorkspaceIdentifiers)();return R.createElement(tw,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:i?[i]:[]})},uw=({title:e})=>{const t=(0,FC.Z)(),{dataProduct:i}=(0,Z.useClientWorkspaceIdentifiers)();return R.createElement(tw,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:i?[i]:[]})},gw=e=>{const{name:t,description:i,detailContent:r,iconClassName:a,onAdd:n,intl:o}=e,[l,s]=(0,R.useState)(!1),d=(0,PI.Fg)(),c=d&&(0,$E.$)(d),u=`${NS.gl(t)}${i?NS.gl(`_${i}`):""}`,g=dy("gd-list-item gd-menu-item",`s-parameter-${u}`,a),m=o.formatMessage({id:"configurationPanel.drillIntoUrl.editor.addParameterButtonLabel"});return R.createElement("div",{id:u,className:g,onClick:()=>n()},R.createElement("span",{className:"gd-parameter-title"},t),i?R.createElement("span",{className:"addon s-parameter-description"},"(",i,")"):null,R.createElement(uD.Button,{className:"gd-button gd-button-link s-parameter-add-button",value:m}),R.createElement("div",{className:"gd-list-item-tooltip"},R.createElement("span",{className:"gd-icon-circle-question gd-list-item-tooltip-icon s-parameter-help-icon",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)}),l?R.createElement(uD.Bubble,{className:"themed-bubble "+(c?"bubble-primary":"bubble-light"),alignTo:`#${u}`,alignPoints:[{align:"cr tl"}]},r):null))},mw=(0,JD.vU)({insightIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.insightIdParameterLabel"},widgetIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel"},dashboardIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel"},projectIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.projectIdParameterLabel"},workspaceIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel"},clientIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.clientIdParameterLabel"},dataProductIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel"}}),pw=[{titleIntlKey:mw.insightIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID},{titleIntlKey:mw.widgetIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID},{titleIntlKey:mw.dashboardIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID},{titleIntlKey:mw.projectIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID},{titleIntlKey:mw.workspaceIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID},{titleIntlKey:mw.clientIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID},{titleIntlKey:mw.dataProductIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID}],hw=(e,t)=>{switch(e){case D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID:case D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID:return R.createElement(ow,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID:return R.createElement(lw,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID:return R.createElement(sw,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID:return R.createElement(dw,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID:return R.createElement(cw,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID:return R.createElement(uw,{title:t});default:return R.createElement(R.Fragment,null)}},fw=({enableClientIdParameter:e,enableDataProductIdParameter:t,enableWidgetIdParameter:i,onAdd:r,intl:a})=>{const n=qb(Rl);return R.createElement(R.Fragment,null,R.createElement(XT,null,R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel"})),pw.filter((({placeholder:t})=>t!==D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID||e)).filter((({placeholder:e})=>e!==D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID||i)).filter((({placeholder:e})=>e!==D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID||t)).filter((({placeholder:e})=>e!==(n?D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID:D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID))).map((({placeholder:e,titleIntlKey:t})=>{const i=a.formatMessage({id:t});return R.createElement(gw,{key:e,name:i,detailContent:hw(e,i),iconClassName:"gd-icon-sharp",onAdd:()=>r(e),intl:a})})))},bw=new OC.z({max:50}),Dw=e=>{const t=(0,JD.vU)({hyperlink:{id:"configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel"},pushpin:{id:"configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel"},default:{id:"configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel"}});switch(e){case"GDC.link":return t.hyperlink;case"GDC.geo.pin":case"GDC.geo.pin_latitude":case"GDC.geo.pin_longitude":return t.pushpin;default:return t.default}},vw=e=>{const{title:t,label:i,type:r,displayFormRef:n,projectId:o,showValues:l}=e,s=(0,FC.Z)(),c=(0,Z.useBackendStrict)(),[u,g]=(0,R.useState)(!0),[m,p]=(0,R.useState)([]),[h,f]=(0,R.useState)(0),b=(e=>{const t=qb(ts),{hasTypeScopedIdentifiers:i,supportsEnumeratingDatetimeAttributes:r}=qb(Fo);if(r)return!0;const a=Gi(t,(e=>e.dateAttributes)),n=d(Gi(a,(e=>e.attribute.displayForms)),i);return!Boolean(n.get(e))})(n);return(0,R.useEffect)((()=>{let e=!0;return l&&b?(async()=>{const t=await(async(e,t,i)=>{const r=(0,a.objRefToString)(i),n=bw.get(r);if(n)return n;const o=await function(e,t,i,r=5){return e.workspace(t).attributes().elements().forDisplayForm(i).withLimit(r).query()}(e,t,i,3);return bw.set(r,o),o})(c,o,n);if(e){const e=t.totalCount-3;e>0&&f(e),p(((e,t)=>e.map((e=>e&&0!==e.length?e:(0,Z.emptyHeaderTitleFromIntl)(t))))(((e,t)=>"GDC.link"!==t?e.map((({title:e})=>e)):e.map((({title:e})=>e&&e.length>100?`${e.substr(0,100)}...`:e)))(t.items,r),s)),g(!1)}})():g(!1),()=>{e=!1}}),[n,r,s,o,l,c,b]),R.createElement(tw,{title:t,label:i,typeName:s.formatMessage(Dw(r)),isLoading:u,useEllipsis:"GDC.link"!==r,values:m||[],additionalValues:h})},Ew=({item:e,onAdd:t,iconClassName:i,isFilter:r})=>{const a=qb(ms).get(e.attribute),n=(0,FC.Z)(),o=(0,Z.useWorkspaceStrict)(),l=qb(Ad(e.ref)),s=a?.attribute.title||"";return R.createElement(gw,{key:e.id,name:r?l?.attributeFilter?.title??s:s,description:e.title,detailContent:R.createElement(vw,{title:a?.attribute.title||"",label:e.title,type:e.displayFormType,projectId:o,displayFormRef:e.ref,showValues:!0}),iconClassName:i??yw(e.displayFormType),onAdd:()=>t(`{attribute_title(${e.id})}`),intl:n})},yw=e=>{switch(e){case"GDC.link":return"gd-icon-hyperlink-warning";case"GDC.geo.pin":case"GDC.geo.pin_latitude":case"GDC.geo.pin_longitude":return"gd-icon-earth";default:return"gd-icon-label-warning"}},Iw=({attributeDisplayForms:e,loadingAttributeDisplayForms:t,insightFilters:i,onAdd:r})=>{const n=qb(gs);return R.createElement(R.Fragment,null,e&&e.length>0||t||i&&i.length>0?R.createElement(R.Fragment,null,R.createElement(XT,null,R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel"})),t?R.createElement("div",{className:"gd-drill-to-url-section-loading s-drill-to-custom-url-attr-section-loading"},R.createElement("div",{className:"gd-spinner small"})):e?.map((e=>R.createElement(Ew,{key:e.displayForm.id,item:e.displayForm,onAdd:r}))),i?.map(((e,t)=>{const i=(0,a.filterObjRef)(e),o=n.get(i);return o&&R.createElement(Ew,{item:o,onAdd:()=>r(`{attribute_filter_selection(${o.id})}`),iconClassName:"gd-icon-filter",key:t,isFilter:!0})}))):null)},Cw=({dashboardFilters:e,onAdd:t})=>{const i=qb(gs);return e&&e.length>0?R.createElement(R.Fragment,null,R.createElement(XT,null,R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel"})),e?.map(((e,r)=>{const n=i.get((0,a.filterObjRef)(e)),o=n?.id;return n?R.createElement(Ew,{key:r,item:n,iconClassName:"gd-icon-filter",onAdd:()=>{t(`{dash_attribute_filter_selection(${o})}`)},isFilter:!0}):null}))):null},Sw=({attributeDisplayForms:e,loadingAttributeDisplayForms:t,enableClientIdParameter:i,enableDataProductIdParameter:r,enableWidgetIdParameter:a,onAdd:n,intl:o,dashboardFilters:l,insightFilters:s})=>R.createElement("div",null,R.createElement("label",{className:"gd-label"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.parametersPanelLabel"}),R.createElement(uD.BubbleHoverTrigger,{className:"gd-list-item-tooltip",showDelay:0,hideDelay:0},R.createElement("span",{className:"gd-icon-circle-question gd-list-item-tooltip-icon"}),R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:[{align:"cr cl"}]},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.parametersPanelTooltip"})))),R.createElement("div",{className:"gd-drill-to-url-parameters gd-drill-to-url-list"},R.createElement(Iw,{attributeDisplayForms:e,loadingAttributeDisplayForms:t,onAdd:n,intl:o,insightFilters:s}),R.createElement(Cw,{intl:o,onAdd:n,dashboardFilters:l}),R.createElement(fw,{enableClientIdParameter:i,enableDataProductIdParameter:r,enableWidgetIdParameter:a,onAdd:n,intl:o})));function Tw(e,t){const[i,r]=(0,R.useState)({filters:[],filterQueryStatus:"pending"}),{status:n,error:o,result:l}=function(e){const t=qb(Ed),i=qb(cc(e?.ref)),r=t.filter((e=>!(0,a.isDashboardAttributeFilter)(e)||!i?.includes(e.attributeFilter.localIdentifier))),n=!e?.dateDataSet,o=qb(Wc),[l,s]=(0,R.useState)({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"pending"}),{run:d,error:c}=eD({queryCreator:Og,onSuccess:e=>{s((t=>({nonIgnoredFilterStatus:"success",nonIgnoredFilterRefs:Ma(t.nonIgnoredFilterRefs,e)?t.nonIgnoredFilterRefs:e.map(a.filterObjRef)})))},onBeforeRun:()=>{s({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"running"})},onRejected:()=>{s({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"rejected"})},onError:()=>{s({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"error"})}});(0,R.useEffect)((()=>{e?.ref&&d(e.ref,null)}),[aS(e?.ref),Jr(e?.ignoreDashboardFilters),ww(r,n,o)]);const u=(0,R.useMemo)((()=>r.filter((e=>(0,a.isDashboardAttributeFilter)(e)?l.nonIgnoredFilterRefs.some((t=>(0,a.areObjRefsEqual)(t,e.attributeFilter.displayForm))):(0,a.isDashboardDateFilterWithDimension)(e)?l.nonIgnoredFilterRefs.some((t=>(0,a.areObjRefsEqual)(t,e.dateFilter.dataSet))):!n))),[r,l.nonIgnoredFilterRefs,n]);return{error:c,status:l.nonIgnoredFilterStatus,result:u}}(e),{run:s,error:d}=eD({queryCreator:Og,onSuccess:e=>{r({filters:e,filterQueryStatus:"success"})},onBeforeRun:()=>{r({filters:[],filterQueryStatus:"running"})},onRejected:()=>{r({filters:[],filterQueryStatus:"rejected"})},onError:()=>{r({filters:[],filterQueryStatus:"error"})}});var c,u,g;return(0,R.useEffect)((()=>{e?.ref&&"success"===n&&s(e.ref,t)}),[aS(e?.ref),(c=l,c.map((e=>Jr(e))).sort().join("|")),t,n,e?.dateDataSet]),{result:i.filters,status:(u=n,g=i.filterQueryStatus,"error"===u||"rejected"===u||"running"===u?u:g),error:o??d}}function ww(e,t,i){return e.filter((e=>(0,a.isDashboardAttributeFilter)(e)?!(e.attributeFilter.negativeSelection&&(0,a.attributeElementsIsEmpty)(e.attributeFilter.attributeElements)&&i):(0,a.isDashboardDateFilterWithDimension)(e)?!(0,a.isAllTimeDashboardDateFilter)(e.dateFilter)||!i:!t)).map((e=>(0,a.isDashboardAttributeFilter)(e)?`df_${aS(e.attributeFilter.displayForm)}_${e.attributeFilter.localIdentifier}`:`ds_${aS(e.dateFilter.dataSet)}`)).sort().join("|")}var Aw=i(44908);const Pw=e=>{const{onChange:t,onCursor:i,currentUrlValue:r,intl:a,syntaxHighlightingRules:n}=e,o=a.formatMessage({id:"configurationPanel.drillIntoUrl.editor.textAreaPlaceholder"});return n?R.createElement(uD.SyntaxHighlightingInput,{onChange:t,onCursor:i,value:r,customOptions:{placeholder:o},className:"gd-input-syntax-highlighting-input",formatting:n}):null},Rw=({link:e})=>R.createElement("a",{className:"gd-button-link gd-drill-to-custom-url-help",target:"_blank",href:e,rel:"noopener noreferrer"},R.createElement("span",{className:"gd-icon-circle-question"}),R.createElement("span",{className:"gd-button-link-text"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.helpButtonLabel"}))),Fw=[{regex:/\{attribute_title\(.*?\)\}/,token:"invalid-attribute"},{regex:/\{dash_attribute_filter_selection\(.*?\)\}/,token:"invalid-filter"},{regex:/\{attribute_filter_selection\(.*?\)\}/,token:"invalid-filter"},{regex:/\{workspace_id\}|\{project_id\}|\{insight_id\}|\{widget_id\}|\{dashboard_id\}|\{client_id\}|\{data_product_id\}/,token:"identifier"},{regex:/\{[^}{]*\}/,token:"invalid-identifier"}],kw=e=>{const{currentUrlValue:t,onChange:i,onCursor:r,documentationLink:n,attributeDisplayForms:o,intl:l,insightFilters:s,dashboardFilters:d}=e,c=qb(sl),u=(0,R.useMemo)((()=>o&&s&&d&&((e,t,i)=>{const r=(e=>{if(0===e.length)return;const t=e.map((({displayForm:e})=>`{attribute_title\\(${e.id}\\)}`)).join("|");return{regex:new RegExp(t),token:"attribute"}})(e),n=(e=>{if(0===e.length)return;const t=e.map((e=>{const t=(0,a.filterObjRef)(e);return`{attribute_filter_selection\\(${(0,a.isUriRef)(t)?t.uri:t.identifier}\\)}`})).join("|");return{regex:new RegExp(t),token:"filter"}})(i),o=(e=>{if(0===e.length)return;const t=e.map((e=>{const t=(0,a.filterObjRef)(e);return`{dash_attribute_filter_selection\\(${(0,a.isUriRef)(t)?t.uri:t.identifier}\\)}`})).join("|");return{regex:new RegExp(t),token:"filter"}})(t);return{start:ka([r,o,n,...Fw])}})(o,d,s)),[o,s,d]);return R.createElement("div",null,R.createElement("label",{className:"gd-label"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.textAreaLabel"})),R.createElement(Pw,{onChange:i,onCursor:r,currentUrlValue:t,syntaxHighlightingRules:u,intl:l}),!c&&n?R.createElement(Rw,{link:n}):null)},xw={from:0,to:0},Lw=e=>{const{urlDrillTarget:t,documentationLink:i,onSelect:r,onClose:n,attributeDisplayForms:o,loadingAttributeDisplayForms:l=!1,invalidAttributeDisplayFormIdentifiers:s,enableClientIdParameter:d,enableDataProductIdParameter:c,enableWidgetIdParameter:u,widgetRef:g}=e,m=(0,FC.Z)(),p=function(e){const t=Tw(qb(vc(e))),i=Nw();return(0,R.useMemo)((()=>"success"===t.status?Qr(t.result?.filter(a.isAttributeFilter).map(i).filter(a.isAttributeFilter),(e=>(0,a.serializeObjRef)((0,a.filterObjRef)(e)))):void 0),[t.status,t.result,i])}(g),h=function(){const e=qb(yd),t=Nw();return(0,R.useMemo)((()=>e?.map(Hd).map(t).filter(a.isAttributeFilter)),[e,t])}(),f=function(e,t,i){const r=qb(gs);return(0,R.useMemo)((()=>{if(AT(e)){const n=mg(e.customUrl),o=pg(e.customUrl),l=n.filter((({identifier:e})=>!r.get((0,a.idRef)(e,"displayForm"))||!i?.some((t=>(0,a.areObjRefsEqual)((0,a.filterObjRef)(t),(0,a.idRef)(e,"displayForm")))))).map((({identifier:e})=>e)),s=o.filter((({identifier:e})=>!r.get((0,a.idRef)(e,"displayForm"))||!t?.some((t=>(0,a.areObjRefsEqual)((0,a.filterObjRef)(t),(0,a.idRef)(e,"displayForm")))))).map((({identifier:e})=>e));return Aw([...l,...s])}return[]}),[r,e,t,i])}(t,p,h),b=(0,R.useMemo)((()=>[...s,...f]),[s,f]),D=t&&AT(t)&&t.customUrl||"",[v,E]=(0,R.useState)(D),y=v&&0!==v.localeCompare(D),[I,C]=(0,R.useState)(xw),S=b.length>0?(e=>{const t=e.map((e=>`"${e}"`)).join(", ");return R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms",values:{invalidParameters:t}})})(b):void 0;return R.createElement(uD.ConfirmDialogBase,{className:"gd-drill-custom-url-editor s-gd-drill-custom-url-editor",isPositive:!0,headline:D?m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.editUrlTitle"}):m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.addUrlTitle"}),cancelButtonText:m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.cancelButtonLabel"}),submitButtonText:m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.applyButtonLabel"}),isSubmitDisabled:!y,submitOnEnterKey:!1,onCancel:n,onSubmit:()=>{return r(/^[A-Za-z0-9.\-+]+:|^\{attribute_title\(|^\{attribute_filter_selection\(|^\{dash_attribute_filter_selection\(/.test(e=v)?e:`https://${e}`);var e},warning:S},R.createElement(kw,{onChange:e=>E(e.trim()),onCursor:(e,t)=>C({from:e,to:t}),documentationLink:i,currentUrlValue:v,attributeDisplayForms:o,insightFilters:p,dashboardFilters:h,intl:m}),R.createElement(Sw,{insightFilters:p,dashboardFilters:h,attributeDisplayForms:o,loadingAttributeDisplayForms:l,enableClientIdParameter:d,enableDataProductIdParameter:c,enableWidgetIdParameter:u,onAdd:e=>{return E((i=e,r=I,`${(t=v).substring(0,r.from)}${i}${t.substring(r.to)}`));var t,i,r},intl:m}))},Mw=uD.OverlayController.getInstance(BS),Ow=e=>{const t=(0,uD.useMediaQuery)("mobileDevice")?uD.FullScreenOverlay:uD.Overlay;return R.createElement(uD.OverlayControllerProvider,{overlayController:Mw},R.createElement(t,{onClose:e.onClose,isModal:!0,closeOnOutsideClick:!1,closeOnEscape:!0,positionType:"fixed",className:"gd-modal-overlay"},R.createElement(Lw,{...e})))};function Nw(){const e=qb(gs);return(0,R.useCallback)((t=>{const i=e.get((0,a.filterObjRef)(t));if(i)return(0,a.isNegativeAttributeFilter)(t)?{...t,negativeAttributeFilter:{...t.negativeAttributeFilter,displayForm:(0,a.idRef)(i.id,"displayForm")}}:{...t,positiveAttributeFilter:{...t.positiveAttributeFilter,displayForm:(0,a.idRef)(i.id,"displayForm")}}}),[e])}const _w=({item:e,onClickHandler:t,isSelected:i})=>{const r=dy("gd-list-item gd-menu-item gd-drill-to-attribute-url-option s-drill-to-attribute-url-option gd-icon-hyperlink-warning",{"is-selected":i}),a=(0,R.useCallback)((()=>{t&&t(e)}),[e,t]);return R.createElement("div",{className:r,onClick:a},R.createElement("span",{className:"gd-parameter-title"},e.attribute.title),R.createElement("span",{className:"addon"},"(",e.displayForm.title,")"))},Hw=e=>{const{attributeDisplayForms:t,loading:i=!1,selected:r,onSelect:n}=e,o=(0,R.useCallback)((e=>{n(e.attributeDisplayFormRef,e.displayForm.ref)}),[n]);return i||0!==t.length?R.createElement(R.Fragment,null,R.createElement(XT,{className:"s-drill-to-attribute-url-section-title"},R.createElement(AI.Z,{id:"configurationPanel.drillIntoUrl.attributeUrlSectionTitle"})),i?R.createElement("div",{className:"gd-drill-to-url-section-loading s-drill-to-attribute-url-section-loading"},R.createElement("div",{className:"gd-spinner small"})):R.createElement("div",{className:"gd-drill-to-url-section-items"},t.map((e=>R.createElement(_w,{key:(0,a.objRefToString)(e.displayForm.ref),item:e,isSelected:(0,a.areObjRefsEqual)(e.displayForm.ref,r||void 0),onClickHandler:o}))))):null};function Uw(e,t){return(0,a.areObjRefsEqual)(e.displayForm.ref,t.displayForm.ref)}const Gw=[{align:"bl tl"},{align:"tl bl"}],Bw=e=>{const{onSelect:t,urlDrillTarget:i,attributes:r,widgetRef:n}=e,o=qb(Fo),l=qb(Qo),{allDisplayForms:s,linkDisplayForms:d}=function(e){const t=qb(FD);(0,m.kG)(t,"must have selected widget");const i=qb(ms),r=qb(gs),a=e.map((e=>e.attributeHeader.ref)).reduce(((e,t)=>{const a=r.get(t);if(!a)return e;const n=i.get(a.attribute);if(!n)return e;const o=n.attribute.displayForms.filter((e=>"GDC.link"===e.displayFormType));return e.linkDisplayForms.push(...o.map((e=>({attribute:n.attribute,attributeDisplayFormRef:t,displayForm:e})))),e.allDisplayForms.push(...n.attribute.displayForms.map((e=>({attribute:n.attribute,attributeDisplayFormRef:t,displayForm:e})))),e}),{linkDisplayForms:[],allDisplayForms:[]});return{allDisplayForms:Zu(a.allDisplayForms,Uw),linkDisplayForms:Zu(a.linkDisplayForms,Uw)}}(r),c=function(e,t){const i=qb(gs);return(0,R.useMemo)((()=>AT(e)?gg(e.customUrl).filter((({identifier:e})=>{const r=i.get((0,a.idRef)(e,"displayForm"));return!!r&&!t.some((e=>(0,a.areObjRefsEqual)(r.attribute,e.attributeHeader.formOf)))})).map((({identifier:e})=>e)):[]),[i,e,t])}(i,r),[u,g]=(0,R.useState)(!1),p=()=>g(!u),{client:h,dataProduct:f}=(0,Z.useClientWorkspaceIdentifiers)(),b=function(e){const t=(0,FC.Z)(),i=qb(gs),r=qb(ms);if(AT(e)&&e.customUrl)return e.customUrl;if(PT(e)&&e.drillToAttributeDisplayForm){const t=i.get(e.drillToAttributeDisplayForm);(0,m.kG)(t,"inconsistent state in drill to URL button");const a=r.get(t.attribute);return(0,m.kG)(a,"inconsistent state in drill to URL button"),`${a.attribute.title} (${t.title})`}return t.formatMessage({id:"configurationPanel.drillIntoUrl.defaultButtonValue"})}(i);return R.createElement(R.Fragment,null,R.createElement(uD.Dropdown,{closeOnParentScroll:!0,alignPoints:Gw,renderButton:({toggleDropdown:e,isOpen:t})=>R.createElement(uD.Button,{onClick:e,className:"gd-button gd-button-primary button-dropdown dropdown-button gd-button-small s-drill-to-url-button",iconRight:t?"gd-icon-navigateup":"gd-icon-navigatedown",value:b}),renderBody:({closeDropdown:r})=>R.createElement("div",{className:"gd-menu-wrapper gd-drill-to-url-body gd-drill-to-url-list s-gd-drill-to-url-body"},o.supportsHyperlinkAttributeLabels?R.createElement(Hw,{attributeDisplayForms:d,onSelect:(e,i)=>{((e,i)=>{t({insightAttributeDisplayForm:e,drillToAttributeDisplayForm:i})})(e,i),r()},selected:PT(i)&&i.drillToAttributeDisplayForm}):null,R.createElement(ew,{...e,urlDrillTarget:i,toggleModal:p,closeDropdown:r}),u?R.createElement(Ow,{widgetRef:n,urlDrillTarget:i,attributeDisplayForms:s,invalidAttributeDisplayFormIdentifiers:c,documentationLink:String(l.drillIntoUrlDocumentationLink||""),enableClientIdParameter:!!h,enableDataProductIdParameter:!!f,enableWidgetIdParameter:!!o.supportsWidgetEntity,onSelect:e=>{(e=>{g(!1),t({customUrl:e})})(e),r()},onClose:p}):null)}))};var Ww=i(89734);const zw=[{align:"cl cr",offset:{x:0,y:-2}},{align:"cr cl",offset:{x:0,y:10}}],Vw=(e,t)=>{switch(t){case"forbidden":return e.formatMessage({id:"configurationPanel.drillConfig.forbiddenDashboard.tooltip"});case"notShared":return e.formatMessage({id:"configurationPanel.drillConfig.notSharedDashboard.tooltip"});default:return}},jw=e=>{const{onClick:t,accessibilityLimitation:i,title:r,isSelected:a=!1}=e,n=void 0===i?void 0:"gd-icon-circle-exclamation",o=`s-dashboard-item s-${NS.gl(r)}`,l=dy("gd-list-item gd-drill-dashboard-item",o,{"is-selected":a});return R.createElement("div",{className:l,onClick:t,title:r},n?R.createElement("span",{className:dy("gd-list-icon",n)}):null,R.createElement("span",null,r))},Kw=e=>{const{accessibilityLimitation:t}=e,i=(0,FC.Z)(),r=Vw(i,t);return r?R.createElement(uD.BubbleHoverTrigger,{tagName:"div",showDelay:200,hideDelay:0},R.createElement(jw,{...e}),R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:zw},r)):R.createElement(jw,{...e})},qw=[{align:"cl cr",offset:{x:0,y:-2}},{align:"cr cl",offset:{x:0,y:10}}],Yw=e=>{const{accessibilityLimitation:t,toggleDropdown:i,isOpen:r,label:a}=e,n=void 0===t?void 0:"gd-icon-circle-exclamation";return R.createElement(uD.DropdownButton,{className:"dashboard-dropdown-button s-dashboards-dropdown-button",value:a,isOpen:r,onClick:i,iconLeft:n})},Zw=e=>{const{accessibilityLimitation:t}=e,i=(0,FC.Z)(),r=Vw(i,t);return r?R.createElement(uD.BubbleHoverTrigger,{tagName:"div",showDelay:200,hideDelay:0},R.createElement(Yw,{...e}),R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:qw,arrowOffsets:{"cr cl":[15,0]}},r)):R.createElement(Yw,{...e})};function $w(e,t,i){return(0,a.areObjRefsEqual)(t,i)||(0,a.areObjRefsEqual)((0,a.idRef)(e),i)}const Xw=[{align:"bl tl"},{align:"tl bl"}],Qw=({selected:e,dashboards:t,onSelect:i})=>{const r=(0,R.useMemo)((()=>e&&t.find((t=>$w(t.identifier,t.ref,e)))),[e,t]),a=(0,FC.Z)(),n=r?r.title:a.formatMessage({id:"configurationPanel.drillConfig.selectDashboard"}),[o,l]=(0,R.useState)(""),s=(0,R.useMemo)((()=>{let e=t.filter((({title:e})=>e.toLowerCase().includes(o.toLowerCase())));return r&&(e=e.map((e=>e.identifier===r.identifier?{...e,selected:!0}:e))),Ww(e,(e=>e.title.toLowerCase()))}),[t,o,r]),d=a.formatMessage({id:"configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder"});return R.createElement(uD.Dropdown,{className:"s-dashboards-dropdown",closeOnParentScroll:!0,closeOnMouseDrag:!1,closeOnOutsideClick:!0,alignPoints:Xw,renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{className:"dashboards-dropdown-body s-dashboards-dropdown-body",width:240,height:319,searchString:o,searchPlaceholder:d,itemHeight:25,showSearch:!0,items:s,scrollToItem:r,onSearch:l,renderItem:({item:t})=>{const a=r&&t.selected;return R.createElement(Kw,{isSelected:a,title:t.title,onClick:()=>{i(t),e()},accessibilityLimitation:t.accessibilityLimitation})}}),onOpenStateChanged:()=>{l("")},renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(Zw,{accessibilityLimitation:r?.accessibilityLimitation,label:n,isOpen:e,toggleDropdown:t})})},Jw=e=>{const{onSelect:t,selected:i}=e,r=(0,FC.Z)(),n=qb(Sg),o=qb(Pg),l=(0,R.useMemo)((()=>((e,t,i,r)=>{const n=e.some((e=>(0,a.areObjRefsEqual)(e.ref,r)));if(!r||n)return e;const o=t.find((({ref:e})=>(0,a.areObjRefsEqual)(e,r)));if(void 0===o)return e;const{title:l,accessibilityLimitation:s}=o;return[{...o,title:"forbidden"===s?i.formatMessage({id:"configurationPanel.drillConfig.forbiddenDashboard"}):l},...e]})(n,o,r,i)),[n,o,r,i]);return R.createElement(Qw,{onSelect:t,dashboards:l,selected:i})},eA=({onOpenAttributeHierarchyDialog:e})=>{const{formatMessage:t}=(0,FC.Z)(),i=qb(fh),r=tD(),a=t(Z.messages.createHierarchy);return R.createElement(R.Fragment,null,R.createElement("div",{className:"empty-attribute-hierarchy-info s-empty-attribute-hierarchy-info"},R.createElement("div",{className:"empty-attribute-hierarchy-info-content s-empty-attribute-hierarchy-info-content"},R.createElement(AI.Z,{id:Z.messages.emptyHierarchyInfo.id,tagName:"span"}),null),i?R.createElement(uD.Button,{className:"gd-button-link gd-icon-plus gd-button-small add-attribute-hierarchy-button s-add-attribute-hierarchy-button",value:a,onClick:()=>{r.attributeHierarchiesInteraction("attributeHierarchyDrillDownCreateClicked"),e()}}):null))},tA=[{align:"cr cl",offset:{x:56,y:0}}],iA=({onClick:e})=>{const{formatMessage:t}=(0,FC.Z)(),i=qb(fh),r=t(Z.messages.hierarchyCreateButton);return i?R.createElement("div",{className:"attribute-hierarchy-list-footer s-attribute-hierarchy-list-footer"},R.createElement(uD.Separator,null),R.createElement(uD.Button,{className:"gd-button-link-dimmed gd-icon-plus attribute-hierarchy-list-footer-button s-attribute-hierarchy-list-footer-button",value:r,onClick:e})):null},rA=(0,uD.withBubble)((e=>{const t=(0,FC.Z)(),{onClick:i,item:r,isDisabled:n}=e,o=qb(ms),l=qb(fh),s=t=>{t&&(t.stopPropagation(),t.preventDefault()),e.onEdit(r)},d=(0,a.isCatalogAttributeHierarchy)(r)?r.attributeHierarchy.title:r.title,c=dy("attribute-hierarchy-list-item s-attribute-hierarchy-list-item",`s-${NS.gl(d)}`,{"is-disabled s-is-disable":n}),u=function(e,t){const i=(0,a.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes,r=[];return i.forEach((e=>{const i=t.get(e);i&&r.push({title:i.attribute.title,isDate:!(0,a.isCatalogAttribute)(i)})})),r}(r,o),g=(0,a.isCatalogDateAttributeHierarchy)(r),m=l&&!g,p=g?t.formatMessage(Z.messages.hierarchyListGenericDateInfo):void 0;return R.createElement("div",{className:c,onClick:i},R.createElement("div",{className:"attribute-hierarchy-list-item-content s-attribute-hierarchy-list-item-content"},R.createElement(uD.ShortenedText,{className:"attribute-hierarchy-title s-attribute-hierarchy-title",tooltipAlignPoints:tA,displayTooltip:!n},d)),R.createElement("div",{className:"attribute-hierarchy-list-item-actions s-attribute-hierarchy-list-item-actions"},m?R.createElement("div",{className:"gd-icon-pencil attribute-hierarchy-item-edit-button s-attribute-hierarchy-item-edit-button",onClick:s}):null,R.createElement("div",{className:"attribute-hierarchy-list-item-description s-attribute-hierarchy-list-item-description"},R.createElement(xn.AttributeHierarchyDetailBubble,null,R.createElement(xn.AttributeHierarchyDetailPanel,{title:d,description:p,attributes:u,onEdit:m?s:void 0})))))})),aA=({hierarchies:e,onSelect:t,closeDropdown:i,onOpenAttributeHierarchyDialog:r})=>{const a=tD(),n=()=>{r(),i(),a.attributeHierarchiesInteraction("attributeHierarchyDrillDownCreateClicked")};return R.createElement(uD.DropdownList,{className:"hierarchies-dropdown-body s-hierarchies-dropdown-body",width:187,itemHeight:28,showSearch:!1,items:e,footer:()=>R.createElement(iA,{onClick:n}),renderItem:({item:e})=>R.createElement(rA,{item:e.hierarchy,isDisabled:e.isDisabled,onEdit:r,onClick:()=>{(e=>{e.isDisabled||t(e.hierarchy)})(e)},showBubble:e.isDisabled,bubbleTextId:ev.disableUsedDrillDownTooltip.id})})},nA=[{align:"bl tl",offset:{x:0,y:4}},{align:"tl bl",offset:{x:0,y:-4}}],oA=({config:e,attributeDescriptor:t,onSelect:i,onOpenAttributeHierarchyDialog:r})=>{const{formatMessage:n}=(0,FC.Z)(),o=qb(ls),l=qb(yc(e.widgetRef)),s=tD(),d=e.complete?o.find((t=>{const i=(0,a.isCatalogAttributeHierarchy)(t)?t.attributeHierarchy.ref:t.dateDatasetRef;return(0,a.areObjRefsEqual)(i,e.attributeHierarchyRef)})):null,c=function(e,t,i){const r=[];return t.forEach((t=>{const n=(0,a.isCatalogAttributeHierarchy)(t)?t.attributeHierarchy.ref:t.dateDatasetRef,o=(0,a.isCatalogAttributeHierarchy)(t)?t.attributeHierarchy.attributes:t.attributes,l=i.some((t=>vf(t,n,e?.attributeHeader.formOf.ref))),s=o.findIndex((t=>(0,a.objRefToString)(t)===e?.attributeHeader.formOf.identifier));s>=0&&s<o.length-1&&r.push({isDisabled:!l,hierarchy:t})})),r}(t,o,l),u=((0,a.isCatalogAttributeHierarchy)(d)?d?.attributeHierarchy.title:d?.title)??n(Z.messages.drilldownSelectHierarchy);return R.createElement(uD.Dropdown,{className:"drill-config-hierarchy-target-select s-drill-config-hierarchy-target-select",closeOnMouseDrag:!1,closeOnParentScroll:!0,closeOnOutsideClick:!0,alignPoints:nA,renderButton:({isOpen:t,toggleDropdown:i})=>R.createElement(uD.DropdownButton,{value:u,onClick:i,isOpen:t,isSmall:!1,iconLeft:e.complete?"gd-icon-attribute-hierarchy":"",className:"gd-button-small s-visualization-button-target-hierarchy"}),renderBody:({closeDropdown:e})=>R.createElement(aA,{hierarchies:c,closeDropdown:e,onOpenAttributeHierarchyDialog:r,onSelect:t=>{i(t),e(),s.attributeHierarchiesInteraction("attributeHierarchyDrillDownSelected")}})})},lA=({config:e,onSelect:t,onDeleteInteraction:i})=>{const r=qb(ls),n=tD(),{editingAttributeHierarchyRef:o,shouldDisplayAttributeHierarchyDialog:l,onDeleteAttributeHierarchy:s,onSaveAttributeHierarchy:d,onOpenAttributeHierarchyDialog:c,onCloseAttributeHierarchyDialog:u}=(e=>{const{onDeleteInteraction:t}=e,i=Kb(),r=Qb(),[a,n]=(0,R.useState)(!1),o=(0,R.useRef)();return{shouldDisplayAttributeHierarchyDialog:a,editingAttributeHierarchyRef:o,onOpenAttributeHierarchyDialog:e=>{o.current=e,n(!0)},onCloseAttributeHierarchyDialog:()=>{n(!1)},onSaveAttributeHierarchy:e=>{r(ti()),o.current&&e?i(Ia.updateAttributeHierarchy(e)):e&&(t(),i(Ia.addAttributeHierarchy(e)))},onDeleteAttributeHierarchy:()=>{o.current&&(i(Ia.deleteAttributeHierarchy(o.current)),r(ri()))}}})({onDeleteInteraction:i}),g=e.attributes.find((t=>t.attributeHeader.localIdentifier===e.originLocalIdentifier)),m=r.filter((e=>((0,a.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes).some((e=>(0,a.areObjRefsEqual)(e,g?.attributeHeader.formOf.ref))))),h=p(m)&&!e.complete;return R.createElement(R.Fragment,null,h?R.createElement(eA,{onOpenAttributeHierarchyDialog:c}):R.createElement(oA,{config:e,onSelect:t,attributeDescriptor:g,onOpenAttributeHierarchyDialog:e=>{e&&!(0,a.isCatalogAttributeHierarchy)(e)||c(e)}}),l?R.createElement(xn.AttributeHierarchyDialog,{initialAttributeRef:g?.attributeHeader.formOf.ref,editingAttributeHierarchy:o.current,onClose:u,onSaveOrUpdateSuccess:d,onDeleteSuccess:s,onAddAttributeClicked:()=>{n.attributeHierarchiesInteraction("attributeHierarchyAddAttributeClicked")},onCreateHierarchyClicked:()=>{n.attributeHierarchiesInteraction("attributeHierarchyCreateClicked")}}):null)},sA=e=>{const{item:t,onDeleteInteraction:i}=e,r=i=>{const r=(0,a.isCatalogAttributeHierarchy)(i)?i.attributeHierarchy.ref:i.dateDatasetRef,n={attributeHierarchyRef:t.attributeHierarchyRef,type:"drillDownAttributeHierarchy",attributes:t.attributes,originLocalIdentifier:t.originLocalIdentifier};e.onSetup(n,{...t,attributeHierarchyRef:r})},n=i=>{const r={localIdentifier:t.localIdentifier,transition:"pop-up",origin:dA(t),type:"drillToInsight",target:i.insight.ref};e.onSetup(r,{...t,insightRef:i.insight.ref})},o=i=>{const r=(0,a.idRef)(i.identifier,"analyticalDashboard"),n={localIdentifier:t.localIdentifier,transition:"in-place",origin:dA(t),type:"drillToDashboard",target:r};e.onSetup(n,{...t,dashboard:r})},l=i=>{if(AT(i)){const r={localIdentifier:t.localIdentifier,transition:"new-window",origin:dA(t),type:"drillToCustomUrl",target:{url:i.customUrl}};e.onSetup(r,{...t,urlDrillTarget:i})}if(PT(i)){const r={localIdentifier:t.localIdentifier,transition:"new-window",origin:dA(t),type:"drillToAttributeUrl",target:{hyperlinkDisplayForm:i.drillToAttributeDisplayForm,displayForm:i.insightAttributeDisplayForm}};e.onSetup(r,{...t,urlDrillTarget:i})}};switch(e.item.drillTargetType){case CT.DRILL_TO_DASHBOARD:return R.createElement(Jw,{selected:TT(t)?t.dashboard:void 0,onSelect:o});case CT.DRILL_TO_INSIGHT:return R.createElement($T,{insight:t,onSelect:n});case CT.DRILL_TO_URL:return R.createElement(Bw,{widgetRef:t.widgetRef,urlDrillTarget:RT(t)?t.urlDrillTarget:void 0,attributes:t.attributes,onSelect:l});case CT.DRILL_DOWN:return R.createElement(lA,{onSelect:r,onDeleteInteraction:i,config:t});case void 0:return null;default:!function(e){throw new Error(`unknown drill target type: ${e}`)}(e.item.drillTargetType)}return null};function dA(e){return"attribute"===e.type?{type:"drillFromAttribute",attribute:{localIdentifier:e.originLocalIdentifier}}:{type:"drillFromMeasure",measure:{localIdentifier:e.originLocalIdentifier}}}const cA=({item:e,enabledDrillTargetTypeItems:t,onIncompleteChange:i,onSetup:r,onDelete:n})=>{const o=(0,FC.Z)(),l=()=>{n(e)},s=dy("s-drill-config-item",`s-drill-config-item-${NS.gl(e.title)}`,{"s-drill-config-item-incomplete":!e.complete}),d=dy("s-drill-config-target","drill-config-target",{"drill-config-target-with-warning":!!e.warning}),c=qb(FD);(0,m.kG)(c,"mush have widget selected");const{isFromDateAttribute:u,showDateFilterTransferWarning:g}=function(e,t){const i=qb(ts),r=qb(Ig(t));return(0,R.useMemo)((()=>{const t=r?.availableDrillTargets?.attributes?.find((t=>t.attribute.attributeHeader.localIdentifier===e.originLocalIdentifier)),n=!!(t&&(0,a.isAttributeDescriptor)(t.attribute)&&i.some((e=>e.dateAttributes.some((e=>(0,a.areObjRefsEqual)(e.attribute.ref,t.attribute.attributeHeader.formOf.ref)))))),o="measure"===e.type&&e.attributes.some((e=>i.some((t=>t.dateAttributes.some((t=>(0,a.areObjRefsEqual)(t.attribute.ref,e.attributeHeader.ref)))))));return{isFromDateAttribute:n,isDateAttributeInIntersection:o,showDateFilterTransferWarning:e.drillTargetType===CT.DRILL_TO_DASHBOARD&&(n||o)}}),[r?.availableDrillTargets?.attributes,i,e.type,e.attributes,e.drillTargetType,e.originLocalIdentifier])}(e,c),p=function(e,t,i){const r=v(e);if(t){const e=r.findIndex((e=>e.id===CT.DRILL_DOWN));if(e>=0){const t=r[e];t.disabled=!0,t.disableTooltipMessage=i.formatMessage(Z.messages.drilldownTooltipDisabledMetric),r.splice(e,1,t)}}return r}(t,"measure"===e.type,o);return R.createElement("div",{className:s},R.createElement("div",{className:"drill-config-item-intro"},R.createElement(AI.Z,{id:"configurationPanel.drillConfig.clickHintItem",values:{addon:e=>R.createElement("span",{className:"addon"},e)}})),R.createElement(NT,{type:e.type,title:e.title,onDelete:l,isDateAttribute:u}),R.createElement("div",{className:d},R.createElement("div",{className:"drill-config-target-box"},R.createElement("div",{className:"drill-config-item-target"},R.createElement(AI.Z,{id:"configurationPanel.drillConfig.selectTarget"})),R.createElement(WT,{onSelect:t=>{i({...e,drillTargetType:t})},selection:e.drillTargetType,enabledDrillTargetTypeItems:p,isButtonDisabled:!1}),R.createElement(sA,{item:e,onSetup:r,onDeleteInteraction:l}),!!e.warning&&R.createElement("div",{className:"drill-config-target-warning s-drill-config-target-warning"},R.createElement("span",{className:"gd-icon-warning"}),R.createElement("span",null,R.createElement(AI.Z,{id:e.warning}))),g?R.createElement("div",{className:"drill-config-date-filter-warning s-drill-config-date-filter-warning"},R.createElement("span",null,R.createElement(AI.Z,{id:"configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning"}))):null)))},uA=e=>{const{drillConfigItems:t=[],disableDrillDown:i,onDelete:r,onSetup:a,onIncompleteChange:n}=e,o=(e=>{const t=[],i=(0,FC.Z)(),r=qb(Dl),a=qb(Il),n=qb(yl),o=qb(Gl),l=qb(zo);return r&&t.push({id:CT.DRILL_TO_DASHBOARD,title:i.formatMessage(ev.drillToDashboardConfig),tooltipMessage:Z.messages.drillToDashboardTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-into-dashboard/"}),a&&t.push({id:CT.DRILL_TO_INSIGHT,title:i.formatMessage(ev.drillIntoInsight),tooltipMessage:Z.messages.drillToInsightTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-into-insight/"}),o&&l&&t.push({id:CT.DRILL_DOWN,title:i.formatMessage(ev.drillDownConfig),disabled:e,disableTooltipMessage:e?i.formatMessage(ev.disableDrillDownToolTip):void 0,tooltipMessage:Z.messages.drilldownTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-down/"}),n&&t.push({id:CT.DRILL_TO_URL,title:i.formatMessage(ev.drillToUrlConfig),tooltipMessage:Z.messages.drillToUrlTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-into-hyperlink/"}),t})(i);return R.createElement("div",{className:"s-drill-config-list"},t.map(((e,i)=>{const l=((e,t)=>!e.complete&&t)(e,(e=>e===t.length-1)(i));return R.createElement(uD.ScrollableItem,{scrollIntoView:l,key:e.localIdentifier+e.drillTargetType},R.createElement(cA,{item:e,key:e.localIdentifier+e.drillTargetType,onDelete:r,onSetup:a,onIncompleteChange:n,enabledDrillTargetTypeItems:o}))})))},gA=e=>{const t=e.item.measure.measureHeaderItem.name;return R.createElement("a",{onClick:()=>{e.onClick(e.item),e.onCloseDropdown()},className:"gd-drill-measure-selector-list-item s-drill-measure-selector-item",title:t},t)},mA=e=>R.createElement("div",{className:"gd-drill-measure-selector-list"},e.supportedItems.map((t=>R.createElement(gA,{key:t.measure.measureHeaderItem.localIdentifier,item:t,onClick:e.onSelect,onCloseDropdown:e.onCloseDropdown})))),pA=e=>{const{item:t}=e,i=t.attribute.attributeHeader.formOf.name,r=qb(ts).some((e=>e.dateAttributes.some((e=>(0,a.areObjRefsEqual)(e.attribute.ref,t.attribute.attributeHeader.formOf.ref)))));return R.createElement("a",{onClick:()=>{e.onClick(t),e.onCloseDropdown()},className:dy("s-drill-attribute-selector-item",{"gd-drill-attribute-selector-list-item":!r,"gd-drill-attribute-date-selector-list-item":r}),title:i},i)},hA=e=>R.createElement("div",{className:"gd-drill-attribute-selector-list"},e.supportedItems.map((t=>R.createElement(pA,{key:t.attribute.attributeHeader.localIdentifier,item:t,onClick:e.onSelect,onCloseDropdown:e.onCloseDropdown})))),fA=e=>{const{supportedItems:t,onSelect:i,onCloseDropdown:r}=e;return t.measures?.length?R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-origin-selector-separator"},R.createElement("span",null,R.createElement(AI.Z,{id:"configurationPanel.drillConfig.measureValue"}))),R.createElement(mA,{supportedItems:t.measures,onSelect:i,onCloseDropdown:r})):null},bA=e=>{const{supportedItems:t,onSelect:i,onCloseDropdown:r}=e;return t.attributes?.length?R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-origin-selector-separator"},R.createElement("span",null,R.createElement(AI.Z,{id:"configurationPanel.drillConfig.attributeValue"}))),R.createElement(hA,{supportedItems:t.attributes,onSelect:i,onCloseDropdown:r})):null},DA=e=>{const{onCloseDropdown:t,onSelect:i,supportedItems:r}=e;return R.createElement("div",{className:"gd-drill-item-selector-dropdown s-drill-item-selector-dropdown",onScroll:e=>{e.stopPropagation()}},R.createElement("div",{className:"gd-drill-item-selector-header"},R.createElement(AI.Z,{id:"configurationPanel.drillConfig.clickHint"}),R.createElement("button",{className:"gd-button-link gd-button-icon-only gd-icon-cross",onClick:t})),R.createElement("div",{className:"gd-drill-item-selector-body"},R.createElement(fA,{supportedItems:r,onSelect:i,onCloseDropdown:t}),R.createElement(bA,{supportedItems:r,onSelect:i,onCloseDropdown:t})))},vA=[{align:"bl tl",offset:{x:0,y:4}},{align:"tl bl",offset:{x:0,y:-4}}],EA=e=>{const{items:t,widgetRef:i}=e,r=t=>{e.onSelect(t,i)},a=(0,FC.Z)(),{addInteractionClicked:n}=tD();return t.measures?.length||t.attributes?.length?R.createElement(uD.Dropdown,{className:"gd-drill-origin-selector",closeOnParentScroll:!0,closeOnMouseDrag:!1,closeOnOutsideClick:!0,alignPoints:vA,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(uD.DropdownButton,{value:a.formatMessage({id:"configurationPanel.drillConfig.addInteraction"}),iconLeft:"gd-icon-add",className:"s-drill-show-measures customizable",isOpen:e,onClick:()=>{t(),e||n()}}),renderBody:({closeDropdown:e})=>R.createElement(DA,{supportedItems:t,onSelect:r,onCloseDropdown:e})}):null};function yA(e){const{widget:t}=e,i=(0,FC.Z)(),[r,a]=(0,R.useState)(t.properties?.controls?.zoomInsight),n=Kb(),o=qb(Ju(t.insight));return o&&(0,xn.getInsightVisualizationMeta)(o).supportsZooming?R.createElement("div",{className:"s-zoom-and-pan zoom-and-pan-section configuration-category"},R.createElement(uD.Checkbox,{onChange:e=>{a(e),n(Mp(t.ref,{...t.properties,controls:{...t.properties?.controls,zoomInsight:e}}))},value:r,text:i.formatMessage({id:"configurationPanel.zoomInsight"})}),R.createElement(uD.BubbleHoverTrigger,{tagName:"abbr",hideDelay:1e3,showDelay:100},R.createElement("i",{className:"gd-button-link gd-icon-circle-question s-circle_question gd-button"}),R.createElement(uD.Bubble,{alignTo:".gd-icon-circle-question",alignPoints:[{align:"cr cl"}]},i.formatMessage({id:"configurationPanel.zoomInsight.help"}))),r?R.createElement(uD.Message,{type:"progress"},i.formatMessage({id:"configurationPanel.zoomInsight.notice"})):null):null}const IA=({widgetRef:e})=>{const{widget:t,insight:i,enableKDZooming:r,drillConfigItems:a,originSelectorItems:n,isOriginSelectorVisible:o,isLoaded:l,onChangeItem:s,onOriginSelect:d,onSetupItem:c,onDeleteItem:u}=MT({widgetRef:e});return R.createElement(R.Fragment,null,!!r&&R.createElement(yA,{widget:t}),R.createElement("div",{className:"configuration-category s-drill-config-panel"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement("span",null,R.createElement(AI.Z,{id:"configurationPanel.drillConfig.interactions"}))),R.createElement(uA,{disableDrillDown:i?.insight?.properties?.controls?.disableDrillDown,drillConfigItems:a,onDelete:u,onSetup:c,onIncompleteChange:s}),o?R.createElement(EA,{widgetRef:e,items:n,onSelect:d}):l?null:R.createElement("div",{className:"gd-spinner small"})))},CA=uD.OverlayController.getInstance(BS),SA=({widget:e})=>{const t=(0,a.isInsightWidget)(e)?NS.gl((0,a.objRefToString)(e.ref)):"",i=dy("configuration-scrollable-panel","s-configuration-scrollable-panel",`s-visualization-${t}`);return R.createElement(uD.ScrollablePanel,{className:i},R.createElement(uD.OverlayControllerProvider,{overlayController:CA},R.createElement(IA,{widgetRef:e.ref})))};function TA(e,{intl:t,dispatch:i,eventDispatch:r,includeInteractions:a=!0}){return ka([{type:"submenu",itemId:"ConfigurationPanelSubmenu",tooltip:"",itemName:t.formatMessage({id:"configurationPanel.title"}),icon:"gd-icon-settings",disabled:!1,className:"s-configuration-panel-submenu",SubmenuComponent:yT},a&&{type:"submenu",itemId:"InteractionPanelSubmenu",tooltip:"",itemName:t.formatMessage({id:"configurationPanel.interactions"}),icon:R.createElement(uD.Icon.Interaction,{className:"item-icon"}),disabled:!1,className:"s-configuration-panel-submenu",SubmenuComponent:SA,onClick:()=>r(Kt("interactionPanelOpened"))},{type:"separator",itemId:"InteractionPanelRemoveSeparator"},{type:"button",itemId:"InteractionPanelRemove",tooltip:"",itemName:t.formatMessage({id:"configurationPanel.remove.form.dashboard"}),icon:"gd-icon-trash",disabled:!1,className:"s-delete-insight-item",onClick:()=>i(fv(e.ref))}])}const wA=({maxLength:e,originalTitle:t,text:i,onTitleChange:r,onTitleEditingCancel:a=j,onTitleEditingStart:n=j})=>R.createElement(uD.EditableLabel,{className:"s-editable-label s-headline",maxRows:2,value:i,maxLength:e,placeholder:t,onEditingStart:n,onSubmit:r,onCancel:a},R.createElement("span",null,i)),AA=({widget:e,insight:t,clientHeight:i})=>{const r=Kb(),n=(0,R.useCallback)((i=>{i?r(Ap(e.ref,{title:i})):t&&r(Ap(e.ref,{title:(0,a.insightTitle)(t)}))}),[r,t,e.ref]),o=Math.max(e.title.length,200);return R.createElement(wS,{clientHeight:i},R.createElement(wA,{text:e.title,originalTitle:e.title,maxLength:o,onTitleChange:n}))},PA=({widget:e,insight:t,screen:i,onError:r,onExportReady:n,onLoadingChanged:o,dashboardItemClasses:l})=>{const s=(0,a.insightVisualizationType)(t),{isSelectable:d,isSelected:c,onSelected:u,closeConfigPanel:g,hasConfigPanelOpen:m}=iv((0,a.widgetRef)(e)),{menuItems:p}=(e=>{const{insight:t,widget:i,closeMenu:r}=e,a=(0,FC.Z)(),n=Kb(),o=Qb(),l=qb(Qo),{enableKPIDashboardDrillToURL:s,enableKPIDashboardDrillToDashboard:d,enableKPIDashboardDrillToInsight:c}=l,u=qb(Ig(i.ref)),g=s||d||c,m=u?.availableDrillTargets,p=g&&(!!m?.attributes?.length||!!m?.measures?.length),{insightMenuItemsProvider:h}=ty(),f=(0,R.useMemo)((()=>TA(i,{intl:a,dispatch:n,eventDispatch:o,includeInteractions:p})),[n,o,a,i,p]);return{menuItems:(0,R.useMemo)((()=>h?h(t,i,f,r,"edit"):f),[h,t,i,f,r])}})({closeMenu:g,insight:t,widget:e}),{InsightMenuComponentProvider:h,ErrorComponent:f,LoadingComponent:b}=ny(),D=(0,R.useMemo)((()=>h(t,e)),[h,t,e]),v=!qb(nE);return R.createElement(oS,{className:dy(l,"type-visualization","gd-dashboard-view-widget","is-edit-mode",cS(e.type,s),{"is-selected":c}),screen:i},R.createElement(fS,{isSelectable:d,isSelected:c,onSelected:u,renderHeadline:i=>!e.configuration?.hideTitle&&R.createElement(AA,{clientHeight:i,widget:e,insight:t}),renderAfterContent:()=>R.createElement(R.Fragment,null,!!c&&R.createElement("div",{className:"dash-item-action dash-item-action-lw-options",onClick:u}),!!m&&R.createElement(D,{insight:t,widget:e,isOpen:m,onClose:g,items:p})),contentClassName:dy({"is-editable":v}),visualizationClassName:dy({"is-editable":v})},(({clientHeight:i,clientWidth:a})=>R.createElement(RS,{clientHeight:i,clientWidth:a,insight:t,widget:e,onExportReady:n,onLoadingChanged:o,onError:r,ErrorComponent:f,LoadingComponent:b}))))},RA=ZE({view:e=>R.createElement(OS,{...e,Component:GS}),edit:e=>R.createElement(OS,{...e,Component:PA})}),FA=R.memo((function(e){const{onError:t,onFiltersChange:i,screen:r,widget:n,backend:o,index:l}=e;if(!(0,a.isDashboardWidget)(n))throw new Dr.UnexpectedError("Cannot render custom widget with DefaultWidgetRenderer! Please handle custom widget rendering in your widgetRenderer.");const s=(0,a.widgetRef)(n),d=Qb(),c=(0,Z.useBackendStrict)(o),u=(0,R.useMemo)((()=>{let e=!1;const t=(t,i)=>{e||(d(function(e,t,i){return{type:"GDC.DASH/EVT.WIDGET.EXECUTION_SUCCEEDED",correlationId:i,payload:{dataView:t,widgetRef:e}}}(s,t,i)),e=!0)},i=(t,i)=>{e||(d(function(e,t,i){return{type:"GDC.DASH/EVT.WIDGET.EXECUTION_FAILED",correlationId:i,payload:{widgetRef:e,error:t}}}(s,(0,Z.convertError)(t),i)),e=!0)};return function(e,t){return p(t)?e:(i=e,p(r={execution:e=>new tS.oO(e,(e=>new iS(e,t)))})?i:new eS(i,r));var i,r}(c,{beforeExecute:(t,i)=>{e=!1,d({type:"GDC.DASH/EVT.WIDGET.EXECUTION_STARTED",correlationId:i,payload:{widgetRef:s,executionDefinition:t}})},successfulResultReadAll:t,successfulResultReadWindow:(e,i,r,a)=>{t(r,a)},failedExecute:i,failedResultReadAll:i,failedResultReadWindow:(e,t,r,a)=>{i(r,a)}})}),[c,d,aS(s)]),g=`s-dash-item-${l}`;return(0,a.isWidget)(n)?R.createElement(Z.BackendProvider,{backend:u},(0,a.isInsightWidget)(n)?R.createElement(RA,{widget:n,screen:r,dashboardItemClasses:g}):R.createElement(sS,{kpiWidget:n,screen:r,dashboardItemClasses:g,onFiltersChange:i,onError:t})):R.createElement("div",null,"Unknown widget")}));var kA=i(32553);function xA(e){const t=Kb(),i=qb(Qo),{run:r}=$b({commandCreator:Rp,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",onSuccess:e=>{t(Va.setWidgetLoadingAdditionalDataStopped(e.payload.ref))},onError:e=>{t(Va.setWidgetLoadingAdditionalDataStopped(e.payload.command.payload.ref))}}),{run:n}=$b({commandCreator:sv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",onSuccess:e=>{const i=e.payload.items[0].widget.ref;t(Va.selectWidget(i)),t(Va.setConfigurationPanelOpened(!0)),t(Va.setWidgetDateDatasetAutoSelect(!0)),t(Va.setWidgetLoadingAdditionalDataStarted(i)),r(i,"default")}});return(0,R.useCallback)((r=>{const o=`insert-insight-list-item-${e}`,l=io(i,"insight",r);_E(t,rv(e,{},[{type:"IDashboardLayoutItem",size:{xl:{gridHeight:l.height.default,gridWidth:l.width.default}},widget:ic()}],!1,o)).then((()=>{n(e,0,{type:"IDashboardLayoutItem",widget:{type:"insight",insight:(0,a.insightRef)(r),ignoreDashboardFilters:[],drills:[],title:(0,a.insightTitle)(r),description:""},size:{xl:{gridHeight:l.height.default,gridWidth:l.width.default}}},void 0,!1,o)}))}),[t,n,e,i])}function LA(e){const t=Kb(),i=qb(Qo),{run:r}=$b({commandCreator:rv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED",onSuccess:e=>{const i=e.payload.section.items[0].widget.ref;t(Va.selectWidget((0,a.idRef)(jd))),t(Va.setConfigurationPanelOpened(!0)),t(Va.setWidgetDateDatasetAutoSelect(!0)),t(Va.setWidgetLoadingAdditionalDataStarted(i))}});return(0,R.useCallback)((()=>{const t=io(i,"kpi");r(e,{},[{type:"IDashboardLayoutItem",size:{xl:{gridHeight:t.height.default,gridWidth:t.width.default}},widget:Kd()}])}),[r,e,i])}function MA(e){const t=Kb(),i=qb(Qo),{run:r}=$b({commandCreator:rv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED",onSuccess:()=>{t(Va.selectWidget((0,a.idRef)(Yd))),t(Va.setConfigurationPanelOpened(!0))}});return(0,R.useCallback)((()=>{const t=ro(i);r(e,{},[{type:"IDashboardLayoutItem",size:{xl:{gridHeight:t.height.default,gridWidth:t.width.default}},widget:Zd()}])}),[r,e,i])}const OA={"insight-placeholder":"insight",insightListItem:"visualization","kpi-placeholder":"kpi"},NA=()=>{const e=Kb(),t=qb(xc),{EmptyLayoutDropZoneBodyComponent:i}=ny(),r=xA(0),a=LA(0),n=MA(0),[{canDrop:o,isOver:l,itemType:s,item:d},c]=tI(["insightListItem","kpi-placeholder","insight-placeholder"],{drop:e=>{Iy(e)&&r(e.insight),Ey(e)&&a(),yy(e)&&n()}},[e,t,r,a,n]),{gridWidth:u=12,gridHeight:g}=d?.size||{},m=R.createElement(AI.Z,{id:"newDashboard.dropInsight"}),p=OA[s];return R.createElement(kA.JX,{xl:u,lg:u,md:u,sm:u,xs:u,style:{minHeight:g?po(g):void 0},className:dy("drag-info-placeholder","dash-item",{[`type-${p}`]:!!p,"type-none":!p,"s-last-drop-position":o})},R.createElement("div",{className:dy("drag-info-placeholder-inner",{"can-drop":o,"is-over":l}),ref:c},R.createElement(i,null),R.createElement("div",{className:"drag-info-placeholder-drop-target s-drag-info-placeholder-drop-target"},R.createElement("div",{className:"drop-target-inner"},R.createElement(uD.Typography,{tagName:"p",className:"drop-target-message kpi-drop-target"},m),R.createElement(uD.Typography,{tagName:"p",className:"drop-target-message visualization-drop-target"},m)))))},_A=()=>R.createElement("div",{className:dy("drag-info-placeholder","dash-item","type-loading")},R.createElement(uD.LoadingDots,null)),HA=()=>R.createElement("div",null,"Missing renderer"),UA=()=>R.createElement("div",null,"Missing widget"),GA=e=>{const{WidgetComponentProvider:t,KpiWidgetComponentSet:i,InsightWidgetComponentSet:r}=ny(),{widget:n,index:o}=e,l=(0,R.useMemo)((()=>{if(!n)return console.warn("Attempting render an undefined widget."),UA;const e=t(n);return e&&e!==FA?e:Xd(n)?NA:Qd(n)?_A:Vd(n)&&i.creating?i.creating.CreatingPlaceholderComponent:qd(n)&&r.creating?r.creating.CreatingPlaceholderComponent:(0,a.isDashboardWidget)(n)?FA:(console.warn(`Unable to render widget ${S(n)}`),HA)}),[n]);return R.createElement(l,{...e,index:o})},BA=(0,Hb.b)(kI.Z),WA=({render:e,type:t,modifications:i,onHide:r})=>{const a=(0,FC.Z)(),n=i.includes("insertedByPlugin"),o=i.includes("modifiedByPlugin"),l=(0,PI.Fg)(),[s,d]=(0,R.useState)("none"),[c,u]=(0,R.useState)(0),g=dy("gd-fluidlayout-item-changed",{[t]:!0,[s]:!0,added:n,modified:o});return e&&(n||o)?R.createElement(BA,{client:!0,onResize:e=>{e.client&&(d(e.client.height<100?"small":"big"),u(e.client.height))}},(({measureRef:e})=>R.createElement("div",{className:g,ref:e},R.createElement("div",{className:"gd-fluidlayout-item-changed-content"},R.createElement("div",{className:"gd-fluidlayout-item-changed-icon",style:c?{height:c}:{}},R.createElement(VA,{color:l?.palette?.complementary?.c7})),R.createElement("div",{className:"gd-fluidlayout-item-changed-info"},R.createElement(zA,{added:n,modified:o})),R.createElement(uD.Button,{className:"gd-button gd-button-link",value:a.formatMessage({id:"layout.widget.hideOverlay"}),onClick:r}))))):null},zA=({added:e,modified:t})=>e?R.createElement(AI.Z,{id:"layout.widget.addedByPlugin"}):t?R.createElement(AI.Z,{id:"layout.widget.modifiedByPlugin"}):null,VA=({color:e})=>R.createElement("svg",{width:"29",height:"35",viewBox:"0 0 29 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R.createElement("path",{d:"M15.6264 2.50847C14.8954 2.26481 14.1052 2.26481 13.3742 2.50847L13.2559 2.54788C11.124 3.25852 10.1752 5.74192 11.2901 7.69306L11.8345 8.64571C12.6873 10.1381 11.3879 11.9409 9.70247 11.6038L2.30263 10.1238C2.16491 10.0963 2.03641 10.2016 2.03641 10.342V32.3544C2.03641 32.4773 2.13606 32.577 2.25898 32.577H25.7456C25.859 32.577 25.9543 32.4917 25.9668 32.379L26.7587 25.2513C26.7776 25.0818 26.6066 24.955 26.4499 25.0222L23.9499 26.0936C21.5157 27.1368 18.6851 26.2215 17.3226 23.9506C16.3163 22.2735 16.3163 20.1783 17.3226 18.5012C18.6851 16.2303 21.5157 15.315 23.9499 16.3582L26.4499 17.4296C26.6066 17.4968 26.7776 17.37 26.7587 17.2005L25.9937 10.3154C25.9791 10.1838 25.8535 10.0939 25.7242 10.1227L19.3749 11.5336C17.6773 11.9109 16.3383 10.0943 17.2011 8.58438L17.7105 7.69306C18.8254 5.74192 17.8766 3.25852 15.7447 2.54788L15.6264 2.50847ZM12.8111 0.819283C13.9076 0.453794 15.093 0.453794 16.1895 0.819283L16.3077 0.858699C19.5056 1.92465 20.9288 5.64975 19.2564 8.57646L18.7471 9.46779C18.6512 9.63555 18.8 9.8374 18.9886 9.79548L25.338 8.38451C26.5014 8.12598 27.6318 8.93425 27.7634 10.1187L28.5284 17.0039C28.6979 18.5293 27.1592 19.6708 25.7485 19.0662L23.2485 17.9948C21.6327 17.3024 19.7538 17.9099 18.8494 19.4173C18.1815 20.5305 18.1815 21.9213 18.8494 23.0345C19.7538 24.5419 21.6327 25.1495 23.2485 24.457L25.7485 23.3856C27.1592 22.781 28.6979 23.9225 28.5284 25.448L27.7364 32.5756C27.6237 33.59 26.7663 34.3575 25.7456 34.3575H2.25898C1.15269 34.3575 0.255859 33.4607 0.255859 32.3544V10.342C0.255859 9.07798 1.41231 8.12991 2.65183 8.37782L10.0517 9.85778C10.2389 9.89524 10.3833 9.69493 10.2886 9.52911L9.74419 8.57646C8.07178 5.64975 9.49501 1.92465 12.6929 0.858699L12.8111 0.819283Z",fill:e??"#687581"}));function jA(e){return e.items().map((e=>e.ref()))}const KA=e=>{const{item:t,screen:i,DefaultWidgetRenderer:r,onDrill:n,onFiltersChange:o,onError:l,getLayoutDimensions:s}=e,d=Kb(),c=qb(Qu),u=qb(Qo),g=qb(Wc),m=qb(ll),p=qb(Pl),h=_C(),f=t.widget(),b=y(f),D=!($d(f)||b),[{isDragging:v},E]=CI({dragItem:()=>function(e,t,i){const r=e.widget(),{sectionIndex:n,itemIndex:o}=NC(e),l=e.size(),s=1===e.section().items().count();if((0,a.isKpiWidget)(r)){const e=io(i,"kpi",r.kpi);return{type:"kpi",kpi:r.kpi,title:r.title,sectionIndex:n,itemIndex:o,isOnlyItemInSection:s,size:qA(l,e)}}if((0,a.isInsightWidget)(r)){const e=t.get(r.insight),a=io(i,"kpi",e);return{type:"insight",insight:e,sectionIndex:n,itemIndex:o,title:r.title,isOnlyItemInSection:s,size:qA(l,a)}}return{type:r.type,widget:r,sectionIndex:n,itemIndex:o,title:"",isOnlyItemInSection:s,size:qA(l)}}(t,c,u),canDrag:g&&D,dragStart:e=>{d(Va.setDraggingWidgetSource(e))},dragEnd:h},[t,c,g]),{ErrorComponent:I,LoadingComponent:C}=ny(),S=t.size()[i],T=go(f,S,c,u),w=S.heightAsRatio&&!S.gridHeight?((e,t)=>{const{gridWidth:i,heightAsRatio:r=1}=e;return fo[t]/Nn*i*(r/100)})(S,i):void 0,A=!!S.heightAsRatio,P=p?"custom-height":void 0,F=function(e){const t=e.section().index(),i=e=>!e||rc(e);let r=0;for(let a=0;a<t;a+=1)r+=e.section().layout().section(a)?.items().filter((e=>!i(e.widget()))).length??0;const a=e.section().items().filter((t=>t.index()<e.index()&&i(t.widget()))).length;return r+e.index()-a}(t),k=function(e){return[e.ref()]}(t),x=qb(XD(jA(t.section()))),L=qb($D(k)),M=qb(ZD(k)),{isActive:O,isResizingColumnOrRow:N,heightLimitReached:_,widthLimitReached:H}=function(e){const t=JI();return{isActive:t.resizeItemIdentifiers.includes(e),isResizingColumnOrRow:"none"!==t.resizeDirection,heightLimitReached:t.heightLimitReached,widthLimitReached:t.widthState?.limitReached??"none",initialDashboardDimensions:t.initialDashboardDimensions}}(f.identifier),U=(0,R.useRef)(null),G=g&&!v;return R.createElement(r,{DefaultWidgetRenderer:r,item:t,screen:i,allowOverflow:A,height:w,minHeight:T,className:P,contentRef:U,getLayoutDimensions:s},R.createElement("div",{ref:E,className:dy(["dashboard-widget-draggable-wrapper",{"gd-custom-widget-export":b&&m}])},R.createElement(GA,{index:F,screen:i,onDrill:n,onError:l,onFiltersChange:o,widget:f,ErrorComponent:I,LoadingComponent:C})),G&&!rc(f)?R.createElement(R.Fragment,null,R.createElement(GC,{isActive:O,isResizingColumnOrRow:N,reachedWidthLimit:H,reachedHeightLimit:_}),y(f)?null:R.createElement(R.Fragment,null,R.createElement(KC,{dropZoneType:"prev",itemIndex:t.index(),sectionIndex:t.section().index(),isLastInSection:!1}),R.createElement(KC,{dropZoneType:"next",itemIndex:t.index(),sectionIndex:t.section().index(),isLastInSection:t.isLast()}),R.createElement($C,{item:t,screen:i,getGridColumnHeightInPx:function(){return U?.current?U.current.getBoundingClientRect().height:YI},getGridColumnWidth:function(){const e=t.sizeForScreen(i)?.gridWidth;return(U?.current?U.current.getBoundingClientRect().width:100)/e},getLayoutDimensions:s}))):null,R.createElement(WA,{type:"column",onHide:()=>d(Va.toggleWidgetsOverlay({refs:[t.ref()],visible:!1})),render:Boolean(g&&M)&&!x.includes("insertedByPlugin"),modifications:L}))};function qA(e,t){return{gridWidth:e.xl?.gridWidth||t?.width.default||xn.WIDGET_DROPZONE_SIZE_INFO_DEFAULT.width.default,gridHeight:e.xl?.gridHeight||t?.height.default||xn.WIDGET_DROPZONE_SIZE_INFO_DEFAULT.height.default}}const YA=e=>{const{isLast:t}=e;return R.createElement("div",{className:dy("drag-info-placeholder","widget-dropzone-box","s-last-drop-position","type-kpi")},R.createElement("div",{className:dy("drag-info-placeholder-inner","can-drop","is-over")},R.createElement("div",{className:"drag-info-placeholder-drop-target"},R.createElement("div",{className:"drop-target-inner"},R.createElement(uD.Typography,{tagName:"p",className:"drop-target-message kpi-drop-target"},t?R.createElement(AI.Z,{id:"dropzone.widget.last.in.row.desc",values:{b:e=>R.createElement("b",null,e)}}):R.createElement(AI.Z,{id:"dropzone.widget.desc",values:{b:e=>R.createElement("b",null,e)}}))))))},ZA=e=>{const{isLastInSection:t,dropRef:i}=e;return R.createElement("div",{className:"widget-dropzone",ref:i},R.createElement(YA,{isLast:t}))},$A=e=>{const{sectionIndex:t,itemIndex:i,isLastInSection:r=!1}=e,a=qb(qD),n=BC(t,i),o=WC(t,i),l=zC(t,i),s=VC(t,i),d=Kb(),[c,u]=tI(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{drop:e=>{Iy(e)&&n(e.insight),Ey(e)&&l(),yy(e)&&o(),(by(e)||Dy(e))&&s(e)}},[d,n,o,l]);if(!(0,R.useMemo)((()=>a?.sectionIndex===t&&a?.itemIndex===i),[a?.itemIndex,a?.sectionIndex,i,t]))return null;const g=c.item.size;return R.createElement(kA.JX,{xl:g.gridWidth,lg:g.gridWidth,md:g.gridWidth,sm:g.gridWidth,xs:g.gridWidth,className:dy("gd-fluidlayout-column","gd-fluidlayout-column-dropzone","s-fluid-layout-column"),style:{minHeight:po(g.gridHeight)}},R.createElement(ZA,{isLastInSection:r,sectionIndex:t,itemIndex:i,dropRef:u}))},XA=e=>{const{item:t,screen:i}=e,r=qb(Wc),{sectionIndex:a,itemIndex:n}=NC(t);return t.isLast()&&r?R.createElement(R.Fragment,null,R.createElement($A,{screen:i,sectionIndex:a,itemIndex:n+1,isLastInSection:!0}),R.createElement("div",{className:dy("gd-fluidlayout-column","gd-fluidlayout-column-row-end-hotspot","s-fluid-layout-column",`s-fluid-layout-screen-${i}`)},R.createElement(KC,{dropZoneType:"next",isEndingHotspot:!0,itemIndex:n,sectionIndex:a,isLastInSection:t.isLast()}))):null},QA={height:0,width:0,overflow:"hidden",flex:0},JA=e=>{const{item:t,screen:i,children:r,className:a,minHeight:n=0,isHidden:o}=e,{size:l,ratio:s,width:d,height:c}=function(e,t){const i=e.size(),r=e.sizeForScreen(t),a=r?.heightAsRatio,n=r?.gridHeight,o=r?.gridWidth;return{height:n,width:o,ratio:a,size:i}}(t,i),u=(0,R.useMemo)((()=>{let e={minHeight:n};return o&&(e={...e,...QA}),e}),[n,o]);return R.createElement(kA.JX,{xl:l?.xl?.gridWidth,lg:l?.lg?.gridWidth,md:l?.md?.gridWidth,sm:l?.sm?.gridWidth,xs:l?.xs?.gridWidth,className:dy("gd-fluidlayout-column","s-fluid-layout-column",`s-fluid-layout-screen-${i}`,`s-fluid-layout-column-width-${d}`,{[`s-fluid-layout-column-ratio-${s}`]:!Mn(s),[`s-fluid-layout-column-height-${c}`]:!Mn(c)},a),style:u},r)},eP=ZE({view:JA,edit:e=>{const{item:t,screen:i,children:r}=e,{sectionIndex:a,itemIndex:n}=function(e){return{sectionIndex:e.section()?.index(),itemIndex:e.index()}}(t),o=function(e,t){const i=qb(KD);return(0,R.useMemo)((()=>!!i&&i.sectionIndex===e&&i.itemIndex===t),[i,e,t])}(a,n),l=C(t.widget());return R.createElement(R.Fragment,null,l?null:R.createElement($A,{screen:i,sectionIndex:a,itemIndex:n}),R.createElement(JA,{...e,className:dy({"current-dragging-item":o})},r),l?null:R.createElement(XA,{item:t,screen:i}))}});function tP(e){const{item:t,screen:i,debug:r,className:a,contentRef:n,isResizedByLayoutSizingStrategy:o,minHeight:l,height:s,allowOverflow:d,children:c}=e,{heightAsRatio:u,gridHeight:g}=t.size()[i],m=(0,R.useMemo)((()=>{const e={minHeight:l,height:s};return d&&(e.overflowX="hidden",e.overflowY="auto"),r&&(u?e.border=o?"dashed 1px #d6d6d6":"solid 1px green":e.outline="solid 1px yellow"),e}),[l,s,d,r,u,o]);return R.createElement("div",{ref:n,className:dy("gd-fluidlayout-column-container",a,{"custom-height":!!g}),style:m},c)}const iP=e=>R.createElement(eP,{...e});function rP(e){const{item:t,itemRenderer:i=iP,widgetRenderer:r,screen:a}=e,n={item:t,screen:a,DefaultWidgetRenderer:tP};return i({...e,DefaultItemRenderer:eP,children:r(n)})}const aP=({item:e})=>e.index().toString();function nP(e){const{section:t,itemKeyGetter:i=aP,gridRowRenderer:r,itemRenderer:a,widgetRenderer:n,screen:o,items:l,renderMode:s}=e,d=l.map((e=>R.createElement(rP,{key:i({item:e,screen:o}),item:e,itemRenderer:a,widgetRenderer:n,screen:o})));return R.createElement(kA.X2,{className:"gd-fluidlayout-row s-gd-fluid-layout-row"},r?r({children:d,screen:o,section:t,items:l,renderMode:s}):d)}const oP=e=>{const{description:t}=e,i=dy("gd-paragraph","description","s-fluid-layout-row-description");return R.createElement("div",{className:i},t)},lP=e=>{const{title:t,description:i,renderBeforeHeader:r,renderHeader:a}=e;return R.createElement("div",{className:"gd-fluid-layout-row-header s-fluid-layout-row-header"},r,R.createElement("div",{className:"gd-fluid-layout-row-header-container"},a??R.createElement("div",{className:"gd-row-header-view"},t?R.createElement("div",{className:"gd-row-header-title-wrapper"},R.createElement("span",{className:"title"},R.createElement(uD.Typography,{tagName:"h2",className:"s-fluid-layout-row-title"},t))):null,i?R.createElement(oP,{description:i}):null)))},sP={index:()=>0,raw:()=>null,widget:()=>null,ref:()=>{},section:()=>{},size:()=>({xl:{gridWidth:12}}),sizeForScreen:()=>({gridWidth:12}),isLast:()=>!0,widgetEquals:()=>!1,widgetIs:()=>!1,hasSizeForScreen:()=>!1,indexIs:()=>!1,isFirst:()=>!0,test:()=>!1,testRaw:()=>!1,isCustomItem:()=>!1,isInsightWidgetItem:()=>!1,isInsightWidgetDefinitionItem:()=>!1,isKpiWidgetItem:()=>!1,isKpiWidgetDefinitionItem:()=>!1,isLayoutItem:()=>!1,isWidgetItem:()=>!1,isWidgetDefinitionItem:()=>!1,isWidgetItemWithInsightRef:()=>!1,isWidgetItemWithKpiRef:()=>!1,isWidgetItemWithRef:()=>!1,isEmpty:()=>!1};function dP(e){const{section:t,screen:i}=e,r=t.header();return r?R.createElement(JA,{DefaultItemRenderer:JA,item:sP,screen:i},R.createElement(lP,{title:r.title,description:r.description})):null}const cP={height:0,width:0,overflow:"hidden",flex:0},uP={},gP=e=>{const{children:t,className:i,debug:r,isHidden:a}=e,n=a?cP:uP;return R.createElement("div",{className:dy(["gd-fluidlayout-row","s-fluid-layout-row",i],{"gd-fluidlayout-row-debug":r}),style:n},t)},mP=e=>{const{section:t}=e,i=Kb(),r=jA(t),a=qb(ZD(r)),n=qb(XD(r));return R.createElement(WA,{type:"column",onHide:()=>i(Va.toggleWidgetsOverlay({refs:t.items().map((e=>e.ref())),visible:!1})),render:a,modifications:n})};var pP=i(24976);function hP(){const[{canDrop:e}]=tI(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{},[]);return e}var fP=i(25387);const bP=e=>{const{status:t}=e,i=dy("s-gd-fluidlayout-height-resizer","gd-fluidlayout-height-resizer",t),r=dy("height-resizer-line",t);return R.createElement("div",{className:i},R.createElement("div",{className:r}))};function DP({section:e,items:t,screen:i,getLayoutDimensions:r}){const a=Kb(),n=qb(Qu),o=qb(Qo),{resizeDirection:l,resizeItemIdentifiers:s,resizeStart:d,resizeEnd:c,getScrollCorrection:u}=JI(),g=(0,R.useMemo)((()=>t.map((e=>e.widget()))),[t]),m=(0,R.useMemo)((()=>g.map((e=>e.identifier))),[g]),h=(0,R.useMemo)((()=>function(e){const t=e.filter((e=>C(e.widget()))),i=t.reduce(((e,t)=>{const{xl:{gridHeight:i=xn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT.height.default}}=t.size()??{xl:{}};return Math.max(e,i)}),0);return{allowHeightResize:t.length<e.length,heightLimit:t.length>0?i:0}}(t)),[t]),[{isDragging:f},b]=CI({dragItem:()=>{const a=r(),l=lo(g,n,h.heightLimit),s=so(g,n),d=function(e,t,i,r){return e.reduce(((e,a)=>{const n=a.sizeForScreen(i),o=go(a.widget(),n,t,r)??YI,l=xn.fluidLayoutDescriptor.toGridHeight(o);return[...e,a.sizeForScreen(i)?.gridHeight??l]}),[])}(t,n,i,o);return{type:"internal-height-resizer",sectionIndex:e.index(),itemIndexes:t.map((e=>e.index())),initialLayoutDimensions:a,widgetHeights:d,minLimit:l,maxLimit:s}},dragEnd:(e,t)=>{const i=u(),{sectionIndex:r,itemIndexes:o,widgetHeights:l}=e,s=lo(g,n,h.heightLimit),d=so(g,n),m=function(e,t,i,r,a){const n=Math.max(...e),o=xn.fluidLayoutDescriptor.toGridHeight(t-i);return Math.min(a,Math.max(r,n+o))}(l,t.getDifferenceFromInitialOffset()?.y||0,i.y,s,d);a(vv(r,o,m)),c()}},[g,n,h.heightLimit]);(0,R.useEffect)((()=>{f&&d("height",m)}),[f]);const D="none"!==l,v="width"===l,E=!p(s)&&!fP(s,m),[y,I]=(0,R.useState)(!1),S=(D||y)&&!v&&!E,T=f?"muted":"active";return R.createElement("div",{className:"dash-height-resizer-container s-dash-height-resizer-container"},h.allowHeightResize?R.createElement("div",{ref:b,className:"s-dash-height-resizer-hotspot dash-height-resizer-hotspot",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},S?R.createElement(bP,{status:T}):null):null)}const vP=({item:e})=>e.index().toString();function EP(e){const{section:t,itemKeyGetter:i=vP,gridRowRenderer:r,itemRenderer:a,widgetRenderer:n,getLayoutDimensions:o,screen:l,items:s,renderMode:d,itemsInRowsByIndex:c}=e,u=hP(),g=(0,R.useMemo)((()=>s.map((e=>R.createElement(rP,{key:i({item:e,screen:l}),item:e,itemRenderer:a,widgetRenderer:n,screen:l})))),[i,a,s,l,n]),m=(0,R.useMemo)((()=>u?g:pP(c).reduce(((e,[i,r])=>function(e,t,i,...r){const a=[];t>0&&a.push(...e.slice(0,t)),a.push(...r);const n=a.length-r.length,o=i<=0?n:n+i;return e[o]&&a.push(...e.slice(o)),a}(e,i+1,0,R.createElement(kA.JX,{xl:12,key:`HeightResizerHotspot-${i}`,style:{minHeight:0}},R.createElement(DP,{key:`HeightResizerHotspot-${i}`,screen:l,getLayoutDimensions:o,section:t,items:r})))),g)),[u,g,c,l,o,t]);return R.createElement(kA.X2,{className:"gd-fluidlayout-row s-gd-fluid-layout-row"},r?r({children:m,screen:l,section:t,items:s,renderMode:d}):m)}const yP=e=>R.createElement(gP,{...e}),IP=e=>R.createElement(dP,{...e}),CP=({item:e})=>e.index().toString();function SP(e){const{section:t,sectionRenderer:i=yP,sectionHeaderRenderer:r=IP,itemKeyGetter:a=CP,gridRowRenderer:n,itemRenderer:o,widgetRenderer:l,getLayoutDimensions:s,screen:d,renderMode:c}=e,u={section:t,screen:d,renderMode:c},g=(0,R.useMemo)((()=>{if("edit"===c){const e=t.items().asGridRows(d).map((e=>[La(e).index(),e])),i=t.items().all();return R.createElement(EP,{screen:d,itemsInRowsByIndex:e,section:t,items:i,gridRowRenderer:n,itemKeyGetter:a,itemRenderer:o,widgetRenderer:l,renderMode:c,getLayoutDimensions:s})}return Gi(t.items().asGridRows(d),((e,i)=>R.createElement(nP,{key:i.toString(),screen:d,section:t,items:e,gridRowRenderer:n,itemKeyGetter:a,itemRenderer:o,widgetRenderer:l,renderMode:c,getLayoutDimensions:s})))}),[s,n,a,o,c,d,t,l]);return i({...u,DefaultSectionRenderer:gP,children:R.createElement(R.Fragment,null,r({section:t,screen:d,DefaultSectionHeaderRenderer:dP}),g,"edit"===c?R.createElement(mP,{section:t}):null)})}(0,kA.Dg)({maxScreenClass:"xl",defaultScreenClass:void 0,gutterWidth:0,breakpoints:[321,641,1171,1591]});const TP=(e,t)=>t?e:Io(e),wP=({section:e})=>e.index().toString();function AP(e){const{layout:t,sectionKeyGetter:i=wP,sectionRenderer:r,sectionHeaderRenderer:a,itemKeyGetter:n,itemRenderer:o,widgetRenderer:l,gridRowRenderer:s,className:d,debug:c,onMouseLeave:u,enableCustomHeight:g,renderMode:m="view"}=e,p=R.useRef(null),{layoutFacade:h,resizedItemPositions:f}=(0,R.useMemo)((()=>{const e=TP(t,!!g),i=Vn.for(bo(e)),r=yo(t,i.raw());return{layoutFacade:i,resizedItemPositions:r}}),[t,g]),b=(0,R.useCallback)((e=>r?r({...e,debug:c}):R.createElement(e.DefaultSectionRenderer,{...e,debug:c})),[c,r]),D=(0,R.useCallback)((function(){return p?.current?p.current.getBoundingClientRect():ZI}),[]),v=(0,R.useCallback)((e=>{const t=f.some((t=>Ma(t,[e.item.section().index(),e.item.index()])));return l?l({...e,isResizedByLayoutSizingStrategy:t,debug:c,getLayoutDimensions:D}):R.createElement(e.DefaultWidgetRenderer,{...e,debug:c,isResizedByLayoutSizingStrategy:t,getLayoutDimensions:D})}),[c,f,l]);return R.createElement("div",{className:dy("gd-fluidlayout-container","s-fluid-layout-container","gd-dashboards",d),onMouseLeave:u,ref:p},R.createElement(kA.pV,{useOwnWidth:!1},R.createElement(kA.uq,{render:e=>{const t=e;return t?R.createElement(kA.W2,{fluid:!0,className:"gd-fluidlayout-layout s-fluid-layout"},h.sections().map((e=>R.createElement(SP,{key:i({section:e,screen:t}),section:e,sectionRenderer:b,sectionHeaderRenderer:a,itemKeyGetter:n,itemRenderer:o,gridRowRenderer:s,widgetRenderer:v,screen:t,renderMode:m,getLayoutDimensions:D})))):null}})))}const PP=e=>{const{active:t,className:i}=e,r=t?`var(--gd-palette-primary-base, ${uD.GD_COLOR_HIGHLIGHT})`:"#E6E6E6",a=t?uD.GD_COLOR_WHITE:uD.INFO_TEXT_COLOR;return R.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:i},R.createElement("g",{fill:"none",fillRule:"evenodd"},R.createElement("circle",{cx:"10",cy:"10",r:"10",fill:r}),R.createElement("path",{d:"M6.5 9.5H14c.2761424 0 .5.22385763.5.5 0 .2761424-.2238576.5-.5.5H6.5V14c0 .2761424-.22385763.5-.5.5-.27614237 0-.5-.2238576-.5-.5V6c0-.27614237.22385763-.5.5-.5.27614237 0 .5.22385763.5.5v3.5z",fill:a,fillRule:"nonzero"})))},RP=e=>{const{position:t,status:i}=e;return R.createElement("div",{className:dy("gd-fluidlayout-row-separator","s-fluidlayout-row-separator",t,i)},R.createElement(PP,{className:"gd-fluidlayout-row-separator-icon gd-fluidlayout-row-separator-icon-left",active:"active"===e.status}),R.createElement(PP,{className:"gd-fluidlayout-row-separator-icon gd-fluidlayout-row-separator-icon-right",active:"active"===e.status}))},FP=e=>R.createElement(R.Fragment,null,R.createElement(RP,{position:"top",status:e.status}),e.children,R.createElement(RP,{position:"bottom",status:e.status})),kP={height:0,width:0,overflow:"hidden",flex:0},xP={},LP=ZE({view:gP,edit:e=>{const{children:t,className:i,debug:r,isHidden:a,section:n}=e,o=a?kP:xP,l=function(e){const t=qb(UD);return hP()||t===e?"muted":"invisible"}(n.index());return R.createElement("div",{className:dy(["gd-fluidlayout-row","s-fluid-layout-row",i],{"gd-fluidlayout-row-debug":r}),style:o},R.createElement(FP,{status:l},t))}}),MP=[{align:"bl tl"}],OP={"bl tl":[0,7]},NP="bubble-primary";function _P({onEditingStart:e,maxLength:t,value:i,warningLimit:r,onCancel:a,alignTo:n,className:o,maxRows:l,placeholderMessage:s,children:d,onSubmit:c}){const u=(0,FC.Z)(),[g,m]=(0,R.useState)(i),[p,h]=(0,R.useState)(!1),f=t-g.length,b=t,D=u.formatMessage({id:"layout.header.characters.left"},{currentCharactersCount:f,maximumCharactersCount:b}),v=g.length,E=p&&t-v<=r,y=(0,R.useCallback)((()=>{h(!0),e?.()}),[e]),I=(0,R.useCallback)((()=>{h(!1),m(i),a?.()}),[a,i]),C=(0,R.useCallback)((e=>{h(!1),m(e),c(e)}),[c]),S=(0,R.useCallback)((e=>{m(e)}),[]);return R.createElement(R.Fragment,null,R.createElement(uD.EditableLabel,{className:o,maxRows:l,value:i,maxLength:t,placeholder:s,onEditingStart:y,onCancel:I,onChange:S,onSubmit:C},d),E?R.createElement(uD.Bubble,{alignTo:n,className:NP,alignPoints:MP,arrowOffsets:OP},D):null)}const HP=1024;function UP(e){const t=function(e){return e&&e.length>HP?e.substring(0,HP)+"...":e}(e.description),i=function(e){return e&&e.length>256?e.substring(0,256)+"...":e}(e.title),{index:r}=e,a=(0,FC.Z)(),n=Kb(),o=(0,R.useCallback)((e=>n(ov(r,{title:e},!0))),[n,r]),l=(0,R.useCallback)((e=>n(ov(r,{description:e},!0))),[n,r]),s=(0,R.useCallback)((()=>{n(Va.setActiveSectionIndex(r))}),[n,r]),d=(0,R.useCallback)((()=>{n(Va.clearActiveSectionIndex())}),[n]),c=(0,R.useCallback)((e=>{o(e),d()}),[o,d]),u=(0,R.useCallback)((e=>{l(e),d()}),[l,d]);return R.createElement("div",{className:"gd-row-header-edit"},R.createElement("div",{className:"gd-editable-label-container gd-row-header-title-wrapper"},R.createElement(_P,{className:`gd-title-for-${r} s-fluid-layout-row-title-input title gd-heading-2`,maxRows:10,value:i||"",maxLength:256,warningLimit:128,placeholderMessage:a.formatMessage({id:"layout.header.add.title.placeholder"}),alignTo:`.gd-title-for-${r}`,onSubmit:c,onEditingStart:s,onCancel:d})),R.createElement("div",{className:"gd-editable-label-container gd-row-header-description-wrapper"},R.createElement(_P,{className:`gd-description-for-${r} s-fluid-layout-row-description-input description`,alignTo:`.gd-description-for-${r}`,maxRows:15,value:t||"",maxLength:HP,warningLimit:512,placeholderMessage:a.formatMessage({id:"layout.header.add.description.placeholder"}),onSubmit:u,onEditingStart:s,onCancel:d})))}const GP=e=>{const{isOver:t}=e;return R.createElement("div",{className:"new-row-dropzone"},R.createElement(FP,{status:t?"active":"muted"},R.createElement("div",{className:dy("drag-info-placeholder","widget-dropzone-box","s-last-drop-position","type-kpi")},R.createElement("div",{className:dy("drag-info-placeholder-inner","can-drop",{"is-over":t})},R.createElement("div",{className:"drag-info-placeholder-drop-target"},R.createElement("div",{className:"drop-target-inner"},R.createElement(uD.Typography,{tagName:"p",className:"drop-target-message kpi-drop-target"},R.createElement(AI.Z,{id:"dropzone.new.row.desc",values:{b:e=>R.createElement("b",null,e),nbsp:R.createElement(R.Fragment,null," ")}}))))))))},BP=e=>{const{index:t,targetPosition:i}=e,r=Kb(),a=xA(t),n=LA(t),o=MA(t),l=function(e){const t=Kb();return(0,R.useCallback)((i=>t(gv(i.sectionIndex,i.itemIndex,e))),[t,e])}(t),{handleDragHoverEnd:s}=jC(),[{canDrop:d,isOver:c},u]=tI(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{drop:e=>{Iy(e)&&a(e.insight),by(e)&&l(e),yy(e)&&o(),Dy(e)&&l(e),Ey(e)&&n()},canDrop:e=>{if(fy(e)){const i=t===e.sectionIndex||t===e.sectionIndex+1;return!(e.isOnlyItemInSection&&i)}return!0}},[r,t,a,n,o]);if((0,R.useEffect)((()=>{c&&s()}),[s,c]),!d)return null;const g="below"===i,m=uy({isOver:c});return R.createElement("div",{className:dy("row-hotspot-container",{last:g&&d,"s-last-drop-position":g&&d,hidden:!d})},R.createElement("div",{className:dy("row-hotspot",{hidden:!d}),style:{...m},ref:u},!!c&&R.createElement(GP,{isOver:c})))},WP=ZE({view:dP,edit:function(e){const{section:t,screen:i}=e,r=t.header(),a=0===t.index()&&t.items().every((e=>Xd(e.widget()))),n=jA(t),o=qb(QD(n));return R.createElement(JA,{DefaultItemRenderer:JA,item:sP,screen:i},R.createElement(lP,{title:r?.title,description:r?.description,renderBeforeHeader:!a&&R.createElement(BP,{index:t.index(),targetPosition:"above"}),renderHeader:a||o?void 0:R.createElement(UP,{title:r?.title||"",description:r?.description||"",index:t.index()})}))}}),zP=ZE({view:()=>{const e=(0,FC.Z)(),{ErrorComponent:t}=ny();return R.createElement(t,{className:"s-layout-error",message:e.formatMessage({id:"dashboard.error.empty.heading"}),description:e.formatMessage({id:"dashboard.error.empty.text"})})},edit:NA}),VP=e=>{const t=e.item.widget();return(0,a.isWidget)(t)?(0,a.objRefToString)(t.ref):e.item.index().toString()},jP=e=>{const{onFiltersChange:t,onDrill:i,onError:r}=e,n=qb(hc),o=qb(Tc),l=qb(Pl),s=qb(Qu),d=qb(ll),c=qb(Gc),u=(0,R.useCallback)((e=>s.get(e)),[s]),g=(0,R.useMemo)((()=>(e=>(t,i)=>r=>{const n=r.facade().widget(),o=(0,a.isInsightWidget)(n)&&!!t(n.insight),l=`${Jr(r.facade().raw(),{space:0})}__${o}`;if(!e.has(l)){const n=Xr(function(e){return t=>t.widget((t=>{let i=t;if((0,a.isWidget)(i)&&(i={...i,ref:{...i.ref,uri:(0,a.widgetUri)(i),identifier:(0,a.widgetId)(i)}}),(0,a.isInsightWidget)(i)){const t=e(i.insight);t&&(i={...i,insight:{...i.insight,uri:(0,a.insightUri)(t),identifier:(0,a.insightId)(t)}})}return i}))}(t),function(e,t){return i=>{const r=i.facade().widget();if((0,a.isInsightWidget)(r)){const a=e(r.insight);(0,m.kG)(a,"Inconsistent insight store");const n=i.facade().size().xl,{gridWidth:o,gridHeight:l}=n,{validWidth:s,validHeight:d}=Co(o,l,"insight",a,{enableKDWidgetCustomHeight:t});if(o!==s||l!==d){const e=o!==s?{gridWidth:s}:{},t=l!==d?{gridHeight:d}:{};return i.size({xl:{...n,...e,...t}})}}return i}}(t,i))(r);e.set(l,n.build())}return r.setItem(e.get(l))})(new OC.z({max:100}))),[]),p=(0,R.useMemo)((()=>d?function(e){const t=Jn.for(e),i=t.facade().sections().map((e=>({items:e.items().asGridRows("xl"),header:e.header()})));return t.removeSections(),i.forEach((e=>{e.items.forEach(((i,r)=>{const a=i.map((e=>e.size().xl.gridHeight)),n=nn(a);t.createSection((t=>(i.forEach((i=>{0===r&&t.header(e.header),t.createItem({...i.size().xl,gridHeight:n},(e=>e.widget(i.widget())))})),t)))}))})),t.build()}(n):Jn.for(n).modifySections((e=>e.modifyItems(g(u,l)))).build()),[n,d,u,l,g]),h=(0,R.useCallback)((e=>R.createElement(KA,{onError:r,onDrill:i,onFiltersChange:t,...e})),[r,i,t]);if(o)return R.createElement(zP,null);const f=p.sections.length>1||p.sections[0].items.some((e=>!Xd(e.widget)));return R.createElement(R.Fragment,null,R.createElement(AP,{className:d?"export-mode":"",layout:p,itemKeyGetter:VP,widgetRenderer:h,enableCustomHeight:l,sectionRenderer:LP,sectionHeaderRenderer:WP,renderMode:c}),!!f&&R.createElement(BP,{index:p.sections.length,targetPosition:"below"}))};var KP=i(74806);class qP extends R.PureComponent{constructor(e){super(e);const t=this.getDefaultDashboardTitle();this.state={dashboardTitle:t}}getDefaultDashboardTitle(){return this.props.intl.formatMessage({id:"dialogs.save.as.new.default.title"},{title:this.props.dashboardTitle})}canCreateDashboard(){const{isDashboardLoaded:e,isDashboardSaving:t}=this.props;return e&&!t}handleTitleFocus=e=>{e.target.select()};handleTitleBlur=e=>{const t=e.target.value.trim();this.setState({dashboardTitle:""===t?this.getDefaultDashboardTitle():t})};handleTitleChange=e=>{this.setState({dashboardTitle:e})};onSubmit=()=>{const e=this.state.dashboardTitle.trim();this.canCreateDashboard()&&""!==e&&this.props.onSubmit(e,!0,!this.props.isInEditMode)};getNoteText=()=>{const{isKpiWidgetEnabled:e,isScheduleEmailsEnabled:t,intl:i}=this.props,r=xa(ka([e&&t&&ev.saveAsNewAlertsAndEmailsMessage.id,e&&!t&&ev.saveAsNewAlertsMessage.id,!e&&t&&ev.saveAsNewEmailsMessage.id]));return r?i.formatMessage({id:r}):""};render(){const{intl:{formatMessage:e},onCancel:t=j,isDashboardSaving:i}=this.props,{dashboardTitle:r}=this.state,a=this.getNoteText();return R.createElement(uD.ConfirmDialog,{onCancel:t,onSubmit:this.onSubmit,isPositive:!0,className:"s-dialog save-as-new-dialog",headline:e({id:"dialogs.save.as.new.title"}),cancelButtonText:e({id:"cancel"}),submitButtonText:e({id:"create.dashboard"}),isSubmitDisabled:i||""===r.trim()},R.createElement(uD.Typography,{tagName:"p",className:"dashboard-note"},e({id:"dialogs.save.as.new.desc"})),R.createElement("div",{className:"dashboard-title"},R.createElement(uD.Input,{autofocus:!0,maxlength:255,onFocus:this.handleTitleFocus,onBlur:this.handleTitleBlur,value:r,placeholder:this.getDefaultDashboardTitle(),onChange:this.handleTitleChange})),a?R.createElement(uD.Message,{type:"progress"},a):null)}}const YP=(0,KP.ZP)(qP),ZP=e=>R.createElement(qI,{locale:e.locale},R.createElement(YP,{...e}));function $P(){const{addSuccess:e,addError:t}=(0,uD.useToastMessage)(),i=Kb(),r=(0,R.useCallback)((()=>i(Va.closeSaveAsDialog())),[i]),a=qb(DD),n=(0,R.useCallback)((()=>{r(),t(ev.messagesDashboardSaveFailed)}),[r,t]),o=(0,R.useCallback)((()=>{r(),e(ev.messagesDashboardSaveSuccess)}),[r,e]);return{isVisible:a,onCancel:(0,R.useCallback)((()=>{r()}),[r]),onError:n,onSuccess:o}}const XP=e=>{const{onSubmit:t,onCancel:i,onError:r,isVisible:a,onSuccess:n}=e,{locale:o,dashboardTitle:l,isKpiWidgetEnabled:s,isScheduleEmailsEnabled:d,isDashboardSaving:c,isDashboardLoaded:u,handleSaveAs:g,isInEditMode:m}=(e=>{const{onSubmit:t,onSubmitSuccess:i,onSubmitError:r}=e,a=qb(Jo),n=qb(Du),o=qb(ml),l=qb(Fo),s=qb(nE),d=qb(Wc),c=$b({commandCreator:bi,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.COPY_SAVED",onError:e=>{r?.(e.payload.error)},onSuccess:e=>{i?.(e.payload.dashboard)},onBeforeRun:e=>{t?.(e.payload.title,e.payload.switchToCopy)}}),u=(0,R.useCallback)(((e,t=!1,i=!0)=>{c.run(e,t,i)}),[]);return{locale:a,dashboardTitle:n,isScheduleEmailsEnabled:o,isKpiWidgetEnabled:l.supportsKpiWidget??!1,isDashboardLoaded:!0,isDashboardSaving:s,isInEditMode:d,handleSaveAs:u,saveAsStatus:c.status}})({onSubmit:t,onSubmitSuccess:n,onSubmitError:r});return a?R.createElement(ZP,{locale:o,dashboardTitle:l,isKpiWidgetEnabled:s,isDashboardLoaded:u,isDashboardSaving:c,isScheduleEmailsEnabled:d,isInEditMode:m,onSubmit:g,onCancel:i}):null};var QP=i(57557),JP=i(91884);const eR="yyyy-MM-dd",tR=[{align:"bl tl"},{align:"tl bl"}],iR=5001,rR={WEEKLY:"weekly",DAILY:"daily",MONTHLY:"monthly",CUSTOM:"custom"},aR="day",nR="month",oR="week",lR=[aR,oR,nR],sR={DAY_OF_MONTH:"dayOfMonth",DAY_OF_WEEK:"dayOfWeek"},dR=e=>!p(e)&&"string"==typeof e.email,cR=e=>!p(e)&&"object"==typeof e.user;var uR=i(47960);function gR(e){return e.getDate()}function mR(e){return on(e,"eeee")}function pR(e,t){return qf(e.formatDate(t,{weekday:"long"}))}function hR(e){return 0===(t=e.getDay())?7:t;var t}function fR(e){return Math.ceil(e.getDate()/7)}const bR=["none","yearly","monthly","weekly","daily"],DR=["year","month","week","day","hour","minute","second"];function vR(e,t){for(const i in t)t.hasOwnProperty(i)&&(e[DR.indexOf(i)]=t[i])}function ER(e){const{repeatType:t,repeatFrequency:i,repeatPeriod:r,time:a}=e,n=[0,0,0,0,0,0,0],o=function(e,t){return e!==rR.CUSTOM?e:t.hasOwnProperty("day")?rR.DAILY:t.hasOwnProperty("week")?rR.WEEKLY:rR.MONTHLY}(t,i),l=bR.indexOf(o);if(o===rR.MONTHLY){const e=i.month;i.month?.type===sR.DAY_OF_WEEK?vR(n,{day:e.dayOfWeek.day,week:e.dayOfWeek.week}):i.month?.type===sR.DAY_OF_MONTH&&vR(n,{day:e.dayOfMonth})}else o===rR.WEEKLY?vR(n,{day:i.week.days.join(",")}):rR.DAILY;return n[l-1]=r,vR(n,a),[n.slice(0,l),n.slice(l,n.length)].map((e=>e.join(":"))).join("*")}function yR(e){e.repeatFrequency={day:!0}}function IR(e,t,i){let r;t===sR.DAY_OF_MONTH?r=gR(i):t===sR.DAY_OF_WEEK&&(r={day:hR(i),week:fR(i)}),e.repeatFrequency={month:{type:t,[t]:r}}}function CR(e,t){e.repeatFrequency={week:{days:[hR(t)]}}}function SR(e){const t=e.replace("*",":").split(":").map((e=>{if(-1!==e.indexOf(","))throw new Error("List items are not supported in recurrence string parsing");return parseInt(e)})),i=function(e){const t=e.findIndex(Un);if(-1===t)throw new Error("Invalid recurrence string");return t}(t),r=t[i];let a=rR.CUSTOM,n={};const o=1!==r;return 1===i&&(0===t[2]?(a=rR.CUSTOM,n={month:{type:sR.DAY_OF_MONTH,dayOfMonth:t[3]}}):(a=o?rR.CUSTOM:rR.MONTHLY,n={month:{type:sR.DAY_OF_WEEK,dayOfWeek:{day:t[3],week:t[2]}}})),2===i&&(a=o?rR.CUSTOM:rR.WEEKLY,n={week:{days:[t[3]]}}),3===i&&(a=o?rR.CUSTOM:rR.DAILY,n={day:!0}),{repeatType:a,repeatFrequency:n,repeatPeriod:r,time:{hour:t[4],minute:t[5],second:t[6]}}}const TR=e=>cR(e)?e.user.login:e.email,wR=e=>cR(e)?e.user.email:e.email,AR=e=>cR(e)?(0,a.userFullName)(e.user):e.email,PR=/[,;\s]/,RR=(e,t)=>e.email.split(t).map((e=>e.trim())).filter((e=>!p(e))).map((e=>({email:e}))),FR=-new Date(2011,0,1,0,0,0,0).getTimezoneOffset(),kR=-new Date(2011,5,1,0,0,0,0).getTimezoneOffset(),xR=[["Pacific/Midway","GMT-11:00 International Date Line West",-660,-660],["Pacific/Pago_Pago","GMT-11:00 Samoa",-660,-660],["Pacific/Honolulu","GMT-10:00 Hawaii",-600,-600],["America/Juneau","GMT-09:00 Alaska",-540,-480],["America/Los_Angeles","GMT-08:00 Pacific Time (US & Canada)",-480,-420],["America/Tijuana","GMT-08:00 Tijuana",-480,-420],["America/Phoenix","GMT-07:00 Arizona",-420,-420],["America/Chihuahua","GMT-07:00 Chihuahua",-420,-360],["America/Mazatlan","GMT-07:00 Mazatlan",-420,-360],["America/Denver","GMT-07:00 Mountain Time (US & Canada)",-420,-360],["America/Guatemala","GMT-06:00 Central America",-360,-360],["America/Chicago","GMT-06:00 Central Time (US & Canada)",-360,-300],["America/Mexico_City","GMT-06:00 Mexico City",-360,-300],["America/Monterrey","GMT-06:00 Monterrey",-360,-300],["America/Regina","GMT-06:00 Saskatchewan",-360,-360],["America/Bogota","GMT-05:00 Bogota",-300,-300],["America/New_York","GMT-05:00 Eastern Time (US & Canada)",-300,-240],["America/Indiana/Indianapolis","GMT-05:00 Indiana (East)",-300,-240],["America/Lima","GMT-05:00 Lima",-300,-300],["America/Caracas","GMT-04:30 Caracas",-270,-270],["America/Halifax","GMT-04:00 Atlantic Time (Canada)",-240,-180],["America/Guyana","GMT-04:00 Georgetown",-240,-240],["America/La_Paz","GMT-04:00 La Paz",-240,-240],["America/Santiago","GMT-04:00 Santiago",-180,-240],["America/St_Johns","GMT-03:30 Newfoundland",-210,-150],["America/Sao_Paulo","GMT-03:00 Brasilia",-120,-180],["America/Argentina/Buenos_Aires","GMT-03:00 Buenos Aires",-180,-180],["America/Godthab","GMT-03:00 Greenland",-180,-120],["Atlantic/South_Georgia","GMT-02:00 Mid-Atlantic",-120,-120],["Atlantic/Azores","GMT-01:00 Azores",-60,0],["Atlantic/Cape_Verde","GMT-01:00 Cape Verde Is.",-60,-60],["Africa/Casablanca","GMT+00:00 Casablanca",0,0],["Europe/Dublin","GMT+00:00 Dublin",0,60],["Europe/Lisbon","GMT+00:00 Lisbon",0,60],["Europe/London","GMT+00:00 London",0,60],["Africa/Monrovia","GMT+00:00 Monrovia",0,0],["Etc/UTC","GMT+00:00 UTC",0,0],["Europe/Amsterdam","GMT+01:00 Amsterdam",60,120],["Europe/Belgrade","GMT+01:00 Belgrade",60,120],["Europe/Berlin","GMT+01:00 Berlin",60,120],["Europe/Bratislava","GMT+01:00 Bratislava",60,120],["Europe/Brussels","GMT+01:00 Brussels",60,120],["Europe/Budapest","GMT+01:00 Budapest",60,120],["Europe/Copenhagen","GMT+01:00 Copenhagen",60,120],["Europe/Ljubljana","GMT+01:00 Ljubljana",60,120],["Europe/Madrid","GMT+01:00 Madrid",60,120],["Europe/Paris","GMT+01:00 Paris",60,120],["Europe/Prague","GMT+01:00 Prague",60,120],["Europe/Rome","GMT+01:00 Rome",60,120],["Europe/Sarajevo","GMT+01:00 Sarajevo",60,120],["Europe/Skopje","GMT+01:00 Skopje",60,120],["Europe/Stockholm","GMT+01:00 Stockholm",60,120],["Europe/Vienna","GMT+01:00 Vienna",60,120],["Europe/Warsaw","GMT+01:00 Warsaw",60,120],["Africa/Algiers","GMT+01:00 West Central Africa",60,60],["Europe/Zagreb","GMT+01:00 Zagreb",60,120],["Europe/Athens","GMT+02:00 Athens",120,180],["Europe/Bucharest","GMT+02:00 Bucharest",120,180],["Africa/Cairo","GMT+02:00 Cairo",120,180],["Africa/Harare","GMT+02:00 Harare",120,120],["Europe/Helsinki","GMT+02:00 Helsinki",120,180],["Europe/Istanbul","GMT+02:00 Istanbul",120,180],["Asia/Jerusalem","GMT+02:00 Jerusalem",120,180],["Europe/Kiev","GMT+02:00 Kyiv",120,180],["Europe/Minsk","GMT+02:00 Minsk",120,180],["Africa/Johannesburg","GMT+02:00 Pretoria",120,120],["Europe/Riga","GMT+02:00 Riga",120,180],["Europe/Sofia","GMT+02:00 Sofia",120,180],["Europe/Tallinn","GMT+02:00 Tallinn",120,180],["Europe/Vilnius","GMT+02:00 Vilnius",120,180],["Asia/Baghdad","GMT+03:00 Baghdad",180,180],["Asia/Kuwait","GMT+03:00 Kuwait",180,180],["Europe/Moscow","GMT+03:00 Moscow",180,240],["Africa/Nairobi","GMT+03:00 Nairobi",180,180],["Asia/Riyadh","GMT+03:00 Riyadh",180,180],["Asia/Tehran","GMT+03:30 Tehran",210,270],["Asia/Baku","GMT+04:00 Baku",240,300],["Asia/Muscat","GMT+04:00 Muscat",240,240],["Asia/Tbilisi","GMT+04:00 Tbilisi",240,240],["Asia/Yerevan","GMT+04:00 Yerevan",240,300],["Asia/Kabul","GMT+04:30 Kabul",270,270],["Asia/Yekaterinburg","GMT+05:00 Ekaterinburg",300,360],["Asia/Karachi","GMT+05:00 Karachi",300,300],["Asia/Tashkent","GMT+05:00 Tashkent",300,300],["Asia/Kolkata","GMT+05:30 Kolkata",330,330],["Asia/Colombo","GMT+05:30 Sri Jayawardenepura",330,330],["Asia/Kathmandu","GMT+05:45 Kathmandu",345,345],["Asia/Almaty","GMT+06:00 Almaty",360,360],["Asia/Dhaka","GMT+06:00 Dhaka",360,360],["Asia/Novosibirsk","GMT+06:00 Novosibirsk",360,420],["Asia/Rangoon","GMT+06:30 Rangoon",390,390],["Asia/Bangkok","GMT+07:00 Bangkok",420,420],["Asia/Jakarta","GMT+07:00 Jakarta",420,420],["Asia/Krasnoyarsk","GMT+07:00 Krasnoyarsk",420,480],["Asia/Shanghai","GMT+08:00 Beijing",480,480],["Asia/Chongqing","GMT+08:00 Chongqing",480,480],["Asia/Hong_Kong","GMT+08:00 Hong Kong",480,480],["Asia/Irkutsk","GMT+08:00 Irkutsk",480,540],["Asia/Kuala_Lumpur","GMT+08:00 Kuala Lumpur",480,480],["Australia/Perth","GMT+08:00 Perth",480,480],["Asia/Singapore","GMT+08:00 Singapore",480,480],["Asia/Taipei","GMT+08:00 Taipei",480,480],["Asia/Ulaanbaatar","GMT+08:00 Ulaan Bataar",480,480],["Asia/Urumqi","GMT+08:00 Urumqi",480,480],["Asia/Seoul","GMT+09:00 Seoul",540,540],["Asia/Tokyo","GMT+09:00 Tokyo",540,540],["Asia/Yakutsk","GMT+09:00 Yakutsk",540,600],["Australia/Adelaide","GMT+09:30 Adelaide",630,570],["Australia/Darwin","GMT+09:30 Darwin",570,570],["Australia/Brisbane","GMT+10:00 Brisbane",600,600],["Pacific/Guam","GMT+10:00 Guam",600,600],["Australia/Hobart","GMT+10:00 Hobart",660,600],["Australia/Melbourne","GMT+10:00 Melbourne",660,600],["Pacific/Port_Moresby","GMT+10:00 Port Moresby",600,600],["Australia/Sydney","GMT+10:00 Sydney",660,600],["Asia/Vladivostok","GMT+10:00 Vladivostok",600,660],["Asia/Kamchatka","GMT+11:00 Kamchatka",660,720],["Asia/Magadan","GMT+11:00 Magadan",660,720],["Pacific/Noumea","GMT+11:00 New Caledonia",660,660],["Pacific/Auckland","GMT+12:00 Auckland",780,720],["Pacific/Fiji","GMT+12:00 Fiji",780,720],["Pacific/Majuro","GMT+12:00 Marshall Is.",720,720],["Pacific/Tongatapu","GMT+13:00 Nuku'alofa",780,780]].map((e=>({identifier:e[0],title:e[1],januaryOffset:e[2],juneOffset:e[3]}))),LR=xR.find((e=>e.januaryOffset===FR&&e.juneOffset===kR)),MR=OR("Etc/UTC");function OR(e){return xR.find((t=>t.identifier===e))}const NR=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function _R(e){return NR.test(e)}const HR=()=>window.innerWidth<=640;class UR extends R.PureComponent{static defaultProps={className:"",hasError:!1,hasWarning:!1};constructor(e){super(e),this.state={rows:HR()?1:e.rows}}render(){const{className:e,label:t,maxlength:i,placeholder:r,value:a}=this.props,{rows:n}=this.state,o=dy(`gd-input-component gd-textarea-component ${e}`,{"gd-textarea-component-collapsed":1===n});return R.createElement("div",{className:o},R.createElement("label",{className:"gd-label"},t),R.createElement("label",{className:"gd-input"},R.createElement("textarea",{className:this.getTextareaClassNames(),maxLength:i,placeholder:r,value:a,rows:n,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus}),1===n?this.renderCollapseIndicator():null))}getTextareaClassNames=()=>{const{hasError:e,hasWarning:t}=this.props;return dy("gd-input-field",{"has-error":e,"has-warning":t})};onBlur=e=>{HR()&&this.setState({rows:1})};onChange=e=>{this.props.onChange(e.target.value)};onFocus=e=>{HR()&&this.setState({rows:this.props.rows})};renderCollapseIndicator=()=>R.createElement("span",{className:"gd-input-component-indicator"},"⋯")}const GR=e=>{const{onChange:t,repeatExecuteOn:i,startDate:r}=e,a=(0,FC.Z)(),n=(0,R.useMemo)((()=>[sR.DAY_OF_MONTH,sR.DAY_OF_WEEK].map((e=>{const t=(e=>{switch(e){case sR.DAY_OF_MONTH:return ev.scheduleDialogEmailRepeatsExecuteOn_dayOfMonth;case sR.DAY_OF_WEEK:return ev.scheduleDialogEmailRepeatsExecuteOn_dayOfWeek;default:throw new Error("Invariant: Unexpected localization key.")}})(e);return{id:e,title:a.formatMessage(t,{date:gR(r),day:pR(a,r),week:fR(r)})}}))),[a,r]),o=n.find((e=>e.id===i));return(0,m.kG)(o,"Inconsistent state in RepeatExecuteOnSelect"),R.createElement(uD.Dropdown,{alignPoints:tR,className:"gd-schedule-email-dialog-repeat-execute-on s-gd-schedule-email-dialog-repeat-execute-on",renderBody:({closeDropdown:e,isMobile:i})=>R.createElement(uD.DropdownList,{width:154,items:n,isMobile:i,renderItem:({item:i})=>R.createElement(uD.SingleSelectListItem,{title:i.title,onClick:()=>{t(i.id),e()},isSelected:o.id===i.id})}),renderButton:({toggleDropdown:e})=>R.createElement(uD.DropdownButton,{value:o.title,onClick:e}),overlayPositionType:"sameAsTarget",overlayZIndex:iR})},BR=e=>{const{onChange:t,repeatFrequency:i,repeatPeriod:r}=e,a=(0,FC.Z)(),n=(0,R.useMemo)((()=>lR.map((e=>{const t=(e=>{switch(e){case aR:return ev.scheduleDialogEmailRepeatsFrequencies_day;case nR:return ev.scheduleDialogEmailRepeatsFrequencies_month;case oR:return ev.scheduleDialogEmailRepeatsFrequencies_week;default:throw new Error("Invariant: Unexpected localization key.")}})(e);return{id:e,title:a.formatMessage(t,{n:r})}}))),[a,r]),o=n.find((e=>e.id===i));return(0,m.kG)(o,"Inconsistent state in RepeatFrequencySelect"),R.createElement(uD.Dropdown,{alignPoints:tR,className:"gd-schedule-email-dialog-repeat-frequency s-gd-schedule-email-dialog-repeat-frequency",renderButton:({toggleDropdown:e})=>R.createElement(uD.DropdownButton,{value:o.title,onClick:e}),renderBody:({closeDropdown:e,isMobile:i})=>R.createElement(uD.DropdownList,{width:100,items:n,isMobile:i,renderItem:({item:i})=>R.createElement(uD.SingleSelectListItem,{title:i.title,onClick:()=>{t(i.id),e()},isSelected:o.id===i.id})}),overlayPositionType:"sameAsTarget",overlayZIndex:iR})};class WR extends R.PureComponent{constructor(e){super(e),this.state={repeatPeriod:e.repeatPeriod||1}}render(){return R.createElement("div",{className:"gd-schedule-email-dialog-repeat-period"},R.createElement("input",{className:"gd-input-field",onBlur:this.onBlur,onChange:this.onChange,value:this.state.repeatPeriod}))}isInvalidValue=(e,t)=>""===e||isNaN(t)||t<=0;triggerChangeEvent=e=>{this.state.repeatPeriod!==e&&this.setState({repeatPeriod:e},(()=>this.props.onChange(e)))};onBlur=e=>{const t=e.target.value.trim(),i=parseInt(t,10);this.isInvalidValue(t,i)?this.setState({repeatPeriod:this.props.repeatPeriod||1}):this.triggerChangeEvent(i)};onChange=e=>{const t=e.target.value.trim(),i=parseInt(t,10);this.isInvalidValue(t,i)?this.setState({repeatPeriod:""}):this.triggerChangeEvent(i)}}const zR=e=>{const{onChange:t,repeatType:i,startDate:r}=e,a=(0,FC.Z)(),n=(0,R.useMemo)((()=>[rR.DAILY,rR.WEEKLY,rR.MONTHLY,rR.CUSTOM].map((e=>{const t=(e=>{switch(e){case rR.DAILY:return ev.scheduleDialogEmailRepeats_daily;case rR.WEEKLY:return ev.scheduleDialogEmailRepeats_weekly;case rR.MONTHLY:return ev.scheduleDialogEmailRepeats_monthly;case rR.CUSTOM:return ev.scheduleDialogEmailRepeats_custom;default:throw new Error("Invariant: Unexpected localization key.")}})(e);return{id:e,title:a.formatMessage(t,{day:pR(a,r),week:fR(r)})}}))),[a,r]),o=n.find((e=>e.id===i));return(0,m.kG)(o,"Inconsistent state in RepeatTypeSelect"),R.createElement(uD.Dropdown,{alignPoints:tR,className:"gd-schedule-email-dialog-repeat-type s-gd-schedule-email-dialog-repeat-type",renderButton:({toggleDropdown:e})=>R.createElement(uD.DropdownButton,{value:o.title,onClick:e}),renderBody:({closeDropdown:e,isMobile:i})=>R.createElement(uD.DropdownList,{width:199,items:n,isMobile:i,renderItem:({item:i})=>R.createElement(uD.SingleSelectListItem,{title:i.title,onClick:()=>{t(i.id),e()},isSelected:o.id===i.id})}),overlayPositionType:"sameAsTarget",overlayZIndex:iR})};class VR extends R.PureComponent{constructor(e){super(e);const{repeatExecuteOn:t,repeatFrequency:i,repeatPeriod:r,repeatType:a}=e;this.state={repeatExecuteOn:t,repeatFrequency:i,repeatPeriod:r,repeatType:a}}render(){const{label:e,startDate:t}=this.props,{repeatType:i}=this.state;return R.createElement("div",{className:"gd-input-component gd-schedule-email-dialog-repeat"},R.createElement("label",{className:"gd-label"},e),R.createElement("div",null,R.createElement(zR,{repeatType:i,startDate:t,onChange:this.onRepeatTypeChange}),this.renderCustomRepeat()))}onChange=()=>this.props.onChange(this.state);onRepeatTypeChange=e=>{this.state.repeatType!==e&&this.setState({repeatExecuteOn:sR.DAY_OF_MONTH,repeatFrequency:aR,repeatPeriod:1,repeatType:e},this.onChange)};renderCustomRepeat(){const{intl:e}=this.props,{repeatFrequency:t,repeatPeriod:i,repeatType:r}=this.state;return r!==rR.CUSTOM?null:R.createElement("div",{className:"gd-schedule-email-dialog-repeat-custom"},R.createElement("span",{className:"gd-schedule-email-dialog-repeat-every"},e.formatMessage({id:"dialogs.schedule.email.repeats.every"})),R.createElement(WR,{repeatPeriod:i,onChange:this.onRepeatPeriodChange}),R.createElement(BR,{repeatFrequency:t,repeatPeriod:i,onChange:this.onRepeatFrequencyChange}),R.createElement("div",{className:"break-the-row"}),this.renderRepeatExecuteOn())}onRepeatPeriodChange=e=>{this.state.repeatPeriod!==e&&this.setState({repeatPeriod:e},this.onChange)};onRepeatFrequencyChange=e=>{this.state.repeatFrequency!==e&&this.setState({repeatFrequency:e},this.onChange)};renderRepeatExecuteOn=()=>{const{startDate:e}=this.props,{repeatExecuteOn:t,repeatFrequency:i}=this.state;return i!==nR?null:R.createElement(GR,{repeatExecuteOn:t,startDate:e,onChange:this.onRepeatExecuteOnChange})};onRepeatExecuteOnChange=e=>{this.state.repeatExecuteOn!==e&&this.setState({repeatExecuteOn:e},this.onChange)}}const jR=(0,KP.ZP)(VR),KR=e=>{const{className:t="",label:i,maxlength:r,placeholder:a,value:n,onChange:o}=e,l=`gd-input-component ${t}`;return R.createElement("div",{className:l},R.createElement("label",{className:"gd-label"},i),R.createElement(uD.Input,{hasError:!1,maxlength:r,placeholder:a,value:n,onChange:o}))};class qR extends R.PureComponent{render(){const{date:e,dateFormat:t,label:i,locale:r,timezone:a,onDateChange:n,weekStart:o}=this.props;return R.createElement("div",{className:"gd-input-component gd-schedule-email-dialog-datetime s-gd-schedule-email-dialog-datetime"},R.createElement("label",{className:"gd-label"},i),R.createElement("div",null,R.createElement(uD.Datepicker,{date:e,dateFormat:t,locale:r,placeholder:t,resetOnInvalidValue:!0,onChange:n,weekStart:o}),R.createElement(uD.Timepicker,{className:"gd-schedule-email-dialog-datetime-time",maxVisibleItemsCount:5,skipNormalizeTime:!0,time:e,onChange:this.timeChange,overlayPositionType:"sameAsTarget",overlayZIndex:iR}),R.createElement("span",{className:"gd-schedule-email-dialog-datetime-timezone s-gd-schedule-email-dialog-datetime-timezone"},a)))}timeChange=e=>{this.props.onTimeChange({hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()})}}const YR=[{align:"bc tc",offset:{x:0,y:0}},{align:"tc bc",offset:{x:0,y:0}}],ZR=e=>{const{title:t,applyDisabled:i,onApply:r,onCancel:a,iconComponent:n,contentComponent:o,buttonClassName:l,bodyClassName:s,buttonDisabled:d}=e,c=(0,FC.Z)();return R.createElement(uD.Dropdown,{overlayPositionType:"sameAsTarget",alignPoints:tR,overlayZIndex:iR,ignoreClicksOnByClass:[".schedule-dropdown-ignore-click"],renderButton:({toggleDropdown:e})=>R.createElement(uD.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("a",{className:dy("gd-schedule-dropdown-button",l,{"gd-schedule-dropdown-button-disabled":!!d}),target:"_blank",rel:"noopener noreferrer",onClick:()=>{!d&&e()}},n?R.createElement("div",{className:"gd-schedule-dropdown-button-icon"},n):null,t),d?R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:YR},R.createElement(AI.Z,{id:"dialogs.schedule.email.attachment.select.disabled.message"})):null),renderBody:({closeDropdown:e})=>(e=>R.createElement("div",{className:"gd-dropdown overlay"},R.createElement("div",{className:dy("gd-schedule-dropdown-body",s)},R.createElement("div",{className:"gd-schedule-dropdown-header"},R.createElement("span",null,t)),R.createElement("div",{className:"gd-schedule-dropdown-content"},o),(e=>{const t=c.formatMessage({id:"gs.list.cancel"}),n=c.formatMessage({id:"gs.list.apply"});return R.createElement("div",{className:"gd-schedule-dropdown-footer"},R.createElement(uD.Button,{className:"gd-button-secondary gd-button-small",value:t,onClick:()=>{a?.(),e()}}),R.createElement(uD.Button,{className:"gd-button-action gd-button-small",disabled:i,value:n,onClick:()=>{r?.(),e()}}))})(e))))(e)})},$R=e=>{const{dashboardTitle:t,insightWidgets:i=[],onApply:r}=e,n=(0,FC.Z)(),o=(0,PI.Fg)(),l=o?.palette?.complementary?.c5,s={color:l,height:19,width:26},[d,c]=(0,R.useState)(e.dashboardSelected),[u,g]=(0,R.useState)(e.widgetsSelected),m=(0,R.useCallback)((e=>{const t=(0,a.objRefToString)(e);g({...u,[t]:!u[t]})}),[u]),p=(0,R.useCallback)((()=>{r(d,u)}),[r,d,u]),h=(0,R.useCallback)((()=>{c(e.dashboardSelected),g(e.widgetsSelected)}),[e.dashboardSelected,e.widgetsSelected]),f=(d||Object.values(u).some(Un))&&(d!=e.dashboardSelected||JSON.stringify(u)!==JSON.stringify(e.widgetsSelected));return R.createElement(ZR,{title:n.formatMessage({id:"dialogs.schedule.email.attachment.select"}),applyDisabled:!f,onApply:p,onCancel:h,buttonClassName:"s-schedule-select-attachments-button",bodyClassName:"s-schedule-select-attachments-body",buttonDisabled:0===i.length,iconComponent:R.createElement(uD.Icon.AttachmentClip,{color:l,width:18,height:18}),contentComponent:R.createElement("div",{className:"gd-attachments-selection-dropdown"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"dialogs.schedule.email.attachment.select.dashboard.header"})),R.createElement("div",null,R.createElement("label",{className:"input-checkbox-label s-schedule-dashboard-attachment-label"},R.createElement("input",{type:"checkbox",className:"input-checkbox",checked:d,onChange:e=>c(e.target.checked)}),R.createElement(uD.Icon.Dashboard,{...s}),R.createElement("span",{title:t,className:"input-label-text"},t))),R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"dialogs.schedule.email.attachment.select.widgets.header"})),i.map((e=>R.createElement("div",{key:(0,a.objRefToString)(e)},R.createElement("label",{className:"input-checkbox-label s-schedule-widget-attachment-label"},R.createElement("input",{type:"checkbox",className:"input-checkbox",checked:u[(0,a.objRefToString)(e)],onChange:()=>m(e)}),R.createElement(uD.InsightIcon,{visualizationUrl:e.visualizationUrl,iconProps:s}),R.createElement("span",{title:e.title,className:"input-label-text"},e.title))))))})},XR=e=>{const{onApply:t}=e,i=(0,FC.Z)(),r=(0,PI.Fg)(),a=["csv","xlsx"],[n,o]=(0,R.useState)(e.format),[l,s]=(0,R.useState)(e.mergeHeaders),[d,c]=(0,R.useState)(e.includeFilters),u=n!==e.format||l!==e.mergeHeaders||d!==e.includeFilters,g=(0,R.useCallback)((()=>t({format:n,mergeHeaders:l,includeFilters:d})),[n,l,d,t]),m=(0,R.useCallback)((()=>{o(e.format),s(e.mergeHeaders),c(e.includeFilters)}),[e.format,e.mergeHeaders,e.includeFilters]);return R.createElement(ZR,{title:i.formatMessage({id:"dialogs.schedule.email.format.options"}),applyDisabled:!u,onApply:g,onCancel:m,buttonClassName:"s-schedule-format-options-button",bodyClassName:"s-schedule-format-options-body",iconComponent:R.createElement(uD.Icon.SettingsGear,{color:r?.palette?.complementary?.c6,width:18,height:18}),contentComponent:R.createElement("div",{className:"gd-format-options-dropdown"},R.createElement("div",{className:"gd-format-options-dropdown-selector"},R.createElement("span",{className:"input-label-text"},R.createElement(AI.Z,{id:"dialogs.schedule.email.insight.format"})),R.createElement("div",null,R.createElement(uD.Dropdown,{overlayPositionType:"sameAsTarget",className:"s-format-options-dropdown",alignPoints:tR,overlayZIndex:iR,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(uD.DropdownButton,{className:"s-format-options-format-dropdown-button",value:n.toUpperCase(),isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{width:70,items:a,renderItem:({item:t})=>R.createElement(uD.SingleSelectListItem,{className:"s-format-options-dropdown-content schedule-dropdown-ignore-click",title:t.toUpperCase(),onClick:()=>{o(t),e()}})})}))),"xlsx"===n&&R.createElement("div",{className:"gd-format-options-dropdown-xlsx"},R.createElement("div",null,R.createElement("label",{className:"input-checkbox-label"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-attachments-merge-headers",checked:l,onChange:e=>s(e.target.checked)}),R.createElement("span",{className:"input-label-text"},R.createElement(AI.Z,{id:"dialogs.schedule.email.attribute.merged"})))),R.createElement("div",null,R.createElement("label",{className:"input-checkbox-label s-attachments-include-filters"},R.createElement("input",{type:"checkbox",className:"input-checkbox",checked:d,onChange:e=>c(e.target.checked)}),R.createElement("span",{className:"input-label-text"},R.createElement(AI.Z,{id:"dialogs.schedule.email.show.filters"}))))))})},QR=({format:e,children:t})=>R.createElement("div",{"aria-label":"dashboard-attachment",className:"gd-dashboard-attachment s-gd-dashboard-attachment"},R.createElement("span",{className:"gd-dashboard-attachment-format"},e),R.createElement("span",{className:"gd-dashboard-attachment-name"},t)),JR=e=>{const{dashboardTitle:t,dashboardSelected:i,widgetsSelected:r,insightWidgets:n=[],configuration:o,canExportTabular:l,onAttachmentsSelectionChanged:s,onAttachmentsConfigurationChanged:d}=e,c=Object.values(r).some(Un),u=n.filter((e=>r[(0,a.objRefToString)(e)])).map((e=>e.title));return R.createElement("div",{className:"gd-input-component gd-schedule-email-attachments s-schedule-email-attachments"},R.createElement("label",{className:"gd-label"},R.createElement(AI.Z,{id:"dialogs.schedule.email.attachments.label"})),R.createElement("div",{className:"gd-dashboard-attachment-list"},R.createElement("div",{className:"gd-dashboard-attachment-list-content"},i?R.createElement(QR,{format:"pdf"},R.createElement("span",{className:"shortened-name"},t)):null,0!==u.length?R.createElement(QR,{format:o.format},R.createElement("span",{className:"shortened-name",title:u.join(",\n")},u.join(", ")),u.length>1?R.createElement("span",null,`(${u.length})`):null):null),l?R.createElement("div",{className:"gd-schedule-email-dialog-attachments"},R.createElement($R,{dashboardTitle:t,dashboardSelected:i,insightWidgets:n,widgetsSelected:r,onApply:s}),c?R.createElement(XR,{format:o.format,mergeHeaders:o.mergeHeaders,includeFilters:o.includeFilters,onApply:d}):null):null))};var eF=i(77082),tF=i(48962),iF=i(65342),rF=i(1413),aF=i(42982),nF=i(45987),oF=i(18989),lF=i(8855),sF=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],dF=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),r=String(t.getOptionValue(e)).toLowerCase(),a=String(t.getOptionLabel(e)).toLowerCase();return r===i||a===i},cF={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,i,r){return!(!e||t.some((function(t){return dF(e,t,r)}))||i.some((function(t){return dF(e,t,r)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};i(44556),i(73469);var uF=(0,eF.forwardRef)((function(e,t){var i,r,a,n,o,l,s,d,c,u,g,m,p,h,f,b,D,v,E,y,I,C,S,T,w,A,P,R,F=(i=(0,iF.u)(e),r=i.allowCreateWhileLoading,a=void 0!==r&&r,n=i.createOptionPosition,o=void 0===n?"last":n,l=i.formatCreateLabel,s=void 0===l?cF.formatCreateLabel:l,d=i.isValidNewOption,c=void 0===d?cF.isValidNewOption:d,u=i.getNewOptionData,g=void 0===u?cF.getNewOptionData:u,m=i.onCreateOption,p=i.options,h=void 0===p?[]:p,f=i.onChange,b=(0,nF.Z)(i,sF),D=b.getOptionValue,v=void 0===D?tF.g:D,E=b.getOptionLabel,y=void 0===E?tF.b:E,I=b.inputValue,C=b.isLoading,S=b.isMulti,T=b.value,w=b.name,A=(0,oF.useMemo)((function(){return c(I,(0,lF.H)(T),h,{getOptionValue:v,getOptionLabel:y})?g(I,s(I)):void 0}),[s,g,y,v,I,c,h,T]),P=(0,oF.useMemo)((function(){return!a&&C||!A?h:"first"===o?[A].concat((0,aF.Z)(h)):[].concat((0,aF.Z)(h),[A])}),[a,o,C,A,h]),R=(0,oF.useCallback)((function(e,t){if("select-option"!==t.action)return f(e,t);var i=Array.isArray(e)?e:[e];if(i[i.length-1]!==A)f(e,t);else if(m)m(I);else{var r=g(I,I),a={action:"create-option",name:w,option:r};f((0,lF.D)(S,[].concat((0,aF.Z)((0,lF.H)(T)),[r]),r),a)}}),[g,I,S,w,A,m,f,T]),(0,rF.Z)((0,rF.Z)({},b),{},{options:P,onChange:R}));return eF.createElement(tF.S,(0,U.Z)({ref:t},F))}));const{Menu:gF,Input:mF}=lF.c,pF=[{align:"cr cl"}];class hF extends R.PureComponent{recipientRef=R.createRef();componentDidMount(){const{current:e}=this.recipientRef;if(!e)return;const t=e.querySelector(".gd-owner-user"),i=this.getStyle();t&&i&&t.setAttribute("style",`max-width: ${i.maxWidth}px`)}render(){const{isMulti:e,options:t,value:i}=this.props,r={...lF.c,IndicatorsContainer:this.renderEmptyContainer,Input:this.renderInputContainer,MultiValueContainer:this.renderMultiValueContainer,Menu:this.renderMenuOptions,Placeholder:this.renderEmptyContainer,SingleValue:this.renderSingleValueContainer,NoOptionsMessage:this.renderNoOptionsContainer};return R.createElement("div",{className:"gd-input-component gd-recipients-field s-gd-schedule-email-dialog-recipients"},R.createElement("label",{className:"gd-label"},R.createElement(AI.Z,{id:"dialogs.schedule.email.to.label"})),R.createElement("div",{ref:this.recipientRef,className:"gd-input s-gd-recipients-value"},R.createElement(uF,{className:"gd-recipients-container",classNamePrefix:"gd-recipients",components:r,getNewOptionData:this.getNewOptionData,formatOptionLabel:this.renderOptionLabel,isClearable:!1,isDisabled:!e,isMulti:e,onChange:this.handleOnChange,onInputChange:this.onSearch,onMenuOpen:this.onMenuOpen,options:t,value:i,getOptionValue:TR,getOptionLabel:wR})))}renderEmptyContainer=()=>null;getStyle(){const{current:e}=this.recipientRef,{width:t}=!p(e)&&e.getBoundingClientRect()||{width:void 0};return{maxWidth:t?t-16-21:"100%"}}renderNoOptionsContainer=e=>{const{selectProps:{inputValue:t}}=e;return t?R.createElement(uD.Message,{className:"gd-recipient-existed s-gd-recipient-existed",type:"warning",contrast:!0},R.createElement(AI.Z,{id:"options.menu.schedule.email.recipient.warning.existed"})):this.renderEmptyContainer()};renderMenuOptions=e=>{const{isLoading:t,author:i}=this.props,{options:r,getValue:a,selectProps:{inputValue:n}}=e,o=a()||[],l=o.length,s=r.length&&r.every((e=>cR(e)&&Ma(e,i)||this.isRecipientAdded(o,wR(e))));return t?this.renderLoadingIcon(e):!n&&(l>=60||s)?this.renderEmptyContainer():this.renderMenuOptionsContainer(e)};renderMenuOptionsContainer=e=>R.createElement(gF,{className:"s-gd-recipients-menu-container",...e},e.children);renderLoadingIcon=e=>R.createElement(gF,{className:"s-gd-recipients-menu-container",...e},R.createElement(uD.LoadingMask,{height:50}));currentUserIsAuthor(){const{currentUser:e,author:t}=this.props;return cR(t)&&(0,a.areObjRefsEqual)(t.user.ref,e.ref)}renderOwnerValueContainer=(e,t)=>{const{isMulti:i}=this.props,r=i?"multiple-value":"single-value",a=this.currentUserIsAuthor()?e:t;return R.createElement("div",{style:this.getStyle(),className:`gd-recipient-value-item s-gd-recipient-value-item ${r} gd-owner-user`},R.createElement("div",{className:"gd-recipient-label"},a))};renderMultiValueItemContainer=(e,t)=>R.createElement("div",{className:"gd-recipient-value-item s-gd-recipient-value-item multiple-value"},R.createElement("div",{style:this.getStyle(),className:"gd-recipient-label"},e),R.createElement("div",{"aria-label":"remove-icon",className:"s-gd-recipient-remove"},t));renderErrorValueContainer=(e,t,i)=>R.createElement("div",{className:"gd-recipient-value-item s-gd-recipient-value-item multiple-value not-valid"},R.createElement(uD.BubbleHoverTrigger,{className:"gd-recipient-not-valid-bubble",showDelay:0,hideDelay:0},R.createElement("div",{className:"recipient-item-not-valid"},R.createElement("div",{style:this.getStyle(),className:"gd-recipient-label"},e),R.createElement("div",{className:"s-gd-recipient-remove"},t)),R.createElement(uD.Bubble,{className:"bubble-negative s-gd-recipient-not-valid-email",alignPoints:pF},R.createElement(AI.Z,{id:i}))));renderSingleValueContainer=e=>{const{data:t}=e,i=AR(t),r=wR(t);return this.renderOwnerValueContainer(i,r)};renderMultiValueContainer=e=>{const{data:t,children:i}=e,r=i[1];if(cR(t)&&Ma(t,this.props.author)){const e=AR(t),i=wR(t);return this.renderOwnerValueContainer(e,i)}const a=wR(t);return _R(a)?this.currentUserIsAuthor()||!dR(t)||this.isOriginalExternalRecipient(t)?this.renderMultiValueItemContainer(a,r):this.renderErrorValueContainer(a,r,ev.scheduleEmailOptionRecepientExternalNotAllowed.id):this.renderErrorValueContainer(a,r,ev.scheduleEmailOptionRecepientInvalid.id)};isOriginalExternalRecipient(e){return this.props.originalValue.some((t=>dR(t)&&t.email===e.email))}renderOptionLabel=e=>{const t=wR(e),i=dR(e);return i&&this.props.options.some((e=>wR(e)===t))?null:_R(t)&&i?this.currentUserIsAuthor()?R.createElement("div",{className:"s-gd-recipient-option-item s-recipient-not-in-workspace-warning"},R.createElement(uD.Message,{type:"warning",contrast:!0},R.createElement(AI.Z,{id:"options.menu.schedule.email.recipient.warning.belong.workspace"}))):R.createElement("div",{className:"s-gd-recipient-option-item s-external-recipient-not-allowed"},R.createElement(uD.Message,{type:"error",contrast:!0},R.createElement(AI.Z,{id:"options.menu.schedule.email.recipient.external.not.allowed"}))):R.createElement("div",{className:"gd-recipient-option-item s-gd-recipient-option-item"},R.createElement("span",{className:"gd-recipient-option-label-item s-gd-recipient-option-label-item"},t),this.renderRecipientValue(e))};getNewOptionData=e=>({email:e});renderRecipientValue=e=>{const t=dR(e),i=wR(e);return!t&&_R(i)?R.createElement("span",{className:"gd-recipient-option-value-item s-gd-recipient-option-value-item"},AR(e)):this.renderEmptyContainer()};renderInputContainer=e=>{const{isMulti:t}=this.props;return t?R.createElement("div",{className:"gd-recipient-input s-gd-recipient-input"},R.createElement(mF,{...e})):this.renderEmptyContainer()};handleOnChange=(e,t)=>{const i=(e=>{const t=[];return e.filter((e=>{const i=TR(e);return!t.includes(i)&&(t.push(i),!0)}))})(Gi(e,(e=>((e,t)=>cR(e)?[e]:RR(e,t))(e,PR)))),{value:r,allowEmptySelection:a}=this.props,{action:n}=t;r.length>=60&&("create-option"===n||"select-option"===n)?this.props.onChange?.(r):null!==i?this.props.onChange?.(i):a?this.props.onChange?.([]):this.props.onChange?.([r[0]])};loadUserListItems=e=>{const{options:t,value:i,canListUsersInProject:r,onLoad:a}=this.props,n=this.getMatchedRecipientEmails(t,e).length,o=this.isRecipientAdded(i,e);!r||o||n>0||(this.setState({isLoading:!0}),a?.({search:e}))};onMenuOpen=()=>{const{onLoad:e,canListUsersInProject:t,options:i}=this.props;!i.length&&t&&e?.()};onSearchCore=e=>{this.loadUserListItems(e)};onSearch=zT(this.onSearchCore,500);getMatchedRecipientEmails(e,t){return t?e.filter((e=>Ir(wR(e),t))):[]}isRecipientAdded=(e,t)=>e.some((e=>Ma(TR(e),t)))}const fF=e=>{const{backend:t,workspace:i,author:r,currentUser:a,value:n,originalValue:o,onChange:l,onError:s,canListUsersInProject:d,enableKPIDashboardScheduleRecipients:c,allowEmptySelection:u}=e,[g,m]=(0,R.useState)(),{result:p,status:h}=function({search:e,backend:t,workspace:i,onCancel:r,onError:a,onLoading:n,onPending:o,onSuccess:l}){const s=(0,Z.useBackendStrict)(t),d=(0,Z.useWorkspaceStrict)(i),c=qb(Qp)?()=>{let t=s.workspace(d).users();return e&&(t=t.withOptions({search:`%${e}`})),t.queryAll()}:()=>Promise.resolve([]);return(0,Z.useCancelablePromise)({promise:c,onCancel:r,onError:a,onLoading:n,onPending:o,onSuccess:l},[s,d,e])}({backend:t,workspace:i,search:g,onError:s}),f=(0,R.useMemo)((()=>Ww(p?.map((e=>({user:e})))??[],"user.email")),[p]);return R.createElement(hF,{canListUsersInProject:d,isMulti:c,options:f,value:n,originalValue:o,onChange:l,author:r,currentUser:a,onLoad:e=>{m(e?.search)},isLoading:"loading"===h||"pending"===h,allowEmptySelection:u})},bF=e=>{const{className:t="",fileName:i,label:r}=e,a=(0,FC.Z)(),n=(0,PI.Fg)(),o=`gd-input-component gd-attachment-component ${t}`,l=HR()?"PDF":i,s=a.formatMessage({id:"dialogs.schedule.email.attachment.filter"});return R.createElement("div",{className:o},R.createElement("label",{className:"gd-label"},r),R.createElement("span",{className:"gd-icon-pdf"},R.createElement(uD.Icon.Pdf,{width:11,height:14,color:n?.palette?.complementary?.c8})),R.createElement("span",{className:"s-attachment-name"},`${l} ${s}`))},DF=ud((e=>({user:e})));class vF extends R.PureComponent{static defaultProps={dateFormat:"MM/dd/yyyy"};originalEditState;constructor(e){super(e),this.state=this.props.editSchedule?this.getEditState(this.props.editSchedule,this.props.users):this.getDefaultState()}getDefaultState(){const e=new Date,t=(0,uD.normalizeTime)(e);return{alignment:"cc cc",startDate:e,userTimezone:LR||MR,emailSubject:"",emailBody:"",repeat:{time:{hour:t.getHours(),minute:t.getMinutes(),second:0},repeatType:rR.DAILY,repeatPeriod:1,repeatFrequency:{[aR]:!0}},selectedRecipients:[DF(this.props.currentUser)],isValidScheduleEmailData:!0,attachments:{...this.getDefaultAttachments(),configuration:{format:"csv",mergeHeaders:!0,includeFilters:!0}}}}getEditState(e,t){const i=this.getDefaultState(),r=e.to.concat(e.bcc||[]).map((t=>t===e.createdBy?.login?DF(e.createdBy):{email:t})).map((e=>{if(dR(e)){const i=t.find((t=>t.login===e.email));if(i)return{user:i}}return e})),n=e.attachments.filter(a.isDashboardAttachment),o=e.attachments.filter(a.isWidgetAttachment),l=this.props.dashboardInsightWidgets.reduce(((e,t)=>(e[(0,a.objRefToString)(t)]=o.some((e=>(0,a.areObjRefsEqual)(e.widget,t))),e)),{}),s=0===o.length?i.attachments.configuration:{format:o[0].formats[0]||"csv",mergeHeaders:o[0].exportOptions?.mergeHeaders||!1,includeFilters:o[0].exportOptions?.includeFilters||!1},d={...i,emailSubject:e.subject,emailBody:e.body,selectedRecipients:r,userTimezone:OR(e.when.timeZone)||MR,startDate:JP(e.when.startDate,eR,new Date),isValidScheduleEmailData:!0,repeat:SR(e.when.recurrence),attachments:{dashboardSelected:0!==n.length,widgetsSelected:l,configuration:s}};return this.originalEditState=d,d}getDefaultAttachments(){const{enableWidgetExportScheduling:e,defaultAttachment:t,dashboardInsightWidgets:i}=this.props,r=i.some((e=>(0,a.areObjRefsEqual)(e.ref,t)));return e&&t&&r?{dashboardSelected:!1,widgetsSelected:{[(0,a.objRefToString)(t)]:!0}}:{dashboardSelected:!0,widgetsSelected:i.reduce(((e,t)=>(e[(0,a.objRefToString)(t)]=!1,e)),{})}}render(){const{intl:e,onCancel:t,editSchedule:i,enableWidgetExportScheduling:r}=this.props,{alignment:a,isValidScheduleEmailData:n}=this.state,o=[{align:a}],l=!n||i&&Ma(QP(this.originalEditState,"alignment"),QP(this.state,"alignment"));return R.createElement(uD.Overlay,{alignPoints:o,className:"gd-schedule-email-dialog-overlay",isModal:!0,positionType:"fixed",onAlign:this.onAlign},R.createElement(uD.ConfirmDialogBase,{className:"gd-schedule-email-dialog s-gd-schedule-email-dialog",isPositive:!0,headline:r?e.formatMessage({id:"dialogs.schedule.email.heading"}):e.formatMessage({id:"dialogs.schedule.email.headline"}),cancelButtonText:e.formatMessage({id:"cancel"}),submitButtonText:i?e.formatMessage({id:"dialogs.schedule.email.save"}):e.formatMessage({id:"dialogs.schedule.email.submit"}),isSubmitDisabled:l,submitOnEnterKey:!1,onCancel:t,onSubmit:this.onScheduleDialogSubmit},this.renderFiltersMessage(),this.renderRecipients(),this.renderUnsubscribedRecipients(),this.renderSubject(),this.renderMessage(),this.renderAttachment(),R.createElement("div",{className:"hr"}),this.renderDateTime(),this.renderRepeats()))}getDashboardTitleMaxLength(e){return 255-e.trim().length-3}onAlign=e=>{e.top<0&&this.setState({alignment:"tc tc"})};renderAttachment=()=>{const{intl:e,dashboardTitle:t,dashboardInsightWidgets:i,enableWidgetExportScheduling:r,canExportTabular:a}=this.props,{dashboardSelected:n,widgetsSelected:o,configuration:l}=this.state.attachments,s=`${this.getDefaultAttachment()}.pdf`;return r?R.createElement(JR,{dashboardTitle:t,insightWidgets:i,dashboardSelected:n,widgetsSelected:o,configuration:l,canExportTabular:a,onAttachmentsSelectionChanged:this.onAttachmentsChange,onAttachmentsConfigurationChanged:this.onAttachmentsConfigurationChange}):R.createElement(bF,{className:"s-gd-schedule-email-dialog-attachment",label:e.formatMessage({id:"dialogs.schedule.email.attachment.label"}),fileName:s})};renderDateTime=()=>{const{dateFormat:e,intl:t,locale:i,weekStart:r}=this.props,{repeat:{time:a},startDate:n}=this.state,o=new Date(n.getFullYear(),n.getMonth()+1-1,gR(n),a.hour,a.minute);return R.createElement(qR,{date:o,dateFormat:e,label:t.formatMessage({id:"dialogs.schedule.email.time.label"}),locale:i,timezone:this.state.userTimezone.title,onDateChange:this.onDateChange,onTimeChange:this.onTimeChange,weekStart:r})};renderMessage=()=>{const{intl:e}=this.props,t=this.getDefaultEmailBody();return R.createElement(UR,{className:"s-gd-schedule-email-dialog-message",label:e.formatMessage({id:"dialogs.schedule.email.message.label"}),maxlength:200,placeholder:t,rows:4,onChange:this.onMessageChange,value:this.state.emailBody})};renderFiltersMessage=()=>{const{enableWidgetExportScheduling:e,hasDefaultFilters:t,editSchedule:i}=this.props;return i?R.createElement(uD.Message,{className:"gd-schedule-email-dialog-filters-message ",type:"progress"},R.createElement(AI.Z,{id:"dialogs.schedule.email.filters.not.saved"})):e&&!t?R.createElement(uD.Message,{className:"gd-schedule-email-dialog-filters-message ",type:"progress"},R.createElement(AI.Z,{id:"dialogs.schedule.email.filters"})):null};renderRecipients=()=>{const{selectedRecipients:e}=this.state,{backend:t,workspace:i,canListUsersInProject:r,enableKPIDashboardScheduleRecipients:a,currentUser:n,editSchedule:o}=this.props,l=o?.unsubscribed?.some((e=>e===o.createdBy?.email));return R.createElement(fF,{author:DF(o?.createdBy?o?.createdBy:n),currentUser:n,canListUsersInProject:r,enableKPIDashboardScheduleRecipients:a,value:e,originalValue:this.originalEditState?.selectedRecipients||[],onChange:this.onRecipientsChange,onError:this.props.onError,backend:t,workspace:i,allowEmptySelection:l})};renderUnsubscribedRecipients=()=>{const{intl:e,editSchedule:t}=this.props,i=void 0===t?.unsubscribed?.length?0:t.unsubscribed.length;return 0!==i&&R.createElement("div",{className:"gd-input-component"},R.createElement("span",{className:"gd-schedule-email-dialog-unsubscribed-recipients"},e.formatMessage({id:"dialogs.schedule.email.unsubscribed.recipients"},{n:i})))};renderRepeats=()=>{const{intl:e}=this.props,{startDate:t,repeat:i}=this.state;let r=aR,a=sR.DAY_OF_MONTH;return i.repeatFrequency.week?r=oR:i.repeatFrequency.month&&(r=nR,a=i.repeatFrequency.month.type),R.createElement(jR,{label:e.formatMessage({id:"dialogs.schedule.email.repeats.label"}),repeatExecuteOn:a,repeatFrequency:r,repeatPeriod:i.repeatPeriod,repeatType:i.repeatType,startDate:t,onChange:this.onRepeatsChange})};renderSubject=()=>{const{intl:e}=this.props;return R.createElement(KR,{className:"s-gd-schedule-email-dialog-subject",label:e.formatMessage({id:"dialogs.schedule.email.subject.label"}),maxlength:200,placeholder:this.getDefaultSubject(),value:this.state.emailSubject,onChange:this.onSubjectChange})};onScheduleDialogSubmit=()=>{const{onSubmit:e,onSave:t,editSchedule:i}=this.props;if(i){if(t){const e=i?.attachments[0]?.filterContext;t(this.getScheduleEmailData(),e)}}else e&&e(this.getScheduleEmailData())};onDateChange=e=>{const{repeatFrequency:t}=this.state.repeat,i=v(this.state.repeat);t.month?IR(i,t.month.type,e):t.week?CR(i,e):yR(i),this.setState({startDate:e,repeat:i})};onTimeChange=e=>{this.setState((t=>({repeat:{...t.repeat,time:e}})))};onRecipientsChange=e=>{const{editSchedule:t,currentUser:i}=this.props,r=e.map(wR).every(_R),n=e.filter(dR).map((e=>e.email)),o=!!t&&Nm(n,t.bcc||[]).length>0,l=DF(t?.createdBy?t?.createdBy:i),s=cR(l)&&(0,a.areObjRefsEqual)(l.user.ref,i.ref);this.setState({selectedRecipients:e,isValidScheduleEmailData:r&&(s||!o)})};onMessageChange=e=>{this.setState({emailBody:e})};onRepeatsChange=e=>{const{repeatExecuteOn:t,repeatFrequency:i,repeatPeriod:r,repeatType:a}=e,{startDate:n}=this.state,o=v(this.state.repeat);o.repeatType=a,o.repeatPeriod=r,a===rR.CUSTOM?i===nR?IR(o,t,n):i===oR?CR(o,n):yR(o):a===rR.MONTHLY?IR(o,sR.DAY_OF_WEEK,n):a===rR.WEEKLY?CR(o,n):yR(o),this.setState({repeat:o})};onSubjectChange=e=>{this.setState({emailSubject:e})};onAttachmentsChange=(e,t)=>{this.setState({attachments:{...this.state.attachments,dashboardSelected:e,widgetsSelected:t}})};onAttachmentsConfigurationChange=e=>{this.setState({attachments:{...this.state.attachments,configuration:e}})};getDefaultAttachment=()=>{const{dashboardTitle:e,dateFormat:t}=this.props,{startDate:i}=this.state,r=function(e,t){const i={"MM/dd/yyyy":"MM-dd-yyyy","dd/MM/yyyy":"dd-MM-yyyy","M/d/yy":"M-d-yy"}[t]||t;return uR(e)?on(e,i):e}(i,t),a=this.getDashboardTitleMaxLength(r);return`${e.length>a?e.substring(0,a):e} - ${r}`};getDefaultSubject=()=>{const{dashboardTitle:e}=this.props;return e.length>255?e.substring(0,255):e};getDefaultEmailBody=()=>{const{intl:e}=this.props;return e.formatMessage({id:"dialogs.schedule.email.message.placeholder"})};getAttachments=e=>{const t=[],{dashboardSelected:i,widgetsSelected:r,configuration:n}=this.state.attachments;i&&t.push({dashboard:e,format:"pdf"});const o="xlsx"===n.format?{mergeHeaders:n.mergeHeaders,includeFilters:n.includeFilters}:void 0,l=this.props.dashboardInsightWidgets.reduce(((e,t)=>(e[(0,a.objRefToString)(t)]=(0,a.uriRef)(t.uri),e)),{});for(const i in r)r[i]&&t.push({widget:l[i],widgetDashboard:e,formats:[n.format],exportOptions:o});return t};getScheduleEmailData=()=>{const{editSchedule:e}=this.props,t=this.getTimeSchedule(),{selectedRecipients:i,emailSubject:r,emailBody:a}=this.state,n=i.filter(cR).map((e=>e.user.login)),o=i.filter(dR).map((e=>e.email)),l=r||this.getDefaultSubject(),s=a||this.getDefaultEmailBody(),d=this.getSummaryMessage(),c=this.getAttachments(this.props.dashboard);let u;return e&&(u=Nm(e.unsubscribed,n.concat(o))),{when:t,to:n,bcc:o,unsubscribed:u,subject:l,body:s,attachments:c,description:d,title:l,unlisted:!0,uri:e?e.uri:void 0}};getTimeSchedule=()=>{var e;return{recurrence:ER(this.state.repeat),startDate:(e=this.state.startDate,uR(e)?on(e,eR):e),timeZone:this.state.userTimezone.identifier}};getSummaryMessage=()=>{const{startDate:e,repeat:t}=this.state;return function(e,t,i){return`${function(e,t,i){const{repeatType:r,repeatPeriod:a,repeatFrequency:n}=t,o=r===rR.CUSTOM,l=mR(i),s=fR(i);if(!o)return e.formatMessage(ev[`scheduleDialogEmailRepeats_${r}`],{day:l,week:s});const d=e.formatMessage({id:"dialogs.schedule.email.repeats.every"}),c=function(e){const t=lR.find((t=>e.hasOwnProperty(t)));return(0,m.kG)(t,"Unknown scheduled email frequency"),t}(n),u=e.formatMessage(ev[`scheduleDialogEmailRepeatsFrequencies_${c}`],{n:a}),g=c===oR?sR.DAY_OF_WEEK:n.month?.type;return`${d} ${a} ${u} ${c!==aR?e.formatMessage(ev[`scheduleDialogEmailRepeatsExecuteOn_${g}`],{date:gR(i),day:mR(i),week:fR(i)}):""}`.trim()}(e,t,i)} ${e.formatMessage({id:"gs.date.at"})} ${function(e){const{hour:t,minute:i}=e,r=function(e){return e>=12?"PM":"AM"}(t),a=function(e){return e<10?"0"+e:""+e}(i);return`${function(e){let t=e>12?e-12:e;return 0===e&&(t=12),t}(t)}:${a} ${r}`}(t.time)}`}(this.props.intl,t,e)}}const EF=(0,Z.withContexts)((0,KP.ZP)(vF)),yF=e=>R.createElement(qI,{locale:e.locale},R.createElement(EF,{...e})),IF=e=>e.map((e=>(0,a.isDashboardAttributeFilter)(e)?{attributeFilter:QP(e.attributeFilter,"localIdentifier")}:e)),CF=e=>{const{onSubmit:t,onSuccess:i,onError:r,onSave:n,onSaveSuccess:o,onSaveError:l,onCancel:s,isVisible:d,editSchedule:c,users:u}=e,{currentUser:g,dashboardRef:p,dashboardTitle:h,dashboardInsightWidgets:f,hasDefaultFilters:b,handleCreateScheduledEmail:D,handleSaveScheduledEmail:v,locale:E,canListUsersInWorkspace:I,canExportTabular:C,dateFormat:S,weekStart:T,enableKPIDashboardSchedule:w,enableKPIDashboardScheduleRecipients:A,enableWidgetExportScheduling:P,defaultAttachment:F}=(e=>{const{onSubmit:t,onSubmitSuccess:i,onSubmitError:r,onSave:n,onSaveSuccess:o,onSaveError:l}=e,s=qb(fu);(0,m.kG)(s,"attempting to schedule email for unsaved dashboard");const d=qb(Du),c=qb(bc),u=qb(Qu),g=c.filter(a.isInsightWidget).filter((e=>!y(e))).map((e=>({...e,visualizationUrl:u.get(e.insight)?.insight.visualizationUrl}))),p=qb(lm),h=qb(Jo),f=qb(Ed),b=qb(hd),D=qb(gl),v=qb(al),E=qb(pl),I=qb(Qp),C=qb(th),S=qb(ml),T=qb(wl),w=qb(fD),A=(({onBeforeRun:e,onSuccess:t,onError:i}={})=>{const r=$b({commandCreator:Sv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.SCHEDULED_EMAIL.CREATED",onError:e=>{i?.(e.payload.error)},onSuccess:e=>{t?.(e.payload.scheduledEmail)},onBeforeRun:t=>{e?.(t.payload.scheduledEmail,t.payload.filterContext?.filters)}});return{create:(0,R.useCallback)(((e,t)=>{const i=t&&{title:"filterContext",description:"",filters:hm(t)};r.run(e,i)}),[]),creationStatus:r.status}})({onSuccess:i,onError:r,onBeforeRun:t}),P=IF(b),F=IF(f),k=Ma(P,F),x=(0,R.useCallback)(((e,t)=>{const i=k?void 0:f;A.create(e,t??i)}),[f,k]),L=A.creationStatus,M=(({onBeforeRun:e,onSuccess:t,onError:i}={})=>{const r=$b({commandCreator:Tv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.SCHEDULED_EMAIL.SAVED",onError:e=>{i?.(e.payload.error)},onSuccess:()=>{t?.()},onBeforeRun:t=>{e?.(t.payload.scheduledEmail)}});return{save:(0,R.useCallback)(((e,t)=>{r.run(e,t)}),[]),savingStatus:r.status}})({onSuccess:o,onError:l,onBeforeRun:n}),O=(0,R.useCallback)(((e,t)=>{M.save(e,t)}),[]),N=M.savingStatus;return{dashboardRef:s,dashboardTitle:d,dashboardInsightWidgets:g,hasDefaultFilters:k,canListUsersInWorkspace:I,canExportTabular:C,enableKPIDashboardSchedule:S,enableKPIDashboardScheduleRecipients:E,enableWidgetExportScheduling:T,dateFormat:D,weekStart:v,currentUser:p,locale:h,defaultAttachment:w,handleCreateScheduledEmail:x,scheduledEmailCreationStatus:L,handleSaveScheduledEmail:O,scheduledEmailSavingStatus:N}})({onSubmit:t,onSubmitSuccess:i,onSubmitError:r,onSave:n,onSaveSuccess:o,onSaveError:l});return d&&(0,m.kG)(w,"Feature flag enableKPIDashboardSchedule must be enabled to make ScheduledMailDialog work properly."),d?R.createElement(yF,{editSchedule:c,locale:E,canListUsersInProject:I,canExportTabular:C,enableKPIDashboardScheduleRecipients:A,enableWidgetExportScheduling:P,dateFormat:S,currentUser:g,dashboard:p,dashboardTitle:h,dashboardInsightWidgets:f,hasDefaultFilters:b,onSubmit:D,onSave:v,onCancel:s,onError:r,defaultAttachment:F,users:u,weekStart:T}):null},SF=[{align:"cr cl",offset:{x:0,y:0}},{align:"cl cr",offset:{x:0,y:0}}],TF=[{align:"tc bc",offset:{x:0,y:0}},{align:"bc tc",offset:{x:0,y:0}}],wF=e=>{const t=(0,FC.Z)(),i=(0,PI.Fg)(),{scheduledEmail:r,currentUserEmail:n,onDelete:o,onEdit:l,canManageScheduledMail:s,users:d}=e,{subject:c,to:u,bcc:g,attachments:m}=r,p=((e,t,i)=>{const r=t.length;return 1===r&&t[0]===i?e.formatMessage({id:"dialogs.schedule.management.recipients.onlyYou"}):e.formatMessage({id:"dialogs.schedule.management.recipients"},{n:r})})(t,[...u,...g??[]],n),h=(e=>{const t=e.some(a.isDashboardAttachment),i=e.filter(a.isWidgetAttachment),r=i.some((e=>e.formats.includes("csv"))),n=i.some((e=>e.formats.includes("xlsx")));return ka([t&&"PDF",r&&"CSV",n&&"XLSX"]).join(", ")})(m),{AttachmentIcon:f,attachmentLabel:b}=((e,t)=>{const i=t.some(a.isDashboardAttachment),r=t.filter(a.isWidgetAttachment).length;return i&&r?{AttachmentIcon:uD.Icon.Many,attachmentLabel:e.formatMessage({id:"dialogs.schedule.management.attachments.mixed"},{n:r})}:r?{AttachmentIcon:uD.Icon.Insight,attachmentLabel:e.formatMessage({id:"dialogs.schedule.management.attachments.widgets"},{n:r})}:{AttachmentIcon:uD.Icon.Dashboard,attachmentLabel:e.formatMessage({id:"dialogs.schedule.management.attachments.dashboard"})}})(t,m),D=`${p} • ${b} • ${h}`,v=(0,R.useCallback)((()=>{s&&l(r,d)}),[r,s,d]);return R.createElement("div",{className:dy("gd-scheduled-email","s-scheduled-email",{editable:s})},R.createElement("div",{className:"gd-scheduled-email-delete"},R.createElement(uD.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("span",{className:"gd-scheduled-email-delete-icon s-scheduled-email-delete-icon",onClick:()=>o(r)}),R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:SF},R.createElement(AI.Z,{id:"dialogs.schedule.management.delete"})))),R.createElement("div",{className:"gd-scheduled-email-content",onClick:v},R.createElement("div",{className:"gd-scheduled-email-icon"},R.createElement(f,{color:i?.palette?.complementary?.c5??"#b0beca",width:18,height:16})),R.createElement("div",{className:"gd-scheduled-email-text-content"},R.createElement("div",{className:"gd-scheduled-email-title"},R.createElement("strong",null,R.createElement(uD.ShortenedText,{className:"gd-scheduled-email-shortened-text",tooltipAlignPoints:TF},c))),R.createElement("div",null,R.createElement("span",{className:"gd-scheduled-email-subtitle"},R.createElement(uD.ShortenedText,{className:"gd-scheduled-email-shortened-text",tooltipAlignPoints:TF},D))))))},AF=e=>{const{isLoading:t,scheduledEmails:i,currentUserEmail:r,onDelete:a,onEdit:n,noSchedulesMessageId:o,canManageScheduledMail:l,users:s}=e,d=(0,PI.Fg)();return t?R.createElement("div",{className:"gd-loading-equalizer-wrap"},R.createElement("div",{className:"gd-loading-equalizer gd-loading-equalizer-fade"},R.createElement(uD.LoadingSpinner,{className:"large gd-loading-equalizer-spinner",color:d?.palette?.complementary?.c9}))):0===i.length?R.createElement("div",{className:"gd-scheduled-emails-message s-no-schedules-message"},R.createElement(AI.Z,{id:o,values:{br:R.createElement("br",null)}})):R.createElement(R.Fragment,null,i.map((e=>R.createElement(wF,{key:e.identifier,scheduledEmail:e,currentUserEmail:r,onDelete:a,onEdit:n,users:s,canManageScheduledMail:l}))))},PF=e=>{const{scheduledEmail:t,onCancel:i,onSuccess:r,onError:a}=e,{ref:n,subject:o}=t,l=(0,Z.useBackendStrict)(),s=(0,Z.useWorkspaceStrict)(),d=(0,FC.Z)();return R.createElement(uD.ConfirmDialog,{displayCloseButton:!0,isPositive:!1,headline:d.formatMessage({id:"dialogs.schedule.management.delete.dialog"}),cancelButtonText:d.formatMessage({id:"cancel"}),submitButtonText:d.formatMessage({id:"delete"}),onSubmit:async()=>{try{await l.workspace(s).dashboards().deleteScheduledMail(n),r?.()}catch(e){a?.(e)}},onClose:i,onCancel:i,className:"gd-scheduled-email-delete-dialog s-scheduled-email-delete-dialog",containerClassName:"gd-scheduled-email-delete-dialog-overlay"},R.createElement("span",{className:"s-scheduled-email-delete-dialog-content"},R.createElement(AI.Z,{id:"dialogs.schedule.management.delete.dialog.confirm",values:{b:e=>R.createElement("span",{className:"gd-scheduled-email-delete-dialog-text"},e," ",R.createElement("strong",null,o))}})))},RF=e=>{const{onAdd:t,onEdit:i,onDeleteSuccess:r,onClose:n,onLoadError:o,onDeleteError:l}=e,[s,d]=(0,R.useState)(null),[c,u]=(0,R.useState)(!0),[g,m]=(0,R.useState)([]),[p,h]=(0,R.useState)([]),[f,b]=(0,R.useState)(ev.scheduleManagementTabUser.id),[D,v]=(0,R.useState)(!0),[E,y]=(0,R.useState)([]),I=qb(hh),C=qb(lm),S=(0,FC.Z)(),T=(0,R.useCallback)((e=>{const{scheduledEmails:t,users:i}=e,r=t.filter((e=>(0,a.areObjRefsEqual)(C.ref,e.createdBy?.ref)));u(!1),h(t),m(I?r:t),y(i),D&&(0===r.length&&I&&b(ev.scheduleManagementTabAll.id),v(!1))}),[]),w=(0,R.useCallback)((e=>{d(e)}),[]),A=(0,R.useCallback)(((e,t)=>{i?.(e,t)}),[]),P=(0,R.useCallback)((()=>{r?.(),d(null),u(!0)}),[]),F=(0,R.useCallback)((e=>{b(e.id)}),[]);(e=>{const{onError:t,onSuccess:i,loadScheduledMails:r}=e,a=qb(gu),n=qb(hh),o=(0,Z.useBackendStrict)(),l=(0,Z.useWorkspaceStrict)(),s=r?async()=>{const e=await o.workspace(l).dashboards().getScheduledMailsForDashboard(a,{loadUserData:n,createdByCurrentUser:!n}),t=n?await o.workspace(l).users().queryAll():[];return{scheduledEmails:e.reverse(),users:t}}:null;(0,Z.useCancelablePromise)({promise:s,onError:t,onSuccess:i},[o,l,n,a,r])})({loadScheduledMails:c,onError:o,onSuccess:T});const k=f===ev.scheduleManagementTabAll.id?ev.scheduleManagementNoSchedules.id:ev.scheduleManagementNoSchedulesByUser.id;return R.createElement(R.Fragment,null,R.createElement(uD.Dialog,{displayCloseButton:!0,onCancel:n,className:"gd-scheduled-email-management-dialog s-scheduled-email-management-dialog"},R.createElement("div",{className:"gd-scheduled-email-management-dialog-title"},R.createElement(uD.Typography,{tagName:"h3",className:"gd-dialog-header"},R.createElement(AI.Z,{id:"dialogs.schedule.management.title"}))),!D&&I?R.createElement(uD.Tabs,{className:"gd-scheduled-email-management-dialog-tabs",tabs:[ev.scheduleManagementTabUser,ev.scheduleManagementTabAll],selectedTabId:f,onTabSelect:F}):null,R.createElement("div",{className:"gd-scheduled-emails-content"},R.createElement(AF,{onDelete:w,onEdit:A,isLoading:c,scheduledEmails:f===ev.scheduleManagementTabAll.id?p:g,currentUserEmail:C?.email,noSchedulesMessageId:k,canManageScheduledMail:I,users:E})),R.createElement("div",{className:"gd-content-divider"}),R.createElement("div",{className:"gd-buttons"},R.createElement(uD.Button,{onClick:t,className:"gd-button-secondary gd-add-button s-add-button",iconLeft:"gd-icon-plus",value:S.formatMessage({id:"dialogs.schedule.management.addSchedule"})}),R.createElement(uD.Button,{onClick:n,className:"gd-button-secondary s-close-button",value:S.formatMessage({id:"close"})}))),s?R.createElement(PF,{scheduledEmail:s,onCancel:()=>d(null),onSuccess:P,onError:l}):null)},FF=e=>{const{workspace:t,backend:i,isVisible:r,sharedObject:a,currentUser:n,isLockingSupported:o,isCurrentUserWorkspaceManager:l,currentUserPermissions:s,onApply:d,onCancel:c,onError:u,onInteraction:g}=e,m=qb(Jo),p=(0,FC.Z)(),h=(0,R.useMemo)((()=>({accessTypeLabel:p.formatMessage({id:"dashboard.shareDialog.lock.label"}),accessRegimeLabel:p.formatMessage({id:"dashboard.shareDialog.underLenientControl.label"}),removeAccessCreatorTooltip:p.formatMessage({id:"dashboard.shareDialog.removeAccessCreatorTooltip"}),removeAccessGranteeTooltip:p.formatMessage({id:"dashboard.shareDialog.removeAccessGranteeTooltip"})})),[p]);return r?R.createElement(uD.ShareDialog,{locale:m,backend:i,workspace:t,sharedObject:a,currentUser:n,onApply:d,onCancel:c,onError:u,isLockingSupported:o,labels:h,isCurrentUserWorkspaceManager:l,currentUserPermissions:s,onInteraction:g}):null};function kF(){const e=Kb(),t=qb(Wc),i=qb(nE),r=qb(Vu);return{isVisible:t&&!i,onCancelClick:(0,R.useCallback)((()=>{e(r?Va.openCancelEditModeDialog():cd())}),[e,r])}}function xF({isVisible:e,onCancelClick:t}){const i=(0,FC.Z)();return e?R.createElement(uD.Button,{className:"gd-button-secondary cancel-button s-cancel_button",value:i.formatMessage({id:"cancel"}),onClick:t}):null}const LF=e=>R.createElement(xF,{...e}),MF=e=>{const{SaveButtonComponent:t}=ny();return R.createElement(t,{...e})},OF=(0,Po.createSelector)(Al,pE,ah,((e,t,i)=>e?t:i)),NF=(0,Po.createSelector)(Al,hE,Jp,Mo,((e,t,i,r)=>e?t:i&&!r)),_F=(0,Po.createSelector)(OF,NF,Cu,nl,((e,t,i,r)=>!r&&e&&(!i||t))),HF=(0,Po.createSelector)(iE,_F,((e,t)=>!e&&t)),UF=(0,Po.createSelector)(Al,Iu,bu,((e,t,i)=>e&&(i||t)));function GF(e){return bu(e)?!Tc(e):Vu(e)}const BF=(0,Po.createSelector)(gu,NE,((e,t)=>Boolean(e&&t.has(e)))),WF=(0,Po.createSelector)(Al,gE,mE,Cu,BF,nl,Wc,Ul,((e,t,i,r,a,n,o,l)=>e&&t&&(!r||i)&&a&&!n&&!o&&!l));function zF(){const e=(0,uD.useMediaQuery)(">=xl"),t=qb(_F),i=qb(iE),r=qb(Wc),a=Kb();return{isVisible:e&&!r&&t,isEnabled:!i,onEditClick:(0,R.useCallback)((()=>a(dd())),[a])}}function VF({isVisible:e,isEnabled:t,onEditClick:i}){const r=(0,FC.Z)();return e?R.createElement(uD.Button,{className:"gd-button-action gd-icon-pencil s-edit_button",value:r.formatMessage({id:"controlButtons.edit.value"}),disabled:!t,onClick:i}):null}const jF=e=>R.createElement(VF,{...e}),KF=(0,Po.createSelector)(vl,ul,HF,rh,ll,nl,((e,t,i,r,a,n)=>e&&!t&&!i&&!a&&r&&!n));function qF(){const e=Kb();return{isVisible:qb(KF),onSaveAsNewClick:(0,R.useCallback)((()=>{e(Va.openSaveAsDialog())}),[e])}}function YF({isVisible:e,onSaveAsNewClick:t}){const i=(0,FC.Z)();return e?R.createElement(uD.Button,{className:"gd-button-secondary s-save_as_new_button",value:i.formatMessage({id:"save.as.new"}),onClick:t}):null}const ZF=e=>R.createElement(YF,{...e}),$F=()=>null;function XF(){const e=Kb(),t=(0,R.useCallback)((()=>e(Va.openShareDialog())),[e]);return{isVisible:qb(WF),onShareButtonClick:t}}const QF=({isVisible:e,onShareButtonClick:t})=>{const i=(0,FC.Z)();return e?R.createElement(R.Fragment,null,R.createElement(uD.Button,{onClick:()=>t(),value:i.formatMessage({id:"share.button.text"}),className:"gd-button-secondary dash-header-share-button s-header-share-button gd-button gd-icon-users"})):R.createElement($F,null)},JF=e=>R.createElement(QF,{...e}),ek=e=>{const{children:t,cancelButtonProps:i,saveButtonProps:r,editButtonProps:a,saveAsNewButtonProps:n,shareButtonProps:o,childContentPosition:l="left"}=e;return R.createElement("div",{className:"dash-control-buttons"},"left"===l&&t,R.createElement(LF,{...i}),R.createElement(MF,{...r}),R.createElement(jF,{...a}),R.createElement(ZF,{...n}),R.createElement(JF,{...o}),"right"===l&&t)},tk=[{align:"br tr"}],ik=[{align:"cl tr"}],rk=e=>{const{menuItems:t}=e,[i,r]=(0,R.useState)(!1),a=(0,R.useCallback)((()=>{r((e=>!e))}),[]),n=(0,R.useMemo)((()=>t.filter((e=>!1!==e.visible))),[t]);return n.length?R.createElement(R.Fragment,null,R.createElement(uD.Button,{onClick:a,value:"⋯",className:"gd-button-primary dash-header-options-button s-header-options-button gd-button"}),i?R.createElement(uD.Overlay,{key:"topBarMenuButton",alignTo:".s-header-options-button",alignPoints:tk,className:"gd-header-menu-overlay",closeOnMouseDrag:!0,closeOnOutsideClick:!0,onClose:a},R.createElement(uD.ItemsWrapper,{smallItemsSpacing:!0},n.map((e=>{if("separator"===e.type)return R.createElement(uD.SingleSelectListItem,{key:e.itemId,type:e.type,className:e.className});if("header"===e.type)return R.createElement(uD.SingleSelectListItem,{key:e.itemId,type:e.type,title:e.itemName,className:e.className});const t=`gd-menu-item-${e.itemId}`,i=R.createElement(uD.SingleSelectListItem,{className:dy("gd-menu-item",e.className,`s-${e.itemId}`,{[t]:e.tooltip,"is-disabled":e.disabled}),key:e.itemId,title:e.itemName,onClick:e.disabled?void 0:()=>{e.onClick?.(),r(!1)}});return e.tooltip?R.createElement(uD.BubbleHoverTrigger,{key:e.itemId},i,R.createElement(uD.Bubble,{alignTo:`.${t}`,alignPoints:ik},R.createElement("span",null,e.tooltip))):i})))):null):(t.length||console.warn("DefaultMenuButton rendered without menu items. Make sure you are passing some items there."),null)},ak=e=>{const{ButtonBarComponent:t}=ny();return R.createElement(t,{...e})};function nk(){const e=(0,FC.Z)(),t=qb(bu),i=!qb(Fc),{addSuccess:r,addError:a,addProgress:n,removeMessage:o}=(0,uD.useToastMessage)(),{isScheduledEmailingVisible:l,defaultOnScheduleEmailing:s}=tv(),d=Kb(),c=(0,R.useCallback)((()=>d(Va.openSaveAsDialog())),[d]),u=(0,R.useCallback)((()=>d(Va.openDeleteDialog())),[d]),g=(0,R.useRef)(""),{run:m}=$b({commandCreator:Ii,successEvent:"GDC.DASH/EVT.EXPORT.PDF.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{g.current=n(ev.messagesExportResultStart,{duration:0})},onSuccess:e=>{g.current&&o(g.current),r(ev.messagesExportResultSuccess),kS(e.payload.result)},onError:e=>{g.current&&o(g.current),(0,Dr.isProtectedDataError)(e)?a(ev.messagesExportResultRestrictedError):a(ev.messagesExportResultError)}}),p=(0,R.useCallback)((()=>{t||c()}),[t,c]),h=(0,R.useCallback)((()=>{t||m()}),[m,t]),f=qb(nl),b=qb(Bc),D=qb(Wc),v=qb(rh),E=qb(ul),y=qb(KF),I=qb(ih),C=!!qb(bl),S=!!qb(sE),T=qb(RD);return(0,R.useMemo)((()=>{if(t)return[];const r=D&&(T.deleteButton??!0),a=!y&&v&&!E&&(T.saveAsNewButton??!0),n=i||t||f,o=b&&I&&C&&S&&(T.pdfExportButton??!0);return[{type:"button",itemId:"save_as_menu_item",disabled:n,visible:a,itemName:e.formatMessage({id:"options.menu.save.as"}),tooltip:!f&&n?e.formatMessage({id:"options.menu.save.as.tooltip"}):void 0,onClick:p},{type:"separator",itemId:"save-as-separator",visible:a&&(o||l||r)},{type:"button",itemId:"pdf-export-item",itemName:e.formatMessage({id:"options.menu.export.PDF"}),onClick:h,visible:o},{type:"button",itemId:"schedule-email-item",itemName:e.formatMessage({id:"options.menu.schedule.email"}),onClick:s,visible:l},{type:"button",itemId:"delete_dashboard",itemName:e.formatMessage({id:"options.menu.delete"}),onClick:u,visible:r,className:"delete-button"}]}),[v,I,h,p,s,e,i,S,D,b,C,t,f,E,l,y,T.deleteButton,T.pdfExportButton,T.saveAsNewButton,u])}const ok=e=>{const{MenuButtonComponent:t}=ny();return R.createElement(t,{...e})},lk=e=>{const{TitleComponent:t}=ny();return R.createElement(t,{...e})},sk=e=>null,dk=e=>{const t=(0,PI.Fg)();return e.isLocked?R.createElement("div",{className:"s-locked-status gd-locked-status"},R.createElement(uD.BubbleHoverTrigger,null,R.createElement(uD.Icon.Lock,{className:"gd-icon-locked",width:25,height:24,color:t?.palette?.complementary?.c6??"#94a1ad"}),R.createElement(uD.Bubble,{alignPoints:[{align:"bc tl"}],alignTo:".gd-icon-locked"},R.createElement(AI.Z,{id:"header.lockStatus.tooltip",values:{b:e=>R.createElement("b",null,e)}})))):null},ck=e=>{const t=qb(Qo),i=qb(ah);return t.enableNewAnalyticalDashboardsNavigation&&i?R.createElement(dk,{...e}):null},uk=e=>{const{shareStatus:t,isUnderStrictControl:i}=e;if("private"!==t)return null;const r=i?R.createElement(AI.Z,{id:"header.shareStatus.private.strict.tooltip"}):R.createElement(AI.Z,{id:"header.shareStatus.private.not.strict.tooltip"});return R.createElement("div",{className:"s-share-status gd-share-status"},R.createElement(uD.BubbleHoverTrigger,null,R.createElement("div",{className:"gd-share-indicator"},R.createElement("i",{className:"gd-share-icon gd-icon-invisible"}),R.createElement(AI.Z,{id:"header.shareStatus.private.text"})),R.createElement(uD.Bubble,{alignPoints:[{align:"bc tl"}],alignTo:".gd-share-icon"},r)))},gk=e=>{const t=qb(Al),i=qb(Lo),r=qb(ah);return t&&i&&r?R.createElement(uk,{...e}):null};function mk(){const e=Kb(),t=qb(Du),i=(0,FC.Z)().formatMessage({id:"untitled"}),[r,a]=(0,R.useState)(!1),n=(0,R.useCallback)((()=>{a(!0),_E(e,fi(t||i)).then((()=>{a(!1)})).catch((()=>{a(!1)}))}),[e,i,t]),o=qb(Wc),l=qb(nE),s=qb(Al),d=qb(UF),c=!qb(Fc),u=qb(GF),g=l||r,m=o,p=qb(Vu)&&!c&&u,h=s?ev.controlButtonsSaveValue:ev.controlButtonsSaveAndPublishValue;let f=ev.controlButtonsSaveAndPublishTitle;return d&&(f=ev.controlButtonsSaveAsPrivateTitle),u||(f=ev.controlButtonsSaveAndPublishNoChanges),c&&(f=ev.controlButtonsSaveAndPublishEmpty),{isVisible:m,isEnabled:p,isSaving:g,buttonValue:h,buttonTitle:f,onSaveClick:n}}function pk({isVisible:e,isEnabled:t,isSaving:i,buttonTitle:r,buttonValue:a,onSaveClick:n}){const o=(0,FC.Z)();return e?i?R.createElement(uD.Button,{className:"gd-button-action s-saving_button",value:o.formatMessage({id:"controlButtons.saving.value"}),disabled:!0,onClick:j}):R.createElement(uD.BubbleHoverTrigger,null,R.createElement(uD.Button,{className:"gd-button-action save-publish-button s-save_button",value:o.formatMessage(a),onClick:n,disabled:!t}),R.createElement(uD.Bubble,{alignPoints:[{align:"bc tr"}],arrowOffsets:{"bc tr":[10,20]},alignTo:".save-publish-button"},R.createElement(AI.Z,{...r}))):null}const hk=()=>{const e=Kb(),t=qb(Du),i=qb(nl),r=qb(Su),a=qb(su),n=nk(),o=XF(),l=zF(),s=kF(),d=mk(),c=qF(),u=(0,R.useCallback)((t=>{e(Di(t))}),[e]);return{menuButtonProps:{menuItems:n,DefaultMenuButton:rk},titleProps:{title:t,onTitleChanged:i?void 0:u},buttonBarProps:{shareButtonProps:o,editButtonProps:l,cancelButtonProps:s,saveButtonProps:d,saveAsNewButtonProps:c,DefaultButtonBar:ek},shareStatusProps:{shareStatus:r.shareStatus,isUnderStrictControl:!a||!!a.isUnderStrictControl},lockedStatusProps:{isLocked:!!r.isLocked},DefaultTopBar:bk}},fk=e=>{const{menuButtonProps:t,titleProps:i,buttonBarProps:r,shareStatusProps:a,lockedStatusProps:n}=e;return R.createElement("div",{className:"dash-header s-top-bar"},R.createElement("div",{className:"dash-header-inner"},R.createElement(ck,{...n}),R.createElement(lk,{...i}),R.createElement(gk,{...a}),R.createElement(ak,{...r})),R.createElement(ok,{...t}))};function bk(e){return qb(ll)?R.createElement(sk,{...e}):R.createElement(fk,{...e})}const Dk=({children:e})=>R.createElement("div",{className:"dash-title-wrapper"},e),vk=e=>{const{title:t}=e;return R.createElement(Dk,null,R.createElement("div",{className:"s-gd-dashboard-title s-dash-title dash-title static"},t))},Ek=(0,JD.Em)({id:"untitled"}),yk=e=>{const{title:t,onTitleChanged:i}=e,r=(0,FC.Z)(),a=qb(Du);return R.createElement(Dk,null,R.createElement(uD.EditableLabel,{value:t,onSubmit:i,maxRows:1,maxLength:255,className:"s-gd-dashboard-title s-dash-title dash-title editable",isEditableLabelWidthBasedOnText:!0,autofocus:!a,placeholder:r.formatMessage(Ek)},t))},Ik=ZE({view:vk,edit:yk}),Ck=()=>null,Sk=e=>{const t=v(e);e?.dashboards?.content?.kpiWidget?.kpi&&(t.kpi={...e.dashboards.content.kpiWidget.kpi});const i=[];if(e?.chart?.backgroundColor&&i.push(`--gd-dashboards-content-widget-chart-backgroundColor: ${e.chart.backgroundColor};`),e?.table?.backgroundColor&&i.push(`--gd-dashboards-content-widget-table-backgroundColor: ${e.table.backgroundColor};`),!p(i)){const e=document.createElement("style");e.appendChild(document.createTextNode(`:root{${i.join("")}}`)),document.head.appendChild(e)}return t},Tk=e=>{const t=qb(yd),i=qb(Uo),r=(0,R.useMemo)((()=>e.attributeFilter.filterElementsBy?.map((e=>{const i=t.find((t=>t.attributeFilter.localIdentifier===e.filterLocalIdentifier));return(0,m.kG)(i),{filter:i,over:e.over.attributes[0]}}))),[t,e.attributeFilter.filterElementsBy]);return{parentFilters:(0,R.useMemo)((()=>r?.map((e=>Vg(e.filter)))),[r]),parentFilterOverAttribute:(0,R.useMemo)((()=>{if(r&&i)return(e,t)=>r[t].over}),[r,i])}},wk=e=>R.createElement("div",{className:"configuration-category"},R.createElement(uD.Typography,{tagName:"h3"},e.categoryTitle)),Ak=()=>R.createElement("div",{className:"configuration-panel-header"},R.createElement(uD.Typography,{tagName:"h3",className:"configuration-panel-header-title"},R.createElement(AI.Z,{id:"attributesDropdown.configuration"}))),Pk=[{align:"bc tl"},{align:"tc bl"}],Rk={"bc tl":[-100,10],"tc bl":[-100,-10]},Fk=e=>{const{itemLocalId:t,itemTitle:i,hasConnectingAttributes:r}=e,n=qb(kd(t||"")),o=qb(Yl).find((e=>e.displayForms.some((e=>(0,a.areObjRefsEqual)(e.ref,n))))),l=o?.attribute.title;(0,m.kG)(i,"The parent filter title could not be fetched.");const s=dy("gd-list-item attribute-filter-item s-attribute-filter-dropdown-configuration-item",`s-${NS.gl(i)}`);return R.createElement(uD.BubbleHoverTrigger,{hideDelay:0},R.createElement("div",{className:s},R.createElement("label",{className:"input-checkbox-label configuration-item-title"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-checkbox",readOnly:!0,disabled:!0,checked:!1}),R.createElement("span",{className:"input-label-text"},i))),R.createElement(uD.Bubble,{className:"bubble-primary gd-attribute-filter-dropdown-bubble s-attribute-filter-dropdown-bubble",alignPoints:Pk,arrowOffsets:Rk},r?R.createElement("div",null,R.createElement(AI.Z,{id:"attributesDropdown.filterConfiguredMessage",values:{childTitle:l,parentTitle:i,strong:e=>R.createElement("strong",null,e)}})):R.createElement("div",null,R.createElement(AI.Z,{id:"attributesDropdown.noConnectionMessage",values:{childTitle:l,parentTitle:i,strong:e=>R.createElement("strong",null,e)}}))))},kk=({title:e,icon:t,selected:i,onClick:r})=>{const a=dy("gd-list-item",`s-${NS.gl(e)}`,{"is-selected":i});return R.createElement("div",{className:a,onClick:e=>{r(),e.preventDefault()}},R.createElement("span",{className:dy("gd-list-icon",t)}),R.createElement("span",null,e))},xk=[{align:"br tr"},{align:"tr br"}],Lk=e=>{const{itemLocalId:t,selectedConnectingAttributeRef:i,connectingAttributes:r,onSelect:n}=e,o=r.find((e=>(0,a.areObjRefsEqual)(e.ref,i)));return(0,m.kG)(o,"Cannot find connecting attribute in the catalog attribute items."),R.createElement(uD.Dropdown,{className:"connecting-attributes-dropdown s-connecting-attributes-dropdown",closeOnParentScroll:!0,closeOnMouseDrag:!0,closeOnOutsideClick:!0,alignPoints:xk,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(uD.DropdownButton,{value:o.title,iconLeft:"gd-icon-attribute",title:o.title,isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{className:"connecting-attributes-dropdown-body s-connecting-attributes-dropdown-body",width:205,items:r,renderItem:({item:r})=>{const o=(0,a.areObjRefsEqual)(r.ref,i);return R.createElement(kk,{title:r.title,icon:"gd-icon-attribute",selected:o,onClick:()=>{e(),o||n(t,r.ref)}})}})})},Mk=e=>{const{item:{isSelected:t,localIdentifier:i,selectedConnectingAttribute:r},onClick:a,currentFilterLocalId:n,connectingAttributes:o,onConnectingAttributeSelect:l,title:s,disabled:d}=e,c=qb(xd(n,i))||!o.length,u=t&&o.length>1,g=(0,R.useMemo)((()=>dy("gd-list-item attribute-filter-item s-attribute-filter-dropdown-configuration-item",`s-${NS.gl(s)}`,{"is-selected":t})),[t,s]),m=(0,R.useCallback)((()=>{const e=o.map((e=>e.ref));a(i,!t,e)}),[t,i,a,o]);return c?R.createElement(Fk,{hasConnectingAttributes:!!o.length,itemTitle:s,itemLocalId:n}):R.createElement(R.Fragment,null,R.createElement("div",{className:g,onClick:()=>!d&&m(),title:s},R.createElement("label",{className:"input-checkbox-label configuration-item-title"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-checkbox",checked:t,disabled:d,readOnly:!0}),R.createElement("span",{className:"input-label-text"},s),u?R.createElement("span",{className:"addon"}," ",R.createElement(AI.Z,{id:"attributesDropdown.attributeNameWithData"})):null)),u?R.createElement(Lk,{itemLocalId:i,connectingAttributes:o,selectedConnectingAttributeRef:r||o[0].ref,onSelect:l}):null)},Ok=e=>{const{item:{isSelected:t,localIdentifier:i},onClick:r,currentFilterLocalId:a,title:n,disabled:o,isValid:l}=e,s=(0,R.useMemo)((()=>dy("gd-list-item attribute-filter-item s-attribute-filter-dropdown-configuration-item",`s-${NS.gl(n)}`,{"is-selected":t})),[t,n]),d=(0,R.useCallback)((()=>{r(i,!t)}),[r,i,t]);return l?R.createElement("div",{className:s,onClick:()=>!o&&d(),title:n},R.createElement("label",{className:"input-checkbox-label configuration-item-title"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-checkbox",checked:t,disabled:o,readOnly:!0}),R.createElement("span",{className:"input-label-text"},n))):R.createElement(Fk,{hasConnectingAttributes:!1,itemTitle:n,itemLocalId:a})},Nk={"cr cl":[20,0],"cl cr":[-10,0]},_k=[{align:"cr cl"},{align:"cl cr"}],Hk=e=>{const{parents:t,currentFilterLocalId:i,setParents:r,onConnectingAttributeChanged:n,connectingAttributes:o,attributes:l,disabled:s,disabledTooltip:d,validParents:c}=e,u=qb(ko),g=qb(jl),m=qb(Uo);return!u||!g||t.length<1?null:R.createElement(uD.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("div",{className:"gd-infinite-list"},t.map(((e,t)=>{if(m)return R.createElement(Mk,{key:e.localIdentifier,currentFilterLocalId:i,item:e,disabled:s,onClick:r,onConnectingAttributeSelect:n,connectingAttributes:o[t],title:e.title??l[t].title});{const n=c.some((t=>(0,a.areObjRefsEqual)(t,e.displayForm)));return R.createElement(Ok,{key:e.localIdentifier,currentFilterLocalId:i,item:e,disabled:s,onClick:r,title:e.title??l[t].title,isValid:n})}}))),Boolean(s)&&R.createElement(uD.Bubble,{arrowOffsets:Nk,alignPoints:_k},R.createElement("div",null,d)))},Uk=({title:e,isOpened:t,toggleDropdown:i})=>{const r=dy("gd-button-primary","gd-button-small","button-dropdown","dropdown-button","attribute-display-form-button","s-attribute-display-form-button",{"is-active":t}),a=t?"gd-icon-navigateup":"gd-icon-navigatedown";return R.createElement(uD.Button,{className:r,title:e,value:e,onClick:i,iconRight:a})},Gk=[{align:"cl cr",offset:{x:-10,y:0}},{align:"cr cl",offset:{x:10,y:0}}],Bk=({displayForm:e,onClick:t,selected:i})=>{const{title:r}=e,a=dy("gd-list-item","attribute-display-form-name","s-attribute-display-form-name",`s-attribute-display-form-name-${NS.gl(r)}`,(e=>{switch(e){case"GDC.link":return"gd-icon-hyperlink-warning";case"GDC.geo.pin":case"GDC.geo.pin_latitude":case"GDC.geo.pin_longitude":return"gd-icon-earth";default:return"gd-icon-label-warning"}})(e.displayFormType),{"is-selected":i});return R.createElement("div",{className:a,onClick:()=>{t(e.ref)}},R.createElement(uD.ShortenedText,{tooltipAlignPoints:Gk},r))},Wk=[{align:"bl tl",offset:{x:0,y:1}},{align:"tl bl",offset:{x:0,y:-1}}],zk=({displayForms:e,selectedDisplayForm:t,onChange:i})=>{const r=e.find((e=>(0,a.areObjRefsEqual)((0,a.idRef)(e.id,"displayForm"),t)||(0,a.areObjRefsEqual)((0,a.uriRef)(e.uri),t))).title;return R.createElement(uD.Dropdown,{alignPoints:Wk,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(Uk,{title:r,isOpened:e,toggleDropdown:t}),renderBody:({closeDropdown:r})=>R.createElement(uD.DropdownList,{className:"attribute-display-form-dropdown-body s-attribute-display-form-dropdown-body",items:e,itemHeight:23,width:225,renderItem:({item:e})=>{const n=(0,a.areObjRefsEqual)(t,e.ref);return R.createElement(Bk,{displayForm:e,selected:n,onClick:e=>{r(),n||i(e)}})}})})};const Vk=R.createContext(null);Vk.displayName="AttributeFilterParentFiltering";const jk=()=>(0,R.useContext)(Vk),Kk=e=>{const{children:t,filter:i,attributes:r}=e,n=(0,R.useMemo)((()=>Vg(i)),[i]),o=(0,R.useMemo)((()=>r??[]),[r]),l=(0,R.useMemo)((()=>(0,a.filterObjRef)(n)),[n]),s=qb(Fd(l)),d=qb(gs),c=qb(vd).get(i.attributeFilter.displayForm);(0,m.kG)(c);const u=o.find((e=>(0,a.areObjRefsEqual)(e.ref,c.attribute))),g=c.attribute,p=d.get(c.attribute)?.title??u?.title,{parents:h,configurationChanged:f,onParentSelect:b,onConnectingAttributeChanged:D,onParentFiltersChange:v,onConfigurationClose:E}=function(e,t){const{filterElementsBy:i,localIdentifier:r}=t.attributeFilter;(0,m.kG)(r,"Cannot initialize the attribute filter configuration panel, filter has missing 'localIdentifier' property");const a=aD(Ff),n=(0,Z.useBackend)(),o=!!n?.capabilities.supportsSettingConnectingAttributes,l=function(e,t){return(0,R.useMemo)((()=>e.map((e=>{const i=e.attributeFilter.localIdentifier,r=e.attributeFilter.displayForm,a=e.attributeFilter.title,n=t?.some((e=>e.filterLocalIdentifier===i))||!1,o=t?.find((e=>e.filterLocalIdentifier===i))?.over.attributes;return(0,m.kG)(i,"Cannot initialize the attribute filter configuration panel, neighbor filter has missing 'localIdentifier' property."),{localIdentifier:i,displayForm:r,isSelected:n,overAttributes:o,selectedConnectingAttribute:o?.[0],title:a}}))),[e,t])}(e,i),[s,d]=(0,R.useState)(l),c=(0,R.useMemo)((()=>!Ma(s,l)),[s,l]),u=(0,R.useCallback)((()=>{if(c){const e=[];s.forEach((t=>{if(t.isSelected)if(o){if(t.overAttributes?.length){const i=t.selectedConnectingAttribute||t.overAttributes[0];e.push({filterLocalIdentifier:t.localIdentifier,over:{attributes:[i]}})}}else e.push({filterLocalIdentifier:t.localIdentifier,over:{attributes:[]}})})),a(t.attributeFilter.localIdentifier,e)}}),[s,c,t,a,o]),g=(0,R.useCallback)((()=>{d(l)}),[l]);return{parents:s,configurationChanged:c,onParentSelect:function(e,t,i){const r=s.findIndex((t=>t.localIdentifier===e)),a={...s[r]};a.isSelected=t,a.overAttributes=i,t?a.selectedConnectingAttribute=i?.[0]:(a.selectedConnectingAttribute=void 0,a.overAttributes=void 0);const n=[...s];n[r]=a,d(n)},onConnectingAttributeChanged:function(e,t){const i=s.findIndex((t=>t.localIdentifier===e)),r={...s[i]};r.selectedConnectingAttribute=t;const a=[...s];a[i]=r,d(a)},onParentFiltersChange:u,onConfigurationClose:g}}(s,i),{onDisplayFormSelect:y,filterDisplayForms:I,displayFormChanged:C,onDisplayFormChange:S,onConfigurationClose:T,displayFormChangeStatus:w}=function(e,t){const i=qb(Yl),{run:r,status:n}=$b({commandCreator:xf,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.DISPLAY_FORM_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),o=e.attributeFilter.displayForm,[l,s]=(0,R.useState)((()=>{const r=e.attributeFilter.displayForm,n=i.find((e=>e.displayForms.some((e=>(0,a.areObjRefsEqual)(e.ref,r)))))?.displayForms,o=t.find((e=>e.displayForms.some((e=>(0,a.areObjRefsEqual)(e.ref,r)))))?.displayForms??[];return{selectedDisplayForm:r,availableDisplayForms:n??o}})),d=!(0,a.areObjRefsEqual)(o,l.selectedDisplayForm),c=(0,R.useCallback)((e=>{const t={...l};t.selectedDisplayForm=e,s(t)}),[l]),u=(0,R.useCallback)((()=>{(0,a.areObjRefsEqual)(o,l.selectedDisplayForm)||r(e.attributeFilter.localIdentifier,l.selectedDisplayForm)}),[l,o,e,r]),g=(0,R.useCallback)((()=>{s((e=>({...e,selectedDisplayForm:o})))}),[o]);return{onDisplayFormSelect:c,filterDisplayForms:l,displayFormChanged:d,onDisplayFormChange:u,onConfigurationClose:g,displayFormChangeStatus:n}}(i,o),{title:A,titleChanged:P,titleChangeStatus:F,onTitleUpdate:k,onTitleReset:x,onTitleChange:L,onConfigurationClose:M}=function(e,t){const{run:i,status:r}=$b({commandCreator:Lf,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.TITLE_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),a=tD(),n=e.attributeFilter.title??t,[o,l]=(0,R.useState)(n),s=n!==o,d=(0,R.useCallback)((e=>{l(e)}),[]),c=(0,R.useCallback)((()=>{if(o!==n){const r=o!==t?o?.trim():void 0;i(e.attributeFilter.localIdentifier,r)}}),[o,e,t,i]),u=(0,R.useCallback)((()=>{l(void 0),a.attributeFilterInteraction("attributeFilterTitleResetClicked")}),[a]),g=(0,R.useCallback)((()=>{l(n)}),[n]);return{title:o,titleChanged:s,titleChangeStatus:r,onTitleChange:c,onTitleUpdate:d,onTitleReset:u,onConfigurationClose:g}}(i,p),{selectionMode:O,selectionModeChanged:N,onSelectionModeChange:_,onSelectionModeUpdate:H,onConfigurationClose:U}=(e=>{const{run:t}=$b({commandCreator:Mf,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_MODE_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),{run:i}=$b({commandCreator:Af,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),r=e.attributeFilter.selectionMode??"multi",[a,n]=(0,R.useState)(r),o=r!==a,l=(0,R.useCallback)((e=>{n(e)}),[]),s=(0,R.useCallback)((()=>{n(r)}),[r]),d=(0,R.useCallback)((()=>{if(a===r)return;const{localIdentifier:n}=e.attributeFilter;"single"===a?(i(n,{uris:[]},"IN"),t(n,a)):(t(n,a),i(n,{uris:[]},"NOT_IN"))}),[r,a,e,t,i]);return{selectionMode:a,selectionModeChanged:o,onSelectionModeChange:d,onSelectionModeUpdate:l,onConfigurationClose:s}})(i),{mode:G,modeChanged:B,onModeChange:W,onModeUpdate:z,onConfigurationClose:V}=function(e,t){const{run:i}=$b({commandCreator:Si,successEvent:"GDC.DASH/EVT.ATTRIBUTE_FILTER_CONFIG.MODE_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),r=qb(Jc).find((t=>t.localIdentifier===e.attributeFilter.localIdentifier)),a=r?.localIdentifier||e?.attributeFilter.localIdentifier,n=r?.mode??t,[o,l]=(0,R.useState)(n),s=n!==o,d=(0,R.useCallback)((e=>{l(e)}),[]),c=(0,R.useCallback)((()=>{o!==n&&i(a,o)}),[a,n,i,o]),u=(0,R.useCallback)((()=>{l(n)}),[n]);return{mode:o,modeChanged:s,onModeUpdate:d,onModeChange:c,onConfigurationClose:u}}(i,a.DashboardAttributeFilterConfigModeValues.ACTIVE),j=(0,R.useCallback)((()=>{"single"===O?(v(),_()):(_(),v()),S(),L(),W()}),[O,v,S,L,_,W]),K=(0,R.useCallback)((()=>{E(),T(),M(),U(),V()}),[E,T,M,U,V]),q=I.availableDisplayForms.length>1,Y=A!==p;return R.createElement(Vk.Provider,{value:{parents:h,onParentSelect:b,onConnectingAttributeChanged:D,onParentFiltersChange:v,onDisplayFormSelect:y,filterDisplayForms:I,displayFormChanged:C,onDisplayFormChange:S,onConfigurationSave:j,onConfigurationClose:K,showDisplayFormPicker:q,configurationChanged:f,displayFormChangeStatus:w,title:A,defaultAttributeFilterTitle:p,showResetTitle:Y,titleChanged:P,titleChangeStatus:F,onTitleChange:L,onTitleUpdate:k,onTitleReset:x,attributeFilterDisplayForm:g,selectionMode:O,selectionModeChanged:N,onSelectionModeChange:_,onSelectionModeUpdate:H,mode:G,modeChanged:B,onModeChange:W,onModeUpdate:z}},t)},qk=e=>{const{categoryTitle:t,resetTitleText:i,showResetTitle:r,attributeTitle:a,onClick:n,onChange:o}=e;return R.createElement("div",null,R.createElement("div",{className:"configuration-category-title"},R.createElement(wk,{categoryTitle:t}),r?R.createElement("a",{className:"gd-button gd-button-link attribute-filter-renaming-title-reset s-attribute-filter-renaming-title-reset",target:"_blank",rel:"noopener noreferrer",onClick:n},i):null),R.createElement(uD.Input,{className:"configuration-attribute-filter-title s-configuration-attribute-filter-title",value:a,onChange:o,isSmall:!0}))},Yk={"cr cl":[20,0],"cl cr":[-10,0]},Zk=[{align:"cr cl"},{align:"cl cr"}],$k=e=>{const{item:t,itemTitle:i,selected:r,disabled:a,disabledTooltip:n,onClick:o}=e,l=dy("gd-list-item",{"is-selected":r},{"is-disabled":a},"s-selection-mode-dropdown-item",`s-selection-mode-dropdown-item-${t}`);return R.createElement(uD.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("div",{className:l,onClick:()=>!a&&o()},i),Boolean(a)&&R.createElement(uD.Bubble,{arrowOffsets:Yk,alignPoints:Zk},R.createElement("div",null,n)))},Xk=e=>{const{title:t,isOpen:i,toggleDropdown:r}=e,a=dy("gd-button-primary","gd-button-small","button-dropdown","dropdown-button","selection-mode-dropdown-button","s-selection-mode-dropdown-button",{"is-active":i}),n=i?"gd-icon-navigateup":"gd-icon-navigatedown";return R.createElement(uD.Button,{className:a,title:t,value:t,onClick:r,iconRight:n})},Qk=[{align:"bl tl",offset:{x:0,y:1}},{align:"tl bl",offset:{x:0,y:-1}}],Jk=e=>{const{selectionTitleText:t,multiSelectionOptionText:i,singleSelectionOptionText:r,singleSelectionDisabledTooltip:a,selectionMode:n,onSelectionModeChange:o,disabled:l}=e,s={multi:i,single:r},d=["multi","single"];return R.createElement(R.Fragment,null,R.createElement(wk,{categoryTitle:t}),R.createElement("div",{className:"configuration-selection-mode"},R.createElement(uD.Dropdown,{alignPoints:Qk,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(Xk,{isOpen:e,title:s[n],toggleDropdown:t}),renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{className:"attribute-display-form-dropdown-body s-selection-mode-dropdown-body",items:d,itemHeight:23,width:225,renderItem:({item:t})=>R.createElement($k,{item:t,itemTitle:s[t],selected:t===n,disabled:"single"===t&&l,disabledTooltip:a,onClick:()=>{e(),o(t)}})})})))},ex=[{align:"tc bl",offset:{x:0,y:-2}}],tx=e=>{const{checked:t,onChange:i,itemValue:r,itemText:a,itemTooltip:n,className:o}=e;return R.createElement(uD.BubbleHoverTrigger,null,R.createElement("label",{className:"input-radio-label bottom-space"},R.createElement("input",{type:"radio",className:dy("input-radio",o),value:r,checked:t,onChange:i}),R.createElement("span",{className:"input-label-text"},a)),R.createElement(uD.Bubble,{className:"bubble-primary gd-filter-configuration-mode-item-bubble",alignPoints:ex},n))},ix="active",rx="readonly",ax="hidden",nx=e=>{const{selectedMode:t,onChanged:i,intl:r}=e,a=(0,R.useCallback)((e=>{const t=e.target.value;i(t)}),[i]),n=r.formatMessage(ev.filterConfigurationModeActiveTitle),o=r.formatMessage(ev.filterConfigurationModeReadOnlyTitle),l=r.formatMessage(ev.filterConfigurationModeHiddenTitle),s=r.formatMessage(ev.filterConfigurationModeActiveTooltip),d=r.formatMessage(ev.filterConfigurationModeReadOnlyTooltip),c=r.formatMessage(ev.filterConfigurationModeHiddenTooltip);return R.createElement("div",{className:"configuration-item-mode s-configuration-item-mode"},R.createElement(tx,{className:"config-state-active s-config-state-active",itemText:n,itemValue:ix,onChange:a,checked:t===ix,itemTooltip:s}),R.createElement(tx,{className:"config-state-readonly s-config-state-readonly",itemText:o,itemValue:rx,onChange:a,checked:t===rx,itemTooltip:d}),R.createElement(tx,{className:"config-state-hidden s-config-state-hidden",itemText:l,itemValue:ax,onChange:a,checked:t===ax,itemTooltip:c}))},ox=e=>{const{filterRef:t,filterByText:i,displayValuesAsText:r,titleText:n,resetTitleText:o,selectionTitleText:l,multiSelectionOptionText:s,singleSelectionOptionText:d,singleSelectionDisabledTooltip:c,parentFiltersDisabledTooltip:u,closeHandler:g,intl:p,modeCategoryTitleText:h,showConfigModeSection:f}=e,b=(0,PI.Fg)();(0,R.useEffect)((()=>()=>{g()}),[g]);const D=qb(Fd(t)),v=qb(ko),E=qb(jl),y=qb(Vo),I=v&&E,C=(0,R.useMemo)((()=>D.map((e=>e.attributeFilter.displayForm))),[D]),S=qb(yd).find((e=>D.every((t=>e.attributeFilter.localIdentifier!==t.attributeFilter.localIdentifier))));(0,m.kG)(S,"Cannot find current filter in the filter context store.");const{title:T,defaultAttributeFilterTitle:w,parents:A,onParentSelect:P,onConnectingAttributeChanged:F,showDisplayFormPicker:k,filterDisplayForms:x,onDisplayFormSelect:L,showResetTitle:M,onTitleUpdate:O,onTitleReset:N,selectionMode:_,onSelectionModeUpdate:H,mode:U,onModeUpdate:G}=jk(),B="single"===_&&!y,{connectingAttributesLoading:W,connectingAttributes:z}=function(e,t){const i=qb(ko),r=qb(Uo),a=i&&r,n=(0,R.useMemo)((()=>t.map((t=>[e,t]))),[t,e]),{run:o,result:l,status:s,error:d}=eD({queryCreator:$v});(0,R.useEffect)((()=>{a&&o(n)}),[n,o,a]);const c=(0,R.useMemo)((()=>"pending"===s||"running"===s),[s]);return a?{connectingAttributes:l,connectingAttributesLoading:c,connectingAttributesError:d}:{connectingAttributes:[],connectingAttributesError:void 0,connectingAttributesLoading:!1}}(S.attributeFilter.displayForm,C),{validNeighbourAttributesLoading:V,validNeighbourAttributes:j}=((e,t)=>{const i=qb(jl),r=qb(ko),n=qb(Uo),o=i&&r&&!n,l=qb(vd),{run:s,result:d,status:c,error:u}=eD({queryCreator:Xv});(0,R.useEffect)((()=>{o&&s(e)}),[e,s,o]);const g=(0,R.useMemo)((()=>"pending"===c||"running"===c),[c]);return o?{validNeighbourAttributes:t.filter((e=>{const t=l.get(e)?.attribute;return d?.some((e=>(0,a.areObjRefsEqual)(t,e)))??!1})),validNeighbourAttributesLoading:g,validNeighbourAttributesError:u}:{validNeighbourAttributes:[],validNeighbourAttributesLoading:!1,validNeighbourAttributesError:void 0}})(x.selectedDisplayForm,C),{attributes:K,attributesLoading:q}=mT(C),Y=(0,R.useCallback)((()=>!y&&A.filter((e=>e.isSelected)).length>0),[A,y]);return W||q||V?R.createElement("div",{className:"gd-loading-equalizer-attribute-filter-config-wrap"},R.createElement(uD.LoadingSpinner,{className:"large gd-loading-equalizer-spinner",color:b?.palette?.complementary?.c9})):t&&z&&j&&K?R.createElement("div",{className:"s-attribute-filter-dropdown-configuration attribute-filter-dropdown-configuration sdk-edit-mode-on"},R.createElement(Ak,null),R.createElement(qk,{categoryTitle:n,resetTitleText:o,onClick:N,onChange:O,showResetTitle:M,attributeTitle:T??w}),R.createElement(Jk,{selectionTitleText:l,multiSelectionOptionText:s,singleSelectionOptionText:d,singleSelectionDisabledTooltip:c,selectionMode:_,onSelectionModeChange:H,disabled:Y()}),I&&A.length>0?R.createElement(wk,{categoryTitle:i}):null,R.createElement(Hk,{currentFilterLocalId:S.attributeFilter.localIdentifier,parents:A,setParents:P,onConnectingAttributeChanged:F,connectingAttributes:z,attributes:K,disabled:B,disabledTooltip:u,validParents:j}),k?R.createElement("div",{className:"s-display-form-configuration"},R.createElement(wk,{categoryTitle:r}),R.createElement("div",{className:"configuration-panel-body"},R.createElement(zk,{displayForms:x.availableDisplayForms,selectedDisplayForm:x.selectedDisplayForm,onChange:L}))):null,f?R.createElement(R.Fragment,null,R.createElement(wk,{categoryTitle:h}),R.createElement(nx,{intl:p,selectedMode:U??a.DashboardAttributeFilterConfigModeValues.ACTIVE,onChanged:e=>{G(e)}})):null):null},lx=({isApplyDisabled:e,onApplyButtonClick:t,onCancelButtonClick:i,onConfigurationButtonClick:r,onDeleteButtonClick:n,cancelText:o,applyText:l,filterDisplayFormRef:s,attributes:d,filterSelectionMode:c})=>{const u=qb(Wc),g=qb(Nl),p=function(e,t){const i=qb(Wc),r=qb(vd).get(e);(0,m.kG)(r);const n=qb(ms);if(!t)return!1;const o=t?.find((e=>(0,a.areObjRefsEqual)(e.ref,r.attribute))),l=n.get(r.attribute)||o;return(0,m.kG)(l),i}(s,d),h="single"===c;return!u&&h?null:R.createElement("div",{className:"gd-attribute-filter-dropdown-actions__next"},R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-left-content__next"},u&&g?R.createElement(R.Fragment,null,R.createElement(vr.AttributeFilterDeleteButton,{onDelete:n}),R.createElement("div",{className:"gd-button-separator"})):null,p?R.createElement(vr.AttributeFilterConfigurationButton,{onConfiguration:r}):null),h?null:R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-right-content__next"},R.createElement(uD.Button,{className:"gd-attribute-filter-cancel-button__next gd-button-secondary gd-button-small cancel-button s-cancel",onClick:i,value:o,title:o}),R.createElement(uD.Button,{disabled:e,className:"gd-attribute-filter-apply-button__next gd-button-action gd-button-small s-apply",onClick:t,value:l,title:l})))},sx=({isSaveDisabled:e,onSaveButtonClick:t,onCancelButtonClick:i,cancelText:r,saveText:a})=>R.createElement("div",{className:"gd-attribute-filter-dropdown-actions__next"},R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-left-content__next"}),R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-right-content__next"},R.createElement(uD.Button,{className:"gd-attribute-filter-cancel-button__next gd-button-secondary gd-button-small cancel-button s-cancel",onClick:i,value:r,title:r}),R.createElement(uD.Button,{disabled:e,className:"gd-attribute-filter-apply-button__next gd-button-action gd-button-small s-apply",onClick:t,value:a,title:a})));function dx(e,t=!0){const{run:i,result:r,status:a,error:n}=eD({queryCreator:Qv});return(0,R.useEffect)((()=>{t&&i(e)}),[e,t,i]),{attributeDataSet:r,attributesDataSetLoading:(0,R.useMemo)((()=>"pending"===a||"running"===a),[a]),attributesDataSetLoadingError:n}}const cx=e=>{const{filter:t,onFilterChanged:i,isDraggable:r,readonly:n,autoOpen:o,onClose:l}=e,{parentFilters:s,parentFilterOverAttribute:d}=Tk(t),c=qb(Jo),u=qb(Wc),g=qb(Fo),m=qb(eu),p=qb(zl),h=(0,R.useMemo)((()=>Vg(t)),[t]),[f,b]=(0,R.useState)(!1),D=tD(),v=qb(Od(t.attributeFilter.localIdentifier)),E=qb(dc(t.attributeFilter.localIdentifier)),y=(0,R.useMemo)((()=>(0,a.filterObjRef)(h)),[h]),I=Kb(),C=(0,R.useCallback)((()=>I(Sf(t.attributeFilter.localIdentifier))),[t,I]),S=(0,FC.Z)(),T=S.formatMessage({id:"gs.list.cancel"}),w=S.formatMessage({id:"attributesDropdown.save"}),A=S.formatMessage({id:"gs.list.apply"}),P=S.formatMessage({id:"attributesDropdown.displayValuesAs"}),F=S.formatMessage({id:"attributesDropdown.filterBy"}),k=S.formatMessage({id:"attributesDropdown.title"}),x=S.formatMessage({id:"attributesDropdown.title.reset"}),L=S.formatMessage({id:"attributesDropdown.selectionMode"}),M=S.formatMessage({id:"attributesDropdown.selectionMode.multi"}),O=S.formatMessage({id:"attributesDropdown.selectionMode.single"}),N=S.formatMessage({id:"attributesDropdown.selectionMode.disabled.tooltip"}),_=S.formatMessage({id:"attributesDropdown.parentFilter.disabled.tooltip"}),H=S.formatMessage({id:"filter.configuration.mode.title"}),U=(0,R.useCallback)((()=>{l&&l()}),[l]),G=(0,R.useMemo)((()=>[y]),[y]),{attributes:B}=mT(G),W=(0,R.useMemo)((()=>wC(m.get(t.attributeFilter.localIdentifier),u,!!g.supportsHiddenAndLockedFiltersOnUI,S)),[m,t.attributeFilter.localIdentifier,u,g.supportsHiddenAndLockedFiltersOnUI,S]),z=(0,R.useMemo)((()=>function(e){(0,vr.useAutoOpenAttributeFilterDropdownButton)(e,Boolean(o)),(0,vr.useOnCloseAttributeFilterDropdownButton)(e,U);const{isOpen:t,title:i}=e,{defaultAttributeFilterTitle:a,displayFormChangeStatus:n,attributeFilterDisplayForm:l}=jk(),{attributeDataSet:s}=dx(l),d=u&&"running"!==n,c=S.formatMessage({id:"filter.dependency.icon.tooltip"},{filterTitle:i,strong:e=>R.createElement("strong",null,e)}),m=(0,R.useMemo)((()=>{if(d&&s&&t)return function(){return R.createElement(vr.AttributeDatasetInfo,{title:i,defaultAttributeFilterTitle:a,attributeDataSet:s})}}),[d,a,s,t,i]),h=p&&g.supportsKeepingDependentFiltersSelection&&v?R.createElement(vr.AttributeFilterDependencyTooltip,{tooltipContent:c}):null;return R.createElement(vr.AttributeFilterDropdownButton,{...e,isDraggable:r,TooltipContentComponent:m,titleExtension:h,className:E?"gd-virtual-attribute-filter-dropdown-button":void 0})}),[o,U,u,S,p,g.supportsKeepingDependentFiltersSelection,v,r,E]),V=(0,R.useMemo)((()=>function(e){const{title:i,configurationChanged:r,displayFormChanged:a,titleChanged:n,onConfigurationSave:o,onConfigurationClose:l,selectionModeChanged:s,modeChanged:d}=jk(),c=!(i&&i.trim().length>0&&(r||a||n||s||d));return R.createElement(R.Fragment,null,f?R.createElement(sx,{isSaveDisabled:c,onSaveButtonClick:()=>{o(),b(!1)},onCancelButtonClick:()=>{b(!1)},cancelText:T,saveText:w}):R.createElement(lx,{...e,filterDisplayFormRef:t.attributeFilter.displayForm,filterSelectionMode:t.attributeFilter.selectionMode,applyText:A,cancelText:T,onConfigurationButtonClick:()=>{b(!0),l(),D.attributeFilterInteraction("attributeFilterConfigurationOpened")},onDeleteButtonClick:()=>{C()},attributes:B}))}),[f,T,w,t.attributeFilter.displayForm,t.attributeFilter.selectionMode,A,B,C]),j=(0,R.useMemo)((()=>function(e){const{displayFormChangeStatus:t}=jk(),i=(0,R.useCallback)((()=>{b(!1)}),[]);return"running"===t?R.createElement(uD.LoadingMask,{height:uD.LOADING_HEIGHT}):R.createElement(R.Fragment,null,f?R.createElement(ox,{intl:S,closeHandler:i,filterRef:y,filterByText:F,displayValuesAsText:P,titleText:k,resetTitleText:x,selectionTitleText:L,multiSelectionOptionText:M,singleSelectionOptionText:O,modeCategoryTitleText:H,singleSelectionDisabledTooltip:N,parentFiltersDisabledTooltip:_,showConfigModeSection:!!g.supportsHiddenAndLockedFiltersOnUI}):R.createElement(vr.AttributeFilterElementsSelect,{...e}))}),[f,y,F,P,k,x,L,M,O,N,_,H,S,g]),K=(0,R.useMemo)((()=>function(e){const i=!!g.supportsShowingFilteredElements&&p,r=()=>{e.onShowFilteredElements?.(),D.attributeFilterInteraction("attributeFilterShowAllValuesClicked")};return"single"===t.attributeFilter.selectionMode?R.createElement(vr.SingleSelectionAttributeFilterStatusBar,{...e,onShowFilteredElements:r,enableShowingFilteredElements:i}):R.createElement(vr.AttributeFilterStatusBar,{...e,onShowFilteredElements:r,onClearIrrelevantSelection:()=>{e.onClearIrrelevantSelection?.(),D.attributeFilterInteraction("attributeFilterClearIrrelevantValuesClicked")},enableShowingFilteredElements:i})}),[t.attributeFilter.selectionMode,g.supportsShowingFilteredElements,p,D]);return R.createElement(Kk,{filter:t,attributes:B},R.createElement(vr.AttributeFilterButton,{title:t.attributeFilter.title,resetOnParentFilterChange:!1,filter:h,onApply:e=>{i(function(e,t,i){return{attributeFilter:{attributeElements:(0,a.filterAttributeElements)(e),displayForm:(0,a.filterObjRef)(e),negativeSelection:(0,a.isNegativeAttributeFilter)(e),localIdentifier:t,title:i}}}(e,t.attributeFilter.localIdentifier,t.attributeFilter.title))},parentFilters:s,parentFilterOverAttribute:d,locale:c,DropdownButtonComponent:z,DropdownActionsComponent:V,ElementsSelectComponent:j,fullscreenOnMobile:!0,selectionMode:t.attributeFilter.selectionMode,selectFirst:!0,attributeFilterMode:n?a.DashboardAttributeFilterConfigModeValues.READONLY:a.DashboardAttributeFilterConfigModeValues.ACTIVE,customIcon:W,StatusBarComponent:K}))},ux=({isSaveDisabled:e,onSaveButtonClick:t,onCancelButtonClick:i,cancelText:r,saveText:a})=>R.createElement("div",{className:"gd-extended-date-filter-actions"},R.createElement("div",{className:"gd-extended-date-filter-actions-left-content"}),R.createElement("div",{className:"gd-extended-date-filter-actions-right-content s-gd-extended-date-filter-actions-right-content"},R.createElement(uD.Button,{className:"gd-button-secondary gd-button-small s-date-filter-cancel",onClick:i,value:r,title:r}),R.createElement(uD.Button,{disabled:e,className:"gd-button-action gd-button-small s-date-filter-apply",onClick:t,value:a,title:a}))),gx=e=>R.createElement("div",{className:"configuration-category"},R.createElement(uD.Typography,{tagName:"h3"},e.categoryTitle)),mx=e=>R.createElement("div",{className:"configuration-panel-header"},R.createElement(uD.Typography,{tagName:"h3",className:"configuration-panel-header-title"},e.headerText)),px=e=>{const{onCancelButtonClick:t,onSaveButtonClick:i,intl:r,dateDataSet:n,defaultDateFilterName:o}=e,{mode:l,changeConfigMode:s,title:d,titleChanged:c,onConfigurationClose:u,onTitleChange:g,onTitleReset:m,onTitleUpdate:p}=((e,t)=>{const i=qb(Vc),r=qb(ru),n=aD(Ci),o=aD(Ti),{title:l,titleChanged:s,onTitleChange:d,onTitleUpdate:c,onTitleReset:u,onConfigurationClose:g}=function(e,t){const{run:i,status:r}=$b({commandCreator:wi,successEvent:"GDC.DASH/EVT.DATE_FILTER_CONFIG.TITLE_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),a=tD(),{title:n}=KS(e,t),[o,l]=(0,R.useState)(n),s=n!==o,d=(0,R.useCallback)((e=>{l(e)}),[]),c=(0,R.useCallback)((()=>{if(s){const r=o!==t?o?.trim():void 0;i(e,r)}}),[o,e,t,i,s]),u=(0,R.useCallback)((()=>{l(void 0),a.dateFilterInteraction("dateFilterTitleResetClicked")}),[a]),g=(0,R.useCallback)((()=>{l(n)}),[n]);return{title:o,titleChanged:s,titleChangeStatus:r,onTitleChange:c,onTitleUpdate:d,onTitleReset:u,onConfigurationClose:g}}(e,t),m=e?r.find((t=>(0,a.areObjRefsEqual)(t.dateDataSet,e)))?.config:i;return{mode:m?.mode??"active",changeConfigMode:t=>{e?o(e,t):n(t)},title:l,titleChanged:s,onTitleChange:d,onTitleUpdate:c,onTitleReset:u,onConfigurationClose:g}})(n,o),h=l,f=qb(Fo),[b,D]=(0,R.useState)(h),v=(0,R.useCallback)((()=>{i(),f.supportsMultipleDateFilters&&g(),f.supportsHiddenAndLockedFiltersOnUI&&s(b)}),[b,g,i,f.supportsMultipleDateFilters,f.supportsHiddenAndLockedFiltersOnUI,s]),E=(0,R.useCallback)((()=>{t(),u()}),[t,u]),y=(0,R.useCallback)((e=>{D(e)}),[]),I=r.formatMessage(ev.filterConfigurationModeTitle),C=r.formatMessage(ev.dateFilterDropdownConfigurationHeader),S=r.formatMessage(ev.dateFilterDropdownConfigurationCancelText),T=r.formatMessage(ev.dateFilterDropdownConfigurationSaveText),w=r.formatMessage(ev.filterConfigurationTitleTitle),A=r.formatMessage(ev.filterConfigurationTitleReset),P=d!==o,F=!(d&&d.trim().length>0)||b===h&&!c,k=f.supportsMultipleDateFilters?R.createElement(qk,{categoryTitle:w,resetTitleText:A,onClick:m,onChange:p,showResetTitle:P,attributeTitle:d??o}):null,x=f.supportsHiddenAndLockedFiltersOnUI?R.createElement("div",null,R.createElement("div",{className:"configuration-category-title"},R.createElement(gx,{categoryTitle:I})),R.createElement(nx,{intl:r,selectedMode:b,onChanged:y})):null;return R.createElement("div",{className:"gd-extended-date-filter-container"},R.createElement("div",{className:"gd-extended-date-filter-body s-extended-date-filters-body"},R.createElement("div",{className:"s-date-filter-dropdown-configuration date-filter-dropdown-configuration sdk-edit-mode-on"},R.createElement(mx,{headerText:C}),k,x),R.createElement(ux,{cancelText:S,saveText:T,onCancelButtonClick:E,onSaveButtonClick:v,isSaveDisabled:F})))},hx=e=>{const t=(0,FC.Z)(),i=qb(Qo),r=qb(Fo),n=qb(Jo),o=qb(Wc),l=qb(al),{filter:s,onFilterChanged:d,config:c,readonly:u,autoOpen:g}=e,m=qb(ts);let p;if(s?.dateFilter.dataSet){const e=m.find((e=>(0,a.areObjRefsEqual)(e.dataSet.ref,s?.dateFilter.dataSet))).dataSet.title;p=c.customFilterName??e}else p=c.customFilterName??t.formatMessage({id:"dateFilterDropdown.title"});const{title:h,mode:f}=KS(s?.dateFilter.dataSet,p),[b,D]=(0,R.useState)(""),{dateFilterOption:v,excludeCurrentPeriod:E}=(0,R.useMemo)((()=>function(e,t,i){const r=i?(a=i,hn(t).find((e=>e.localIdentifier===a))):void 0;var a;const n=pn(e);return!e||n||"absoluteForm"!==r?.type&&"relativeForm"!==r?.type||!fn(t,e)?function(e,t){const i=pn(e);if(!e||i){const{allTime:e}=t;return e?{dateFilterOption:e,excludeCurrentPeriod:!1}:yn(void 0)}const r=vn(e,t);if(r)return{dateFilterOption:r,excludeCurrentPeriod:!1};if("relative"===e.dateFilter.type&&"-1"===e.dateFilter.to?.toString()){const i=function(e,t,i){return hn(t).filter((e=>"relativePreset"===e.type)).find(En(e))}({dateFilter:{...e.dateFilter,from:Number.parseInt(e.dateFilter.from.toString(),10)+1,to:0}},t);if(i)return{dateFilterOption:i,excludeCurrentPeriod:!0}}return fn(t,e)?bn(t,e):yn(e)}(e,t):bn(t,e)}(s,c.dateFilterOptions,b)),[s,c.dateFilterOptions,b]),y=(0,R.useCallback)(((e,t)=>{D(e.localIdentifier),d(function(e,t,i){const r=i??(0,a.idRef)("TEMP"),n=vr.DateFilterHelpers.mapOptionToAfm(e,r,t);if(!n)return{dateFilter:{type:"relative",granularity:"GDC.time.date",dataSet:i}};if((0,a.isRelativeDateFilter)(n)){const{from:e,to:t,granularity:r}=(0,a.relativeDateFilterValues)(n);return{dateFilter:{type:"relative",granularity:r,from:e,to:t,dataSet:i}}}{const{from:e,to:t}=(0,a.absoluteDateFilterValues)(n);return{dateFilter:{type:"absolute",granularity:"GDC.time.date",from:e,to:t,dataSet:i}}}}(e,t,s?.dateFilter.dataSet),e.localIdentifier)}),[d,s?.dateFilter.dataSet]),I=i.formatLocale?(0,vr.getLocalizedIcuDateFormatPattern)(i.formatLocale):i.responsiveUiDateFormat,C=wC(f,o,!!r.supportsHiddenAndLockedFiltersOnUI,t),S=o&&(!!r.supportsHiddenAndLockedFiltersOnUI||!!r.supportsMultipleDateFilters),T=(0,R.useMemo)((()=>function(e){return R.createElement(px,{...e,intl:t,dateDataSet:s?.dateFilter.dataSet,defaultDateFilterName:p})}),[t,s?.dateFilter.dataSet,p]);return R.createElement(vr.DateFilter,{excludeCurrentPeriod:E,selectedFilterOption:v,dateFilterMode:u?a.DashboardDateFilterConfigModeValues.READONLY:a.DashboardDateFilterConfigModeValues.ACTIVE,filterOptions:c.dateFilterOptions,availableGranularities:c.availableGranularities,customFilterName:h,onApply:y,dateFormat:I,locale:n,isTimeForAbsoluteRangeEnabled:!!r.supportsTimeGranularities,isEditMode:o,openOnInit:g,weekStart:l,customIcon:C,showDropDownHeaderMessage:!s?.dateFilter.dataSet,FilterConfigurationComponent:S?T:void 0})},fx=({item:e})=>{const t=(0,PI.Fg)(),i=qb((e=>(0,Po.createSelector)(Yl,(t=>t.find((t=>t.displayForms.some((t=>function(e,t){return(0,a.areObjRefsEqual)((0,a.idRef)(e.id,e.type),t)||(0,a.areObjRefsEqual)((0,a.uriRef)(e.uri),t)}(t,e.attributeFilter.displayForm))))))))(e.filter));return i?R.createElement("div",{className:"attribute-filter-button is-dragging"},R.createElement(uD.Icon.DragHandle,{width:7,height:26,className:"drag-handle-icon",color:t?.palette?.complementary?.c5}),R.createElement("div",{className:"button-content"},R.createElement("div",{className:"button-title"},R.createElement(uD.ShortenedText,null,i.attribute.title)))):null};function bx({className:e,isOpen:t,title:i}){const r=(0,FC.Z)();i=i??r.formatMessage({id:"addPanel.attributeFilter"});const a=dy(e,"is-loaded",{"is-active":t});return R.createElement("div",{className:a},R.createElement("div",{className:"button-content"},R.createElement("div",{className:"button-title"},i)))}function Dx(e){const t=(0,FC.Z)(),{elements:i,totalCount:r}=e,a=r-i.length;return R.createElement(R.Fragment,null,i.map(((e,i)=>R.createElement("span",{key:i,className:"gd-attribute-element s-attribute-element"},e.title||`(${t.formatMessage({id:"empty_value"})})`,R.createElement("br",null)))),a>0&&R.createElement("span",{key:i.length,className:"attribute-tooltip-elements-more"},R.createElement(AI.Z,{id:"attributesDropdown.details.shortening_decoration",values:{count:a}})))}const vx=({item:e,attributesDataSetLoading:t,attributesElementsLoading:i,attributeDataSet:r,attributeElements:a})=>R.createElement("div",{className:"gd-attribute-dropdown-list-tooltip-content s-attribute-dropdown-item-list-tooltip-content"},R.createElement("h3",{className:"s-attribute-filter-tooltip-header"},e.attribute.title),R.createElement("h4",null,R.createElement(AI.Z,{id:"attributesDropdown.details.dataset"})),R.createElement("p",{className:"s-attribute-filter-tooltip-item-dataset"},t?R.createElement(AI.Z,{id:"loading"}):r?.title),R.createElement("h4",null,R.createElement(AI.Z,{id:"attributesDropdown.details.values"})),R.createElement("p",{className:"s-attribute-filter-tooltip-item-elements"},i?R.createElement(AI.Z,{id:"loading"}):R.createElement(Dx,{elements:a.elements,totalCount:a.totalCount}))),Ex=[{align:"tr tl",offset:{x:0,y:-50}},{align:"tl tr",offset:{x:-170,y:-80}}],yx=({item:e})=>{const[t,i]=(0,R.useState)(!1),{attributeElements:r,attributesElementsLoading:a}=function(e,t,i){const{run:r,result:a,status:n,error:o}=eD({queryCreator:Jv});return(0,R.useEffect)((()=>{i&&r(e,5)}),[e,i,5,r]),{attributeElements:a,attributesElementsLoading:(0,R.useMemo)((()=>"pending"===n||"running"===n),[n]),attributeElementsLoadingError:o}}(e.defaultDisplayForm.ref,0,t),{attributeDataSet:n,attributesDataSetLoading:o}=dx(e.attribute.ref,t);return R.createElement("div",null,R.createElement(uD.BubbleHoverTrigger,{showDelay:0,hideDelay:0,eventsOnBubble:!0,className:"gd-attribute-item-tooltip-icon"},R.createElement("span",{onMouseEnter:()=>i(!0),className:"gd-icon-circle-question gd-list-item-tooltip-icon s-attribute-dropdown-list-item-tooltip"}),R.createElement(uD.Bubble,{className:"gd-attribute-dropdown-list-item-details s-attribute-filter-details-bubble",alignPoints:Ex,arrowStyle:{display:"none"}},R.createElement(vx,{item:e,attributesDataSetLoading:o,attributesElementsLoading:a,attributeDataSet:n,attributeElements:r}))))},Ix=[{align:"cr cl",offset:{x:10,y:0}},{align:"cl cr",offset:{x:-10,y:0}}],Cx=({item:e,isLocationIconEnabled:t,onClick:i})=>{const r=(0,R.useMemo)((()=>{const i=t&&!p(e?.geoPinDisplayForms);return dy(`s-${NS.gl(e.attribute.title)}`,"gd-attribute-list-item",{"gd-list-item":!0,"gd-list-item-shortened":!0,"type-attribute":!i,"type-geo_attribute":i})}),[e,t]);return R.createElement("div",{key:e.attribute.id,className:r,onClick:i},R.createElement(uD.ShortenedText,{tooltipAlignPoints:Ix},e.attribute.title),R.createElement(yx,{item:e}))},Sx=["pushpin"],Tx=(e,t)=>e.map((e=>t.get(e?.insight))).map((e=>e&&(0,a.insightVisualizationType)(e))).some((e=>Sx.includes(e))),wx=[{align:"cr cl",offset:{x:10,y:0}},{align:"cl cr",offset:{x:-10,y:0}}],Ax=({item:e,onClick:t})=>{const i=(0,R.useMemo)((()=>dy(`s-${NS.gl(e.dataSet.title)}`,"gd-attribute-list-item",{"gd-list-item":!0,"gd-list-item-shortened":!0,"type-date":!0})),[e]);return R.createElement("div",{key:e.dataSet.id,className:i,onClick:t},R.createElement(uD.ShortenedText,{tooltipAlignPoints:wx},e.dataSet.title))},Px=[{align:"bl tl"},{align:"tr tl"},{align:"tr tl",offset:{x:0,y:-100}},{align:"tr tl",offset:{x:0,y:-50}},{align:"br tr",offset:{x:-10,y:0}},{align:"tl tr",offset:{x:0,y:-100}},{align:"tl tr",offset:{x:0,y:-50}}],Rx=253;function Fx({className:e,bodyClassName:t,onClose:i,onSelect:r}){const n=(0,FC.Z)(),[o,l]=(0,R.useState)(""),[s,d]=(0,R.useState)(!1);(0,R.useEffect)((()=>{const e=window.setTimeout((()=>d(!0)),500);return()=>{null!==e&&window.clearTimeout(e)}}),[]);const c=qb(Vl),u=qb(Ko),g=qb(Yl),m=qb(ts),p=qb(Qu),h=qb(Ac),f=(0,R.useMemo)((()=>Tx(h,p)),[h,p]),b=(0,R.useCallback)(zT((e=>{l(e)}),250),[]),D=(0,R.useCallback)((e=>{e||i()}),[i]),v=dy(e,"s-attribute_select","attribute-filter-dropdown","add-attribute-filter-dropdown"),E=o?g.filter((e=>e.attribute.title.toLowerCase().includes(o.toLowerCase()))):g,y=c&&u,I=o?m.filter((e=>e.dataSet.title.toLowerCase().includes(o.toLowerCase()))):m,[C,S]=(0,R.useState)(0===g.length&&y?"dateDatasets":"attributes"),T=(0,R.useCallback)((e=>{S(e.id)}),[]),w=[];g.length&&w.push({id:"attributes",iconOnly:!0,icon:"gd-icon-attribute"}),y&&m.length&&w.push({id:"dateDatasets",iconOnly:!0,icon:"gd-icon-date"});const A=n.formatMessage({id:"addPanel.filter"}),P="attributes"===C?E:I,F=y&&w.length>1;return R.createElement(uD.Dropdown,{className:v,onOpenStateChanged:D,closeOnParentScroll:s,closeOnMouseDrag:!0,closeOnOutsideClick:!0,alignPoints:Px,openOnInit:!0,renderButton:({isOpen:e})=>R.createElement(bx,{className:"attribute-filter-button mobile-dropdown-button",isOpen:e,title:A}),renderBody:({closeDropdown:e})=>R.createElement("div",{className:dy(t,"attributes-list")},R.createElement(uD.DropdownList,{width:Rx,showTabs:F,tabs:w,tabsClassName:"date-attribute-dropdown-tabs s-filter-attribute-dropdown-tabs",selectedTabId:C,onTabSelect:T,items:P,searchFieldSize:"small",showSearch:!0,onSearch:b,searchString:o,searchPlaceholder:n.formatMessage({id:"attributesDropdown.placeholder"}),renderItem:({item:t})=>(0,a.isCatalogAttribute)(t)?R.createElement(Cx,{item:t,isLocationIconEnabled:f,onClick:()=>{r(t.defaultDisplayForm.ref),e()}}):R.createElement(Ax,{item:t,onClick:()=>{r(t.dataSet.ref),e()}})}))})}const kx=e=>{const{Component:t,disabled:i}=e,r=e.WrapCreatePanelItemWithDragComponent;return R.createElement(r,{...e},R.createElement(t,{disabled:i}))},xx={type:"attributeFilter-placeholder"},Lx=({CreatePanelItemComponent:e,WrapCreatePanelItemWithDragComponent:t,disabled:i})=>R.createElement(kx,{Component:e,WrapCreatePanelItemWithDragComponent:t,dragItem:xx,disabled:i,hideDefaultPreview:!1});function Mx({disabled:e}){const t=qb(Vl),i=dy("add-item-placeholder","add-attribute-filter-placeholder","s-add-attribute-filter",{disabled:e});return R.createElement("div",{className:i},R.createElement(AI.Z,{id:t?"addPanel.filter":"addPanel.attributeFilter"}))}function Ox(e){const{WrapCreatePanelItemWithDragComponent:t}=e,i=qb(Zl),r=qb(is),a=qb(Ko),n=qb(Md),o=qb(sl),l=a?!i&&!r:!i,s=l||!n,d=s&&l?R.createElement("div",null,a?R.createElement(AI.Z,{id:"addPanel.attributeFilter.tooltip.no_items"}):R.createElement(AI.Z,{id:"addPanel.attributeFilter.tooltip.no_attributes"})," ",o?null:R.createElement("a",{href:"https://help.gooddata.com/display/doc/Attributes+in+Logical+Data+Models",rel:"noopener noreferrer",target:"_blank",className:"s-add-attribute-filter-tooltip-link"},R.createElement(AI.Z,{id:"addPanel.attributeFilter.tooltip.no_attributes.link"}))):void 0;return R.createElement(uD.BubbleHoverTrigger,{eventsOnBubble:!0,className:"s-add-attribute-filter-bubble-trigger"},R.createElement(Lx,{CreatePanelItemComponent:Mx,WrapCreatePanelItemWithDragComponent:t,disabled:s}),d?R.createElement(uD.Bubble,{alignPoints:[{align:"cr cl",offset:{x:-20,y:0}}]},d):null)}function Nx(e){return{MainComponentProvider:e,creating:{CreatingPlaceholderComponent:Fx,CreatePanelListItemComponent:Ox,type:"attributeFilter-placeholder",priority:10},dragging:{DraggingComponent:fx,type:"attributeFilter"}}}const _x=({item:e})=>{const t=(0,PI.Fg)(),i=qb(us).get(e.filter.dateFilter.dataSet),r=i?i.dataSet.title:"",{title:a}=KS(e.filter.dateFilter.dataSet,r);return i?R.createElement("div",{className:"s-date-filter-drag attribute-filter-button is-dragging"},R.createElement(uD.Icon.DragHandle,{width:7,height:26,className:"drag-handle-icon",color:t?.palette?.complementary?.c5}),R.createElement("div",{className:"button-content"},R.createElement("div",{className:"button-title"},R.createElement(uD.ShortenedText,null,a)))):null};function Hx(e){return{MainComponentProvider:e,creating:{CreatingPlaceholderComponent:Fx,CreatePanelListItemComponent:Ox,type:"attributeFilter-placeholder",priority:10},dragging:{DraggingComponent:_x,type:"dateFilter"}}}function Ux(e,t){return(t.drillContext.intersection||[]).map((e=>e.header)).filter(Z.isDrillIntersectionAttributeItem).filter((t=>t.attributeHeader.localIdentifier===e)).map((e=>e.attributeHeaderItem.name))[0]}var Gx;!function(e){e.DRILL_TO_DASHBOARD="drill-to-dashboard",e.DRILL_TO_INSIGHT="drill-to-insight",e.DRILL_TO_URL="drill-to-url",e.DRILL_DOWN="drill-down",e.CROSS_FILTERING="cross-filtering"}(Gx=Gx||(Gx={}));const Bx={[Gx.DRILL_TO_DASHBOARD]:"DrillToDashboard",[Gx.DRILL_TO_INSIGHT]:"DrillToInsight",[Gx.DRILL_TO_URL]:"Hyperlink",[Gx.DRILL_DOWN]:"DrillDown",[Gx.CROSS_FILTERING]:"AttributeFilter"},Wx=e=>{const t=(0,PI.Fg)(e.theme),{item:{name:i,type:r,drillDefinition:a,attributeValue:n}}=e,o=dy("gd-drill-modal-picker-list-item","s-gd-drill-modal-picker-item",`s-${r}`),l=uD.Icon[Bx[r]],s=ka([i,n?`(${n})`:""]).join(" ");return R.createElement("a",{onClick:t=>{t.preventDefault(),e.onClick(a)},className:o,title:s},R.createElement("div",{className:"gd-drill-modal-picker-icon-wrapper"},R.createElement(l,{color:t?.palette?.complementary?.c5})),i?R.createElement("p",null,i,n?R.createElement("span",null," (",n,")"):null):R.createElement("div",{className:"gd-drill-to-url-modal-picker s-drill-to-url-modal-picker"},R.createElement("div",{className:"gd-spinner small"})))},zx=e=>{const{items:t}=e,[i,r]=Li(t,(e=>Yh(e.drillDefinition)||(0,a.isCrossFiltering)(e.drillDefinition))),[n,o]=Li(i,(e=>Yh(e.drillDefinition))),l=t=>t.map((t=>R.createElement(Wx,{key:t.id,item:t,onClick:e.onSelect})));return R.createElement("div",{className:"gd-drill-modal-picker-selector-list"},(e=>e?.length>0?R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-modal-picker-title"},R.createElement(AI.Z,{id:"drill_modal_picker.drill-down",tagName:"span"})),l(e)):null)(n),(e=>e?.length>0?R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-modal-picker-title"},R.createElement(AI.Z,{id:"drill_modal_picker.drill-into",tagName:"span"})),l(e)):null)(r),(e=>e?.length>0?R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-modal-picker-title"},R.createElement(AI.Z,{id:"drill_modal_picker.cross-filter",tagName:"span"})),l(e)):null)(o))},Vx=e=>{const{items:t,onSelect:i}=e;return R.createElement("div",{className:"gd-drill-modal-picker-dropdown s-drill-item-selector-dropdown",onScroll:e=>{e.stopPropagation()}},R.createElement("div",{className:"gd-drill-modal-picker-body"},R.createElement(zx,{items:t,onSelect:i})))},jx=e=>{const{isOpen:t,dropDownAnchorClass:i,onClose:r,onSelect:a,drillDefinitions:n,drillEvent:o}=e,l=(0,FC.Z)(),s=qb(Sg),d=qb(Du),c=qb(Qu),u=(0,R.useMemo)((()=>Kx(n,o,c,s,d,l)),[n,o,c,s,d,l]);return t?R.createElement("div",{className:"gd-drill-modal-picker-overlay-mask"},R.createElement(uD.Overlay,{closeOnOutsideClick:!0,closeOnEscape:!0,alignTo:`.${i}`,onClose:r},R.createElement(Vx,{items:u,onSelect:a}))):null},Kx=(e,t,i,r,n,o)=>{const l=e.filter(IT).length;return e.map((e=>{if((0,m.kG)(!(0,a.isDrillToLegacyDashboard)(e),"Drill to pixel perfect dashboards from insight is not supported."),Yh(e)){const{title:i}=e,r=Ux(_a(e),t);return{type:Gx.DRILL_DOWN,name:i??r??"NULL",drillDefinition:e,id:Jr(e)}}if((0,a.isDrillToInsight)(e)){const t=i.get(e.target),r=t&&(0,a.insightTitle)(t);return{type:Gx.DRILL_TO_INSIGHT,name:r,drillDefinition:e,id:Jr(e)}}if((0,a.isDrillToDashboard)(e)){const t=e.target?((e,t)=>{const i=t.find((t=>$w(t.identifier,t.ref,e)));return i?i.title:null})(e.target,r):n;return{type:Gx.DRILL_TO_DASHBOARD,name:t,drillDefinition:e,id:Jr(e)}}if(IT(e)){const i=_a(e),r=(0,a.isDrillFromAttribute)(e.origin)&&l>1?Ux(i,t):void 0;return{type:Gx.DRILL_TO_URL,name:o.formatMessage({id:"drill_modal_picker.more.details"}),drillDefinition:e,attributeValue:r,id:Jr(e)}}if((0,a.isCrossFiltering)(e))return{name:ka(t.drillContext.intersection?.map((e=>(0,a.isAttributeDescriptor)(e.header)&&!e.header.attributeHeader.granularity?e.header.attributeHeader.name:void 0))).join(", "),type:Gx.CROSS_FILTERING,drillDefinition:e,id:Jr(e)};const s=e;throw new Z.UnexpectedSdkError(`Unhandled drill definition: ${JSON.stringify(s)}`)}))},qx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:wv,successEvent:"GDC.DASH/EVT.DRILL.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Yx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:Av,successEvent:"GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Zx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:Pv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),$x=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:Rv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Xx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:kv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Qx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:Fv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Jx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:xv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),eL=({onSuccess:e,onError:t,onBeforeRun:i}={})=>$b({commandCreator:Mv,successEvent:"GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i});function tL({widgetRef:e,children:t,insight:i,onDrillDownSuccess:r,onDrillToInsightSuccess:n,onDrillToDashboardSuccess:o,onDrillToAttributeUrlSuccess:l,onDrillToCustomUrlSuccess:s,onError:d}){const{current:c}=(0,R.useRef)((0,Q.Z)()),[u,g]=(0,R.useState)(null),[m,p]=(0,R.useState)(!0),h=qb(Jo),f=qb(dl),b=qb(Ic(e)),{supportsAttributeHierarchies:D}=qb(Fo),v=function({onDrill:e,onDrillSuccess:t,onDrillError:i,onDrillDown:r,onDrillDownSuccess:a,onDrillDownError:n,onDrillToInsight:o,onDrillToInsightSuccess:l,onDrillToInsightError:s,onDrillToDashboard:d,onDrillToDashboardSuccess:c,onDrillToDashboardError:u,onDrillToAttributeUrl:g,onDrillToAttributeUrlSuccess:m,onDrillToAttributeUrlError:p,onDrillToCustomUrl:h,onDrillToCustomUrlSuccess:f,onDrillToCustomUrlError:b,onDrillToLegacyDashboard:D,onDrillToLegacyDashboardSuccess:v,onDrillToLegacyDashboardError:E,onCrossFiltering:y,onCrossFilteringSuccess:I,onCrossFilteringError:C,onError:S}){return{drill:qx({onBeforeRun:e,onSuccess:t,onError:i??S}),drillDown:Yx({onBeforeRun:r,onSuccess:a,onError:n??S}),drillToInsight:Zx({onBeforeRun:o,onSuccess:l,onError:s??S}),drillToDashboard:$x({onBeforeRun:d,onSuccess:c,onError:u??S}),drillToAttributeUrl:Xx({onBeforeRun:g,onSuccess:m,onError:p??S}),drillToCustomUrl:Qx({onBeforeRun:h,onSuccess:f,onError:b??S}),drillToLegacyDashboard:Jx({onBeforeRun:D,onSuccess:v,onError:E??S}),crossFiltering:eL({onBeforeRun:y,onSuccess:I,onError:C??S})}}({onDrillSuccess:e=>{if(f||0===e.payload.drillEvent.drillDefinitions.length)return;const t=e.payload.drillEvent.drillDefinitions,i=e.payload.drillEvent,r=e.payload.drillContext,n=D?t:function(e,t=[]){const i=Zu(e,Ma),r=ka(i.map((e=>{if(!(0,a.isDrillToLegacyDashboard)(e)&&Ua(e,t))return _a(e)})));return i.filter((e=>!(!(0,a.isDrillToLegacyDashboard)(e)&&!(0,a.isCrossFiltering)(e)&&!Ua(e,t)&&r.includes(_a(e)))))}(t,b);1===n.length?E(n[0],i,e.correlationId,r):n.length>1&&(g({drillDefinitions:n,drillEvent:i,drillContext:r,correlationId:e.correlationId}),p(!0))},onDrillDownSuccess:r,onDrillToInsightSuccess:n,onDrillToDashboardSuccess:o,onDrillToAttributeUrlSuccess:l,onDrillToCustomUrlSuccess:s,onError:e=>d?.(e.payload.error)}),E=(0,R.useCallback)(((e,t,r,n)=>{const o=t??u?.drillEvent,l=r??u?.correlationId,s=n?.insight??i;o&&(Yh(e)?v.drillDown.run(s,e,o,l):(0,a.isDrillToInsight)(e)?v.drillToInsight.run(e,o,l):(0,a.isDrillToDashboard)(e)?v.drillToDashboard.run(e,o,l):(0,a.isDrillToAttributeUrl)(e)?v.drillToAttributeUrl.run(e,o,l):(0,a.isDrillToCustomUrl)(e)?v.drillToCustomUrl.run(e,o,l):(0,a.isCrossFiltering)(e)&&v.crossFiltering.run(i,e,o,l),g(null),p(!1))}),[u,i]),y=`s-drill-picker-${c}`,I=u?R.createElement(qI,{locale:h},R.createElement(jx,{...u,dropDownAnchorClass:y,isOpen:m,onClose:()=>{p(!1)},onSelect:E})):null;return R.createElement("div",{className:dy("gd-drill-modal-wrapper-mask",y)},t({onDrill:v.drill.run}),I)}var iL=i(30236);const rL=e=>{const{widget:t,insight:i}=e,r=qb(Qo);return(0,R.useMemo)((()=>{if(!i)return i;const e=t.properties;if(!e)return i;const n={...e,controls:{...e?.controls,zoomInsight:!(!r.enableKDZooming||!e?.controls?.zoomInsight)}},o=(0,a.insightProperties)(i),l=iL({},o,n,((e,t)=>{if(Hn(e))return t}));return(0,a.insightSetProperties)(i,l)}),[i,t.properties,r])},aL=[{align:"bc tc",offset:{x:0,y:0}}],nL=({className:e,headline:t,text:i})=>R.createElement(uD.BubbleHoverTrigger,null,R.createElement("div",{className:`info-label-icon ${e}`}),R.createElement(uD.Bubble,{alignPoints:aL},R.createElement(AI.Z,{id:t}),R.createElement("br",null),R.createElement(AI.Z,{id:i}))),oL={height:"100%",width:"100%"},lL=({children:e})=>R.createElement("div",{className:"gd-visualization-content",style:oL},R.createElement("div",{className:"info-label"},R.createElement("div",{style:oL},e))),sL=({fullContent:e})=>R.createElement(lL,null,e?R.createElement("div",{className:"info-label-icon gd-icon-warning"},R.createElement(uD.Typography,{tagName:"h2"},R.createElement(AI.Z,{id:"visualization.execute_protected_report.headline",tagName:"span"})),R.createElement(uD.Typography,{tagName:"h2"},R.createElement(AI.Z,{id:"visualization.execute_protected_report.text",tagName:"span"}))):R.createElement(nL,{className:"gd-icon-warning",headline:"visualization.execute_protected_report.headline",text:"visualization.execute_protected_report.text"})),dL=({fullContent:e})=>R.createElement(lL,null,e?R.createElement("div",{className:"info-label-icon gd-icon-rain"},R.createElement(uD.Typography,{tagName:"h2"},R.createElement(AI.Z,{id:"visualization.dataTooLarge.headline",tagName:"span"})),R.createElement(uD.Typography,{tagName:"p"},R.createElement(AI.Z,{id:"visualization.dataTooLarge.text",tagName:"span"}))):R.createElement(nL,{className:"gd-icon-rain",headline:"visualization.dataTooLarge.headline",text:"visualization.dataTooLarge.text"})),cL=[{align:"bc tc",offset:{x:0,y:0}}],uL=({fullContent:e})=>R.createElement("div",{className:"gd-visualization-content visualization-empty"},R.createElement("div",{className:"info-label info-label-empty"},e?R.createElement(R.Fragment,null,R.createElement("div",{className:"info-label-icon-empty"}),R.createElement(uD.Typography,{tagName:"p"},R.createElement(AI.Z,{id:"visualization.empty.headline",tagName:"span"}))):R.createElement(uD.BubbleHoverTrigger,null,R.createElement("div",{className:"info-label-icon-empty"}),R.createElement(uD.Bubble,{alignPoints:cL},R.createElement(AI.Z,{id:"visualization.empty.headline",tagName:"span"}))))),gL=({fullContent:e})=>R.createElement(lL,null,e?R.createElement("div",{className:"info-label-icon gd-icon-warning"},R.createElement(uD.Typography,{tagName:"h2"},R.createElement(AI.Z,{id:"visualization.error.headline",tagName:"span"})),R.createElement(uD.Typography,{tagName:"p"},R.createElement(AI.Z,{id:"visualization.error.text",tagName:"span"}))):R.createElement(nL,{className:"gd-icon-warning",headline:"visualization.error.headline",text:"visualization.error.text"})),mL=({error:e,height:t,width:i,isCustomWidgetHeightEnabled:r,forceFullContent:a})=>{const n=a||!r||((e,t)=>{if(!e||!t)return!1;const i=Math.min(t,e),r=Math.max(t,e);return i>=200&&r>=380})(t,i);return(0,Z.isProtectedReport)(e)?R.createElement(sL,{fullContent:n}):(0,Z.isDataTooLargeToDisplay)(e)||(0,Z.isDataTooLargeToCompute)(e)?R.createElement(dL,{fullContent:n}):(0,Z.isNoDataSdkError)(e)?R.createElement(uL,{fullContent:n}):e?R.createElement(gL,{fullContent:n}):null},pL=e=>{const{insight:t,widget:i}=e,{InsightBodyComponentProvider:r}=ny(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,{...e})},hL=(0,Po.createSelector)([Jo,Qo,tl],((e,t,i)=>({locale:e,settings:t,colorPalette:i}))),fL=(0,Po.createSelector)([rl,el,nc,ll,Wc],((e,t,i,r,a)=>({mapboxToken:e,separators:t,forceDisableDrillOnAxes:!i?.length,isExportMode:r,isInEditMode:a}))),bL=e=>{const{insight:t,widget:i,clientHeight:r,clientWidth:n,backend:o,workspace:l,onError:s,onDrill:d,onLoadingChanged:c,onExportReady:u,ErrorComponent:g,LoadingComponent:m}=e,p=(0,a.widgetRef)(i),{ErrorComponent:h,LoadingComponent:f}=ny({ErrorComponent:g,LoadingComponent:m}),b=(0,Z.useBackendStrict)(o),D=(0,Z.useWorkspaceStrict)(l),v=cD(p),{locale:E,settings:y,colorPalette:I}=qb(hL),{enableKDWidgetCustomHeight:C}=qb(Qo),S=qb(Wc),T=qb(uc(p)),w=qb(fL),[A,P]=(0,R.useState)(!1),[F,k]=(0,R.useState)(),{onRequestAsyncRender:x,onResolveAsyncRender:L}=nD((0,a.objRefToString)(p)),M=(0,R.useCallback)((({isLoading:e})=>{e?(x(),k(void 0)):L(),v.onLoadingChanged({isLoading:e}),P(e),c?.({isLoading:e})}),[c,v.onLoadingChanged]),{result:O,status:N,error:_}=Tw(i,t),H=(0,R.useMemo)((()=>(0,a.insightSetFilters)(t,O)),[t,Jr(O)]),U=rL({insight:H??t,widget:i}),{drillableItems:G,onDrill:B,onPushData:W}=(({widget:e,insight:t,onDrill:i})=>{const r=Kb(),a=qb(Ig(e.ref)),n=qb(Sl),o=t.insight.properties.controls?.disableDrillDown,l=(0,R.useCallback)((t=>{const i=((e,t)=>e?t?e:{...e,attributes:void 0}:e)(t?.availableDrillTargets,n);i&&!Ma(a?.availableDrillTargets,i)&&r(Zv(e.ref,i))}),[a,e.ref,n,r]),s=qb(Wc),d=qb(kE(e.ref)),c=(0,R.useMemo)((()=>s?[]:d),[s,d]),u=qb(FE(e.ref));return{drillableItems:c,onPushData:l,onDrill:i?r=>{const a=Z.DataViewFacade.for(r.dataView),n=u.filter((e=>!(o&&"drillDown"===e.drillDefinition.type)&&r.drillContext.intersection?.some((t=>(0,Z.isSomeHeaderPredicateMatched)(e.predicates,t.header,a))))),l={...r,widgetRef:e.ref,drillDefinitions:n.map((e=>e.drillDefinition))};return"function"==typeof i&&i(l,{insight:t,widget:e})}:void 0}})({widget:i,insight:t,onDrill:d}),z=function(e,t){const i=(0,a.widgetRef)(e),r=Kb(),n=qb(Wc),o=(0,a.insightVisualizationType)(t);return(0,R.useCallback)((e=>{var t;n&&(t=e.properties,t?.controls?.columnWidths)&&"table"===o&&r(Mp(i,e.properties))}),[r,i,o,n])}(i,t),V=(0,R.useCallback)((e=>{W(e),v.onPushData(e),z(e)}),[W,v.onPushData,z]),j=t&&(0,a.insightVisualizationUrl)(t).includes("headline")&&n&&n<180&&!C,K=(0,R.useCallback)((e=>{k(e),s?.(e),v.onError(e)}),[s,v.onError]),q=_??F,Y=(0,R.useMemo)((()=>({width:"100%",height:"100%",position:j?"relative":"absolute"})),[j]),$=(0,R.useMemo)((()=>A||q?{height:0}:void 0),[A,q]),X=(0,a.insightProperties)(U),Q=X?.controls?.zoomInsight;return R.createElement("div",{className:dy("visualization-content",{"in-edit-mode":S})},R.createElement("div",{className:dy("gd-visualization-content",{zoomable:Q}),style:Y},R.createElement(qI,{locale:E},"running"===N||A?R.createElement(f,null):null,q?R.createElement(mL,{error:q,isCustomWidgetHeightEnabled:!!y?.enableKDWidgetCustomHeight,height:r,width:n}):null,"success"===N?R.createElement("div",{className:"insight-view-visualization",style:$},R.createElement(pL,{widget:i,insight:U,backend:b,workspace:D,drillableItems:G,onDrill:B,config:{...w,selectedPoints:T},onLoadingChanged:M,locale:E,settings:y,colorPalette:I,onError:K,pushData:V,ErrorComponent:h,LoadingComponent:f,onExportReady:u})):null)))},DL=e=>{const{widget:t,onDrillDown:i,onDrillToInsight:r,onDrillToAttributeUrl:a,onDrillToCustomUrl:n,onDrillToDashboard:o}=e;return R.createElement(tL,{widgetRef:t.ref,insight:e.insight,onDrillDownSuccess:i,onDrillToInsightSuccess:r,onDrillToAttributeUrlSuccess:a,onDrillToCustomUrlSuccess:n,onDrillToDashboardSuccess:o},(({onDrill:t})=>R.createElement(bL,{...e,onDrill:t})))},vL=e=>(e?"https://help.gooddata.com/pages/viewpage.action?pageId=86793763&":"https://gooddata.com/?")+"utm_medium=platform&utm_source=product&utm_content=logo",EL=(0,Po.createSelector)([ol,hl,fl],((e,t,i)=>e&&"free"===t&&i)),yL=({isSmall:e})=>{const t=qb(Jp),i=qb(EL),r=tD();return R.createElement(R.Fragment,null,i?R.createElement("div",{className:dy("gd-powered-by-logo-wrapper",{"gd-powered-by-logo-wrapper-small":e,"gd-powered-by-logo-wrapper-large":!e}),onClick:r.poweredByGDLogoClicked},R.createElement("a",{className:dy("gd-powered-by-logo-img",{"gd-powered-by-logo-img-small":e,"gd-powered-by-logo-img-large":!e}),href:vL(t),target:"_blank",rel:"noopener noreferrer","aria-label":"Powered by GoodData"})):null)},IL=[{align:"tc bc",offset:{x:-10,y:-5}}],CL=({showDropdown:e,toggleShowDropdown:t,exportXLSXEnabled:i,onExportXLSX:r,exportCSVEnabled:a,onExportCSV:n})=>e?R.createElement(uD.Overlay,{key:"DrillModalOptionsMenu",alignTo:".export-drilled-insight",alignPoints:IL,className:"gd-header-menu-overlay s-drill-modal-export-options",closeOnOutsideClick:!0,onClose:t},R.createElement(uD.ItemsWrapper,{smallItemsSpacing:!0},i?R.createElement(uD.Item,{onClick:r,className:"options-menu-export-xlsx s-export-drilled-insight-xlsx"},R.createElement(AI.Z,{id:"widget.options.menu.exportToXLSX"})):null,a?R.createElement(uD.Item,{onClick:n,className:"options-menu-export-csv s-export-drilled-insight-csv"},R.createElement(AI.Z,{id:"widget.options.menu.exportToCSV"})):null)):null,SL=[{align:"tc bc"}],TL=({exportAvailable:e,exportXLSXEnabled:t,onExportXLSX:i,exportCSVEnabled:r,onExportCSV:a,isLoading:n})=>{const[o,l]=(0,R.useState)(!1),s=(0,R.useCallback)((()=>l((e=>!e))),[]),d=(0,R.useCallback)((()=>{i(),l(!1)}),[i]),c=(0,R.useCallback)((()=>{a(),l(!1)}),[a]),u=!e||!t&&!r,g=(0,R.useMemo)((()=>R.createElement("button",{onClick:s,className:dy("gd-button-link-dimmed gd-button gd-icon-download export-menu-toggle-button",{disabled:u}),type:"button"},R.createElement("span",{className:"gd-button-text"},R.createElement(AI.Z,{id:"dialogs.export.submit"})))),[u,s]);return R.createElement("div",{className:dy("s-export-drilled-insight export-drilled-insight",{"is-disabled":u})},u&&!n?R.createElement(uD.BubbleHoverTrigger,null,g,R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:SL},R.createElement(AI.Z,{id:"export_unsupported.disabled"}))):R.createElement(R.Fragment,null,g,R.createElement(CL,{showDropdown:o,toggleShowDropdown:s,exportXLSXEnabled:t,exportCSVEnabled:r,onExportXLSX:d,onExportCSV:c})))};function wL(e,t){return ka([e,...t]).join(" › ")}const AL=[{align:"cc tc",offset:{x:-20,y:10}}],PL=[{align:"bc tc",offset:{x:-5,y:-5}}],RL=({insightTitle:e,breadcrumbs:t,onCloseDialog:i,onBackButtonClick:r,isBackButtonVisible:a,children:n,exportAvailable:o,exportXLSXEnabled:l,exportCSVEnabled:s,onExportCSV:d,onExportXLSX:c,isLoading:u})=>{const g=qb(Qo),m=qb(th),p=g?.enableDrilledInsightExport&&m,h=wL(e,t);return R.createElement("div",{className:"gd-dialog gd-drill-modal-dialog s-drill-modal-dialog"},R.createElement("div",{className:"gd-dialog-header gd-dialog-header-with-border gd-drill-modal-dialog-header"},a?R.createElement(uD.BubbleHoverTrigger,null,R.createElement(uD.Button,{className:"gd-button-primary gd-button-icon-only gd-icon-navigateleft s-drill-reset-button gd-drill-reset-button",onClick:r}),R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:PL},R.createElement(AI.Z,{id:"drillModal.backToTop",tagName:"span"}))):null,R.createElement("div",{className:"gd-drill-title s-drill-title"},R.createElement(uD.ShortenedText,{tagName:"div",tooltipAlignPoints:AL,tooltipVisibleOnMouseOver:!1},h)),R.createElement(uD.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross gd-drill-close-button s-drill-close-button",onClick:i})),R.createElement("div",{className:"gd-drill-modal-dialog-content visualization"},R.createElement("div",{className:"gd-drill-modal-dialog-content-base"},n)),p?R.createElement("div",{className:"gd-drill-modal-dialog-footer gd-drill-modal-dialog-footer-with-border s-drill-modal-dialog-footer"},R.createElement(TL,{exportAvailable:o,exportXLSXEnabled:l,exportCSVEnabled:s,onExportXLSX:c,onExportCSV:d,isLoading:u})):null,R.createElement(yL,{isSmall:!0}))},FL={width:"100%",height:"100%",position:"relative",flex:"1 1 auto"},kL=(0,Po.createSelector)([Jo,Qo,tl],((e,t,i)=>({locale:e,settings:t,colorPalette:i}))),xL=(0,Po.createSelector)([rl,el,nc,ll],((e,t,i,r)=>({mapboxToken:e,separators:t,forceDisableDrillOnAxes:!i.length,isExportMode:r}))),LL=e=>{const{insight:t,widget:i,backend:r,workspace:n,onError:o,onDrill:l,onExportReady:s,onLoadingChanged:d,pushData:c,ErrorComponent:u,LoadingComponent:g}=e,m=(0,Z.useBackendStrict)(r),p=(0,Z.useWorkspaceStrict)(n),{locale:h,settings:f,colorPalette:b}=qb(kL),D=qb(xL),[v,E]=(0,R.useState)(!1),[y,I]=(0,R.useState)(),C=(0,R.useCallback)((({isLoading:e})=>{E(e),d?.({isLoading:e})}),[]),{result:S,status:T,error:w}=Tw(i,t),A=(0,R.useMemo)((()=>(0,a.insightSetFilters)(t,S)),[t,S]),P=rL({insight:A??t,widget:i}),{drillableItems:F,onDrill:k,onPushData:x}=(({widget:e,insight:t,onDrill:i})=>{const[r,a]=(0,R.useState)(),n=(0,R.useCallback)((e=>{e?.availableDrillTargets&&!Ma(r,e.availableDrillTargets)&&a(e.availableDrillTargets)}),[r]),o=qb(xE(r,e.ignoredDrillDownHierarchies));return{drillableItems:qb(LE(r,e.ignoredDrillDownHierarchies)),onPushData:n,onDrill:i?r=>{const a=Z.DataViewFacade.for(r.dataView),n=o.filter((e=>r.drillContext.intersection?.some((t=>(0,Z.isSomeHeaderPredicateMatched)(e.predicates,t.header,a))))),l={...r,widgetRef:e.ref,drillDefinitions:n.map((e=>e.drillDefinition))};return"function"==typeof i&&i(l,{insight:t,widget:e})}:void 0}})({widget:i,insight:A??t,onDrill:l}),L=(0,R.useCallback)((e=>{x(e),c?.(e)}),[x,c]),M=(0,R.useMemo)((()=>({width:"100%",height:"100%",position:t&&(0,a.insightVisualizationUrl)(t).includes("headline")?"relative":"absolute"})),[t]),O=(0,R.useCallback)((e=>{I(e),o?.(e)}),[o]),N=w??y,_=(0,R.useMemo)((()=>v||N?{height:0}:void 0),[v,N]);return R.createElement("div",{style:FL},R.createElement("div",{style:M},R.createElement(qI,{locale:h},"running"===T||v?R.createElement(g,null):null,N?R.createElement(mL,{error:N,forceFullContent:!0}):null,"success"===T?R.createElement("div",{className:"insight-view-visualization",style:_},R.createElement(pL,{widget:i,insight:P,backend:m,workspace:p,drillableItems:F,onDrill:k,config:D,onLoadingChanged:C,locale:h,settings:f,colorPalette:b,onError:O,onExportReady:s,pushData:L,ErrorComponent:u,LoadingComponent:g})):null)))},ML=()=>{const e=(0,PI.Fg)();return R.createElement("div",{className:"gd-loading-equalizer-wrap"},R.createElement("div",{className:"gd-loading-equalizer gd-loading-equalizer-fade"},R.createElement(uD.LoadingSpinner,{className:"large gd-loading-equalizer-spinner",color:e?.palette?.complementary?.c9}),R.createElement(AI.Z,{id:"loading"})))},OL=uD.OverlayController.getInstance(BS),NL=[".s-sort-direction-arrow",".gd-export-dialog",".options-menu-export-xlsx",".options-menu-export-csv",`#${FS}`],_L=(0,a.idRef)("@@GDC_DRILL_MODAL"),HL=e=>{const{widget:t,locale:i,breadcrumbs:r,insight:n,onClose:o,onBackButtonClick:l,onDrillDown:s}=e,d=(0,uD.useMediaQuery)("mobileDevice"),[c,u]=(0,R.useState)(!1),g=cD(_L),{ErrorComponent:m,LoadingComponent:p}=ny({LoadingComponent:ML}),h=(0,R.useCallback)((({isLoading:e})=>{u(e),g.onLoadingChanged({isLoading:e})}),[]),f=(0,a.insightTitle)(n),{exportCSVEnabled:b,exportXLSXEnabled:D,onExportCSV:v,onExportXLSX:E}=xS({title:wL(f,r),widgetRef:_L,insight:n}),y=d?uD.FullScreenOverlay:uD.Overlay;return R.createElement(uD.OverlayControllerProvider,{overlayController:OL},R.createElement(y,{className:"gd-drill-modal-overlay",isModal:!0,closeOnEscape:!0,closeOnOutsideClick:!0,ignoreClicksOnByClass:NL,onClose:o,positionType:"fixed"},R.createElement(qI,{locale:i},R.createElement(RL,{insightTitle:f,isBackButtonVisible:r.length>1,onBackButtonClick:l,onCloseDialog:o,breadcrumbs:r,exportAvailable:D||b,exportXLSXEnabled:D,exportCSVEnabled:b,onExportXLSX:E,onExportCSV:v,isLoading:c},R.createElement(tL,{widgetRef:t.ref,insight:e.insight,onDrillDownSuccess:s},(({onDrill:t})=>R.createElement(LL,{...e,onDrill:t,onLoadingChanged:h,onError:g.onError,pushData:g.onPushData,ErrorComponent:m,LoadingComponent:p})))))))},UL=e=>{const[t,i]=(0,R.useState)([]),r=La(t),a=r?.insight,n=e.widget,o=(0,R.useMemo)((()=>t.filter((e=>Yh(e.drillDefinition))).map((e=>Ux(_a(e.drillDefinition),e.drillEvent)??"NULL"))),[t]),l=qb(Jo),s=(0,R.useCallback)((e=>{i((t=>[...t,e]))}),[]),d=(0,R.useCallback)((()=>i((([e])=>[e]))),[]),c=(0,R.useCallback)((()=>i([])),[]),u=(0,R.useCallback)((e=>s(e.payload)),[s]),g=(0,R.useCallback)((e=>s(e.payload)),[s]);return R.createElement(R.Fragment,null,R.createElement(DL,{...e,onDrillDown:u,onDrillToInsight:g}),r?R.createElement(HL,{locale:l,breadcrumbs:o,widget:n,insight:a,onDrillDown:u,onBackButtonClick:d,onClose:c}):null)},GL=ZE({view:e=>R.createElement(UL,{...e}),edit:e=>R.createElement(bL,{...e})}),BL=e=>R.createElement(xn.InsightRenderer,{...e}),WL=e=>{const{isOpen:t,items:i,widget:r,onClick:n}=e,o=(0,R.useCallback)((()=>{n()}),[n]);if(!i.length)return null;const l=(0,a.objRefToString)((0,a.widgetRef)(r)),s=dy("dash-item-action-options","dash-item-action-widget-options","s-dash-item-action-widget-options",`dash-item-action-widget-options-${NS.gl(l)}`,`s-dash-item-action-widget-options-${NS.gl(l)}`,{"dash-item-action-widget-options-active":t});return R.createElement("div",{className:"dash-item-action-placeholder s-dash-item-action-placeholder",onClick:o},R.createElement("div",{className:s}))},zL=e=>R.createElement(WL,{...e}),VL=["headline","xirr"],jL=[{align:"tc bc"},{align:"tc br"}],KL=ZE({view:({onClick:e,widget:t,insight:i,isOpen:r})=>{const n=(0,FC.Z)(),o=(0,R.useCallback)((()=>{e()}),[e]),l=qb(Qo),s=qb(th),d=l.enableKPIDashboardExport,c=s,u=(g=(0,a.insightVisualizationType)(i),!VL.includes(g));var g;if(!(d&&c&&u))return null;const m=(0,a.widgetRef)(t),p=m?(0,a.objRefToString)(m):"",h=dy("dash-item-action-options","s-dash-item-action-options",`dash-item-action-options-${NS.gl(p)}`,`s-dash-item-action-options-${NS.gl(p)}`,"gd-icon-download",{"dash-item-action-options-active":r});return R.createElement("div",{className:"dash-item-action-placeholder s-dash-item-action-placeholder",onClick:o},R.createElement(uD.BubbleHoverTrigger,{className:h,showDelay:500,hideDelay:0,tagName:"div"},R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:jL},R.createElement("span",null,n.formatMessage({id:"options.button.bubble"})))))},edit:zL}),qL=e=>{const{insight:t,widget:i}=e,{InsightMenuTitleComponentProvider:r}=ny(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,{...e})},YL={width:"100%"},ZL=e=>R.createElement("div",{className:"insight-configuration"},R.createElement("div",{className:"insight-configuration-panel-header"},R.createElement(qL,{widget:e.widget,insight:e.insight,renderMode:e.renderMode}),R.createElement(uD.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross configuration-panel-header-close-button s-configuration-panel-header-close-button",onClick:e.onClose})),R.createElement(uD.ItemsWrapper,{smallItemsSpacing:!0,style:YL},e.children)),$L=[{align:"cl cr"}],XL=e=>{const{itemId:t,itemName:i,disabled:r,icon:a,onClick:n,tooltip:o,className:l,submenu:s=!1}=e;return function(e,t,i,r){return r&&i?R.createElement(uD.BubbleHoverTrigger,{className:"s-gd-bubble-trigger-options-menu-item"},e,R.createElement(uD.Bubble,{className:`bubble-primary bubble-primary-${t} s-bubble-primary-${t}`,alignPoints:$L},r)):e}(R.createElement(uD.Item,{className:l,onClick:r?void 0:n,disabled:r,subMenu:s},R.createElement("span",{className:dy({"gd-icon-wrapper":a&&"string"!=typeof a})},a?"string"==typeof a?R.createElement("i",{className:a}):a:null,i)),t,r,o)},QL=({title:e,onHeaderClick:t})=>R.createElement(uD.Typography,{tagName:"h3",className:"configuration-panel-header-title clickable",onClick:t},R.createElement("i",{className:"gd-icon-navigateleft"}),e),JL={width:"100%"},eM=e=>R.createElement("div",{className:"configuration-panel"},R.createElement("div",{className:"configuration-panel-header"},R.createElement(QL,{title:e.title,onHeaderClick:e.onBack}),R.createElement(uD.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross configuration-panel-header-close-button s-configuration-panel-header-close-button",onClick:e.onClose})),R.createElement("div",{className:"configuration-panel-screen",style:JL},e.children)),tM=[{align:"tr tl"},{align:"br bl"},{align:"tl tr"},{align:"tr tr"},{align:"br br"}],iM={"tr tr":"right","br br":"right"},rM={"tr tl":[20,0],"tl tr":[-20,0]},aM=e=>{const{onClose:t,isSubmenu:i,widget:r,children:n}=e,o=(0,a.objRefToString)((0,a.widgetRef)(r));return R.createElement(uD.Bubble,{alignTo:`.dash-item-action-widget-options-${NS.gl(o)}`,alignPoints:tM,arrowDirections:iM,arrowOffsets:rM,className:dy("bubble-light","gd-configuration-bubble","edit-insight-config","s-edit-insight-config","edit-insight-config-title-1-line",i?"edit-insight-config-arrow-submenu-color":"edit-insight-config-arrow-color"),closeOnOutsideClick:!0,onClose:t,overlayClassName:"gd-configuration-bubble-wrapper sdk-edit-mode-on"},n)},nM=e=>{const{children:t,onClose:i,isSubmenu:r}=e;return R.createElement(cC,{classNames:dy("edit-insight-config","s-edit-insight-config","edit-insight-config-title-1-line",r?"edit-insight-config-arrow-submenu-color":"edit-insight-config-arrow-color"),onClose:i},t)},oM=e=>{const{items:t,widget:i,insight:r,submenu:a,setSubmenu:n,onClose:o,renderMode:l}=e;return a?R.createElement(eM,{onClose:o,title:a.itemName,onBack:()=>n(null)},R.createElement(a.SubmenuComponent,{widget:i})):R.createElement(ZL,{onClose:o,widget:i,insight:r,renderMode:l},R.createElement(sM,{items:t,setSubmenu:n}))},lM=e=>{const{widget:t,onClose:i}=e,r=qb(Gc),[a,n]=(0,R.useState)(null);return"edit"===r?R.createElement(nM,{onClose:i,isSubmenu:!!a},R.createElement(oM,{...e,submenu:a,setSubmenu:n,renderMode:r})):R.createElement(aM,{onClose:i,widget:t,isSubmenu:!!a},R.createElement(oM,{...e,submenu:a,setSubmenu:n,renderMode:r}))},sM=({items:e,setSubmenu:t})=>R.createElement(R.Fragment,null,e.map((e=>"separator"===e.type?R.createElement(uD.Separator,{key:e.itemId}):"submenu"===e.type?R.createElement(XL,{key:e.itemId,...e,onClick:i=>{e.onClick&&e.onClick(i),t(e)},submenu:!0}):R.createElement(XL,{key:e.itemId,...e})))),dM=e=>R.createElement(lM,{...e}),cM=[{align:"cl cr"}],uM=({bubbleId:e,className:t,isDisabled:i,onClick:r,title:a,bubbleMessage:n=""})=>{const o=dy("gd-list-item","gd-menu-item",t,{"is-disabled":i});if(i){const t=R.createElement(uD.Item,{className:o},a);return n?R.createElement(uD.BubbleHoverTrigger,{className:"s-gd-bubble-trigger-options-menu-item"},t,R.createElement(uD.Bubble,{className:`bubble-primary bubble-primary-${e} s-bubble-primary-${e}`,alignPoints:cM},n)):t}return R.createElement(uD.Item,{className:o,onClick:r},a)},gM=[{align:"bc tr",offset:{x:2,y:0}}],mM=[`#${FS}`],pM=ZE({view:({widget:e,items:t,onClose:i})=>{const r=(0,a.widgetRef)(e),n=(0,a.objRefToString)(r);return R.createElement(uD.Bubble,{alignTo:`.s-dash-item-action-options-${NS.gl(n)}`,alignPoints:gM,className:"bubble-light options-menu-bubble s-options-menu-bubble",closeOnOutsideClick:!0,ignoreClicksOnByClass:mM,onClose:i},R.createElement(uD.ItemsWrapper,{smallItemsSpacing:!0},t.map((e=>"button"!==e.type?null:R.createElement(uM,{key:e.itemId,bubbleId:e.itemId,bubbleMessage:e.tooltip,className:e.className,isDisabled:e.disabled,title:e.itemName,onClick:e.onClick})))))},edit:dM}),hM=e=>{const{title:t}=e;return R.createElement(uD.Typography,{tagName:"p",className:"insight-title s-insight-title "},R.createElement("span",{title:t,className:"original-insight-title"},t))},fM=e=>{const{widget:t,insight:i,renderMode:r}=e,n=(0,a.widgetTitle)(t),o=(0,a.insightTitle)(i),l=n!==o,s=n?R.createElement("span",{title:e.widget.title,className:"insight-title s-insight-title s-insight-title-simple"},e.widget.title):null;return R.createElement(R.Fragment,null,R.createElement(uD.Typography,{tagName:"h3",className:"widget-title s-widget-title"},s),"edit"===r&&l?R.createElement(hM,{title:o}):null)};var bM=i(31683);function DM(e){return(0,a.isRelativeDateFilter)(e)?{...(0,a.relativeDateFilterValues)(e),type:"relative"}:(0,a.isAbsoluteDateFilter)(e)?{...(0,a.absoluteDateFilterValues)(e),type:"absolute"}:"relative"===e.dateFilter.type?{type:"relative",from:Number.parseInt(e.dateFilter.from?.toString()??"0",10),to:Number.parseInt(e.dateFilter.to?.toString()??"0",10),granularity:e.dateFilter.granularity,dataSet:e.dateFilter.dataSet}:{type:"absolute",from:e.dateFilter.from.toString(),to:e.dateFilter.to.toString(),dataSet:e.dateFilter.dataSet}}function vM(e,t,i){const r=DM(e);return"absolute"===r.type?vr.DateFilterHelpers.formatAbsoluteDateRange(r.from,r.to,i):vr.DateFilterHelpers.formatRelativeDateRange(r.from,r.to,r.granularity,t)}function EM(e){const t=DM(e);if("absolute"===t.type)return ev.alertMessageRelativePresetInPeriod.id;const i=0===t.from||0===t.to,r=-1===t.from&&-1===t.to,a=1===t.from&&1===t.to;return i||r||a?ev.alertMessageRelativePreset.id:ev.alertMessageRelativePresetInPeriod.id}const yM=({filter:e,dateFormat:t})=>{const i=(0,FC.Z)(),r=(0,PI.Fg)(),n=function(e,t,i){return!e||(0,a.isAllTimeDateFilter)(e)?null:{intlIdRoot:EM(e),rangeText:bM(vM(e,t,i))}}(e,i,t);if(!n)return null;const{intlIdRoot:o,rangeText:l}=n;return R.createElement(AI.Z,{id:o,values:{calendarIcon:R.createElement(uD.Icon.Date,{className:"gd-icon-calendar-kpi",color:r?.palette?.complementary?.c6}),range:R.createElement("strong",null,l)}})},IM=[{align:"tr tl",offset:{x:18,y:0}},{align:"tl tr",offset:{x:-18,y:0}},{align:"bc tc",offset:{x:0,y:18}},{align:"tc cr",offset:{x:-100,y:90}},{align:"tc cl",offset:{x:100,y:90}},{align:"tc cr",offset:{x:-50,y:90}},{align:"tc cl",offset:{x:50,y:90}}],CM=[{align:"bc tc",offset:{x:0,y:18}},{align:"bl tl",offset:{x:0,y:18}},{align:"br tr",offset:{x:0,y:18}},{align:"tc bc",offset:{x:0,y:-18}},{align:"tl bl",offset:{x:0,y:-18}},{align:"tr br",offset:{x:0,y:-18}},{align:"cc tc",offset:{x:0,y:0}},{align:"cl tl",offset:{x:0,y:0}},{align:"cr tr",offset:{x:0,y:0}}],SM=({filters:e,type:t})=>{if(!e.length)return null;const i=dy("filter-section-content",{"more-items":e.length>5});return R.createElement("div",{className:"filter-section"},R.createElement("div",{className:"filter-section-headline"},"deleted"===t?R.createElement(AI.Z,{id:"kpiAlertDialog.removedFilters"}):R.createElement(AI.Z,{id:"kpiAlertDialog.ignoredFilters"})),R.createElement("div",{className:i},e.map((e=>{const t=(r=i=e,"attribute"===r?.type?{isAllSelected:i.isAllSelected,isDate:!1,selection:i.selection,selectionSize:i.selectionSize,title:i.title}:{isAllSelected:!1,isDate:!0,selection:i.dateFilterTitle,selectionSize:void 0,title:i.title});var i,r;return R.createElement("div",{className:"attribute-filter-label",key:e.title},R.createElement(uD.FilterLabel,{...t}))}))))},TM=({brokenFilters:e})=>{const[t,i]=(0,R.useMemo)((()=>Li(e,(e=>"deleted"===e.brokenType))),[e]);return R.createElement(R.Fragment,null,R.createElement(SM,{filters:t,type:"deleted"}),R.createElement(SM,{filters:i,type:"ignored"}))};function wM(e){const t=`${e}`.match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function AM(e){return isNaN(e)?0:e}function PM(e,t,i){const r=AM(e),a=AM(t);switch(i){case"aboveThreshold":return r>a;case"underThreshold":return r<a;default:return!1}}const RM=({intl:e,onWhenTriggeredChange:t,whenTriggered:i})=>{const r=(0,R.useMemo)((()=>[{title:e.formatMessage({id:"kpiAlertDialog.threshold.above"}),id:"aboveThreshold"},{title:e.formatMessage({id:"kpiAlertDialog.threshold.below"}),id:"underThreshold"}]),[e]),a=r.find((e=>e.id===i));return R.createElement(uD.Dropdown,{className:"alert-select s-alert_select",renderButton:({toggleDropdown:e})=>R.createElement(uD.DropdownButton,{className:"dropdown-button",value:a?.title,onClick:e}),renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{className:"s-alert-list",width:256,items:r,itemsCount:r.length,renderItem:({item:i})=>R.createElement("div",{className:dy("gd-list-item","gd-list-item-shortened",`s-${NS.gl(i.title)}`),onClick:r=>{r.preventDefault(),t(i.id),e()}},R.createElement(uD.ShortenedText,null,i.title))})})},FM="aboveThreshold",kM=({children:e})=>e((0,uD.useMediaQuery)("mobileDevice"));class xM extends R.Component{static defaultProps={isAlertLoading:!1,isKpiFormatLoading:!1,thresholdPlaceholder:"",isDateFilterIgnored:!1,isThresholdRepresentingPercent:!1,filters:[],isAlertDialogOpening:!1,alertDeletingStatus:"idle",alertSavingStatus:"idle",alertUpdatingStatus:"idle"};threshold=R.createRef();saveButton=R.createRef();constructor(e){super(e),this.state={alertType:e.alert?.whenTriggered??FM,threshold:`${this.getVisualThreshold()}`}}componentDidMount(){this.focusThresholdInput()}componentDidUpdate(e){e.isAlertLoading&&this.focusThresholdInput()}UNSAFE_componentWillReceiveProps(e){!this.props.isAlertLoading&&Ma(this.props.alert,e.alert)||this.setState({alertType:e.alert?.whenTriggered??FM,threshold:`${this.getVisualThreshold(e)}`}),this.props.isKpiFormatLoading&&this.setState({threshold:`${this.getVisualThreshold(e)}`})}render(){return R.createElement(kM,null,(e=>R.createElement(uD.Overlay,{alignTo:".is-alert-dialog.dash-item-content",alignPoints:e?CM:IM,closeOnOutsideClick:!e,onClose:this.closeDialog,className:"kpi-alert-dialog-overlay"},this.renderDialogBox())))}renderAttributeFiltersInfo(){const{alert:e,filters:t}=this.props,i=e?e.filterContext?.filters.filter(a.isDashboardAttributeFilter).length:t.filter(a.isAttributeFilter).length;return!!i&&R.createElement("div",{className:"kpi-alert-dialog-text text-info"},R.createElement(AI.Z,{id:"kpiAlertDialog.withAttributeFilters",values:{numFilters:i}}))}getVisualThreshold(e=this.props){return(null!=e.alert?.threshold&&this.isThresholdRepresentingPercent(e)?function(e){const t=wM(e),i=Math.max(t-2,0);return Mn(e)||isNaN(e)?e:On(100*e,i)}(e.alert?.threshold):e.alert?.threshold)??""}renderDialogBox(){return R.createElement("div",{className:"kpi-alert-dialog"},R.createElement("div",{className:"action-close gd-icon-cross",onClick:this.onCloseClick}),this.renderDialogContent())}renderDeleteLink(){const{alert:e,alertDeletingStatus:t,intl:i}=this.props;if(e){const e="inProgress"===t,r=e?i.formatMessage({id:"kpiAlertDialog.deleting"}):i.formatMessage({id:"kpiAlertDialog.delete"});return R.createElement(uD.Button,{key:"delete-button",className:"s-delete_button gd-button-link-dimmed delete-link",value:r,onClick:this.deleteKpiAlert,disabled:e})}return!1}renderUpdateButton(){const{alert:e,alertUpdatingStatus:t,intl:i,onAlertDialogUpdateClick:r}=this.props;if(e){const e="inProgress"===t,a=e?i.formatMessage({id:"kpiAlertDialog.updatingTitle"}):i.formatMessage({id:"kpiAlertDialog.updateBrokenTitle"});return R.createElement(uD.Button,{key:"update-button",className:"s-update-button gd-button-action save-button",value:a,onClick:r,disabled:e})}return!1}renderBrokenAlert(){return R.createElement("div",{className:"alert-broken"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"kpiAlertDialog.brokenAlert"})),R.createElement(TM,{brokenFilters:this.props.brokenAlertFilters}),R.createElement("div",{className:"info"},R.createElement(AI.Z,{id:"kpiAlertDialog.brokenAlertAppeal"})),this.renderUpdatingErrorMessage(),this.renderDeletingErrorMessage(),R.createElement("div",{className:"buttons"},this.renderUpdateButton(),this.renderDeleteLink()))}renderDialogContent(){const{isAlertDialogOpening:e,isAlertLoading:t,thresholdPlaceholder:i,isKpiFormatLoading:r,intl:a,brokenAlertFilters:n,userEmail:o}=this.props,{threshold:l,alertType:s}=this.state;if(e||t||r)return R.createElement("div",{className:"kpi-alert-dialog-content"},R.createElement(uD.Spinner,{className:"gd-dot-spinner-centered"}));if(n?.length)return R.createElement("div",{className:"kpi-alert-dialog-content"},this.renderBrokenAlert());const d=this.isThresholdRepresentingPercent()?"%":"",c=!this.isAlertValid()&&!this.isAlertEmpty(),u=R.createElement("span",{className:"underline-dotted",title:o},R.createElement(AI.Z,{id:"kpiAlertDialog.emailMe"}));return R.createElement("div",{className:"kpi-alert-dialog-content"},R.createElement("div",{className:"kpi-alert-dialog-text kpi-alert-dialog-text-on-top"},R.createElement(AI.Z,{id:"kpiAlertDialog.emailMeWhen",values:{emailMe:u}})),R.createElement(RM,{whenTriggered:s,intl:a,onWhenTriggeredChange:this.onSelect}),R.createElement("div",{className:"input-container"},R.createElement(uD.Input,{className:"s-threshold-input",hasError:c,isSmall:!0,maxlength:16,onChange:this.onChange,onEscKeyPress:this.closeDialog,onEnterKeyPress:this.saveKpiAlert,placeholder:i,ref:this.threshold,suffix:d,value:l})),this.renderFiltersMessage(),this.renderFiltersDifferMessage(),this.renderValidationMessage(),this.renderSavingErrorMessage(),this.renderDeletingErrorMessage(),R.createElement("div",{className:"buttons"},R.createElement(uD.Button,{ref:this.saveButton,className:"gd-button-action save-button s-save_button",value:this.getSaveButtonTitle(),onClick:this.saveKpiAlert,disabled:!this.isSavingEnabled()}),R.createElement(uD.Button,{className:"gd-button-secondary cancel-button s-cancel_button",value:a.formatMessage({id:"cancel"}),onClick:this.onCancelClick}),this.renderDeleteLink()))}renderDateFilterInfo(){if(this.props.isDateFilterIgnored)return!1;const{dateFormat:e,filters:t,alert:i}=this.props,r=i?i.filterContext?.filters.filter(a.isDashboardDateFilter)??[]:t.filter(a.isDateFilter),n=xa(r);return R.createElement(yM,{filter:n,dateFormat:e})}renderFiltersMessage(){const{intl:e,userEmail:t}=this.props,i=e.formatMessage({id:"kpiAlertDialog.emailInfo"},{userEmail:t});return R.createElement("div",null,R.createElement("div",null,R.createElement("div",{className:"kpi-alert-dialog-text text-info"},this.renderDateFilterInfo(),this.renderAttributeFiltersInfo()),R.createElement("div",{className:"kpi-alert-dialog-text email-info"},i)))}renderFiltersDifferMessage(){const e=(t=this.props.alert,i=this.props.filters,!(t&&function(e,t){const i=e?.filterContext?.filters.find(a.isDashboardCommonDateFilter),r=La(t.filter(a.isDateFilter));if(!i)return!r||(0,a.isAllTimeDateFilter)(r);if(!r||(0,a.isAllTimeDateFilter)(r))return!1;if((0,a.isRelativeDateFilter)(r)){const{from:e,granularity:t,to:n}=(0,a.relativeDateFilterValues)(r);return["relative"===i.dateFilter.type,i.dateFilter.from?.toString()===e.toString(),i.dateFilter.to?.toString()===n.toString(),i.dateFilter.granularity===t].every(Boolean)}{const{from:e,to:t}=(0,a.absoluteDateFilterValues)(r);return["absolute"===i.dateFilter.type,i.dateFilter.from===e,i.dateFilter.to===t].every(Boolean)}}(t,i)&&function(e,t){const i=e.filterContext?.filters.filter(a.isDashboardAttributeFilter)??[],r=t.filter(a.isAttributeFilter),n=i.filter((e=>!(e.attributeFilter.negativeSelection&&(0,a.attributeElementsIsEmpty)(e.attributeFilter.attributeElements)))),o=r.filter((e=>!((0,a.isNegativeAttributeFilter)(e)&&(0,a.filterIsEmpty)(e))));return o.length===n.length&&o.every((e=>{const t=(0,a.filterObjRef)(e),i=n.find((e=>(0,a.areObjRefsEqual)(e.attributeFilter.displayForm,t)));if(!i)return!1;const r=i.attributeFilter.negativeSelection===(0,a.isNegativeAttributeFilter)(e),o=(0,a.filterAttributeElements)(e),l=(0,a.isAttributeElementsByRef)(o)&&(0,a.isAttributeElementsByRef)(i.attributeFilter.attributeElements)&&Ma(Ww(i.attributeFilter.attributeElements.uris),Ww(o.uris));return r&&l}))}(t,i)));var t,i;return!(!this.props.alert||!e)&&R.createElement(uD.Message,{type:"warning"},R.createElement(AI.Z,{id:"kpiAlertDialog.filtersDiffer"}),!!this.props.onApplyAlertFiltersClick&&R.createElement(R.Fragment,null," ",R.createElement("a",{className:"s-apply-alert-filters",onClick:this.applyAlertFilterSetting},R.createElement(AI.Z,{id:"kpiAlertDialog.filtersApply"}))))}renderValidationMessage(){return!this.isAlertValid()&&!this.isAlertEmpty()&&R.createElement(uD.Message,{type:"error"},R.createElement(AI.Z,{id:"kpiAlertDialog.invalidNumber",values:{strong:e=>R.createElement("strong",null,e),br:R.createElement("br",null)}}))}renderSavingErrorMessage(){return"error"===this.props.alertSavingStatus&&R.createElement(uD.Message,{type:"error"},R.createElement(AI.Z,{id:"kpiAlertDialog.savingFailed"}))}renderUpdatingErrorMessage(){return"error"===this.props.alertUpdatingStatus&&R.createElement(uD.Message,{type:"error"},R.createElement(AI.Z,{id:"kpiAlertDialog.updateBrokenFailed"}))}renderDeletingErrorMessage(){return"error"===this.props.alertDeletingStatus&&R.createElement(uD.Message,{type:"error"},R.createElement(AI.Z,{id:"kpiAlertDialog.deleteingFailed"}))}getSaveButtonTitle(){return"inProgress"===this.props.alertSavingStatus?this.getUpdatingOrSavingTitle():this.getUpdateOrSetTitle()}getUpdateOrSetTitle(){const{alert:e,intl:t}=this.props;return e?t.formatMessage({id:"kpiAlertDialog.updateTitle"}):t.formatMessage({id:"kpiAlertDialog.setTitle"})}getUpdatingOrSavingTitle(){const{alert:e,intl:t}=this.props;return e?t.formatMessage({id:"kpiAlertDialog.updatingTitle"}):t.formatMessage({id:"kpiAlertDialog.settingTitle"})}isThresholdRepresentingPercent(e=this.props){return!!e.isThresholdRepresentingPercent}isSavingEnabled(){return this.isAlertValid()&&!this.isAlertEmpty()&&"inProgress"!==this.props.alertSavingStatus}isAlertValid(){return!isNaN(this.state.threshold)}isAlertEmpty(){return void 0===this.state.threshold||""===this.state.threshold}onCloseClick=e=>{e.stopPropagation(),this.closeDialog()};onCancelClick=e=>{e.stopPropagation(),this.closeDialog()};closeDialog=()=>{this.props.onAlertDialogCloseClick()};onSelect=e=>{this.setState({alertType:e})};onChange=e=>{this.setState({threshold:e.toString()})};saveKpiAlert=()=>{const e=this.state.alertType;let t=parseFloat(this.state.threshold);t=this.isThresholdRepresentingPercent()?function(e){const t=wM(e),i=Math.max(t+2,0);return Mn(e)||isNaN(e)?e:On(e/100,i)}(t):t,this.isAlertValid()&&!this.isAlertEmpty()&&this.props.onAlertDialogSaveClick(t,e)};deleteKpiAlert=()=>{this.props.onAlertDialogDeleteClick()};focusThresholdInput(){setTimeout((()=>{if(this.threshold?.current?.inputNodeRef?.inputNodeRef){const e=this.threshold.current.inputNodeRef.inputNodeRef;e.focus(),e.select()}}),100)}applyAlertFilterSetting=()=>{setTimeout((()=>{this.props.onApplyAlertFiltersClick?.()}),0)}}const LM=(0,KP.ZP)(xM),MM=e=>{const{brokenAlertFiltersBasicInfo:t,backend:i,workspace:r,...n}=e,o=(0,FC.Z)(),l=qb(ts),{result:s,status:d}=function({backend:e,brokenAlertFilters:t,dateDatasets:i,workspace:r,onCancel:n,onError:o,onLoading:l,onPending:s,onSuccess:d}){const c=(0,Z.useBackendStrict)(e,"useBrokenAlertFiltersMeta"),u=(0,Z.useWorkspaceStrict)(r,"useBrokenAlertFiltersMeta"),g=t?async()=>{const e=t.filter(P),r=Promise.all(e.map((async e=>{const{attributeFilter:t}=e.alertFilter;if(!(0,a.isAttributeElementsByRef)(t.attributeElements))throw new Dr.NotSupported("Only URI attribute filters are supported in useBrokenAlertFiltersMeta");const i=t.displayForm,r=c.workspace(u).attributes(),n={elements:t.negativeSelection?void 0:c.capabilities.supportsElementUris?{uris:t.attributeElements.uris}:{primaryValues:t.attributeElements.uris},includeTotalCountWithoutFilters:!0},[o,l]=await Promise.all([r.elements().forDisplayForm(i).withLimit(20).withOptions(n).query(),r.getAttributeDisplayForm(i)]);return{elements:o,displayForm:i,title:(await r.getAttribute(l.attribute)).title}})));return{attributeFiltersMeta:(await r).reduce(((e,t)=>(e[(0,a.objRefToString)(t.displayForm)]={title:t.title,totalElementsCount:t.elements.totalCount,validElements:t.elements.items},e)),{}),dateDatasets:i.map((e=>e.dataSet))}}:null;return(0,Z.useCancelablePromise)({promise:g,onCancel:n,onError:o,onLoading:l,onPending:s,onSuccess:d},[c,u,t])}({dateDatasets:l,backend:i,workspace:r,brokenAlertFilters:t}),c=(0,R.useMemo)((()=>s?function(e,t,i,r,n){return e.map((e=>{if(P(e))return function(e,t){const{alertFilter:i,brokenType:r}=e,n=t[(0,a.objRefToString)(i.attributeFilter.displayForm)],o=i.attributeFilter.negativeSelection,l=n.totalElementsCount,s=n.validElements.filter((e=>((0,a.isAttributeElementsByRef)(i.attributeFilter.attributeElements)?i.attributeFilter.attributeElements.uris.some((t=>t===e.uri)):i.attributeFilter.attributeElements.values.some((t=>t===e.title)))!==o)).map((e=>e.title)).join(", "),d=n.title,c=(0,a.attributeElementsCount)(i.attributeFilter.attributeElements);return{type:"attribute",brokenType:r,isAllSelected:o&&(0,a.attributeElementsIsEmpty)(i.attributeFilter.attributeElements),selection:s,selectionSize:o?l-c:c,title:d}}(e,n);if(A(e))return function(e,t,i,r){const{alertFilter:n,brokenType:o}=e,l=vM(n,t,i),s=r.find((e=>(0,a.areObjRefsEqual)(e,n.dateFilter.dataSet)));return{type:"date",brokenType:o,dateFilterTitle:l,title:s?.title??t.formatMessage({id:"kpiAlertDialog.brokenAlertDefaultDateLabel"})}}(e,t,i,r);throw new Dr.UnexpectedError("Unknown broken alert filter type.")}))}(t,o,n.dateFormat,s.dateDatasets,s.attributeFiltersMeta):null),[t,s,o,n.dateFormat]);return R.createElement(LM,{...n,isAlertDialogOpening:"loading"===d,brokenAlertFilters:c})};function OM(e,t){const[i,r]=(0,R.useState)("idle"),a=Kb();return[i,(0,R.useCallback)(((...i)=>{r("inProgress"),_E(a,e(...i)).then((()=>{r("idle"),t()})).catch((()=>r("error")))}),[t])]}const NM=({visualizationClassName:e,...t})=>R.createElement(hS,{...t,visualizationClassName:dy("kpi",e)}),_M=e=>{const{kpi:t}=e,i=t.configuration?.description?.visible??!0,r=qb(Xl),n="kpi"===t.configuration?.description?.source?t.description:((e,t)=>e.find((e=>(0,a.areObjRefsEqual)(e.measure.ref,t)))?.measure.description)(r,t.kpi.metric),o=n?.trim(),l=t.ref?(0,a.objRefToString)(t.ref):"",s=tD(),d={from:"kpi",type:"kpi"===t.configuration?.description?.source?"custom":"inherit",description:o};return i&&o&&""!==o?R.createElement(HS,{className:`kpi-description-${NS.gl(l)}`,description:o,onOpen:()=>s.descriptionTooltipOpened(d)}):null},HM=[{align:"cr cl"},{align:"cl cr"}],UM=[{align:"tc bc"},{align:"tc br"}];class GM extends R.Component{static defaultProps={isAlertHighlighted:!1,filters:[],alertDeletingStatus:"idle",alertSavingStatus:"idle",alertUpdatingStatus:"idle",suppressAlertTriggered:!1,suppressDescriptionTrigger:!1,isReadOnlyMode:!1};timeouts={};isScrolledToHighlightedAlert=!1;node=R.createRef();state={isKpiAlertAfterSaving:!1,isKpiAlertAfterDeleting:!1,isAlertHighlighted:!1};componentDidMount(){this.props.isAlertHighlighted&&this.updateStatePropertyForTime("isAlertHighlighted",5e3)}UNSAFE_componentWillReceiveProps(e){this.isKpiAlertSaved(e)&&this.updateStatePropertyForTime("isKpiAlertAfterSaving",1e3),this.isKpiAlertDeleted(e)&&this.updateStatePropertyForTime("isKpiAlertAfterDeleting",1e3),!this.props.isAlertHighlighted&&e.isAlertHighlighted&&this.updateStatePropertyForTime("isAlertHighlighted",5e3)}componentDidUpdate(){if(this.props.isAlertHighlighted&&!this.isScrolledToHighlightedAlert){this.isScrolledToHighlightedAlert=!0;const e=this.node.current;e&&window.scrollTo(0,function(e){if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect(),i=e.ownerDocument.defaultView;return t.top+(i?.pageYOffset??0)}(e))}}componentWillUnmount(){this.clearUpdatingTimeout()}updateStatePropertyForTime(e,t){const{isKpiAlertAfterSaving:i,isKpiAlertAfterDeleting:r,isAlertHighlighted:a}=this.state;this.clearUpdatingTimeout(e),this.setState({isKpiAlertAfterSaving:i,isKpiAlertAfterDeleting:r,isAlertHighlighted:a,[e]:!0}),this.timeouts[e]=setTimeout((()=>{this.setState({isKpiAlertAfterSaving:i,isKpiAlertAfterDeleting:r,isAlertHighlighted:a,[e]:!1})}),t)}clearUpdatingTimeout(e){e&&this.timeouts[e]?(clearTimeout(this.timeouts[e]),delete this.timeouts[e]):(Object.keys(this.timeouts).forEach((e=>clearTimeout(this.timeouts[e]))),this.timeouts={})}isKpiAlertSaved(e){return!this.state.isKpiAlertAfterSaving&&"inProgress"===this.props.alertSavingStatus&&"idle"===e.alertSavingStatus}isKpiAlertDeleted(e){return!this.state.isKpiAlertAfterDeleting&&"inProgress"===this.props.alertDeletingStatus&&"idle"===e.alertDeletingStatus}renderAlertBox=()=>{const e=function(e,t,i){if(!e.dateDataSet)return!1;const r=La(t.filter(a.isDateFilter));if(!r||(0,a.isAllTimeDateFilter)(r))return!1;if(i?.["kpi.alerting.useAfmExecutor"])return(0,a.isAbsoluteDateFilter)(r);{if(!(0,a.isRelativeDateFilter)(r))return!0;const{from:e,to:t}=(0,a.relativeDateFilterValues)(r);return-1===t&&e!==t}}(this.props.kpi,this.props.filters,this.props.userWorkspaceSettings),t=dy("dash-item-action","dash-item-action-alert","s-dash-item-action-alert","gd-icon-bell",{"alert-set":this.state.isKpiAlertAfterSaving,"alert-deleted":this.state.isKpiAlertAfterDeleting});return this.props.isReadOnlyMode||!this.props.canSetAlert||e&&!this.props.alert?R.createElement(uD.BubbleHoverTrigger,{showDelay:0,hideDelay:0,tagName:"div",className:dy(t,"disabled")},R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:HM},this.getBubbleMessage(e))):R.createElement("div",{onClick:this.onAlertDialogOpenClick},R.createElement(uD.BubbleHoverTrigger,{className:t,showDelay:500,hideDelay:0,tagName:"div"},R.createElement(uD.Bubble,{className:"bubble-primary",alignPoints:UM},R.createElement(AI.Z,{id:"kpi.alertBox.title"}))))};onAlertDialogOpenClick=()=>{this.props.onAlertDialogOpenClick()};getClassNames(){const{kpiAlertResult:e}=this.props,t=(0,Z.isNoDataSdkError)(this.props.alertExecutionError)||void 0!==e?.measureResult;return{content:dy(this.props.contentClassName,{"is-alert-dialog":this.props.isAlertDialogOpen,"has-set-alert":!!this.props.alert,"is-alert-triggered":t&&this.props.alert?.isTriggered&&!this.props.suppressAlertTriggered,"is-alert-broken":t&&this.props.isAlertBroken,"is-alert-highlighted":this.state.isAlertHighlighted,"is-alert-evaluating":this.props.isAlertExecutionLoading}),kpi:dy(this.props.kpiClassName,"s-dashboard-kpi-component","widget-loaded","visualization",{"kpi-with-pop":"none"!==this.props.kpi.kpi.comparisonType,"content-loading":this.props.isLoading,"content-loaded":!this.props.isLoading})}}getBubbleMessage(e){const{isReadOnlyMode:t}=this.props;return t?R.createElement(AI.Z,{id:"kpi.alertBox.disabledInReadOnly"}):e?R.createElement(AI.Z,{id:"visualization.alert_not_supported"}):R.createElement(AI.Z,{id:"kpi.alertBox.unverifiedEmail"})}render(){const e=this.getClassNames();return R.createElement(NM,{contentClassName:e.content,visualizationClassName:e.kpi,contentRef:this.node,renderAfterContent:()=>this.props.isAlertDialogOpen&&this.props.renderAlertDialog(),renderBeforeVisualization:()=>!this.props.suppressDescriptionTrigger&&this.props.userWorkspaceSettings?.enableDescriptions?R.createElement(_M,{kpi:this.props.kpi}):null,renderHeadline:e=>R.createElement(R.Fragment,null,this.renderAlertBox(),this.props.renderHeadline(e)),isSelectable:this.props.isSelectable,isSelected:this.props.isSelected,onSelected:this.props.onSelected},this.props.children)}}function BM(e){const{primaryMeasure:t,backend:i,effectiveFilters:r,secondaryMeasure:a,workspace:n,shouldLoad:o}=e,l=(0,Z.useExecutionDataView)({backend:i,workspace:n,execution:o?{seriesBy:ka([t,a]),filters:r}:void 0});return(0,R.useMemo)((()=>"error"===l.status&&(0,Z.isNoDataSdkError)(l.error)&&(0,Dr.isNoDataError)(l.error.cause)&&l.error.cause.dataView?{result:Z.DataViewFacade.for(l.error.cause.dataView),error:void 0,status:"success"}:l),[l])}var WM=i(81763);function zM(e){if(!e)return null;const t=e.dataPoints()[0].rawValue;return Mn(t)?null:WM(t)?t:Number.parseFloat(t)}function VM(e,t,i,r){return e?.dataView.totalCount[0]?function(e,t,i,r){const a=e?.data({valueFormatter:(0,Z.createNumberJsFormatter)(r)}).series(),n=a?.firstForMeasure(t);if(i&&2!==e?.meta().measureDescriptors().length)return;const o=i?a?.firstForMeasure(i):void 0;return n?{measureDescriptor:n.descriptor.measureDescriptor,measureFormat:n.measureFormat(),measureResult:zM(n),measureForComparisonResult:zM(o)}:void 0}(e,t,i,r):function(e,t){if(e)return{measureDescriptor:e.meta().measureDescriptor((0,a.measureLocalId)(t)),measureFormat:e.meta().measureDescriptor((0,a.measureLocalId)(t))?.measureHeaderItem?.format,measureResult:void 0,measureForComparisonResult:void 0}}(e,t)}function jM(e){if((0,a.isAttributeFilter)(e)){const t=(0,a.filterAttributeElements)(e);if(!(0,a.isAttributeElementsByRef)(t))throw new Dr.NotSupported("Attribute filter with text values is not supported. Please provide element uris instead.");return{attributeFilter:{negativeSelection:(0,a.isNegativeAttributeFilter)(e),displayForm:(0,a.filterObjRef)(e),attributeElements:t}}}if((0,a.isAbsoluteDateFilter)(e))return{dateFilter:{type:"absolute",granularity:"GDC.time.date",from:e.absoluteDateFilter.from,to:e.absoluteDateFilter.to,dataSet:e.absoluteDateFilter.dataSet}};if((0,a.isRelativeDateFilter)(e)){if(!(0,a.isDateFilterGranularity)(e.relativeDateFilter.granularity))throw new Dr.NotSupported("Unsupported date filter granularity! Please provide valid date filter granularity. (Check DateFilterGranularity type)");return{dateFilter:{type:"relative",granularity:e.relativeDateFilter.granularity,from:e.relativeDateFilter.from,to:e.relativeDateFilter.to,dataSet:e.relativeDateFilter.dataSet}}}throw new Dr.NotSupported("Unsupported filter type! Please provide valid dashboard filter.")}function KM(e){if(!(0,a.isDashboardDateFilter)(e))return e;const{dataSet:t,...i}=e.dateFilter;return{dateFilter:i}}var qM=i(94537),YM=i(19670),ZM=i(46431),$M=i(71376),XM=i(45220);const QM="–";function JM(e,t,i){const r=$M.ClientFormatterFacade.convertValue(e),{formattedValue:a}=$M.ClientFormatterFacade.formatValue(r,t,i);return a}function eO(e,t){const i=$M.ClientFormatterFacade.convertValue(e),{nullConditionFormatter:r}=$M.ClientFormatterFacade.formatValue(i,t);return XM(e)&&!r}const tO=QM;class iO extends R.PureComponent{static defaultProps={error:null,value:"",isLoading:!1,disableKpiDrillUnderline:!1};getKpiValueClassNames(){return dy("kpi-value",{"is-smallest-height":this.props.enableCompactSize&&this.props.clientHeight&&this.props.clientHeight<54,"is-error-value":!this.props.isLoading&&!!this.props.error,"is-empty-value":!this.props.isLoading&&this.isValueUnhandledNull()})}getKpiCustomHeightStyles(){if(this.props.enableCompactSize){const{height:e}=(0,ZM.r6)(this.props.hasComparison,this.props.clientHeight);return{height:`${e}px`,lineHeight:`${e}px`}}}render(){return this.props.enableCompactSize&&!this.props.clientHeight?null:R.createElement(qM.Z,{style:this.getKpiCustomHeightStyles(),className:this.getKpiValueClassNames()},R.createElement(YM.Z,{classNames:"kpi-animation",timeout:300,title:this.getTitle()},this.renderValue()))}renderValue(){const{isLoading:e,error:t,disableKpiDrillUnderline:i,enableCompactSize:r,clientHeight:a,intl:n}=this.props;if(e)return R.createElement(uD.LoadingDots,{className:"kpi-value-loading gd-loading-dots-centered"});const o=t?n.formatMessage({id:"error"}):this.renderFormattedValue(),l=dy("kpi-value-value","s-kpi-value",{"kpi-link-style-underline":!i});if(r){if(!a)return R.createElement(uD.LoadingDots,{className:"kpi-value-loading gd-loading-dots-centered"});const{fontSize:e}=(0,ZM.r6)(this.props.hasComparison,a);return R.createElement("div",{style:{fontSize:`${e}px`}},R.createElement(uD.ResponsiveText,null,R.createElement("span",{className:l},o)))}return R.createElement(uD.ResponsiveText,null,R.createElement("span",{className:l},o))}renderFormattedValue(){return this.isValueUnhandledNull()?tO:JM(this.props.value,this.props.format,this.props.separators)}isValueUnhandledNull(){return eO(this.props.value,this.props.format??"")}getTitle(){const{intl:e}=this.props;return this.props.isLoading?"":this.props.error&&this.props.errorHelp?this.props.errorHelp:this.isValueUnhandledNull()?e.formatMessage({id:"kpi.noData"}):""}}const rO=(0,KP.ZP)(iO),aO=999;function nO(e,t){if(XM(e)&&XM(t))return QM;const i=function(e,t){const i=e||0,r=t||0;if(0===i&&r>0)return Number.POSITIVE_INFINITY;if(0===i&&r<0)return Number.NEGATIVE_INFINITY;if(0===i&&0===r)return 0;const a=Math.abs(i/100),n=r-i;return Math.round(n/a)}(e,t);return i>aO?">999%":i<-999?"<-999%":`${i}%`}var oO=i(60968),lO=i(78258);const sO=QM;class dO extends R.PureComponent{static defaultProps={error:null,disabled:!1,isLoading:!1,previousPeriodName:"",clientWidth:0,clientHeight:0,enableCompactSize:!1};kpiSectionItemNode=R.createRef();render(){const{enableCompactSize:e,clientHeight:t,clientWidth:i}=this.props;return(0,ZM.vW)(e,i,t)?R.createElement("div",{className:"gd-flex-container headline-compare-section headline-paginated-compare-section"},R.createElement(oO.u,{renderSecondaryItem:this.renderPreviousPeriod,renderTertiaryItem:this.renderPercentage})):R.createElement("div",{className:this.getKpiSectionClassName()},this.renderPercentage(),this.renderPreviousPeriod())}renderPercentage=()=>{const e=this.props.disabled||this.props.error?{trend:"neutral",meaning:"neutral",percentage:QM}:function(e,t,i){const r=function(e,t){const i=e||0,r=t||0;return i===r?"neutral":i<r?"up":"down"}(e,t),a=function(e,t){return"neutral"===e?"neutral":function(e,t){return"up"===e&&"growIsGood"===t||"down"===e&&"growIsBad"===t}(e,t)?"positive":function(e,t){return"up"===e&&"growIsBad"===t||"down"===e&&"growIsGood"===t}(e,t)?"negative":"neutral"}(r,i);return{trend:r,meaning:a,percentage:nO(e,t)}}(this.props.previousPeriodValue,this.props.currentPeriodValue,this.props.meaning),t=this.props.isLoading?"":e.percentage;return R.createElement("dl",{className:"gd-flex-item kpi-pop-section-item kpi-pop-change headline-compare-section-item headline-tertiary-item"},R.createElement("div",{className:"headline-value-wrapper s-headline-value-wrapper"},R.createElement(uD.ResponsiveText,{title:t,tagClassName:`is-kpi-${e.meaning}`,tagName:"dt"},this.renderPercentageValue(e))),R.createElement("dd",null,R.createElement(AI.Z,{id:"kpiPop.change"})))};renderPercentageValue(e){return!this.props.isLoading&&R.createElement(R.Fragment,null,R.createElement("span",{className:dy(`gd-icon-trend-${e.trend}`,"gd-kpi-trend-icon")}),R.createElement("span",null,e.percentage))}renderPreviousPeriod=()=>R.createElement("dl",{className:"gd-flex-item kpi-pop-section-item kpi-pop-period headline-compare-section-item headline-secondary-item",title:this.renderFormattedValue()},R.createElement(uD.ResponsiveText,{tagName:"dt"},this.renderPreviousPeriodValue()),this.renderPreviousPeriodName());renderPreviousPeriodName(){return!!this.props.previousPeriodName&&R.createElement("dd",{className:"headline-title-wrapper",ref:this.kpiSectionItemNode,title:this.props.previousPeriodName},this.props.previousPeriodName)}renderPreviousPeriodValue(){return this.props.isLoading?"…":this.props.error?this.formatMessage("error"):this.renderFormattedValue()}renderFormattedValue(){const e=this.props.previousPeriodValue;return this.props.disabled||eO(e,this.props.format??"")?sO:JM(e,this.props.format,this.props.separators)}getKpiSectionClassName(){const{clientWidth:e}=this.props,t=this.kpiSectionItemNode.current,i="gd-flex-container headline-compare-section",r=(0,lO.A)(e);return t&&r?`${i} ${r}`:i}formatMessage(e){return this.props.intl.formatMessage({id:e})}}const cO=(0,KP.ZP)(dO),uO=(0,Hb.b)(kI.Z);class gO extends R.Component{static defaultProps={isKpiValueClickDisabled:!1,filters:[],isKpiUnderlineHiddenWhenClickable:!1};renderPeriodOverPeriod(e,t){if("none"===this.props.kpi.kpi.comparisonType)return!1;const{kpiResult:i,enableCompactSize:r}=this.props,n=function(e){const t=e.dateDataSet,i=!!t&&function(e,t){return e.ignoreDashboardFilters.some((e=>(0,a.isDashboardDateFilterReference)(e)&&(0,a.areObjRefsEqual)(e.dataSet,t)))}(e,t);return!t||i}(this.props.kpi),o=this.props.filters.every((e=>!(0,a.isDateFilter)(e)||(0,a.isAllTimeDateFilter)(e))),l=((e,t,i)=>"lastYear"===t?i.formatMessage({id:"filters.allTime.lastYear"}):(0,a.isRelativeDateFilter)(e)&&!(0,a.isAllTimeDateFilter)(e)?((e,t)=>{const{from:i,to:r,granularity:n}=(0,a.relativeDateFilterValues)(e),o=Math.abs(r-i)+1;switch(n){case"GDC.time.minute":return t.formatMessage({id:"filters.minute.previousPeriod"},{n:o});case"GDC.time.hour":return t.formatMessage({id:"filters.hour.previousPeriod"},{n:o});case"GDC.time.date":return t.formatMessage({id:"filters.day.previousPeriod"},{n:o});case"GDC.time.week_us":return t.formatMessage({id:"filters.week.previousPeriod"},{n:o});case"GDC.time.month":return t.formatMessage({id:"filters.month.previousPeriod"},{n:o});case"GDC.time.quarter":return t.formatMessage({id:"filters.quarter.previousPeriod"},{n:o});case"GDC.time.year":return t.formatMessage({id:"filters.year.previousPeriod"},{n:o});default:return""}})(e,i):(e=>e.formatMessage({id:"filters.allTime.previousPeriod"}))(i))(this.props.filters.find(a.isDateFilter),this.props.kpi.kpi.comparisonType,this.props.intl),s=o||n,d=(0,Z.isGoodDataSdkError)(this.props.error)&&this.props.error.message===Z.ErrorCodes.NO_DATA,c=(0,a.isKpiWithComparison)(this.props.kpi.kpi)?this.props.kpi.kpi.comparisonDirection:void 0;return R.createElement(cO,{disabled:s,isLoading:this.props.isLoading,currentPeriodValue:i?.measureResult??null,previousPeriodValue:i?.measureForComparisonResult??null,previousPeriodName:l,format:i?.measureFormat,error:d?void 0:this.props.error,separators:this.props.separators,meaning:c,enableCompactSize:r,clientWidth:e,clientHeight:t})}renderValue(e){const{kpiResult:t,isKpiValueClickDisabled:i,onKpiValueClick:r,enableCompactSize:a,kpi:n}=this.props,o=(0,Z.isGoodDataSdkError)(this.props.error)&&this.props.error.message===Z.ErrorCodes.NO_DATA,l="none"!==n.kpi.comparisonType,s=R.createElement(rO,{isLoading:this.props.isLoading,error:o?void 0:this.props.error,errorHelp:this.props.errorHelp,value:t?.measureResult??null,format:t?.measureFormat,separators:this.props.separators,disableKpiDrillUnderline:this.props.isKpiUnderlineHiddenWhenClickable,enableCompactSize:a,clientHeight:e,hasComparison:l});return r?i?R.createElement("span",{className:"kpi-link s-kpi-link-nonclickable"},s):R.createElement("a",{className:"kpi-link s-kpi-link-clickable",onClick:this.props.onKpiValueClick},s):s}render(){return R.createElement("div",{className:"gd-kpi-widget-content"},R.createElement("div",{className:dy("visualization-content",{"in-edit-mode":this.props.isInEditMode})},R.createElement(uO,{client:!0},(({measureRef:e,contentRect:t})=>R.createElement("div",{className:"gd-visualization-content",ref:e},R.createElement("div",{className:"headline"},this.renderValue(t.client?.height),this.renderPeriodOverPeriod(t.client?.width,t.client?.height)))))))}}const mO=(0,KP.ZP)(gO),pO=({disableDrillUnderline:e,onDrill:t,isDrillable:i,isKpiValueClickDisabled:r,kpi:a,kpiResult:n,filters:o,separators:l,enableCompactSize:s,error:d,errorHelp:c,isLoading:u})=>{const g=qb(Wc),m=(0,R.useCallback)((()=>{if(i&&t)return t({type:"headline",element:"primaryValue",value:n?.measureResult?.toString(),intersection:n?.measureDescriptor?[{header:n.measureDescriptor}]:[]})}),[n?.measureResult,n?.measureDescriptor,i,t]);return R.createElement(mO,{isLoading:!!u,kpi:a,kpiResult:n,isKpiUnderlineHiddenWhenClickable:e,onKpiValueClick:i&&t?m:void 0,isKpiValueClickDisabled:r,filters:o,separators:l,enableCompactSize:s,error:d,errorHelp:c,isInEditMode:g})},hO=uD.OverlayController.getInstance(6e3),fO=(0,R.memo)((e=>{const{dashboardRef:t,kpiWidget:i,backend:r,workspace:n,primaryMeasure:o,secondaryMeasure:l,effectiveFilters:s,alert:d,separators:c,disableDrillUnderline:u,isReadOnly:g,onDrill:p,onError:h,onFiltersChange:f}=e,b=(0,FC.Z)(),D=(0,a.widgetRef)(i),{error:v,result:E,status:y}=BM({backend:r,workspace:n,primaryMeasure:o,secondaryMeasure:l,effectiveFilters:s,shouldLoad:!0}),I="loading"===y||"pending"===y,C=qb(lm),S=qb(oh),T=qb(Qo),w=qb(Pl),A=qb(gl),P=qb(nc),F=qb(TE(D)),k=qb(AD(D)),x=qb(PD(D)),L=Kb(),M=(0,R.useCallback)((()=>{L(Va.openKpiAlertDialog(D))}),[D,L]),O=(0,R.useCallback)((()=>{L(Va.closeKpiAlertDialog())}),[L]),{result:N}=((e,t)=>{const i=qb(Ed),{run:r,result:a,status:n,error:o}=eD({queryCreator:Ng}),l=a;return(0,R.useEffect)((()=>{e.ref&&r(e.ref)}),[t,e,i]),{result:l,status:n,error:o}})(i,d),_=!!N?.length,H=cD((0,a.widgetRef)(i));(0,R.useEffect)((()=>{const e=v;e&&h?.(e),v&&H.onError(v)}),[v]),(0,R.useEffect)((()=>{E&&(E.rawData().isEmpty()?H.onError(new Z.NoDataSdkError):H.onSuccess(E.result(),E.warnings()))}),[E]);const U=(0,R.useCallback)((e=>!!p&&p({dataView:E?.dataView,drillContext:e,drillDefinitions:i.drills,widgetRef:(0,a.widgetRef)(i)})),[p,E,i]),G=(e=>{const[t,i]=OM(yv,e),[r,a]=OM(Iv,e),[n,o]=OM(Cv,e);return{onCreateAlert:i,creatingStatus:t,onUpdateAlert:a,updatingStatus:r,onRemoveAlert:(0,R.useCallback)((e=>{o([e.ref])}),[o]),removingStatus:n}})(O),B=S,{onRequestAsyncRender:W,onResolveAsyncRender:z}=nD((0,a.objRefToString)((0,a.widgetRef)(i)));(0,R.useEffect)((()=>{I?W():z(),H.onLoadingChanged({isLoading:!!I})}),[I,W,z]);const{kpiAlertDialogClosed:V,kpiAlertDialogOpened:j}=tD(),K=VM(E,o,l,c),q=function(e,t,i){const r=e?.data({valueFormatter:(0,Z.createNumberJsFormatter)(i)}).series();return r?{measureFormat:r.count?r.firstForMeasure(t).measureFormat():void 0,measureResult:r.count?zM(r.firstForMeasure(t)):0}:void 0}(E,o,c),Y=I,$=v,{isThresholdRepresentingPercent:X,thresholdPlaceholder:Q}=(0,R.useMemo)((()=>function(e,t){const i=!!e?.measureFormat&&(0,a.isMeasureFormatInPercent)(e.measureFormat),r=On(e?.measureResult||0,2);return{isThresholdRepresentingPercent:i,thresholdPlaceholder:i?`${t.formatMessage({id:"kpi.alertBox.example"})} ${100*r}`:`${t.formatMessage({id:"kpi.alertBox.example"})} ${r}`}}(K,b)),[K,b]),J=(0,Z.convertDrillableItemsToPredicates)(P),ee=K?.measureDescriptor&&E&&(0,Z.isSomeHeaderPredicateMatched)(J,K.measureDescriptor,E)||F.length>0,te="inProgress"===G.creatingStatus||"inProgress"===G.updatingStatus?"inProgress":"error"===G.creatingStatus||"error"===G.updatingStatus?"error":"idle",{isSelectable:ie,isSelected:re,onSelected:ae}=iv(D),ne=p&&U;return R.createElement(uD.OverlayControllerProvider,{overlayController:hO},R.createElement(GM,{kpi:i,alert:d,filters:s,userWorkspaceSettings:T,kpiResult:K,renderHeadline:e=>R.createElement(PS,{title:i.title,clientHeight:e}),kpiAlertResult:q,canSetAlert:B,isReadOnlyMode:g,alertExecutionError:$??(_?new Z.NoDataSdkError:void 0),isLoading:I,isAlertLoading:!1,isAlertExecutionLoading:Y,isAlertBroken:_,isAlertDialogOpen:k,isAlertHighlighted:x,onAlertDialogOpenClick:()=>{j(!!d),M()},renderAlertDialog:()=>R.createElement(MM,{alert:d,dateFormat:A,userEmail:C.email,onAlertDialogCloseClick:()=>{V(),O()},onAlertDialogDeleteClick:()=>{G.onRemoveAlert(d)},onAlertDialogSaveClick:(e,i)=>d?G.onUpdateAlert({...d,threshold:e,whenTriggered:i,isTriggered:PM(q.measureResult,e,i)}):((0,m.kG)(t,"attempting to create alert of an unsaved dashboard"),G.onCreateAlert({dashboard:t,widget:D,threshold:e,whenTriggered:i,isTriggered:PM(K?.measureResult??0,e,i),filterContext:{title:"filterContext",description:"",filters:s?.map(jM).map(KM)??[]},description:"",title:""})),onAlertDialogUpdateClick:()=>G.onUpdateAlert({...d,isTriggered:PM(K?.measureResult??0,d.threshold,d.whenTriggered),filterContext:{...d.filterContext,filters:s?.map(jM).map(KM)??[]}}),onApplyAlertFiltersClick:f?()=>f(Bd(d?.filterContext?.filters??[],i),!0):void 0,isAlertLoading:Y,alertDeletingStatus:G.removingStatus,alertSavingStatus:te,alertUpdatingStatus:te,filters:s,isThresholdRepresentingPercent:X,thresholdPlaceholder:Q,brokenAlertFiltersBasicInfo:N,backend:r,workspace:n}),alertDeletingStatus:G.removingStatus,alertSavingStatus:te,isSelectable:ie,isSelected:re,onSelected:ae},(()=>R.createElement(pO,{kpi:i,kpiResult:K,filters:s??[],disableDrillUnderline:u,isDrillable:ee,onDrill:ne,separators:c,enableCompactSize:w,error:v,errorHelp:b.formatMessage({id:"kpi.error.view"}),isLoading:I}))))}));function bO({kpiWidget:e,dashboardFilters:t}){const{status:i,result:r,error:n}=Tw(e),o=r,l=qb(us);if(!e||"pending"===i)return{status:"pending",error:void 0,result:void 0};if("error"===i)return{status:"error",error:n,result:void 0};if("rejected"===i)return{status:"error",error:new Z.UnexpectedSdkError("Getting filter settings for a KPI widget failed."),result:void 0};if("running"===i)return{status:"loading",error:void 0,result:void 0};const s=Bd(t,e),d=(0,a.newMeasure)(e.kpi.metric),c=function(e,t,i,r){const n=e.kpi.comparisonType,o=!i?.some((e=>(0,a.isDateFilter)(e)&&!(0,a.isAllTimeDateFilter)(e)));if("none"!==n&&!o&&e.dateDataSet){if("previousPeriod"===n)return(0,a.newPreviousPeriodMeasure)(t,[{dataSet:e.dateDataSet,periodsAgo:1}]);if("lastYear"===n){const i=r.get(e.dateDataSet);(0,m.kG)(i,"Cannot find relevant date dataset in useKpiData");const n=i.dateAttributes.find((e=>"GDC.time.year"===e.granularity));return(0,m.kG)(n,"Cannot find yearAttribute in useKpiData"),(0,a.newPopMeasure)(t,n.attribute.ref)}(0,m.kG)(!1,`Unknown comparison ${n}`)}}(e,d,o,l);return{status:"success",error:void 0,result:{primaryMeasure:d,secondaryMeasure:c,effectiveFilters:o,allFilters:s}}}const DO=e=>{const{kpiWidget:t,alert:i,onFiltersChange:r,onDrill:a,onError:n,backend:o,workspace:l,ErrorComponent:s,LoadingComponent:d}=e;(0,m.kG)(t.kpi,"The provided widget is not a KPI widget.");const{ErrorComponent:c,LoadingComponent:u}=ny({ErrorComponent:s,LoadingComponent:d}),g=(0,Z.useBackendStrict)(o),p=(0,Z.useWorkspaceStrict)(l),h=qb(gu),f=qb(Ed),b=qb(xl),D=qb(el),v=qb(nl),E=bO({kpiWidget:t,dashboardFilters:f});return"loading"===E.status||"pending"===E.status?R.createElement(u,null):"error"===E.status?R.createElement(c,{message:E.error.message}):R.createElement(fO,{dashboardRef:h,kpiWidget:t,primaryMeasure:E.result.primaryMeasure,secondaryMeasure:E.result.secondaryMeasure,alert:i,allFilters:E.result.allFilters,effectiveFilters:E.result.effectiveFilters,onFiltersChange:r,onDrill:a,onError:n,separators:D,disableDrillUnderline:b,backend:g,workspace:p,LoadingComponent:u,isReadOnly:v})};function vO(e){const t=qb(dl),{run:i}=Jx(),{run:r}=qx({onSuccess:e=>{!t&&e.payload.drillEvent.drillDefinitions[0]&&i(e.payload.drillEvent.drillDefinitions[0],e.payload.drillEvent,e.correlationId)}});return(0,R.useCallback)((t=>{r(t,{widget:e})}),[r,e])}const EO=e=>{const{kpiWidget:t}=e,i=vO(t);return R.createElement(DO,{...e,onDrill:i})},yO=({title:e,onTitleChange:t,onTitleEditingEnd:i,onTitleEditingStart:r,clientHeight:a})=>{const n=Math.max(e.length,35);return R.createElement(wS,{clientHeight:a},R.createElement(wA,{text:e,originalTitle:e,maxLength:n,onTitleChange:t,onTitleEditingStart:r,onTitleEditingCancel:i}))},IO=ZE({view:e=>R.createElement(EO,{...e}),edit:e=>{const{kpiWidget:t,backend:i,workspace:r,ErrorComponent:n,LoadingComponent:o,onError:l}=e,s=(0,FC.Z)(),{ErrorComponent:d,LoadingComponent:c,KpiWidgetComponentSet:u}=ny({ErrorComponent:n,LoadingComponent:o}),g=u.configuration.WidgetConfigPanelComponent,{isChangingMeasure:m,titleToShow:p}=function(e){const[t,i]=(0,R.useState)(),r=qb(ps),n=r.get(e.kpi.metric),o=t&&r.get(t),{registerHandler:l,unregisterHandler:s}=q();(0,R.useEffect)((()=>{const t={eval:t=>fe(t)&&"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE"===t.payload.command.type&&(0,a.areObjRefsEqual)(t.payload.command.payload.ref,e.ref),handler:e=>{i(e.payload.command.payload.measureRef)}},r={eval:t=>Je(t)&&(0,a.areObjRefsEqual)(t.payload.ref,e.ref)||De(t)&&"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE"===t.payload.command.type&&(0,a.areObjRefsEqual)(t.payload.command.payload.ref,e.ref),handler:()=>{i(void 0)}};return l(t),l(r),()=>{s(t),s(r)}}),[e.ref,l,s]);const d=!!t;return{isChangingMeasure:d,titleToShow:d&&e.title===n?.measure.title&&o?o.measure.title:e.title}}(t),h=(0,Z.useBackendStrict)(i),f=(0,Z.useWorkspaceStrict)(r),b=qb(Ed),{error:D,result:v,status:E}=bO({kpiWidget:t,dashboardFilters:b}),{primaryMeasure:y,secondaryMeasure:I,effectiveFilters:C}=v??{},S=qb(Pl),T=qb(el),w=qb(xl),A=t.drills.length>0,P=!qb(nE),F=Kb(),k=qb(kc((0,a.widgetRef)(t))),x=(0,R.useCallback)((()=>{F(Va.openKpiDeleteDialog(k))}),[F,k]),L=qb(ps).get(t.kpi.metric),M=(0,R.useCallback)((e=>{e?F(Ov(t.ref,{title:e})):L&&F(Ov(t.ref,{title:L.measure.title}))}),[L,F,t.ref]),{error:O,result:N,status:_}=BM({backend:h,workspace:f,primaryMeasure:y,secondaryMeasure:I,effectiveFilters:C,shouldLoad:"success"===E}),H=m||"loading"===_||"pending"===_||"loading"===E||"pending"===E,U=cD((0,a.widgetRef)(t)),{isSelectable:G,isSelected:B,onSelected:W,hasConfigPanelOpen:z}=iv((0,a.widgetRef)(t)),V=qb(ol),j=qb(dl),K=B&&!V&&!j,Y=vO(t),$=(0,R.useCallback)((e=>Y({dataView:N?.dataView,drillContext:e,drillDefinitions:t.drills,widgetRef:(0,a.widgetRef)(t)})),[Y,N,t]),X=(0,R.useCallback)((()=>F(Va.setConfigurationPanelOpened(!1))),[F]),Q=(0,R.useMemo)((()=>{if(g&&B&&z)return function(){return R.createElement(cC,{onClose:X},R.createElement(g,{widget:t}))}}),[g,z,B,t,X]);(0,R.useEffect)((()=>{O&&(l?.(O),U.onError(O))}),[O,U,l]),(0,R.useEffect)((()=>{N&&(N.rawData().isEmpty()?U.onError(new Z.NoDataSdkError):U.onSuccess(N.result(),N.warnings()))}),[N,U]);const J=(0,R.useMemo)((()=>VM(N,y,I,T)),[y,N,I,T]);return R.createElement(NM,{visualizationClassName:dy("s-dashboard-kpi-component","widget-loaded","visualization",{"kpi-with-pop":"none"!==t.kpi.comparisonType,"content-loading":H,"content-loaded":!H,"is-editable":P}),contentClassName:dy({"is-editable":P}),renderBeforeContent:Q,renderAfterContent:()=>B?R.createElement("div",{className:"dash-item-action dash-item-action-delete gd-icon-trash",onClick:x}):null,renderHeadline:e=>R.createElement(yO,{title:p,clientHeight:e,onTitleChange:M}),isSelectable:G,isSelected:B,onSelected:W},(()=>"loading"===E||"pending"===E?R.createElement(c,null):"error"===E?R.createElement(d,{message:D.message}):R.createElement(pO,{kpi:t,kpiResult:J,filters:v?.effectiveFilters??[],separators:T,enableCompactSize:S,error:O,errorHelp:s.formatMessage({id:"kpi.error.view"}),isLoading:H,onDrill:$,isDrillable:A,isKpiValueClickDisabled:!K,disableDrillUnderline:w})))}});function CO(e){const{ListItemComponent:t,listItemComponentProps:i,insight:r}=e,a=e.WrapInsightListItemWithDragComponent;return R.createElement(a,{insight:r},R.createElement(t,{...i}))}const SO=e=>{const{className:t}=e;return R.createElement("div",{className:t},R.createElement(uD.InsightListItem,{...e}))},TO=e=>{const{WrapInsightListItemWithDragComponent:t,className:i,isLocked:r,title:a,description:n,showDescriptionPanel:o,type:l,updated:s,insight:d,onDescriptionPanelOpen:c,metadataTimeZone:u}=e;return R.createElement(CO,{WrapInsightListItemWithDragComponent:t,ListItemComponent:SO,listItemComponentProps:{className:i,isLocked:r,title:a,description:n,type:l,updated:s,showDescriptionPanel:o,onDescriptionPanelOpen:c,metadataTimeZone:u},insight:d})};function wO({item:e}){const t=e.insight,i=(0,a.insightVisualizationType)(t);return R.createElement(SO,{className:"move-insight-placeholder",type:i,title:(0,a.insightTitle)(t),updated:(0,a.insightUpdated)(t)??(0,a.insightCreated)(t),isLocked:(0,a.insightIsLocked)(t)})}function AO(e){return{MainComponentProvider:e,dragging:{DraggingComponent:wO,type:"insight"},configuration:{WidgetConfigPanelComponent:()=>null}}}function PO({item:e}){return R.createElement("div",{className:"move-kpi-placeholder"},R.createElement(uD.ShortenedText,null,e.title))}const RO=e=>{const{widget:t}=e,i=qb(yd),r=qb(vd),n=qb(ms),o=(0,R.useMemo)((()=>i.map((e=>e.attributeFilter.displayForm))),[i]),{attributes:l,attributesLoading:s}=mT(o);return s?R.createElement("span",{className:"gd-spinner small s-attribute-filter-configuration-loading"}):l?R.createElement("div",{className:"s-attribute-filter-configuration"},i.map((e=>{const i=r.get(e.attributeFilter.displayForm);(0,m.kG)(i,"Inconsistent state in AttributeFilterConfiguration");const o=VS(l,i.attribute),s=n.get(i.attribute)||o;(0,m.kG)(s,"Inconsistent state in AttributeFilterConfiguration");const d=(0,a.isAttributeMetadataObject)(s)?s.title:s.attribute.title;return R.createElement(cT,{key:(0,a.objRefToString)(i.ref),displayFormRef:i.ref,title:e.attributeFilter.title??d,widget:t})}))):null},FO=[{align:"bl tl"},{align:"tl bl"}],kO={lastYear:(0,JD.Em)({id:"configurationPanel.comparisonTypeItems.samePeriodInPreviousYear"}),none:(0,JD.Em)({id:"configurationPanel.comparisonTypeItems.noComparison"}),previousPeriod:(0,JD.Em)({id:"configurationPanel.comparisonTypeItems.previousPeriod"})},xO=(0,JD.Em)({id:"configurationPanel.selectComparisonPlaceholder"}),LO=["previousPeriod","lastYear","none"],MO=e=>{const{comparisonType:t,onComparisonTypeChanged:i}=e,r=(0,FC.Z)(),a=t?r.formatMessage(kO[t]):r.formatMessage(xO);return R.createElement(uD.Dropdown,{alignPoints:FO,closeOnParentScroll:!0,closeOnMouseDrag:!0,className:"s-compare_with_select",renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(uD.DropdownButton,{title:a,value:a,isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{className:"configuration-dropdown comparison-list",width:204,items:LO,renderItem:({item:a})=>{const n=t===a;return R.createElement(uD.SingleSelectListItem,{title:r.formatMessage(kO[a]),isSelected:n,onClick:()=>{i(a),e()}})}})})},OO=[{align:"bl tl"},{align:"tl bl"}],NO={growIsBad:(0,JD.Em)({id:"configurationPanel.comparisonDirectionItems.red"}),growIsGood:(0,JD.Em)({id:"configurationPanel.comparisonDirectionItems.green"})},_O=(0,JD.Em)({id:"configurationPanel.selectComparisonDirectionPlaceholder"}),HO=["growIsGood","growIsBad"],UO=e=>{const{comparisonDirection:t,onComparisonDirectionChanged:i}=e,r=(0,FC.Z)(),a=t?r.formatMessage(NO[t]):r.formatMessage(_O);return R.createElement("div",null,R.createElement(AI.Z,{id:"configurationPanel.increasingNumberIs",tagName:"label"}),R.createElement(uD.Dropdown,{alignPoints:OO,className:"s-growing_number_is",renderButton:({isOpen:e,toggleDropdown:i})=>R.createElement(uD.DropdownButton,{title:a,value:a,className:t?`type-${t}`:"",isOpen:e,onClick:i}),closeOnParentScroll:!0,closeOnMouseDrag:!0,renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{className:"configuration-dropdown growing-number-is-list",width:204,items:HO,renderItem:({item:a})=>{const n=t===a;return R.createElement(uD.SingleSelectListItem,{title:r.formatMessage(NO[a]),isSelected:n,onClick:()=>{i(a),e()}})}})}))},GO=e=>{const{widget:t}=e,i=(0,a.widgetRef)(t),r=t.kpi.comparisonDirection,n=t.kpi.comparisonType,o=Kb(),l=(0,R.useCallback)((e=>{o(jv(i,{comparisonDirection:r,comparisonType:e}))}),[o,i,r]),s=(0,R.useCallback)((e=>{o(jv(i,{comparisonType:n,comparisonDirection:e}))}),[o,i,n]);return R.createElement("div",null,R.createElement(AI.Z,{id:"configurationPanel.compareWith",tagName:"label"}),R.createElement(MO,{comparisonType:n,onComparisonTypeChanged:l}),!!r&&R.createElement(UO,{comparisonDirection:r,onComparisonDirectionChanged:s}))},BO=e=>{const{widget:t}=e,i=(0,a.widgetRef)(t),{status:r,run:n,result:o}=eD({queryCreator:qm});(0,R.useEffect)((()=>{n(t.kpi.metric)}),[n,t.kpi.metric]);const l=qb(xD),s=qb(OD(i)),d=Kb(),{run:c}=$b({commandCreator:Gv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onError:()=>{d(Va.setWidgetLoadingAdditionalDataStopped(i)),d(Va.setWidgetDateDatasetAutoSelect(!1))},onSuccess:()=>{d(Va.setWidgetLoadingAdditionalDataStopped(i))}});(0,R.useEffect)((()=>{l&&c(i,"default")}),[l,aS(i),c]);const{handleDateDatasetChanged:u,shouldOpenDateDatasetPicker:g}=oT(o?.dateDatasets);return R.createElement("div",{className:"gd-kpi-date-dataset-dropdown"},R.createElement(nT,{widget:t,dateFilterCheckboxDisabled:!1,isDatasetsLoading:"running"===r||"pending"===r||s,relatedDateDatasets:o?.dateDatasetsOrdered,shouldPickDateDataset:l,shouldOpenDateDatasetPicker:g,isLoadingAdditionalData:s,onDateDatasetChanged:u}))},WO=[{align:"cl cr",offset:{x:-10,y:0}}],zO=({item:e,isSelected:t,unlistedTitle:i,unlistedIconTitle:r,isMobile:a,onClick:n})=>{if(!e)return null;const o=!!e?.unlisted&&R.createElement("span",{title:r,className:"gd-icon-16 gd-icon-unlisted"}),l=e?.unlisted?i:e.title,s=dy(`s-${NS.gl(l)}`,{"gd-list-item":!0,"gd-list-item-shortened":!0,"is-selected":t}),d=a?l:R.createElement(uD.ShortenedText,{tooltipAlignPoints:WO},l);return R.createElement("div",{key:e.id,className:s,onClick:n},d,o)},VO=[{align:"bl tl"}],jO=e=>{const{onSelect:t,bodyClassName:i,selectedItems:r,openOnInit:n}=e,o=(0,FC.Z)(),l=(0,R.useRef)(null),[s,d]=(0,R.useState)(""),c=qb(Xl),u=qb(Fl),g=(0,R.useRef)(zT((e=>{d(e)}),250)),[m]=r,p=m?c.find((e=>(0,a.areObjRefsEqual)(e.measure.ref,r[0]))):void 0,h=p?.measure?.title??o.formatMessage({id:"configurationPanel.selectMeasurePlaceholder"}),f=(0,R.useCallback)((e=>{e&&s&&d("")}),[s]),b=(0,R.useMemo)((()=>s?c.filter((e=>e.measure.title.toLowerCase().includes(s.toLowerCase()))):c),[c,s]),D=(e=>{const t=window.innerHeight,i=l.current?l.current.getBoundingClientRect().bottom:0,r=Math.min(t-i-58,294,28*e);return Math.max(28,r)})(b.length)||294;return R.createElement(uD.Dropdown,{alignPoints:VO,className:"s-metric_select",closeOnMouseDrag:!0,closeOnParentScroll:!0,openOnInit:n,ignoreClicksOnByClass:[".dash-content"],onOpenStateChanged:f,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement("div",{ref:l},R.createElement(uD.DropdownButton,{className:u?"type-metric":"type-measure",isSmall:!0,value:h,isOpen:e,onClick:t})),renderBody:({closeDropdown:e})=>R.createElement("div",{className:dy(i,"metrics-dropdown")},R.createElement(uD.DropdownList,{items:b,searchFieldSize:"small",showSearch:!0,onSearch:g.current,searchString:s,height:D,width:204,disableAutofocus:!0,renderItem:({item:i})=>R.createElement(zO,{item:i.measure,isSelected:!!m&&(0,a.areObjRefsEqual)(m,i.measure.ref),unlistedTitle:o.formatMessage({id:"configurationPanel.unlistedMetric"}),unlistedIconTitle:o.formatMessage({id:"configurationPanel.unlistedMetricIconTitle"}),onClick:()=>{t(i.measure),e()}})}))})},KO=e=>{const{widget:t,onMeasureChange:i}=e,r=(0,Z.useWorkspaceStrict)(),a=t?.kpi.metric,[n,o]=(0,R.useState)(a),l=(0,R.useMemo)((()=>n?[n]:[]),[n]),s=(0,R.useCallback)((e=>{i(e.ref),o(e.ref)}),[i]);return(0,R.useEffect)((()=>{o(a)}),[aS(a)]),R.createElement(jO,{workspace:r,openOnInit:!a,bodyClassName:"configuration-dropdown metrics-list s-metrics-list",selectedItems:l,onSelect:s})},qO=e=>{const{onCloseButtonClick:t}=e;return R.createElement("div",{className:"configuration-panel-header"},R.createElement(uD.Typography,{tagName:"h3",className:"configuration-panel-header-title"},R.createElement(AI.Z,{id:"configurationPanel.title"})),R.createElement(uD.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross configuration-panel-header-close-button s-configuration-panel-header-close-button",onClick:t}))},YO=e=>{const{numberOfAlerts:t}=e;return t?R.createElement("div",{className:"warning s-alert-edit-warning"},R.createElement(uD.Message,{type:"warning"},R.createElement(AI.Z,{id:"configurationPanel.breakAlertWarning",values:{numAlerts:t}}))):null},ZO=[{align:"bl tl"},{align:"tl bl"}],$O=e=>{const{isDisabled:t=!1,isOpen:i=!1,value:r="",selection:a,title:n="",onClick:o}=e;let l;if(a)l=R.createElement(uD.DropdownButton,{title:n,value:r,onClick:o,isOpen:i});else{const e=dy("gd-button-secondary","gd-button-small","gd-icon-add",{"is-focus":i});l=R.createElement(uD.Button,{onClick:o,title:n,className:e,value:r,disabled:t})}return R.createElement("div",{className:"s-drill_to_select"},l)},XO=e=>{const{widget:t}=e,i=(0,FC.Z)(),r=Kb(),n=(0,R.useCallback)((e=>{r(qv((0,a.widgetRef)(t),e.dashboardRef,e.identifier))}),[r,t]),o=(0,R.useCallback)((()=>{r(Yv((0,a.widgetRef)(t)))}),[r,t]),l=qb(ff),s=t.drills?.[0]?.tab,d={title:i.formatMessage({id:"configurationPanel.unlistedDashboardTab"})},c=(0,R.useMemo)((()=>{if(!l)return[];const e=Ww(l,(e=>e.title));return Gi(e,(e=>[{title:e.title,identifier:e.identifier,dashboardRef:e.ref,type:"header"},...e.tabs.map((t=>({title:t.title,identifier:t.identifier,dashboardRef:e.ref,type:void 0})))]))}),[l]),u=c?.find((e=>e.identifier===s)),g=s?u||d:null,m=g?g.title:i.formatMessage({id:"configurationPanel.selectDashboard"});return R.createElement("div",{className:"drill-to-dropdown-container"},R.createElement(uD.Dropdown,{className:"drill-to-dropdown s-drill-to-dropdown",closeOnParentScroll:!0,closeOnMouseDrag:!0,alignPoints:ZO,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement($O,{title:m,value:m,selection:g,isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{isLoading:!l,renderNoData:({hasNoMatchingData:e})=>R.createElement(uD.NoData,{hasNoMatchingData:e,noDataLabel:i.formatMessage({id:"configurationPanel.noLinkableDashboards"})}),className:"configuration-dropdown s-drill-to-list",width:181,items:c,renderItem:({item:t})=>{const i=g&&g.title===t.title;return R.createElement(uD.SingleSelectListItem,{title:t.title,isSelected:!!i,type:t.type,onClick:()=>{n(t),e()}})}})}),s?R.createElement(uD.Button,{className:"gd-button-link-dimmed gd-button-icon-only gd-icon-cross button-remove-drill-to s-button-remove-drill-to",onClick:o}):null)},QO=e=>qb(kl)?null:R.createElement(XO,{...e}),JO=(e,t,i)=>{if(!e.visible)return{config:"none",description:""};const r="metric"===e.source;return{config:e.source,description:r?i:t}};function eN(e){const{descriptionConfig:t,kpi:i,metrics:r,setDescriptionConfiguration:n,isKpiDescriptionEnabled:o,setKpiDescription:l}=e,s=(0,FC.Z)(),d=(0,R.useMemo)((()=>[{id:"metric",title:s.formatMessage({id:"configurationPanel.visualprops.inheritDescription"}),info:s.formatMessage({id:"configurationPanel.visualprops.inheritKpiDescriptionHelp"})},{id:"kpi",title:s.formatMessage({id:"configurationPanel.visualprops.customDescription"}),info:s.formatMessage({id:"configurationPanel.visualprops.customKpiDescriptionHelp"})},{id:"none",title:s.formatMessage({id:"configurationPanel.visualprops.noneDescription"})}]),[s]),c=((e,t)=>e.find((e=>(0,a.areObjRefsEqual)(e.measure.ref,t)))?.measure.description)(r,i.kpi.metric)??"",[u,g]=(0,R.useState)(JO(t,i.description,c)),[m,p]=(0,R.useState)(i.description),h=(0,R.useCallback)((e=>{l(i,e),g((t=>({...t,description:e}))),p(e)}),[i,l,g]),f=(0,R.useCallback)((e=>{let t;"none"===e?(t={visible:!1,source:"metric"},g(JO(t,"",""))):(t={visible:!0,source:e},g(JO(t,"kpi"===e?m:"",c))),n(i,t),"kpi"===e&&l(i,m??""),"none"!==e&&"metric"!==e||l(i,"")}),[i,c,n,l,m]);return R.createElement(R.Fragment,null,o?R.createElement("div",{className:"configuration-category s-description-configuration description-configuration-section"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"configurationPanel.visualprops.sectionDescription"})),R.createElement(uD.Dropdown,{closeOnParentScroll:!0,renderBody:({closeDropdown:e})=>R.createElement(uD.DropdownList,{items:d,renderItem:({item:t})=>R.createElement(uD.SingleSelectListItem,{title:t.title,info:t.info,isSelected:t.id===u.config,onClick:()=>{f(t.id),e()}})}),renderButton:({openDropdown:e,isOpen:t})=>R.createElement(uD.DropdownButton,{value:d.find((e=>e.id===u.config))?.title,isOpen:t,onClick:e,className:"description-config-dropdown-button s-description-config-dropdown-button"})}),"kpi"===u.config||"metric"===u.config?R.createElement(bT,{description:u.description??"",setDescription:h,readOnly:"metric"===u.config}):null):null)}const tN=e=>{const{widget:t,onMeasureChange:i,onClose:r}=e,n=t&&(0,a.widgetRef)(t),o=t?.kpi.metric,{run:l,result:s,status:d}=eD({queryCreator:_g});(0,R.useEffect)((()=>{n&&l(n)}),[aS(n)]);const c=dy("configuration-category",{"s-widget-alerts-information-loaded":"success"===d}),u=dy("configuration-panel","configuration-panel-kpi","s-configuration-scrollable-panel"),g=dy({"is-disabled":!o}),m=qb(Qo),p=qb(Xl),h=qb(ol),f=qb(Tl),b=Kb();return R.createElement(R.Fragment,null,R.createElement(qO,{onCloseButtonClick:r}),R.createElement(uD.ScrollablePanel,{className:u},R.createElement("div",{className:c},R.createElement(YO,{numberOfAlerts:s}),R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"configurationPanel.measure"})),R.createElement(KO,{widget:t,onMeasureChange:i}),!!t&&R.createElement(eN,{kpi:t,metrics:p,isKpiDescriptionEnabled:m.enableDescriptions||!1,descriptionConfig:t.configuration?.description||{source:"metric",visible:!0},setDescriptionConfiguration:(e,t)=>{b(_v(e.ref,{...e.configuration,description:t}))},setKpiDescription:(e,t)=>{b(Nv(e.ref,{description:t}))}}),R.createElement(uD.Typography,{tagName:"h3",className:g},R.createElement(AI.Z,{id:"configurationPanel.filterBy"})),!!t&&R.createElement(R.Fragment,null,R.createElement(BO,{widget:t}),R.createElement(RO,{widget:t})),R.createElement(uD.Typography,{tagName:"h3",className:g},R.createElement(AI.Z,{id:"configurationPanel.comparison"})),!!t&&R.createElement(GO,{widget:t}),h&&f?null:R.createElement(R.Fragment,null,R.createElement(uD.Typography,{tagName:"h3",className:g},R.createElement(AI.Z,{id:"configurationPanel.drillIntoDashboard"})),!!t&&R.createElement(QO,{widget:t})))))},iN=e=>{const{widget:t,onClose:i}=e,r=Kb(),a=qb(Qo),n=qb(ps),{itemIndex:o,sectionIndex:l}=qb(kc(t.ref)),s=$b({commandCreator:sv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",onSuccess:e=>{const t=e.payload.items[0].widget.ref;r(Va.selectWidget(t)),r(Va.setConfigurationPanelOpened(!0))}}),d=(0,R.useCallback)((e=>{const t=n.get(e);(0,m.kG)(t,"Invalid measure when creating a KPI");const i=io(a,"kpi");s.run(l,o,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:i.height.default,gridWidth:i.width.default}},widget:{type:"kpi",description:"",drills:[],ignoreDashboardFilters:[],kpi:{comparisonType:"previousPeriod",metric:e,comparisonDirection:"growIsGood"},title:t.measure.title,dateDataSet:void 0}})}),[n,a,s,l,o]);return R.createElement(tN,{onMeasureChange:d,onClose:i})},rN=e=>{const{widget:t,screen:i}=e;(0,m.kG)(Vd(t));const r=Kb(),{itemIndex:a,sectionIndex:n}=qb(kc(t.ref)),{isSelectable:o,isSelected:l}=iv(t.ref),s=(0,R.useRef)(l);(0,R.useEffect)((()=>{l&&(s.current=!0)}),[l]),(0,R.useEffect)((()=>{s.current&&!l&&r(pv(n,a))}),[r,l,a,n]);const d=(0,R.useCallback)((()=>{r(Va.setConfigurationPanelOpened(!1)),r(pv(n,a))}),[r,a,n]);return R.createElement(oS,{className:"is-selected is-placeholder is-edit-mode",screen:i},R.createElement(uS,{isSelected:l,isSelectable:o},R.createElement(cC,{onClose:d},R.createElement(iN,{widget:t,onClose:d})),R.createElement("div",{className:"kpi-placeholder select-measure"})))},aN={type:"kpi-placeholder",size:{gridHeight:xn.KPI_WIDGET_SIZE_INFO_DEFAULT.height.default,gridWidth:xn.KPI_WIDGET_SIZE_INFO_DEFAULT.width.default}},nN=({CreatePanelItemComponent:e,WrapCreatePanelItemWithDragComponent:t,disabled:i})=>R.createElement(kx,{Component:e,WrapCreatePanelItemWithDragComponent:t,disabled:i,dragItem:aN,hideDefaultPreview:!1}),oN=({disabled:e})=>R.createElement("div",{className:dy("add-item-placeholder","add-kpi-placeholder","s-add-kpi",{disabled:e})},R.createElement(AI.Z,{id:"addPanel.kpi"})),lN=[{align:"cr cl",offset:{x:-20,y:0}}],sN=e=>{const{WrapCreatePanelItemWithDragComponent:t}=e,i=qb(Ql),r=qb(sl),a=!i,n=a&&R.createElement("div",null,R.createElement(AI.Z,{id:"addPanel.kpi.tooltip.no_measures"})," ",!r&&R.createElement("a",{href:"https://help.gooddata.com/pages/viewpage.action?pageId=86794662#DataCataloginAnalyticalDesigner-AdditemstoDataCatalog",rel:"noopener noreferrer",target:"_blank",className:"s-add-kpi-tooltip-link"},R.createElement(AI.Z,{id:"addPanel.kpi.tooltip.no_measures.link"})));return R.createElement(uD.BubbleHoverTrigger,{eventsOnBubble:!0,className:"s-add-kpi-bubble-trigger"},R.createElement(nN,{CreatePanelItemComponent:oN,WrapCreatePanelItemWithDragComponent:t,disabled:a}),n?R.createElement(uD.Bubble,{alignPoints:lN},n):null)},dN=e=>{const{widget:t}=e,i=Kb(),r=t.kpi.metric,n=qb(ps),o=n.get(r)?.measure.title,l=(0,R.useCallback)((e=>{i(Hv((0,a.widgetRef)(t),e,o===(0,a.widgetTitle)(t)?"from-measure":void 0))}),[i,t,o]),s=(0,R.useCallback)((()=>i(Va.setConfigurationPanelOpened(!1))),[i]);return R.createElement(tN,{widget:t,onMeasureChange:l,onClose:s})};function cN(e){return{MainComponentProvider:e,creating:{CreatingPlaceholderComponent:rN,CreatePanelListItemComponent:sN,type:"kpi-placeholder",priority:5},dragging:{DraggingComponent:PO,type:"kpi"},configuration:{WidgetConfigPanelComponent:dN}}}const uN=e=>{const{LayoutComponent:t}=ny();return R.createElement(t,{...e})},gN={ConflictingIdentifiers:(0,JD.Em)({id:"filters.config.warning.conflictingIdentifiers"}),NO_CONFIG:(0,JD.Em)({id:"filters.config.warning.workspace.notAvailable"}),NoVisibleOptions:(0,JD.Em)({id:"filters.config.warning.allOptionsHidden"}),SelectedOptionInvalid:(0,JD.Em)({id:"filters.config.warning.selectedFilterNotValid"}),TOO_MANY_CONFIGS:(0,JD.Em)({id:"filters.config.warning.multipleWorkspacesConfigs"})},mN={...gN,NO_CONFIG:(0,JD.Em)({id:"filters.config.warning.notAvailable"}),TOO_MANY_CONFIGS:(0,JD.Em)({id:"filters.config.warning.multipleProjectConfigs"})},pN=new Set(["NoVisibleOptions","SelectedOptionInvalid"]),hN=(0,Po.createSelector)(Xc,bu,((e,t)=>t?e:e.filter((e=>!pN.has(e))))),fN=()=>{const e=qb(Wc),t=qb(hN),i=qb(Rl)?gN:mN;return e&&t.length>0?R.createElement(uD.Message,{type:"warning",contrast:!0,className:"gd-date-filter-config-warning-message"},R.createElement("ul",{className:"gd-date-filter-config-warning-message-items"},t.map((e=>{const t=i[e];return t?R.createElement("li",{key:e},R.createElement(AI.Z,{id:t.id})):null})))):null},bN=e=>{const t=aD(kf),{deselectWidgets:i}=iv(),{handleDragHoverEnd:r}=jC(),[{isOver:a},n]=tI(["insight","insight-placeholder","insightListItem","kpi","kpi-placeholder"],{});return(0,R.useEffect)((()=>{a||r()}),[r,a]),R.createElement("div",{className:"gd-flex-container root-flex-maincontent",ref:n,onClick:i},R.createElement(fN,null),R.createElement(uN,{onFiltersChange:t}))},DN=()=>{const{closeDialog:e,dialogConfig:t,isOpen:i}=QE(),r=(0,FC.Z)(),{onClose:a}=t,n=(0,R.useCallback)((()=>{a?.(),e()}),[a,e]);return i?R.createElement(uD.ExportDialog,{...t,headline:r.formatMessage({id:"dialogs.export.headline"}),cancelButtonText:r.formatMessage({id:"cancel"}),submitButtonText:r.formatMessage({id:"dialogs.export.submit"}),filterContextText:r.formatMessage({id:"dialogs.export.includeFilters"}),filterContextTitle:r.formatMessage({id:"dialogs.export.filters"}),mergeHeadersText:r.formatMessage({id:"dialogs.export.mergeHeaders"}),mergeHeadersTitle:r.formatMessage({id:"dialogs.export.cells"}),onClose:n,onCancel:e}):null},vN=e=>{const{TopBarComponent:t}=ny();return R.createElement(t,{...e})},EN=e=>{const{SaveAsDialogComponent:t}=ny();return R.createElement(t,{...e})},yN=e=>{const{FilterBarComponent:t}=ny();return R.createElement(t,{...e})},IN=e=>{const{ShareDialogComponent:t}=ny();return R.createElement(t,{...e})},CN=()=>{const{backend:e,workspace:t,isShareDialogOpen:i,persistedDashboard:r,currentUser:a,onCloseShareDialog:n,onApplyShareDialog:o,onErrorShareDialog:l,onInteractionShareDialog:s,isLockingSupported:d,isCurrentUserWorkspaceManager:c,dashboardPermissions:u}=(()=>{const e=Kb(),{addSuccess:t,addError:i}=(0,uD.useToastMessage)(),{shareDialogInteraction:r}=tD(),a=qb(vD),n=qb(su),o=qb(lm),l=qb(Jp),s=qb(cE),d=(0,Z.useBackendStrict)(),c=(0,Z.useWorkspaceStrict)(),{run:u}=$b({commandCreator:vi,successEvent:"GDC.DASH/EVT.SHARING.CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:()=>{t(ev.messagesSharingChangedSuccess)},onError:()=>{i(ev.messagesSharingChangedError)}}),g=(0,R.useCallback)((()=>e(Va.closeShareDialog())),[e]);return{backend:d,workspace:c,isShareDialogOpen:a,persistedDashboard:n,currentUser:o,onCloseShareDialog:(0,R.useCallback)((()=>{g()}),[g]),onApplyShareDialog:(0,R.useCallback)((e=>{g(),u(e)}),[g,u]),onErrorShareDialog:(0,R.useCallback)((()=>{e(Va.closeShareDialog()),i(ev.messagesSharingDialogError)}),[e,i]),onInteractionShareDialog:r,isLockingSupported:l,isCurrentUserWorkspaceManager:l,dashboardPermissions:s}})();if(!i)return null;const g={canEditAffectedObject:u.canEditDashboard,canEditLockedAffectedObject:u.canEditLockedDashboard,canShareAffectedObject:u.canShareDashboard,canShareLockedAffectedObject:u.canShareLockedDashboard,canViewAffectedObject:u.canViewDashboard};return R.createElement(IN,{backend:e,workspace:t,isVisible:i,currentUser:a,sharedObject:r,onCancel:n,onApply:o,onError:l,isLockingSupported:d,isCurrentUserWorkspaceManager:c,currentUserPermissions:g,onInteraction:s})},SN=e=>{const{ScheduledEmailManagementDialogComponent:t}=ny();return R.createElement(t,{...e})},TN=e=>{const{ScheduledEmailDialogComponent:t}=ny();return R.createElement(t,{...e})},wN=()=>{const{isScheduleEmailingDialogOpen:e,isScheduleEmailingManagementDialogOpen:t,onScheduleEmailingCancel:i,onScheduleEmailingCreateError:r,onScheduleEmailingCreateSuccess:a,onScheduleEmailingManagementAdd:n,onScheduleEmailingManagementEdit:o,scheduledEmailToEdit:l,users:s,onScheduleEmailingSaveError:d,onScheduleEmailingSaveSuccess:c,onScheduleEmailingManagementClose:u,onScheduleEmailingManagementLoadingError:g,onScheduleEmailingManagementDeleteSuccess:m,onScheduleEmailingManagementDeleteError:p}=tv();return R.createElement(R.Fragment,null,t?R.createElement(SN,{isVisible:t,onAdd:n,onEdit:o,onClose:u,onDeleteSuccess:m,onLoadError:g,onDeleteError:p}):null,e?R.createElement(TN,{isVisible:e,onCancel:i,onError:r,onSuccess:a,editSchedule:l,onSaveError:d,onSaveSuccess:c,users:s}):null)},AN=(0,JD.vU)({alertsAndEmails:{id:"deleteDashboardDialog.alertsAndEmailsMessage"},alerts:{id:"deleteDashboardDialog.alertsMessage"},emails:{id:"deleteDashboardDialog.emailsMessage"},drills:{id:"deleteDashboardDialog.drillMessage"}}),PN=e=>{const{isVisible:t,isKpiWidgetEnabled:i,isScheduleEmailsEnabled:r,isDrillToDashboardEnabled:a,onDelete:n,onCancel:o}=e,l=(0,FC.Z)();if(!t)return null;const s=ka([i&&r&&AN.alertsAndEmails,i&&!r&&AN.alerts,!i&&r&&AN.emails,a&&AN.drills]);return R.createElement(uD.ConfirmDialog,{onCancel:o,onSubmit:n,isPositive:!1,className:"s-dialog s-delete_dashboard_dialog",headline:l.formatMessage({id:"deleteDashboardDialog.headline"}),cancelButtonText:l.formatMessage({id:"cancel"}),submitButtonText:l.formatMessage({id:"deleteDashboardDialog.submitButtonText"})},s.map(((e,t)=>R.createElement(R.Fragment,{key:e.id},0!==t&&R.createElement("br",null),R.createElement(uD.Typography,{tagName:"p"},R.createElement(AI.Z,{...e}))))))},RN=e=>R.createElement(PN,{...e}),FN=e=>{const{isVisible:t,onDelete:i,onCancel:r}=e,a=(0,FC.Z)();return t?R.createElement(uD.ConfirmDialog,{onCancel:r,onSubmit:i,isPositive:!1,className:"s-dialog",headline:a.formatMessage({id:"deleteKpiConfirmationDialog.headline"}),cancelButtonText:a.formatMessage({id:"cancel"}),submitButtonText:a.formatMessage({id:"deleteKpiConfirmationDialog.submitButtonText"})},R.createElement(uD.Typography,{tagName:"p"},R.createElement(AI.Z,{id:"deleteKpiConfirmationDialog.message"}))):null},kN=e=>R.createElement(FN,{...e}),xN=()=>{const e=Kb();return{onCancel:(0,R.useCallback)((()=>e(Va.closeCancelEditModeDialog())),[e]),onSubmit:(0,R.useCallback)((()=>{e(cd()),e(Va.closeCancelEditModeDialog())}),[e])}},LN=e=>{const t=(0,FC.Z)();return qb(ID)?R.createElement(uD.ConfirmDialog,{headline:t.formatMessage({id:"cancelConfirmationDialog.headline"}),submitButtonText:t.formatMessage({id:"cancelConfirmationDialog.submitButtonText"}),cancelButtonText:t.formatMessage({id:"cancel"}),onCancel:e.onCancel,onSubmit:e.onSubmit,isPositive:!1,className:"s-dialog s-cancel_confirmation_dialog"},R.createElement(uD.Typography,{tagName:"p"},t.formatMessage({id:"cancelConfirmationDialog.message"}))):null},MN=e=>R.createElement(LN,{...e}),ON={b:e=>R.createElement("b",null,e),i:e=>R.createElement("i",null,e)},NN=(0,JD.vU)({invalidDrillTitle:{id:"messages.dashboard.invalidDrills.title"},invalidDrillBody:{id:"messages.dashboard.invalidDrills.body.modern"},invalidUrlDrillTitle:{id:"messages.dashboard.invalidCustomUrlDrills.title"},invalidUrlDrillBody:{id:"messages.dashboard.invalidCustomUrlDrills.body.modern"},showMore:{id:"messages.dashboard.expandable.showMore"},showLess:{id:"messages.dashboard.expandable.showLess"}}),_N="invalid_drill_message",HN="invalid_url_drill_message",UN=()=>{const{messages:e,removeMessage:t}=(0,R.useContext)(uD.ToastMessageContext),{messages:i,removeMessage:r}=function(){const e=(0,FC.Z)(),t=Kb(),i=qb(Dc),r=qb(GD),n=qb(zD),o=qb(Wc);return{messages:(0,R.useMemo)((()=>{if(!o)return[];const t=ka(r.map((e=>i.get(e))).filter(a.isWidget)),l=ka(n.map((e=>i.get(e))).filter(a.isWidget));return ka([t.length>0&&{id:_N,type:"warning",node:e.formatMessage(NN.invalidDrillTitle,ON),errorDetail:e.formatMessage(NN.invalidDrillBody,{listOfWidgetTitles:t.map(a.widgetTitle).join(", "),...ON}),showMore:e.formatMessage(NN.showMore),showLess:e.formatMessage(NN.showLess)},l.length>0&&{id:HN,type:"warning",node:e.formatMessage(NN.invalidUrlDrillTitle,ON),errorDetail:e.formatMessage(NN.invalidUrlDrillBody,{listOfWidgetTitles:l.map(a.widgetTitle).join(", "),...ON}),showMore:e.formatMessage(NN.showMore),showLess:e.formatMessage(NN.showLess)}])}),[o,r,n,e,i]),removeMessage:(0,R.useCallback)((e=>{e===_N&&t(Va.resetInvalidDrillWidgetRefs()),e===HN&&t(Va.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings())}),[t]),removeAllMessages:(0,R.useCallback)((()=>{t(Va.resetInvalidDrillWidgetRefs()),t(Va.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings())}),[t])}}(),n=(0,R.useMemo)((()=>[...e,...i]),[e,i]),o=(0,R.useCallback)((e=>{t(e),r(e)}),[r,t]);return n.length>0?R.createElement(uD.Messages,{messages:n,onMessageClose:o}):null},GN=()=>{const e=function(){const e=Kb(),t=(0,R.useCallback)((()=>e(Va.closeDeleteDialog())),[e]),i=(0,R.useCallback)((()=>_E(e,yi()).finally((()=>{e(Va.closeDeleteDialog())}))),[e]);return{isVisible:qb(ED),isKpiWidgetEnabled:qb(xo),isScheduleEmailsEnabled:qb(pl),isDrillToDashboardEnabled:qb(Dl),onCancel:t,onDelete:i}}();return R.createElement(RN,{...e})},BN=()=>{const e=function(){const e=Kb(),t=qb(CD),i=(0,R.useCallback)((()=>e(Va.closeKpiDeleteDialog())),[e]),r=(0,R.useCallback)((()=>_E(e,pv(t.sectionIndex,t.itemIndex)).finally((()=>{e(Va.closeKpiDeleteDialog())}))),[t,e]);return{isVisible:qb(yD),onCancel:i,onDelete:r}}();return R.createElement(kN,{...e})},WN=()=>{const e=$P();return R.createElement(EN,{...e})},zN=()=>{const e=hk();return R.createElement(vN,{...e})},VN=()=>{const e=LC();return R.createElement(yN,{...e})},jN=()=>{const e=xN();return R.createElement(MN,{...e})},KN=()=>R.createElement(R.Fragment,null,R.createElement(UN,null),R.createElement(DN,null),R.createElement(wN,null),R.createElement(CN,null),R.createElement(GN,null),R.createElement(BN,null),R.createElement(WN,null),R.createElement(zN,null),R.createElement(VN,null),R.createElement(jN,null)),qN=e=>{const{WrapCreatePanelItemWithDragComponent:t,WrapInsightListItemWithDragComponent:i,DeleteDropZoneComponent:r}=e,{SidebarComponent:a,KpiWidgetComponentSet:n,AttributeFilterComponentSet:o,InsightWidgetComponentSet:l}=ny();return R.createElement(a,{...e,KpiWidgetComponentSet:n,AttributeFilterComponentSet:o,InsightWidgetComponentSet:l,WrapCreatePanelItemWithDragComponent:t,WrapInsightListItemWithDragComponent:i,DeleteDropZoneComponent:r})},YN=e=>{const{enableDescriptions:t,WrapInsightListItemWithDragComponent:i,...r}=e,n=tD(),o=qb(Qo);return R.createElement(qT,{...r,renderItem:({item:e,width:r,isFirst:l,isLast:s})=>{if(!e)return R.createElement(uD.InsightListItem,{isLoading:!0});const d=(0,a.insightVisualizationType)(e),c=dy("gd-visualizations-list-item-wrap",{"is-first":l,"is-last":s}),u=(0,a.insightSummary)(e)?.trim(),g={from:"insight",type:"inherit",description:u};return R.createElement(TO,{WrapInsightListItemWithDragComponent:i,title:(0,a.insightTitle)(e),description:u,showDescriptionPanel:t,type:d,width:r,className:c,updated:(0,a.insightUpdated)(e)??(0,a.insightCreated)(e),isLocked:(0,a.insightIsLocked)(e),insight:e,onDescriptionPanelOpen:()=>{n.descriptionTooltipOpened(g)},metadataTimeZone:o?.metadataTimeZone})}})},ZN=e=>{const{recalculateSizeReference:t,searchAutofocus:i,enableDescriptions:r,WrapInsightListItemWithDragComponent:a}=e,n=(0,R.useRef)(null);return(0,R.useEffect)((()=>{n.current?.updateSize()}),[t]),R.createElement("div",{className:"gd-visualizations-list gd-flex-item-stretch gd-flex-row-container"},R.createElement(uD.FlexDimensions,{ref:n,measureHeight:!0,measureWidth:!1,className:"visualizations-flex-dimensions"},R.createElement(YN,{WrapInsightListItemWithDragComponent:a,searchAutofocus:i,enableDescriptions:r})))},$N=e=>{const{className:t,WrapCreatePanelItemWithDragComponent:i,WrapInsightListItemWithDragComponent:r}=e,a=qb(xo),n=qb(Ol),o=qb(bu),l=qb(Qo),s=e.KpiWidgetComponentSet,d=e.AttributeFilterComponentSet,c=e.InsightWidgetComponentSet,u=(0,R.useMemo)((()=>{const e=ka([a&&s.creating,d.creating,c.creating]);return Ww(e,(e=>e.priority??0)).map((({CreatePanelListItemComponent:e,type:t})=>R.createElement(e,{key:t,WrapCreatePanelItemWithDragComponent:i})))}),[d,s,c,a]);return R.createElement("div",{className:dy("configuration-panel creation-panel",t)},R.createElement("div",{className:"configuration-panel-content"},R.createElement(uD.Typography,{tagName:"h2",className:"flex-panel-item-nostretch"},R.createElement(AI.Z,{id:"visualizationsList.dragToAdd"})),R.createElement("div",{className:"configuration-category drag-to-add"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"addPanel.newItem"})),R.createElement("div",{className:"add-item-panel"},u)),n?R.createElement("div",{className:"configuration-category configuration-category-vis drag-to-add flex-panel-item-stretch"},R.createElement(uD.Typography,{tagName:"h3"},R.createElement(AI.Z,{id:"visualizationsList.savedVisualizations"})),R.createElement(ZN,{WrapInsightListItemWithDragComponent:r,recalculateSizeReference:t,searchAutofocus:!o,enableDescriptions:l?.enableDescriptions})):null))},XN=e=>{const{configurationPanelClassName:t,WrapCreatePanelItemWithDragComponent:i,WrapInsightListItemWithDragComponent:r,KpiWidgetComponentSet:a,AttributeFilterComponentSet:n,InsightWidgetComponentSet:o}=e,{deselectWidgets:l}=iv(),s=e.DeleteDropZoneComponent;return R.createElement("div",{className:"col gd-flex-item gd-sidebar-container",onClick:l},R.createElement("div",{className:"flex-panel-full-height"},R.createElement($N,{className:t,WrapCreatePanelItemWithDragComponent:i,WrapInsightListItemWithDragComponent:r,KpiWidgetComponentSet:a,AttributeFilterComponentSet:n,InsightWidgetComponentSet:o})),R.createElement(s,null))},QN=ZE({view:()=>R.createElement(R.Fragment,null),edit:XN}),JN=["insightListItem","insight","insight-placeholder","kpi","kpi-placeholder","internal-width-resizer","internal-height-resizer"];var e_;function t_(e,t,i){const[r,a]=(0,R.useState)(e_.None),n=wy();(0,R.useEffect)((()=>n.getMonitor().subscribeToOffsetChange((()=>{const r=n.getMonitor().getItemType(),o=n.getMonitor().getSourceClientOffset(),l=t.current?.getBoundingClientRect(),s=i.current?.getBoundingClientRect(),d=e.current?.getBoundingClientRect();(!r||JN.includes(r))&&o&&l&&s&&d?o.y<=l?.bottom&&l?.bottom>d?.top?a(e_.Up):o.y>s?.bottom-100&&d?.bottom>s?.bottom?a(e_.Down):a(e_.None):a(e_.None)}))),[]),function(e,t){const i=(0,R.useRef)(e);(0,R.useLayoutEffect)((()=>{i.current=e}),[e]),(0,R.useEffect)((()=>{if(!t&&0!==t)return;const e=setInterval((()=>i.current()),t);return()=>clearInterval(e)}),[t])}((()=>{const t=3*r;i_(e.current)?.scrollBy({top:t})}),r===e_.None?null:5)}function i_(e){if(!e)return document.documentElement;if(e instanceof HTMLElement){const t=window.getComputedStyle(e).overflowY;if("visible"!==t&&"hidden"!==t&&e.scrollHeight>=e.clientHeight)return e}return i_(e.parentNode)}function r_(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function a_(e,t){if(!e||!t)return{display:"none"};const{x:i,y:r}=t,a=`translate(${i}px, ${r}px)`;return{transform:a,WebkitTransform:a}}!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down",e[e.None=0]="None"}(e_||(e_={}));const n_=e=>{const{itemType:t,item:i,initialOffset:r,clientOffset:a}=e,{AttributeFilterComponentSet:n,InsightWidgetComponentSet:o,KpiWidgetComponentSet:l,DateFilterComponentSet:s}=ny(),d=(0,R.useMemo)((()=>({attributeFilter:n.dragging.DraggingComponent,dateFilter:s.dragging.DraggingComponent,insight:o.dragging.DraggingComponent,kpi:l.dragging.DraggingComponent})),[n.dragging.DraggingComponent,o.dragging.DraggingComponent,l.dragging.DraggingComponent,s.dragging.DraggingComponent]),c=(0,R.useMemo)((()=>{if(!(t in d))return cy&&console.warn(`DND: dnd item ${t} not handled by CustomDragLayer`),null;const e=d[t];return R.createElement(e,{itemType:t,item:i})}),[t,d,i]);return R.createElement("div",{className:"drag-preview",style:a_(r,a)},c)};function o_(e){return e=e||[10],Math.max(...e)}const l_={x:0,y:0},s_={"internal-height-resizer":e=>{const{item:t,initialOffset:i,differenceFromInitialOffset:r,scrollCorrection:a,getDragLayerPosition:n}=e,{toggleHeightLimitReached:o}=eC(),[l,s]=(0,R.useState)("none");(0,R.useEffect)((()=>{o(l)}),[l,o]);const d=n(),c=function(e,t,i){const r=t-i;return o_(e)+xn.fluidLayoutDescriptor.toGridHeight(r)}(t.widgetHeights,r.y,a.y);(0,R.useEffect)((()=>{const e=function(e,t,i){return e<t?"min":e>i?"max":"none"}(c,t.minLimit,t.maxLimit);e!==l&&s(e)}),[c,t.minLimit,t.maxLimit,l]);const u=function(e,t,i,r){const{minLimit:a,maxLimit:n}=e,o=xn.fluidLayoutDescriptor.toGridHeight(i-r),l=o_(e.widgetHeights),s=function(e,t,i,r){return Ln(i+r,e,t)}(a,n,l,o);return t+xn.fluidLayoutDescriptor.toHeightInPx(s-l)}(t,i.y,r.y,a.y),g={top:`${u-d.y+a.y}px`,left:`${i.x-d.x+a.x}px`,right:"30px"};return R.createElement("div",{className:"height-resizer-drag-preview s-height-resizer-drag-preview",style:g},R.createElement(bP,{status:"active"}))},"internal-width-resizer":function(e){const{setWidthState:t}=eC(),{item:i,differenceFromInitialOffset:r,initialOffset:a,scrollCorrection:n,getDragLayerPosition:o}=e,{gridColumnHeightInPx:l}=i,s=ZC(i,a.x,r.x,n.x),d=function({initialOffset:e,limitedX:t,gridColumnHeightInPx:i,dragLayerOffset:r,scrollCorrection:a}){return{position:"absolute",top:`${e.y-r.y+a.y}px`,left:`${t-r.x+a.x}px`,height:`${i}px`}}({gridColumnHeightInPx:l,initialOffset:a,limitedX:s.limitedX,dragLayerOffset:o(),scrollCorrection:n});return(0,R.useEffect)((()=>{t({initialIndex:s.initialIndex,currentIndex:s.currentIndex,limitReached:s.limitReached})}),[s.initialIndex,s.currentIndex,s.isLimited,s.limitReached,t]),R.createElement("div",{className:"s-resizer-drag-preview resizer-drag-preview",style:d},R.createElement(qC,{status:"active"}))}},d_=()=>{const e=(0,R.useRef)(null),{setScrollCorrection:t}=eC(),i=(n=e=>({item:e.getItem(),itemType:e.getItemType(),clientOffset:e.getClientOffset(),currentOffset:e.getSourceClientOffset(),initialOffset:e.getInitialSourceClientOffset(),differenceFromInitialOffset:e.getDifferenceFromInitialOffset(),isDragging:e.isDragging()}),o=wy().getMonitor(),r=$y(o,n),a=2,s=(l=function(e){if(Array.isArray(e))return e}(r)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(r,a)||function(e,t){if(e){if("string"==typeof e)return r_(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r_(e,t):void 0}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],d=l[1],(0,Cy.useEffect)((function(){return o.subscribeToOffsetChange(d)})),(0,Cy.useEffect)((function(){return o.subscribeToStateChange(d)})),s);var r,a,n,o,l,s,d;const{itemType:c,isDragging:u}=i,g=(0,R.useCallback)((()=>e.current?.getBoundingClientRect()??ZI),[e.current]),m="internal-height-resizer"===c||"internal-width-resizer"===c,{scrollCorrection:p}=function(e,t=!0){const[i,r]=(0,R.useState)(l_),a=(0,R.useMemo)((()=>t?e():l_),[t,e]);(0,R.useEffect)((()=>{const i=()=>{r(e)};return t&&(document.addEventListener("scroll",i,!0),i()),()=>document.removeEventListener("scroll",i,!0)}),[t,e]);const n=(0,R.useMemo)((()=>({x:i.x-a.x,y:i.y-a.y})),[i,a]);return{initialPosition:a,currentPosition:i,scrollCorrection:n}}(g,u&&m);(0,R.useEffect)((()=>{t(p)}),[p,t]);const h=(0,R.useMemo)((()=>({position:m?"relative":"fixed",pointerEvents:"none",zIndex:6001,left:0,top:0,width:"100%",height:"100%"})),[m]);if(!u)return null;const f=gy(c)?s_[c]:n_,b=gy(c)?{...i,getDragLayerPosition:g,scrollCorrection:p}:i;return R.createElement("div",{className:"drag-layer",style:h,ref:e},R.createElement(f,{...b}))};function c_(){const e=Kb(),[{canDrop:t,isOver:i},r]=tI(["attributeFilter","dateFilter"],{drop:({filter:t})=>{if((0,a.isDashboardAttributeFilter)(t)){const i=t.attributeFilter.localIdentifier;e(Sf(i))}else{const i=t.dateFilter.dataSet;e(Nf(i))}}},[e]);if(!t)return null;const n=dy("gd-dropzone","gd-dropzone-delete",{"gd-dropzone-over":i}),o=uy({isOver:i});return R.createElement("div",{className:n,ref:r,style:o},R.createElement("div",{className:"gd-dropzone-message"},R.createElement(AI.Z,{id:"addPanel.deleteItem"})))}const u_=e=>{const{canDrag:t,dragItem:i,hideDefaultPreview:r,onDragEnd:a,onDragStart:n,children:o}=function(e){const t=qb(Wc),i=_C(),r=t&&!e.disabled;return{...e,canDrag:r,onDragEnd:i}}(e),[{isDragging:l},s]=CI({dragItem:i,canDrag:t,hideDefaultPreview:r,dragEnd:(e,t)=>{a?.(t.didDrop())},dragStart:n},[t,a,r,i]);return R.createElement("div",{ref:s,className:dy({"is-dragging":l})},o)};function g_({children:e,insight:t}){const i=qb(Wc),r=qb(Qo),a=_C(),[{isDragging:n},o]=CI({dragItem:()=>{const e=io(r,"insight",t);return{type:"insightListItem",insight:t,size:{gridHeight:e.height.default||xn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT.height.default,gridWidth:e.width.default||xn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT.width.default}}},canDrag:i,hideDefaultPreview:!1,dragEnd:a},[i,t,a]);return R.createElement("div",{className:dy({"is-dragging":n}),ref:o},e)}const m_=e=>{const{ToolbarComponent:t}=ny();return R.createElement(t,{...e})},p_=e=>{const{dashboard:t}=e,{DashboardContentComponentProvider:i}=ny(),r=(0,R.useMemo)((()=>i(t)),[i,t]);return R.createElement(r,{...e})},h_=uD.OverlayController.getInstance(BS),f_=e=>{const t=qb(Jo),i=qb(Wc),r=(0,R.useRef)(null),a=(0,R.useRef)(null),n=(0,R.useRef)(null);return t_(a,r,n),R.createElement(qI,{locale:t},R.createElement("div",{className:dy("component-root",{"sdk-edit-mode-on":i})},R.createElement(d_,null),R.createElement("div",{className:"gd-dashboards-root gd-flex-container"},R.createElement(qN,{DefaultSidebar:QN,DeleteDropZoneComponent:c_,WrapCreatePanelItemWithDragComponent:u_,WrapInsightListItemWithDragComponent:g_}),R.createElement("div",{className:"gd-dash-content"},R.createElement("div",{className:"gd-dash-header-wrapper gd-dash-header-wrapper-sdk-8-12",ref:r},R.createElement(uD.OverlayControllerProvider,{overlayController:h_},R.createElement(KN,null))),R.createElement("div",{className:"gd-flex-item-stretch dash-section dash-section-kpis",ref:a},R.createElement(p_,{...e})),R.createElement("div",{className:"gd-dash-bottom-position-pixel",ref:n}))),R.createElement(m_,null)))},b_=e=>{const{loading:t,error:i,result:r}=qb(tE),{ErrorComponent:a,LoadingComponent:n}=ny();return i?R.createElement(a,{message:i.message}):t||!r?R.createElement(n,null):R.createElement(f_,{...e})};var D_=i(85893),v_="dnd-core/INIT_COORDS",E_="dnd-core/BEGIN_DRAG",y_="dnd-core/PUBLISH_DRAG_SOURCE",I_="dnd-core/HOVER",C_="dnd-core/DROP",S_="dnd-core/END_DRAG";function T_(e,t){return{type:v_,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function w_(e){return w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w_(e)}function A_(e){return"object"===w_(e)}var P_={type:v_,payload:{clientOffset:null,sourceClientOffset:null}};function R_(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=i.publishSource,a=void 0===r||r,n=i.clientOffset,o=i.getSourceClientOffset,l=e.getMonitor(),s=e.getRegistry();e.dispatch(T_(n)),function(e,t,i){Sy(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Sy(i.getSource(e),"Expected sourceIds to be registered.")}))}(t,l,s);var d=function(e,t){for(var i=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){i=e[r];break}return i}(t,l);if(null!==d){var c=null;if(n){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){Sy("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),c=o(d)}e.dispatch(T_(n,c));var u=s.getSource(d).beginDrag(l,d);if(null!=u){!function(e){Sy(A_(e),"Item must be an object.")}(u),s.pinSource(d);var g=s.getSourceType(d);return{type:E_,payload:{itemType:g,item:u,sourceId:d,clientOffset:n||null,sourceClientOffset:c||null,isSourcePublic:!!a}}}}else e.dispatch(P_)}}function F_(e){return function(){if(e.getMonitor().isDragging())return{type:y_}}}function k_(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function x_(e){return function(t){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset;!function(e){Sy(Array.isArray(e),"Expected targetIds to be an array.")}(t);var r=t.slice(0),a=e.getMonitor(),n=e.getRegistry();return function(e,t,i){Sy(t.isDragging(),"Cannot call hover while not dragging."),Sy(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var a=e[r];Sy(e.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array."),Sy(i.getTarget(a),"Expected targetIds to be registered.")}}(r,a,n),function(e,t,i){for(var r=e.length-1;r>=0;r--){var a=e[r];k_(t.getTargetType(a),i)||e.splice(r,1)}}(r,n,a.getItemType()),function(e,t,i){e.forEach((function(e){i.getTarget(e).hover(t,e)}))}(r,a,n),{type:I_,payload:{targetIds:r,clientOffset:i||null}}}}function L_(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function M_(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L_(Object(i),!0).forEach((function(t){O_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function O_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N_(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getMonitor(),r=e.getRegistry();!function(e){Sy(e.isDragging(),"Cannot call drop while not dragging."),Sy(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(i);var a=function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(i);a.forEach((function(a,n){var o=function(e,t,i,r){var a=i.getTarget(e),n=a?a.drop(r,e):void 0;return function(e){Sy(void 0===e||A_(e),"Drop result must either be an object or undefined.")}(n),void 0===n&&(n=0===t?{}:r.getDropResult()),n}(a,n,r,i),l={type:C_,payload:{dropResult:M_(M_({},t),o)}};e.dispatch(l)}))}}function __(e){return function(){var t=e.getMonitor(),i=e.getRegistry();!function(e){Sy(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return null!=r&&(i.getSource(r,!0).endDrag(t,r),i.unpinSource()),{type:S_}}}function H_(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var G_=function(){function e(t,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),U_(this,"store",void 0),U_(this,"monitor",void 0),U_(this,"backend",void 0),U_(this,"isSetUp",!1),U_(this,"handleRefCountChange",(function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))})),this.store=t,this.monitor=i,t.subscribe(this.handleRefCountChange)}var t,i;return t=e,i=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,i=function(e){return{beginDrag:R_(e),publishDragSource:F_(e),hover:x_(e),drop:N_(e),endDrag:__(e)}}(this);return Object.keys(i).reduce((function(r,a){var n,o=i[a];return r[a]=(n=o,function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=n.apply(e,r);void 0!==o&&t(o)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],i&&H_(t.prototype,i),e}(),B_=function(e,t){return e===t};function W_(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function z_(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W_(Object(i),!0).forEach((function(t){V_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function V_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var j_={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function K_(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j_,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case v_:case E_:return{initialSourceClientOffset:a.sourceClientOffset,initialClientOffset:a.clientOffset,clientOffset:a.clientOffset};case I_:return e=i.clientOffset,t=a.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y?i:z_(z_({},i),{},{clientOffset:a.clientOffset});case S_:case C_:return j_;default:return i}}var q_="dnd-core/ADD_SOURCE",Y_="dnd-core/ADD_TARGET",Z_="dnd-core/REMOVE_SOURCE",$_="dnd-core/REMOVE_TARGET";function X_(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Q_(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X_(Object(i),!0).forEach((function(t){J_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):X_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function J_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var eH={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function tH(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eH,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case E_:return Q_(Q_({},i),{},{itemType:a.itemType,item:a.item,sourceId:a.sourceId,isSourcePublic:a.isSourcePublic,dropResult:null,didDrop:!1});case y_:return Q_(Q_({},i),{},{isSourcePublic:!0});case I_:return Q_(Q_({},i),{},{targetIds:a.targetIds});case $_:return-1===i.targetIds.indexOf(a.targetId)?i:Q_(Q_({},i),{},{targetIds:(e=i.targetIds,t=a.targetId,e.filter((function(e){return e!==t})))});case C_:return Q_(Q_({},i),{},{dropResult:a.dropResult,didDrop:!0,targetIds:[]});case S_:return Q_(Q_({},i),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return i}}function iH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case q_:case Y_:return e+1;case Z_:case $_:return e-1;default:return e}}var rH=[],aH=[];function nH(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I_:break;case q_:case Y_:case $_:case Z_:return rH;default:return aH}var t=e.payload,i=t.targetIds,r=void 0===i?[]:i,a=t.prevTargetIds,n=void 0===a?[]:a,o=function(e,t){var i=new Map,r=function(e){i.set(e,i.has(e)?i.get(e)+1:1)};e.forEach(r),t.forEach(r);var a=[];return i.forEach((function(e,t){1===e&&a.push(t)})),a}(r,n),l=o.length>0||!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B_;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!i(e[r],t[r]))return!1;return!0}(r,n);if(!l)return rH;var s=n[n.length-1],d=r[r.length-1];return s!==d&&(s&&o.push(s),d&&o.push(d)),o}function oH(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function lH(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function sH(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?lH(Object(i),!0).forEach((function(t){dH(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lH(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function dH(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function cH(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:nH(i.dirtyHandlerIds,{type:r.type,payload:sH(sH({},r.payload),{},{prevTargetIds:(e=i,"dragOperation.targetIds",t=[],"dragOperation.targetIds".split(".").reduce((function(e,i){return e&&e[i]?e[i]:t||null}),e))})}),dragOffset:K_(i.dragOffset,r),refCount:iH(i.refCount,r),dragOperation:tH(i.dragOperation,r),stateId:oH(i.stateId)}}function uH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gH(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mH(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}rH.__IS_NONE__=!0,aH.__IS_ALL__=!0;var pH,hH=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mH(this,"store",void 0),mH(this,"registry",void 0),this.store=t,this.registry=i}var t,i;return t=e,i=[{key:"subscribeToStateChange",value:function(e){var t=this,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0}).handlerIds;Sy("function"==typeof e,"listener must be a function."),Sy(void 0===i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe((function(){var a=t.store.getState(),n=a.stateId;try{var o=n===r||n===r+1&&!function(e,t){return e!==rH&&(e===aH||void 0===t||(i=e,t.filter((function(e){return i.indexOf(e)>-1}))).length>0);var i}(a.dirtyHandlerIds,i);o||e()}finally{r=n}}))}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Sy("function"==typeof e,"listener must be a function.");var i=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==i&&(i=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Sy(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Sy(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&k_(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Sy(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){if(!e)return!1;var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),r=this.getItemType();if(r&&!k_(i,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var n=a.indexOf(e);return t?n===a.length-1:n>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return r=(e=this.store.getState().dragOffset).clientOffset,a=e.initialClientOffset,n=e.initialSourceClientOffset,r&&a&&n?uH((i=n,{x:(t=r).x+i.x,y:t.y+i.y}),a):null;var e,t,i,r,a,n}},{key:"getDifferenceFromInitialOffset",value:function(){return t=(e=this.store.getState().dragOffset).clientOffset,i=e.initialClientOffset,t&&i?uH(t,i):null;var e,t,i}}],i&&gH(t.prototype,i),e}(),fH=0;function bH(e){return bH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bH(e)}function DH(e,t){t&&Array.isArray(e)?e.forEach((function(e){return DH(e,!1)})):Sy("string"==typeof e||"symbol"===bH(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(pH||(pH={}));const vH="undefined"!=typeof global?global:self,EH=vH.MutationObserver||vH.WebKitMutationObserver;function yH(e){return function(){const t=setTimeout(r,0),i=setInterval(r,50);function r(){clearTimeout(t),clearInterval(i),e()}}}const IH="function"==typeof EH?function(e){let t=1;const i=new EH(e),r=document.createTextNode("");return i.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:yH;class CH{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const SH=new class{enqueueTask(e){const{queue:t,requestFlush:i}=this;t.length||(i(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,i=e.length-this.index;t<i;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=IH(this.flush),this.requestErrorThrow=yH((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},TH=new class{create(e){const t=this.freeTasks,i=t.length?t.pop():new CH(this.onError,(e=>t[t.length]=e));return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}(SH.registerPendingError);function wH(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AH(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function PH(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function RH(e){switch(e[0]){case"S":return pH.SOURCE;case"T":return pH.TARGET;default:Sy(!1,"Cannot parse handler ID: ".concat(e))}}function FH(e,t){var i,r,a=e.entries(),n=!1;do{var o=a.next(),l=o.done;if((i=o.value,r=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(i,r)||function(e,t){if(e){if("string"==typeof e)return PH(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?PH(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===t)return!0;n=!!l}while(!n);return!1}var kH=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),AH(this,"types",new Map),AH(this,"dragSources",new Map),AH(this,"dropTargets",new Map),AH(this,"pinnedSourceId",null),AH(this,"pinnedSource",null),AH(this,"store",void 0),this.store=t}var t,i;return t=e,i=[{key:"addSource",value:function(e,t){DH(e),function(e){Sy("function"==typeof e.canDrag,"Expected canDrag to be a function."),Sy("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Sy("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var i=this.addHandler(pH.SOURCE,e,t);return this.store.dispatch(function(e){return{type:q_,payload:{sourceId:e}}}(i)),i}},{key:"addTarget",value:function(e,t){DH(e,!0),function(e){Sy("function"==typeof e.canDrop,"Expected canDrop to be a function."),Sy("function"==typeof e.hover,"Expected hover to be a function."),Sy("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var i=this.addHandler(pH.TARGET,e,t);return this.store.dispatch(function(e){return{type:Y_,payload:{targetId:e}}}(i)),i}},{key:"containsHandler",value:function(e){return FH(this.dragSources,e)||FH(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Sy(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return Sy(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Sy(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Sy(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return RH(e)===pH.SOURCE}},{key:"isTargetId",value:function(e){return RH(e)===pH.TARGET}},{key:"removeSource",value:function(e){var t,i=this;Sy(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Z_,payload:{sourceId:e}}}(e)),t=function(){i.dragSources.delete(e),i.types.delete(e)},SH.enqueueTask(TH.create(t))}},{key:"removeTarget",value:function(e){Sy(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:$_,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Sy(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Sy(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,i){var r=function(e){var t=(fH++).toString();switch(e){case pH.SOURCE:return"S".concat(t);case pH.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===pH.SOURCE?this.dragSources.set(r,i):e===pH.TARGET&&this.dropTargets.set(r,i),r}}],i&&wH(t.prototype,i),e}();function xH(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,(0,Ai.createStore)(cH,t&&i&&i({name:"dnd-core",instanceId:"dnd-core"}))),o=new hH(n,new kH(n)),l=new G_(n,o),s=e(l,r,a);return l.receiveBackend(s),l}var LH=["children"];function MH(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var OH=0,NH=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),_H=(0,Cy.memo)((function(e){var t,i,r=e.children,a=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HH(),i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=t;return a[NH]||(a[NH]={dragDropManager:xH(e,t,i,r)}),a[NH]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(function(e,t){if(null==e)return{};var i,r,a=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(e,LH)),n=(i=2,function(e){if(Array.isArray(e))return e}(t=a)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(t,i)||function(e,t){if(e){if("string"==typeof e)return MH(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?MH(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],l=n[1];return(0,Cy.useEffect)((function(){if(l){var e=HH();return++OH,function(){0==--OH&&(e[NH]=null)}}}),[]),(0,D_.jsx)(Ty.Provider,Object.assign({value:o},{children:r}),void 0)}));function HH(){return void 0!==i.g?i.g:window}function UH(e){var t=null;return function(){return null==t&&(t=e()),t}}function GH(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BH(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var WH=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),BH(this,"entered",[]),BH(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,i;return t=e,(i=[{key:"enter",value:function(e){var t=this,i=this.entered.length;return this.entered=function(e,t){var i=new Set,r=function(e){return i.add(e)};e.forEach(r),t.forEach(r);var a=[];return i.forEach((function(e){return a.push(e)})),a}(this.entered.filter((function(i){return t.isNodeInDocument(i)&&(!i.contains||i.contains(e))})),[e]),0===i&&this.entered.length>0}},{key:"leave",value:function(e){var t,i,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),i=e,t.filter((function(e){return e!==i}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&GH(t.prototype,i),e}(),zH=UH((function(){return/firefox/i.test(navigator.userAgent)})),VH=UH((function(){return Boolean(window.safari)}));function jH(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KH(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var qH=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KH(this,"xs",void 0),KH(this,"ys",void 0),KH(this,"c1s",void 0),KH(this,"c2s",void 0),KH(this,"c3s",void 0);for(var r=t.length,a=[],n=0;n<r;n++)a.push(n);a.sort((function(e,i){return t[e]<t[i]?-1:1}));for(var o,l,s=[],d=[],c=[],u=0;u<r-1;u++)o=t[u+1]-t[u],l=i[u+1]-i[u],d.push(o),s.push(l),c.push(l/o);for(var g=[c[0]],m=0;m<d.length-1;m++){var p=c[m],h=c[m+1];if(p*h<=0)g.push(0);else{o=d[m];var f=d[m+1],b=o+f;g.push(3*b/((b+f)/p+(b+o)/h))}}g.push(c[c.length-1]);for(var D,v=[],E=[],y=0;y<g.length-1;y++){D=c[y];var I=g[y],C=1/d[y],S=I+g[y+1]-D-D;v.push((D-I-S)*C),E.push(S*C*C)}this.xs=t,this.ys=i,this.c1s=g,this.c2s=v,this.c3s=E}var t,i;return t=e,(i=[{key:"interpolate",value:function(e){var t=this.xs,i=this.ys,r=this.c1s,a=this.c2s,n=this.c3s,o=t.length-1;if(e===t[o])return i[o];for(var l,s=0,d=n.length-1;s<=d;){var c=t[l=Math.floor(.5*(s+d))];if(c<e)s=l+1;else{if(!(c>e))return i[l];d=l-1}}var u=e-t[o=Math.max(0,d)],g=u*u;return i[o]+r[o]*u+a[o]*g+n[o]*u*g}}])&&jH(t.prototype,i),e}(),YH=1;function ZH(e){var t=e.nodeType===YH?e:e.parentElement;if(!t)return null;var i=t.getBoundingClientRect(),r=i.top;return{x:i.left,y:r}}function $H(e){return{x:e.clientX,y:e.clientY}}var XH,QH="__NATIVE_FILE__",JH="__NATIVE_URL__",eU="__NATIVE_TEXT__",tU="__NATIVE_HTML__";function iU(e,t,i){var r=t.reduce((function(t,i){return t||e.getData(i)}),"");return null!=r?r:i}function rU(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var aU=(rU(XH={},QH,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),rU(XH,tU,{exposeProperties:{html:function(e,t){return iU(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),rU(XH,JH,{exposeProperties:{urls:function(e,t){return iU(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),rU(XH,eU,{exposeProperties:{text:function(e,t){return iU(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),XH);function nU(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oU(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var lU=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oU(this,"item",void 0),oU(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,i;return t=e,(i=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var i={};Object.keys(this.config.exposeProperties).forEach((function(r){i[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&nU(t.prototype,i),e}();function sU(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(aU).filter((function(e){return aU[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function dU(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cU(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var uU=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cU(this,"ownerDocument",null),cU(this,"globalContext",void 0),cU(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=i}var t,i;return t=e,(i=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&dU(t.prototype,i),e}();function gU(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function mU(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gU(Object(i),!0).forEach((function(t){hU(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gU(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function pU(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hU(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var fU=function(){function e(t,i,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),hU(this,"options",void 0),hU(this,"actions",void 0),hU(this,"monitor",void 0),hU(this,"registry",void 0),hU(this,"enterLeaveCounter",void 0),hU(this,"sourcePreviewNodes",new Map),hU(this,"sourcePreviewNodeOptions",new Map),hU(this,"sourceNodes",new Map),hU(this,"sourceNodeOptions",new Map),hU(this,"dragStartSourceIds",null),hU(this,"dropTargetIds",[]),hU(this,"dragEnterTargetIds",[]),hU(this,"currentNativeSource",null),hU(this,"currentNativeHandle",null),hU(this,"currentDragSourceNode",null),hU(this,"altKeyPressed",!1),hU(this,"mouseMoveTimeoutTimer",null),hU(this,"asyncEndDragFrameId",null),hU(this,"dragOverTargetIds",null),hU(this,"lastClientOffset",null),hU(this,"hoverRafId",null),hU(this,"getSourceClientOffset",(function(e){var t=a.sourceNodes.get(e);return t&&ZH(t)||null})),hU(this,"endDragNativeItem",(function(){a.isDraggingNativeItem()&&(a.actions.endDrag(),a.currentNativeHandle&&a.registry.removeSource(a.currentNativeHandle),a.currentNativeHandle=null,a.currentNativeSource=null)})),hU(this,"isNodeInDocument",(function(e){return Boolean(e&&a.document&&a.document.body&&a.document.body.contains(e))})),hU(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=a.currentDragSourceNode;null==e||a.isNodeInDocument(e)||a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()})),hU(this,"handleTopDragStartCapture",(function(){a.clearCurrentDragSourceNode(),a.dragStartSourceIds=[]})),hU(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=a.dragStartSourceIds;a.dragStartSourceIds=null;var i=$H(e);a.monitor.isDragging()&&a.actions.endDrag(),a.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:a.getSourceClientOffset,clientOffset:i});var r=e.dataTransfer,n=sU(r);if(a.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var o=a.monitor.getSourceId(),l=a.sourceNodes.get(o),s=a.sourcePreviewNodes.get(o)||l;if(s){var d=a.getCurrentSourcePreviewNodeOptions(),c=function(e,t,i,r,a){var n,o,l,s="IMG"===(n=t).nodeName&&(zH()||!(null!==(o=document.documentElement)&&void 0!==o&&o.contains(n))),d=ZH(s?e:t),c={x:i.x-d.x,y:i.y-d.y},u=e.offsetWidth,g=e.offsetHeight,m=r.anchorX,p=r.anchorY,h=function(e,t,i,r){var a=e?t.width:i,n=e?t.height:r;return VH()&&e&&(n/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:n}}(s,t,u,g),f=h.dragPreviewWidth,b=h.dragPreviewHeight,D=a.offsetX,v=a.offsetY,E=0===v||v;return{x:0===D||D?D:new qH([0,.5,1],[c.x,c.x/u*f,c.x+f-u]).interpolate(m),y:E?v:(l=new qH([0,.5,1],[c.y,c.y/g*b,c.y+b-g]).interpolate(p),VH()&&s&&(l+=(window.devicePixelRatio-1)*b),l)}}(l,s,i,{anchorX:d.anchorX,anchorY:d.anchorY},{offsetX:d.offsetX,offsetY:d.offsetY});r.setDragImage(s,c.x,c.y)}}try{null==r||r.setData("application/json",{})}catch(e){}a.setCurrentDragSourceNode(e.target),a.getCurrentSourcePreviewNodeOptions().captureDraggingState?a.actions.publishDragSource():setTimeout((function(){return a.actions.publishDragSource()}),0)}else if(n)a.beginDragNativeItem(n);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),hU(this,"handleTopDragEndCapture",(function(){a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()})),hU(this,"handleTopDragEnterCapture",(function(e){if(a.dragEnterTargetIds=[],a.enterLeaveCounter.enter(e.target)&&!a.monitor.isDragging()){var t=e.dataTransfer,i=sU(t);i&&a.beginDragNativeItem(i,t)}})),hU(this,"handleTopDragEnter",(function(e){var t=a.dragEnterTargetIds;a.dragEnterTargetIds=[],a.monitor.isDragging()&&(a.altKeyPressed=e.altKey,t.length>0&&a.actions.hover(t,{clientOffset:$H(e)}),t.some((function(e){return a.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())))})),hU(this,"handleTopDragOverCapture",(function(){a.dragOverTargetIds=[]})),hU(this,"handleTopDragOver",(function(e){var t=a.dragOverTargetIds;if(a.dragOverTargetIds=[],!a.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));a.altKeyPressed=e.altKey,a.lastClientOffset=$H(e),null===a.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(a.hoverRafId=requestAnimationFrame((function(){a.monitor.isDragging()&&a.actions.hover(t||[],{clientOffset:a.lastClientOffset}),a.hoverRafId=null}))),(t||[]).some((function(e){return a.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())):a.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),hU(this,"handleTopDragLeaveCapture",(function(e){a.isDraggingNativeItem()&&e.preventDefault(),a.enterLeaveCounter.leave(e.target)&&a.isDraggingNativeItem()&&setTimeout((function(){return a.endDragNativeItem()}),0)})),hU(this,"handleTopDropCapture",(function(e){var t;a.dropTargetIds=[],a.isDraggingNativeItem()?(e.preventDefault(),null===(t=a.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):sU(e.dataTransfer)&&e.preventDefault(),a.enterLeaveCounter.reset()})),hU(this,"handleTopDrop",(function(e){var t=a.dropTargetIds;a.dropTargetIds=[],a.actions.hover(t,{clientOffset:$H(e)}),a.actions.drop({dropEffect:a.getCurrentDropEffect()}),a.isDraggingNativeItem()?a.endDragNativeItem():a.monitor.isDragging()&&a.actions.endDrag()})),hU(this,"handleSelectStart",(function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new uU(i,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new WH(this.isNodeInDocument)}var t,i;return t=e,(i=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,i){var r=this;return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,i){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);var a=function(t){return r.handleDragStart(t,e)},n=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",n),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",n),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var i=this,r=function(t){return i.handleDragEnter(t,e)},a=function(t){return i.handleDragOver(t,e)},n=function(t){return i.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",n),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",n)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return mU({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return mU({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var i=new lU(aU[e]);return i.loadDataTransfer(t),i}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&pU(t.prototype,i),e}(),bU=function(e,t,i){return new fU(e,t,i)};const DU=()=>R.createElement("div",{className:"drag-info-placeholder-box s-drag-info-placeholder-box"},R.createElement(uD.Typography,{tagName:"h2"},R.createElement(AI.Z,{id:"newDashboard.title"}))),vU=uD.OverlayController.getInstance(5e3),EU=e=>{const{backend:t,workspace:i,hasThemeProvider:r,dashboardOrRef:n,attributeFilterProvider:o,dateFilterProvider:l,widgetProvider:s,insightProvider:d,insightBodyProvider:c,insightMenuButtonProvider:u,dashboardContentProvider:g,insightMenuProvider:m,insightMenuTitleProvider:p,kpiProvider:h,insightWidgetComponentSet:f,kpiWidgetComponentSet:b,attributeFilterComponentSet:D,dateFilterComponentSet:v}=(e=>{const{dashboard:t,DashboardAttributeFilterComponentProvider:i,DashboardDateFilterComponentProvider:r,WidgetComponentProvider:n,InsightComponentProvider:o,InsightBodyComponentProvider:l,InsightMenuButtonComponentProvider:s,insightMenuItemsProvider:d,InsightMenuComponentProvider:c,InsightMenuTitleComponentProvider:u,InsightComponentSetProvider:g,KpiComponentProvider:m,DashboardContentComponentProvider:p}=e,h=(0,Z.useBackendStrict)(e.backend),f=(0,Z.useWorkspaceStrict)(e.workspace),b=(0,R.useCallback)((e=>{const t=i?.(e);return t??cx}),[i]),D=(0,R.useCallback)((e=>{const t=p?.(e);return t??bN}),[p]),v=(0,R.useCallback)((e=>{const t=r?.(e);return t??hx}),[r]),E=(0,R.useCallback)((e=>{const t=n?.(e);return t??FA}),[n]),y=(0,R.useCallback)(((e,t)=>{const i=o?.(e,t);return i??GL}),[o]),I=(0,R.useCallback)(((e,t)=>{const i=l?.(e,t);return i??BL}),[l]),C=(0,R.useCallback)(((e,t)=>{const i=s?.(e,t);return i??(d?zL:KL)}),[s]),S=(0,R.useCallback)(((e,t)=>{const i=c?.(e,t);return i??(d?dM:pM)}),[c]),T=(0,R.useCallback)(((e,t)=>{const i=u?.(e,t);return i??fM}),[u]),w=(0,R.useCallback)(((e,t)=>{const i=m?.(e,t);return i??IO}),[m]),A=(0,R.useMemo)((()=>"string"==typeof t?(0,a.idRef)(t):t),[t]),P=(0,R.useMemo)((()=>{const e=AO(y);return g?g(e):e}),[g,y]),F=(0,R.useMemo)((()=>cN(w)),[w]),k=(0,R.useMemo)((()=>Nx(b)),[b]),x=(0,R.useMemo)((()=>Hx(v)),[v]);return{backend:h,workspace:f,hasThemeProvider:void 0!==(0,PI.Ki)(),dashboardOrRef:A,attributeFilterProvider:b,dateFilterProvider:v,widgetProvider:E,insightProvider:y,insightBodyProvider:I,insightMenuButtonProvider:C,insightMenuProvider:S,insightMenuTitleProvider:T,kpiProvider:w,dashboardContentProvider:D,insightWidgetComponentSet:P,kpiWidgetComponentSet:F,attributeFilterComponentSet:k,dateFilterComponentSet:x}})(e),E=R.createElement(Z.BackendProvider,{backend:t},R.createElement(Z.WorkspaceProvider,{workspace:i},R.createElement(uD.OverlayControllerProvider,{overlayController:vU},R.createElement(Yb,{backend:e.backend,workspace:e.workspace,dashboard:n,persistedDashboard:e.persistedDashboard,filterContextRef:e.filterContextRef,eventHandlers:e.eventHandlers,config:e.config,permissions:e.permissions,onStateChange:e.onStateChange,onEventingInitialized:e.onEventingInitialized,additionalReduxContext:e.additionalReduxContext,customizationFns:e.customizationFns,widgetsOverlayFn:e.widgetsOverlayFn},R.createElement(uD.ToastMessageContextProvider,null,R.createElement(JE,null,R.createElement(iy,{insightMenuItemsProvider:e.insightMenuItemsProvider},R.createElement(oy,{ErrorComponent:e.ErrorComponent??Z.ErrorComponent,LoadingComponent:e.LoadingComponent??Z.LoadingComponent,LayoutComponent:e.LayoutComponent??jP,InsightComponentProvider:d,InsightBodyComponentProvider:c,InsightMenuButtonComponentProvider:u,InsightMenuTitleComponentProvider:p,InsightMenuComponentProvider:m,KpiComponentProvider:h,WidgetComponentProvider:s,ButtonBarComponent:e.ButtonBarComponent??ek,MenuButtonComponent:e.MenuButtonComponent??rk,TopBarComponent:e.TopBarComponent??bk,ToolbarComponent:e.ToolbarComponent??Ck,TitleComponent:e.TitleComponent??Ik,ScheduledEmailDialogComponent:e.ScheduledEmailDialogComponent??CF,ScheduledEmailManagementDialogComponent:e.ScheduledEmailManagementDialogComponent??RF,ShareDialogComponent:e.ShareDialogComponent??FF,SaveAsDialogComponent:e.SaveAsDialogComponent??XP,DashboardAttributeFilterComponentProvider:o,DashboardDateFilterComponentProvider:l,FilterBarComponent:e.FilterBarComponent??MC,SidebarComponent:e.SidebarComponent??QN,InsightWidgetComponentSet:f,KpiWidgetComponentSet:b,AttributeFilterComponentSet:D,DateFilterComponentSet:v,EmptyLayoutDropZoneBodyComponent:e.EmptyLayoutDropZoneBodyComponent??DU,SaveButtonComponent:e.SaveButtonComponent??pk,DashboardContentComponentProvider:g},R.createElement(sy,{menuButtonConfig:e.menuButtonConfig},R.createElement(_H,{backend:bU},R.createElement(QI,null,R.createElement(b_,{...e}))))))))))));return e.theme||!r&&!e.disableThemeLoading?R.createElement($E.f,{theme:e.theme,modifier:e.themeModifier??Sk,backend:t,workspace:i,removeGlobalStylesOnUnmout:!e.disableThemeLoading},E):E},yU=e=>{const t=(0,Z.useClientWorkspaceStatus)(),i=(0,Z.useClientWorkspaceIdentifiers)();if(!(0,Z.useClientWorkspaceInitialized)())return R.createElement(EU,{...e});const r=e.LoadingComponent??Z.LoadingComponent;return"success"!==t?R.createElement(r,null):R.createElement(EU,{workspace:i.workspace,...e})},IU=()=>null,CU=()=>null,SU=()=>null,TU=()=>null,wU=e=>{const{children:t}=e;return R.createElement("div",{className:"gd-dashboard-toolbar s-dashboard-toolbar"},t)},AU=e=>{const{children:t,title:i}=e;return R.createElement("div",{className:"gd-toolbar-group"},R.createElement("span",{className:"gd-toolbar-group-title"},i),t)},PU=[{align:"tc bc",offset:{x:0,y:-5}}],RU=e=>{const{tooltip:t,children:i}=e;return t?R.createElement(uD.BubbleHoverTrigger,{className:"gd-toolbar-button-wrapper"},i,R.createElement(uD.Bubble,{alignPoints:PU},t)):R.createElement("div",{className:"gd-toolbar-button-wrapper"},i)},FU=e=>{const{tooltip:t,disabled:i,icon:r,onClick:a,isActive:n}=e;return R.createElement(RU,{tooltip:t},R.createElement(uD.Button,{className:dy("gd-button-secondary",{[`gd-icon-${r}`]:r,"is-active":n}),disabled:i,onClick:a}))};function kU({widget:e,execution:t,onCancel:i,onError:r,onLoading:a,onPending:n,onSuccess:o}){const l=Tw(e),s=(0,Z.useExecutionDataView)({execution:t?{...t,filters:l.result}:void 0,onCancel:i,onError:r,onLoading:a,onPending:n,onSuccess:o}),d=(0,R.useMemo)((()=>{if("rejected"===l.status)return new Z.UnexpectedSdkError("The widget filter query was rejected")}),[l.status]);return(0,R.useEffect)((()=>{"rejected"===l.status&&d&&r?.(d)}),[l.status,r,d]),(0,R.useEffect)((()=>{"error"===l.status&&r?.(l.error)}),[l.error,l.status,r]),"pending"===l.status||"pending"===s.status?{error:void 0,result:void 0,status:"pending"}:"running"===l.status||"loading"===s.status?{error:void 0,result:void 0,status:"loading"}:"error"===l.status||"error"===s.status?{error:l.error??s.error,result:void 0,status:"error"}:"rejected"===l.status?{error:d,result:void 0,status:"error"}:{error:void 0,result:s.result,status:"success"}}function xU({widget:e,insight:t,onCancel:i,onError:r,onLoading:n,onPending:o,onSuccess:l}){const s=(0,Z.useBackendStrict)(),d=(0,Z.useWorkspaceStrict)(),c=(0,Z.useCancelablePromise)({promise:t?async()=>(0,a.isInsight)(t)?t:s.workspace(d).insights().getInsight(t):null,onCancel:i,onPending:o,onError:r,onLoading:n},[s,d,t]),u=Tw(c.result?e:void 0,c.result),g=(0,R.useMemo)((()=>c.result?(0,a.insightSetFilters)(c.result,u.result):void 0),[c.result,Jr(u.result)]),m=(0,R.useMemo)((()=>g?s.workspace(d).execution().forInsight(g):void 0),[s,d,g,e]),p=(0,Z.useExecutionDataView)({execution:m,onCancel:i,onError:r,onSuccess:l});return(0,R.useEffect)((()=>{"error"===u.status&&r?.(u.error)}),[u.error,u.status,r]),"error"===c.status||"loading"===c.status||"pending"===c.status?{error:c.error,result:void 0,status:c.status}:"pending"===u.status||"pending"===p.status?{error:void 0,result:void 0,status:"pending"}:"running"===u.status||"loading"===p.status?{error:void 0,result:void 0,status:"loading"}:"error"===u.status||"error"===p.status?{error:p.error??u.error,result:void 0,status:"error"}:{error:void 0,result:p.result,status:"success"}}function LU(e){const{insightWidget:t,onCancel:i,onError:r,onLoading:n,onPending:o,onSuccess:l}=e,s=(0,Z.useBackendStrict)(),d=(0,Z.useWorkspaceStrict)(),c=qb(Ju(t?.insight)),u=Tw(t),g=(0,R.useMemo)((()=>(0,a.insightSetFilters)(c,u.result)),[c,Jr(u.result)]),m=(0,R.useMemo)((()=>g&&t?s.workspace(d).execution().forInsight(g):void 0),[s,d,g,t]);return(0,Z.useExecutionDataView)({execution:m,onCancel:i,onError:r,onLoading:n,onPending:o,onSuccess:l})}const MU=e=>{const{insight:t,widget:i}=e,{InsightMenuButtonComponentProvider:r}=ny(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,{...e})},OU=e=>{const{insight:t,widget:i}=e,{InsightMenuComponentProvider:r}=ny(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,{...e})};class NU{_pluginVersion="1.0";minEngineVersion="bundled";maxEngineVersion="bundled";compatibility}const _U=()=>GL,HU=()=>BL;class UU{coreProviderChain;insightBodyProviderChain;tagProviderIndexes={};coreProvider=(e,t)=>{const i=[...this.coreProviderChain].reverse();for(const r of i){const i=r(e,t);if(i)return i}throw new m.ej};insightRendererProvider=(e,t)=>{const i=[...this.insightBodyProviderChain].reverse();for(const r of i){const i=r(e,t);if(i)return i}throw new m.ej};rootProvider=this.coreProvider;logger;constructor(e,t,i){this.logger=e,this.coreProviderChain=[t],this.insightBodyProviderChain=[i]}addTagProvider(e,t){const i=this.tagProviderIndexes[e];void 0!==i?(this.logger.warn(`Overriding insight component provider for tag '${e}'.`),this.coreProviderChain[i]=t):(this.tagProviderIndexes[e]=this.coreProviderChain.length,this.coreProviderChain.push(t))}addCustomProvider(e){this.coreProviderChain.push(e)}addInsightBodyProvider(e){this.insightBodyProviderChain.push(e)}getRootProvider(){return this.rootProvider}getInsightBodyComponentProvider(){return this.insightRendererProvider}switchRootProvider(e){this.rootProvider=e}}class GU{logger;state;constructor(e,t){this.logger=e,this.state=t}addCustomProvider=()=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")};addInsightBodyProvider=()=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")};addTagProvider=e=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")};switchRootProvider=()=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")};getRootProvider=()=>this.state.getRootProvider();getInsightBodyComponentProvider=()=>this.state.getInsightBodyComponentProvider()}class BU{logger;mutationContext;state;constructor(e,t,i=_U,r=HU){this.logger=e,this.mutationContext=t,this.state=new UU(e,i,r)}withTag=(e,t)=>e?(this.state.addTagProvider(e,(i=>{if(Ir((0,a.insightTags)(i),e))return t})),this.mutationContext.insight=gD(this.mutationContext.insight,["tag"]),this):(this.logger.warn("The 'withTag' was called with an empty 'tag' parameter. This is effectively a noop."),this);withCustomProvider=e=>(this.state.addCustomProvider(e),this.mutationContext.insight=gD(this.mutationContext.insight,["provider"]),this);withCustomInsightBodyProvider(e){return this.state.addInsightBodyProvider(e),this.mutationContext.insight=gD(this.mutationContext.insight,["body"]),this}withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider(((e,r)=>i(e,r)||t(e,r))),this.mutationContext.insight=gD(this.mutationContext.insight,["decorator"]),this};getInsightProvider=()=>this.state.getRootProvider();getInsightBodyComponentProvider=()=>this.state.getInsightBodyComponentProvider();sealCustomizer=()=>{this.state=new GU(this.logger,this.state)}}function WU(e){return`${e.debugName??e.displayName}/${e.version}`}function zU(e,t){return e?`${WU(e)}: ${t}`:t}class VU{currentPlugin;setCurrentPlugin=e=>{this.currentPlugin=e};log=(e,...t)=>{console.log(zU(this.currentPlugin,e),t)};warn=(e,...t)=>{console.warn(zU(this.currentPlugin,e),t)};error=(e,...t)=>{console.error(zU(this.currentPlugin,e),t)}}const jU=()=>IO;class KU{coreProviderChain;coreProvider=(e,t)=>{const i=[...this.coreProviderChain].reverse();for(const r of i){const i=r(e,t);if(i)return i}throw new m.ej};rootProvider=this.coreProvider;constructor(e){this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class qU{logger;state;constructor(e,t){this.logger=e,this.state=t}addCustomProvider=e=>{this.logger.warn("Attempting to customize KPI rendering outside of plugin registration. Ignoring.")};switchRootProvider=e=>{this.logger.warn("Attempting to customize KPI rendering outside of plugin registration. Ignoring.")};getRootProvider=()=>this.state.getRootProvider()}class YU{logger;mutationContext;state;constructor(e,t,i=jU){this.logger=e,this.mutationContext=t,this.state=new KU(i)}withCustomProvider=e=>(this.state.addCustomProvider(e),this.mutationContext.kpi=gD(this.mutationContext.kpi,["provider"]),this);withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider(((e,r)=>i(e,r)||t(e,r))),this.mutationContext.kpi=gD(this.mutationContext.kpi,["decorator"]),this};getKpiProvider=()=>this.state.getRootProvider();sealCustomizer=()=>{this.state=new qU(this.logger,this.state)}}class ZU{logger;customWidgetMap=new Map;constructor(e){this.logger=e}addDefinition=e=>{this.customWidgetMap.has(e.widgetType)&&this.logger.warn(`Redefining custom widget type ${e.widgetType}. Previous definition will be discarded.`),this.customWidgetMap.set(e.widgetType,e)};getCustomWidgetMap=()=>this.customWidgetMap}class $U{state;logger;constructor(e,t){this.state=e,this.logger=t}addDefinition=e=>{this.logger.warn("Attempting to add custom widgets outside of plugin registration. Ignoring.")};getCustomWidgetMap=()=>this.state.getCustomWidgetMap()}class XU{logger;state;constructor(e){this.logger=e,this.state=new ZU(this.logger)}addCustomWidget=(e,t)=>(this.state.addDefinition({widgetType:e,DefaultComponent:t}),this);sealCustomizer=()=>(this.state=new $U(this.state,this.logger),this);getWidgetComponentProvider=()=>{const e=this.state.getCustomWidgetMap();return t=>{if(!y(t))return;const i=e.get(t.customType);return i?i.DefaultComponent:void 0}}}class QU{logger;mutationContext;addItemOps=[];addSectionOps=[];constructor(e,t){this.logger=e,this.mutationContext=t}addItem=(e,t,i)=>i.widget?(this.addItemOps.push({sectionIdx:e,itemIdx:t,item:v(i)}),this):(this.logger.warn(`Item to add to section ${e} at index ${t} does not contain any widget. The item will not be added at all.`,i),this);addSection=(e,t)=>{if(p(t.items))return this.logger.warn(`Section to add at index ${e} contains no items. The section will not be added at all.`,t),this;const i=t.items.filter((e=>void 0===e.widget));return p(i)?(this.addSectionOps.push({sectionIdx:e,section:v(t)}),this):(this.logger.warn(`Section to add at index ${e} contains items that do not specify any widgets. The section will not be added at all.`,t),this)};applyTransformations=e=>{const t=Jn.for(e),i=t.facade(),{layouts:r}=this.mutationContext;return this.addItemOps.forEach((e=>{const{sectionIdx:n,itemIdx:o,item:l}=e,s=-1===n?i.sections().count():n;t.modifySection(s,(e=>(e.addItem(l,-1===o?void 0:o),l.widget&&(r[(0,a.objRefToString)(l.widget)]="inserted"),e)))})),this.addSectionOps.forEach((e=>{const{sectionIdx:i,section:n}=e;t.addSection(n,-1===i?void 0:i),n.items.forEach((e=>{e.widget&&(r[(0,a.objRefToString)(e.widget)]="inserted")}))})),t.build()}}class JU{logger;mutationContext;sealed=!1;fluidLayoutTransformations=[];constructor(e,t){this.logger=e,this.mutationContext=t}customizeFluidLayout=e=>(this.sealed?this.logger.warn("Attempting to add layout customization outside of plugin registration. Ignoring."):this.fluidLayoutTransformations.push(e),this);sealCustomizer=()=>(this.sealed=!0,this);getExistingDashboardTransformFn=()=>{const e=[...this.fluidLayoutTransformations];return t=>{const{layout:i}=t;if(!i||"IDashboardLayout"!==i.type)return;const r=e.reduce(((e,t)=>{const i=new QU(this.logger,this.mutationContext);try{return t(e,i),i.applyTransformations(e)}catch(t){return this.logger.error("An error has occurred while transforming fluid dashboard layout. Skipping failed transformation.",t),e}}),i);return{...t,layout:r}}}}class eG{logger;renderingMode=void 0;constructor(e){this.logger=e}getRenderingMode=()=>this.renderingMode??"default";setRenderingMode=e=>{this.renderingMode&&this.logger.warn(`Redefining filter bar rendering mode to "${e}". Previous definition will be discarded.`),this.renderingMode=e}}class tG{state;logger;constructor(e,t){this.state=e,this.logger=t}getRenderingMode=()=>this.state.getRenderingMode();setRenderingMode=e=>{this.logger.warn("Attempting to set filter bar rendering mode outside of plugin registration. Ignoring.")}}class iG{logger;state;constructor(e){this.logger=e,this.state=new eG(this.logger)}setRenderingMode=e=>(this.state.setRenderingMode(e),this);getCustomizerResult=()=>({FilterBarComponent:"hidden"===this.state.getRenderingMode()?SC:void 0});sealCustomizer=()=>(this.state=new tG(this.state,this.logger),this)}const rG=()=>cx;class aG{coreProviderChain;coreProvider=e=>{const t=[...this.coreProviderChain].reverse();for(const i of t){const t=i(e);if(t)return t}throw new m.ej};rootProvider=this.coreProvider;constructor(e){this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class nG{logger;state;constructor(e,t){this.logger=e,this.state=t}addCustomProvider=e=>{this.logger.warn("Attempting to customize AttributeFilter rendering outside of plugin registration. Ignoring.")};switchRootProvider=e=>{this.logger.warn("Attempting to customize AttributeFilter rendering outside of plugin registration. Ignoring.")};getRootProvider=()=>this.state.getRootProvider()}class oG{logger;mutationContext;state;constructor(e,t,i=rG){this.logger=e,this.mutationContext=t,this.state=new aG(i)}withCustomProvider=e=>(this.state.addCustomProvider(e),this.mutationContext.attributeFilter=gD(this.mutationContext.attributeFilter,["provider"]),this);withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider((e=>i(e)||t(e))),this.mutationContext.attributeFilter=gD(this.mutationContext.attributeFilter,["decorator"]),this};getAttributeFilterProvider=()=>this.state.getRootProvider();sealCustomizer=()=>{this.state=new nG(this.logger,this.state)}}const lG=()=>hx;class sG{coreProviderChain;coreProvider=e=>{const t=[...this.coreProviderChain].reverse();for(const i of t){const t=i(e);if(t)return t}throw new m.ej};rootProvider=this.coreProvider;constructor(e){this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class dG{logger;state;constructor(e,t){this.logger=e,this.state=t}addCustomProvider=e=>{this.logger.warn("Attempting to customize DateFilter rendering outside of plugin registration. Ignoring.")};switchRootProvider=e=>{this.logger.warn("Attempting to customize DateFilter rendering outside of plugin registration. Ignoring.")};getRootProvider=()=>this.state.getRootProvider()}class cG{logger;state;constructor(e,t=lG){this.logger=e,this.state=new sG(t)}withCustomProvider=e=>(this.state.addCustomProvider(e),this);getDateFilterProvider=()=>this.state.getRootProvider();sealCustomizer=()=>{this.state=new dG(this.logger,this.state)}}class uG{logger;mutationContext;attributeFiltersCustomizer=new oG(this.logger,this.mutationContext);dateFiltersCustomizer=new cG(this.logger);constructor(e,t){this.logger=e,this.mutationContext=t}attribute(){return this.attributeFiltersCustomizer}date(){return this.dateFiltersCustomizer}sealCustomizer=()=>(this.attributeFiltersCustomizer.sealCustomizer(),this.dateFiltersCustomizer.sealCustomizer(),this)}const gG=()=>bN;class mG{coreProviderChain;coreProvider=e=>{const t=[...this.coreProviderChain].reverse();for(const i of t){const t=i(e);if(t)return t}throw new m.ej};rootProvider=this.coreProvider;constructor(e){this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class pG{logger;state;constructor(e,t){this.logger=e,this.state=t}addCustomProvider=()=>{this.logger.warn("Attempting to customize dashboard content rendering outside of plugin registration. Ignoring.")};switchRootProvider=()=>{this.logger.warn("Attempting to customize dashboard content rendering outside of plugin registration. Ignoring.")};getRootProvider=()=>this.state.getRootProvider()}class hG{logger;mutationContext;state;constructor(e,t,i=gG){this.logger=e,this.mutationContext=t,this.state=new mG(i)}withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider((e=>i(e)||t(e))),this.mutationContext.dashboardContent=gD(this.mutationContext.dashboardContent,["decorator"]),this};getDashboardContentProvider=()=>this.state.getRootProvider();sealCustomizer=()=>{this.state=new pG(this.logger,this.state)}}class fG{mutations={insight:[],kpi:[],attributeFilter:[],dashboardContent:[],layouts:{}};logger=new VU;insightCustomizer=new BU(this.logger,this.mutations);kpiCustomizer=new YU(this.logger,this.mutations);widgetCustomizer=new XU(this.logger);layoutCustomizer=new JU(this.logger,this.mutations);filterBarCustomizer=new iG(this.logger);filtersCustomizer=new uG(this.logger,this.mutations);dashboardContentCustomizer=new hG(this.logger,this.mutations);widgetOverlays={};sealCustomizers=()=>{this.insightCustomizer.sealCustomizer(),this.kpiCustomizer.sealCustomizer(),this.widgetCustomizer.sealCustomizer(),this.filtersCustomizer.sealCustomizer(),this.layoutCustomizer.sealCustomizer(),this.dashboardContentCustomizer.sealCustomizer()};setWidgetOverlays=e=>{this.widgetOverlays=e||{}};insightWidgets=()=>this.insightCustomizer;kpiWidgets=()=>this.kpiCustomizer;customWidgets=()=>this.widgetCustomizer;dashboard=()=>this.dashboardContentCustomizer;layout=()=>this.layoutCustomizer;filterBar=()=>this.filterBarCustomizer;filters=()=>this.filtersCustomizer;onBeforePluginRegister=e=>{this.logger.setCurrentPlugin(e),this.logger.log("Starting registration.")};onAfterPluginRegister=()=>{this.logger.log("Registration finished."),this.logger.setCurrentPlugin(void 0)};onPluginRegisterError=e=>{this.logger.error("Plugin register() method threw and exception. Plugin may be partially registered.",e),this.logger.setCurrentPlugin(void 0)};build=()=>{const e=this.filterBarCustomizer.getCustomizerResult(),t={InsightComponentProvider:this.insightCustomizer.getInsightProvider(),InsightBodyComponentProvider:this.insightCustomizer.getInsightBodyComponentProvider(),KpiComponentProvider:this.kpiCustomizer.getKpiProvider(),DashboardContentComponentProvider:this.dashboardContentCustomizer.getDashboardContentProvider(),WidgetComponentProvider:this.widgetCustomizer.getWidgetComponentProvider(),DashboardAttributeFilterComponentProvider:this.filtersCustomizer.attribute().getAttributeFilterProvider(),DashboardDateFilterComponentProvider:this.filtersCustomizer.date().getDateFilterProvider(),customizationFns:{existingDashboardTransformFn:this.layoutCustomizer.getExistingDashboardTransformFn()},widgetsOverlayFn:this.getWidgetsOverlayFn(),...e.FilterBarComponent?{FilterBarComponent:e.FilterBarComponent}:{}};return this.sealCustomizers(),t};getWidgetsOverlayFn(){return e=>{const t={...this.widgetOverlays},{insight:i,kpi:r,layouts:n}=this.mutations,{layout:o}=e;return(0,Dr.walkLayout)(o,{itemCallback:e=>{((0,a.isInsightWidget)(e.widget)||(0,a.isInsightWidgetDefinition)(e.widget))&&(0,a.isObjRef)(e.widget)&&i.length>0&&bG(t,(0,a.objRefToString)(e.widget),!0,"modifiedByPlugin"),((0,a.isKpiWidget)(e.widget)||(0,a.isKpiWidgetDefinition)(e.widget))&&(0,a.isObjRef)(e.widget)&&r.length>0&&bG(t,(0,a.objRefToString)(e.widget),!0,"modifiedByPlugin")}}),Object.keys(n).forEach((e=>{"inserted"===n[e]&&bG(t,e,!0,"insertedByPlugin")})),t}}}function bG(e,t,i,r){const a=e[t],n={showOverlay:i,modification:r};e[t]={...n,...a||{}}}var DG=i(30998);const vG=e=>t=>t===e||t.handler===e.handler&&t.eval===e.eval;class EG{handlers=[];initialHandlersSent=!1;pendingRegistration=[];pendingUnregistration=[];stateChangesChain=[];evalCache=new Map;rootStateChangesCallback=(e,t)=>{this.stateChangesChain.forEach((i=>{try{i(e,t)}catch(e){console.warn(`OnStateChange callback ${i} threw an exception.`,e)}}))};onEventingInitialized=(e,t)=>{this.registerHandler=e,this.unregisterHandler=t,this.pendingRegistration.forEach(this.registerHandler),this.pendingUnregistration.forEach(this.unregisterHandler),this.pendingRegistration=[],this.pendingUnregistration=[]};registerHandler;unregisterHandler;getOrCreateEvalFn=e=>{const t=this.evalCache.get(e);if(void 0!==t)return t;const i=function(e){return"*"===e?()=>!0:t=>t.type===e}(e);return this.evalCache.set(e,i),i};addEventHandler=(e,t)=>{const i={eval:this.getOrCreateEvalFn(e),handler:t};return this.addCustomEventHandler(i)};removeEventHandler=(e,t)=>{const i={eval:this.getOrCreateEvalFn(e),handler:t};return this.removeCustomEventHandler(i)};doRegister=e=>{if(this.initialHandlersSent)if(void 0===this.registerHandler){this.pendingRegistration.push(e);const t=DG(this.pendingUnregistration,vG(e));t>-1&&this.pendingUnregistration.splice(t,1)}else this.registerHandler(e)};addCustomEventHandler=e=>DG(this.handlers,vG(e))>-1?(console.warn(`Attempting double-registration of the same handler ${e}. Ignoring.`),this):(this.handlers.push(e),this.doRegister(e),this);doUnregister=e=>{if(this.initialHandlersSent)if(void 0===this.unregisterHandler){const t=DG(this.pendingRegistration,vG(e));t>-1?this.pendingRegistration.splice(t,1):this.pendingUnregistration.push(e)}else this.unregisterHandler(e)};removeCustomEventHandler=e=>{const t=DG(this.handlers,vG(e));if(-1===t)return console.warn(`Attempting remove non-existing handler ${e}. Ignoring.`),this;const i=this.handlers[t];return this.handlers.splice(t,1),this.doUnregister(i),this};subscribeToStateChanges=e=>DG(this.stateChangesChain,(t=>t===e))>-1?(console.warn(`Attempting double-subscription of the same state change callback ${e}. Ignoring.`),this):(this.stateChangesChain.push(e),this);unsubscribeFromStateChanges=e=>{const t=DG(this.stateChangesChain,(t=>t===e));return-1===t||this.stateChangesChain.splice(t,1),this};getDashboardEventing(){return this.initialHandlersSent=!0,{eventHandlers:[...this.handlers],onStateChange:this.rootStateChangesCallback,onEventingInitialized:this.onEventingInitialized}}}const yG="9.6.0";function IG(){return{version:yG,initializePlugins(e,t){const i=new fG,r=new EG;console.log(`DashboardEngine ${this.version} initializing with plugins: ${t.map(WU).join(", ")}`),i.setWidgetOverlays(e.config?.widgetsOverlay);for(const a of t){i.onBeforePluginRegister(a);try{a.register(e,i,r),i.onAfterPluginRegister()}catch(e){i.onPluginRegisterError(e)}}return{...i.build(),...r.getDashboardEventing()}},getDashboardComponent:()=>yU}}function CG(e,t=Un){const i=(0,a.insightRef)(e),r=(0,a.insightTitle)(e);return t(new SG(i,r)).build()}class SG{widget={insight:(0,a.uriRef)(""),type:"insight",ignoreDashboardFilters:[],drills:[],title:"",description:""};constructor(e,t){this.widget.insight=e,this.widget.title=t}withIgnoreDashboardFilters(e){return this.widget.ignoreDashboardFilters=e,this}withDrills(e){return this.widget.drills=e,this}withTitle(e){return this.widget.title=e,this}withDescription(e){return this.widget.description=e,this}withConfiguration(e){return this.widget.configuration=e,this}withProperties(e){return this.widget.properties=e,this}build(){return{...this.widget}}}}}]);