(self.webpackChunkgauge_chart_plugin=self.webpackChunkgauge_chart_plugin||[]).push([[9135],{84692:function(e,t,i){var r=i(67771),s=i(24429),a=i(40319),o=i(93192);e.exports=function(e){var t=a(arguments),i=e.length-(arguments.length-1);return r(t,1+(i>0?i:0),!0)},s?s(e.exports,"apply",{value:o}):e.exports.apply=o},34260:function(e,t,i){var r=("undefined"!=typeof JSON?JSON:i(58418)).stringify,s=i(5826),a=i(82215),o=i(84692),n=i(17379),l=n("Array.prototype.join"),c=n("Array.prototype.indexOf"),d=n("Array.prototype.splice"),u=n("Array.prototype.sort"),p=function(e,t){for(var i="",r=0;r<e;r+=1)i+=t;return i},h=function(e,t,i){return i};e.exports=function(e){var t=arguments.length>1?arguments[1]:void 0,i=t&&t.space||"";"number"==typeof i&&(i=p(i," "));var n=!!t&&"boolean"==typeof t.cycles&&t.cycles,m=t&&t.replacer?o(t.replacer):h;if(t&&void 0!==t.collapseEmpty&&"boolean"!=typeof t.collapseEmpty)throw new TypeError("`collapseEmpty` must be a boolean, if provided");var g=!!t&&t.collapseEmpty,b="function"==typeof t?t:t&&t.cmp,f=b&&function(e){var t=b.length>2&&function(t){return e[t]};return function(i,r){return b({key:i,value:e[i]},{key:r,value:e[r]},t?{__proto__:null,get:t}:void 0)}},v=[];return function e(t,o,h,b){var y=i?"\n"+p(b,i):"",C=i?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=m(t,o,h))){if("object"!=typeof h||null===h)return r(h);var k=function(e,t){return g&&0===e.length?t:("[]"===t?"[":"{")+l(e,",")+y+("[]"===t?"]":"}")};if(s(h)){for(var w=[],S=0;S<h.length;S++){var x=e(h,S,h[S],b+1)||r(null);w[w.length]=y+i+x}return k(w,"[]")}if(-1!==c(v,h)){if(n)return r("__cycle__");throw new TypeError("Converting circular structure to JSON")}v[v.length]=h;var _=u(a(h),f&&f(h));for(w=[],S=0;S<_.length;S++){var E=e(h,o=_[S],h[o],b+1);if(E){var M=r(o)+C+E;w[w.length]=y+i+M}}return d(v,c(v,h),1),k(w,"{}")}}({"":e},"",e,0)}},99601:function(e,t){t.Z=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2===e.length?r(e[0],e[1])||null:e.slice(1).reduce((function(e,t){return r(e,t)}),e[0])||null};var i=new WeakMap;function r(e,t){if(e&&t){var r=i.get(e)||new WeakMap;i.set(e,r);var a=r.get(t)||function(i){s(e,i),s(t,i)};return r.set(t,a),a}return e||t}function s(e,t){"function"==typeof e?e(t):e.current=t}},62663:function(e){e.exports=function(e,t,i,r){var s=-1,a=null==e?0:e.length;for(r&&a&&(i=e[++s]);++s<a;)i=t(i,e[s],s,e);return i}},49029:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},18190:function(e){var t=Math.floor;e.exports=function(e,i){var r="";if(!e||i<1||i>9007199254740991)return r;do{i%2&&(r+=e),(i=t(i/2))&&(e+=e)}while(i);return r}},5076:function(e,t,i){var r=i(89881);e.exports=function(e,t){var i;return r(e,(function(e,r,s){return!(i=t(e,r,s))})),!!i}},35393:function(e,t,i){var r=i(62663),s=i(53816),a=i(58748),o=RegExp("['’]","g");e.exports=function(e){return function(t){return r(a(s(t).replace(o,"")),e,"")}}},69389:function(e,t,i){var r=i(18674)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=r},93157:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},2757:function(e){var t="\\ud800-\\udfff",i="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+a+"]",n="\\d+",l="["+i+"]",c="["+r+"]",d="[^"+t+a+n+i+r+s+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+s+"]",m="(?:"+c+"|"+d+")",g="(?:"+h+"|"+d+")",b="(?:['’](?:d|ll|m|re|s|t|ve))?",f="(?:['’](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",C=y+v+"(?:\\u200d(?:"+["[^"+t+"]",u,p].join("|")+")"+y+v+")*",k="(?:"+[l,u,p].join("|")+")"+C,w=RegExp([h+"?"+c+"+"+b+"(?="+[o,h,"$"].join("|")+")",g+"+"+f+"(?="+[o,h+m,"$"].join("|")+")",h+"?"+m+"+"+b,h+"+"+f,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n,k].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},28583:function(e,t,i){var r=i(34865),s=i(98363),a=i(21463),o=i(98612),n=i(25726),l=i(3674),c=Object.prototype.hasOwnProperty,d=a((function(e,t){if(n(t)||o(t))s(t,l(t),e);else for(var i in t)c.call(t,i)&&r(e,i,t[i])}));e.exports=d},53888:function(e,t,i){var r=i(85990);e.exports=function(e,t){return r(e,5,t="function"==typeof t?t:void 0)}},53816:function(e,t,i){var r=i(69389),s=i(79833),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(a,r).replace(o,"")}},69087:function(e){e.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},4835:function(e,t,i){var r=i(92822)("compact",i(39693),i(69087));r.placeholder=i(69306),e.exports=r},40104:function(e,t,i){var r=i(92822)("filter",i(63105));r.placeholder=i(69306),e.exports=r},8816:function(e,t,i){var r=i(92822)("flow",i(59242));r.placeholder=i(69306),e.exports=r},2982:function(e,t,i){var r=i(92822)("fromPairs",i(17204));r.placeholder=i(69306),e.exports=r},21146:function(e,t,i){var r=i(92822)("groupBy",i(7739));r.placeholder=i(69306),e.exports=r},3945:function(e,t,i){var r=i(92822)("join",i(98611));r.placeholder=i(69306),e.exports=r},88846:function(e,t,i){var r=i(92822)("map",i(35161));r.placeholder=i(69306),e.exports=r},23018:function(e,t,i){var r=i(92822)("partition",i(43174));r.placeholder=i(69306),e.exports=r},37453:function(e,t,i){var r=i(92822)("toPairs",i(93220),i(69087));r.placeholder=i(69306),e.exports=r},98611:function(e){var t=Array.prototype.join;e.exports=function(e,i){return null==e?"":t.call(e,i)}},66796:function(e,t,i){var r=i(18190),s=i(16612),a=i(40554),o=i(79833);e.exports=function(e,t,i){return t=(i?s(e,t,i):void 0===t)?1:a(t),r(o(e),t)}},59704:function(e,t,i){var r=i(82908),s=i(67206),a=i(5076),o=i(1469),n=i(16612);e.exports=function(e,t,i){var l=o(e)?r:a;return i&&n(e,t,i)&&(t=void 0),l(e,s(t,3))}},18029:function(e,t,i){var r=i(35393),s=i(11700),a=r((function(e,t,i){return e+(i?" ":"")+s(t)}));e.exports=a},58748:function(e,t,i){var r=i(49029),s=i(93157),a=i(79833),o=i(2757);e.exports=function(e,t,i){return e=a(e),void 0===(t=i?void 0:t)?s(e)?o(e):r(e):e.match(t)||[]}},9135:function(e,t,i){i.r(t),i.d(t,{AddDataSourceToSubjects:function(){return Uz},AddUserGroupsToUsersDialog:function(){return jz},AddUsersToUserGroupsDialog:function(){return qz},AddWorkspaceToSubjects:function(){return zz},AttributeHierarchyDetailBubble:function(){return Xz},AttributeHierarchyDetailPanel:function(){return Qz},AttributeHierarchyDialog:function(){return vV},CreateUserGroupDialog:function(){return Iz},DASHBOARD_LAYOUT_DEFAULT_VIS_HEIGHT_PX:function(){return ng},DASHBOARD_LAYOUT_WIDGET_SIZE_INFO_DEFAULT:function(){return fg},DefaultNotification:function(){return SG},DefaultNotificationSkeletonItem:function(){return EG},DefaultNotificationsList:function(){return OV},DefaultNotificationsListEmptyState:function(){return GV},DefaultNotificationsListErrorState:function(){return WV},DefaultNotificationsPanel:function(){return LV},DefaultNotificationsPanelButton:function(){return NG},DefaultNotificationsPanelHeader:function(){return DV},DeleteUserDialog:function(){return Nz},DeleteUserGroupDialog:function(){return Lz},DeleteUserGroupsDialog:function(){return Fz},DeleteUsersDialog:function(){return Rz},EmbedInsightDialog:function(){return mF},EmptyAfmSdkError:function(){return gt},FluidLayoutDescriptor:function(){return TL},INSIGHT_WIDGET_SIZE_INFO_DEFAULT:function(){return ug},INSIGHT_WIDGET_SIZE_INFO_DEFAULT_LEGACY:function(){return dg},INSIGHT_WIDGET_SIZE_INFO_NEW_DEFAULT:function(){return pg},InsightError:function(){return tF},InsightRenderer:function(){return eF},InsightView:function(){return rF},KPI_WIDGET_SIZE_INFO_DEFAULT:function(){return yg},KPI_WIDGET_SIZE_INFO_DEFAULT_LEGACY:function(){return vg},MIN_VISUALIZATION_WIDTH:function(){return cg},NotificationsPanel:function(){return PG},PluggableVisualizationErrorCodes:function(){return pt},RICH_TEXT_WIDGET_SIZE_INFO_DEFAULT:function(){return hg},RICH_TEXT_WIDGET_SIZE_INFO_NEW_DEFAULT:function(){return mg},UserEditDialog:function(){return cz},UserGroupEditDialog:function(){return Az},VISUALIZATION_SWITCHER_WIDGET_SIZE_INFO_DEFAULT:function(){return gg},VISUALIZATION_SWITCHER_WIDGET_SIZE_INFO_NEW_DEFAULT:function(){return bg},WIDGET_DROPZONE_SIZE_INFO_DEFAULT:function(){return Cg},addIntersectionFiltersToInsight:function(){return eg},clearInsightViewCaches:function(){return OL},fluidLayoutDescriptor:function(){return PL},getInsightSizeInfo:function(){return RG},getInsightVisualizationMeta:function(){return FG},getInsightWithAppliedDrillDown:function(){return LG},isDrillDownDefinition:function(){return ft},isEmptyAfm:function(){return bt},isInsightAlertingConfigurationEnabled:function(){return gl},isInsightScheduledExportsConfigurationEnabled:function(){return bl},isInsightSupportedForAlerts:function(){return hl},isInsightSupportedForScheduledExports:function(){return ml},isSizeInfo:function(){return kF},isSizeInfoDefault:function(){return wF},isVisualizationDefaultSizeInfo:function(){return SF},provideCreateRoot:function(){return YL}});var r=i(10928),s=i(53244),a=i(2525),o=i(59882),n=i(50361),l=i(36968),c=i(41609);const d="filters",u="showInPercent",p="showOnSecondaryAxis",h={date:"GDC.time.date",week:"GDC.time.week_us",month:"GDC.time.month",quarter:"GDC.time.quarter",year:"GDC.time.year"},m="all_time",g="buckets",b="metric",f="fact",v="date",y="attribute",C="primary",k="secondary",w="dual";var S;!function(e){e.X="xaxis",e.Y="yaxis",e.SECONDARY_X="secondary_xaxis",e.SECONDARY_Y="secondary_yaxis"}(S||(S={}));const x=[a.VisualizationTypes.COLUMN,a.VisualizationTypes.BAR,a.VisualizationTypes.LINE,a.VisualizationTypes.COMBO],_={name:S.X,title:"properties.xaxis.title",subtitle:"",primary:!1},E={name:S.Y,title:"properties.yaxis.title",subtitle:"",primary:!0},M={...E,name:S.SECONDARY_Y},T={..._,primary:!0},P={..._,name:S.SECONDARY_X,primary:!0},A={...E,primary:!1},D={[C]:[_,E],[k]:[_,M],[w]:[_,{...E,subtitle:"properties.axis.left"},{...M,subtitle:"properties.axis.right"}]},I={[C]:[T,A],[k]:[P,A],[w]:[{...P,subtitle:"properties.axis.top"},{...T,subtitle:"properties.axis.bottom"},A]};var N=i(44952);const R=["dataLabels.visible","dataLabels.totalsVisible","grid","legend","colorMapping","zoomInsight","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],L=["forecast"],F=["xaxis.rotation","xaxis.labelsEnabled","xaxis.visible","xaxis.name.visible","xaxis.name.position"],O=["yaxis.rotation","yaxis.labelsEnabled","yaxis.visible","yaxis.name.visible","yaxis.name.position"],B=[...O,"yaxis.min","yaxis.max","yaxis.format"],z=[...F,"xaxis.min","xaxis.max","xaxis.format"],V=["secondary_yaxis.rotation","secondary_yaxis.labelsEnabled","secondary_yaxis.visible","secondary_yaxis.min","secondary_yaxis.max","secondary_yaxis.measures","secondary_yaxis.name.visible","secondary_yaxis.name.position","secondary_yaxis.format"],G=["secondary_xaxis.rotation","secondary_xaxis.labelsEnabled","secondary_xaxis.visible","secondary_xaxis.min","secondary_xaxis.max","secondary_xaxis.measures","secondary_xaxis.name.visible","secondary_xaxis.name.position","secondary_xaxis.format"],U=["stackMeasures","stackMeasuresToPercent"],H=["primaryChartType","secondaryChartType","dualAxis"],W=[...R,...L,...F,...B],j=[...W,...U,"dataPoints.visible","continuousLine.enabled"],K={[C]:[...W,...U],[k]:[...R,...F,...V,...U],[w]:[...W,...V,...U]},$={[C]:[...W,"dataPoints.visible","continuousLine.enabled","thresholdMeasures","thresholdExcludedMeasures"],[k]:[...R,...F,...V,...L,"dataPoints.visible","continuousLine.enabled","thresholdMeasures","thresholdExcludedMeasures"],[w]:[...W,...V,"dataPoints.visible","continuousLine.enabled","thresholdMeasures","thresholdExcludedMeasures"]},q={[C]:[...R,...O,...z,...U],[k]:[...R,...O,...G,...U],[w]:[...R,...O,...z,...G,...U]},Y={[C]:[...W,...H,...U,"dataPoints.visible","continuousLine.enabled","thresholdMeasures","thresholdExcludedMeasures"],[k]:[...R,...F,...V,...H,...U,"dataPoints.visible","continuousLine.enabled","thresholdMeasures","thresholdExcludedMeasures"],[w]:[...W,...V,...H,...U,"dataPoints.visible","continuousLine.enabled","thresholdMeasures","thresholdExcludedMeasures"]},X=[...R,"xaxis.rotation","xaxis.labelsEnabled","xaxis.visible","xaxis.min","xaxis.max","xaxis.name.visible","xaxis.name.position","xaxis.format","yaxis.labelsEnabled","yaxis.rotation","yaxis.visible","yaxis.min","yaxis.max","yaxis.name.visible","yaxis.name.position","yaxis.format","disableDrillDown","disableAlerts","disableScheduledExports"],Q=["dataLabels.visible","legend","grid","xaxis.rotation","xaxis.labelsEnabled","xaxis.visible","xaxis.min","xaxis.max","xaxis.name.visible","xaxis.name.position","xaxis.format","yaxis.labelsEnabled","yaxis.rotation","yaxis.visible","yaxis.min","yaxis.max","yaxis.name.visible","yaxis.name.position","colorMapping","zoomInsight","yaxis.format","disableDrillDown","disableAlerts","disableScheduledExports","clustering.enabled","clustering.numberOfClusters","clustering.threshold","chartConfigOverride"],Z=["dataLabels.visible","legend","colorMapping","chart.verticalAlign","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],J=["dataLabels.visible","dataLabels.percentsVisible","legend","colorMapping","chart.verticalAlign","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],ee=["dataLabels.visible","legend","colorMapping","zoomInsight","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],te=["dataLabels.visible","legend","yaxis.rotation","yaxis.labelsEnabled","yaxis.visible","yaxis.name.visible","yaxis.name.position","xaxis.labelsEnabled","xaxis.rotation","xaxis.visible","xaxis.name.visible","xaxis.name.position","colorMapping","zoomInsight","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],ie=["grid","xaxis.rotation","xaxis.labelsEnabled","xaxis.visible","xaxis.min","xaxis.max","xaxis.name.visible","xaxis.name.position","xaxis.format","yaxis.rotation","yaxis.labelsEnabled","yaxis.visible","yaxis.name.visible","yaxis.name.position","legend","colorMapping","zoomInsight","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],re=["tooltipText","latitude","longitude","legend","points.groupNearbyPoints","points.minSize","points.maxSize","viewport.area","colorMapping","disableAlerts","disableScheduledExports","chartConfigOverride"],se=["columnWidths","measureGroupDimension","columnHeadersPosition","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],ae=["dataLabels.visible","legend","colorMapping","disableDrillDown","disableAlerts","disableScheduledExports","chartConfigOverride"],oe=[...F,"xaxis.min","xaxis.max","xaxis.format","chartConfigOverride"],ne=[...W,...oe,"total.enabled","total.name","total.measures","orientation.position"],le=["columnWidths","colorMapping","rowHeight","cellVerticalAlign","cellTextWrapping","cellImageSizing","disableAlerts","disableScheduledExports"],ce=["comparison","disableAlerts","disableScheduledExports"],de={comparison:{enabled:!0}},ue={enabled:!0,calculationType:N.CalculateAs.CHANGE,format:"#,##0%",colorConfig:{disabled:!0}},pe=40,he=20,me=100,ge=50,be="uiConfig",fe="recommendations",ve="openAsReport",ye="supported",Ce={accepts:[b,f,y],allowsDuplicateItems:!0,enabled:!0,allowsReordering:!0,allowsSwapping:!0,itemsLimit:pe,isShowInPercentEnabled:!1,isShowInPercentVisible:!0},ke={accepts:[y,v],itemsLimit:1,itemsLimitByType:{date:1},allowsSwapping:!0,allowsReordering:!1,enabled:!0,isShowInPercentEnabled:!1},we={accepts:[y],itemsLimit:1,allowsSwapping:!0,allowsReordering:!1,enabled:!0,isShowInPercentEnabled:!1},Se={...we,accepts:[y,v]},xe={filters:{accepts:[y,v],itemsLimit:20,itemsLimitByType:{date:1},allowsReordering:!1,enabled:!0,isShowInPercentEnabled:!1}},_e={exportConfig:{supported:!1}},Ee={openAsReport:{supported:!1}},Me={openAsReport:{supported:!0}},Te={recommendations:{supportsFilteringRecommendation:!0},supportedOverTimeComparisonTypes:[],...Ee,exportConfig:{supported:!0}},Pe={buckets:{measures:{...Ce,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},secondary_measures:{...Ce,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},attribute:{...ke,allowsReordering:!1,canAddItems:!0,itemsLimit:1},segment:{...Se},...xe},...Te},Ae={buckets:{measures:{...Ce,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},secondary_measures:{...Ce,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},tertiary_measures:{...Ce,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},view:{...ke,allowsReordering:!1,allowsSwapping:!1,canAddItems:!0,itemsLimit:1},...xe},...Te},De={buckets:{measures:{...Ce},view:{...ke},stack:{...we},...xe},...Te,...Me},Ie={buckets:{measures:{...Ce,isShowOnSecondaryAxisVisible:!0},view:{...ke,allowsReordering:!0,itemsLimit:2},stack:{...we},...xe},...Te,...Me,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD],optionalStacking:{supported:!0,stackMeasures:!1}},Ne={...Ie,buckets:{...Ie.buckets,view:{...Ie.buckets.view,itemsLimitByType:{date:2},allowsDuplicateDates:!0,preferSynchronizedDates:!0},stack:{...Se,itemsLimitByType:{date:1},allowsDuplicateDates:!0}}},Re={buckets:{measures:{...Ce,isShowOnSecondaryAxisVisible:!0,allowThresholdMeasure:!0},trend:{...ke},segment:{...we},...xe},...Te,...Me,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD]},Le={buckets:{measures:{...Ce,isShowOnSecondaryAxisVisible:!0,allowThresholdMeasure:!0},trend:{...ke,allowsDuplicateDates:!0},segment:{...Se,itemsLimitByType:{date:1},allowsDuplicateDates:!0},...xe},...Te,...Me,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD]},Fe={buckets:{measures:{...Ce},view:{...ke,allowsReordering:!0,itemsLimit:2},stack:{...we},...xe},...Te,...Me,optionalStacking:{supported:!0,stackMeasures:!0}},Oe={buckets:{measures:{...Ce},view:{...ke,itemsLimitByType:{date:2},allowsReordering:!0,itemsLimit:2,allowsDuplicateDates:!0},stack:{...Se,itemsLimitByType:{date:1},allowsDuplicateDates:!0},...xe},...Te,...Me,optionalStacking:{supported:!0,stackMeasures:!0}},Be={buckets:{measures:{...Ce,itemsLimit:1,allowsReordering:!1},view:{...ke},...xe},...Te,...Me},ze={buckets:{measures:{...Ce,itemsLimit:20},view:{...ke,itemsLimit:0},...xe},...Te,...Me},Ve={buckets:{measures:{...Ce,itemsLimit:20},view:{...ke},...xe},...Te,...Me},Ge={buckets:{measures:{...Ce,itemsLimit:1,allowsReordering:!1,isTotalMeasureVisible:!0,isTotalMeasureEnabled:!1},view:{...ke},...xe},...Te,...Me,optionalStacking:{supported:!0,stackMeasures:!1}},Ue={buckets:{measures:{...Ce,isTotalMeasureVisible:!0,isTotalMeasureEnabled:!1},view:{...ke},...xe},...Te,...Me,optionalStacking:{supported:!0,stackMeasures:!1}},He={buckets:{measures:{...Ce,isTotalMeasureVisible:!0,isTotalMeasureEnabled:!0},view:{...ke,itemsLimit:0},...xe},...Te,...Me,optionalStacking:{supported:!0,stackMeasures:!1}},We=(a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD,{buckets:{measures:{...Ce,itemsLimit:1,isShowInPercentVisible:!1,allowsReordering:!1},secondary_measures:{...Ce,itemsLimit:1,isShowInPercentVisible:!1,allowsReordering:!1},...xe},...Te,..._e,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD],recommendations:{supportsFilteringRecommendation:!1}}),je={buckets:{measures:{accepts:[b,f,y],enabled:!0,allowsReordering:!1,allowsSwapping:!0,itemsLimit:1,isShowInPercentEnabled:!1,isShowInPercentVisible:!1,icon:"",canAddItems:!0,allowsDuplicateItems:!0},view:{accepts:[y,v],itemsLimit:1,allowsSwapping:!0,allowsReordering:!1,enabled:!0,isShowInPercentEnabled:!1,icon:"",canAddItems:!0},stack:{accepts:[y,v],itemsLimit:1,allowsSwapping:!0,allowsReordering:!1,enabled:!0,isShowInPercentEnabled:!1,icon:"",canAddItems:!0},...xe},...Te},Ke={buckets:{measures:{...Ce},secondary_measures:{...Ce},view:{...ke,itemsLimit:1},...xe},recommendations:{},supportedOverTimeComparisonTypes:[]},$e={buckets:{measures:{...Ce,canAddItems:!0,allowSelectChartType:!0,allowOptionalStacking:!0},secondary_measures:{...Ce,canAddItems:!0,allowSelectChartType:!0,allowShowOnSecondaryAxis:!0},view:{...ke,canAddItems:!0,itemsLimit:1},...xe},...Te,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD],supportedChartTypes:[a.VisualizationTypes.COLUMN,a.VisualizationTypes.LINE,a.VisualizationTypes.AREA],optionalStacking:{supported:!0,disabled:!1,stackMeasures:!1}},qe={buckets:{measures:{...Ce,accepts:[b,f],itemsLimit:1,isShowInPercentVisible:!1},attribute:{...ke,accepts:[v],itemsLimit:1},...xe},...Te,..._e},Ye={buckets:{[a.BucketNames.MEASURES]:{...Ce,isShowOnSecondaryAxisVisible:!1,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},[a.BucketNames.SECONDARY_MEASURES]:{...Ce,isShowOnSecondaryAxisVisible:!1,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},[a.BucketNames.TERTIARY_MEASURES]:{...Ce,isShowOnSecondaryAxisVisible:!1,isShowInPercentVisible:!1,allowsReordering:!1,canAddItems:!0,itemsLimit:1},[a.BucketNames.VIEW]:{...ke,allowsReordering:!0,allowsSwapping:!0,canAddItems:!0,itemsLimit:2},...xe},...Te,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD]},Xe={...Te,buckets:{[a.BucketNames.MEASURES]:{...Ye.buckets[a.BucketNames.MEASURES]},[a.BucketNames.SECONDARY_MEASURES]:{...Ye.buckets[a.BucketNames.SECONDARY_MEASURES]},[a.BucketNames.TERTIARY_MEASURES]:{...Ye.buckets[a.BucketNames.TERTIARY_MEASURES]},[a.BucketNames.VIEW]:{...ke,allowsReordering:!0,allowsSwapping:!0,canAddItems:!0,itemsLimit:2,itemsLimitByType:{date:2},allowsDuplicateDates:!0,preferSynchronizedDates:!0},...xe},supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD]},Qe={...Ce,allowsReordering:!1,itemsLimit:1,isShowInPercentVisible:!1,canAddItems:!0},Ze={...ke,accepts:[y],canAddItems:!0,itemsLimit:1},Je={buckets:{location:{...Ze,accepts:[y,"geo_attribute"]},size:{...Qe},color:{...Qe},segment:{...Ze},...xe},supportedLocationIcon:{supported:!0},...Te,noMetricAccepted:{supported:!0},recommendations:{supportsFilteringRecommendation:!1}},et={buckets:{measures:{...Ce,itemsLimit:1,allowsReordering:!1,canAddItems:!0},attribute_from:{...ke,canAddItems:!0},attribute_to:{...ke,canAddItems:!0},...xe},...Te},tt={buckets:{attribute:{...ke,accepts:[y],itemsLimit:1,canAddItems:!0,allowsSwapping:!0},columns:{...Ce,canAddItems:!0,allowsReordering:!0,allowsDuplicateItems:!0,allowsDifferentAttributes:!1,transformAttributeToMeasure:!1,allowsStaticHyperLinkDisplayFormText:!0,allowsInlineVisualizations:!0,supportedInlineVisualizationTypes:["metric","line","column"],disableMeasureFilters:!0},view:{...ke,canAddItems:!0,itemsLimit:1},...xe},...Te,..._e,supportedEmptyCanvasDragTypes:[y],recommendations:{supportsFilteringRecommendation:!1}};var it=i(84486),rt=i(64721),st=i(18446),at=i(45578),ot=i(94885),nt=i(711),lt=i(94654),ct=i(39693),dt=i(82569);const ut="attr.datedataset",pt={INVALID_BUCKETS:"INVALID_BUCKETS",INVALID_COLUMNS:"INVALID_COLUMNS",EMPTY_AFM:"EMPTY_AFM"};class ht extends a.GoodDataSdkError{pveType;constructor(e){super(a.ErrorCodes.UNKNOWN_ERROR,void 0,e),this.pveType="INVALID_BUCKETS"}getErrorCode(){return this.pveType}}class mt extends a.GoodDataSdkError{pveType;constructor(e){super(a.ErrorCodes.UNKNOWN_ERROR,void 0,e),this.pveType="INVALID_COLUMNS"}getErrorCode(){return this.pveType}}class gt extends a.GoodDataSdkError{pveType;constructor(e){super(a.ErrorCodes.UNKNOWN_ERROR,void 0,e),this.pveType="EMPTY_AFM"}getErrorCode(){return this.pveType}}function bt(e){return!c(e)&&"EMPTY_AFM"===e.pveType}function ft(e){return!c(e)&&"drillDown"===e.type}var vt=i(82492);function yt(e,t,i={}){return t?t.formatMessage({id:e},i):e}function Ct(e,t){return e.map((e=>{const i=e.title?{title:yt(e.title,t)}:{},r=e.info?{info:yt(e.info,t)}:{};return{...e,...i,...r}}))}const kt={"en-US":i(2498)._({or:"or","dashboard.bucket.measures_title.column._measure":"Measures","dashboard.bucket.measures_title.column._metric":"Metrics","dashboard.bucket.measures_title.bar._measure":"Measures","dashboard.bucket.measures_title.bar._metric":"Metrics","dashboard.bucket.measures_title.line._measure":"Measures","dashboard.bucket.measures_title.line._metric":"Metrics","dashboard.bucket.measures_title.area._measure":"Measures","dashboard.bucket.measures_title.area._metric":"Metrics","dashboard.bucket.measures_title.pie._measure":"Measures","dashboard.bucket.measures_title.pie._metric":"Metrics","dashboard.bucket.measures_title.funnel._measure":"Measures","dashboard.bucket.measures_title.funnel._metric":"Metrics","dashboard.bucket.measures_title.pyramid._measure":"Measures","dashboard.bucket.measures_title.pyramid._metric":"Metrics","dashboard.bucket.measures_title.treemap._measure":"Measures","dashboard.bucket.measures_title.treemap._metric":"Metrics","dashboard.bucket.measures_title.donut._measure":"Measures","dashboard.bucket.measures_title.donut._metric":"Metrics","dashboard.bucket.measures_title.heatmap._measure":"Measure","dashboard.bucket.measures_title.heatmap._metric":"Metric","dashboard.bucket.measures_title.headline._measure":"Measure","dashboard.bucket.measures_title.headline._metric":"Metric","dashboard.bucket.measures_subtitle.headline":"primary","dashboard.bucket.secondary_measures_title.headline._measure":"Measure","dashboard.bucket.secondary_measures_title.headline._metric":"Metric","dashboard.bucket.secondary_measures_subtitle.headline":"secondary","dashboard.bucket.measures_title.scatter._measure":"Measure","dashboard.bucket.measures_title.scatter._metric":"Metric","dashboard.bucket.secondary_measures_title.scatter._measure":"Measure","dashboard.bucket.secondary_measures_title.scatter._metric":"Metric","dashboard.bucket.measures_subtitle.scatter":"X-axis","dashboard.bucket.secondary_measures_subtitle.scatter":"Y-axis","dashboard.bucket.attribute_title.scatter":"View by","dashboard.bucket.segment_title.scatter":"Segment by","dashboard.bucket.measures_title.combo._measure":"Measures","dashboard.bucket.measures_title.combo._metric":"Metrics","dashboard.bucket.measures_subtitle.combo":"Column","dashboard.bucket.secondary_measures_title.combo._measure":"Measures","dashboard.bucket.secondary_measures_title.combo._metric":"Metrics","dashboard.bucket.secondary_measures_subtitle.combo":"Line","dashboard.bucket.measures_title.xirr._measure":"Measure","dashboard.bucket.measures_title.xirr._metric":"Metric","dashboard.bucket.measures_title.waterfall._measure":"Measures","dashboard.bucket.measures_title.waterfall._metric":"Metrics","dashboard.bucket.attribute_title.xirr":"Date attribute","dashboard.bucket.attribute_from_title.sankey":"Attribute","dashboard.bucket.attribute_from_subtitle.sankey":"from","dashboard.bucket.attribute_to_title.sankey":"Attribute","dashboard.bucket.attribute_to_subtitle.sankey":"to","dashboard.bucket.attribute_from_title.dependencywheel":"Attribute","dashboard.bucket.attribute_from_subtitle.dependencywheel":"from","dashboard.bucket.attribute_to_title.dependencywheel":"Attribute","dashboard.bucket.attribute_to_subtitle.dependencywheel":"to","dashboard.bucket.combo.subtitle.column":"as columns","dashboard.bucket.combo.subtitle.line":"as lines","dashboard.bucket.combo.subtitle.area":"as areas","dashboard.bucket.measures_title.bubble._measure":"Measure","dashboard.bucket.measures_title.bubble._metric":"Metric","dashboard.bucket.secondary_measures_title.bubble._measure":"Measure","dashboard.bucket.secondary_measures_title.bubble._metric":"Metric","dashboard.bucket.tertiary_measures_title.bubble._measure":"Measure","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metric","dashboard.bucket.measures_subtitle.bubble":"X-axis","dashboard.bucket.secondary_measures_subtitle.bubble":"Y-axis","dashboard.bucket.tertiary_measures_subtitle.bubble":"Size","dashboard.bucket.location_title.pushpin":"Location","dashboard.bucket.size_title.pushpin._measure":"Measure","dashboard.bucket.size_title.pushpin._metric":"Metric","dashboard.bucket.size_subtitle.pushpin":"Size","dashboard.bucket.color_title.pushpin._measure":"Measure","dashboard.bucket.color_title.pushpin._metric":"Metric","dashboard.bucket.color_subtitle.pushpin":"Color","dashboard.bucket.view_title.bubble":"View by","dashboard.bucket.view_title.pie":"View by","dashboard.bucket.view_title.treemap":"View by","dashboard.bucket.view_title.donut":"View by","dashboard.bucket.view_title.funnel":"View by","dashboard.bucket.view_title.pyramid":"View by","dashboard.bucket.view_title.column":"View by","dashboard.bucket.view_title.bar":"View by","dashboard.bucket.view_title.area":"View by","dashboard.bucket.view_title.bullet":"View by","dashboard.bucket.view_title.waterfall":"View by","dashboard.bucket.view_title.heatmap":"Rows","dashboard.bucket.trend_title.line":"Trend by","dashboard.bucket.view_title.combo":"View by","dashboard.bucket.stack_title.column":"Stack by","dashboard.bucket.stack_title.bar":"Stack by","dashboard.bucket.stack_title.area":"Stack by","dashboard.bucket.stack_title.heatmap":"Columns","dashboard.bucket.segment_title.line":"Segment by","dashboard.bucket.segment_title.treemap":"Segment by","dashboard.bucket.segment_title.pushpin":"Segment by","dashboard.bucket.metric_segment_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'segment by'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"To add additional metric, remove {icons} from '<span class=\"stack-by\">'segment by'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"To add additional metric, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.metric_view_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'view by'</span>'","dashboard.bucket.metric_view_by_warning._metric":"To add additional metric, remove {icons} from '<span class=\"stack-by\">'view by'</span>'","dashboard.bucket.category_view_by_warning._measure":"To view by another attribute, an visualization can have only one measure","dashboard.bucket.category_view_by_warning._metric":"To view by another attribute, an visualization can have only one metric","dashboard.bucket.view_stack_by_warning":"To add additional attribute, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.category_stack_by_warning._measure":"To stack by, an visualization can have only one measure","dashboard.bucket.category_stack_by_warning._metric":"To stack by, an visualization can have only one metric","dashboard.bucket.stack_view_by_warning":"To stack by, an visualization can have only one attribute in view by","dashboard.bucket.measure_stack_by_warning._measure":"To stack by an attribute, an visualization can have only one measure","dashboard.bucket.measure_stack_by_warning._metric":"To stack by an attribute, an visualization can have only one metric","dashboard.bucket.category_columns_warning._measure":"Cannot add columns: limit is {oldLimit} measures and {oldRowsLimit} rows. Follow the limits to add more","dashboard.bucket.category_columns_warning._metric":"Cannot add columns: limit is {oldLimit} metrics and {oldRowsLimit} rows. Follow the limits to add more","dashboard.bucket.category_measures_rows_warning":"To add up to {limit} more, remove all items from columns section","dashboard.bucket.category_category_by_warning._measure":"To view by, an visualization can have only one measure","dashboard.bucket.category_category_by_warning._metric":"To view by, an visualization can have only one metric","dashboard.bucket.category_segment_by_warning._measure":"To segment by, an visualization can have only one measure","dashboard.bucket.category_segment_by_warning._metric":"To segment by, an visualization can have only one metric","dashboard.bucket.measures_title.table._measure":"Measures","dashboard.bucket.measures_title.table._metric":"Metrics","dashboard.bucket.measures_title.sankey._measure":"MEASURE","dashboard.bucket.measures_title.sankey._metric":"METRIC","dashboard.bucket.measures_title.dependencywheel._measure":"MEASURE","dashboard.bucket.measures_title.dependencywheel._metric":"METRIC","dashboard.bucket.attribute_title.table":"Rows","dashboard.bucket.columns_title.table":"Columns","dashboard.bucket.attribute_title.repeater":"Rows","dashboard.bucket.view_title.repeater":"View by","dashboard.bucket.columns_title.repeater":"Columns","dashboard.error.missing_primary_bucket_item.heading._measure":"No primary measure in your visualization","dashboard.error.missing_primary_bucket_item.heading._metric":"No primary metric in your visualization","dashboard.error.missing_primary_bucket_item.text._measure":"Add a primary measure to your visualization, or switch to table.\nOnce done, you'll be able to save it.","dashboard.error.missing_primary_bucket_item.text._metric":"Add a primary metric to your visualization, or switch to table.\nOnce done, you'll be able to save it.","dashboard.xirr.error.invalid_buckets.heading":"Incomplete configuration","dashboard.xirr.error.invalid_buckets.text._measure":"Make sure you have selected one measure and one date attribute","dashboard.xirr.error.invalid_buckets.text._metric":"Make sure you have selected one metric and one date attribute","properties.unsupported":"This visualization doesn’t support configuration","properties.config.not_applicable":"Configuration Panel is not applicable for this configuration of the visualization","properties.not_applicable":"Property is not applicable for this configuration of the visualization","properties.auto_placeholder":"auto","properties.auto_default":"auto (default)","properties.legend.title":"Legend","properties.legend.position":"Position","properties.total.title":"Total","properties.total.name":"Name","properties.total.tooltip":"Add sum of all values as a column at the end.","properties.total.measures.tooltip":"Disable “is total” options in metric to add sum of all values as a column at the end.","properties.color.total":"Total","properties.color.positive":"Positive","properties.color.negative":"Negative","properties.canvas.title":"Canvas","properties.canvas.gridline":"Gridline","properties.canvas.labels.percentages":"Percentage","properties.canvas.labels.percentages.info":"Display percentages on each slice, with the top-most slice as 100% and the others as fractions of that value.","properties.canvas.labels.percentages.disabled":"Percentages are hidden due to hidden data labels.","properties.canvas.continuousLine.label":"Continuous line","properties.canvas.continuousLine.tooltip":"Draw a line between points with missing values.","properties.canvas.dataLabels":"Data Labels","properties.canvas.dataLabels.auto":"auto (default)","properties.canvas.dataLabels.show":"show","properties.canvas.dataLabels.hide":"hide","properties.canvas.rowHeight":"Row height","properties.canvas.rowHeight.small":"small","properties.canvas.rowHeight.medium":"medium","properties.canvas.rowHeight.large":"large","properties.canvas.verticalAlign":"Vertical align","properties.canvas.verticalAlign.top":"top","properties.canvas.verticalAlign.middle":"middle","properties.canvas.verticalAlign.bottom":"bottom","properties.canvas.textWrapping":"Text wrapping","properties.canvas.textWrapping.clip":"clip","properties.canvas.textWrapping.wrap":"wrap","properties.canvas.image":"Image","properties.canvas.image.fit":"fit","properties.canvas.image.fill":"fill","properties.forecast.title":"Forecast","properties.forecastDisabled.title":"Forecast is not available for this combination of buckets","properties.forecastPeriod.title":"Period","properties.forecastPeriod.placeholder":"Period","properties.forecastSeasonal.title":"Seasonality","properties.forecastConfidence.title":"Confidence","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.forecastSliced.title":"Showing partial forecast.","properties.forecastSliced.description":"The available data point don`t cover the entire selected period.","properties.clustering.title":"Cluster","properties.clustering.amount":"Amount","properties.clustering.amount.placeholder":"3","properties.clustering.threshold":"Threshold","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"The threshold is a limit that determines when to group data. <link>Learn more</link>","properties.clustering.amount.partial.title":"Showing partial clusters","properties.clustering.amount.partial.description":"The available data points don't cover the entire selected amount.","properties.clustering.disabled":"Clustering requires 2 Metrics and View by, without Segment by.","properties.canvas.totalLabels":"Total Labels","properties.canvas.totalLabels.auto":"auto (default)","properties.canvas.totalLabels.show":"show","properties.canvas.totalLabels.hide":"hide","properties.canvas.dataPoints":"Data Points","properties.canvas.dataPoints.auto":"auto (default)","properties.canvas.dataPoints.show":"show","properties.canvas.dataPoints.hide":"hide","properties.yaxis.title":"Y-Axis","properties.axis.labels":"labels","properties.axis.rotation":"Rotation","properties.axis.format":"Format","properties.axis.format.inherit":"inherit","properties.axis.format.info.inherit._measure":"The format is inherited from the first measure in the visualization.","properties.axis.format.info.inherit._metric":"The format is inherited from the first metric in the visualization.","properties.axis.name":"name","properties.axis.name.position":"Position","properties.axis.name.position.left":"left","properties.axis.name.position.center":"center","properties.axis.name.position.right":"right","properties.axis.name.position.top":"top","properties.axis.name.position.middle":"middle","properties.axis.name.position.bottom":"bottom","properties.axis.min":"Min","properties.axis.min.warning":"Min value cannot be greater than max value","properties.axis.max":"Max","properties.axis.max.warning":"Max value cannot be smaller than min value","properties.xaxis.title":"X-Axis","properties.axis.scale":"scale","properties.axis.left":"Left","properties.axis.right":"Right","properties.axis.top":"Top","properties.axis.bottom":"Bottom","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.45":"45°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"top","properties.legend.position.down":"bottom","properties.legend.position.right":"right","properties.legend.position.left":"left","properties.orientation.title":"Orientation","properties.orientation.horizontal":"Horizontal (default)","properties.orientation.vertical":"Vertical","properties.points.title":"Points","properties.points.groupNearbyPoints":"Group nearby points","properties.points.size.title":"Point Size","properties.points.size.extra_small":"0.5x","properties.points.size.small":"0.75x","properties.points.size.normal":"normal","properties.points.size.large":"1.25x","properties.points.size.extra_large":"1.5x","properties.points.size.min.title":"Smallest","properties.points.size.max.title":"Largest","properties.map.title":"Map","properties.viewport.area.title":"Default viewport","properties.viewport.area.auto_default":"Include all data","properties.viewport.area.continents":"continents","properties.viewport.area.continent_af":"Africa","properties.viewport.area.continent_as":"Asia","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Europe","properties.viewport.area.continent_na":"America (North)","properties.viewport.area.continent_sa":"America (South)","properties.viewport.area.world":"World","gs.color-dropdown.custom-color":"Custom color","properties.colors.reset-colors":"Reset Colors","properties.colors":"Colors","properties.colors.unsupported":"There are no colors for this configuration of the visualization","export_unsupported.colors":"The visualization is not compatible with custom colors. To open the visualization as a report, click Reset Colors in Configuration —> Colors.","dashboard.bucket.measures_title.bullet._measure":"Measure","dashboard.bucket.measures_title.bullet._metric":"Metric","dashboard.bucket.secondary_measures_title.bullet._measure":"Measure","dashboard.bucket.secondary_measures_title.bullet._metric":"Metric","dashboard.bucket.tertiary_measures_title.bullet._measure":"Measure","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metric","dashboard.bucket.measures_subtitle.bullet":"Primary","dashboard.bucket.secondary_measures_subtitle.bullet":"Target","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparative","sorting.disabled.explanation.attribute":"Sorting is not possible for this visualization configuration.","sorting.disabled.explanation.measure._measure":"You must add at least one attribute to sort the visualization. You can also adjust the position of items in the Measures section to change their position in the visualization.","sorting.disabled.explanation.measure._metric":"You must add at least one attribute to sort the visualization. You can also adjust the position of items in the Metrics section to change their position in the visualization.","properties.metrics.title._measure":"Measures","properties.metrics.title._metric":"Metrics","properties.metrics.position":"Position","properties.metrics.position.columns":"columns (default)","properties.metrics.position.rows":"rows","properties.column.headers.title":"Column Headers","properties.column.headers.position":"Position","properties.column.headers.position.top":"top (default)","properties.column.headers.position.left":"left","dashboard.bucket.table.subtitle.columns":"in columns","dashboard.bucket.table.subtitle.rows":"in rows","properties.interactions.title":"Interactions","properties.advanced.title":"Advanced customizations","properties.advanced.chartConfigOverride.noValueLabel":"No customizations yet.","properties.advanced.chartConfigOverride.link":"Learn more","properties.advanced.chartConfigOverride.editorButton":"Open editor","properties.advanced.chartConfigOverride.title":"Advanced customization","properties.advanced.chartConfigOverride.snippets.header":"Snippets","properties.advanced.chartConfigOverride.button.apply":"Apply","properties.advanced.chartConfigOverride.button.cancel":"Cancel","properties.interactions.drillDown":"Drill down","properties.interactions.alerts":"Alert","properties.interactions.alerts.tooltip":"Enable users to create alerts for this visualization on dashboards.","properties.interactions.scheduledExports":"Scheduled exports","properties.interactions.scheduledExports.tooltip":"Enable users to create scheduled exports for this visualization on dashboards.","properties.comparison.title":"Comparison","properties.comparison.calculationType.title":"Calculated as","properties.comparison.calculationType.as.change":"Change","properties.comparison.calculationType.as.ratio":"Ratio","properties.comparison.calculationType.as.difference":"Difference","properties.comparison.calculationType.as.changeDifference":"Change (difference)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calculates the relative change between primary and secondary metric values.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calculates the relative change between primary and secondary measure values.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifies the share of the primary metric value in the secondary metric value.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifies the share of the primary measure value in the secondary measure value.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calculates the absolute difference between primary and secondary metric values.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calculates the absolute difference between primary and secondary measure values.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calculates both the relative change and absolute difference between primary and secondary metric values.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calculates both the relative change and absolute difference between primary and secondary measure values.","properties.comparison.calculationType.tooltip.formula.section":"Formula","properties.comparison.calculationType.tooltip.formulaChange.section":"Formula (relative change)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formula (absolute difference)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primary - Secondary) / Secondary","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primary / Secondary","properties.comparison.calculationType.as.difference.tooltip.formula":"Primary - Secondary","properties.comparison.calculationType.tooltip.example.section":"Example","properties.comparison.calculationType.as.change.tooltip.example":"Year-over-year sales change = (the current year's sales - the previous year's sales) / the previous year's sales","properties.comparison.calculationType.as.ratio.tooltip.example":"Current sales compared to a quota = current sales / quota","properties.comparison.calculationType.as.difference.tooltip.example":"Year-over-year sales difference = the current year's sales - the previous year's sales","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Year-over-year sales change = [(the current year's sales - the previous year's sales) / the previous year's sales] AND [the current year's sales - the previous year's sales]","properties.comparison.measureNumber.format.preset.inherit":"Inherit","properties.comparison.measureNumber.format.preset.rounded":"Rounded","properties.comparison.measureNumber.format.preset.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Percent (rounded)","properties.comparison.measureNumber.format.preset.percent1":"Percent (1)","properties.comparison.measureNumber.format.preset.percent2":"Percent (2)","properties.comparison.measureNumber.format.template.rounded":"Rounded","properties.comparison.measureNumber.format.template.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Percent (rounded)","properties.comparison.measureNumber.format.template.percent1":"Percent (1)","properties.comparison.measureNumber.format.template.percent2":"Percent (2)","properties.comparison.measureNumber.format.template.currency":"Currency","properties.comparison.measureNumber.format.template.currencyShortened":"Currency shortened","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Large numbers shortened","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Large numbers shortened with colors","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Negative numbers in red","properties.comparison.measureNumber.format.template.financial":"Financial","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimal (2) without thousands separator","properties.comparison.measureNumber.format.template.conditionalColors":"Conditional colors","properties.comparison.measureNumber.format.template.trendSymbols":"Trend symbols","properties.comparison.measureNumber.format.template.timeFromSeconds":"Time (from seconds)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zero instead of blank value","properties.comparison.valueSubSection.title":"Value","properties.comparison.format.title":"Format","properties.comparison.subFormat.title":"(Format)","properties.comparison.indicator.title":"Indicator","properties.comparison.indicator.arrow.title":"Arrow","properties.comparison.indicator.colorConfig.title":"Color","properties.comparison.indicator.colorConfig.equals":"Primary = Secondary","properties.comparison.indicator.colorConfig.positive":"Primary > Secondary","properties.comparison.indicator.colorConfig.negative":"Primary < Secondary","properties.comparison.labelSubSection.title":"Label","properties.comparison.labelSubSection.positionOnTop.disabled":"Labels not applicable for value position top.","properties.comparison.labelSubSection.conditional.disabled":"Conditional labels are not applicable to ratio calculations.","properties.comparison.labelName.title":"Name","properties.comparison.labelConditional.title":"Conditional","properties.comparison.labelPositive.title":"Primary > Secondary","properties.comparison.labelNegative.title":"Primary < Secondary","properties.comparison.labelEquals.title":"Primary = Secondary","properties.comparison.position.title":"Position","properties.comparison.position.top":"top","properties.comparison.position.right":"right","properties.comparison.position.left":"left","visualizations.headline.tertiary.title":"Versus","gs.date.yesterday":"Yesterday","notifications.panel.button.label":"Notifications","notifications.panel.notifications.list.label":"Notifications","notifications.panel.tab.unread":"Unread ({count})","notifications.panel.tab.all":"All","notifications.panel.markAllAsRead":"Mark all as read","notifications.panel.error.loading":"Error loading notifications","notifications.panel.empty.all":"No notifications","notifications.panel.empty.unread":"No unread notifications","notifications.panel.unsupported.notification.type":"Unsupported notification type","notifications.panel.markAsRead":"Mark as read","notifications.panel.alert.notification.type.label":"Alert notification","notifications.panel.download":"Download","notifications.panel.expiresOn":"Expires on {date}","notifications.panel.linkHasExpired":"Link has expired","notifications.panel.toast.warning.filesExpired":"<strong>Download link expired</strong> — wait for the next export or create one manually.","notifications.panel.dashboardLinkHint":"Open the dashboard used for this export","notifications.panel.dashboardLink":"From {dashboardTitle}","notifications.panel.downloadFilesHint":"Download the exported files","notifications.filters.buttonLabel":"{count, plural, one {# filter} other {# filters}}","notifications.filters.dialog.title":"Filters","notifications.filters.dialog.dateRange":"Date Range","notifications.panel.triggers.title":"for {triggeredCount}/{totalCount} items","notifications.panel.triggers.dialog.newValue":"New value","notifications.panel.triggers.dialog.truncatedValues":"…and {count} more",close:"Close","notifications.panel.triggers.dialog.title":"Triggered for","notifications.panel.error.learnMore":"Learn more","notifications.panel.error.traceId":"Trace ID","notifications.panel.error.alert.title":"The alert could not be processed.","notifications.panel.error.schedule.title":"Scheduled export failed.","notifications.panel.error.limitExceeded.message":"Your export could not be sent, because your organization has reached the limit for maximum number of daily alerts and scheduled exports. Please contact your administrator."}),"de-DE":{or:"oder","dashboard.bucket.measures_title.column._measure":"Maßnahmen","dashboard.bucket.measures_title.column._metric":"Metriken","dashboard.bucket.measures_title.bar._measure":"Maßnahmen","dashboard.bucket.measures_title.bar._metric":"Metriken","dashboard.bucket.measures_title.line._measure":"Maßnahmen","dashboard.bucket.measures_title.line._metric":"Metriken","dashboard.bucket.measures_title.area._measure":"Maßnahmen","dashboard.bucket.measures_title.area._metric":"Metriken","dashboard.bucket.measures_title.pie._measure":"Maßnahmen","dashboard.bucket.measures_title.pie._metric":"Metriken","dashboard.bucket.measures_title.funnel._measure":"Maßnahmen","dashboard.bucket.measures_title.funnel._metric":"Metriken","dashboard.bucket.measures_title.pyramid._measure":"Maßnahmen","dashboard.bucket.measures_title.pyramid._metric":"Metriken","dashboard.bucket.measures_title.treemap._measure":"Maßnahmen","dashboard.bucket.measures_title.treemap._metric":"Metriken","dashboard.bucket.measures_title.donut._measure":"Maßnahmen","dashboard.bucket.measures_title.donut._metric":"Metriken","dashboard.bucket.measures_title.heatmap._measure":"Maßnahme","dashboard.bucket.measures_title.heatmap._metric":"Metrik","dashboard.bucket.measures_title.headline._measure":"Maßnahme","dashboard.bucket.measures_title.headline._metric":"Metrik","dashboard.bucket.measures_subtitle.headline":"primär","dashboard.bucket.secondary_measures_title.headline._measure":"Maßnahme","dashboard.bucket.secondary_measures_title.headline._metric":"Metrik","dashboard.bucket.secondary_measures_subtitle.headline":"sekundär","dashboard.bucket.measures_title.scatter._measure":"Maßnahme","dashboard.bucket.measures_title.scatter._metric":"Metrik","dashboard.bucket.secondary_measures_title.scatter._measure":"Maßnahme","dashboard.bucket.secondary_measures_title.scatter._metric":"Metrik","dashboard.bucket.measures_subtitle.scatter":"X-Achse","dashboard.bucket.secondary_measures_subtitle.scatter":"Y-Achse","dashboard.bucket.attribute_title.scatter":"Anzeigen nach","dashboard.bucket.measures_title.combo._measure":"Maßnahmen","dashboard.bucket.measures_title.combo._metric":"Metriken","dashboard.bucket.measures_subtitle.combo":"Spalte","dashboard.bucket.secondary_measures_title.combo._measure":"Maßnahmen","dashboard.bucket.secondary_measures_title.combo._metric":"Metriken","dashboard.bucket.secondary_measures_subtitle.combo":"Linie","dashboard.bucket.measures_title.xirr._measure":"Maßnahme","dashboard.bucket.measures_title.xirr._metric":"Metrik","dashboard.bucket.measures_title.waterfall._measure":"Maßnahmen","dashboard.bucket.measures_title.waterfall._metric":"Metriken","dashboard.bucket.attribute_title.xirr":"Datumsattribut","dashboard.bucket.attribute_from_title.sankey":"Attribut","dashboard.bucket.attribute_from_subtitle.sankey":"von","dashboard.bucket.attribute_to_title.sankey":"Attribut","dashboard.bucket.attribute_to_subtitle.sankey":"bis","dashboard.bucket.attribute_from_title.dependencywheel":"Attribut","dashboard.bucket.attribute_from_subtitle.dependencywheel":"von","dashboard.bucket.attribute_to_title.dependencywheel":"Attribut","dashboard.bucket.attribute_to_subtitle.dependencywheel":"bis","dashboard.bucket.combo.subtitle.column":"als Spalten","dashboard.bucket.combo.subtitle.line":"als Zeilen","dashboard.bucket.combo.subtitle.area":"als Bereiche","dashboard.bucket.measures_title.bubble._measure":"Maßnahme","dashboard.bucket.measures_title.bubble._metric":"Metrik","dashboard.bucket.secondary_measures_title.bubble._measure":"Maßnahme","dashboard.bucket.secondary_measures_title.bubble._metric":"Metrik","dashboard.bucket.tertiary_measures_title.bubble._measure":"Maßnahme","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metrik","dashboard.bucket.measures_subtitle.bubble":"X-Achse","dashboard.bucket.secondary_measures_subtitle.bubble":"Y-Achse","dashboard.bucket.tertiary_measures_subtitle.bubble":"Größe","dashboard.bucket.location_title.pushpin":"Ort","dashboard.bucket.size_title.pushpin._measure":"Maßnahme","dashboard.bucket.size_title.pushpin._metric":"Metrik","dashboard.bucket.size_subtitle.pushpin":"Größe","dashboard.bucket.color_title.pushpin._measure":"Maßnahme","dashboard.bucket.color_title.pushpin._metric":"Metrik","dashboard.bucket.color_subtitle.pushpin":"Farbe","dashboard.bucket.view_title.bubble":"Anzeigen nach","dashboard.bucket.view_title.pie":"Anzeigen nach","dashboard.bucket.view_title.treemap":"Anzeigen nach","dashboard.bucket.view_title.donut":"Anzeigen nach","dashboard.bucket.view_title.funnel":"Anzeigen nach","dashboard.bucket.view_title.pyramid":"Anzeigen nach","dashboard.bucket.view_title.column":"Anzeigen nach","dashboard.bucket.view_title.bar":"Anzeigen nach","dashboard.bucket.view_title.area":"Anzeigen nach","dashboard.bucket.view_title.bullet":"Anzeigen nach","dashboard.bucket.view_title.waterfall":"Anzeigen nach","dashboard.bucket.view_title.heatmap":"Zeilen","dashboard.bucket.trend_title.line":"Trend nach","dashboard.bucket.view_title.combo":"Anzeigen nach","dashboard.bucket.stack_title.column":"Stapeln nach","dashboard.bucket.stack_title.bar":"Stapeln nach","dashboard.bucket.stack_title.area":"Stapeln nach","dashboard.bucket.stack_title.heatmap":"Spalten","dashboard.bucket.segment_title.line":"Segmentieren nach","dashboard.bucket.segment_title.treemap":"Segmentieren nach","dashboard.bucket.segment_title.pushpin":"Segmentieren nach","dashboard.bucket.metric_segment_by_warning._measure":"Um weitere Maßnahmen hinzuzufügen, entfernen Sie {icons} aus '<span class=\"stack-by\">'Segmentieren nach'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Um weitere Metriken hinzuzufügen, entfernen Sie {icons} aus '<span class=\"stack-by\">'Segmentieren nach'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Um weitere Maßnahmen hinzuzufügen, entfernen Sie {icons} aus '<span class=\"stack-by\">'Stapeln nach'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Um weitere Metriken hinzuzufügen, entfernen Sie {icons} aus '<span class=\"stack-by\">'Stapeln nach'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Um weitere Maßnahmen hinzuzufügen, entfernen Sie {icons} aus '<span class=\"stack-by\">'Anzeigen nach'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Um weitere Metriken hinzuzufügen, entfernen Sie {icons} aus '<span class=\"stack-by\">'Anzeigen nach'</span>'","dashboard.bucket.category_view_by_warning._measure":"Um nach einem anderen Attribut anzuzeigen, kann eine Visualisierung nur eine Maßnahme haben.","dashboard.bucket.category_view_by_warning._metric":"Um nach einem anderen Attribut anzuzeigen, kann eine Visualisierung nur eine Metrik haben.","dashboard.bucket.view_stack_by_warning":"Um weitere Attribute hinzuzufügen, entfernen Sie {icons} aus '<span class=\"stack-by\">'Stapeln nach'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Um zu stapeln, kann eine Visualisierung nur eine Maßnahme haben","dashboard.bucket.category_stack_by_warning._metric":"Um zu stapeln, kann eine Visualisierung nur eine Metrik haben","dashboard.bucket.stack_view_by_warning":"Um nach Attribut zu stapeln, kann eine Visualisierung nur eine Maßnahme in der Ansicht nach haben","dashboard.bucket.measure_stack_by_warning._measure":"Um nach Attribut zu stapeln, kann eine Visualisierung nur eine Maßnahme haben","dashboard.bucket.measure_stack_by_warning._metric":"Um nach Attribut zu stapeln, kann eine Visualisierung nur eine Metrik haben","dashboard.bucket.category_columns_warning._measure":"Es können keine Spalten hinzugefügt werden: Das Limit liegt bei {oldLimit} Maßnahmen und {oldRowsLimit} Zeilen. Löschen Sie einige, um weitere hinzuzufügen.","dashboard.bucket.category_columns_warning._metric":"Es können keine Spalten hinzugefügt werden: Das Limit liegt bei {oldLimit} Metriken und {oldRowsLimit} Zeilen. Löschen Sie einige, um weitere hinzuzufügen.","dashboard.bucket.category_measures_rows_warning":"Um bis zu {limit} mehr hinzuzufügen, entfernen Sie bitte alle Elemente aus dem Spaltenbereich.","dashboard.bucket.category_category_by_warning._measure":"Um anzuzeigen, kann eine Visualisierung nur eine Maßnahme haben","dashboard.bucket.category_category_by_warning._metric":"Um anzuzeigen, kann eine Visualisierung nur eine Metrik haben","dashboard.bucket.category_segment_by_warning._measure":"Um zu segmentieren, kann eine Visualisierung nur eine Maßnahme haben","dashboard.bucket.category_segment_by_warning._metric":"Um zu segmentieren, kann eine Visualisierung nur eine Metrik haben","dashboard.bucket.measures_title.table._measure":"Maßnahmen","dashboard.bucket.measures_title.table._metric":"Metriken","dashboard.bucket.measures_title.sankey._measure":"MAßNAHME","dashboard.bucket.measures_title.sankey._metric":"METRIK","dashboard.bucket.measures_title.dependencywheel._measure":"MAßNAHME","dashboard.bucket.measures_title.dependencywheel._metric":"METRIK","dashboard.bucket.attribute_title.table":"Zeilen","dashboard.bucket.columns_title.table":"Spalten","dashboard.bucket.attribute_title.repeater":"Zeilen","dashboard.bucket.view_title.repeater":"Anzeigen nach","dashboard.bucket.columns_title.repeater":"Spalten","dashboard.error.missing_primary_bucket_item.heading._measure":"Kein primäre Maßnahme in Ihrer Visualisierung","dashboard.error.missing_primary_bucket_item.heading._metric":"Keine primäre Metrik in Ihrer Visualisierung","dashboard.error.missing_primary_bucket_item.text._measure":"Fügen Sie ein primäre Maßnahme zu Ihrer Visualisierung hinzu oder wechseln Sie zur Tabelle. \nSobald dies erledigt ist, können Sie sie speichern.","dashboard.error.missing_primary_bucket_item.text._metric":"Fügen Sie eine primäre Metrik zu Ihrer Visualisierung hinzu oder wechseln Sie zur Tabelle. \nSobald dies erledigt ist, können Sie sie speichern.","dashboard.xirr.error.invalid_buckets.heading":"Unvollständige Konfiguration","dashboard.xirr.error.invalid_buckets.text._measure":"Bitte überprüfen Sie, ob Sie eine Maßnahme und ein Datum ausgewählt haben.","dashboard.xirr.error.invalid_buckets.text._metric":"Stellen Sie sicher, dass Sie eine Metrik und ein Datumsattribut ausgewählt haben.","properties.unsupported":"Diese Visualisierung unterstützt keine Konfiguration","properties.config.not_applicable":"Konfigurationspanel ist für diese Konfiguration der Visualisierung nicht anwendbar.","properties.not_applicable":"Eigenschaft ist für diese Konfiguration der Visualisierung nicht anwendbar","properties.auto_placeholder":"automatisch","properties.auto_default":"automatisch (Standard)","properties.legend.title":"Legende","properties.legend.position":"Position","properties.total.title":"Gesamt","properties.total.name":"Name","properties.total.tooltip":"Fügen Sie am Ende die Summe aller Werte als Spalte hinzu.","properties.total.measures.tooltip":"Deaktivieren Sie die Optionen „ist eine Summe“ in der Metrik, um die Summe aller Werte als Spalte am Ende hinzuzufügen.","properties.color.total":"Gesamt","properties.color.positive":"Positiv","properties.color.negative":"Negativ","properties.canvas.title":"Arbeitsfläche","properties.canvas.gridline":"Rasterlinie","properties.canvas.labels.percentages":"Prozentsatz","properties.canvas.labels.percentages.info":"Zeigen Sie Prozentsätze für jedes Segment an, wobei das oberste Segment 100 % angibt und die anderen Segmente Bruchteile dieses Werts angeben.","properties.canvas.labels.percentages.disabled":"Prozentsätze sind aufgrund ausgeblendeter Datenbeschriftungen ausgeblendet.","properties.canvas.continuousLine.label":"Durchgehende Linie","properties.canvas.continuousLine.tooltip":"Zeichnen Sie eine Linie zwischen Punkten mit fehlenden Werten.","properties.canvas.dataLabels":"Datenbeschriftung","properties.canvas.dataLabels.auto":"automatisch (Standard)","properties.canvas.dataLabels.show":"anzeigen","properties.canvas.dataLabels.hide":"verbergen","properties.canvas.rowHeight":"Zeilenhöhe","properties.canvas.rowHeight.small":"klein","properties.canvas.rowHeight.medium":"mittel","properties.canvas.rowHeight.large":"groß","properties.canvas.verticalAlign":"Vertikal ausrichten","properties.canvas.verticalAlign.top":"oben","properties.canvas.verticalAlign.middle":"Mitte","properties.canvas.verticalAlign.bottom":"unten","properties.canvas.textWrapping":"Textumbruch","properties.canvas.textWrapping.clip":"Zuschneiden","properties.canvas.textWrapping.wrap":"Umbrechen","properties.canvas.image":"Bild","properties.canvas.image.fit":"Anpassen","properties.canvas.image.fill":"Ausfüllen","properties.forecast.title":"Prognose","properties.forecastDisabled.title":"Für diese „Bucket“-Kombination ist keine Prognose verfügbar.","properties.forecastPeriod.title":"Periode","properties.forecastPeriod.placeholder":"Periode","properties.forecastSeasonal.title":"Saisonalität","properties.forecastConfidence.title":"Sicherheit","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Gesamtanzahl der Beschriftungen","properties.canvas.totalLabels.auto":"automatisch (Standard)","properties.canvas.totalLabels.show":"anzeigen","properties.canvas.totalLabels.hide":"verbergen","properties.canvas.dataPoints":"Datenpunkte","properties.canvas.dataPoints.auto":"automatisch (Standard)","properties.canvas.dataPoints.show":"anzeigen","properties.canvas.dataPoints.hide":"verbergen","properties.yaxis.title":"Y-Achse","properties.axis.labels":"Beschriftungen","properties.axis.rotation":"Drehung","properties.axis.format":"Format","properties.axis.format.inherit":"übernehmen","properties.axis.format.info.inherit._measure":"Das Format wird von der ersten Maßnahme in der Visualisierung übernommen.","properties.axis.format.info.inherit._metric":"Das Format wird von der ersten Metrik in der Visualisierung übernommen.","properties.axis.name":"Name","properties.axis.name.position":"Position","properties.axis.name.position.left":"links","properties.axis.name.position.center":"Zentrum","properties.axis.name.position.right":"rechts","properties.axis.name.position.top":"oben","properties.axis.name.position.middle":"Mitte","properties.axis.name.position.bottom":"unten","properties.axis.min":"Min.","properties.axis.min.warning":"Der Mindestwert darf nicht größer als der Höchstwert sein.","properties.axis.max":"Max.","properties.axis.max.warning":"Der Max.-Wert darf nicht kleiner als der Min.-Wert sein","properties.xaxis.title":"X-Achse","properties.axis.scale":"Maßstab","properties.axis.left":"Links","properties.axis.right":"Rechts","properties.axis.top":"Oben","properties.axis.bottom":"Unten","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"oben","properties.legend.position.down":"unten","properties.legend.position.right":"rechts","properties.legend.position.left":"links","properties.orientation.title":"Ausrichtung","properties.orientation.horizontal":"Horizontal (Standard)","properties.orientation.vertical":"Vertikal","properties.points.title":"Punkte","properties.points.groupNearbyPoints":"Naheliegende Punkte gruppieren","properties.points.size.title":"Punktgröße","properties.points.size.extra_small":"x 0,5","properties.points.size.small":"x 0,75","properties.points.size.normal":"Normal","properties.points.size.large":"x 1,25","properties.points.size.extra_large":"x 1,5","properties.points.size.min.title":"Kleinste","properties.points.size.max.title":"Größte","properties.map.title":"Karte","properties.viewport.area.title":"Standardansicht","properties.viewport.area.auto_default":"Alle Daten einschließen","properties.viewport.area.continents":"Kontinente","properties.viewport.area.continent_af":"Afrika","properties.viewport.area.continent_as":"Asien","properties.viewport.area.continent_au":"Australien","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"Nordamerika","properties.viewport.area.continent_sa":"Südamerika","properties.viewport.area.world":"Welt","gs.color-dropdown.custom-color":"Benutzerdefinierte Farbe","properties.colors.reset-colors":"Farben zurücksetzen","properties.colors":"Farben","properties.colors.unsupported":"Es gibt keine Farben für diese Konfiguration der Visualisierung.","export_unsupported.colors":"Die Visualisierung ist nicht mit benutzerdefinierten Farben kompatibel. Um die Visualisierung als Report zu öffnen, klicken Sie auf Farben zurücksetzen in Konfiguration —> Farben.","dashboard.bucket.measures_title.bullet._measure":"Maßnahme","dashboard.bucket.measures_title.bullet._metric":"Metrik","dashboard.bucket.secondary_measures_title.bullet._measure":"Maßnahme","dashboard.bucket.secondary_measures_title.bullet._metric":"Metrik","dashboard.bucket.tertiary_measures_title.bullet._measure":"Maßnahme","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metrik","dashboard.bucket.measures_subtitle.bullet":"Primär","dashboard.bucket.secondary_measures_subtitle.bullet":"Ziel","dashboard.bucket.tertiary_measures_subtitle.bullet":"Komparativ","sorting.disabled.explanation.attribute":"Sortieren ist für diese Visualisierungskonfiguration nicht möglich.","sorting.disabled.explanation.measure._measure":"Sie müssen mindestens ein Attribut hinzufügen, um die Visualisierung zu sortieren. Sie können auch die Position der Elemente im Abschnitt Maße anpassen, um deren Position in der Visualisierung zu ändern.","sorting.disabled.explanation.measure._metric":"Sie müssen mindestens ein Attribut hinzufügen, um die Visualisierung zu sortieren. Sie können auch die Position der Elemente im Abschnitt Metriken anpassen, um deren Position in der Visualisierung zu ändern.","properties.metrics.title._measure":"Maßnahmen","properties.metrics.title._metric":"Metriken","properties.metrics.position":"Position","properties.metrics.position.columns":"Spalten (Standard)","properties.metrics.position.rows":"Zeilen","properties.column.headers.title":"Spaltenüberschriften","properties.column.headers.position":"Position","properties.column.headers.position.top":"oben (Standard)","properties.column.headers.position.left":"links","dashboard.bucket.table.subtitle.columns":"in Spalten","dashboard.bucket.table.subtitle.rows":"in Zeilen","properties.interactions.title":"Interaktionen","properties.interactions.drillDown":"Nach unten verfeinern","properties.comparison.title":"Vergleich","properties.comparison.calculationType.title":"Berechnet als","properties.comparison.calculationType.as.change":"Änderen","properties.comparison.calculationType.as.ratio":"Verhältnis","properties.comparison.calculationType.as.difference":"Differenz","properties.comparison.calculationType.as.changeDifference":"Änderung (Differenz)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Berechnet die relative Änderung zwischen primären und sekundären Metrikwerten.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Berechnet die relative Änderung zwischen primären und sekundären Messwerten.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Drückt den Anteil des primären Metrikwerts am sekundären Metrikwert in Zahlen aus.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Drückt den Anteil des primären Messwerts am sekundären Messwert in Zahlen aus.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Berechnet die absolute Differenz zwischen primären und sekundären Metrikwerten.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Berechnet die absolute Differenz zwischen primären und sekundären Messwerten.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Berechnet sowohl die relative Änderung als auch die absolute Differenz zwischen primären und sekundären Metrikwerten.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Berechnet sowohl die relative Änderung als auch die absolute Differenz zwischen primären und sekundären Messwerten.","properties.comparison.calculationType.tooltip.formula.section":"Formel","properties.comparison.calculationType.tooltip.formulaChange.section":"Formel (relative Änderung)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formel (absolute Änderung)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primär - Sekundär) / Sekundär","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primär / Sekundär","properties.comparison.calculationType.as.difference.tooltip.formula":"Primär - Sekundär","properties.comparison.calculationType.tooltip.example.section":"Beispiel","properties.comparison.calculationType.as.change.tooltip.example":"Umsatzveränderung im Vergleich zum Vorjahr = (Umsatz des laufenden Jahres – Umsatz des Vorjahres) / Umsatz des Vorjahres","properties.comparison.calculationType.as.ratio.tooltip.example":"Aktueller Umsatz im Vergleich zu einem Kontingent = aktuelle Umsätze / Kontingent","properties.comparison.calculationType.as.difference.tooltip.example":"Umsatzdifferenz im Vergleich zum Vorjahr = Umsatz des laufenden Jahres – Umsatz des Vorjahres","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Umsatzveränderung im Vergleich zum Vorjahr = [(Umsatz des laufenden Jahres – Umsatz des Vorjahres) / Umsatz des Vorjahres] UND [Umsatz des laufenden Jahres – Umsatz des Vorjahres]","properties.comparison.measureNumber.format.preset.inherit":"Übernehmen","properties.comparison.measureNumber.format.preset.rounded":"Gerundet","properties.comparison.measureNumber.format.preset.decimal1":"Dezimale (1)","properties.comparison.measureNumber.format.preset.decimal2":"Dezimale (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Prozent (gerundet)","properties.comparison.measureNumber.format.preset.percent1":"Prozent (1)","properties.comparison.measureNumber.format.preset.percent2":"Prozent (2)","properties.comparison.measureNumber.format.template.rounded":"Gerundet","properties.comparison.measureNumber.format.template.decimal1":"Dezimale (1)","properties.comparison.measureNumber.format.template.decimal2":"Dezimale (2)","properties.comparison.measureNumber.format.template.percentRounded":"Prozent (gerundet)","properties.comparison.measureNumber.format.template.percent1":"Prozent (1)","properties.comparison.measureNumber.format.template.percent2":"Prozent (2)","properties.comparison.measureNumber.format.template.currency":"Währung","properties.comparison.measureNumber.format.template.currencyShortened":"Währung abgekürzt","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Große Zahlen abgekürzt","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Farblich markierte große Zahlen abgekürzt","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Negative Zahlen in rot","properties.comparison.measureNumber.format.template.financial":"Finanzen","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Dezimale (2) ohne Tausendertrennzeichen","properties.comparison.measureNumber.format.template.conditionalColors":"Bedingungsabhängige Farben","properties.comparison.measureNumber.format.template.trendSymbols":"Trendsymbole","properties.comparison.measureNumber.format.template.timeFromSeconds":"Zeit (ab Sekunden)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Null statt leerer Wert","properties.comparison.valueSubSection.title":"Wert","properties.comparison.format.title":"Format","properties.comparison.subFormat.title":"(Format)","properties.comparison.indicator.title":"Indikator","properties.comparison.indicator.arrow.title":"Pfeil","properties.comparison.indicator.colorConfig.title":"Farbe","properties.comparison.indicator.colorConfig.equals":"Primär = Sekundär","properties.comparison.indicator.colorConfig.positive":"Primär > Sekundär","properties.comparison.indicator.colorConfig.negative":"Primär < Sekundär","properties.comparison.labelSubSection.title":"Beschriftung ","properties.comparison.labelSubSection.positionOnTop.disabled":"Beschriftungen gelten nicht für die Wertposition oben.","properties.comparison.labelSubSection.conditional.disabled":"Bedingte Beschriftungen gelten nicht für Verhältnisberechnungen.","properties.comparison.labelName.title":"Name","properties.comparison.labelConditional.title":"Bedingt","properties.comparison.labelPositive.title":"Primär > Sekundär","properties.comparison.labelNegative.title":"Primär < Sekundär","properties.comparison.labelEquals.title":"Primär = Sekundär","properties.comparison.position.title":"Position","properties.comparison.position.top":"oben","properties.comparison.position.right":"rechts","properties.comparison.position.left":"links","properties.forecastSliced.title":"Teilweise Prognose anzeigen.","properties.forecastSliced.description":"Die verfügbaren Datenpunkte decken den gesamten ausgewählten Periode nicht ab.","dashboard.bucket.segment_title.scatter":"Segmentieren nach","properties.clustering.title":"Cluster","properties.clustering.amount":"Anzahl","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Teilcluster anzeigen","properties.clustering.amount.partial.description":"Die verfügbaren Datenpunkte decken nicht die gesamte ausgewählte Anzahl ab.","properties.clustering.disabled":"Clustering erfordert 2 Metriken und Ansicht nach, ohne Segment nach.","properties.clustering.threshold":"Schwellenwert","properties.clustering.threshold.placeholder":"0,03","properties.clustering.threshold.tooltip":"Der Schwellenwert ist ein Grenzwert, der bestimmt, wann Daten gruppiert werden sollen. <link>Mehr erfahren </link>","visualizations.headline.tertiary.title":"im Vergleich zu","properties.interactions.alerts":"Warnung","properties.interactions.alerts.tooltip":"Ermöglichen Sie Benutzern, Warnungen für diese Visualisierung auf Dashboards zu erstellen.","properties.interactions.scheduledExports":"Geplante exporte","properties.interactions.scheduledExports.tooltip":"Ermöglichen Sie Benutzern, geplante Exporte für diese Visualisierung auf Dashboards zu erstellen.","properties.advanced.title":"Erweiterte Anpassungen","properties.advanced.chartConfigOverride.noValueLabel":"Noch keine Anpassungen.","properties.advanced.chartConfigOverride.link":"Weitere Informationen","properties.advanced.chartConfigOverride.editorButton":"Editor öffnen","properties.advanced.chartConfigOverride.title":"Erweiterte Anpassung","properties.advanced.chartConfigOverride.snippets.header":"Snippets","properties.advanced.chartConfigOverride.button.apply":"Anwenden","properties.advanced.chartConfigOverride.button.cancel":"Abbrechen","gs.date.yesterday":"Gestern","notifications.panel.tab.unread":"Ungelesen ({count})","notifications.panel.tab.all":"Alle","notifications.panel.markAllAsRead":"Alle als gelesen markieren","notifications.panel.error.loading":"Fehler beim Laden der Benachrichtigungen","notifications.panel.empty.all":"Keine Benachrichtigungen","notifications.panel.empty.unread":"Keine ungelesenen Benachrichtigungen","notifications.panel.unsupported.notification.type":"Nicht unterstützter Benachrichtigungstyp","notifications.panel.markAsRead":"Als gelesen markieren","notifications.filters.buttonLabel":"{count, plural, one {# filter} other {# filter}}","notifications.filters.dialog.title":"Filter","notifications.filters.dialog.dateRange":"Datumsbereich","notifications.panel.triggers.title":"für {triggeredCount}/{totalCount} Artikel","notifications.panel.triggers.dialog.newValue":"Neuer Wert",close:"Schließen","notifications.panel.triggers.dialog.title":"Ausgelöst durch","notifications.panel.error.learnMore":"Weitere Informationen","notifications.panel.error.traceId":"Trace-ID","notifications.panel.error.message":"Der Alarm konnte nicht verarbeitet werden.","notifications.panel.button.label":"Benachrichtigungen","notifications.panel.notifications.list.label":"Benachrichtigungen","notifications.panel.alert.notification.type.label":"Benachrichtigung","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…und {count} weitere","notifications.panel.download":"Herunterladen","notifications.panel.expiresOn":"Läuft ab am {date}","notifications.panel.linkHasExpired":"Link ist abgelaufen","notifications.panel.toast.warning.filesExpired":"<strong>Download-Link abgelaufen</strong> – warten Sie auf den nächsten Export oder erstellen Sie manuell einen.","notifications.panel.dashboardLinkHint":"Öffnen Sie das für diesen Export verwendete Dashboard","notifications.panel.dashboardLink":"Aus {dashboardTitle}","notifications.panel.downloadFilesHint":"Exportierte Dateien herunterladen","notifications.panel.error.alert.title":"Der Alarm konnte nicht verarbeitet werden.","notifications.panel.error.schedule.title":"Geplanter Export fehlgeschlagen.","notifications.panel.error.limitExceeded.message":"Ihr Export konnte nicht gesendet werden, da Ihre Organisation das Limit für die maximale Anzahl täglicher Warnungen und geplanter Exporte erreicht hat. Bitte wenden Sie sich an Ihren Administrator."},"es-ES":{or:"o","dashboard.bucket.measures_title.column._measure":"Medidas","dashboard.bucket.measures_title.column._metric":"Métricas","dashboard.bucket.measures_title.bar._measure":"Medidas","dashboard.bucket.measures_title.bar._metric":"Métricas","dashboard.bucket.measures_title.line._measure":"Medidas","dashboard.bucket.measures_title.line._metric":"Métricas","dashboard.bucket.measures_title.area._measure":"Medidas","dashboard.bucket.measures_title.area._metric":"Métricas","dashboard.bucket.measures_title.pie._measure":"Medidas","dashboard.bucket.measures_title.pie._metric":"Métricas","dashboard.bucket.measures_title.funnel._measure":"Medidas","dashboard.bucket.measures_title.funnel._metric":"Métricas","dashboard.bucket.measures_title.pyramid._measure":"Medidas","dashboard.bucket.measures_title.pyramid._metric":"Métricas","dashboard.bucket.measures_title.treemap._measure":"Medidas","dashboard.bucket.measures_title.treemap._metric":"Métricas","dashboard.bucket.measures_title.donut._measure":"Medidas","dashboard.bucket.measures_title.donut._metric":"Métricas","dashboard.bucket.measures_title.heatmap._measure":"Medida","dashboard.bucket.measures_title.heatmap._metric":"Métrica","dashboard.bucket.measures_title.headline._measure":"Medida","dashboard.bucket.measures_title.headline._metric":"Métrica","dashboard.bucket.measures_subtitle.headline":"principal","dashboard.bucket.secondary_measures_title.headline._measure":"Medida","dashboard.bucket.secondary_measures_title.headline._metric":"Métrica","dashboard.bucket.secondary_measures_subtitle.headline":"secundario","dashboard.bucket.measures_title.scatter._measure":"Medida","dashboard.bucket.measures_title.scatter._metric":"Métrica","dashboard.bucket.secondary_measures_title.scatter._measure":"Medida","dashboard.bucket.secondary_measures_title.scatter._metric":"Métrica","dashboard.bucket.measures_subtitle.scatter":"Eje X","dashboard.bucket.secondary_measures_subtitle.scatter":"Eje Y","dashboard.bucket.attribute_title.scatter":"Ver por","dashboard.bucket.measures_title.combo._measure":"Medidas","dashboard.bucket.measures_title.combo._metric":"Métricas","dashboard.bucket.measures_subtitle.combo":"Columna","dashboard.bucket.secondary_measures_title.combo._measure":"Medidas","dashboard.bucket.secondary_measures_title.combo._metric":"Métricas","dashboard.bucket.secondary_measures_subtitle.combo":"Línea","dashboard.bucket.measures_title.xirr._measure":"Medida","dashboard.bucket.measures_title.xirr._metric":"Métrica","dashboard.bucket.measures_title.waterfall._measure":"Medidas","dashboard.bucket.measures_title.waterfall._metric":"Métricas","dashboard.bucket.attribute_title.xirr":"Atributo de fecha","dashboard.bucket.attribute_from_title.sankey":"Atributo","dashboard.bucket.attribute_from_subtitle.sankey":"de","dashboard.bucket.attribute_to_title.sankey":"Atributo","dashboard.bucket.attribute_to_subtitle.sankey":"para","dashboard.bucket.attribute_from_title.dependencywheel":"Atributo","dashboard.bucket.attribute_from_subtitle.dependencywheel":"de","dashboard.bucket.attribute_to_title.dependencywheel":"Atributo","dashboard.bucket.attribute_to_subtitle.dependencywheel":"para","dashboard.bucket.combo.subtitle.column":"como columnas","dashboard.bucket.combo.subtitle.line":"como líneas","dashboard.bucket.combo.subtitle.area":"como áreas","dashboard.bucket.measures_title.bubble._measure":"Medida","dashboard.bucket.measures_title.bubble._metric":"Métrica","dashboard.bucket.secondary_measures_title.bubble._measure":"Medida","dashboard.bucket.secondary_measures_title.bubble._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bubble._measure":"Medida","dashboard.bucket.tertiary_measures_title.bubble._metric":"Métrica","dashboard.bucket.measures_subtitle.bubble":"Eje X","dashboard.bucket.secondary_measures_subtitle.bubble":"Eje Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Tamaño","dashboard.bucket.location_title.pushpin":"Ubicación","dashboard.bucket.size_title.pushpin._measure":"Medida","dashboard.bucket.size_title.pushpin._metric":"Métrica","dashboard.bucket.size_subtitle.pushpin":"Tamaño","dashboard.bucket.color_title.pushpin._measure":"Medida","dashboard.bucket.color_title.pushpin._metric":"Métrica","dashboard.bucket.color_subtitle.pushpin":"Color","dashboard.bucket.view_title.bubble":"Ver por","dashboard.bucket.view_title.pie":"Ver por","dashboard.bucket.view_title.treemap":"Ver por","dashboard.bucket.view_title.donut":"Ver por","dashboard.bucket.view_title.funnel":"Ver por","dashboard.bucket.view_title.pyramid":"Ver por","dashboard.bucket.view_title.column":"Ver por","dashboard.bucket.view_title.bar":"Ver por","dashboard.bucket.view_title.area":"Ver por","dashboard.bucket.view_title.bullet":"Ver por","dashboard.bucket.view_title.waterfall":"Ver por","dashboard.bucket.view_title.heatmap":"Filas","dashboard.bucket.trend_title.line":"Tendencia por","dashboard.bucket.view_title.combo":"Ver por","dashboard.bucket.stack_title.column":"Apilar por","dashboard.bucket.stack_title.bar":"Apilar por","dashboard.bucket.stack_title.area":"Apilar por","dashboard.bucket.stack_title.heatmap":"Columnas","dashboard.bucket.segment_title.line":"Segmentar por","dashboard.bucket.segment_title.treemap":"Segmentar por","dashboard.bucket.segment_title.pushpin":"Segmentar por","dashboard.bucket.metric_segment_by_warning._measure":"Para añadir una medida adicional, elimine {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Para añadir una métrica adicional, elimine {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Para añadir una medida adicional, elimine {icons} de '<span class=\"stack-by\">'apilar por'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Para añadir una métrica adicional, elimine {icons} de '<span class=\"stack-by\">'apilar por'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Para añadir una medida adicional, elimine {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Para añadir una métrica adicional, elimine {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.category_view_by_warning._measure":"Para visualizar por otro atributo, una visualización sólo puede tener una medida","dashboard.bucket.category_view_by_warning._metric":"Para visualizar por otro atributo, una visualización sólo puede tener una métrica","dashboard.bucket.view_stack_by_warning":"Para añadir un atributo adicional, elimine {icons} de '<span class=\"stack-by\">'apilar por'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Para apilar por, una visualización sólo puede tener una medida","dashboard.bucket.category_stack_by_warning._metric":"Para apilar por, una visualización sólo puede tener una métrica","dashboard.bucket.stack_view_by_warning":"Para apilar por, una visualización sólo puede tener un atributo en vista por","dashboard.bucket.measure_stack_by_warning._measure":"Para apilar por atributos, una visualización sólo puede tener una medida","dashboard.bucket.measure_stack_by_warning._metric":"Para apilar por atributos, una visualización sólo puede tener una métrica","dashboard.bucket.category_columns_warning._measure":"No se pueden añadir columnas: el límite está en {oldLimit} medidas y {oldRowsLimit} filas. Siga los límites para añadir más","dashboard.bucket.category_columns_warning._metric":"No se pueden añadir columnas: el límite está en {oldLimit} métricas y {oldRowsLimit} filas. Siga los límites para añadir más","dashboard.bucket.category_measures_rows_warning":"Para añadir hasta {limit} más, elimine todos los elementos de la sección de columnas","dashboard.bucket.category_category_by_warning._measure":"Para ver por, una visualización sólo puede tener una medida","dashboard.bucket.category_category_by_warning._metric":"Para ver por, una visualización sólo puede tener una métrica","dashboard.bucket.category_segment_by_warning._measure":"Para segmentar por, una visualización sólo puede tener una medida","dashboard.bucket.category_segment_by_warning._metric":"Para segmentar por, una visualización sólo puede tener una métrica","dashboard.bucket.measures_title.table._measure":"Medidas","dashboard.bucket.measures_title.table._metric":"Métricas","dashboard.bucket.measures_title.sankey._measure":"MEDIDA","dashboard.bucket.measures_title.sankey._metric":"MÉTRICA","dashboard.bucket.measures_title.dependencywheel._measure":"MEDIDA","dashboard.bucket.measures_title.dependencywheel._metric":"MÉTRICA","dashboard.bucket.attribute_title.table":"Filas","dashboard.bucket.columns_title.table":"Columnas","dashboard.bucket.attribute_title.repeater":"Filas","dashboard.bucket.view_title.repeater":"Ver por","dashboard.bucket.columns_title.repeater":"Columnas","dashboard.error.missing_primary_bucket_item.heading._measure":"No hay una medida principal en su visualización","dashboard.error.missing_primary_bucket_item.heading._metric":"No hay una métrica principal en su visualización","dashboard.error.missing_primary_bucket_item.text._measure":"Añada una medida principal a su visualización, o cambie a tabla.\nUna vez hecho esto, podrá guardarla.","dashboard.error.missing_primary_bucket_item.text._metric":"Añada una métrica principal a su visualización, o cambie a tabla.\nUna vez hecho esto, podrá guardarla.","dashboard.xirr.error.invalid_buckets.heading":"Configuración incompleta","dashboard.xirr.error.invalid_buckets.text._measure":"Asegúrese de haber seleccionado una medida y un atributo de fecha","dashboard.xirr.error.invalid_buckets.text._metric":"Asegúrese de haber seleccionado una métrica y un atributo de fecha","properties.unsupported":"Esta visualización no admite la configuración","properties.config.not_applicable":"El Panel de Configuración no es aplicable para esta configuración de la visualización","properties.not_applicable":"La propiedad no es aplicable para esta configuración de la visualización","properties.auto_placeholder":"automático","properties.auto_default":"automático (predeterminado)","properties.legend.title":"Leyenda","properties.legend.position":"Posición","properties.total.title":"Total","properties.total.name":"Nombre","properties.total.tooltip":"Añadir suma de todos los valores como una columna al final.","properties.total.measures.tooltip":'Desactive las opciones "es total" en la métrica para añadir la suma de todos los valores como una columna al final.',"properties.color.total":"Total","properties.color.positive":"Positivo","properties.color.negative":"Negativo","properties.canvas.title":"Lienzo","properties.canvas.gridline":"Línea de cuadrícula","properties.canvas.labels.percentages":"Porcentaje","properties.canvas.labels.percentages.info":"Se muestran porcentajes en cada porción, con la porción superior como 100 % y las demás como fracciones de ese valor.","properties.canvas.labels.percentages.disabled":"Los porcentajes se ocultan debido a etiquetas de datos ocultas.","properties.canvas.continuousLine.label":"Línea continua","properties.canvas.continuousLine.tooltip":"Se dibuja una línea entre dos puntos con valores que faltan.","properties.canvas.dataLabels":"Etiquetas de datos","properties.canvas.dataLabels.auto":"automático (predeterminado)","properties.canvas.dataLabels.show":"mostrar","properties.canvas.dataLabels.hide":"ocultar","properties.canvas.rowHeight":"Altura de fila","properties.canvas.rowHeight.small":"pequeña","properties.canvas.rowHeight.medium":"media","properties.canvas.rowHeight.large":"grande","properties.canvas.verticalAlign":"Alineación vertical","properties.canvas.verticalAlign.top":"parte superior","properties.canvas.verticalAlign.middle":"parte media","properties.canvas.verticalAlign.bottom":"parte inferior","properties.canvas.textWrapping":"Ajuste del texto","properties.canvas.textWrapping.clip":"recortar","properties.canvas.textWrapping.wrap":"ajustar","properties.canvas.image":"Imagen","properties.canvas.image.fit":"ajustar","properties.canvas.image.fill":"rellenar","properties.forecast.title":"Previsión","properties.forecastDisabled.title":"La previsión no está disponible para esta combinación de depósitos","properties.forecastPeriod.title":"Período","properties.forecastPeriod.placeholder":"Período","properties.forecastSeasonal.title":"Estacionalidad","properties.forecastConfidence.title":"Confianza","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Etiquetas totales","properties.canvas.totalLabels.auto":"automático (predeterminado)","properties.canvas.totalLabels.show":"mostrar","properties.canvas.totalLabels.hide":"ocultar","properties.canvas.dataPoints":"Puntos de datos","properties.canvas.dataPoints.auto":"automático (predeterminado)","properties.canvas.dataPoints.show":"mostrar","properties.canvas.dataPoints.hide":"ocultar","properties.yaxis.title":"Eje Y","properties.axis.labels":"etiquetas","properties.axis.rotation":"Rotación","properties.axis.format":"Formato","properties.axis.format.inherit":"heredar","properties.axis.format.info.inherit._measure":"El formato se hereda de la primera medida de la visualización.","properties.axis.format.info.inherit._metric":"El formato se hereda de la primera métrica de la visualización.","properties.axis.name":"nombre","properties.axis.name.position":"Posición","properties.axis.name.position.left":"izquierda","properties.axis.name.position.center":"centro","properties.axis.name.position.right":"derecha","properties.axis.name.position.top":"parte superior","properties.axis.name.position.middle":"parte media","properties.axis.name.position.bottom":"parte inferior","properties.axis.min":"Min","properties.axis.min.warning":"El valor mínimo no puede ser mayor que el valor máximo","properties.axis.max":"Máx","properties.axis.max.warning":"El valor máximo no puede ser menor que el valor mínimo","properties.xaxis.title":"Eje X","properties.axis.scale":"escala","properties.axis.left":"Izquierda","properties.axis.right":"Derecha","properties.axis.top":"Arriba","properties.axis.bottom":"Abajo","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"parte superior","properties.legend.position.down":"parte inferior","properties.legend.position.right":"derecha","properties.legend.position.left":"izquierda","properties.orientation.title":"Orientación","properties.orientation.horizontal":"Horizontal (predeterminada)","properties.orientation.vertical":"Vertical","properties.points.title":"Puntos","properties.points.groupNearbyPoints":"Agrupar puntos cercanos","properties.points.size.title":"Tamaño del punto","properties.points.size.extra_small":"x 0,5","properties.points.size.small":"x 0,75","properties.points.size.normal":"normal","properties.points.size.large":"x 1,25","properties.points.size.extra_large":"x 1,5","properties.points.size.min.title":"El más pequeño","properties.points.size.max.title":"El más grande","properties.map.title":"Mapa","properties.viewport.area.title":"Ventana predeterminada","properties.viewport.area.auto_default":"Incluir todos los datos","properties.viewport.area.continents":"continentes","properties.viewport.area.continent_af":"África","properties.viewport.area.continent_as":"Asia","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"Norteamérica","properties.viewport.area.continent_sa":"Sudamérica","properties.viewport.area.world":"Mundo","gs.color-dropdown.custom-color":"Color personalizado","properties.colors.reset-colors":"Restablecer colores","properties.colors":"Colores","properties.colors.unsupported":"No hay colores para esta configuración de la visualización","export_unsupported.colors":"La visualización no es compatible con colores personalizados. Para abrir la visualización como un informe, haga clic en Restablecer colores en Configuración -> Colores.","dashboard.bucket.measures_title.bullet._measure":"Medida","dashboard.bucket.measures_title.bullet._metric":"Métrica","dashboard.bucket.secondary_measures_title.bullet._measure":"Medida","dashboard.bucket.secondary_measures_title.bullet._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bullet._measure":"Medida","dashboard.bucket.tertiary_measures_title.bullet._metric":"Métrica","dashboard.bucket.measures_subtitle.bullet":"Principal","dashboard.bucket.secondary_measures_subtitle.bullet":"Destino","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparativas","sorting.disabled.explanation.attribute":"La clasificación no es posible para esta configuración de visualización.","sorting.disabled.explanation.measure._measure":"Debe añadir al menos un atributo para ordenar la visualización. También puede ajustar la posición de los elementos en la sección Medidas para cambiar su posición en la visualización.","sorting.disabled.explanation.measure._metric":"Debe añadir al menos un atributo para ordenar la visualización. También puede ajustar la posición de los elementos en la sección Métricas para cambiar su posición en la visualización.","properties.metrics.title._measure":"Medidas","properties.metrics.title._metric":"Métricas","properties.metrics.position":"Posición","properties.metrics.position.columns":"columnas (predeterminado)","properties.metrics.position.rows":"filas","properties.column.headers.title":"Encabezados de columna","properties.column.headers.position":"Posición","properties.column.headers.position.top":"superior (predeterminado)","properties.column.headers.position.left":"izquierda","dashboard.bucket.table.subtitle.columns":"en columnas","dashboard.bucket.table.subtitle.rows":"en filas","properties.interactions.title":"Interacciones","properties.interactions.drillDown":"Exploración vertical","properties.comparison.title":"Comparación","properties.comparison.calculationType.title":"Calculado como","properties.comparison.calculationType.as.change":"Cambiar","properties.comparison.calculationType.as.ratio":"Ratio","properties.comparison.calculationType.as.difference":"Diferencia","properties.comparison.calculationType.as.changeDifference":"Cambio (diferencia)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calcula el cambio relativo entre valores de métrica principales y secundarios.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calcula el cambio relativo entre valores de medida principales y secundarios.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Cuantifica la parte del valor de métrica principal en el valor de métrica secundario.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Cuantifica la parte del valor de medida principal en el valor de medida secundario.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calcula la diferencia absoluta entre valores de métrica principales y secundarios.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calcula la diferencia absoluta entre valores de medida principales y secundarios.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calcula tanto el cambio relativo como la diferencia absoluta entre valores de métrica principales y secundarios.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calcula tanto el cambio relativo como la diferencia absoluta entre valores de medida principales y secundarios.","properties.comparison.calculationType.tooltip.formula.section":"Fórmula","properties.comparison.calculationType.tooltip.formulaChange.section":"Fórmula (cambio relativo)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Fórmula (diferencia absoluta)","properties.comparison.calculationType.as.change.tooltip.formula":"(Principal - Secundaria) / Secundaria","properties.comparison.calculationType.as.ratio.tooltip.formula":"Principal / Secundaria","properties.comparison.calculationType.as.difference.tooltip.formula":"Principal - Secundaria","properties.comparison.calculationType.tooltip.example.section":"Ejemplo","properties.comparison.calculationType.as.change.tooltip.example":"Cambio interanual de las ventas = (ventas del año actual - ventas del año anterior) / ventas del año anterior","properties.comparison.calculationType.as.ratio.tooltip.example":"Ventas actuales comparadas con una cuota = ventas actuales / cuota","properties.comparison.calculationType.as.difference.tooltip.example":"Diferencia interanual de las ventas = ventas del año actual - ventas del año anterior","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Cambio interanual de las ventas = [(ventas del año actual - ventas del año anterior) / ventas del año anterior] Y [ventas del año actual - ventas del año anterior]","properties.comparison.measureNumber.format.preset.inherit":"Heredado","properties.comparison.measureNumber.format.preset.rounded":"Redondeado","properties.comparison.measureNumber.format.preset.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Porcentaje (redondeado)","properties.comparison.measureNumber.format.preset.percent1":"Porcentaje (1)","properties.comparison.measureNumber.format.preset.percent2":"Porcentaje (2)","properties.comparison.measureNumber.format.template.rounded":"Redondeado","properties.comparison.measureNumber.format.template.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Porcentaje (redondeado)","properties.comparison.measureNumber.format.template.percent1":"Porcentaje (1)","properties.comparison.measureNumber.format.template.percent2":"Porcentaje (2)","properties.comparison.measureNumber.format.template.currency":"Divisa","properties.comparison.measureNumber.format.template.currencyShortened":"Acortado con divisa","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Números grandes acortados","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Números grandes acortados con colores","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Números negativos en rojo","properties.comparison.measureNumber.format.template.financial":"Financiero","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimal (2) sin separador de miles","properties.comparison.measureNumber.format.template.conditionalColors":"Colores condicionales","properties.comparison.measureNumber.format.template.trendSymbols":"Símbolos de tendencia","properties.comparison.measureNumber.format.template.timeFromSeconds":"Tiempo (desde los segundos)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Cero en lugar de valores en blanco","properties.comparison.valueSubSection.title":"Valor","properties.comparison.format.title":"Formato","properties.comparison.subFormat.title":"(Formato)","properties.comparison.indicator.title":"Indicador","properties.comparison.indicator.arrow.title":"Flecha","properties.comparison.indicator.colorConfig.title":"Color","properties.comparison.indicator.colorConfig.equals":"Principal = Secundaria","properties.comparison.indicator.colorConfig.positive":"Principal > Secundaria","properties.comparison.indicator.colorConfig.negative":"Principal < Secundaria","properties.comparison.labelSubSection.title":"Etiqueta","properties.comparison.labelSubSection.positionOnTop.disabled":"Etiquetas no aplicables a la posición de valor superior.","properties.comparison.labelSubSection.conditional.disabled":"Las etiquetas condicionales no se aplican a los cálculos de ratio.","properties.comparison.labelName.title":"Nombre","properties.comparison.labelConditional.title":"Condicional","properties.comparison.labelPositive.title":"Principal > Secundaria","properties.comparison.labelNegative.title":"Principal < Secundaria","properties.comparison.labelEquals.title":"Principal = Secundaria","properties.comparison.position.title":"Posición","properties.comparison.position.top":"parte superior","properties.comparison.position.right":"derecha","properties.comparison.position.left":"izquierda","properties.forecastSliced.title":"Muestra una previsión parcial.","properties.forecastSliced.description":"Los puntos de datos disponibles no cubren todo el período seleccionado.","dashboard.bucket.segment_title.scatter":"Segmentar por","properties.clustering.title":"Grupo","properties.clustering.amount":"Importe","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Mostrando grupos parciales","properties.clustering.amount.partial.description":"Los puntos de datos disponibles no cubren toda la cantidad seleccionada.","properties.clustering.disabled":"La agrupación requiere 2 Métricas y Ver por, sin Segmentar por.","properties.clustering.threshold":"Umbral","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"El umbral es un límite que determina cuándo agrupar los datos. <link>Más información</link>","visualizations.headline.tertiary.title":"Frente a","properties.interactions.alerts":"Alerta","properties.interactions.alerts.tooltip":"Permitir a los usuarios crear alertas para esta visualización en los cuadros de mando.","properties.interactions.scheduledExports":"Exportaciones programadas","properties.interactions.scheduledExports.tooltip":"Permitir a los usuarios crear exportaciones programadas para esta visualización en los cuadros de mando.","properties.advanced.title":"Personalizaciones avanzadas","properties.advanced.chartConfigOverride.noValueLabel":"Aún no hay personalizaciones","properties.advanced.chartConfigOverride.link":"Más información","properties.advanced.chartConfigOverride.editorButton":"Abrir editor","properties.advanced.chartConfigOverride.title":"Personalización avanzada","properties.advanced.chartConfigOverride.snippets.header":"Fragmentos","properties.advanced.chartConfigOverride.button.apply":"Aplicar","properties.advanced.chartConfigOverride.button.cancel":"Cancelar","gs.date.yesterday":"Ayer","notifications.panel.tab.unread":"Sin leer ({count})","notifications.panel.tab.all":"Todo","notifications.panel.markAllAsRead":"Marcar todo como leído","notifications.panel.error.loading":"Notificaciones de errores de carga","notifications.panel.empty.all":"Sin notificaciones","notifications.panel.empty.unread":"Notificaciones no leídas","notifications.panel.unsupported.notification.type":"Tipo de notificación no compatible","notifications.panel.markAsRead":"Marcar como leído","notifications.filters.buttonLabel":"{count, plural, one {# filtro} other {# filtros}}","notifications.filters.dialog.title":"Filtros","notifications.filters.dialog.dateRange":"Intervalo de fechas","notifications.panel.triggers.title":"para {triggeredCount}/{totalCount} artículos","notifications.panel.triggers.dialog.newValue":"Nuevo valor",close:"Cerrar","notifications.panel.triggers.dialog.title":"Activado por","notifications.panel.error.learnMore":"Más información","notifications.panel.error.traceId":"ID de seguimiento","notifications.panel.error.message":"No fue posible procesar la alerta.","notifications.panel.button.label":"Notificaciones","notifications.panel.notifications.list.label":"Notificaciones","notifications.panel.alert.notification.type.label":"Notificación de alerta","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…y {count} más","notifications.panel.download":"Descargar","notifications.panel.expiresOn":"Caduca el {date}","notifications.panel.linkHasExpired":"Enlace caducado","notifications.panel.toast.warning.filesExpired":"<strong>Enlace de descarga expirado</strong> — espere a la próxima exportación o cree una manualmente.","notifications.panel.dashboardLinkHint":"Abra el cuadro de mandos utilizado para esta exportación","notifications.panel.dashboardLink":"De {dashboardTitle}","notifications.panel.downloadFilesHint":"Descargar los archivos exportados","notifications.panel.error.alert.title":"No fue posible procesar la alerta.","notifications.panel.error.schedule.title":"La exportación programada ha fallado.","notifications.panel.error.limitExceeded.message":"No se ha podido enviar su exportación porque su organización ha alcanzado el límite de número máximo de alertas diarias y exportaciones programadas. Póngase en contacto con su administrador."},"fr-FR":{or:"ou","dashboard.bucket.measures_title.column._measure":"Mesures","dashboard.bucket.measures_title.column._metric":"Métriques","dashboard.bucket.measures_title.bar._measure":"Mesures","dashboard.bucket.measures_title.bar._metric":"Métriques","dashboard.bucket.measures_title.line._measure":"Mesures","dashboard.bucket.measures_title.line._metric":"Métriques","dashboard.bucket.measures_title.area._measure":"Mesures","dashboard.bucket.measures_title.area._metric":"Métriques","dashboard.bucket.measures_title.pie._measure":"Mesures","dashboard.bucket.measures_title.pie._metric":"Métriques","dashboard.bucket.measures_title.funnel._measure":"Mesures","dashboard.bucket.measures_title.funnel._metric":"Métriques","dashboard.bucket.measures_title.pyramid._measure":"Mesures","dashboard.bucket.measures_title.pyramid._metric":"Métriques","dashboard.bucket.measures_title.treemap._measure":"Mesures","dashboard.bucket.measures_title.treemap._metric":"Métriques","dashboard.bucket.measures_title.donut._measure":"Mesures","dashboard.bucket.measures_title.donut._metric":"Métriques","dashboard.bucket.measures_title.heatmap._measure":"Mesure","dashboard.bucket.measures_title.heatmap._metric":"Métrique","dashboard.bucket.measures_title.headline._measure":"Mesure","dashboard.bucket.measures_title.headline._metric":"Métrique","dashboard.bucket.measures_subtitle.headline":"principal","dashboard.bucket.secondary_measures_title.headline._measure":"Mesure","dashboard.bucket.secondary_measures_title.headline._metric":"Métrique","dashboard.bucket.secondary_measures_subtitle.headline":"secondaire","dashboard.bucket.measures_title.scatter._measure":"Mesure","dashboard.bucket.measures_title.scatter._metric":"Métrique","dashboard.bucket.secondary_measures_title.scatter._measure":"Mesure","dashboard.bucket.secondary_measures_title.scatter._metric":"Métrique","dashboard.bucket.measures_subtitle.scatter":"Axe X","dashboard.bucket.secondary_measures_subtitle.scatter":"Axe Y","dashboard.bucket.attribute_title.scatter":"Afficher par","dashboard.bucket.measures_title.combo._measure":"Mesures","dashboard.bucket.measures_title.combo._metric":"Métriques","dashboard.bucket.measures_subtitle.combo":"Colonne","dashboard.bucket.secondary_measures_title.combo._measure":"Mesures","dashboard.bucket.secondary_measures_title.combo._metric":"Métriques","dashboard.bucket.secondary_measures_subtitle.combo":"Ligne","dashboard.bucket.measures_title.xirr._measure":"Mesure","dashboard.bucket.measures_title.xirr._metric":"Métrique","dashboard.bucket.measures_title.waterfall._measure":"Mesures","dashboard.bucket.measures_title.waterfall._metric":"Métriques","dashboard.bucket.attribute_title.xirr":"Attribut de date","dashboard.bucket.attribute_from_title.sankey":"Attribut","dashboard.bucket.attribute_from_subtitle.sankey":"de","dashboard.bucket.attribute_to_title.sankey":"Attribut","dashboard.bucket.attribute_to_subtitle.sankey":"à","dashboard.bucket.attribute_from_title.dependencywheel":"Attribut","dashboard.bucket.attribute_from_subtitle.dependencywheel":"de","dashboard.bucket.attribute_to_title.dependencywheel":"Attribut","dashboard.bucket.attribute_to_subtitle.dependencywheel":"à","dashboard.bucket.combo.subtitle.column":"en tant que colonnes","dashboard.bucket.combo.subtitle.line":"en tant que courbes","dashboard.bucket.combo.subtitle.area":"en tant qu'aires","dashboard.bucket.measures_title.bubble._measure":"Mesure","dashboard.bucket.measures_title.bubble._metric":"Métrique","dashboard.bucket.secondary_measures_title.bubble._measure":"Mesure","dashboard.bucket.secondary_measures_title.bubble._metric":"Métrique","dashboard.bucket.tertiary_measures_title.bubble._measure":"Mesure","dashboard.bucket.tertiary_measures_title.bubble._metric":"Métrique","dashboard.bucket.measures_subtitle.bubble":"Axe X","dashboard.bucket.secondary_measures_subtitle.bubble":"Axe Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Taille","dashboard.bucket.location_title.pushpin":"Localisation","dashboard.bucket.size_title.pushpin._measure":"Mesure","dashboard.bucket.size_title.pushpin._metric":"Métrique","dashboard.bucket.size_subtitle.pushpin":"Taille","dashboard.bucket.color_title.pushpin._measure":"Mesure","dashboard.bucket.color_title.pushpin._metric":"Métrique","dashboard.bucket.color_subtitle.pushpin":"Couleur","dashboard.bucket.view_title.bubble":"Afficher par","dashboard.bucket.view_title.pie":"Afficher par","dashboard.bucket.view_title.treemap":"Afficher par","dashboard.bucket.view_title.donut":"Afficher par","dashboard.bucket.view_title.funnel":"Afficher par","dashboard.bucket.view_title.pyramid":"Afficher par","dashboard.bucket.view_title.column":"Afficher par","dashboard.bucket.view_title.bar":"Afficher par","dashboard.bucket.view_title.area":"Afficher par","dashboard.bucket.view_title.bullet":"Afficher par","dashboard.bucket.view_title.waterfall":"Afficher par","dashboard.bucket.view_title.heatmap":"Lignes","dashboard.bucket.trend_title.line":"Analyser la tendance par","dashboard.bucket.view_title.combo":"Afficher par","dashboard.bucket.stack_title.column":"Empiler par","dashboard.bucket.stack_title.bar":"Empiler par","dashboard.bucket.stack_title.area":"Empiler par","dashboard.bucket.stack_title.heatmap":"Colonnes","dashboard.bucket.segment_title.line":"Segmenter par","dashboard.bucket.segment_title.treemap":"Segmenter par","dashboard.bucket.segment_title.pushpin":"Segmenter par","dashboard.bucket.metric_segment_by_warning._measure":"Pour ajouter une mesure supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'segmenter par'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Pour ajouter une métrique supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'segmenter par'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Pour ajouter une mesure supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'empiler par'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Pour ajouter une métrique supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'empiler par'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Pour ajouter une mesure supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'afficher par'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Pour ajouter une métrique supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'afficher par'</span>'","dashboard.bucket.category_view_by_warning._measure":"Pour visualiser par un autre attribut, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_view_by_warning._metric":"Pour visualiser par un autre attribut, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.view_stack_by_warning":"Pour ajouter un attribut supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'empiler par'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Pour empiler par, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_stack_by_warning._metric":"Pour empiler par, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.stack_view_by_warning":"Pour empiler par, la visualisation ne peut avoir qu'un seul attribut dans la vue par","dashboard.bucket.measure_stack_by_warning._measure":"Pour empiler par un attribut, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.measure_stack_by_warning._metric":"Pour empiler par un attribut, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.category_columns_warning._measure":"Impossible d'ajouter des colonnes : la limite est de {oldLimit} mesures et {oldRowsLimit} lignes. Respectez les limites pour en ajouter d'autres","dashboard.bucket.category_columns_warning._metric":"Impossible d'ajouter des colonnes : la limite est de {oldLimit} métriques et {oldRowsLimit} lignes. Respectez les limites pour en ajouter d'autres","dashboard.bucket.category_measures_rows_warning":"Pour ajouter jusqu'à {limit} éléments supplémentaires, retirez tous les éléments de la section des colonnes.","dashboard.bucket.category_category_by_warning._measure":"Pour visualiser par, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_category_by_warning._metric":"Pour visualiser par, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.category_segment_by_warning._measure":"Pour segmenter par, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_segment_by_warning._metric":"Pour segmenter par, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.measures_title.table._measure":"Mesures","dashboard.bucket.measures_title.table._metric":"Métriques","dashboard.bucket.measures_title.sankey._measure":"MESURE","dashboard.bucket.measures_title.sankey._metric":"MÉTRIQUE","dashboard.bucket.measures_title.dependencywheel._measure":"MESURE","dashboard.bucket.measures_title.dependencywheel._metric":"MÉTRIQUE","dashboard.bucket.attribute_title.table":"Lignes","dashboard.bucket.columns_title.table":"Colonnes","dashboard.bucket.attribute_title.repeater":"Lignes","dashboard.bucket.view_title.repeater":"Afficher par","dashboard.bucket.columns_title.repeater":"Colonnes","dashboard.error.missing_primary_bucket_item.heading._measure":"Aucune mesure principale dans votre visualisation","dashboard.error.missing_primary_bucket_item.heading._metric":"Aucune métrique principale dans votre visualisation","dashboard.error.missing_primary_bucket_item.text._measure":"Ajoutez une mesure principale à votre visualisation ou passez à la vue tableau.\nUne fois fait, vous pourrez l'enregistrer.","dashboard.error.missing_primary_bucket_item.text._metric":"Ajoutez une métrique principale à votre visualisation ou passez à la vue tableau. \nUne fois fait, vous pourrez l'enregistrer.","dashboard.xirr.error.invalid_buckets.heading":"Configuration incomplète","dashboard.xirr.error.invalid_buckets.text._measure":"Vérifiez que vous avez sélectionné une mesure et un attribut de date","dashboard.xirr.error.invalid_buckets.text._metric":"Vérifiez que vous avez sélectionné une métrique et un attribut de date","properties.unsupported":"Cette visualisation ne prend pas en charge la configuration","properties.config.not_applicable":"Le panneau de configuration n'est pas applicable pour cette configuration de la visualisation","properties.not_applicable":"Cette propriété n'est pas applicable pour cette configuration de la visualisation","properties.auto_placeholder":"auto","properties.auto_default":"auto (par défaut)","properties.legend.title":"Légende","properties.legend.position":"Position","properties.total.title":"Total","properties.total.name":"Nom","properties.total.tooltip":"Ajouter la somme de toutes les valeurs sous forme de colonne à la fin.","properties.total.measures.tooltip":"Désactivez les options « est un total » dans la métrique pour ajouter la somme de toutes les valeurs sous forme de colonne à la fin.","properties.color.total":"Total","properties.color.positive":"Positive","properties.color.negative":"Négative","properties.canvas.title":"Canevas","properties.canvas.gridline":"Quadrillage","properties.canvas.labels.percentages":"Pourcentage","properties.canvas.labels.percentages.info":"Afficher les pourcentages sur chaque niveau, avec le niveau supérieur à 100 % et les autres niveaux à une fraction de cette valeur.","properties.canvas.labels.percentages.disabled":"Les pourcentages sont masqués, car certains libellés de données sont masqués.","properties.canvas.continuousLine.label":"Ligne continue","properties.canvas.continuousLine.tooltip":"Tracer une ligne entre deux points avec des valeurs manquantes.","properties.canvas.dataLabels":"Étiquettes des données","properties.canvas.dataLabels.auto":"auto (par défaut)","properties.canvas.dataLabels.show":"afficher","properties.canvas.dataLabels.hide":"masquer","properties.canvas.rowHeight":"Hauteur de ligne","properties.canvas.rowHeight.small":"petite","properties.canvas.rowHeight.medium":"moyenne","properties.canvas.rowHeight.large":"grande","properties.canvas.verticalAlign":"Alignement vertical","properties.canvas.verticalAlign.top":"haut","properties.canvas.verticalAlign.middle":"milieu","properties.canvas.verticalAlign.bottom":"bas","properties.canvas.textWrapping":"Habillage du texte","properties.canvas.textWrapping.clip":"clip","properties.canvas.textWrapping.wrap":"ajuster","properties.canvas.image":"Image","properties.canvas.image.fit":"ajuster","properties.canvas.image.fill":"remplir","properties.forecast.title":"Prévisions","properties.forecastDisabled.title":"Les prévisions ne sont pas disponibles pour cette combinaison de compartiments","properties.forecastPeriod.title":"Période","properties.forecastPeriod.placeholder":"Période","properties.forecastSeasonal.title":"Saisonnalité","properties.forecastConfidence.title":"Fiabilité","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Total de libellés","properties.canvas.totalLabels.auto":"auto (par défaut)","properties.canvas.totalLabels.show":"afficher","properties.canvas.totalLabels.hide":"masquer","properties.canvas.dataPoints":"Points de données","properties.canvas.dataPoints.auto":"auto (par défaut)","properties.canvas.dataPoints.show":"afficher","properties.canvas.dataPoints.hide":"masquer","properties.yaxis.title":"Axe Y","properties.axis.labels":"libellés","properties.axis.rotation":"Rotation","properties.axis.format":"Format","properties.axis.format.inherit":"hériter","properties.axis.format.info.inherit._measure":"Le format est hérité de la première mesure de la visualisation.","properties.axis.format.info.inherit._metric":"Le format est hérité de la première métrique de la visualisation.","properties.axis.name":"nom","properties.axis.name.position":"Position","properties.axis.name.position.left":"gauche","properties.axis.name.position.center":"centre","properties.axis.name.position.right":"droite","properties.axis.name.position.top":"haut","properties.axis.name.position.middle":"milieu","properties.axis.name.position.bottom":"bas","properties.axis.min":"Min","properties.axis.min.warning":"La valeur min ne peut pas être supérieure à la valeur max","properties.axis.max":"Max","properties.axis.max.warning":"La valeur max ne peut pas être inférieure à la valeur min","properties.xaxis.title":"Axe X","properties.axis.scale":"échelle","properties.axis.left":"Gauche","properties.axis.right":"Droite","properties.axis.top":"Haut","properties.axis.bottom":"Bas","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"haut","properties.legend.position.down":"bas","properties.legend.position.right":"droite","properties.legend.position.left":"gauche","properties.orientation.title":"Orientation","properties.orientation.horizontal":"Horizontale (par défaut)","properties.orientation.vertical":"Vertical","properties.points.title":"Points","properties.points.groupNearbyPoints":"Grouper les points proches","properties.points.size.title":"Taille de point","properties.points.size.extra_small":"x 0,5","properties.points.size.small":"x 0,75","properties.points.size.normal":"normale","properties.points.size.large":"x 1,25","properties.points.size.extra_large":"x 1,5","properties.points.size.min.title":"La plus petite","properties.points.size.max.title":"La plus grande","properties.map.title":"Carte","properties.viewport.area.title":"Affichage par défaut","properties.viewport.area.auto_default":"Inclure toutes les données","properties.viewport.area.continents":"continents","properties.viewport.area.continent_af":"Afrique","properties.viewport.area.continent_as":"Asie","properties.viewport.area.continent_au":"Australie","properties.viewport.area.continent_eu":"Europe","properties.viewport.area.continent_na":"Amérique (Nord)","properties.viewport.area.continent_sa":"Amérique (Sud)","properties.viewport.area.world":"Monde","gs.color-dropdown.custom-color":"Couleur personnalisée","properties.colors.reset-colors":"Réinitialiser les couleurs","properties.colors":"Couleurs","properties.colors.unsupported":"Il n'y a pas de couleurs pour cette configuration de visualisation.","export_unsupported.colors":"La visualisation n'est pas compatible avec les couleurs personnalisées. Pour ouvrir la visualisation sous forme de rapport, cliquez sur Réinitialiser les couleurs dans Configuration -> Couleurs.","dashboard.bucket.measures_title.bullet._measure":"Mesure","dashboard.bucket.measures_title.bullet._metric":"Métrique","dashboard.bucket.secondary_measures_title.bullet._measure":"Mesure","dashboard.bucket.secondary_measures_title.bullet._metric":"Métrique","dashboard.bucket.tertiary_measures_title.bullet._measure":"Mesure","dashboard.bucket.tertiary_measures_title.bullet._metric":"Métrique","dashboard.bucket.measures_subtitle.bullet":"Principal","dashboard.bucket.secondary_measures_subtitle.bullet":"Objectif","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparaison","sorting.disabled.explanation.attribute":"Il n'est pas possible de trier cette configuration de visualisation.","sorting.disabled.explanation.measure._measure":"Vous devez ajouter au moins un attribut pour trier la visualisation. Vous pouvez aussi ajuster la position des éléments dans la section des Mesures pour modifier leur emplacement dans la visualisation.","sorting.disabled.explanation.measure._metric":"Vous devez ajouter au moins un attribut pour trier la visualisation. Vous pouvez aussi ajuster la position des éléments dans la section des Métriques pour modifier leur emplacement dans la visualisation.","properties.metrics.title._measure":"Mesures","properties.metrics.title._metric":"Métriques","properties.metrics.position":"Position","properties.metrics.position.columns":"colonnes (par défaut)","properties.metrics.position.rows":"lignes","properties.column.headers.title":"En-têtes de colonne","properties.column.headers.position":"Position","properties.column.headers.position.top":"en haut (par défaut)","properties.column.headers.position.left":"gauche","dashboard.bucket.table.subtitle.columns":"en colonnes","dashboard.bucket.table.subtitle.rows":"en rangées","properties.interactions.title":"Interactions","properties.interactions.drillDown":"Exploration descendante","properties.comparison.title":"Comparaison","properties.comparison.calculationType.title":"Calculé en tant que","properties.comparison.calculationType.as.change":"Variation","properties.comparison.calculationType.as.ratio":"Ratio","properties.comparison.calculationType.as.difference":"Différence","properties.comparison.calculationType.as.changeDifference":"Variation (différence)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calcule la variation relative entre les valeurs métriques primaires et secondaires.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calcule la variation relative entre les valeurs de mesure primaires et secondaires.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifie la part de la valeur métrique primaire dans la valeur métrique secondaire.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifie la part de la valeur de mesure primaire dans la valeur de mesure secondaire.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calcule la différence absolue entre les valeurs métriques primaires et secondaires.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calcule la différence absolue entre les valeurs de mesure primaires et secondaires.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calcule à la fois la variation relative et la différence absolue entre les valeurs métriques primaires et secondaires.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calcule à la fois la variation relative et la différence absolue entre les valeurs de mesure primaires et secondaires.","properties.comparison.calculationType.tooltip.formula.section":"Formule","properties.comparison.calculationType.tooltip.formulaChange.section":"Formule (variation relative)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formule (différence absolue)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primaire-Secondaire) / Secondaire","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primaire / Secondaire","properties.comparison.calculationType.as.difference.tooltip.formula":"Primaire - Secondaire","properties.comparison.calculationType.tooltip.example.section":"Exemple","properties.comparison.calculationType.as.change.tooltip.example":"Variation des ventes d'une année sur l'autre = (ventes de l'année en cours - ventes de l'année précédente) / ventes de l'année précédente ","properties.comparison.calculationType.as.ratio.tooltip.example":"Ventes actuelles par rapport à un quota = ventes actuelles / quota","properties.comparison.calculationType.as.difference.tooltip.example":"Différence des ventes d'une année sur l'autre = ventes de l'année en cours - ventes de l'année précédente","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Variation des ventes d'une année sur l'autre = [(ventes de l'année en cours - ventes de l'année précédente) / ventes de l'année précédente] ET [ventes de l'année en cours - ventes de l'année précédente]","properties.comparison.measureNumber.format.preset.inherit":"Hériter","properties.comparison.measureNumber.format.preset.rounded":"Arrondies","properties.comparison.measureNumber.format.preset.decimal1":"Décimale (1)","properties.comparison.measureNumber.format.preset.decimal2":"Décimale (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Pourcentage (arrondi)","properties.comparison.measureNumber.format.preset.percent1":"Pourcentage (1)","properties.comparison.measureNumber.format.preset.percent2":"Pourcentage (2)","properties.comparison.measureNumber.format.template.rounded":"Arrondies","properties.comparison.measureNumber.format.template.decimal1":"Décimale (1)","properties.comparison.measureNumber.format.template.decimal2":"Décimale (2)","properties.comparison.measureNumber.format.template.percentRounded":"Pourcentage (arrondi)","properties.comparison.measureNumber.format.template.percent1":"Pourcentage (1)","properties.comparison.measureNumber.format.template.percent2":"Pourcentage (2)","properties.comparison.measureNumber.format.template.currency":"Devise","properties.comparison.measureNumber.format.template.currencyShortened":"Devise abrégée","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Grands nombres abrégés","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Grands nombres abrégés avec des couleurs","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Nombres négatifs en rouge","properties.comparison.measureNumber.format.template.financial":"Finances","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Décimales (2) sans séparateur des milliers","properties.comparison.measureNumber.format.template.conditionalColors":"Couleurs conditionnelles","properties.comparison.measureNumber.format.template.trendSymbols":"Symboles de tendance","properties.comparison.measureNumber.format.template.timeFromSeconds":"Temps (avec les secondes)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zéro à la place d'une valeur nulle","properties.comparison.valueSubSection.title":"Valeur","properties.comparison.format.title":"Format","properties.comparison.subFormat.title":"(Format)","properties.comparison.indicator.title":"Indicateur","properties.comparison.indicator.arrow.title":"Flèche","properties.comparison.indicator.colorConfig.title":"Couleur","properties.comparison.indicator.colorConfig.equals":"Primaire = Secondaire","properties.comparison.indicator.colorConfig.positive":"Primaire > Secondaire","properties.comparison.indicator.colorConfig.negative":"Primaire < Secondaire","properties.comparison.labelSubSection.title":"Libellé","properties.comparison.labelSubSection.positionOnTop.disabled":"Les étiquettes ne s'appliquent pas à la position du haut.","properties.comparison.labelSubSection.conditional.disabled":"Les étiquettes conditionnelles ne s'appliquent pas au calcul des ratios.","properties.comparison.labelName.title":"Nom","properties.comparison.labelConditional.title":"Conditionnelle","properties.comparison.labelPositive.title":"Primaire > Secondaire","properties.comparison.labelNegative.title":"Primaire < Secondaire","properties.comparison.labelEquals.title":"Primaire = Secondaire","properties.comparison.position.title":"Position","properties.comparison.position.top":"haut","properties.comparison.position.right":"droite","properties.comparison.position.left":"gauche","properties.forecastSliced.title":"Affichage des prévisions partielles.","properties.forecastSliced.description":"Les données disponibles ne couvrent pas la totalité de la période sélectionnée.","dashboard.bucket.segment_title.scatter":"Segmenter par","properties.clustering.title":"Cluster","properties.clustering.amount":"Montant","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Afficher les clusters partiels","properties.clustering.amount.partial.description":"Les points de données disponibles ne couvrent pas la totalité du montant sélectionné.","properties.clustering.disabled":"Le clustering nécessite 2 métriques et une vue par, sans segmentation par.","properties.clustering.threshold":"Seuil","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"Le seuil est une limite qui détermine quand regrouper les données. <link>En savoir plus</link>","visualizations.headline.tertiary.title":"Par rapport à","properties.interactions.alerts":"Alerte","properties.interactions.alerts.tooltip":"Permet aux utilisateurs de créer des alertes pour cette visualisation dans les tableaux de bord.","properties.interactions.scheduledExports":"Exportations programmées","properties.interactions.scheduledExports.tooltip":"Permet aux utilisateurs de créer des exportations programmées pour cette visualisation dans les tableaux de bord.","properties.advanced.title":"Personnalisations avancées","properties.advanced.chartConfigOverride.noValueLabel":"Pas encore de personnalisation.","properties.advanced.chartConfigOverride.link":"En savoir plus","properties.advanced.chartConfigOverride.editorButton":"Ouvrir l'éditeur","properties.advanced.chartConfigOverride.title":"Personnalisation avancée","properties.advanced.chartConfigOverride.snippets.header":"Snippets","properties.advanced.chartConfigOverride.button.apply":"Appliquer","properties.advanced.chartConfigOverride.button.cancel":"Annuler","gs.date.yesterday":"Hier","notifications.panel.tab.unread":"Non lu ({count})","notifications.panel.tab.all":"Tout","notifications.panel.markAllAsRead":"Marquer tous les textes comme lus","notifications.panel.error.loading":"Erreurs lors du chargement des notifications","notifications.panel.empty.all":"Aucune notification","notifications.panel.empty.unread":"Aucune notification non lue","notifications.panel.unsupported.notification.type":"Type de notification non pris en charge","notifications.panel.markAsRead":"Marquer le texte comme lu","notifications.filters.buttonLabel":"{count, plural, one {# filtre} other {# filtres}}","notifications.filters.dialog.title":"Filtres","notifications.filters.dialog.dateRange":"Plage de dates","notifications.panel.triggers.title":"pour les articles {triggeredCount}/{totalCount}","notifications.panel.triggers.dialog.newValue":"Nouvelle valeur",close:"Fermer","notifications.panel.triggers.dialog.title":"Déclenché pour","notifications.panel.error.learnMore":"En savoir plus","notifications.panel.error.traceId":"ID Trace","notifications.panel.error.message":"L'alerte n'a pas pu être traitée.","notifications.panel.button.label":"Notifications","notifications.panel.notifications.list.label":"Notifications","notifications.panel.alert.notification.type.label":"Notification d'alerte","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…et {count} de plus","notifications.panel.download":"Télécharger","notifications.panel.expiresOn":"Expire le {date}","notifications.panel.linkHasExpired":"Le lien a expiré","notifications.panel.toast.warning.filesExpired":"<strong>Lien de téléchargement expiré</strong> — attendez la prochaine exportation ou créez-en une manuellement.","notifications.panel.dashboardLinkHint":"Ouvrir le tableau de bord utilisé pour cette exportation","notifications.panel.dashboardLink":"Depuis {dashboardTitle}","notifications.panel.downloadFilesHint":"Télécharger les fichiers exportés","notifications.panel.error.alert.title":"L'alerte n'a pas pu être traitée.","notifications.panel.error.schedule.title":"L'exportation programmée a échoué.","notifications.panel.error.limitExceeded.message":"Votre exportation n'a pas pu être envoyée, car votre organisation a atteint la limite du nombre maximum d'alertes quotidiennes et d'exportations programmées. Veuillez contacter votre administrateur."},"ja-JP":{or:"または","dashboard.bucket.measures_title.column._measure":"メジャー","dashboard.bucket.measures_title.column._metric":"メトリック","dashboard.bucket.measures_title.bar._measure":"メジャー","dashboard.bucket.measures_title.bar._metric":"メトリック","dashboard.bucket.measures_title.line._measure":"メジャー","dashboard.bucket.measures_title.line._metric":"メトリック","dashboard.bucket.measures_title.area._measure":"メジャー","dashboard.bucket.measures_title.area._metric":"メトリック","dashboard.bucket.measures_title.pie._measure":"メジャー","dashboard.bucket.measures_title.pie._metric":"メトリック","dashboard.bucket.measures_title.funnel._measure":"メジャー","dashboard.bucket.measures_title.funnel._metric":"メトリック","dashboard.bucket.measures_title.pyramid._measure":"メジャー","dashboard.bucket.measures_title.pyramid._metric":"メトリック","dashboard.bucket.measures_title.treemap._measure":"メジャー","dashboard.bucket.measures_title.treemap._metric":"メトリック","dashboard.bucket.measures_title.donut._measure":"メジャー","dashboard.bucket.measures_title.donut._metric":"メトリック","dashboard.bucket.measures_title.heatmap._measure":"メジャー","dashboard.bucket.measures_title.heatmap._metric":"メトリック","dashboard.bucket.measures_title.headline._measure":"メジャー","dashboard.bucket.measures_title.headline._metric":"メトリック","dashboard.bucket.measures_subtitle.headline":"プライマリ","dashboard.bucket.secondary_measures_title.headline._measure":"メジャー","dashboard.bucket.secondary_measures_title.headline._metric":"メトリック","dashboard.bucket.secondary_measures_subtitle.headline":"セカンダリ","dashboard.bucket.measures_title.scatter._measure":"メジャー","dashboard.bucket.measures_title.scatter._metric":"メトリック","dashboard.bucket.secondary_measures_title.scatter._measure":"メジャー","dashboard.bucket.secondary_measures_title.scatter._metric":"メトリック","dashboard.bucket.measures_subtitle.scatter":"X軸","dashboard.bucket.secondary_measures_subtitle.scatter":"Y軸","dashboard.bucket.attribute_title.scatter":"表示","dashboard.bucket.measures_title.combo._measure":"メジャー","dashboard.bucket.measures_title.combo._metric":"メトリック","dashboard.bucket.measures_subtitle.combo":"列","dashboard.bucket.secondary_measures_title.combo._measure":"メジャー","dashboard.bucket.secondary_measures_title.combo._metric":"メトリック","dashboard.bucket.secondary_measures_subtitle.combo":"線","dashboard.bucket.measures_title.xirr._measure":"メジャー","dashboard.bucket.measures_title.xirr._metric":"メトリック","dashboard.bucket.measures_title.waterfall._measure":"メジャー","dashboard.bucket.measures_title.waterfall._metric":"メトリック","dashboard.bucket.attribute_title.xirr":"日付アトリビュート","dashboard.bucket.attribute_from_title.sankey":"アトリビュート","dashboard.bucket.attribute_from_subtitle.sankey":"始点","dashboard.bucket.attribute_to_title.sankey":"アトリビュート","dashboard.bucket.attribute_to_subtitle.sankey":"宛先","dashboard.bucket.attribute_from_title.dependencywheel":"アトリビュート","dashboard.bucket.attribute_from_subtitle.dependencywheel":"始点","dashboard.bucket.attribute_to_title.dependencywheel":"アトリビュート","dashboard.bucket.attribute_to_subtitle.dependencywheel":"宛先","dashboard.bucket.combo.subtitle.column":"列として","dashboard.bucket.combo.subtitle.line":"線として","dashboard.bucket.combo.subtitle.area":"面として","dashboard.bucket.measures_title.bubble._measure":"メジャー","dashboard.bucket.measures_title.bubble._metric":"メトリック","dashboard.bucket.secondary_measures_title.bubble._measure":"メジャー","dashboard.bucket.secondary_measures_title.bubble._metric":"メトリック","dashboard.bucket.tertiary_measures_title.bubble._measure":"メジャー","dashboard.bucket.tertiary_measures_title.bubble._metric":"メトリック","dashboard.bucket.measures_subtitle.bubble":"X軸","dashboard.bucket.secondary_measures_subtitle.bubble":"Y軸","dashboard.bucket.tertiary_measures_subtitle.bubble":"サイズ","dashboard.bucket.location_title.pushpin":"位置情報","dashboard.bucket.size_title.pushpin._measure":"メジャー","dashboard.bucket.size_title.pushpin._metric":"メトリック","dashboard.bucket.size_subtitle.pushpin":"サイズ","dashboard.bucket.color_title.pushpin._measure":"メジャー","dashboard.bucket.color_title.pushpin._metric":"メトリック","dashboard.bucket.color_subtitle.pushpin":"色","dashboard.bucket.view_title.bubble":"表示","dashboard.bucket.view_title.pie":"表示","dashboard.bucket.view_title.treemap":"表示","dashboard.bucket.view_title.donut":"表示","dashboard.bucket.view_title.funnel":"表示","dashboard.bucket.view_title.pyramid":"表示","dashboard.bucket.view_title.column":"表示","dashboard.bucket.view_title.bar":"表示","dashboard.bucket.view_title.area":"表示","dashboard.bucket.view_title.bullet":"表示","dashboard.bucket.view_title.waterfall":"表示","dashboard.bucket.view_title.heatmap":"行","dashboard.bucket.trend_title.line":"トレンド","dashboard.bucket.view_title.combo":"表示","dashboard.bucket.stack_title.column":"積み上げ","dashboard.bucket.stack_title.bar":"積み上げ","dashboard.bucket.stack_title.area":"積み上げ","dashboard.bucket.stack_title.heatmap":"列","dashboard.bucket.segment_title.line":"セグメント","dashboard.bucket.segment_title.treemap":"セグメント","dashboard.bucket.segment_title.pushpin":"セグメント","dashboard.bucket.metric_segment_by_warning._measure":"メジャーを更に追加する場合は、'<span class=\"stack-by\">'セグメント'</span>'から{icons}を削除してください。","dashboard.bucket.metric_segment_by_warning._metric":"メトリックを更に追加する場合は、'<span class=\"stack-by\">'セグメント'</span>'から{icons}を削除してください。","dashboard.bucket.metric_stack_by_warning._measure":"メジャーを更に追加する場合は、'<span class=\"stack-by\">'積み上げ'</span>'から{icons}を削除してください。","dashboard.bucket.metric_stack_by_warning._metric":"メトリックを更に追加する場合は、'<span class=\"stack-by\">'積み上げ'</span>'から{icons}を削除してください。","dashboard.bucket.metric_view_by_warning._measure":"メジャーを更に追加する場合は、'<span class=\"stack-by\">'表示'</span>'から{icons}を削除します。","dashboard.bucket.metric_view_by_warning._metric":"メトリックを更に追加する場合は、'<span class=\"stack-by\">'表示'</span>'から{icons}を削除します。","dashboard.bucket.category_view_by_warning._measure":"別のアトリビュートで表示するには、ビジュアライゼーションは 1 つのメジャーしか使えません","dashboard.bucket.category_view_by_warning._metric":"別の属性で表示するには、ビジュアライゼーションは1つのメトリックしか使えません","dashboard.bucket.view_stack_by_warning":"アトリビュートを追加するには、'<span class=\"stack-by\">'積み上げ'</span>'から{icons}を削除します。","dashboard.bucket.category_stack_by_warning._measure":"スタックするために、ビジュアライゼーションは1つのメジャーしか使えません","dashboard.bucket.category_stack_by_warning._metric":"スタックするために、ビジュアライゼーションは1つのメトリックしか使えません","dashboard.bucket.stack_view_by_warning":"スタックするために、ビジュアライゼーションは以下の方法で1つのアトリビュートのみを表示できます","dashboard.bucket.measure_stack_by_warning._measure":"アトリビュートでスタックする場合、ビジュアライゼーションは 1 つのメジャーしか使えません","dashboard.bucket.measure_stack_by_warning._metric":"アトリビュートでスタックするには、ビジュアライゼーションは1つのメトリックしか使えません","dashboard.bucket.category_columns_warning._measure":"列を追加できません：制限は {oldLimit} メジャーと {oldRowsLimit} 行です。さらに追加するには制限に従ってください","dashboard.bucket.category_columns_warning._metric":"列を追加できません。制限は {oldLimit} メトリックスと {oldRowsLimit} 行です。さらに追加するには制限に従ってください","dashboard.bucket.category_measures_rows_warning":"{limit} まで追加するには、列セクションから全ての項目を削除してください","dashboard.bucket.category_category_by_warning._measure":"ビジュアライゼーションには 1 つのメジャーしか使えません","dashboard.bucket.category_category_by_warning._metric":"ビジュアライゼーションには1つのメトリックしか使えません","dashboard.bucket.category_segment_by_warning._measure":"ビジュアライゼーションによってセグメント化する場合、1 つのメジャーしか使えません","dashboard.bucket.category_segment_by_warning._metric":"セグメント化するために、ビジュアライゼーションは1つのメトリックしか使えません","dashboard.bucket.measures_title.table._measure":"メジャー","dashboard.bucket.measures_title.table._metric":"メトリック","dashboard.bucket.measures_title.sankey._measure":"測定値","dashboard.bucket.measures_title.sankey._metric":"メトリック","dashboard.bucket.measures_title.dependencywheel._measure":"測定値","dashboard.bucket.measures_title.dependencywheel._metric":"メトリック","dashboard.bucket.attribute_title.table":"行","dashboard.bucket.columns_title.table":"列","dashboard.bucket.attribute_title.repeater":"行","dashboard.bucket.view_title.repeater":"表示","dashboard.bucket.columns_title.repeater":"列","dashboard.error.missing_primary_bucket_item.heading._measure":"ビジュアライゼーションに主要なメジャーがありません","dashboard.error.missing_primary_bucket_item.heading._metric":"ビジュアライゼーションに主要なメトリックがありません","dashboard.error.missing_primary_bucket_item.text._measure":"ビジュアライゼーションに主要なメジャーを追加するか、表に切り替えます。\n完了したら、保存できます。","dashboard.error.missing_primary_bucket_item.text._metric":"ビジュアライゼーションに主要なメトリックを追加するか、表に切り替えます。\n完了したら、保存できます。","dashboard.xirr.error.invalid_buckets.heading":"未完成の設定","dashboard.xirr.error.invalid_buckets.text._measure":"一つのメジャーと一つの日付アトリビュートを選択してください。","dashboard.xirr.error.invalid_buckets.text._metric":"一つのメトリックと一つの日付アトリビュートを選択してください。","properties.unsupported":"このインサイトでは 設定はありません","properties.config.not_applicable":"設定パネルは、ビジュアライゼーションのこの設定には適用されません","properties.not_applicable":"ビジュアライゼーションのこの設定では、プロパティは適用されません","properties.auto_placeholder":"自動","properties.auto_default":"自動 (規定値)","properties.legend.title":"凡例","properties.legend.position":"位置","properties.total.title":"合計","properties.total.name":"名前","properties.total.tooltip":"列の最後にすべての値の和を追加します。","properties.total.measures.tooltip":"メトリックの「合計」オプションを無効にして、すべての値の合計を列として最後に追加します。","properties.color.total":"合計","properties.color.positive":"正","properties.color.negative":"負","properties.canvas.title":"キャンバス","properties.canvas.gridline":"グリッド線","properties.canvas.labels.percentages":"パーセント","properties.canvas.labels.percentages.info":"最上位のスライスを100%としてその他のスライスをその値の割合として各スライスにパーセントを表示します。","properties.canvas.labels.percentages.disabled":"パーセントは隠しデータラベルにより表示されません。","properties.canvas.continuousLine.label":"実線","properties.canvas.continuousLine.tooltip":"不明な値の点の間に線を描きます。","properties.canvas.dataLabels":"データラベル","properties.canvas.dataLabels.auto":"自動 (規定値)","properties.canvas.dataLabels.show":"表示","properties.canvas.dataLabels.hide":"隠す","properties.canvas.rowHeight":"行の高さ","properties.canvas.rowHeight.small":"小","properties.canvas.rowHeight.medium":"中","properties.canvas.rowHeight.large":"大","properties.canvas.verticalAlign":"垂直方向の整列","properties.canvas.verticalAlign.top":"上","properties.canvas.verticalAlign.middle":"中間","properties.canvas.verticalAlign.bottom":"下","properties.canvas.textWrapping":"テキストの折り返し","properties.canvas.textWrapping.clip":"クリップ","properties.canvas.textWrapping.wrap":"折り返し","properties.canvas.image":"画像","properties.canvas.image.fit":"合わせる","properties.canvas.image.fill":"フィル","properties.forecast.title":"予測","properties.forecastDisabled.title":"このバケットの組み合わせでは予測は利用できません","properties.forecastPeriod.title":"期間","properties.forecastPeriod.placeholder":"期間","properties.forecastSeasonal.title":"季節性","properties.forecastConfidence.title":"自信","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"ラベル合計","properties.canvas.totalLabels.auto":"自動 (規定値)","properties.canvas.totalLabels.show":"表示","properties.canvas.totalLabels.hide":"隠す","properties.canvas.dataPoints":"データポイント","properties.canvas.dataPoints.auto":"自動 (規定値)","properties.canvas.dataPoints.show":"表示","properties.canvas.dataPoints.hide":"隠す","properties.yaxis.title":"Y軸","properties.axis.labels":"ラベル","properties.axis.rotation":"回転","properties.axis.format":"書式","properties.axis.format.inherit":"継承","properties.axis.format.info.inherit._measure":"フォーマットは、ビジュアライゼーションの最初のメジャーから継承されます。","properties.axis.format.info.inherit._metric":"フォーマットは、ビジュアライゼーションの最初のメトリックから継承されます。","properties.axis.name":"名前","properties.axis.name.position":"位置","properties.axis.name.position.left":"左","properties.axis.name.position.center":"中央","properties.axis.name.position.right":"右","properties.axis.name.position.top":"上","properties.axis.name.position.middle":"中間","properties.axis.name.position.bottom":"下","properties.axis.min":"最小","properties.axis.min.warning":"最小値は最大値以下の値を設定します","properties.axis.max":"最高","properties.axis.max.warning":"最大値は最小値以上の値を設定します","properties.xaxis.title":"X軸","properties.axis.scale":"スケール","properties.axis.left":"左","properties.axis.right":"右","properties.axis.top":"上","properties.axis.bottom":"下","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"上","properties.legend.position.down":"下","properties.legend.position.right":"右","properties.legend.position.left":"左","properties.orientation.title":"向き","properties.orientation.horizontal":"水平（デフォルト）","properties.orientation.vertical":"縦","properties.points.title":"ポイント","properties.points.groupNearbyPoints":"付近のポイントをグループ化する","properties.points.size.title":"ポイントサイズ","properties.points.size.extra_small":"0.5x","properties.points.size.small":"0.75x","properties.points.size.normal":"普通","properties.points.size.large":"1.25x","properties.points.size.extra_large":"1.5x","properties.points.size.min.title":"最少","properties.points.size.max.title":"最大","properties.map.title":"マップ","properties.viewport.area.title":"デフォルトのビューポート","properties.viewport.area.auto_default":"全てのデータを含める","properties.viewport.area.continents":"大陸","properties.viewport.area.continent_af":"アフリカ","properties.viewport.area.continent_as":"アジア","properties.viewport.area.continent_au":"オーストラリア","properties.viewport.area.continent_eu":"ヨーロッパ","properties.viewport.area.continent_na":"北アメリカ","properties.viewport.area.continent_sa":"南アメリカ","properties.viewport.area.world":"世界","gs.color-dropdown.custom-color":"カスタム色","properties.colors.reset-colors":"色をリセット","properties.colors":"色","properties.colors.unsupported":"このビジュアライゼーションの設定には色はありません","export_unsupported.colors":"ビジュアライゼーションはカスタムカラーと互換性がありません。ビジュアライゼーションをレポートとして開くには、[設定の色をリセット] -> [色]  をクリックします。","dashboard.bucket.measures_title.bullet._measure":"メジャー","dashboard.bucket.measures_title.bullet._metric":"メトリック","dashboard.bucket.secondary_measures_title.bullet._measure":"メジャー","dashboard.bucket.secondary_measures_title.bullet._metric":"メトリック","dashboard.bucket.tertiary_measures_title.bullet._measure":"メジャー","dashboard.bucket.tertiary_measures_title.bullet._metric":"メトリック","dashboard.bucket.measures_subtitle.bullet":"プライマリ","dashboard.bucket.secondary_measures_subtitle.bullet":"ターゲット","dashboard.bucket.tertiary_measures_subtitle.bullet":"比較","sorting.disabled.explanation.attribute":"このビジュアライゼーション設定ではソートはできません。","sorting.disabled.explanation.measure._measure":"ビジュアライゼーションを並べ替えるには、少なくとも 1 つのアトリビュートを追加する必要があります。また、メジャーセクションでアイテムの位置を調整し、ビジュアライゼーションでの位置を変更することもできます。","sorting.disabled.explanation.measure._metric":"ビジュアライゼーションをソートするには、少なくとも 1 つのアトリビュートを追加する必要があります。また、メトリックスセクションのアイテムの位置を調整して、ビジュアライゼーション内の位置を変更することもできます。","properties.metrics.title._measure":"メジャー","properties.metrics.title._metric":"メトリック","properties.metrics.position":"位置","properties.metrics.position.columns":"カラム（デフォルト）","properties.metrics.position.rows":"行数","properties.column.headers.title":"列のヘッダー","properties.column.headers.position":"位置","properties.column.headers.position.top":"上（デフォルト）","properties.column.headers.position.left":"左","dashboard.bucket.table.subtitle.columns":"列","dashboard.bucket.table.subtitle.rows":"行","properties.interactions.title":"操作","properties.interactions.drillDown":"ドリルダウン","properties.comparison.title":"比較","properties.comparison.calculationType.title":"計算タイプ","properties.comparison.calculationType.as.change":"変化","properties.comparison.calculationType.as.ratio":"比率","properties.comparison.calculationType.as.difference":"差","properties.comparison.calculationType.as.changeDifference":"変化（差）","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"プライマリとセカンダリのメトリック値の相対的な変化を計算します。","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"プライマリとセカンダリのメジャー値の相対的な変化量を計算します。","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"セカンダリメトリック値におけるプライマリメトリック値の割合を定量化します。","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"セカンダリメジャー値におけるプライマリメジャー値の割合を定量化します。","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"プライマリとセカンダリのメトリック値の差の絶対値を計算します。","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"プライマリとセカンダリのメジャー値の差の絶対値を計算します。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"プライマリとセカンダリのメトリック値の相対的な変化と絶対的な差の両方を計算します。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"プライマリとセカンダリのメジャー値の相対的な変化と絶対的な差の両方を計算します。","properties.comparison.calculationType.tooltip.formula.section":"式","properties.comparison.calculationType.tooltip.formulaChange.section":"計算式（相対的変化）","properties.comparison.calculationType.tooltip.formulaDifference.section":"計算式（絶対的な差）","properties.comparison.calculationType.as.change.tooltip.formula":"(プライマリ - セカンダリ） / セカンダリ","properties.comparison.calculationType.as.ratio.tooltip.formula":"プライマリ / セカンダリ","properties.comparison.calculationType.as.difference.tooltip.formula":"プライマリ - セカンダリ","properties.comparison.calculationType.tooltip.example.section":"例","properties.comparison.calculationType.as.change.tooltip.example":"前年比売上高変化率 = (当年売上高 - 前年売上高) / 前年売上高","properties.comparison.calculationType.as.ratio.tooltip.example":"ノルマに対する現在の売上 = 現在の売上 / ノルマ","properties.comparison.calculationType.as.difference.tooltip.example":"前年比売上高の差＝当年売上高-前年売上高","properties.comparison.calculationType.as.changeDifference.tooltip.example":"前年比売上高変化率＝[(当年売上高-前年売上高) / 前年売上高] AND [当年売上高-前年売上高]。","properties.comparison.measureNumber.format.preset.inherit":"継承","properties.comparison.measureNumber.format.preset.rounded":"桁区切り","properties.comparison.measureNumber.format.preset.decimal1":"小数点 (1)","properties.comparison.measureNumber.format.preset.decimal2":"小数点 (2)","properties.comparison.measureNumber.format.preset.percentRounded":"パーセント（四捨五入）","properties.comparison.measureNumber.format.preset.percent1":"パーセント (1)","properties.comparison.measureNumber.format.preset.percent2":"パーセント (2)","properties.comparison.measureNumber.format.template.rounded":"桁区切り","properties.comparison.measureNumber.format.template.decimal1":"小数点 (1)","properties.comparison.measureNumber.format.template.decimal2":"小数点 (2)","properties.comparison.measureNumber.format.template.percentRounded":"パーセント（四捨五入）","properties.comparison.measureNumber.format.template.percent1":"パーセント (1)","properties.comparison.measureNumber.format.template.percent2":"パーセント (2)","properties.comparison.measureNumber.format.template.currency":"通貨","properties.comparison.measureNumber.format.template.currencyShortened":"通貨の省略形","properties.comparison.measureNumber.format.template.largeNumbersShortened":"大きな数字の省略形","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"大きな数字の省略形（色付き）","properties.comparison.measureNumber.format.template.negativeNumbersRed":"負の数値を赤色表示","properties.comparison.measureNumber.format.template.financial":"財政","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"小数点 (2) 桁区切り記号なし","properties.comparison.measureNumber.format.template.conditionalColors":"条件付きの色","properties.comparison.measureNumber.format.template.trendSymbols":"トレンドシンボル","properties.comparison.measureNumber.format.template.timeFromSeconds":"時間（秒から換算）","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"空欄をゼロとして表示","properties.comparison.valueSubSection.title":"値","properties.comparison.format.title":"書式","properties.comparison.subFormat.title":"(書式)","properties.comparison.indicator.title":"インジケーター","properties.comparison.indicator.arrow.title":"矢印","properties.comparison.indicator.colorConfig.title":"色","properties.comparison.indicator.colorConfig.equals":"プライマリ = セカンダリ","properties.comparison.indicator.colorConfig.positive":"プライマリ > セカンダリ","properties.comparison.indicator.colorConfig.negative":"プライマリ < セカンダリ","properties.comparison.labelSubSection.title":"ラベル","properties.comparison.labelSubSection.positionOnTop.disabled":"ラベルは値位置の上部には適用されません。","properties.comparison.labelSubSection.conditional.disabled":"条件付きラベルは比率計算には適用されません。","properties.comparison.labelName.title":"名前","properties.comparison.labelConditional.title":"条件付き","properties.comparison.labelPositive.title":"プライマリ > セカンダリ","properties.comparison.labelNegative.title":"プライマリ < セカンダリ","properties.comparison.labelEquals.title":"プライマリ = セカンダリ","properties.comparison.position.title":"位置","properties.comparison.position.top":"上","properties.comparison.position.right":"右","properties.comparison.position.left":"左","properties.forecastSliced.title":"部分予報を表示します。","properties.forecastSliced.description":"利用可能なデータポイントは、選択した期間全体をカバーしていません。","dashboard.bucket.segment_title.scatter":"セグメント","properties.clustering.title":"クラスタ","properties.clustering.amount":"数量","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"部分的なクラスタの表示","properties.clustering.amount.partial.description":"利用可能なデータポイントは、選択した数量全体をカバーしていません。","properties.clustering.disabled":"クラスタリングには、Segment byを使わずに、2つのMetricsとView byが必要です。","properties.clustering.threshold":"しきい値","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"しきい値は、データをグループ化するタイミングを決定する制限値です。 <link>リンク>詳細リンク </link>","visualizations.headline.tertiary.title":"対","properties.interactions.alerts":"アラート","properties.interactions.alerts.tooltip":"ユーザーがダッシュボード上でこのビジュアライゼーションのためのアラートを作成できます。","properties.interactions.scheduledExports":"エクスポート予定","properties.interactions.scheduledExports.tooltip":"ユーザーがダッシュボード上でこのビジュアライゼーションのためのエクスポート予定を作成できます。","properties.advanced.title":"高度なカスタマイズ","properties.advanced.chartConfigOverride.noValueLabel":"カスタマイズはまだありません。","properties.advanced.chartConfigOverride.link":"詳細","properties.advanced.chartConfigOverride.editorButton":"エディタを開く","properties.advanced.chartConfigOverride.title":"高度なカスタマイズ","properties.advanced.chartConfigOverride.snippets.header":"抜粋","properties.advanced.chartConfigOverride.button.apply":"適用","properties.advanced.chartConfigOverride.button.cancel":"キャンセル","gs.date.yesterday":"昨日","notifications.panel.tab.unread":"未読 ({count}件)","notifications.panel.tab.all":"すべて","notifications.panel.markAllAsRead":"すべて既読にする","notifications.panel.error.loading":"通知の読み込みエラー","notifications.panel.empty.all":"通知なし","notifications.panel.empty.unread":"未読通知なし","notifications.panel.unsupported.notification.type":"サポートされていない通知タイプ","notifications.panel.markAsRead":"既読にする","notifications.filters.buttonLabel":"{count, plural, one {# フィルター} other {#フィルター}}","notifications.filters.dialog.title":"フィルター","notifications.filters.dialog.dateRange":"日付範囲","notifications.panel.triggers.title":"{triggeredCount}/{totalCount} 件のアイテム用","notifications.panel.triggers.dialog.newValue":"新しい価値",close:"閉じる","notifications.panel.triggers.dialog.title":"トリガー済み：","notifications.panel.error.learnMore":"詳細","notifications.panel.error.traceId":"トレースID","notifications.panel.error.message":"警告を処理できませんでした。","notifications.panel.button.label":"お知らせ","notifications.panel.notifications.list.label":"お知らせ","notifications.panel.alert.notification.type.label":"アラート通知","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…及び{count}その他","notifications.panel.download":"ダウンロード","notifications.panel.expiresOn":"有効期限{date}","notifications.panel.linkHasExpired":"リンク切れ","notifications.panel.toast.warning.filesExpired":"<strong>ダウンロードリンクは期限切れ</strong> - 次のエクスポートを待つか、手動で作成してください。","notifications.panel.dashboardLinkHint":"このエクスポートに使用するダッシュボードを開く","notifications.panel.dashboardLink":"より{dashboardTitle}","notifications.panel.downloadFilesHint":"エクスポートしたファイルをダウンロードする","notifications.panel.error.alert.title":"警告を処理できませんでした。","notifications.panel.error.schedule.title":"エクスポートに失敗しました。","notifications.panel.error.limitExceeded.message":"あなたの組織は、毎日のアラートおよびスケジュールされたエクスポートの最大数の上限に達しているため、エクスポートを送信できませんでした。管理者に連絡してください。"},"nl-NL":{or:"of","dashboard.bucket.measures_title.column._measure":"Maatregelen","dashboard.bucket.measures_title.column._metric":"Meetgegevens","dashboard.bucket.measures_title.bar._measure":"Maatregelen","dashboard.bucket.measures_title.bar._metric":"Meetgegevens","dashboard.bucket.measures_title.line._measure":"Maatregelen","dashboard.bucket.measures_title.line._metric":"Meetgegevens","dashboard.bucket.measures_title.area._measure":"Maatregelen","dashboard.bucket.measures_title.area._metric":"Meetgegevens","dashboard.bucket.measures_title.pie._measure":"Maatregelen","dashboard.bucket.measures_title.pie._metric":"Meetgegevens","dashboard.bucket.measures_title.funnel._measure":"Maatregelen","dashboard.bucket.measures_title.funnel._metric":"Meetgegevens","dashboard.bucket.measures_title.pyramid._measure":"Maatregelen","dashboard.bucket.measures_title.pyramid._metric":"Meetgegevens","dashboard.bucket.measures_title.treemap._measure":"Maatregelen","dashboard.bucket.measures_title.treemap._metric":"Meetgegevens","dashboard.bucket.measures_title.donut._measure":"Maatregelen","dashboard.bucket.measures_title.donut._metric":"Meetgegevens","dashboard.bucket.measures_title.heatmap._measure":"Maat","dashboard.bucket.measures_title.heatmap._metric":"Meetgegeven","dashboard.bucket.measures_title.headline._measure":"Maat","dashboard.bucket.measures_title.headline._metric":"Meetgegeven","dashboard.bucket.measures_subtitle.headline":"primair","dashboard.bucket.secondary_measures_title.headline._measure":"Maat","dashboard.bucket.secondary_measures_title.headline._metric":"Meetgegeven","dashboard.bucket.secondary_measures_subtitle.headline":"secundair","dashboard.bucket.measures_title.scatter._measure":"Maat","dashboard.bucket.measures_title.scatter._metric":"Meetgegeven","dashboard.bucket.secondary_measures_title.scatter._measure":"Maat","dashboard.bucket.secondary_measures_title.scatter._metric":"Meetgegeven","dashboard.bucket.measures_subtitle.scatter":"X-as","dashboard.bucket.secondary_measures_subtitle.scatter":"Y-as","dashboard.bucket.attribute_title.scatter":"Bekijken met","dashboard.bucket.measures_title.combo._measure":"Maatregelen","dashboard.bucket.measures_title.combo._metric":"Meetgegevens","dashboard.bucket.measures_subtitle.combo":"Kolom","dashboard.bucket.secondary_measures_title.combo._measure":"Maatregelen","dashboard.bucket.secondary_measures_title.combo._metric":"Meetgegevens","dashboard.bucket.secondary_measures_subtitle.combo":"Lijn","dashboard.bucket.measures_title.xirr._measure":"Maat","dashboard.bucket.measures_title.xirr._metric":"Meetgegeven","dashboard.bucket.measures_title.waterfall._measure":"Maatregelen","dashboard.bucket.measures_title.waterfall._metric":"Meetgegevens","dashboard.bucket.attribute_title.xirr":"Datumattribuut","dashboard.bucket.attribute_from_title.sankey":"Attribuut","dashboard.bucket.attribute_from_subtitle.sankey":"van","dashboard.bucket.attribute_to_title.sankey":"Attribuut","dashboard.bucket.attribute_to_subtitle.sankey":"naar","dashboard.bucket.attribute_from_title.dependencywheel":"Attribuut","dashboard.bucket.attribute_from_subtitle.dependencywheel":"van","dashboard.bucket.attribute_to_title.dependencywheel":"Attribuut","dashboard.bucket.attribute_to_subtitle.dependencywheel":"naar","dashboard.bucket.combo.subtitle.column":"als kolommen","dashboard.bucket.combo.subtitle.line":"als lijnen","dashboard.bucket.combo.subtitle.area":"als gebieden","dashboard.bucket.measures_title.bubble._measure":"Maat","dashboard.bucket.measures_title.bubble._metric":"Meetgegeven","dashboard.bucket.secondary_measures_title.bubble._measure":"Maat","dashboard.bucket.secondary_measures_title.bubble._metric":"Meetgegeven","dashboard.bucket.tertiary_measures_title.bubble._measure":"Maat","dashboard.bucket.tertiary_measures_title.bubble._metric":"Meetgegeven","dashboard.bucket.measures_subtitle.bubble":"X-as","dashboard.bucket.secondary_measures_subtitle.bubble":"Y-as","dashboard.bucket.tertiary_measures_subtitle.bubble":"Grootte","dashboard.bucket.location_title.pushpin":"Locatie","dashboard.bucket.size_title.pushpin._measure":"Maat","dashboard.bucket.size_title.pushpin._metric":"Meetgegeven","dashboard.bucket.size_subtitle.pushpin":"Grootte","dashboard.bucket.color_title.pushpin._measure":"Maat","dashboard.bucket.color_title.pushpin._metric":"Meetgegeven","dashboard.bucket.color_subtitle.pushpin":"Kleur","dashboard.bucket.view_title.bubble":"Bekijken met","dashboard.bucket.view_title.pie":"Bekijken met","dashboard.bucket.view_title.treemap":"Bekijken met","dashboard.bucket.view_title.donut":"Bekijken met","dashboard.bucket.view_title.funnel":"Bekijken met","dashboard.bucket.view_title.pyramid":"Bekijken met","dashboard.bucket.view_title.column":"Bekijken met","dashboard.bucket.view_title.bar":"Bekijken met","dashboard.bucket.view_title.area":"Bekijken met","dashboard.bucket.view_title.bullet":"Bekijken met","dashboard.bucket.view_title.waterfall":"Bekijken met","dashboard.bucket.view_title.heatmap":"Rijen","dashboard.bucket.trend_title.line":"Trend volgens","dashboard.bucket.view_title.combo":"Bekijken met","dashboard.bucket.stack_title.column":"Sorteren volgens","dashboard.bucket.stack_title.bar":"Sorteren volgens","dashboard.bucket.stack_title.area":"Sorteren volgens","dashboard.bucket.stack_title.heatmap":"Kolommen","dashboard.bucket.segment_title.line":"Verdelen volgens","dashboard.bucket.segment_title.treemap":"Verdelen volgens","dashboard.bucket.segment_title.pushpin":"Verdelen volgens","dashboard.bucket.metric_segment_by_warning._measure":"Om een extra maatregel toe te voegen, verwijdert u {icons} van '<span class=\"stack-by\">'verdelen volgens'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Om extra meetgegevens toe te voegen, verwijdert u {icons} van '<span class=\"stack-by\">'verdelen volgens'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Om een extra maatregel toe te voegen, verwijdert u {icons} van '<span class=\"stack-by\">'sorteren volgens'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Om extra meetgegevens toe te voegen, verwijdert u {icons} van '<span class=\"stack-by\">'sorteren volgens'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Om een extra maatregel toe te voegen, verwijdert u {icons} van '<span class=\"stack-by\">'bekijken met'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Om extra meetgegevens toe te voegen, verwijdert u {icons} van '<span class=\"stack-by\">'bekijken met'</span>'","dashboard.bucket.category_view_by_warning._measure":"Om op een ander kenmerk te bekijken, kan een visualisatie slechts één maatregel hebben","dashboard.bucket.category_view_by_warning._metric":"Om op een ander kenmerk te bekijken, kan een visualisatie slechts één metriek hebben","dashboard.bucket.view_stack_by_warning":"Om een extra attribuut toe te voegen, verwijdert u {icons} van '<span class=\"stack-by\">'sorteren volgens'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Om te stapelen kan een visualisatie slechts één maatregel hebben","dashboard.bucket.category_stack_by_warning._metric":"Om te stapelen kan een visualisatie slechts één metriek hebben","dashboard.bucket.stack_view_by_warning":"Om te stapelen kan een visualisatie slechts één attribuut in beeld hebben door","dashboard.bucket.measure_stack_by_warning._measure":"Om te stapelen op een attribuut kan een visualisatie slechts één maatregel hebben","dashboard.bucket.measure_stack_by_warning._metric":"Om te stapelen op een eigenschap, kan een visualisatie slechts één metriek hebben","dashboard.bucket.category_columns_warning._measure":"Kolommen toevoegen niet mogelijk: de limiet is {oldLimit} maatregelen en {oldRowsLimit} rijen. Volg de limieten om er meer toe te voegen","dashboard.bucket.category_columns_warning._metric":"Kolommen toevoegen niet mogelijk: de limiet is {oldLimit} meetgegevens en {oldRowsLimit} rijen. Volg de limieten om er meer toe te voegen","dashboard.bucket.category_measures_rows_warning":"Om meer toe te voegen dan {limit}, verwijdert u alle items uit het kolommengedeelte","dashboard.bucket.category_category_by_warning._measure":"Om door te kijken kan een visualisatie slechts één maatregel hebben","dashboard.bucket.category_category_by_warning._metric":"Om door te kijken kan een visualisatie slechts één metriek hebben","dashboard.bucket.category_segment_by_warning._measure":"Om te segmenteren kan een visualisatie slechts één maatregel hebben","dashboard.bucket.category_segment_by_warning._metric":"Om te segmenteren kan een visualisatie slechts één metriek hebben","dashboard.bucket.measures_title.table._measure":"Maatregelen","dashboard.bucket.measures_title.table._metric":"Meetgegevens","dashboard.bucket.measures_title.sankey._measure":"MAAT","dashboard.bucket.measures_title.sankey._metric":"MEETGEGEVEN","dashboard.bucket.measures_title.dependencywheel._measure":"MAAT","dashboard.bucket.measures_title.dependencywheel._metric":"MEETGEGEVEN","dashboard.bucket.attribute_title.table":"Rijen","dashboard.bucket.columns_title.table":"Kolommen","dashboard.bucket.attribute_title.repeater":"Rijen","dashboard.bucket.view_title.repeater":"Bekijken met","dashboard.bucket.columns_title.repeater":"Kolommen","dashboard.error.missing_primary_bucket_item.heading._measure":"Geen primaire maatregel in uw visualisatie","dashboard.error.missing_primary_bucket_item.heading._metric":"Geen primaire metriek in uw visualisatie","dashboard.error.missing_primary_bucket_item.text._measure":"Voeg een primaire maatregel toe aan uw visualisatie of schakel over naar tabel.\nAls u klaar bent, kunt u de visualisatie opslaan.","dashboard.error.missing_primary_bucket_item.text._metric":"Voeg een primaire metriek toe aan uw visualisatie of schakel over naar tabel.\nAls u klaar bent, kunt u de visualisatie opslaan.","dashboard.xirr.error.invalid_buckets.heading":"Onvolledige configuratie","dashboard.xirr.error.invalid_buckets.text._measure":"Zorg dat u minimaal één maatregel en één datumattribuut hebt geselecteerd","dashboard.xirr.error.invalid_buckets.text._metric":"Zorg dat u minimaal één meetgegevens één datumattribuut hebt geselecteerd","properties.unsupported":"Deze weergave ondersteunt geen configuratie","properties.config.not_applicable":"Configuration Panel is niet van toepassing voor deze configuratie van de visualisatie.","properties.not_applicable":"Eigenschap is niet van toepassing voor deze configuratie van de visualisatie","properties.auto_placeholder":"auto","properties.auto_default":"auto (standaard)","properties.legend.title":"Legenda","properties.legend.position":"Positie","properties.total.title":"Totaal","properties.total.name":"Naam","properties.total.tooltip":"Voeg de som van alle waarden aan het einde toe als een kolom.","properties.total.measures.tooltip":"Schakel 'is totaal'-opties uit in meetgegevens om de som van alle waarden als een kolom aan het einde toe te voegen.","properties.color.total":"Totaal","properties.color.positive":"Positief","properties.color.negative":"Negatief","properties.canvas.title":"Canvas","properties.canvas.gridline":"Rasterlijn","properties.canvas.labels.percentages":"Percentage","properties.canvas.labels.percentages.info":"Geef percentages op elke schijf weer, met de bovenste schijf als 100% en de andere als fracties van die waarde.","properties.canvas.labels.percentages.disabled":"Percentages worden verborgen door verborgen datalabels.","properties.canvas.continuousLine.label":"Doorlopende lijn","properties.canvas.continuousLine.tooltip":"Teken een lijn tussen punten met ontbrekende waarden.","properties.canvas.dataLabels":"Gegevenslabels","properties.canvas.dataLabels.auto":"auto (standaard)","properties.canvas.dataLabels.show":"tonen","properties.canvas.dataLabels.hide":"verbergen","properties.canvas.rowHeight":"Rijhoogte","properties.canvas.rowHeight.small":"klein","properties.canvas.rowHeight.medium":"gemiddeld","properties.canvas.rowHeight.large":"groot","properties.canvas.verticalAlign":"Verticale uitlijning","properties.canvas.verticalAlign.top":"boven","properties.canvas.verticalAlign.middle":"midden","properties.canvas.verticalAlign.bottom":"onder","properties.canvas.textWrapping":"Tekstomloop","properties.canvas.textWrapping.clip":"klemmen","properties.canvas.textWrapping.wrap":"omloop","properties.canvas.image":"Afbeelding","properties.canvas.image.fit":"passend maken","properties.canvas.image.fill":"vullen","properties.forecast.title":"Voorspelling","properties.forecastDisabled.title":"Voorspelling is niet beschikbaar voor deze combinatie van buckets","properties.forecastPeriod.title":"Periode","properties.forecastPeriod.placeholder":"Periode","properties.forecastSeasonal.title":"Seizoen","properties.forecastConfidence.title":"Vertrouwen","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Totaal aantal labels","properties.canvas.totalLabels.auto":"auto (standaard)","properties.canvas.totalLabels.show":"tonen","properties.canvas.totalLabels.hide":"verbergen","properties.canvas.dataPoints":"Gegevenspunten","properties.canvas.dataPoints.auto":"auto (standaard)","properties.canvas.dataPoints.show":"tonen","properties.canvas.dataPoints.hide":"verbergen","properties.yaxis.title":"Y-as","properties.axis.labels":"labels","properties.axis.rotation":"Rotatie","properties.axis.format":"Formaat","properties.axis.format.inherit":"overnemen","properties.axis.format.info.inherit._measure":"Het formaat wordt geërfd van de eerste maatregel in de visualisatie.","properties.axis.format.info.inherit._metric":"Het formaat wordt geërfd van de eerste metriek in de visualisatie.","properties.axis.name":"naam","properties.axis.name.position":"Positie","properties.axis.name.position.left":"links","properties.axis.name.position.center":"centreren","properties.axis.name.position.right":"rechts","properties.axis.name.position.top":"boven","properties.axis.name.position.middle":"midden","properties.axis.name.position.bottom":"onder","properties.axis.min":"Min","properties.axis.min.warning":"Min waarde kan niet groter zijn dan max waarde","properties.axis.max":"Max","properties.axis.max.warning":"Max waarde kan niet kleiner zijn dan min waarde","properties.xaxis.title":"X-as","properties.axis.scale":"schaal","properties.axis.left":"Links","properties.axis.right":"Rechts","properties.axis.top":"Boven","properties.axis.bottom":"Onder","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"boven","properties.legend.position.down":"onder","properties.legend.position.right":"rechts","properties.legend.position.left":"links","properties.orientation.title":"Oriëntatie","properties.orientation.horizontal":"Horizontaal (standaard)","properties.orientation.vertical":"Verticaal","properties.points.title":"Punten","properties.points.groupNearbyPoints":"Nabijgelegen punten groeperen","properties.points.size.title":"Puntenformaat","properties.points.size.extra_small":"0,5x","properties.points.size.small":"0,75x","properties.points.size.normal":"normaal","properties.points.size.large":"1,25x","properties.points.size.extra_large":"1,5x","properties.points.size.min.title":"Kleinste","properties.points.size.max.title":"Grootste","properties.map.title":"Kaart","properties.viewport.area.title":"Standaard viewport","properties.viewport.area.auto_default":"Alle gegevens insluiten","properties.viewport.area.continents":"continenten","properties.viewport.area.continent_af":"Afrika","properties.viewport.area.continent_as":"Azië","properties.viewport.area.continent_au":"Australië","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"Amerika (noord)","properties.viewport.area.continent_sa":"Amerika (zuid)","properties.viewport.area.world":"Wereld","gs.color-dropdown.custom-color":"Aangepaste kleur","properties.colors.reset-colors":"Kleuren herstellen","properties.colors":"Kleuren","properties.colors.unsupported":"Er zijn geen kleuren voor deze configuratie van de visualisatie","export_unsupported.colors":"De visualisatie is niet compatibel met aangepaste kleuren. Om de visualisatie als rapport te openen, klikt u Reset kleuren in Configuratie -> Kleuren.","dashboard.bucket.measures_title.bullet._measure":"Maat","dashboard.bucket.measures_title.bullet._metric":"Meetgegeven","dashboard.bucket.secondary_measures_title.bullet._measure":"Maat","dashboard.bucket.secondary_measures_title.bullet._metric":"Meetgegeven","dashboard.bucket.tertiary_measures_title.bullet._measure":"Maat","dashboard.bucket.tertiary_measures_title.bullet._metric":"Meetgegeven","dashboard.bucket.measures_subtitle.bullet":"Primair","dashboard.bucket.secondary_measures_subtitle.bullet":"Doel","dashboard.bucket.tertiary_measures_subtitle.bullet":"Relatief","sorting.disabled.explanation.attribute":"Sorteren is niet mogelijk voor deze visualisatieconfiguratie.","sorting.disabled.explanation.measure._measure":"U moet ten minste één attribuut toevoegen om de visualisatie te sorteren. U kunt ook de positie van items in het onderdeel maatregelen aanpassen om hun positie in de visualisatie te wijzigen.","sorting.disabled.explanation.measure._metric":"U moet minstens één attribuut toevoegen om de visualisatie te sorteren. U kunt ook de positie van items in de Metrics-sectie aanpassen om hun positie in de visualisatie te wijzigen.","properties.metrics.title._measure":"Maatregelen","properties.metrics.title._metric":"Meetgegevens","properties.metrics.position":"Positie","properties.metrics.position.columns":"kolommen (standaard)","properties.metrics.position.rows":"rijen","properties.column.headers.title":"Kolomkoppen","properties.column.headers.position":"Positie","properties.column.headers.position.top":"boven (standaard)","properties.column.headers.position.left":"links","dashboard.bucket.table.subtitle.columns":"In kolommen","dashboard.bucket.table.subtitle.rows":"In rijen","properties.interactions.title":"Interacties","properties.interactions.drillDown":"Inzoomen","properties.comparison.title":"Vergelijking","properties.comparison.calculationType.title":"Berekend als","properties.comparison.calculationType.as.change":"Wijzigen","properties.comparison.calculationType.as.ratio":"Verhouding","properties.comparison.calculationType.as.difference":"Verschil","properties.comparison.calculationType.as.changeDifference":"Wijzigen (verschil)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Berekent de relatieve wijziging tussen primaire en secundaire metrische waarden.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Berekent de relatieve wijziging tussen primaire en secundaire maatwaarden.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Kwantificeert het deel van de primaire metrische waarde in de secundaire metrische waarde.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Kwantificeert het deel van de primaire maatwaarde in de secundaire maatwaarde.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Berekent het absolute verschil tussen primaire en secundaire metrische waarden.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Berekent het absolute verschil tussen primaire en secundaire maatwaarden.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Berekent zowel de relatieve wijziging als het absolute verschil tussen primaire en secundaire metrische waarden.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Berekent zowel de relatieve wijziging als het absolute verschil tussen primaire en secundaire maatwaarden.","properties.comparison.calculationType.tooltip.formula.section":"Formule","properties.comparison.calculationType.tooltip.formulaChange.section":"Formule (relatieve wijziging)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formule (absoluut verschil)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primair - Secundair) / Secundair","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primair / Secundair","properties.comparison.calculationType.as.difference.tooltip.formula":"Primair - Secundair","properties.comparison.calculationType.tooltip.example.section":"Voorbeeld","properties.comparison.calculationType.as.change.tooltip.example":"Verkoopwijziging jaar na jaar = (verkopen in het huidige jaar - verkopen in het vorige jaar) / verkopen in het vorige jaar","properties.comparison.calculationType.as.ratio.tooltip.example":"Huidige verkopen vergeleken met een quotum = huidige verkopen/quotum","properties.comparison.calculationType.as.difference.tooltip.example":"Verkoopverschil jaar na jaar = verkopen in het huidige jaar - verkopen in het vorige jaar","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Verkoopwijziging jaar na jaar = [(verkopen in het huidige jaar - verkopen in het vorige jaar) / verkopen in het vorige jaar] EN [de verkopen in het huidige jaar - de verkopen in het vorige jaar]","properties.comparison.measureNumber.format.preset.inherit":"Erven","properties.comparison.measureNumber.format.preset.rounded":"Afgerond","properties.comparison.measureNumber.format.preset.decimal1":"Decimaal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimaal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Percentage (afgerond)","properties.comparison.measureNumber.format.preset.percent1":"Percentage (1)","properties.comparison.measureNumber.format.preset.percent2":"Percentage (2)","properties.comparison.measureNumber.format.template.rounded":"Afgerond","properties.comparison.measureNumber.format.template.decimal1":"Decimaal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimaal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Percentage (afgerond)","properties.comparison.measureNumber.format.template.percent1":"Percentage (1)","properties.comparison.measureNumber.format.template.percent2":"Percentage (2)","properties.comparison.measureNumber.format.template.currency":"Munteenheid","properties.comparison.measureNumber.format.template.currencyShortened":"Munteenheid afgekort","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Grote getallen afgekort","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Grote getallen afgekort met kleuren","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Negatieve getallen in rood","properties.comparison.measureNumber.format.template.financial":"Financieel","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimaal (2) met scheidingsteken voor duizendtallen","properties.comparison.measureNumber.format.template.conditionalColors":"Voorwaardelijke kleuren","properties.comparison.measureNumber.format.template.trendSymbols":"Trendsymbolen","properties.comparison.measureNumber.format.template.timeFromSeconds":"Tijd (in seconden)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Nul in plaats van blanco waarde","properties.comparison.valueSubSection.title":"Waarde","properties.comparison.format.title":"Formaat","properties.comparison.subFormat.title":"(Formaat)","properties.comparison.indicator.title":"Indicator","properties.comparison.indicator.arrow.title":"Pijl","properties.comparison.indicator.colorConfig.title":"Kleur","properties.comparison.indicator.colorConfig.equals":"Primair = Secundair","properties.comparison.indicator.colorConfig.positive":"Primair > Secundair","properties.comparison.indicator.colorConfig.negative":"Primair < Secundair","properties.comparison.labelSubSection.title":"Label","properties.comparison.labelSubSection.positionOnTop.disabled":"Labels niet van toepassing voor waarde op bovenste positie.","properties.comparison.labelSubSection.conditional.disabled":"Voorwaardelabels zijn niet van toepassing op verhoudingsberekeningen.","properties.comparison.labelName.title":"Naam","properties.comparison.labelConditional.title":"Voorwaardelijk","properties.comparison.labelPositive.title":"Primair > Secundair","properties.comparison.labelNegative.title":"Primair < Secundair","properties.comparison.labelEquals.title":"Primair = Secundair","properties.comparison.position.title":"Positie","properties.comparison.position.top":"boven","properties.comparison.position.right":"rechts","properties.comparison.position.left":"links","properties.forecastSliced.title":"Gedeeltelijke voorspelling.","properties.forecastSliced.description":"De beschikbare gegevenspunten dekken niet de hele geselecteerde periode.","dashboard.bucket.segment_title.scatter":"Verdelen volgens","properties.clustering.title":"Cluster","properties.clustering.amount":"Bedrag","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Gedeeltelijke clusters tonen","properties.clustering.amount.partial.description":"De beschikbare gegevenspunten dekken niet het gehele geselecteerde bedrag.","properties.clustering.disabled":"Clusteren vereist 2 Metrics en View by, zonder Segment by.","properties.clustering.threshold":"Drempel","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"De drempel is een limiet die bepaalt wanneer gegevens moeten worden gegroepeerd. <link>Lees meer</link>","visualizations.headline.tertiary.title":"Versus","properties.interactions.alerts":"Waarschuwing","properties.interactions.alerts.tooltip":"Stel gebruikers in staat om waarschuwingen te maken voor deze visualisatie op dashboards.","properties.interactions.scheduledExports":"Geplande export","properties.interactions.scheduledExports.tooltip":"Stel gebruikers in staat om geplande exports te maken voor deze visualisatie op dashboards.","properties.advanced.title":"Geavanceerde aanpassingen","properties.advanced.chartConfigOverride.noValueLabel":"Nog geen aanpassingen.","properties.advanced.chartConfigOverride.link":"Meer informatie","properties.advanced.chartConfigOverride.editorButton":"Editor openen","properties.advanced.chartConfigOverride.title":"Geavanceerde aanpassing","properties.advanced.chartConfigOverride.snippets.header":"Fragmenten ","properties.advanced.chartConfigOverride.button.apply":"Toepassen","properties.advanced.chartConfigOverride.button.cancel":"Annuleren","gs.date.yesterday":"Gisteren","notifications.panel.tab.unread":"Niet gelezen ({count})","notifications.panel.tab.all":"Alle","notifications.panel.markAllAsRead":"Alles als gelezen markeren","notifications.panel.error.loading":"Fout bij het laden van meldingen","notifications.panel.empty.all":"Geen meldingen","notifications.panel.empty.unread":"Geen ongelezen meldingen","notifications.panel.unsupported.notification.type":"Niet-ondersteund meldingstype","notifications.panel.markAsRead":"Als gelezen markeren","notifications.filters.buttonLabel":"{count, plural, one {# filter} other {# filters}}","notifications.filters.dialog.title":"Filters","notifications.filters.dialog.dateRange":"Datumbereik","notifications.panel.triggers.title":"voor {triggeredCount}/{totalCount} items","notifications.panel.triggers.dialog.newValue":"Nieuwe waarde",close:"Sluiten","notifications.panel.triggers.dialog.title":"Geactiveerd voor","notifications.panel.error.learnMore":"Meer informatie","notifications.panel.error.traceId":"Traceer-ID","notifications.panel.error.message":"De waarschuwing kon niet worden verwerkt.","notifications.panel.button.label":"Meldingen","notifications.panel.notifications.list.label":"Meldingen","notifications.panel.alert.notification.type.label":"Waarschuwingsmelding","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…en {count} meer","notifications.panel.download":"Downloaden","notifications.panel.expiresOn":"Verloopt op{date}","notifications.panel.linkHasExpired":"Link is verlopen","notifications.panel.toast.warning.filesExpired":"<strong>Downloadlink verlopen</strong> — wacht op de volgende export of maak er handmatig een.","notifications.panel.dashboardLinkHint":"Open het dashboard dat voor deze export wordt gebruikt","notifications.panel.dashboardLink":"Van{dashboardTitle}","notifications.panel.downloadFilesHint":"De geëxporteerde bestanden downloaden","notifications.panel.error.alert.title":"De waarschuwing kon niet worden verwerkt.","notifications.panel.error.schedule.title":"Geplande export mislukt.","notifications.panel.error.limitExceeded.message":"Uw export kon niet worden verzonden omdat uw organisatie de limiet voor het maximum aantal dagelijkse waarschuwingen en geplande exports heeft bereikt. Neem contact op met uw beheerder."},"pt-BR":{or:"ou","dashboard.bucket.measures_title.column._measure":"Medidas","dashboard.bucket.measures_title.column._metric":"Métricas","dashboard.bucket.measures_title.bar._measure":"Medidas","dashboard.bucket.measures_title.bar._metric":"Métricas","dashboard.bucket.measures_title.line._measure":"Medidas","dashboard.bucket.measures_title.line._metric":"Métricas","dashboard.bucket.measures_title.area._measure":"Medidas","dashboard.bucket.measures_title.area._metric":"Métricas","dashboard.bucket.measures_title.pie._measure":"Medidas","dashboard.bucket.measures_title.pie._metric":"Métricas","dashboard.bucket.measures_title.funnel._measure":"Medidas","dashboard.bucket.measures_title.funnel._metric":"Métricas","dashboard.bucket.measures_title.pyramid._measure":"Medidas","dashboard.bucket.measures_title.pyramid._metric":"Métricas","dashboard.bucket.measures_title.treemap._measure":"Medidas","dashboard.bucket.measures_title.treemap._metric":"Métricas","dashboard.bucket.measures_title.donut._measure":"Medidas","dashboard.bucket.measures_title.donut._metric":"Métricas","dashboard.bucket.measures_title.heatmap._measure":"Medida","dashboard.bucket.measures_title.heatmap._metric":"Métrica","dashboard.bucket.measures_title.headline._measure":"Medida","dashboard.bucket.measures_title.headline._metric":"Métrica","dashboard.bucket.measures_subtitle.headline":"primário","dashboard.bucket.secondary_measures_title.headline._measure":"Medida","dashboard.bucket.secondary_measures_title.headline._metric":"Métrica","dashboard.bucket.secondary_measures_subtitle.headline":"secundário","dashboard.bucket.measures_title.scatter._measure":"Medida","dashboard.bucket.measures_title.scatter._metric":"Métrica","dashboard.bucket.secondary_measures_title.scatter._measure":"Medida","dashboard.bucket.secondary_measures_title.scatter._metric":"Métrica","dashboard.bucket.measures_subtitle.scatter":"Eixo X","dashboard.bucket.secondary_measures_subtitle.scatter":"Eixo Y","dashboard.bucket.attribute_title.scatter":"Ver por","dashboard.bucket.measures_title.combo._measure":"Medidas","dashboard.bucket.measures_title.combo._metric":"Métricas","dashboard.bucket.measures_subtitle.combo":"Coluna","dashboard.bucket.secondary_measures_title.combo._measure":"Medidas","dashboard.bucket.secondary_measures_title.combo._metric":"Métricas","dashboard.bucket.secondary_measures_subtitle.combo":"Linha","dashboard.bucket.measures_title.xirr._measure":"Medida","dashboard.bucket.measures_title.xirr._metric":"Métrica","dashboard.bucket.measures_title.waterfall._measure":"Medidas","dashboard.bucket.measures_title.waterfall._metric":"Métricas","dashboard.bucket.attribute_title.xirr":"Atributo de data","dashboard.bucket.attribute_from_title.sankey":"Atributo","dashboard.bucket.attribute_from_subtitle.sankey":"de","dashboard.bucket.attribute_to_title.sankey":"Atributo","dashboard.bucket.attribute_to_subtitle.sankey":"para","dashboard.bucket.attribute_from_title.dependencywheel":"Atributo","dashboard.bucket.attribute_from_subtitle.dependencywheel":"de","dashboard.bucket.attribute_to_title.dependencywheel":"Atributo","dashboard.bucket.attribute_to_subtitle.dependencywheel":"para","dashboard.bucket.combo.subtitle.column":"como colunas","dashboard.bucket.combo.subtitle.line":"como linhas","dashboard.bucket.combo.subtitle.area":"como áreas","dashboard.bucket.measures_title.bubble._measure":"Medida","dashboard.bucket.measures_title.bubble._metric":"Métrica","dashboard.bucket.secondary_measures_title.bubble._measure":"Medida","dashboard.bucket.secondary_measures_title.bubble._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bubble._measure":"Medida","dashboard.bucket.tertiary_measures_title.bubble._metric":"Métrica","dashboard.bucket.measures_subtitle.bubble":"Eixo X","dashboard.bucket.secondary_measures_subtitle.bubble":"Eixo Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Tamanho","dashboard.bucket.location_title.pushpin":"Localização","dashboard.bucket.size_title.pushpin._measure":"Medida","dashboard.bucket.size_title.pushpin._metric":"Métrica","dashboard.bucket.size_subtitle.pushpin":"Tamanho","dashboard.bucket.color_title.pushpin._measure":"Medida","dashboard.bucket.color_title.pushpin._metric":"Métrica","dashboard.bucket.color_subtitle.pushpin":"Cor","dashboard.bucket.view_title.bubble":"Ver por","dashboard.bucket.view_title.pie":"Ver por","dashboard.bucket.view_title.treemap":"Ver por","dashboard.bucket.view_title.donut":"Ver por","dashboard.bucket.view_title.funnel":"Ver por","dashboard.bucket.view_title.pyramid":"Ver por","dashboard.bucket.view_title.column":"Ver por","dashboard.bucket.view_title.bar":"Ver por","dashboard.bucket.view_title.area":"Ver por","dashboard.bucket.view_title.bullet":"Ver por","dashboard.bucket.view_title.waterfall":"Ver por","dashboard.bucket.view_title.heatmap":"Linhas","dashboard.bucket.trend_title.line":"Tendência por","dashboard.bucket.view_title.combo":"Ver por","dashboard.bucket.stack_title.column":"Empilhar por","dashboard.bucket.stack_title.bar":"Empilhar por","dashboard.bucket.stack_title.area":"Empilhar por","dashboard.bucket.stack_title.heatmap":"Colunas","dashboard.bucket.segment_title.line":"Segmento por","dashboard.bucket.segment_title.treemap":"Segmento por","dashboard.bucket.segment_title.pushpin":"Segmento por","dashboard.bucket.metric_segment_by_warning._measure":"Para adicionar medida, remova {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Para adicionar métrica, remova {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Para adicionar medida, remova {icons} de '<span class=\"stack-by\">'empilhar por'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Para adicionar métrica, remova {icons} de '<span class=\"stack-by\">'empilhar por'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Para adicionar medida, remova {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Para adicionar métrica, remova {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.category_view_by_warning._measure":"Para visualizar por outro atributo, uma visualização pode ter apenas uma medida","dashboard.bucket.category_view_by_warning._metric":"Para exibir por outro atributo, uma visualização pode ter apenas uma métrica","dashboard.bucket.view_stack_by_warning":"Para adicionar atributo, remova {icons} de '<span class=\"stack-by\">'empilhar por'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Para empilhar, uma visualização pode ter apenas uma medida","dashboard.bucket.category_stack_by_warning._metric":"Para empilhar, uma visualização pode ter apenas uma métrica","dashboard.bucket.stack_view_by_warning":"Para empilhar por, uma visualização pode ter apenas um atributo em exibição por","dashboard.bucket.measure_stack_by_warning._measure":"Para empilhar por um atributo, uma visualização pode ter apenas uma medida","dashboard.bucket.measure_stack_by_warning._metric":"Para empilhar por um atributo, uma visualização pode ter apenas uma métrica","dashboard.bucket.category_columns_warning._measure":"Não é possível adicionar colunas: o limite é de {oldLimit} medidas e {oldRowsLimit} colunas. Siga os limites para adicionar mais","dashboard.bucket.category_columns_warning._metric":"Não é possível adicionar colunas: o limite é de {oldLimit} métricas e {oldRowsLimit} colunas. Siga os limites para adicionar mais","dashboard.bucket.category_measures_rows_warning":"Para adicionar até {limit} a mais, remova todos os itens da seção de colunas","dashboard.bucket.category_category_by_warning._measure":"Para visualizar por, uma visualização pode ter apenas uma medida","dashboard.bucket.category_category_by_warning._metric":"Para exibir por, uma visualização pode ter apenas uma métrica","dashboard.bucket.category_segment_by_warning._measure":"Para segmentar por, uma visualização pode ter apenas uma medida","dashboard.bucket.category_segment_by_warning._metric":"Para segmentar por, uma visualização pode ter apenas uma métrica","dashboard.bucket.measures_title.table._measure":"Medidas","dashboard.bucket.measures_title.table._metric":"Métricas","dashboard.bucket.measures_title.sankey._measure":"MEDIDA","dashboard.bucket.measures_title.sankey._metric":"MÉTRICA","dashboard.bucket.measures_title.dependencywheel._measure":"MEDIDA","dashboard.bucket.measures_title.dependencywheel._metric":"MÉTRICA","dashboard.bucket.attribute_title.table":"Linhas","dashboard.bucket.columns_title.table":"Colunas","dashboard.bucket.attribute_title.repeater":"Linhas","dashboard.bucket.view_title.repeater":"Ver por","dashboard.bucket.columns_title.repeater":"Colunas","dashboard.error.missing_primary_bucket_item.heading._measure":"Nenhuma medida primária em sua visualização","dashboard.error.missing_primary_bucket_item.heading._metric":"Nenhuma métrica primária em sua visualização","dashboard.error.missing_primary_bucket_item.text._measure":"Adicione uma medida primária à sua visualização ou mude para a tabela.\nUma vez feito, você será capaz de salvá-lo.","dashboard.error.missing_primary_bucket_item.text._metric":"Adicione uma métrica primária à sua visualização ou mude para a tabela.\nUma vez feito, você será capaz de salvá-lo.","dashboard.xirr.error.invalid_buckets.heading":"Configuração incompleta","dashboard.xirr.error.invalid_buckets.text._measure":"Verifique se você selecionou um atributo de medida e um atributo de data","dashboard.xirr.error.invalid_buckets.text._metric":"Não se esqueça de selecionar uma métrica e um atributo de data.","properties.unsupported":"A visualização é incompatível com a configuração","properties.config.not_applicable":"O Painel de Configuração não é aplicável a esta configuração da visualização","properties.not_applicable":"A propriedade não é aplicável a essa configuração da visualização","properties.auto_placeholder":"automático","properties.auto_default":"automático (padrão)","properties.legend.title":"Legenda","properties.legend.position":"Posição","properties.total.title":"Total","properties.total.name":"Nome","properties.total.tooltip":"Adicionar soma de todos os valores como uma coluna no final.","properties.total.measures.tooltip":'Desativar opções "é total" na métrica para adicionar soma de todos os valores como uma coluna no final.',"properties.color.total":"Total","properties.color.positive":"Positivo","properties.color.negative":"Negativo","properties.canvas.title":"Tela","properties.canvas.gridline":"Linha de grade","properties.canvas.labels.percentages":"Porcentagem","properties.canvas.labels.percentages.info":"Exibe a porcentagem em cada fatia, com a fatia mais acima sendo 100% e as outras uma fração daquele valor.","properties.canvas.labels.percentages.disabled":"Esconde porcentagens devido a rótulos de dados escondidos.","properties.canvas.continuousLine.label":"Linha contínua","properties.canvas.continuousLine.tooltip":"Desenha uma linha entre pontos com valores ausentes.","properties.canvas.dataLabels":"Labels de Dados","properties.canvas.dataLabels.auto":"automático (padrão)","properties.canvas.dataLabels.show":"mostrar","properties.canvas.dataLabels.hide":"ocultar","properties.canvas.rowHeight":"Altura da linha","properties.canvas.rowHeight.small":"pequena","properties.canvas.rowHeight.medium":"média","properties.canvas.rowHeight.large":"grande","properties.canvas.verticalAlign":"Alinhamento vertical","properties.canvas.verticalAlign.top":"superior","properties.canvas.verticalAlign.middle":"meio","properties.canvas.verticalAlign.bottom":"inferior","properties.canvas.textWrapping":"Quebra automática de texto","properties.canvas.textWrapping.clip":"recortar","properties.canvas.textWrapping.wrap":"quebrar linha","properties.canvas.image":"Imagem","properties.canvas.image.fit":"ajustar","properties.canvas.image.fill":"preencher","properties.forecast.title":"Previsão","properties.forecastDisabled.title":"Previsão indisponível para essa combinação de cestas","properties.forecastPeriod.title":"Período","properties.forecastPeriod.placeholder":"Período","properties.forecastSeasonal.title":"Sazonalidade","properties.forecastConfidence.title":"Confiança","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Total de rótulos","properties.canvas.totalLabels.auto":"automático (padrão)","properties.canvas.totalLabels.show":"mostrar","properties.canvas.totalLabels.hide":"ocultar","properties.canvas.dataPoints":"Pontos de dados","properties.canvas.dataPoints.auto":"automático (padrão)","properties.canvas.dataPoints.show":"mostrar","properties.canvas.dataPoints.hide":"ocultar","properties.yaxis.title":"Eixo Y","properties.axis.labels":"rótulos","properties.axis.rotation":"Rotação","properties.axis.format":"Formato","properties.axis.format.inherit":"herdar","properties.axis.format.info.inherit._measure":"O formato é herdado da primeira medida na visualização.","properties.axis.format.info.inherit._metric":"O formato é herdado da primeira métrica na visualização.","properties.axis.name":"nome","properties.axis.name.position":"Posição","properties.axis.name.position.left":"esquerda","properties.axis.name.position.center":"centro","properties.axis.name.position.right":"direita","properties.axis.name.position.top":"superior","properties.axis.name.position.middle":"meio","properties.axis.name.position.bottom":"inferior","properties.axis.min":"Mínimo","properties.axis.min.warning":"O valor mín não pode ser maior que o valor máx","properties.axis.max":"Máx","properties.axis.max.warning":"O valor máx não pode ser menor que o valor mín","properties.xaxis.title":"Eixo X","properties.axis.scale":"escala","properties.axis.left":"Esquerda","properties.axis.right":"Direita","properties.axis.top":"Superior","properties.axis.bottom":"Inferior","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"superior","properties.legend.position.down":"inferior","properties.legend.position.right":"direita","properties.legend.position.left":"esquerda","properties.orientation.title":"Orientação","properties.orientation.horizontal":"Horizontal (padrão)","properties.orientation.vertical":"Vertical","properties.points.title":"Pontos","properties.points.groupNearbyPoints":"Pontos de grupo nas proximidades","properties.points.size.title":"Tamanho do Ponto","properties.points.size.extra_small":"0.5x","properties.points.size.small":"0.75x","properties.points.size.normal":"normal","properties.points.size.large":"1.25x","properties.points.size.extra_large":"1.5x","properties.points.size.min.title":"Menor","properties.points.size.max.title":"Maior","properties.map.title":"Mapa","properties.viewport.area.title":"Janela de exibição padrão","properties.viewport.area.auto_default":"Incluir todos os dados","properties.viewport.area.continents":"continentes","properties.viewport.area.continent_af":"África","properties.viewport.area.continent_as":"Ásia","properties.viewport.area.continent_au":"Austrália","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"América do Norte","properties.viewport.area.continent_sa":"América do Sul","properties.viewport.area.world":"Mundial","gs.color-dropdown.custom-color":"Cor personalizada","properties.colors.reset-colors":"Redefinir cores","properties.colors":"Cores","properties.colors.unsupported":"Não há cores para essa configuração da visualização","export_unsupported.colors":"A visualização não é compatível com cores personalizadas. Para abrir a visualização como um relatório, clique em Redefinir cores em Configuração —> Cores.","dashboard.bucket.measures_title.bullet._measure":"Medida","dashboard.bucket.measures_title.bullet._metric":"Métrica","dashboard.bucket.secondary_measures_title.bullet._measure":"Medida","dashboard.bucket.secondary_measures_title.bullet._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bullet._measure":"Medida","dashboard.bucket.tertiary_measures_title.bullet._metric":"Métrica","dashboard.bucket.measures_subtitle.bullet":"Primário","dashboard.bucket.secondary_measures_subtitle.bullet":"Meta","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparativo","sorting.disabled.explanation.attribute":"A classificação não é possível para essa configuração de visualização.","sorting.disabled.explanation.measure._measure":"Você deve adicionar pelo menos um atributo para classificar a visualização. Também é possível ajustar a posição dos itens na seção Medidas para alterar sua posição na visualização.","sorting.disabled.explanation.measure._metric":"Você deve adicionar pelo menos um atributo para classificar a visualização. Também é possível ajustar a posição dos itens na seção Métricas para alterar sua posição na visualização.","properties.metrics.title._measure":"Medidas","properties.metrics.title._metric":"Métricas","properties.metrics.position":"Posição","properties.metrics.position.columns":"colunas (padrão)","properties.metrics.position.rows":"linhas","properties.column.headers.title":"Cabeçalhos das Colunas","properties.column.headers.position":"Posição","properties.column.headers.position.top":"superior (padrão)","properties.column.headers.position.left":"esquerda","dashboard.bucket.table.subtitle.columns":"em colunas","dashboard.bucket.table.subtitle.rows":"em linhas","properties.interactions.title":"Interações","properties.interactions.drillDown":"Detalhamento aprofundado","properties.comparison.title":"Comparação","properties.comparison.calculationType.title":"Calculado como","properties.comparison.calculationType.as.change":"Alterar","properties.comparison.calculationType.as.ratio":"Proporção","properties.comparison.calculationType.as.difference":"Diferença","properties.comparison.calculationType.as.changeDifference":"Mudança (diferença)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calcula a mudança relativa entre os valores métricos primário e secundário.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calcula a mudança relativa entre os valores de medida primário e secundário.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifica a parcela do valor métrico primário presente no valor métrico secundário.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifica a parcela do valor de medida primário presente no valor de medida secundário.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calcula a diferença absoluta entre os valores métrico primário e secundário.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calcula a diferença absoluta entre os valores de medida primário e secundário.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calcula a mudança relativa e a diferença absoluta entre os valores métricos primário e secundário.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calcula a mudança relativa e a diferença absoluta entre os valores de medida primário e secundário.","properties.comparison.calculationType.tooltip.formula.section":"Fórmula","properties.comparison.calculationType.tooltip.formulaChange.section":"Fórmula (mudança relativa)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Fórmula (diferença absoluta)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primário - Secundário) / Secundário","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primário / Secundário","properties.comparison.calculationType.as.difference.tooltip.formula":"Primário - Secundário","properties.comparison.calculationType.tooltip.example.section":" Exemplo","properties.comparison.calculationType.as.change.tooltip.example":"Mudança de vendas ano a ano = (vendas do ano atual - vendas do ano anterior) / vendas do ano anterior","properties.comparison.calculationType.as.ratio.tooltip.example":"Vendas atuais comparadas a uma meta = vendas atuais / meta","properties.comparison.calculationType.as.difference.tooltip.example":"Diferença de vendas ano a ano = vendas do ano atual - vendas do ano anterior","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Mudança de vendas ano a ano = [(vendas do ano atual - vendas do ano anterior) / vendas do ano anterior] E [vendas do ano atual - vendas do ano anterior]","properties.comparison.measureNumber.format.preset.inherit":"Herdado","properties.comparison.measureNumber.format.preset.rounded":"Arredondada","properties.comparison.measureNumber.format.preset.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Percentual (arredondado)","properties.comparison.measureNumber.format.preset.percent1":"Percentual (1)","properties.comparison.measureNumber.format.preset.percent2":"Percentual (2)","properties.comparison.measureNumber.format.template.rounded":"Arredondada","properties.comparison.measureNumber.format.template.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Percentual (arredondado)","properties.comparison.measureNumber.format.template.percent1":"Percentual (1)","properties.comparison.measureNumber.format.template.percent2":"Percentual (2)","properties.comparison.measureNumber.format.template.currency":"Moeda","properties.comparison.measureNumber.format.template.currencyShortened":"Moeda abreviada","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Números grandes abreviados","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Números grandes abreviados com cores","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Números negativos em vermelho","properties.comparison.measureNumber.format.template.financial":"Financeiro","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimal (2) sem separador de milhar","properties.comparison.measureNumber.format.template.conditionalColors":"Cores condicionais","properties.comparison.measureNumber.format.template.trendSymbols":"Símbolos de tendência","properties.comparison.measureNumber.format.template.timeFromSeconds":"Hora (a partir de segundos)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zero no lugar de valor em branco","properties.comparison.valueSubSection.title":"Valor","properties.comparison.format.title":"Formato","properties.comparison.subFormat.title":"(Formato)","properties.comparison.indicator.title":"Indicador","properties.comparison.indicator.arrow.title":"Seta","properties.comparison.indicator.colorConfig.title":"Cor","properties.comparison.indicator.colorConfig.equals":"Primário = Secundário","properties.comparison.indicator.colorConfig.positive":"Primário > Secundário","properties.comparison.indicator.colorConfig.negative":"Primário < Secundário","properties.comparison.labelSubSection.title":"Rótulo","properties.comparison.labelSubSection.positionOnTop.disabled":"Rótulos não se aplicam a valores posicionados no topo.","properties.comparison.labelSubSection.conditional.disabled":"Rótulos condicionais não aplicáveis a cálculos de proporção.","properties.comparison.labelName.title":"Nome","properties.comparison.labelConditional.title":"Condicional","properties.comparison.labelPositive.title":"Primário > Secundário","properties.comparison.labelNegative.title":"Primário < Secundário","properties.comparison.labelEquals.title":"Primário = Secundário","properties.comparison.position.title":"Posição","properties.comparison.position.top":"superior","properties.comparison.position.right":"direita","properties.comparison.position.left":"esquerda","properties.forecastSliced.title":"Mostrando previsão parcial.","properties.forecastSliced.description":"Os pontos de dados disponíveis não cobrem todo o período selecionado.","dashboard.bucket.segment_title.scatter":"Segmento por","properties.clustering.title":"Cluster","properties.clustering.amount":"Quantidade","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Mostrando clusters parciais","properties.clustering.amount.partial.description":"Os pontos de dados disponíveis não cobrem todo o valor selecionado.","properties.clustering.disabled":"O clustering requer 2 métricas e exibir por, sem segmentar por.","properties.clustering.threshold":"Limiar","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"O limiar é um limite que determina quando agrupar dados. <link>Saiba mais</link>","visualizations.headline.tertiary.title":"Versus","properties.interactions.alerts":"Alerta","properties.interactions.alerts.tooltip":"Permita que os usuários criem alertas para esta visualização em painéis.","properties.interactions.scheduledExports":"Exportações agendadas","properties.interactions.scheduledExports.tooltip":"Permita que os usuários criem exportações agendadas para esta visualização em painéis.","properties.advanced.title":"Personalizações avançadas","properties.advanced.chartConfigOverride.noValueLabel":"Ainda não há personalizações.","properties.advanced.chartConfigOverride.link":"Saber mais","properties.advanced.chartConfigOverride.editorButton":"Abrir editor","properties.advanced.chartConfigOverride.title":"Personalização avançada","properties.advanced.chartConfigOverride.snippets.header":"Trechos","properties.advanced.chartConfigOverride.button.apply":"Aplicar","properties.advanced.chartConfigOverride.button.cancel":"Cancelar","gs.date.yesterday":"Ontem","notifications.panel.tab.unread":"Não lido ({count})","notifications.panel.tab.all":"Todos","notifications.panel.markAllAsRead":"Marcar tudo como lido","notifications.panel.error.loading":"Erro ao carregar notificações","notifications.panel.empty.all":"Nenhuma notificação","notifications.panel.empty.unread":"Nenhuma notificação não lida","notifications.panel.unsupported.notification.type":"Tipo de notificação não suportado","notifications.panel.markAsRead":"Marcar como lido","notifications.filters.buttonLabel":"{count, plural, one {# filtro} other {# filtros}}","notifications.filters.dialog.title":"Filtros","notifications.filters.dialog.dateRange":"Intervalo de Datas","notifications.panel.triggers.title":"para {triggeredCount}/{totalCount} itens","notifications.panel.triggers.dialog.newValue":"Novo valor",close:"Fechar","notifications.panel.triggers.dialog.title":"Acionado para","notifications.panel.error.learnMore":"Saber mais","notifications.panel.error.traceId":"ID de rastreamento","notifications.panel.error.message":"Não foi possível processar o alerta.","notifications.panel.button.label":"Notificações","notifications.panel.notifications.list.label":"Notificações","notifications.panel.alert.notification.type.label":"Notificação de alerta","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…e mais {count}","notifications.panel.download":"Baixar","notifications.panel.expiresOn":"Expira em {date}","notifications.panel.linkHasExpired":"O link expirou","notifications.panel.toast.warning.filesExpired":"<strong>Link para download expirado</strong> — aguarde a próxima exportação ou crie uma manualmente.","notifications.panel.dashboardLinkHint":"Abra o painel usado para esta exportação","notifications.panel.dashboardLink":"De {dashboardTitle}","notifications.panel.downloadFilesHint":"Baixe os arquivos exportados","notifications.panel.error.alert.title":"Não foi possível processar o alerta.","notifications.panel.error.schedule.title":"Falha na exportação agendada.","notifications.panel.error.limitExceeded.message":"Sua exportação não pôde ser enviada, pois sua organização atingiu o limite máximo de alertas diários e exportações agendadas. Entre em contato com seu administrador."},"pt-PT":{or:"ou","dashboard.bucket.measures_title.column._measure":"Medidas","dashboard.bucket.measures_title.column._metric":"Métricas","dashboard.bucket.measures_title.bar._measure":"Medidas","dashboard.bucket.measures_title.bar._metric":"Métricas","dashboard.bucket.measures_title.line._measure":"Medidas","dashboard.bucket.measures_title.line._metric":"Métricas","dashboard.bucket.measures_title.area._measure":"Medidas","dashboard.bucket.measures_title.area._metric":"Métricas","dashboard.bucket.measures_title.pie._measure":"Medidas","dashboard.bucket.measures_title.pie._metric":"Métricas","dashboard.bucket.measures_title.funnel._measure":"Medidas","dashboard.bucket.measures_title.funnel._metric":"Métricas","dashboard.bucket.measures_title.pyramid._measure":"Medidas","dashboard.bucket.measures_title.pyramid._metric":"Métricas","dashboard.bucket.measures_title.treemap._measure":"Medidas","dashboard.bucket.measures_title.treemap._metric":"Métricas","dashboard.bucket.measures_title.donut._measure":"Medidas","dashboard.bucket.measures_title.donut._metric":"Métricas","dashboard.bucket.measures_title.heatmap._measure":"Medir","dashboard.bucket.measures_title.heatmap._metric":"Métrica","dashboard.bucket.measures_title.headline._measure":"Medir","dashboard.bucket.measures_title.headline._metric":"Métrica","dashboard.bucket.measures_subtitle.headline":"primário","dashboard.bucket.secondary_measures_title.headline._measure":"Medir","dashboard.bucket.secondary_measures_title.headline._metric":"Métrica","dashboard.bucket.secondary_measures_subtitle.headline":"secundário","dashboard.bucket.measures_title.scatter._measure":"Medir","dashboard.bucket.measures_title.scatter._metric":"Métrica","dashboard.bucket.secondary_measures_title.scatter._measure":"Medir","dashboard.bucket.secondary_measures_title.scatter._metric":"Métrica","dashboard.bucket.measures_subtitle.scatter":"Eixo do X","dashboard.bucket.secondary_measures_subtitle.scatter":"Eixo do Y","dashboard.bucket.attribute_title.scatter":"Ver por","dashboard.bucket.measures_title.combo._measure":"Medidas","dashboard.bucket.measures_title.combo._metric":"Métricas","dashboard.bucket.measures_subtitle.combo":"Coluna","dashboard.bucket.secondary_measures_title.combo._measure":"Medidas","dashboard.bucket.secondary_measures_title.combo._metric":"Métricas","dashboard.bucket.secondary_measures_subtitle.combo":"Linha","dashboard.bucket.measures_title.xirr._measure":"Medir","dashboard.bucket.measures_title.xirr._metric":"Métrica","dashboard.bucket.measures_title.waterfall._measure":"Medidas","dashboard.bucket.measures_title.waterfall._metric":"Métricas","dashboard.bucket.attribute_title.xirr":"Atributo de data","dashboard.bucket.attribute_from_title.sankey":"Atributo","dashboard.bucket.attribute_from_subtitle.sankey":"desde","dashboard.bucket.attribute_to_title.sankey":"Atributo","dashboard.bucket.attribute_to_subtitle.sankey":"até","dashboard.bucket.attribute_from_title.dependencywheel":"Atributo","dashboard.bucket.attribute_from_subtitle.dependencywheel":"desde","dashboard.bucket.attribute_to_title.dependencywheel":"Atributo","dashboard.bucket.attribute_to_subtitle.dependencywheel":"até","dashboard.bucket.combo.subtitle.column":"como colunas","dashboard.bucket.combo.subtitle.line":"como linhas","dashboard.bucket.combo.subtitle.area":"como áreas","dashboard.bucket.measures_title.bubble._measure":"Medir","dashboard.bucket.measures_title.bubble._metric":"Métrica","dashboard.bucket.secondary_measures_title.bubble._measure":"Medir","dashboard.bucket.secondary_measures_title.bubble._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bubble._measure":"Medir","dashboard.bucket.tertiary_measures_title.bubble._metric":"Métrica","dashboard.bucket.measures_subtitle.bubble":"Eixo do X","dashboard.bucket.secondary_measures_subtitle.bubble":"Eixo do Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Tamanho","dashboard.bucket.location_title.pushpin":"Localização","dashboard.bucket.size_title.pushpin._measure":"Medir","dashboard.bucket.size_title.pushpin._metric":"Métrica","dashboard.bucket.size_subtitle.pushpin":"Tamanho","dashboard.bucket.color_title.pushpin._measure":"Medir","dashboard.bucket.color_title.pushpin._metric":"Métrica","dashboard.bucket.color_subtitle.pushpin":"Cor","dashboard.bucket.view_title.bubble":"Ver por","dashboard.bucket.view_title.pie":"Ver por","dashboard.bucket.view_title.treemap":"Ver por","dashboard.bucket.view_title.donut":"Ver por","dashboard.bucket.view_title.funnel":"Ver por","dashboard.bucket.view_title.pyramid":"Ver por","dashboard.bucket.view_title.column":"Ver por","dashboard.bucket.view_title.bar":"Ver por","dashboard.bucket.view_title.area":"Ver por","dashboard.bucket.view_title.bullet":"Ver por","dashboard.bucket.view_title.waterfall":"Ver por","dashboard.bucket.view_title.heatmap":"Linhas","dashboard.bucket.trend_title.line":"Apresentar tendência por","dashboard.bucket.view_title.combo":"Ver por","dashboard.bucket.stack_title.column":"Empilhar por","dashboard.bucket.stack_title.bar":"Empilhar por","dashboard.bucket.stack_title.area":"Empilhar por","dashboard.bucket.stack_title.heatmap":"Colunas","dashboard.bucket.segment_title.line":"Segmentar por","dashboard.bucket.segment_title.treemap":"Segmentar por","dashboard.bucket.segment_title.pushpin":"Segmentar por","dashboard.bucket.metric_segment_by_warning._measure":"Para acrescentar uma medida adicional, remova {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Para acrescentar uma métrica adicional, remova {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Para acrescentar uma medida adicional, remova {icons} de '<span class=\"stack-by\">'empilhar por'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Para acrescentar uma métrica adicional, remova {icons} de '<span class=\"stack-by\">'empilhar por'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Para acrescentar uma medida adicional, remova {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Para acrescentar uma métrica adicional, remova {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.category_view_by_warning._measure":"Para visualizar por outro atributo, uma visualização pode ter apenas uma medida","dashboard.bucket.category_view_by_warning._metric":"Para visualizar por outro atributo, uma visualização pode ter apenas uma métrica","dashboard.bucket.view_stack_by_warning":"Para acrescentar um atributo adicional, remova {icons} de '<span class=\"stack-by\">'empilhar por'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Para empilhar, uma visualização pode ter apenas uma medida","dashboard.bucket.category_stack_by_warning._metric":"Para empilhar, uma visualização pode ter apenas uma métrica","dashboard.bucket.stack_view_by_warning":"Para empilhar, uma visualização só pode ter um atributo na vista por","dashboard.bucket.measure_stack_by_warning._measure":"Para empilhar por um atributo, uma visualização pode ter apenas uma medida","dashboard.bucket.measure_stack_by_warning._metric":"Para empilhar por um atributo, uma visualização pode ter apenas uma métrica","dashboard.bucket.category_columns_warning._measure":"Não é possível adicionar colunas: o limite é {oldLimit} medidas e {oldRowsLimit} linhas. Para adicionar mais, cumpra os limites.","dashboard.bucket.category_columns_warning._metric":"Não é possível adicionar colunas: o limite é {oldLimit} métricas e {oldRowsLimit} linhas. Para adicionar mais, cumpra os limites.","dashboard.bucket.category_measures_rows_warning":"Para adicionar até mais {limit}, remova todos os itens da secção colunas","dashboard.bucket.category_category_by_warning._measure":"Para visualizar por, uma visualização pode ter apenas uma medida","dashboard.bucket.category_category_by_warning._metric":"Para visualizar por, uma visualização pode ter apenas uma métrica","dashboard.bucket.category_segment_by_warning._measure":"Para segmentar, uma visualização pode ter apenas uma medida","dashboard.bucket.category_segment_by_warning._metric":"Para segmentar, uma visualização pode ter apenas uma métrica","dashboard.bucket.measures_title.table._measure":"Medidas","dashboard.bucket.measures_title.table._metric":"Métricas","dashboard.bucket.measures_title.sankey._measure":"MEDIDA","dashboard.bucket.measures_title.sankey._metric":"MÉTRICA","dashboard.bucket.measures_title.dependencywheel._measure":"MEDIDA","dashboard.bucket.measures_title.dependencywheel._metric":"MÉTRICA","dashboard.bucket.attribute_title.table":"Linhas","dashboard.bucket.columns_title.table":"Colunas","dashboard.bucket.attribute_title.repeater":"Linhas","dashboard.bucket.view_title.repeater":"Ver por","dashboard.bucket.columns_title.repeater":"Colunas","dashboard.error.missing_primary_bucket_item.heading._measure":"Nenhuma medida primária na sua visualização","dashboard.error.missing_primary_bucket_item.heading._metric":"Nenhuma métrica primária na sua visualização","dashboard.error.missing_primary_bucket_item.text._measure":"Adicione uma medida primária à sua visualização ou mude para a tabela.\nUma vez concluída, poderá guardá-la.","dashboard.error.missing_primary_bucket_item.text._metric":"Adicione uma métrica primária à sua visualização ou mude para uma tabela.\nUma vez concluída, poderá guardá-la.","dashboard.xirr.error.invalid_buckets.heading":"Configuração incompleta","dashboard.xirr.error.invalid_buckets.text._measure":"Certifique-se de que selecionou uma medida e um atributo de data","dashboard.xirr.error.invalid_buckets.text._metric":"Certifique-se de que selecionou uma métrica e um atributo de data","properties.unsupported":"Esta visualização não suporta configuração","properties.config.not_applicable":"O Painel de Configuração não é aplicável a esta configuração da visualização","properties.not_applicable":"A propriedade não é aplicável a esta configuração da visualização","properties.auto_placeholder":"automático","properties.auto_default":"automático (predefinição)","properties.legend.title":"Legenda","properties.legend.position":"Posição","properties.total.title":"Total","properties.total.name":"Nome","properties.total.tooltip":"Adicionar a soma de todos os valores como coluna no final.","properties.total.measures.tooltip":'Desative as opções "é total" da métrica para adicionar a soma de todos os valores como coluna no final.',"properties.color.total":"Total","properties.color.positive":"Positivo","properties.color.negative":"Negativo","properties.canvas.title":"Tela","properties.canvas.gridline":"Linha de grelha","properties.canvas.labels.percentages":"Percentagem","properties.canvas.labels.percentages.info":"Apresentar percentagens em cada fatia, com a fatia superior representando 100% e as restantes como frações desse valor.","properties.canvas.labels.percentages.disabled":"As percentagens são ocultas devido a etiquetas de dados ocultas.","properties.canvas.continuousLine.label":"Linha contínua","properties.canvas.continuousLine.tooltip":"Desenhar uma linha entre pontos com valores em falta.","properties.canvas.dataLabels":"Etiquetas de Dados","properties.canvas.dataLabels.auto":"automático (predefinição)","properties.canvas.dataLabels.show":"mostrar","properties.canvas.dataLabels.hide":"ocultar","properties.canvas.rowHeight":"Altura da linha","properties.canvas.rowHeight.small":"pequena","properties.canvas.rowHeight.medium":"média","properties.canvas.rowHeight.large":"grande","properties.canvas.verticalAlign":"Alinhar vertical","properties.canvas.verticalAlign.top":"cima","properties.canvas.verticalAlign.middle":"meio","properties.canvas.verticalAlign.bottom":"baixo","properties.canvas.textWrapping":"Moldagem de texto","properties.canvas.textWrapping.clip":"recortar","properties.canvas.textWrapping.wrap":"moldar","properties.canvas.image":"Imagem","properties.canvas.image.fit":"ajustar","properties.canvas.image.fill":"preencher","properties.forecast.title":"Previsão","properties.forecastDisabled.title":"A previsão não se encontra disponível para esta combinação de buckets","properties.forecastPeriod.title":"Período","properties.forecastPeriod.placeholder":"Período","properties.forecastSeasonal.title":"Sazonalidade","properties.forecastConfidence.title":"Confiança","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Total de etiquetas","properties.canvas.totalLabels.auto":"automático (predefinição)","properties.canvas.totalLabels.show":"mostrar","properties.canvas.totalLabels.hide":"ocultar","properties.canvas.dataPoints":"Pontos de Dados","properties.canvas.dataPoints.auto":"automático (predefinição)","properties.canvas.dataPoints.show":"mostrar","properties.canvas.dataPoints.hide":"ocultar","properties.yaxis.title":"Eixo Y","properties.axis.labels":"etiquetas","properties.axis.rotation":"Rotação","properties.axis.format":"Formato","properties.axis.format.inherit":"herdar","properties.axis.format.info.inherit._measure":"O formato é herdado da primeira medida na visualização.","properties.axis.format.info.inherit._metric":"O formato é herdado da primeira métrica na visualização.","properties.axis.name":"nome","properties.axis.name.position":"Posição","properties.axis.name.position.left":"esquerda","properties.axis.name.position.center":"centro","properties.axis.name.position.right":"direita","properties.axis.name.position.top":"cima","properties.axis.name.position.middle":"meio","properties.axis.name.position.bottom":"baixo","properties.axis.min":"Min","properties.axis.min.warning":"O valor mínimo não pode ser superior ao valor máximo","properties.axis.max":"Máx","properties.axis.max.warning":"O valor máximo não pode ser inferior ao valor mínimo","properties.xaxis.title":"Eixo X","properties.axis.scale":"dimensão","properties.axis.left":"Esquerda","properties.axis.right":"Direita","properties.axis.top":"Superior","properties.axis.bottom":"Inferior","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"cima","properties.legend.position.down":"baixo","properties.legend.position.right":"direita","properties.legend.position.left":"esquerda","properties.orientation.title":"Orientação","properties.orientation.horizontal":"Horizontal (predefinição)","properties.orientation.vertical":"Vertical","properties.points.title":"Pontos","properties.points.groupNearbyPoints":"Agrupar pontos próximos","properties.points.size.title":"Tamanho do Ponto","properties.points.size.extra_small":"0,5x","properties.points.size.small":"0,75x","properties.points.size.normal":"normal","properties.points.size.large":"1,25x","properties.points.size.extra_large":"1,5x","properties.points.size.min.title":"Mais pequeno","properties.points.size.max.title":"Maior","properties.map.title":"Mapa","properties.viewport.area.title":"Janela de visualização predefinida","properties.viewport.area.auto_default":"Incluir todos os dados","properties.viewport.area.continents":"continentes","properties.viewport.area.continent_af":"África","properties.viewport.area.continent_as":"Ásia","properties.viewport.area.continent_au":"Austrália","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"América (Norte)","properties.viewport.area.continent_sa":"América (Sul)","properties.viewport.area.world":"Mundo","gs.color-dropdown.custom-color":"Cor personalizada","properties.colors.reset-colors":"Repor Cores","properties.colors":"Cores","properties.colors.unsupported":"Não há cores para esta configuração da visualização","export_unsupported.colors":"A visualização não é compatível com cores personalizadas. Para abrir a visualização como um relatório, clique em Redefinir cores em Configuração —> Cores.","dashboard.bucket.measures_title.bullet._measure":"Medir","dashboard.bucket.measures_title.bullet._metric":"Métrica","dashboard.bucket.secondary_measures_title.bullet._measure":"Medir","dashboard.bucket.secondary_measures_title.bullet._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bullet._measure":"Medir","dashboard.bucket.tertiary_measures_title.bullet._metric":"Métrica","dashboard.bucket.measures_subtitle.bullet":"Primário","dashboard.bucket.secondary_measures_subtitle.bullet":"Destino","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparativo","sorting.disabled.explanation.attribute":"A ordenação não é possível para esta configuração de visualização.","sorting.disabled.explanation.measure._measure":"É necessário adicionar pelo menos um atributo para ordenar a visualização. Também é possível ajustar a posição dos itens na secção Medidas para alterar a sua posição na visualização.","sorting.disabled.explanation.measure._metric":"É necessário adicionar pelo menos um atributo para ordenar a visualização. Também é possível ajustar a posição dos itens na secção Métricas para alterar a sua posição na visualização.","properties.metrics.title._measure":"Medidas","properties.metrics.title._metric":"Métricas","properties.metrics.position":"Posição","properties.metrics.position.columns":"colunas (predefinição)","properties.metrics.position.rows":"linhas","properties.column.headers.title":"Cabeçalhos de coluna","properties.column.headers.position":"Posição","properties.column.headers.position.top":"superiores (predefinição)","properties.column.headers.position.left":"esquerda","dashboard.bucket.table.subtitle.columns":"em colunas","dashboard.bucket.table.subtitle.rows":"em linhas","properties.interactions.title":"Interações","properties.interactions.drillDown":"Exploração descendente","properties.comparison.title":"Comparação","properties.comparison.calculationType.title":"Calculado como","properties.comparison.calculationType.as.change":"Diferença","properties.comparison.calculationType.as.ratio":"Rácio","properties.comparison.calculationType.as.difference":"Diferença","properties.comparison.calculationType.as.changeDifference":"Alteração (diferença)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calcula a diferença relativa entre os valores métricos primário e secundário.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calcula a diferença relativa entre os valores de medida primário e secundário.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifica a proporção do valor métrico primário no valor métrico secundário.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifica a proporção do valor de medida primário no valor de medida secundário.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calcula a diferença absoluta entre os valores métricos primário e secundário.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calcula a diferença absoluta entre os valores de medida primário e secundário.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calcula a diferença relativa e a diferença absoluta entre os valores métricos primário e secundário.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calcula a diferença relativa e a diferença absoluta entre os valores de medida primário e secundário.","properties.comparison.calculationType.tooltip.formula.section":"Fórmula","properties.comparison.calculationType.tooltip.formulaChange.section":"Fórmula (diferença relativa)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Fórmula (diferença absoluta)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primário - Secundário) / Secundário","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primário / Secundário","properties.comparison.calculationType.as.difference.tooltip.formula":"Primário - Secundário","properties.comparison.calculationType.tooltip.example.section":"Exemplo","properties.comparison.calculationType.as.change.tooltip.example":"Alteração anual de vendas = (vendas do ano atual - vendas do ano anterior) / vendas do ano anterior","properties.comparison.calculationType.as.ratio.tooltip.example":"Vendas atuais comparadas com uma quota = vendas atuais / quota","properties.comparison.calculationType.as.difference.tooltip.example":"Diferença anual de vendas = vendas do ano atual - vendas do ano anterior","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Alteração anual de vendas = [(vendas do ano atual - vendas do ano anterior) / vendas do ano anterior] E [vendas do ano atual - vendas do ano anterior]","properties.comparison.measureNumber.format.preset.inherit":"Herdar","properties.comparison.measureNumber.format.preset.rounded":"Arredondadas","properties.comparison.measureNumber.format.preset.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Percentagem (arredondado)","properties.comparison.measureNumber.format.preset.percent1":"Percentagem (1)","properties.comparison.measureNumber.format.preset.percent2":"Percentagem (2)","properties.comparison.measureNumber.format.template.rounded":"Arredondadas","properties.comparison.measureNumber.format.template.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Percentagem (arredondado)","properties.comparison.measureNumber.format.template.percent1":"Percentagem (1)","properties.comparison.measureNumber.format.template.percent2":"Percentagem (2)","properties.comparison.measureNumber.format.template.currency":"Moeda","properties.comparison.measureNumber.format.template.currencyShortened":"Moeda abreviada","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Números grandes abreviados","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Números grandes abreviados com cores","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Números negativos a vermelho","properties.comparison.measureNumber.format.template.financial":"Financeiro","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimal (2) com separador dos milhares","properties.comparison.measureNumber.format.template.conditionalColors":"Cores condicionais","properties.comparison.measureNumber.format.template.trendSymbols":"Símbolos de tendência","properties.comparison.measureNumber.format.template.timeFromSeconds":"Tempo (segundos desde)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zero em vez de valor em branco","properties.comparison.valueSubSection.title":"Valor","properties.comparison.format.title":"Formato","properties.comparison.subFormat.title":"(Formato)","properties.comparison.indicator.title":"Indicador","properties.comparison.indicator.arrow.title":"Seta","properties.comparison.indicator.colorConfig.title":"Cor","properties.comparison.indicator.colorConfig.equals":"Primário = Secundário","properties.comparison.indicator.colorConfig.positive":"Primário > Secundário","properties.comparison.indicator.colorConfig.negative":"Primário < Secundário","properties.comparison.labelSubSection.title":"Etiqueta","properties.comparison.labelSubSection.positionOnTop.disabled":"Etiquetas não aplicáveis para posição de valor de topo.","properties.comparison.labelSubSection.conditional.disabled":"As etiquetas condicionais não são aplicáveis a cálculos de rácio.","properties.comparison.labelName.title":"Nome","properties.comparison.labelConditional.title":"Condicional","properties.comparison.labelPositive.title":"Primário > Secundário","properties.comparison.labelNegative.title":"Primário < Secundário","properties.comparison.labelEquals.title":"Primário = Secundário","properties.comparison.position.title":"Posição","properties.comparison.position.top":"cima","properties.comparison.position.right":"direita","properties.comparison.position.left":"esquerda","properties.forecastSliced.title":"Apresenta uma previsão parcial.","properties.forecastSliced.description":"Os dados disponíveis não cobrem a totalidade do período selecionado.","dashboard.bucket.segment_title.scatter":"Segmentar por","properties.clustering.title":"Agrupamento","properties.clustering.amount":"Quantidade","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Mostrando agrupamentos parciais","properties.clustering.amount.partial.description":"Os pontos de dados disponíveis não cobrem todo o montante selecionado.","properties.clustering.disabled":"O clustering requer 2 métricas e exibir por, sem segmentar por.","properties.clustering.threshold":"Limiar","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"O limiar é um limite que determina quando agrupar dados. <link>Saiba mais</link>","visualizations.headline.tertiary.title":"Versus","properties.interactions.alerts":"Alerta","properties.interactions.alerts.tooltip":"Permitir que os utilizadores criem alertas para esta visualização nos painéis.","properties.interactions.scheduledExports":"Exportações agendadas","properties.interactions.scheduledExports.tooltip":"Permitir que os utilizadores criem exportações agendadas para esta visualização em painéis.","properties.advanced.title":"Personalizações avançadas","properties.advanced.chartConfigOverride.noValueLabel":"Ainda não há personalizações.","properties.advanced.chartConfigOverride.link":"Saber mais","properties.advanced.chartConfigOverride.editorButton":"Abrir editor","properties.advanced.chartConfigOverride.title":"Personalização avançada","properties.advanced.chartConfigOverride.snippets.header":"Fragmentos","properties.advanced.chartConfigOverride.button.apply":"Aplicar","properties.advanced.chartConfigOverride.button.cancel":"Cancelar","gs.date.yesterday":"Ontem","notifications.panel.tab.unread":"Não lido ({count})","notifications.panel.tab.all":"Todos","notifications.panel.markAllAsRead":"Marcar tudo como lido","notifications.panel.error.loading":"Erro ao carregar notificações","notifications.panel.empty.all":"Sem notificações","notifications.panel.empty.unread":"Sem notificações não lidas","notifications.panel.unsupported.notification.type":"Tipo de notificação não suportado","notifications.panel.markAsRead":"Marcar como lido","notifications.filters.buttonLabel":"{count, plural, one {# filtro} other {# filtros}}","notifications.filters.dialog.title":"Filtros","notifications.filters.dialog.dateRange":"Intervalo de datas","notifications.panel.triggers.title":"para {triggeredCount}/{totalCount} itens","notifications.panel.triggers.dialog.newValue":"Novo valor",close:"Fechar","notifications.panel.triggers.dialog.title":"Acionado para","notifications.panel.error.learnMore":"Saber mais","notifications.panel.error.traceId":"ID de rastreamento","notifications.panel.error.message":"O alerta não pôde ser processado.","notifications.panel.button.label":"Notificações","notifications.panel.notifications.list.label":"Notificações","notifications.panel.alert.notification.type.label":"Notificação de alerta","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…e {count} mais","notifications.panel.download":"Descarregar","notifications.panel.expiresOn":"Expira em {date}","notifications.panel.linkHasExpired":"O link expirou","notifications.panel.toast.warning.filesExpired":"<strong>Link para download expirado</strong> — aguarde a próxima exportação ou crie uma manualmente.","notifications.panel.dashboardLinkHint":"Abra o painel usado para esta exportação","notifications.panel.dashboardLink":"De {dashboardTitle}","notifications.panel.downloadFilesHint":"Baixe os arquivos exportados","notifications.panel.error.alert.title":"O alerta não pôde ser processado.","notifications.panel.error.schedule.title":"Falha na exportação agendada.","notifications.panel.error.limitExceeded.message":"Sua exportação não pôde ser enviada, pois sua organização atingiu o limite máximo de alertas diários e exportações agendadas. Entre em contato com seu administrador."},"zh-Hans":{or:"或者","dashboard.bucket.measures_title.column._measure":"度量","dashboard.bucket.measures_title.column._metric":"指标","dashboard.bucket.measures_title.bar._measure":"度量","dashboard.bucket.measures_title.bar._metric":"指标","dashboard.bucket.measures_title.line._measure":"度量","dashboard.bucket.measures_title.line._metric":"指标","dashboard.bucket.measures_title.area._measure":"度量","dashboard.bucket.measures_title.area._metric":"指标","dashboard.bucket.measures_title.pie._measure":"度量","dashboard.bucket.measures_title.pie._metric":"指标","dashboard.bucket.measures_title.funnel._measure":"度量","dashboard.bucket.measures_title.funnel._metric":"指标","dashboard.bucket.measures_title.pyramid._measure":"度量","dashboard.bucket.measures_title.pyramid._metric":"指标","dashboard.bucket.measures_title.treemap._measure":"度量","dashboard.bucket.measures_title.treemap._metric":"指标","dashboard.bucket.measures_title.donut._measure":"度量","dashboard.bucket.measures_title.donut._metric":"指标","dashboard.bucket.measures_title.heatmap._measure":"度量","dashboard.bucket.measures_title.heatmap._metric":"指标","dashboard.bucket.measures_title.headline._measure":"度量","dashboard.bucket.measures_title.headline._metric":"指标","dashboard.bucket.measures_subtitle.headline":"基本","dashboard.bucket.secondary_measures_title.headline._measure":"度量","dashboard.bucket.secondary_measures_title.headline._metric":"指标","dashboard.bucket.secondary_measures_subtitle.headline":"辅助","dashboard.bucket.measures_title.scatter._measure":"度量","dashboard.bucket.measures_title.scatter._metric":"指标","dashboard.bucket.secondary_measures_title.scatter._measure":"度量","dashboard.bucket.secondary_measures_title.scatter._metric":"指标","dashboard.bucket.measures_subtitle.scatter":"X 轴","dashboard.bucket.secondary_measures_subtitle.scatter":"Y 轴","dashboard.bucket.attribute_title.scatter":"查看条件","dashboard.bucket.measures_title.combo._measure":"度量","dashboard.bucket.measures_title.combo._metric":"指标","dashboard.bucket.measures_subtitle.combo":"柱状图","dashboard.bucket.secondary_measures_title.combo._measure":"度量","dashboard.bucket.secondary_measures_title.combo._metric":"指标","dashboard.bucket.secondary_measures_subtitle.combo":"线形图","dashboard.bucket.measures_title.xirr._measure":"度量","dashboard.bucket.measures_title.xirr._metric":"指标","dashboard.bucket.measures_title.waterfall._measure":"度量","dashboard.bucket.measures_title.waterfall._metric":"指标","dashboard.bucket.attribute_title.xirr":"日期属性","dashboard.bucket.attribute_from_title.sankey":"属性","dashboard.bucket.attribute_from_subtitle.sankey":"从","dashboard.bucket.attribute_to_title.sankey":"属性","dashboard.bucket.attribute_to_subtitle.sankey":"至","dashboard.bucket.attribute_from_title.dependencywheel":"属性","dashboard.bucket.attribute_from_subtitle.dependencywheel":"从","dashboard.bucket.attribute_to_title.dependencywheel":"属性","dashboard.bucket.attribute_to_subtitle.dependencywheel":"至","dashboard.bucket.combo.subtitle.column":"以柱状图","dashboard.bucket.combo.subtitle.line":"以线形图","dashboard.bucket.combo.subtitle.area":"以面积图","dashboard.bucket.measures_title.bubble._measure":"度量","dashboard.bucket.measures_title.bubble._metric":"指标","dashboard.bucket.secondary_measures_title.bubble._measure":"度量","dashboard.bucket.secondary_measures_title.bubble._metric":"指标","dashboard.bucket.tertiary_measures_title.bubble._measure":"度量","dashboard.bucket.tertiary_measures_title.bubble._metric":"指标","dashboard.bucket.measures_subtitle.bubble":"X 轴","dashboard.bucket.secondary_measures_subtitle.bubble":"Y 轴","dashboard.bucket.tertiary_measures_subtitle.bubble":"尺寸","dashboard.bucket.location_title.pushpin":"位置","dashboard.bucket.size_title.pushpin._measure":"度量","dashboard.bucket.size_title.pushpin._metric":"指标","dashboard.bucket.size_subtitle.pushpin":"尺寸","dashboard.bucket.color_title.pushpin._measure":"度量","dashboard.bucket.color_title.pushpin._metric":"指标","dashboard.bucket.color_subtitle.pushpin":"颜色","dashboard.bucket.view_title.bubble":"查看条件","dashboard.bucket.view_title.pie":"查看条件","dashboard.bucket.view_title.treemap":"查看条件","dashboard.bucket.view_title.donut":"查看条件","dashboard.bucket.view_title.funnel":"查看条件","dashboard.bucket.view_title.pyramid":"查看条件","dashboard.bucket.view_title.column":"查看条件","dashboard.bucket.view_title.bar":"查看条件","dashboard.bucket.view_title.area":"查看条件","dashboard.bucket.view_title.bullet":"查看条件","dashboard.bucket.view_title.waterfall":"查看条件","dashboard.bucket.view_title.heatmap":"行","dashboard.bucket.trend_title.line":"趋势条件","dashboard.bucket.view_title.combo":"查看条件","dashboard.bucket.stack_title.column":"堆叠条件","dashboard.bucket.stack_title.bar":"堆叠条件","dashboard.bucket.stack_title.area":"堆叠条件","dashboard.bucket.stack_title.heatmap":"列","dashboard.bucket.segment_title.line":"细分条件","dashboard.bucket.segment_title.treemap":"细分条件","dashboard.bucket.segment_title.pushpin":"细分条件","dashboard.bucket.metric_segment_by_warning._measure":"要添加其他度量，请从 '<span class=\"stack-by\">'细分依据'</span>' 中删除 {icons}","dashboard.bucket.metric_segment_by_warning._metric":"要添加其他指标，请从 '<span class=\"stack-by\">'细分依据'</span>' 中删除 {icons}","dashboard.bucket.metric_stack_by_warning._measure":"要添加其他度量，请从 '<span class=\"stack-by\">'堆叠依据'</span>' 中删除 {icons}","dashboard.bucket.metric_stack_by_warning._metric":"要添加其他指标，请从 '<span class=\"stack-by\">'堆叠依据'</span>' 中删除 {icons}","dashboard.bucket.metric_view_by_warning._measure":"要添加其他度量，请从 '<span class=\"stack-by\">'查看依据'</span>' 中删除 {icons}","dashboard.bucket.metric_view_by_warning._metric":"要添加其他指标，请从 '<span class=\"stack-by\">'查看依据'</span>' 中删除 {icons}","dashboard.bucket.category_view_by_warning._measure":"要通过其他属性查看，一个可视化只能有一个度量","dashboard.bucket.category_view_by_warning._metric":"要通过其他属性查看，一个可视化只能有一个指标","dashboard.bucket.view_stack_by_warning":"要添加其他属性，请从 '<span class=\"stack-by\">'堆叠依据'</span>' 中删除 {icons}","dashboard.bucket.category_stack_by_warning._measure":"要堆叠，一个可视化只能有一个度量","dashboard.bucket.category_stack_by_warning._metric":"要堆叠，一个可视化只能有一个指标","dashboard.bucket.stack_view_by_warning":"要堆叠，一个可视化在此查看条件中只能有一个属性","dashboard.bucket.measure_stack_by_warning._measure":"要按属性堆叠，一个可视化只能有一个度量","dashboard.bucket.measure_stack_by_warning._metric":"要按属性堆叠，一个可视化只能有一个指标","dashboard.bucket.category_columns_warning._measure":"无法添加列：限制为 {oldLimit} 个度量和 {oldRowsLimit} 行。请按照限制来进行添加操作","dashboard.bucket.category_columns_warning._metric":"无法添加列：限制为 {oldLimit} 个指标和 {oldRowsLimit} 行。请按照限制来进行添加操作","dashboard.bucket.category_measures_rows_warning":"若要再添加多达{limit}个项目，请从“列”部分删除所有项目","dashboard.bucket.category_category_by_warning._measure":"要查看，一个可视化只能有一个度量","dashboard.bucket.category_category_by_warning._metric":"要查看，一个可视化只能有一个指标","dashboard.bucket.category_segment_by_warning._measure":"要细分，一个可视化只能有一个度量","dashboard.bucket.category_segment_by_warning._metric":"要细分，一个可视化只能有一个指标","dashboard.bucket.measures_title.table._measure":"度量","dashboard.bucket.measures_title.table._metric":"指标","dashboard.bucket.measures_title.sankey._measure":"测量","dashboard.bucket.measures_title.sankey._metric":"指标","dashboard.bucket.measures_title.dependencywheel._measure":"测量","dashboard.bucket.measures_title.dependencywheel._metric":"指标","dashboard.bucket.attribute_title.table":"行","dashboard.bucket.columns_title.table":"列","dashboard.bucket.attribute_title.repeater":"行","dashboard.bucket.view_title.repeater":"查看条件","dashboard.bucket.columns_title.repeater":"列","dashboard.error.missing_primary_bucket_item.heading._measure":"您的可视化中没有基本度量","dashboard.error.missing_primary_bucket_item.heading._metric":"您的可视化中没有基本指标","dashboard.error.missing_primary_bucket_item.text._measure":"为可视化添加基本度量，或切换至表格。\n完成后，您将可以保存它。","dashboard.error.missing_primary_bucket_item.text._metric":"为可视化添加基本指标，或切换至表格。\n完成后，您将可以保存它。","dashboard.xirr.error.invalid_buckets.heading":"配置不完整","dashboard.xirr.error.invalid_buckets.text._measure":"请务必选择一个度量和一个日期属性","dashboard.xirr.error.invalid_buckets.text._metric":"请务必选择一个指标和一个日期属性","properties.unsupported":"此可视化不支持配置","properties.config.not_applicable":"配置面板不适用于此可视化配置","properties.not_applicable":"属性不适用于此可视化配置","properties.auto_placeholder":"自动","properties.auto_default":"自动（默认）","properties.legend.title":"图例","properties.legend.position":"位置","properties.total.title":"总计","properties.total.name":"名称","properties.total.tooltip":"将所有数值的总和作为一列添加在末尾。","properties.total.measures.tooltip":"禁用指标中的“总计”选项，以在末尾添加所有值的总和作为一列。","properties.color.total":"总计","properties.color.positive":"正数","properties.color.negative":"负数","properties.canvas.title":"画布","properties.canvas.gridline":"网格线","properties.canvas.labels.percentages":"百分比","properties.canvas.labels.percentages.info":"在每个切片上显示百分比，最上面的切片为 100%，其他切片为该数值的分值。","properties.canvas.labels.percentages.disabled":"由于隐藏了数据标签，百分比被隐藏。","properties.canvas.continuousLine.label":"连续线","properties.canvas.continuousLine.tooltip":"在缺失数值的点之间画一条线。","properties.canvas.dataLabels":"数据标签","properties.canvas.dataLabels.auto":"自动（默认）","properties.canvas.dataLabels.show":"显示","properties.canvas.dataLabels.hide":"隐藏","properties.canvas.rowHeight":"行高","properties.canvas.rowHeight.small":"小","properties.canvas.rowHeight.medium":"中","properties.canvas.rowHeight.large":"大","properties.canvas.verticalAlign":"垂直对齐","properties.canvas.verticalAlign.top":"顶部","properties.canvas.verticalAlign.middle":"中间","properties.canvas.verticalAlign.bottom":"底部","properties.canvas.textWrapping":"文本换行","properties.canvas.textWrapping.clip":"裁切","properties.canvas.textWrapping.wrap":"换行","properties.canvas.image":"图像","properties.canvas.image.fit":"适合","properties.canvas.image.fill":"填充","properties.forecast.title":"预测","properties.forecastDisabled.title":"无法针对此存储桶组合进行预测","properties.forecastPeriod.title":"时间段","properties.forecastPeriod.placeholder":"时间段","properties.forecastSeasonal.title":"季节性","properties.forecastConfidence.title":"置信度","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"标签总计","properties.canvas.totalLabels.auto":"自动（默认）","properties.canvas.totalLabels.show":"显示","properties.canvas.totalLabels.hide":"隐藏","properties.canvas.dataPoints":"数据点","properties.canvas.dataPoints.auto":"自动（默认）","properties.canvas.dataPoints.show":"显示","properties.canvas.dataPoints.hide":"隐藏","properties.yaxis.title":"Y 轴","properties.axis.labels":"标签","properties.axis.rotation":"旋转","properties.axis.format":"格式","properties.axis.format.inherit":"继承","properties.axis.format.info.inherit._measure":"此格式继承自可视化中的第一个度量。","properties.axis.format.info.inherit._metric":"此格式继承自可视化中的第一个指标。","properties.axis.name":"名称","properties.axis.name.position":"位置","properties.axis.name.position.left":"左","properties.axis.name.position.center":"居中","properties.axis.name.position.right":"右 ","properties.axis.name.position.top":"顶部","properties.axis.name.position.middle":"中间","properties.axis.name.position.bottom":"底部","properties.axis.min":"最小值","properties.axis.min.warning":"最小值不能大于最大值","properties.axis.max":"最大值","properties.axis.max.warning":"最大值不能小于最小值","properties.xaxis.title":"X 轴","properties.axis.scale":"比例尺","properties.axis.left":"左","properties.axis.right":"右","properties.axis.top":"顶部","properties.axis.bottom":"底部","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"顶部","properties.legend.position.down":"底部","properties.legend.position.right":"右 ","properties.legend.position.left":"左","properties.orientation.title":"方向","properties.orientation.horizontal":"水平（默认）","properties.orientation.vertical":"垂直","properties.points.title":"点","properties.points.groupNearbyPoints":"对附近点进行分组","properties.points.size.title":"点尺寸","properties.points.size.extra_small":"0.5x","properties.points.size.small":"0.75x","properties.points.size.normal":"正常","properties.points.size.large":"1.25x","properties.points.size.extra_large":"1.5x","properties.points.size.min.title":"最小","properties.points.size.max.title":"最大","properties.map.title":"地图","properties.viewport.area.title":"默认视窗","properties.viewport.area.auto_default":"包含所有数据","properties.viewport.area.continents":"大洲","properties.viewport.area.continent_af":"非洲","properties.viewport.area.continent_as":"亚洲","properties.viewport.area.continent_au":"澳大利亚","properties.viewport.area.continent_eu":"欧洲","properties.viewport.area.continent_na":"美洲（北美）","properties.viewport.area.continent_sa":"美洲（南美）","properties.viewport.area.world":"全球","gs.color-dropdown.custom-color":"自定义颜色","properties.colors.reset-colors":"重置颜色","properties.colors":"颜色","properties.colors.unsupported":"可视化的此配置没有颜色","export_unsupported.colors":'此可视化与自定义颜色不兼容。要将此可视化打开为报告，请在"配置"中点击"重置颜色" ->"颜色"。',"dashboard.bucket.measures_title.bullet._measure":"度量","dashboard.bucket.measures_title.bullet._metric":"指标","dashboard.bucket.secondary_measures_title.bullet._measure":"度量","dashboard.bucket.secondary_measures_title.bullet._metric":"指标","dashboard.bucket.tertiary_measures_title.bullet._measure":"度量","dashboard.bucket.tertiary_measures_title.bullet._metric":"指标","dashboard.bucket.measures_subtitle.bullet":"主要","dashboard.bucket.secondary_measures_subtitle.bullet":"目标","dashboard.bucket.tertiary_measures_subtitle.bullet":"比较","sorting.disabled.explanation.attribute":"此可视化配置无法排序。","sorting.disabled.explanation.measure._measure":"您必须添加至少一个属性才能对可视化进行排序。您还可以调整“度量”部分中各项的位置，以更改其在可视化的位置。","sorting.disabled.explanation.measure._metric":"您必须添加至少一个属性才能对可视化排序。您还可以在“指标”部分调整各项位置，以更改它们在可视化中的位置。","properties.metrics.title._measure":"度量","properties.metrics.title._metric":"指标","properties.metrics.position":"位置","properties.metrics.position.columns":"列（默认）","properties.metrics.position.rows":"行","properties.column.headers.title":"列标题","properties.column.headers.position":"位置","properties.column.headers.position.top":"顶部（默认）","properties.column.headers.position.left":"左","dashboard.bucket.table.subtitle.columns":"在列中","dashboard.bucket.table.subtitle.rows":"在行中","properties.interactions.title":"交互","properties.interactions.drillDown":"深入查看","properties.comparison.title":"比较","properties.comparison.calculationType.title":"计算方式为","properties.comparison.calculationType.as.change":"变化","properties.comparison.calculationType.as.ratio":"比例","properties.comparison.calculationType.as.difference":"减","properties.comparison.calculationType.as.changeDifference":"变化（差异）","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"计算主要指标值和次要指标值之间的相对变化。","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"计算主要测量值和次要测量值之间的相对变化。","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"衡量主要指标值在次要指标值中所占的比例。","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"衡量主要测量值在次要测量值中所占的比例。","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"计算主要指标值和次要指标值之间的绝对差异。","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"计算主要测量值和次要测量值之间的绝对差异。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"计算主要指标值和次要指标值之间的相对变化和绝对差异。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"计算主要测量值和次要测量值之间的相对变化和绝对差异。","properties.comparison.calculationType.tooltip.formula.section":"公式","properties.comparison.calculationType.tooltip.formulaChange.section":"公式（相对变化）","properties.comparison.calculationType.tooltip.formulaDifference.section":"公式（绝对差异）","properties.comparison.calculationType.as.change.tooltip.formula":"（主要值 - 次要值） / 次要值","properties.comparison.calculationType.as.ratio.tooltip.formula":"主要值 / 次要值","properties.comparison.calculationType.as.difference.tooltip.formula":"主要值 - 次要值","properties.comparison.calculationType.tooltip.example.section":"例如","properties.comparison.calculationType.as.change.tooltip.example":"销售额同比变化 =（当前年度销售额 - 前一年度销售额）/前一年度销售额","properties.comparison.calculationType.as.ratio.tooltip.example":"当前销售额与销售目标的比较 = 当前销售额 / 销售目标","properties.comparison.calculationType.as.difference.tooltip.example":"销售额同比差异 = 当前年度销售额 - 前一年度销售额","properties.comparison.calculationType.as.changeDifference.tooltip.example":"销售额同比变化 = [（当前年度销售额 - 前一年度销售额）/前一年度销售额] 以及 [当前年度销售额 - 前一年度销售额]","properties.comparison.measureNumber.format.preset.inherit":"继承 ","properties.comparison.measureNumber.format.preset.rounded":"舍入","properties.comparison.measureNumber.format.preset.decimal1":"小数 (1)","properties.comparison.measureNumber.format.preset.decimal2":"小数 (2)","properties.comparison.measureNumber.format.preset.percentRounded":"百分比 (舍入)","properties.comparison.measureNumber.format.preset.percent1":"百分比 (1)","properties.comparison.measureNumber.format.preset.percent2":"百分比 (2)","properties.comparison.measureNumber.format.template.rounded":"舍入","properties.comparison.measureNumber.format.template.decimal1":"小数 (1)","properties.comparison.measureNumber.format.template.decimal2":"小数 (2)","properties.comparison.measureNumber.format.template.percentRounded":"百分比 (舍入)","properties.comparison.measureNumber.format.template.percent1":"百分比 (1)","properties.comparison.measureNumber.format.template.percent2":"百分比 (2)","properties.comparison.measureNumber.format.template.currency":"货币","properties.comparison.measureNumber.format.template.currencyShortened":"简写的货币","properties.comparison.measureNumber.format.template.largeNumbersShortened":"简写的大数值","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"简写的彩色大数值","properties.comparison.measureNumber.format.template.negativeNumbersRed":"负数为红色","properties.comparison.measureNumber.format.template.financial":"财务","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"不含千位分隔符的十进制（2）","properties.comparison.measureNumber.format.template.conditionalColors":"条件颜色","properties.comparison.measureNumber.format.template.trendSymbols":"趋势符号","properties.comparison.measureNumber.format.template.timeFromSeconds":"时间（秒）","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"零非空白值","properties.comparison.valueSubSection.title":"数值","properties.comparison.format.title":"格式","properties.comparison.subFormat.title":"（格式）","properties.comparison.indicator.title":"指标","properties.comparison.indicator.arrow.title":"箭头","properties.comparison.indicator.colorConfig.title":"颜色","properties.comparison.indicator.colorConfig.equals":"主要值 = 次要值","properties.comparison.indicator.colorConfig.positive":"主要值 > 次要值","properties.comparison.indicator.colorConfig.negative":"主要值 < 次要值","properties.comparison.labelSubSection.title":"标签","properties.comparison.labelSubSection.positionOnTop.disabled":"标签不适用于值位于顶部的情况。","properties.comparison.labelSubSection.conditional.disabled":"条件标签不适用于比例计算。","properties.comparison.labelName.title":"名称","properties.comparison.labelConditional.title":"条件","properties.comparison.labelPositive.title":"主要值 > 次要值","properties.comparison.labelNegative.title":"主要值 < 次要值","properties.comparison.labelEquals.title":"主要值 = 次要值","properties.comparison.position.title":"位置","properties.comparison.position.top":"顶部","properties.comparison.position.right":"右 ","properties.comparison.position.left":"左","properties.forecastSliced.title":"显示部分预测。","properties.forecastSliced.description":"可用的数据点未覆盖整个选定的时间段。","dashboard.bucket.segment_title.scatter":"细分条件","properties.clustering.title":"聚类","properties.clustering.amount":"数量","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"显示部分聚类","properties.clustering.amount.partial.description":"可用的数据点未涵盖整个选定的数量。","properties.clustering.disabled":"聚类需要 2 个 Metrics 和 View by，不需要 Segment by。","properties.clustering.threshold":"临界点","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"临界点是决定何时对数据进行分组的限制。<link>了解更多</link>","visualizations.headline.tertiary.title":"对比","properties.interactions.alerts":"警报","properties.interactions.alerts.tooltip":"允许用户在仪表板上为此可视化创建警报。","properties.interactions.scheduledExports":"已计划的导出","properties.interactions.scheduledExports.tooltip":"允许用户在仪表板上为此可视化创建计划导出。","properties.advanced.title":"高级自定义","properties.advanced.chartConfigOverride.noValueLabel":"尚无任何定制。","properties.advanced.chartConfigOverride.link":"了解更多","properties.advanced.chartConfigOverride.editorButton":"打开编辑器","properties.advanced.chartConfigOverride.title":"高级定制","properties.advanced.chartConfigOverride.snippets.header":"片段","properties.advanced.chartConfigOverride.button.apply":"应用","properties.advanced.chartConfigOverride.button.cancel":"取消","gs.date.yesterday":"昨天","notifications.panel.tab.unread":"未读 ({count} ）","notifications.panel.tab.all":"全部","notifications.panel.markAllAsRead":"全部标记为已读","notifications.panel.error.loading":"加载通知时出错","notifications.panel.empty.all":"无通知","notifications.panel.empty.unread":"无未读通知","notifications.panel.unsupported.notification.type":"不支持的通知类型","notifications.panel.markAsRead":"标记为已读","notifications.filters.buttonLabel":"{count, plural, one {＃ 筛选} other {# 过滤器}}","notifications.filters.dialog.title":"筛选器","notifications.filters.dialog.dateRange":"日期范围","notifications.panel.triggers.title":"针对{triggeredCount}/{totalCount}项","notifications.panel.triggers.dialog.newValue":"新数值",close:"关","notifications.panel.triggers.dialog.title":"触发对象：","notifications.panel.error.learnMore":"了解更多","notifications.panel.error.traceId":"轨迹 ID","notifications.panel.error.message":"无法处理该警报。","notifications.panel.button.label":"通知","notifications.panel.notifications.list.label":"通知","notifications.panel.alert.notification.type.label":"警报通知","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…和{count} 更多的","notifications.panel.download":"下载","notifications.panel.expiresOn":"到期日期{date}","notifications.panel.linkHasExpired":"链接已过期","notifications.panel.toast.warning.filesExpired":"<strong>下载链接已过期</strong> — 等待下一次导出或手动创建。","notifications.panel.dashboardLinkHint":"打开用于此导出的仪表板","notifications.panel.dashboardLink":"从{dashboardTitle}","notifications.panel.downloadFilesHint":"下载导出的文件","notifications.panel.error.alert.title":"无法处理该警报。","notifications.panel.error.schedule.title":"预定的导出失败。","notifications.panel.error.limitExceeded.message":"您的导出文件无法发送，因为您的组织已达到每日警报和计划导出的最大数量限制。请联系您的管理员。"},"ru-RU":{or:"или","dashboard.bucket.measures_title.column._measure":"Показатели","dashboard.bucket.measures_title.column._metric":"Метрики","dashboard.bucket.measures_title.bar._measure":"Показатели","dashboard.bucket.measures_title.bar._metric":"Метрики","dashboard.bucket.measures_title.line._measure":"Показатели","dashboard.bucket.measures_title.line._metric":"Метрики","dashboard.bucket.measures_title.area._measure":"Показатели","dashboard.bucket.measures_title.area._metric":"Метрики","dashboard.bucket.measures_title.pie._measure":"Показатели","dashboard.bucket.measures_title.pie._metric":"Метрики","dashboard.bucket.measures_title.funnel._measure":"Показатели","dashboard.bucket.measures_title.funnel._metric":"Метрики","dashboard.bucket.measures_title.pyramid._measure":"Показатели","dashboard.bucket.measures_title.pyramid._metric":"Метрики","dashboard.bucket.measures_title.treemap._measure":"Показатели","dashboard.bucket.measures_title.treemap._metric":"Метрики","dashboard.bucket.measures_title.donut._measure":"Показатели","dashboard.bucket.measures_title.donut._metric":"Метрики","dashboard.bucket.measures_title.heatmap._measure":"Показатель","dashboard.bucket.measures_title.heatmap._metric":"Метрика","dashboard.bucket.measures_title.headline._measure":"Показатель","dashboard.bucket.measures_title.headline._metric":"Метрика","dashboard.bucket.measures_subtitle.headline":"основной","dashboard.bucket.secondary_measures_title.headline._measure":"Показатель","dashboard.bucket.secondary_measures_title.headline._metric":"Метрика","dashboard.bucket.secondary_measures_subtitle.headline":"дополнительный","dashboard.bucket.measures_title.scatter._measure":"Показатель","dashboard.bucket.measures_title.scatter._metric":"Метрика","dashboard.bucket.secondary_measures_title.scatter._measure":"Показатель","dashboard.bucket.secondary_measures_title.scatter._metric":"Метрика","dashboard.bucket.measures_subtitle.scatter":"Ось X","dashboard.bucket.secondary_measures_subtitle.scatter":"Ось Y","dashboard.bucket.attribute_title.scatter":"Просмотр по","dashboard.bucket.measures_title.combo._measure":"Показатели","dashboard.bucket.measures_title.combo._metric":"Метрики","dashboard.bucket.measures_subtitle.combo":"Столбец","dashboard.bucket.secondary_measures_title.combo._measure":"Показатели","dashboard.bucket.secondary_measures_title.combo._metric":"Метрики","dashboard.bucket.secondary_measures_subtitle.combo":"Линия","dashboard.bucket.measures_title.xirr._measure":"Показатель","dashboard.bucket.measures_title.xirr._metric":"Метрика","dashboard.bucket.measures_title.waterfall._measure":"Показатели","dashboard.bucket.measures_title.waterfall._metric":"Метрики","dashboard.bucket.attribute_title.xirr":"Атрибут даты","dashboard.bucket.attribute_from_title.sankey":"Атрибут","dashboard.bucket.attribute_from_subtitle.sankey":"от","dashboard.bucket.attribute_to_title.sankey":"Атрибут","dashboard.bucket.attribute_to_subtitle.sankey":"до","dashboard.bucket.attribute_from_title.dependencywheel":"Атрибут","dashboard.bucket.attribute_from_subtitle.dependencywheel":"от","dashboard.bucket.attribute_to_title.dependencywheel":"Атрибут","dashboard.bucket.attribute_to_subtitle.dependencywheel":"до","dashboard.bucket.combo.subtitle.column":"в виде столбцов","dashboard.bucket.combo.subtitle.line":"в виде линий","dashboard.bucket.combo.subtitle.area":"в виде областей","dashboard.bucket.measures_title.bubble._measure":"Показатель","dashboard.bucket.measures_title.bubble._metric":"Метрика","dashboard.bucket.secondary_measures_title.bubble._measure":"Показатель","dashboard.bucket.secondary_measures_title.bubble._metric":"Метрика","dashboard.bucket.tertiary_measures_title.bubble._measure":"Показатель","dashboard.bucket.tertiary_measures_title.bubble._metric":"Метрика","dashboard.bucket.measures_subtitle.bubble":"Ось X","dashboard.bucket.secondary_measures_subtitle.bubble":"Ось Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Размер","dashboard.bucket.location_title.pushpin":"Местоположение","dashboard.bucket.size_title.pushpin._measure":"Показатель","dashboard.bucket.size_title.pushpin._metric":"Метрика","dashboard.bucket.size_subtitle.pushpin":"Размер","dashboard.bucket.color_title.pushpin._measure":"Показатель","dashboard.bucket.color_title.pushpin._metric":"Метрика","dashboard.bucket.color_subtitle.pushpin":"Цвет","dashboard.bucket.view_title.bubble":"Просмотр по","dashboard.bucket.view_title.pie":"Просмотр по","dashboard.bucket.view_title.treemap":"Просмотр по","dashboard.bucket.view_title.donut":"Просмотр по","dashboard.bucket.view_title.funnel":"Просмотр по","dashboard.bucket.view_title.pyramid":"Просмотр по","dashboard.bucket.view_title.column":"Просмотр по","dashboard.bucket.view_title.bar":"Просмотр по","dashboard.bucket.view_title.area":"Просмотр по","dashboard.bucket.view_title.bullet":"Просмотр по","dashboard.bucket.view_title.waterfall":"Просмотр по","dashboard.bucket.view_title.heatmap":"Строки","dashboard.bucket.trend_title.line":"Тенденция по","dashboard.bucket.view_title.combo":"Просмотр по","dashboard.bucket.stack_title.column":"Сложить по","dashboard.bucket.stack_title.bar":"Сложить по","dashboard.bucket.stack_title.area":"Сложить по","dashboard.bucket.stack_title.heatmap":"Столбцы","dashboard.bucket.segment_title.line":"Сегментировать по","dashboard.bucket.segment_title.treemap":"Сегментировать по","dashboard.bucket.segment_title.pushpin":"Сегментировать по","dashboard.bucket.metric_segment_by_warning._measure":"Чтобы добавить дополнительный показатель, удалите {icons} из '<span class=\"stack-by\">'сегментировать по'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Чтобы добавить дополнительную метрику, удалите {icons} из '<span class=\"stack-by\">'сегментировать по'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Чтобы добавить дополнительный показатель, удалите {icons} из '<span class=\"stack-by\">'сложить по'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Чтобы добавить дополнительную метрику, удалите {icons} из '<span class=\"stack-by\">'сложить по'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Чтобы добавить дополнительный показатель, удалите {icons} из '<span class=\"stack-by\">'просмотр по'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Чтобы добавить дополнительную метрику, удалите {icons} из '<span class=\"stack-by\">'просмотр по'</span>'","dashboard.bucket.category_view_by_warning._measure":"Чтобы просмотреть по другому атрибуту, визуализация может содержать только одну метрику","dashboard.bucket.category_view_by_warning._metric":"Чтобы просматривать по другому атрибуту, визуализация может содержать только одну метрику","dashboard.bucket.view_stack_by_warning":"Чтобы добавить дополнительный атрибут, удалите {icons} из '<span class=\"stack-by\">'сложить по'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Для группировки по, визуализация может иметь только одну метрику","dashboard.bucket.category_stack_by_warning._metric":"Для группировки по, визуализация может иметь только одну метрику","dashboard.bucket.stack_view_by_warning":"Для группировки по, визуализация может иметь только один атрибут в просмотре по","dashboard.bucket.measure_stack_by_warning._measure":"Чтобы сгруппировать по атрибуту, визуализация может иметь только одну меру","dashboard.bucket.measure_stack_by_warning._metric":"Чтобы сгруппировать по атрибуту, визуализация может содержать только одну метрику","dashboard.bucket.category_columns_warning._measure":"Невозможно добавить столбцы: ограничение{oldLimit} меры и{oldRowsLimit} Ряды. Следуйте ограничениям, чтобы добавить больше","dashboard.bucket.category_columns_warning._metric":"Невозможно добавить столбцы: ограничение{oldLimit} метрики и{oldRowsLimit} Ряды. Следуйте ограничениям, чтобы добавить больше","dashboard.bucket.category_measures_rows_warning":"Чтобы добавить еще до {limit}, удалите все элементы из раздела столбцов.","dashboard.bucket.category_category_by_warning._measure":"Для просмотра по, визуализация может иметь только одну метрику","dashboard.bucket.category_category_by_warning._metric":"Для просмотра по, визуализация может иметь только одну метрику","dashboard.bucket.category_segment_by_warning._measure":"Для сегментации визуализация может иметь только одну метрику","dashboard.bucket.category_segment_by_warning._metric":"Для сегментации визуализация может иметь только одну метрику","dashboard.bucket.measures_title.table._measure":"Показатели","dashboard.bucket.measures_title.table._metric":"Метрики","dashboard.bucket.measures_title.sankey._measure":"МЕРЫ","dashboard.bucket.measures_title.sankey._metric":"МЕТРИКА","dashboard.bucket.measures_title.dependencywheel._measure":"МЕРЫ","dashboard.bucket.measures_title.dependencywheel._metric":"МЕТРИКА","dashboard.bucket.attribute_title.table":"Строки","dashboard.bucket.columns_title.table":"Столбцы","dashboard.bucket.attribute_title.repeater":"Строки","dashboard.bucket.view_title.repeater":"Просмотр по","dashboard.bucket.columns_title.repeater":"Столбцы","dashboard.error.missing_primary_bucket_item.heading._measure":"В вашей визуализации нет основного показателя","dashboard.error.missing_primary_bucket_item.heading._metric":"В вашей визуализации нет основного показателя","dashboard.error.missing_primary_bucket_item.text._measure":"Добавьте основную метрику в вашу визуализацию или переключитесь на таблицу. После этого вы сможете сохранить её.","dashboard.error.missing_primary_bucket_item.text._metric":"Добавьте основной показатель в вашу визуализацию или переключитесь на таблицу. После этого вы сможете сохранить её.","dashboard.xirr.error.invalid_buckets.heading":"Неполная конфигурация","dashboard.xirr.error.invalid_buckets.text._measure":"Убедитесь, что вы выбрали один показатель и один атрибут даты","dashboard.xirr.error.invalid_buckets.text._metric":"Убедитесь, что вы выбрали одну метрику и один атрибут даты","properties.unsupported":"Эта визуализация не поддерживает конфигурацию","properties.config.not_applicable":"Панель конфигурации не применима для этой конфигурации визуализации","properties.not_applicable":"Свойство не применимо для этой конфигурации визуализации","properties.auto_placeholder":"автоматически","properties.auto_default":"авто (по умолчанию)","properties.legend.title":"Услов. обозн.","properties.legend.position":"Позиция","properties.total.title":"Всего","properties.total.name":"Название","properties.total.tooltip":"Добавить сумму всех значений в виде столбца в конце.","properties.total.measures.tooltip":"Отключите параметры «всего» в метрике, чтобы добавить сумму всех значений в виде столбца в конце.","properties.color.total":"Всего","properties.color.positive":"Положительное","properties.color.negative":"Отрицательное","properties.canvas.title":"Полотно","properties.canvas.gridline":"Сетка","properties.canvas.labels.percentages":"Процент","properties.canvas.labels.percentages.info":"Отображаются проценты для каждого сектора, причем самому высокому сектору приписывается 100%, а проценты остальных секторов вычисляются как доли от  значения самого высокого сектора.","properties.canvas.labels.percentages.disabled":"Проценты скрыты из-за скрытых меток данных.","properties.canvas.continuousLine.label":"Непрерывная линия","properties.canvas.continuousLine.tooltip":"Проводится линия между точками с недостающими значениями.","properties.canvas.dataLabels":"Метки данных","properties.canvas.dataLabels.auto":"авто (по умолчанию)","properties.canvas.dataLabels.show":"показать","properties.canvas.dataLabels.hide":"скрыть","properties.canvas.rowHeight":"Высота строки","properties.canvas.rowHeight.small":"маленький","properties.canvas.rowHeight.medium":"средний","properties.canvas.rowHeight.large":"большой","properties.canvas.verticalAlign":"Вертикальное выравнивание","properties.canvas.verticalAlign.top":"вверху","properties.canvas.verticalAlign.middle":"по середине","properties.canvas.verticalAlign.bottom":"внизу","properties.canvas.textWrapping":"Перенос текста","properties.canvas.textWrapping.clip":"клип","properties.canvas.textWrapping.wrap":"обернуть","properties.canvas.image":"Изображение","properties.canvas.image.fit":"подходить","properties.canvas.image.fill":"заполнить","properties.forecast.title":"Прогноз","properties.forecastDisabled.title":"Прогноз недоступен для этой комбинации сегментов","properties.forecastPeriod.title":"Период","properties.forecastPeriod.placeholder":"Период","properties.forecastSeasonal.title":"Сезонность","properties.forecastConfidence.title":"Доверие","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Всего меток","properties.canvas.totalLabels.auto":"авто (по умолчанию)","properties.canvas.totalLabels.show":"показать","properties.canvas.totalLabels.hide":"скрыть","properties.canvas.dataPoints":"Точки данных","properties.canvas.dataPoints.auto":"авто (по умолчанию)","properties.canvas.dataPoints.show":"показать","properties.canvas.dataPoints.hide":"скрыть","properties.yaxis.title":"Ось Y","properties.axis.labels":"метки","properties.axis.rotation":"Поворот","properties.axis.format":"Формат","properties.axis.format.inherit":"наследовать","properties.axis.format.info.inherit._measure":"Формат унаследован от первой метрики в визуализации.","properties.axis.format.info.inherit._metric":"Формат унаследован от первой метрики в визуализации.","properties.axis.name":"название","properties.axis.name.position":"Позиция","properties.axis.name.position.left":"слева","properties.axis.name.position.center":"по центру","properties.axis.name.position.right":"справа","properties.axis.name.position.top":"вверху","properties.axis.name.position.middle":"по середине","properties.axis.name.position.bottom":"внизу","properties.axis.min":"Min","properties.axis.min.warning":"Минимальное значение не может быть больше максимального значения","properties.axis.max":"Макс","properties.axis.max.warning":"Максимальное значение не может быть меньше минимального","properties.xaxis.title":"Ось X","properties.axis.scale":"масштаб","properties.axis.left":"Слева","properties.axis.right":"Справа","properties.axis.top":"Верхние","properties.axis.bottom":"Нижнее","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"вверху","properties.legend.position.down":"внизу","properties.legend.position.right":"справа","properties.legend.position.left":"слева","properties.orientation.title":"Ориентация","properties.orientation.horizontal":"Горизонтальная (по умолчанию)","properties.orientation.vertical":"Вертикальная","properties.points.title":"Точки","properties.points.groupNearbyPoints":"Группировать близлежащие точки","properties.points.size.title":"Размер точки","properties.points.size.extra_small":"50%","properties.points.size.small":"75%","properties.points.size.normal":"100%","properties.points.size.large":"125%","properties.points.size.extra_large":"150%","properties.points.size.min.title":"Наименьший","properties.points.size.max.title":"Наибольший","properties.map.title":"Карта","properties.viewport.area.title":"Окно просмотра по умолчанию","properties.viewport.area.auto_default":"Включить все данные","properties.viewport.area.continents":"континенты","properties.viewport.area.continent_af":"Африка","properties.viewport.area.continent_as":"Азия","properties.viewport.area.continent_au":"Австралия","properties.viewport.area.continent_eu":"Европа","properties.viewport.area.continent_na":"Америка (Северная)","properties.viewport.area.continent_sa":"Америка (Южная)","properties.viewport.area.world":"Мир","gs.color-dropdown.custom-color":"Нестандартный цвет","properties.colors.reset-colors":"Сбросить цвета","properties.colors":"Цвета","properties.colors.unsupported":"Для этой конфигурации визуализации нет цветов","export_unsupported.colors":"Визуализация не совместима с пользовательскими цветами. Чтобы открыть визуализацию как отчет, нажмите Сбросить цвета в Конфигурация —> Цвета.","dashboard.bucket.measures_title.bullet._measure":"Показатель","dashboard.bucket.measures_title.bullet._metric":"Метрика","dashboard.bucket.secondary_measures_title.bullet._measure":"Показатель","dashboard.bucket.secondary_measures_title.bullet._metric":"Метрика","dashboard.bucket.tertiary_measures_title.bullet._measure":"Показатель","dashboard.bucket.tertiary_measures_title.bullet._metric":"Метрика","dashboard.bucket.measures_subtitle.bullet":"Основной","dashboard.bucket.secondary_measures_subtitle.bullet":"Цель","dashboard.bucket.tertiary_measures_subtitle.bullet":"Сравнительный","sorting.disabled.explanation.attribute":"Сортировка невозможна для этой конфигурации визуализации.","sorting.disabled.explanation.measure._measure":"Вы должны добавить как минимум один атрибут для сортировки визуализации. Вы также можете изменить положение элементов в разделе Меры, чтобы изменить их расположение в визуализации.","sorting.disabled.explanation.measure._metric":"Вы должны добавить как минимум один атрибут для сортировки визуализации. Вы также можете изменить положение элементов в разделе Метрики, чтобы изменить их расположение в визуализации.","properties.metrics.title._measure":"Показатели","properties.metrics.title._metric":"Метрики","properties.metrics.position":"Позиция","properties.metrics.position.columns":"столбцы (по умолчанию)","properties.metrics.position.rows":"ряды","properties.column.headers.title":"Заголовки столбцов","properties.column.headers.position":"Позиция","properties.column.headers.position.top":"вверху (по умолчанию)","properties.column.headers.position.left":"слева","dashboard.bucket.table.subtitle.columns":"в столбцах","dashboard.bucket.table.subtitle.rows":"в строках","properties.interactions.title":"Взаимодействия","properties.interactions.drillDown":"Углубиться","properties.comparison.title":"Сравнение","properties.comparison.calculationType.title":"Вычислено как","properties.comparison.calculationType.as.change":"Изменение","properties.comparison.calculationType.as.ratio":"Отношение","properties.comparison.calculationType.as.difference":"Разница","properties.comparison.calculationType.as.changeDifference":"Изменение (разница)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Вычисляет относительное изменение между первичным и вторичным значениями метрики.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Вычисляет относительное изменение между первичным и вторичным значениями показателя.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Определяет долю первичного значения метрики во вторичном значении метрики.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Определяет долю первичного значения показателя во вторичном значении показателя.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Вычисляет абсолютную разницу между первичным и вторичным значениями метрики.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Вычисляет абсолютную разницу между первичным и вторичным значениями показателя.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Вычисляет относительную и абсолютную разницу между первичным и вторичным значениями метрики.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Вычисляет относительную и абсолютную разницу между первичным и вторичным значениями показателя.","properties.comparison.calculationType.tooltip.formula.section":"Формула","properties.comparison.calculationType.tooltip.formulaChange.section":"Формула (относительное изменение)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Формула (абсолютная разница)","properties.comparison.calculationType.as.change.tooltip.formula":"(Первичное - Вторичное) / Вторичное","properties.comparison.calculationType.as.ratio.tooltip.formula":"Первичное / Вторичное","properties.comparison.calculationType.as.difference.tooltip.formula":"Первичное - Вторичное","properties.comparison.calculationType.tooltip.example.section":"Пример","properties.comparison.calculationType.as.change.tooltip.example":"Изменение продаж по сравнению с прошлым годом = (продажи текущего года - продажи предыдущего года) / продажи предыдущего года","properties.comparison.calculationType.as.ratio.tooltip.example":"Текущие продажи по сравнению с нормой = Текущие продажи / норма","properties.comparison.calculationType.as.difference.tooltip.example":"Разница в продажах по сравнению с прошлым годом = продажи текущего года - продажи предыдущего года.","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Изменение продаж по сравнению с прошлым годом = [(продажи текущего года - продажи предыдущего года) / продажи предыдущего года] И [продажи текущего года - продажи предыдущего года]","properties.comparison.measureNumber.format.preset.inherit":"Унаследованное","properties.comparison.measureNumber.format.preset.rounded":"Без десятичных знаков","properties.comparison.measureNumber.format.preset.decimal1":"С 1 десятичным знаком","properties.comparison.measureNumber.format.preset.decimal2":"С 2 десятичным знаком","properties.comparison.measureNumber.format.preset.percentRounded":"Проценты, без десятичных знаков","properties.comparison.measureNumber.format.preset.percent1":"Проценты, с 1 десятичным знаком","properties.comparison.measureNumber.format.preset.percent2":"Проценты, с 2 десятичным знаком","properties.comparison.measureNumber.format.template.rounded":"Без десятичных знаков","properties.comparison.measureNumber.format.template.decimal1":"С 1 десятичным знаком","properties.comparison.measureNumber.format.template.decimal2":"С 2 десятичным знаком","properties.comparison.measureNumber.format.template.percentRounded":"Проценты, без десятичных знаков","properties.comparison.measureNumber.format.template.percent1":"Проценты, с 1 десятичным знаком","properties.comparison.measureNumber.format.template.percent2":"Проценты, с 2 десятичным знаком","properties.comparison.measureNumber.format.template.currency":"Со знаком валюты","properties.comparison.measureNumber.format.template.currencyShortened":"Со знаком валюты, коротко","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Большие числа коротко","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Большие числа коротко, с цветом","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Отрицательные числа - красным","properties.comparison.measureNumber.format.template.financial":"Отрицательные числа - в скобках","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"С 2 десятичными знаками, без разделителя тысяч","properties.comparison.measureNumber.format.template.conditionalColors":"Условные цвета","properties.comparison.measureNumber.format.template.trendSymbols":"С символами тенденций","properties.comparison.measureNumber.format.template.timeFromSeconds":"Время (с секунд)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Ноль вместо отсутствующего значения","properties.comparison.valueSubSection.title":"Значение","properties.comparison.format.title":"Формат","properties.comparison.subFormat.title":"(Формат)","properties.comparison.indicator.title":"Индикатор","properties.comparison.indicator.arrow.title":"Стрелка","properties.comparison.indicator.colorConfig.title":"Цвет","properties.comparison.indicator.colorConfig.equals":"Первичное = Вторичное","properties.comparison.indicator.colorConfig.positive":"Первичное > Вторичное","properties.comparison.indicator.colorConfig.negative":"Первичное < Вторичное","properties.comparison.labelSubSection.title":"Метка","properties.comparison.labelSubSection.positionOnTop.disabled":"Метки неприменимы для верхней позиции значения.","properties.comparison.labelSubSection.conditional.disabled":"Условные метки неприменимы для расчета соотношений.","properties.comparison.labelName.title":"Название","properties.comparison.labelConditional.title":"Условная","properties.comparison.labelPositive.title":"Первичное > Вторичное","properties.comparison.labelNegative.title":"Первичное < Вторичное","properties.comparison.labelEquals.title":"Первичное = Вторичное","properties.comparison.position.title":"Позиция","properties.comparison.position.top":"вверху","properties.comparison.position.right":"справа","properties.comparison.position.left":"слева","properties.forecastSliced.title":"Отображение частичного прогноза.","properties.forecastSliced.description":"Доступные данные не охватывают весь выбранный период.","dashboard.bucket.segment_title.scatter":"Сегментировать по","properties.clustering.title":"Кластер","properties.clustering.amount":"Сумма","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Показ частичных кластеров","properties.clustering.amount.partial.description":"Доступные точки данных не охватывают весь выбранный объем.","properties.clustering.disabled":"Кластеризация требует 2 Метрики и Просмотр по, без Сегментации по.","properties.clustering.threshold":"Порог","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"Порог — это предел, который определяет, когда следует группировать данные.<link> Узнать больше</link>","visualizations.headline.tertiary.title":"по сравнению","properties.interactions.alerts":"Оповещение","properties.interactions.alerts.tooltip":"Разрешить пользователям создавать оповещения для этой визуализации на дашбордах.","properties.interactions.scheduledExports":"Запланированные экспорты","properties.interactions.scheduledExports.tooltip":"Разрешить пользователям создавать запланированные экспорты для этой визуализации на дашбордах.","properties.advanced.title":"Расширенные настройки","properties.advanced.chartConfigOverride.noValueLabel":"Пока нет настроек","properties.advanced.chartConfigOverride.link":"Подробнее","properties.advanced.chartConfigOverride.editorButton":"Открыть редактор","properties.advanced.chartConfigOverride.title":"Расширенная настройка","properties.advanced.chartConfigOverride.snippets.header":"Фрагменты","properties.advanced.chartConfigOverride.button.apply":"Применить","properties.advanced.chartConfigOverride.button.cancel":"Отмена","gs.date.yesterday":"Вчера","notifications.panel.tab.unread":"Непрочитано ({count} )","notifications.panel.tab.all":"Все","notifications.panel.markAllAsRead":"Отметить все как прочитанные","notifications.panel.error.loading":"Ошибка загрузки уведомлений","notifications.panel.empty.all":"Нет уведомлений","notifications.panel.empty.unread":"Нет непрочитанных уведомлений","notifications.panel.unsupported.notification.type":"Неподдерживаемый тип уведомления","notifications.panel.markAsRead":"Отметить как прочитанное","notifications.filters.buttonLabel":"{count, plural, one {# фильтр} other {# фильтры}}","notifications.filters.dialog.title":"Фильтры","notifications.filters.dialog.dateRange":"Диапазон дат","notifications.panel.triggers.title":"для{triggeredCount} /{totalCount} предметы","notifications.panel.triggers.dialog.newValue":"Новое значение",close:"Закрыть","notifications.panel.triggers.dialog.title":"Запущено для","notifications.panel.error.learnMore":"Подробнее","notifications.panel.error.traceId":"Идентификатор трассировки","notifications.panel.error.message":"Не удалось обработать оповещение.","notifications.panel.button.label":"Уведомления","notifications.panel.notifications.list.label":"Уведомления","notifications.panel.alert.notification.type.label":"Уведомление об оповещении","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…и еще {count}","notifications.panel.download":"Скачать","notifications.panel.expiresOn":"Истекает{date}","notifications.panel.linkHasExpired":"Ссылка истекла","notifications.panel.toast.warning.filesExpired":"Срок действия ссылки <strong>для загрузки истек</strong> — дождитесь следующего экспорта или создайте его вручную.","notifications.panel.dashboardLinkHint":"Откройте панель мониторинга, используемую для этого экспорта","notifications.panel.dashboardLink":"От{dashboardTitle}","notifications.panel.downloadFilesHint":"Скачать экспортированные файлы","notifications.panel.error.alert.title":"Не удалось обработать оповещение.","notifications.panel.error.schedule.title":"Запланированный экспорт не выполнен.","notifications.panel.error.limitExceeded.message":"Ваш экспорт не может быть отправлен, так как ваша организация достигла предела максимального количества ежедневных оповещений и запланированных экспортов. Пожалуйста, свяжитесь с вашим администратором."},"it-IT":{or:"oppure","dashboard.bucket.measures_title.column._measure":"Misure","dashboard.bucket.measures_title.column._metric":"Metriche","dashboard.bucket.measures_title.bar._measure":"Misure","dashboard.bucket.measures_title.bar._metric":"Metriche","dashboard.bucket.measures_title.line._measure":"Misure","dashboard.bucket.measures_title.line._metric":"Metriche","dashboard.bucket.measures_title.area._measure":"Misure","dashboard.bucket.measures_title.area._metric":"Metriche","dashboard.bucket.measures_title.pie._measure":"Misure","dashboard.bucket.measures_title.pie._metric":"Metriche","dashboard.bucket.measures_title.funnel._measure":"Misure","dashboard.bucket.measures_title.funnel._metric":"Metriche","dashboard.bucket.measures_title.pyramid._measure":"Misure","dashboard.bucket.measures_title.pyramid._metric":"Metriche","dashboard.bucket.measures_title.treemap._measure":"Misure","dashboard.bucket.measures_title.treemap._metric":"Metriche","dashboard.bucket.measures_title.donut._measure":"Misure","dashboard.bucket.measures_title.donut._metric":"Metriche","dashboard.bucket.measures_title.heatmap._measure":"Misura","dashboard.bucket.measures_title.heatmap._metric":"Metrica","dashboard.bucket.measures_title.headline._measure":"Misura","dashboard.bucket.measures_title.headline._metric":"Metrica","dashboard.bucket.measures_subtitle.headline":"primaria","dashboard.bucket.secondary_measures_title.headline._measure":"Misura","dashboard.bucket.secondary_measures_title.headline._metric":"Metrica","dashboard.bucket.secondary_measures_subtitle.headline":"secondaria","dashboard.bucket.measures_title.scatter._measure":"Misura","dashboard.bucket.measures_title.scatter._metric":"Metrica","dashboard.bucket.secondary_measures_title.scatter._measure":"Misura","dashboard.bucket.secondary_measures_title.scatter._metric":"Metrica","dashboard.bucket.measures_subtitle.scatter":"Asse X","dashboard.bucket.secondary_measures_subtitle.scatter":"Asse Y","dashboard.bucket.attribute_title.scatter":"Visualizza per","dashboard.bucket.measures_title.combo._measure":"Misure","dashboard.bucket.measures_title.combo._metric":"Metriche","dashboard.bucket.measures_subtitle.combo":"Colonna","dashboard.bucket.secondary_measures_title.combo._measure":"Misure","dashboard.bucket.secondary_measures_title.combo._metric":"Metriche","dashboard.bucket.secondary_measures_subtitle.combo":"Linea","dashboard.bucket.measures_title.xirr._measure":"Misura","dashboard.bucket.measures_title.xirr._metric":"Metrica","dashboard.bucket.measures_title.waterfall._measure":"Misure","dashboard.bucket.measures_title.waterfall._metric":"Metriche","dashboard.bucket.attribute_title.xirr":"Attributo data","dashboard.bucket.attribute_from_title.sankey":"Attributo","dashboard.bucket.attribute_from_subtitle.sankey":"da","dashboard.bucket.attribute_to_title.sankey":"Attributo","dashboard.bucket.attribute_to_subtitle.sankey":"rispetto a","dashboard.bucket.attribute_from_title.dependencywheel":"Attributo","dashboard.bucket.attribute_from_subtitle.dependencywheel":"da","dashboard.bucket.attribute_to_title.dependencywheel":"Attributo","dashboard.bucket.attribute_to_subtitle.dependencywheel":"rispetto a","dashboard.bucket.combo.subtitle.column":"come colonne","dashboard.bucket.combo.subtitle.line":"come linee","dashboard.bucket.combo.subtitle.area":"come aree","dashboard.bucket.measures_title.bubble._measure":"Misura","dashboard.bucket.measures_title.bubble._metric":"Metrica","dashboard.bucket.secondary_measures_title.bubble._measure":"Misura","dashboard.bucket.secondary_measures_title.bubble._metric":"Metrica","dashboard.bucket.tertiary_measures_title.bubble._measure":"Misura","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metrica","dashboard.bucket.measures_subtitle.bubble":"Asse X","dashboard.bucket.secondary_measures_subtitle.bubble":"Asse Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Dimensioni","dashboard.bucket.location_title.pushpin":"Posizione","dashboard.bucket.size_title.pushpin._measure":"Misura","dashboard.bucket.size_title.pushpin._metric":"Metrica","dashboard.bucket.size_subtitle.pushpin":"Dimensioni","dashboard.bucket.color_title.pushpin._measure":"Misura","dashboard.bucket.color_title.pushpin._metric":"Metrica","dashboard.bucket.color_subtitle.pushpin":"Colore","dashboard.bucket.view_title.bubble":"Visualizza per","dashboard.bucket.view_title.pie":"Visualizza per","dashboard.bucket.view_title.treemap":"Visualizza per","dashboard.bucket.view_title.donut":"Visualizza per","dashboard.bucket.view_title.funnel":"Visualizza per","dashboard.bucket.view_title.pyramid":"Visualizza per","dashboard.bucket.view_title.column":"Visualizza per","dashboard.bucket.view_title.bar":"Visualizza per","dashboard.bucket.view_title.area":"Visualizza per","dashboard.bucket.view_title.bullet":"Visualizza per","dashboard.bucket.view_title.waterfall":"Visualizza per","dashboard.bucket.view_title.heatmap":"Righe","dashboard.bucket.trend_title.line":"Tendi per","dashboard.bucket.view_title.combo":"Visualizza per","dashboard.bucket.stack_title.column":"Impila per","dashboard.bucket.stack_title.bar":"Impila per","dashboard.bucket.stack_title.area":"Impila per","dashboard.bucket.stack_title.heatmap":"Colonne","dashboard.bucket.segment_title.line":"Segmenta per","dashboard.bucket.segment_title.treemap":"Segmenta per","dashboard.bucket.segment_title.pushpin":"Segmenta per","dashboard.bucket.metric_segment_by_warning._measure":"Per aggiungere una misura aggiuntiva, rimuovere {icons} da '<span class=\"stack-by\">'Segmenta per'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Per aggiungere una metrica aggiuntiva, rimuovere {icons} da '<span class=\"stack-by\">'Segmenta per'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Per aggiungere una misura aggiuntiva, rimuovere {icons} da '<span class=\"stack-by\">'Impila per'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Per aggiungere una metrica aggiuntiva, rimuovere {icons} da '<span class=\"stack-by\">'Impila per'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Per aggiungere una misura aggiuntiva, rimuovere {icons} da '<span class=\"stack-by\">'Visualizza per'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Per aggiungere una metrica aggiuntiva, rimuovere {icons} da '<span class=\"stack-by\">'Visualizza per'</span>'","dashboard.bucket.category_view_by_warning._measure":"Per visualizzare in base a un altro attributo, una visualizzazione può avere solo una misura","dashboard.bucket.category_view_by_warning._metric":"Per visualizzare in base a un altro attributo, una visualizzazione può avere solo una metrica","dashboard.bucket.view_stack_by_warning":"Per aggiungere un attributo aggiuntivo, rimuovere {icons} da '<span class=\"stack-by\">'Impila per'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Per impilare, una visualizzazione può avere solo una misura","dashboard.bucket.category_stack_by_warning._metric":"Per impilare, una visualizzazione può avere solo una metrica","dashboard.bucket.stack_view_by_warning":"Per impilare, una visualizzazione può avere un solo attributo in vista ","dashboard.bucket.measure_stack_by_warning._measure":"Per impilare in base a un attributo, una visualizzazione può avere solo una misura","dashboard.bucket.measure_stack_by_warning._metric":"Per impilare in base a un attributo, una visualizzazione può avere solo una metrica","dashboard.bucket.category_columns_warning._measure":"Impossibile aggiungere colonne: il limite è {oldLimit} misure e {oldRowsLimit} righe. Seguire i limiti per aggiungerne altre","dashboard.bucket.category_columns_warning._metric":"Impossibile aggiungere colonne: il limite è di {oldLimit} metriche e {oldRowsLimit} righe. Seguire i limiti per aggiungerne altre","dashboard.bucket.category_measures_rows_warning":"Per aggiungerne altre {limit}, rimuovere tutti gli elementi dalla sezione delle colonne","dashboard.bucket.category_category_by_warning._measure":"Per visualizzare da, una visualizzazione può avere una sola misura","dashboard.bucket.category_category_by_warning._metric":"Per visualizzare da, una visualizzazione può avere solo una metrica","dashboard.bucket.category_segment_by_warning._measure":"Per segmentare, una visualizzazione può avere solo una misura","dashboard.bucket.category_segment_by_warning._metric":"Per la segmentazione, una visualizzazione può avere solo una metrica","dashboard.bucket.measures_title.table._measure":"Misure","dashboard.bucket.measures_title.table._metric":"Metriche","dashboard.bucket.measures_title.sankey._measure":"MISURA","dashboard.bucket.measures_title.sankey._metric":"METRICA","dashboard.bucket.measures_title.dependencywheel._measure":"MISURA","dashboard.bucket.measures_title.dependencywheel._metric":"METRICA","dashboard.bucket.attribute_title.table":"Righe","dashboard.bucket.columns_title.table":"Colonne","dashboard.bucket.attribute_title.repeater":"Righe","dashboard.bucket.view_title.repeater":"Visualizza per","dashboard.bucket.columns_title.repeater":"Colonne","dashboard.error.missing_primary_bucket_item.heading._measure":"Nessuna misura primaria nella visualizzazione","dashboard.error.missing_primary_bucket_item.heading._metric":"Nessuna metrica primaria nella visualizzazione","dashboard.error.missing_primary_bucket_item.text._measure":"Aggiungere una misura primaria alla visualizzazione o passare alla tabella.\nUna volta terminato, sarà possibile salvarla.","dashboard.error.missing_primary_bucket_item.text._metric":"Aggiungere una metrica primaria alla visualizzazione o passare alla tabella.\nUna volta terminata, sarà possibile salvarla.","dashboard.xirr.error.invalid_buckets.heading":"Configurazione incompleta","dashboard.xirr.error.invalid_buckets.text._measure":"Assicurarsi di aver selezionato una misura e un attributo data","dashboard.xirr.error.invalid_buckets.text._metric":"Assicurarsi di aver selezionato una metrica e un attributo data","properties.unsupported":"Questa visualizzazione non supporta la configurazione","properties.config.not_applicable":"Il pannello di configurazione non è applicabile a questa configurazione della visualizzazione.","properties.not_applicable":"La proprietà non è applicabile a questa configurazione della visualizzazione.","properties.auto_placeholder":"automatico","properties.auto_default":"automatico (predefinito)","properties.legend.title":"Leggenda","properties.legend.position":"Posizione","properties.total.title":"Totale","properties.total.name":"Nome","properties.total.tooltip":"Aggiungere la somma di tutti i valori come colonna alla fine.","properties.total.measures.tooltip":'Disattivare le opzioni "è totale" nelle metriche per aggiungere la somma di tutti i valori come colonna alla fine.',"properties.color.total":"Totale","properties.color.positive":"Positivo","properties.color.negative":"Negativo","properties.canvas.title":"Area di disegno","properties.canvas.gridline":"Linea di griglia","properties.canvas.labels.percentages":"Percentuale","properties.canvas.labels.percentages.info":"Visualizzare le percentuali su ciascuna parte, con la parte più in alto come 100% e le altre come frazioni di quel valore.","properties.canvas.labels.percentages.disabled":"Le percentuali sono nascoste a causa delle etichette dati nascoste.","properties.canvas.continuousLine.label":"Linea continua","properties.canvas.continuousLine.tooltip":"Tracciare una linea tra i punti con valori mancanti.","properties.canvas.dataLabels":"Etichette dati","properties.canvas.dataLabels.auto":"automatico (predefinito)","properties.canvas.dataLabels.show":"mostra","properties.canvas.dataLabels.hide":"nascondi","properties.canvas.rowHeight":"Altezza della riga","properties.canvas.rowHeight.small":"piccola","properties.canvas.rowHeight.medium":"media","properties.canvas.rowHeight.large":"grande","properties.canvas.verticalAlign":"Allineamento verticale","properties.canvas.verticalAlign.top":"in cima","properties.canvas.verticalAlign.middle":"in mezzo","properties.canvas.verticalAlign.bottom":"in fondo","properties.canvas.textWrapping":"Interruzione del testo","properties.canvas.textWrapping.clip":"taglia","properties.canvas.textWrapping.wrap":"ritorna a capo","properties.canvas.image":"Immagine","properties.canvas.image.fit":"adatta","properties.canvas.image.fill":"riempi","properties.forecast.title":"Previsione","properties.forecastDisabled.title":"La previsione non è disponibile per questa combinazione di bucket.","properties.forecastPeriod.title":"Periodo","properties.forecastPeriod.placeholder":"Periodo","properties.forecastSeasonal.title":"Stagionalità","properties.forecastConfidence.title":"Probabilità","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Totale etichette","properties.canvas.totalLabels.auto":"automatico (predefinito)","properties.canvas.totalLabels.show":"mostra","properties.canvas.totalLabels.hide":"nascondi","properties.canvas.dataPoints":"Punti dati","properties.canvas.dataPoints.auto":"automatico (predefinito)","properties.canvas.dataPoints.show":"mostra","properties.canvas.dataPoints.hide":"nascondi","properties.yaxis.title":"Asse Y","properties.axis.labels":"etichette","properties.axis.rotation":"Rotazione","properties.axis.format":"Formato","properties.axis.format.inherit":"eredita","properties.axis.format.info.inherit._measure":"Il formato è ereditato dalla prima misura della visualizzazione.","properties.axis.format.info.inherit._metric":"Il formato è ereditato dalla prima metrica della visualizzazione.","properties.axis.name":"nome","properties.axis.name.position":"Posizione","properties.axis.name.position.left":"a sinistra","properties.axis.name.position.center":"centro","properties.axis.name.position.right":"a destra","properties.axis.name.position.top":"in cima","properties.axis.name.position.middle":"in mezzo","properties.axis.name.position.bottom":"in fondo","properties.axis.min":"Min","properties.axis.min.warning":"Il valore minimo non può essere maggiore del valore massimo","properties.axis.max":"Max","properties.axis.max.warning":"Il valore massimo non può essere inferiore al valore minimo","properties.xaxis.title":"Asse X","properties.axis.scale":"ridimensiona","properties.axis.left":"Sinistra","properties.axis.right":"Destra","properties.axis.top":"In cima","properties.axis.bottom":"In fondo","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"in cima","properties.legend.position.down":"in fondo","properties.legend.position.right":"a destra","properties.legend.position.left":"a sinistra","properties.orientation.title":"Orientamento","properties.orientation.horizontal":"Orizzontale (predefinito)","properties.orientation.vertical":"Verticale","properties.points.title":"Punti","properties.points.groupNearbyPoints":"Raggruppa punti vicini","properties.points.size.title":"Dimensione del punto","properties.points.size.extra_small":"0.5x","properties.points.size.small":"0.75x","properties.points.size.normal":"normale","properties.points.size.large":"1.25x","properties.points.size.extra_large":"1.5x","properties.points.size.min.title":"Minima","properties.points.size.max.title":"Massima","properties.map.title":"Mappa","properties.viewport.area.title":"Riquadro di visualizzazione predefinito","properties.viewport.area.auto_default":"Includi tutti i dati","properties.viewport.area.continents":"continenti","properties.viewport.area.continent_af":"Africa","properties.viewport.area.continent_as":"Asia","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"America (nord)","properties.viewport.area.continent_sa":"America (sud)","properties.viewport.area.world":"Mondo","gs.color-dropdown.custom-color":"Colore personalizzato","properties.colors.reset-colors":"Reimposta colori","properties.colors":"Colori","properties.colors.unsupported":"Non ci sono colori per questa configurazione della visualizzazione.","export_unsupported.colors":"La visualizzazione non è compatibile con i colori personalizzati. Per aprire la visualizzazione come report, cliccare su Reimposta colori in Configurazione -> Colori.","dashboard.bucket.measures_title.bullet._measure":"Misura","dashboard.bucket.measures_title.bullet._metric":"Metrica","dashboard.bucket.secondary_measures_title.bullet._measure":"Misura","dashboard.bucket.secondary_measures_title.bullet._metric":"Metrica","dashboard.bucket.tertiary_measures_title.bullet._measure":"Misura","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metrica","dashboard.bucket.measures_subtitle.bullet":"Primaria","dashboard.bucket.secondary_measures_subtitle.bullet":"Obiettivo","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparative","sorting.disabled.explanation.attribute":"L'ordinamento non è possibile per questa configurazione di visualizzazione.","sorting.disabled.explanation.measure._measure":"È necessario aggiungere almeno un attributo per ordinare la visualizzazione. È inoltre possibile regolare la posizione degli elementi nella sezione Misure per modificarne la posizione nella visualizzazione.","sorting.disabled.explanation.measure._metric":"È necessario aggiungere almeno un attributo per ordinare la visualizzazione. È inoltre possibile regolare la posizione degli elementi nella sezione Metriche per modificarne la posizione nella visualizzazione.","properties.metrics.title._measure":"Misure","properties.metrics.title._metric":"Metriche","properties.metrics.position":"Posizione","properties.metrics.position.columns":"colonne (predefinita)","properties.metrics.position.rows":"righe","properties.column.headers.title":"Intestazioni colonna","properties.column.headers.position":"Posizione","properties.column.headers.position.top":"in cima (predefinita)","properties.column.headers.position.left":"a sinistra","dashboard.bucket.table.subtitle.columns":"in colonne","dashboard.bucket.table.subtitle.rows":"in righe","properties.interactions.title":"Interazioni","properties.interactions.drillDown":"Drill-down","properties.comparison.title":"Confronto","properties.comparison.calculationType.title":"Calcolato come","properties.comparison.calculationType.as.change":"Variazione","properties.comparison.calculationType.as.ratio":"Proporzione","properties.comparison.calculationType.as.difference":"Differenza","properties.comparison.calculationType.as.changeDifference":"Variazione (differenza)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calcola la variazione relativa tra i valori della metrica primaria e secondaria.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calcola la variazione relativa tra i valori della misura primaria e secondaria.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifica la quota del valore della metrica primaria sul valore della metrica secondaria.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifica la quota del valore della misura primaria sul valore della misura secondaria.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calcola la differenza assoluta tra i valori della metrica primaria e secondaria.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calcola la differenza assoluta tra i valori della misura primaria e secondaria.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calcola sia la variazione relativa che la differenza assoluta tra i valori della metrica primaria e secondaria.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calcola sia la variazione relativa che la differenza assoluta tra i valori della misura primaria e secondaria.","properties.comparison.calculationType.tooltip.formula.section":"Formula","properties.comparison.calculationType.tooltip.formulaChange.section":"Formula (modifica relativa)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formula (differenza assoluta)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primario - Secondario) / Secondario","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primario / Secondario","properties.comparison.calculationType.as.difference.tooltip.formula":"Primario - Secondario","properties.comparison.calculationType.tooltip.example.section":"Esempio","properties.comparison.calculationType.as.change.tooltip.example":"Variazione delle vendite anno su anno = (vendite dell'anno in corso - vendite dell'anno precedente) / vendite dell'anno precedente","properties.comparison.calculationType.as.ratio.tooltip.example":"Vendite attuali rispetto a una quota = vendite attuali / quota","properties.comparison.calculationType.as.difference.tooltip.example":"Differenza delle vendite rispetto all'anno precedente = vendite dell'anno in corso - vendite dell'anno precedente","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Variazione delle vendite su base annua = [(vendite dell'anno in corso - vendite dell'anno precedente) / vendite dell'anno precedente] E [vendite dell'anno in corso - vendite dell'anno precedente].","properties.comparison.measureNumber.format.preset.inherit":"Eredita","properties.comparison.measureNumber.format.preset.rounded":"Arrotondato","properties.comparison.measureNumber.format.preset.decimal1":"Decimale (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimale (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Percentuale (arrotondata)","properties.comparison.measureNumber.format.preset.percent1":"Percentuale (1)","properties.comparison.measureNumber.format.preset.percent2":"Percentuale (2)","properties.comparison.measureNumber.format.template.rounded":"Arrotondato","properties.comparison.measureNumber.format.template.decimal1":"Decimale (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimale (2)","properties.comparison.measureNumber.format.template.percentRounded":"Percentuale (arrotondata)","properties.comparison.measureNumber.format.template.percent1":"Percentuale (1)","properties.comparison.measureNumber.format.template.percent2":"Percentuale (2)","properties.comparison.measureNumber.format.template.currency":"Valuta","properties.comparison.measureNumber.format.template.currencyShortened":"Valuta abbreviata","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Numeri grandi abbreviati","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Numeri grandi abbreviati con i colori","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Numeri negativi in rosso","properties.comparison.measureNumber.format.template.financial":"Finanziario","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimale (2) senza separatore delle migliaia","properties.comparison.measureNumber.format.template.conditionalColors":"Colori condizionali","properties.comparison.measureNumber.format.template.trendSymbols":"Simboli di andamento","properties.comparison.measureNumber.format.template.timeFromSeconds":"Tempo (da secondi)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zero al posto del valore vuoto","properties.comparison.valueSubSection.title":"Valore","properties.comparison.format.title":"Formato","properties.comparison.subFormat.title":"(Formato)","properties.comparison.indicator.title":"Indicatore","properties.comparison.indicator.arrow.title":"Freccia","properties.comparison.indicator.colorConfig.title":"Colore","properties.comparison.indicator.colorConfig.equals":"Primario = Secondario","properties.comparison.indicator.colorConfig.positive":"Primario > Secondario","properties.comparison.indicator.colorConfig.negative":"Primario < Secondario","properties.comparison.labelSubSection.title":"Etichetta","properties.comparison.labelSubSection.positionOnTop.disabled":"Etichette non applicabili per la posizione di valore più in alto.","properties.comparison.labelSubSection.conditional.disabled":"Le etichette condizionali non sono applicabili ai calcoli della divisione.","properties.comparison.labelName.title":"Nome","properties.comparison.labelConditional.title":"Condizionale","properties.comparison.labelPositive.title":"Primario > Secondario","properties.comparison.labelNegative.title":"Primario < Secondario","properties.comparison.labelEquals.title":"Primario = Secondario","properties.comparison.position.title":"Posizione","properties.comparison.position.top":"in cima","properties.comparison.position.right":"a destra","properties.comparison.position.left":"a sinistra","properties.forecastSliced.title":"Mostra una previsione parziale.","properties.forecastSliced.description":"I dati disponibili non coprono l'intero periodo selezionato.","dashboard.bucket.segment_title.scatter":"Segmenta per","properties.clustering.title":"Gruppo","properties.clustering.amount":"Importo","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Mostra i gruppi parziali","properties.clustering.amount.partial.description":"I punti dati disponibili non coprono l'intero importo selezionato.","properties.clustering.disabled":"Il clustering richiede 2 metriche e la visualizzazione per, senza il segmento per.","properties.clustering.threshold":"Soglia","properties.clustering.threshold.placeholder":"0,03","properties.clustering.threshold.tooltip":"La soglia è un limite che determina quando raggruppare i dati. <link>Maggiori informazioni</link>","visualizations.headline.tertiary.title":"VS","properties.interactions.alerts":"Avviso","properties.interactions.alerts.tooltip":"Consente agli utenti di creare avvisi per questa visualizzazione sui dashboard.","properties.interactions.scheduledExports":"Esportazioni programmate","properties.interactions.scheduledExports.tooltip":"Consente agli utenti di creare esportazioni programmate per questa visualizzazione sui dashboard.","properties.advanced.title":"Personalizzazioni avanzate","properties.advanced.chartConfigOverride.noValueLabel":"Non ci sono ancora personalizzazioni.","properties.advanced.chartConfigOverride.link":"Maggiori informazioni","properties.advanced.chartConfigOverride.editorButton":"Aprire l'editor","properties.advanced.chartConfigOverride.title":"Personalizzazione avanzata","properties.advanced.chartConfigOverride.snippets.header":"Snippet","properties.advanced.chartConfigOverride.button.apply":"Applica","properties.advanced.chartConfigOverride.button.cancel":"Annulla","gs.date.yesterday":"Ieri","notifications.panel.tab.unread":"Non letto ({count})","notifications.panel.tab.all":"Tutto","notifications.panel.markAllAsRead":"Contrassegnare tutti come letti","notifications.panel.error.loading":"Notifiche di errori di caricamento","notifications.panel.empty.all":"Nessuna notifica","notifications.panel.empty.unread":"Nessuna notifica non letta","notifications.panel.unsupported.notification.type":"Tipo di notifica non supportato","notifications.panel.markAsRead":"Segna come letto","notifications.filters.buttonLabel":"{count, plural, one {# filtro} other {# filtri}}","notifications.filters.dialog.title":"Filtri","notifications.filters.dialog.dateRange":"Intervallo di date","notifications.panel.triggers.title":"per {triggeredCount}/{totalCount} articoli","notifications.panel.triggers.dialog.newValue":"Nuovo valore",close:"Chiudere","notifications.panel.triggers.dialog.title":"Attivato per","notifications.panel.error.learnMore":"Maggiori informazioni","notifications.panel.error.traceId":"Trace ID","notifications.panel.error.message":"Non è stato possibile elaborare l'avviso.","notifications.panel.button.label":"Notifiche","notifications.panel.notifications.list.label":"Notifiche","notifications.panel.alert.notification.type.label":"Notifica di allarme","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…e altri {count}","notifications.panel.download":"Scaricare","notifications.panel.expiresOn":"Scade il {date}","notifications.panel.linkHasExpired":"Il link è scaduto","notifications.panel.toast.warning.filesExpired":"<strong>Il link per il download è scaduto</strong> — attendere la prossima esportazione o crearne una manualmente.","notifications.panel.dashboardLinkHint":"Aprire la dashboard utilizzata per l'esportazione","notifications.panel.dashboardLink":"Da {dashboardTitle}","notifications.panel.downloadFilesHint":"Scaricare i file esportati","notifications.panel.error.alert.title":"Non è stato possibile elaborare l'avviso.","notifications.panel.error.schedule.title":"Esportazione programmata non riuscita.","notifications.panel.error.limitExceeded.message":"Non è stato possibile inviare l'esportazione perché l'organizzazione ha raggiunto il limite del numero massimo di avvisi giornalieri e di esportazioni programmate. Contattare l'amministratore."},"es-419":{or:"o","dashboard.bucket.measures_title.column._measure":"Medidas","dashboard.bucket.measures_title.column._metric":"Métricas","dashboard.bucket.measures_title.bar._measure":"Medidas","dashboard.bucket.measures_title.bar._metric":"Métricas","dashboard.bucket.measures_title.line._measure":"Medidas","dashboard.bucket.measures_title.line._metric":"Métricas","dashboard.bucket.measures_title.area._measure":"Medidas","dashboard.bucket.measures_title.area._metric":"Métricas","dashboard.bucket.measures_title.pie._measure":"Medidas","dashboard.bucket.measures_title.pie._metric":"Métricas","dashboard.bucket.measures_title.funnel._measure":"Medidas","dashboard.bucket.measures_title.funnel._metric":"Métricas","dashboard.bucket.measures_title.pyramid._measure":"Medidas","dashboard.bucket.measures_title.pyramid._metric":"Métricas","dashboard.bucket.measures_title.treemap._measure":"Medidas","dashboard.bucket.measures_title.treemap._metric":"Métricas","dashboard.bucket.measures_title.donut._measure":"Medidas","dashboard.bucket.measures_title.donut._metric":"Métricas","dashboard.bucket.measures_title.heatmap._measure":"Medida","dashboard.bucket.measures_title.heatmap._metric":"Métrica","dashboard.bucket.measures_title.headline._measure":"Medida","dashboard.bucket.measures_title.headline._metric":"Métrica","dashboard.bucket.measures_subtitle.headline":"principal","dashboard.bucket.secondary_measures_title.headline._measure":"Medida","dashboard.bucket.secondary_measures_title.headline._metric":"Métrica","dashboard.bucket.secondary_measures_subtitle.headline":"secundario","dashboard.bucket.measures_title.scatter._measure":"Medida","dashboard.bucket.measures_title.scatter._metric":"Métrica","dashboard.bucket.secondary_measures_title.scatter._measure":"Medida","dashboard.bucket.secondary_measures_title.scatter._metric":"Métrica","dashboard.bucket.measures_subtitle.scatter":"Eje X","dashboard.bucket.secondary_measures_subtitle.scatter":"Eje Y","dashboard.bucket.attribute_title.scatter":"Ver por","dashboard.bucket.measures_title.combo._measure":"Medidas","dashboard.bucket.measures_title.combo._metric":"Métricas","dashboard.bucket.measures_subtitle.combo":"Columna","dashboard.bucket.secondary_measures_title.combo._measure":"Medidas","dashboard.bucket.secondary_measures_title.combo._metric":"Métricas","dashboard.bucket.secondary_measures_subtitle.combo":"Línea","dashboard.bucket.measures_title.xirr._measure":"Medida","dashboard.bucket.measures_title.xirr._metric":"Métrica","dashboard.bucket.measures_title.waterfall._measure":"Medidas","dashboard.bucket.measures_title.waterfall._metric":"Métricas","dashboard.bucket.attribute_title.xirr":"Atributo de fecha","dashboard.bucket.attribute_from_title.sankey":"Atributo","dashboard.bucket.attribute_from_subtitle.sankey":"de","dashboard.bucket.attribute_to_title.sankey":"Atributo","dashboard.bucket.attribute_to_subtitle.sankey":"para","dashboard.bucket.attribute_from_title.dependencywheel":"Atributo","dashboard.bucket.attribute_from_subtitle.dependencywheel":"de","dashboard.bucket.attribute_to_title.dependencywheel":"Atributo","dashboard.bucket.attribute_to_subtitle.dependencywheel":"para","dashboard.bucket.combo.subtitle.column":"como columnas","dashboard.bucket.combo.subtitle.line":"como líneas","dashboard.bucket.combo.subtitle.area":"como áreas","dashboard.bucket.measures_title.bubble._measure":"Medida","dashboard.bucket.measures_title.bubble._metric":"Métrica","dashboard.bucket.secondary_measures_title.bubble._measure":"Medida","dashboard.bucket.secondary_measures_title.bubble._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bubble._measure":"Medida","dashboard.bucket.tertiary_measures_title.bubble._metric":"Métrica","dashboard.bucket.measures_subtitle.bubble":"Eje X","dashboard.bucket.secondary_measures_subtitle.bubble":"Eje Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Tamaño","dashboard.bucket.location_title.pushpin":"Ubicación","dashboard.bucket.size_title.pushpin._measure":"Medida","dashboard.bucket.size_title.pushpin._metric":"Métrica","dashboard.bucket.size_subtitle.pushpin":"Tamaño","dashboard.bucket.color_title.pushpin._measure":"Medida","dashboard.bucket.color_title.pushpin._metric":"Métrica","dashboard.bucket.color_subtitle.pushpin":"Color","dashboard.bucket.view_title.bubble":"Ver por","dashboard.bucket.view_title.pie":"Ver por","dashboard.bucket.view_title.treemap":"Ver por","dashboard.bucket.view_title.donut":"Ver por","dashboard.bucket.view_title.funnel":"Ver por","dashboard.bucket.view_title.pyramid":"Ver por","dashboard.bucket.view_title.column":"Ver por","dashboard.bucket.view_title.bar":"Ver por","dashboard.bucket.view_title.area":"Ver por","dashboard.bucket.view_title.bullet":"Ver por","dashboard.bucket.view_title.waterfall":"Ver por","dashboard.bucket.view_title.heatmap":"Filas","dashboard.bucket.trend_title.line":"Tendencia por","dashboard.bucket.view_title.combo":"Ver por","dashboard.bucket.stack_title.column":"Apilar por","dashboard.bucket.stack_title.bar":"Apilar por","dashboard.bucket.stack_title.area":"Apilar por","dashboard.bucket.stack_title.heatmap":"Columnas","dashboard.bucket.segment_title.line":"Segmentar por","dashboard.bucket.segment_title.treemap":"Segmentar por","dashboard.bucket.segment_title.pushpin":"Segmentar por","dashboard.bucket.metric_segment_by_warning._measure":"Para agregar una medida adicional, elimine {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Para agregar una métrica adicional, elimine {icons} de '<span class=\"stack-by\">'segmentar por'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Para agregar una medida adicional, elimine {icons} de '<span class=\"stack-by\">'apilar por'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Para agregar una métrica adicional, elimine {icons} de '<span class=\"stack-by\">'apilar por'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Para agregar una medida adicional, elimine {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Para agregar una métrica adicional, elimine {icons} de '<span class=\"stack-by\">'ver por'</span>'","dashboard.bucket.category_view_by_warning._measure":"Para visualizar por otro atributo, una visualización sólo puede tener una medida","dashboard.bucket.category_view_by_warning._metric":"Para visualizar por otro atributo, una visualización sólo puede tener una métrica","dashboard.bucket.view_stack_by_warning":"Para agregar un atributo adicional, elimine {icons} de '<span class=\"stack-by\">'apilar por'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Para apilar, una visualización sólo puede tener una medida","dashboard.bucket.category_stack_by_warning._metric":"Para apilar, una visualización sólo puede tener una métrica","dashboard.bucket.stack_view_by_warning":"Para apilar por, una visualización sólo puede tener un atributo en vista por","dashboard.bucket.measure_stack_by_warning._measure":"Para apilar por atributos, una visualización sólo puede tener una medida","dashboard.bucket.measure_stack_by_warning._metric":"Para apilar por atributos, una visualización sólo puede tener una métrica","dashboard.bucket.category_columns_warning._measure":"No se pueden agregar columnas: el límite está en {oldLimit} medidas y {oldRowsLimit} filas. Siga los límites para agregar más","dashboard.bucket.category_columns_warning._metric":"No se pueden agregar columnas: el límite está en {oldLimit} métricas y {oldRowsLimit} filas. Siga los límites para agregar más","dashboard.bucket.category_measures_rows_warning":"Para agregar hasta {limit} más, elimine todos los elementos de la sección de columnas","dashboard.bucket.category_category_by_warning._measure":"Para visualizar, una visualización sólo puede tener una medida","dashboard.bucket.category_category_by_warning._metric":"Para visualizar, una visualización sólo puede tener una métrica","dashboard.bucket.category_segment_by_warning._measure":"Para segmentar por, una visualización sólo puede tener una medida","dashboard.bucket.category_segment_by_warning._metric":"Para segmentar por, una visualización sólo puede tener una métrica","dashboard.bucket.measures_title.table._measure":"Medidas","dashboard.bucket.measures_title.table._metric":"Métricas","dashboard.bucket.measures_title.sankey._measure":"MEDIDA","dashboard.bucket.measures_title.sankey._metric":"MÉTRICA","dashboard.bucket.measures_title.dependencywheel._measure":"MEDIDA","dashboard.bucket.measures_title.dependencywheel._metric":"MÉTRICA","dashboard.bucket.attribute_title.table":"Filas","dashboard.bucket.columns_title.table":"Columnas","dashboard.bucket.attribute_title.repeater":"Filas","dashboard.bucket.view_title.repeater":"Ver por","dashboard.bucket.columns_title.repeater":"Columnas","dashboard.error.missing_primary_bucket_item.heading._measure":"No hay ninguna medida principal en su visualización","dashboard.error.missing_primary_bucket_item.heading._metric":"No hay ninguna métrica principal en su visualización","dashboard.error.missing_primary_bucket_item.text._measure":"Agregue una medida principal a su visualización, o cambie a tabla.\nCuando lo haya hecho, podrá guardar.","dashboard.error.missing_primary_bucket_item.text._metric":"Agregue una métrica principal a su visualización, o cambie a tabla.\nCuando lo haya hecho, podrá guardar.","dashboard.xirr.error.invalid_buckets.heading":"Configuración incompleta","dashboard.xirr.error.invalid_buckets.text._measure":"Asegúrese de haber seleccionado una medida y un atributo de fecha","dashboard.xirr.error.invalid_buckets.text._metric":"Asegúrese de haber seleccionado una métrica y un atributo de fecha","properties.unsupported":"Esta visualización no admite la configuración","properties.config.not_applicable":"El Panel de Configuración no es aplicable para esta configuración de la visualización","properties.not_applicable":"La propiedad no es aplicable para esta configuración de la visualización","properties.auto_placeholder":"automático","properties.auto_default":"automático (predeterminado)","properties.legend.title":"Leyenda","properties.legend.position":"Posición","properties.total.title":"Total","properties.total.name":"Nombre","properties.total.tooltip":"Agregar suma de todos los valores como una columna al final.","properties.total.measures.tooltip":'Desactive las opciones "es total" en la métrica para agregar la suma de todos los valores como una columna al final.',"properties.color.total":"Total","properties.color.positive":"Positivo","properties.color.negative":"Negativo","properties.canvas.title":"Lienzo","properties.canvas.gridline":"Línea de cuadrícula","properties.canvas.labels.percentages":"Porcentaje","properties.canvas.labels.percentages.info":"Se muestran porcentajes en cada porción, con la porción superior como 100 % y las demás como fracciones de ese valor.","properties.canvas.labels.percentages.disabled":"Los porcentajes se ocultan debido a etiquetas de datos ocultas.","properties.canvas.continuousLine.label":"Línea continua","properties.canvas.continuousLine.tooltip":"Se dibuja una línea entre dos puntos con valores que faltan.","properties.canvas.dataLabels":"Etiquetas de datos","properties.canvas.dataLabels.auto":"automático (predeterminado)","properties.canvas.dataLabels.show":"mostrar","properties.canvas.dataLabels.hide":"ocultar","properties.canvas.rowHeight":"Altura de fila","properties.canvas.rowHeight.small":"pequeña","properties.canvas.rowHeight.medium":"media","properties.canvas.rowHeight.large":"grande","properties.canvas.verticalAlign":"Alineación vertical","properties.canvas.verticalAlign.top":"parte superior","properties.canvas.verticalAlign.middle":"parte media","properties.canvas.verticalAlign.bottom":"parte inferior","properties.canvas.textWrapping":"Ajuste del texto","properties.canvas.textWrapping.clip":"recortar","properties.canvas.textWrapping.wrap":"ajustar","properties.canvas.image":"Imagen","properties.canvas.image.fit":"ajustar","properties.canvas.image.fill":"rellenar","properties.forecast.title":"Previsión","properties.forecastDisabled.title":"La previsión no está disponible para esta combinación de depósitos","properties.forecastPeriod.title":"Periodo","properties.forecastPeriod.placeholder":"Periodo","properties.forecastSeasonal.title":"Estacionalidad","properties.forecastConfidence.title":"Confianza","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Etiquetas totales","properties.canvas.totalLabels.auto":"automático (predeterminado)","properties.canvas.totalLabels.show":"mostrar","properties.canvas.totalLabels.hide":"ocultar","properties.canvas.dataPoints":"Puntos de datos","properties.canvas.dataPoints.auto":"automático (predeterminado)","properties.canvas.dataPoints.show":"mostrar","properties.canvas.dataPoints.hide":"ocultar","properties.yaxis.title":"Eje Y","properties.axis.labels":"etiquetas","properties.axis.rotation":"Rotación","properties.axis.format":"Formato","properties.axis.format.inherit":"heredar","properties.axis.format.info.inherit._measure":"El formato se hereda de la primera compás de la visualización.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ","properties.axis.format.info.inherit._metric":"El formato se hereda de la primera métrica de la visualización.","properties.axis.name":"nombre","properties.axis.name.position":"Posición","properties.axis.name.position.left":"izquierda","properties.axis.name.position.center":"centro","properties.axis.name.position.right":"derecha","properties.axis.name.position.top":"parte superior","properties.axis.name.position.middle":"parte media","properties.axis.name.position.bottom":"parte inferior","properties.axis.min":"Min","properties.axis.min.warning":"El valor mínimo no puede ser mayor que el valor máximo","properties.axis.max":"Máx","properties.axis.max.warning":"El valor máximo no puede ser menor que el valor mínimo","properties.xaxis.title":"Eje X","properties.axis.scale":"escala","properties.axis.left":"Izquierda","properties.axis.right":"Derecha","properties.axis.top":"Arriba","properties.axis.bottom":"Abajo","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"parte superior","properties.legend.position.down":"parte inferior","properties.legend.position.right":"derecha","properties.legend.position.left":"izquierda","properties.orientation.title":"Orientación","properties.orientation.horizontal":"Horizontal (predeterminada)","properties.orientation.vertical":"Vertical","properties.points.title":"Puntos","properties.points.groupNearbyPoints":"Agrupar puntos cercanos","properties.points.size.title":"Tamaño del punto","properties.points.size.extra_small":"x 0,5","properties.points.size.small":"x 0,75","properties.points.size.normal":"normal","properties.points.size.large":"x 1,25","properties.points.size.extra_large":"x 1,5","properties.points.size.min.title":"Más pequeño","properties.points.size.max.title":"Más grande","properties.map.title":"Mapa","properties.viewport.area.title":"Ventana predeterminada","properties.viewport.area.auto_default":"Incluir todos los datos","properties.viewport.area.continents":"continentes","properties.viewport.area.continent_af":"África","properties.viewport.area.continent_as":"Asia","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"Norteamérica","properties.viewport.area.continent_sa":"Sudamérica","properties.viewport.area.world":"Mundo","gs.color-dropdown.custom-color":"Color personalizado","properties.colors.reset-colors":"Restablecer colores","properties.colors":"Colores","properties.colors.unsupported":"No hay colores para esta configuración de la visualización","export_unsupported.colors":"La visualización no es compatible con colores personalizados. Para abrir la visualización como un informe, haga clic en Restablecer colores en Configuración -> Colores.","dashboard.bucket.measures_title.bullet._measure":"Medida","dashboard.bucket.measures_title.bullet._metric":"Métrica","dashboard.bucket.secondary_measures_title.bullet._measure":"Medida","dashboard.bucket.secondary_measures_title.bullet._metric":"Métrica","dashboard.bucket.tertiary_measures_title.bullet._measure":"Medida","dashboard.bucket.tertiary_measures_title.bullet._metric":"Métrica","dashboard.bucket.measures_subtitle.bullet":"Principal","dashboard.bucket.secondary_measures_subtitle.bullet":"Destino","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparativas","sorting.disabled.explanation.attribute":"La clasificación no es posible para esta configuración de visualización.","sorting.disabled.explanation.measure._measure":"Debe agregar al menos un atributo para ordenar la visualización. También puede ajustar la posición de los elementos en la sección Medidas para cambiar su posición en la visualización.","sorting.disabled.explanation.measure._metric":"Debe agregar al menos un atributo para ordenar la visualización. También puede ajustar la posición de los elementos en la sección Métricas para cambiar su posición en la visualización.","properties.metrics.title._measure":"Medidas","properties.metrics.title._metric":"Métricas","properties.metrics.position":"Posición","properties.metrics.position.columns":"columnas (predeterminado)","properties.metrics.position.rows":"filas","properties.column.headers.title":"Encabezados de columna","properties.column.headers.position":"Posición","properties.column.headers.position.top":"superior (predeterminado)","properties.column.headers.position.left":"izquierda","dashboard.bucket.table.subtitle.columns":"en columnas","dashboard.bucket.table.subtitle.rows":"en filas","properties.interactions.title":"Interacciones","properties.interactions.drillDown":"Profundización","properties.comparison.title":"Comparación","properties.comparison.calculationType.title":"Calculado como","properties.comparison.calculationType.as.change":"Cambiar","properties.comparison.calculationType.as.ratio":"Proporción","properties.comparison.calculationType.as.difference":"Diferencia","properties.comparison.calculationType.as.changeDifference":"Cambio (diferencia)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calcula el cambio relativo entre valores de métrica principales y secundarios.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calcula el cambio relativo entre valores de medida principales y secundarios.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Cuantifica la parte del valor de métrica principal en el valor de métrica secundario.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Cuantifica la parte del valor de medida principal en el valor de medida secundario.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calcula la diferencia absoluta entre valores de métrica principales y secundarios.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calcula la diferencia absoluta entre valores de medida principales y secundarios.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calcula tanto el cambio relativo como la diferencia absoluta entre valores de métrica principales y secundarios.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calcula tanto el cambio relativo como la diferencia absoluta entre valores de medida principales y secundarios.","properties.comparison.calculationType.tooltip.formula.section":"Fórmula","properties.comparison.calculationType.tooltip.formulaChange.section":"Fórmula (cambio relativo)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Fórmula (diferencia absoluta)","properties.comparison.calculationType.as.change.tooltip.formula":"(Principal - Secundaria) / Secundaria","properties.comparison.calculationType.as.ratio.tooltip.formula":"Principal / Secundaria","properties.comparison.calculationType.as.difference.tooltip.formula":"Principal - Secundaria","properties.comparison.calculationType.tooltip.example.section":"Ejemplo","properties.comparison.calculationType.as.change.tooltip.example":"Cambio interanual de las ventas = (ventas del año actual - ventas del año anterior) / ventas del año anterior","properties.comparison.calculationType.as.ratio.tooltip.example":"Ventas actuales comparadas con una cuota = ventas actuales / cuota","properties.comparison.calculationType.as.difference.tooltip.example":"Diferencia interanual de las ventas = ventas del año actual - ventas del año anterior","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Cambio interanual de las ventas = [(ventas del año actual - ventas del año anterior) / ventas del año anterior] Y [ventas del año actual - ventas del año anterior]","properties.comparison.measureNumber.format.preset.inherit":"Heredado","properties.comparison.measureNumber.format.preset.rounded":"Redondeado","properties.comparison.measureNumber.format.preset.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Porcentaje (redondeado)","properties.comparison.measureNumber.format.preset.percent1":"Porcentaje (1)","properties.comparison.measureNumber.format.preset.percent2":"Porcentaje (2)","properties.comparison.measureNumber.format.template.rounded":"Redondeado","properties.comparison.measureNumber.format.template.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Porcentaje (redondeado)","properties.comparison.measureNumber.format.template.percent1":"Porcentaje (1)","properties.comparison.measureNumber.format.template.percent2":"Porcentaje (2)","properties.comparison.measureNumber.format.template.currency":"Divisa","properties.comparison.measureNumber.format.template.currencyShortened":"Acortado con divisa","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Números grandes acortados","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Números grandes acortados con colores","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Números negativos en rojo","properties.comparison.measureNumber.format.template.financial":"Financiero","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimal (2) sin separador de miles","properties.comparison.measureNumber.format.template.conditionalColors":"Colores condicionales","properties.comparison.measureNumber.format.template.trendSymbols":"Símbolos de tendencia","properties.comparison.measureNumber.format.template.timeFromSeconds":"Tiempo (desde los segundos)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Cero en lugar de valores en blanco","properties.comparison.valueSubSection.title":"Valor","properties.comparison.format.title":"Formato","properties.comparison.subFormat.title":"(Formato)","properties.comparison.indicator.title":"Indicador","properties.comparison.indicator.arrow.title":"Flecha","properties.comparison.indicator.colorConfig.title":"Color","properties.comparison.indicator.colorConfig.equals":"Principal = Secundaria","properties.comparison.indicator.colorConfig.positive":"Principal > Secundaria","properties.comparison.indicator.colorConfig.negative":"Principal < Secundaria","properties.comparison.labelSubSection.title":"Etiqueta","properties.comparison.labelSubSection.positionOnTop.disabled":"Etiquetas no aplicables a la posición de valor superior.","properties.comparison.labelSubSection.conditional.disabled":"Las etiquetas condicionales no se aplican a los cálculos de ratio.","properties.comparison.labelName.title":"Nombre","properties.comparison.labelConditional.title":"Condicional","properties.comparison.labelPositive.title":"Principal > Secundaria","properties.comparison.labelNegative.title":"Principal < Secundaria","properties.comparison.labelEquals.title":"Principal = Secundaria","properties.comparison.position.title":"Posición","properties.comparison.position.top":"parte superior","properties.comparison.position.right":"derecha","properties.comparison.position.left":"izquierda","properties.forecastSliced.title":"Mostrando pronóstico parcial.","properties.forecastSliced.description":"Los datos disponibles no cubren todo el período seleccionado.","dashboard.bucket.segment_title.scatter":"Segmentar por","properties.clustering.title":"Clúster","properties.clustering.amount":"Cantidad","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Mostrar los clústers parciales","properties.clustering.amount.partial.description":"Los puntos de datos disponibles no cubren toda la cantidad seleccionada.","properties.clustering.disabled":"La agrupación requiere 2 Métricas y Ver por, sin Segmentar por.","properties.clustering.threshold":"Umbral","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"El umbral es un límite que determina cuándo agrupar los datos. <link>Más información</link>","visualizations.headline.tertiary.title":"Frente a","properties.interactions.alerts":"Alerta","properties.interactions.alerts.tooltip":"Permitir a los usuarios crear alertas para esta visualización en los paneles de control.","properties.interactions.scheduledExports":"Exportaciones programadas","properties.interactions.scheduledExports.tooltip":"Permitir a los usuarios crear exportaciones programadas para esta visualización en lospaneles de control..","properties.advanced.title":"Personalizaciones avanzadas","properties.advanced.chartConfigOverride.noValueLabel":"Todavía no hay personalizaciones.","properties.advanced.chartConfigOverride.link":"Más información","properties.advanced.chartConfigOverride.editorButton":"Abrir editor","properties.advanced.chartConfigOverride.title":"Personalización avanzada","properties.advanced.chartConfigOverride.snippets.header":"Fragmentos","properties.advanced.chartConfigOverride.button.apply":"Aplicar","properties.advanced.chartConfigOverride.button.cancel":"Cancelar","gs.date.yesterday":"Ayer","notifications.panel.tab.unread":"Sin leer ({count})","notifications.panel.tab.all":"Todo","notifications.panel.markAllAsRead":"Marcar todo como leído","notifications.panel.error.loading":"Notificaciones de errores de carga","notifications.panel.empty.all":"Sin notificaciones","notifications.panel.empty.unread":"Notificaciones no leídas","notifications.panel.unsupported.notification.type":"Tipo de notificación no compatible","notifications.panel.markAsRead":"Marcar como leído","notifications.filters.buttonLabel":"{count, plural, one {# filtro} other {# filtros}}","notifications.filters.dialog.title":"Filtros","notifications.filters.dialog.dateRange":"Intervalo de fechas","notifications.panel.triggers.title":"para {triggeredCount}/{totalCount} artículos","notifications.panel.triggers.dialog.newValue":"Nuevo valor",close:"Cerrar","notifications.panel.triggers.dialog.title":"Activado por","notifications.panel.error.learnMore":"Más información","notifications.panel.error.traceId":"ID de rastreo","notifications.panel.error.message":"No se ha podido procesar la alerta.","notifications.panel.button.label":"Notificaciones","notifications.panel.notifications.list.label":"Notificaciones","notifications.panel.alert.notification.type.label":"Notificación de alerta","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…y {count} más","notifications.panel.download":"Descargar","notifications.panel.expiresOn":"Caduca el {date}","notifications.panel.linkHasExpired":"Enlace caducado","notifications.panel.toast.warning.filesExpired":"<strong>Enlace de descarga expirado</strong> — espere a la próxima exportación o cree una manualmente.","notifications.panel.dashboardLinkHint":"Abra el cuadro de mandos utilizado para esta exportación","notifications.panel.dashboardLink":"De {dashboardTitle}","notifications.panel.downloadFilesHint":"Descargar los archivos exportados","notifications.panel.error.alert.title":"No se ha podido procesar la alerta.","notifications.panel.error.schedule.title":"La exportación programada ha fallado.","notifications.panel.error.limitExceeded.message":"No se ha podido enviar su exportación porque su organización ha alcanzado el límite de número máximo de alertas diarias y exportaciones programadas. Póngase en contacto con su administrador."},"fr-CA":{or:"ou","dashboard.bucket.measures_title.column._measure":"Mesures","dashboard.bucket.measures_title.column._metric":"Métriques","dashboard.bucket.measures_title.bar._measure":"Mesures","dashboard.bucket.measures_title.bar._metric":"Métriques","dashboard.bucket.measures_title.line._measure":"Mesures","dashboard.bucket.measures_title.line._metric":"Métriques","dashboard.bucket.measures_title.area._measure":"Mesures","dashboard.bucket.measures_title.area._metric":"Métriques","dashboard.bucket.measures_title.pie._measure":"Mesures","dashboard.bucket.measures_title.pie._metric":"Métriques","dashboard.bucket.measures_title.funnel._measure":"Mesures","dashboard.bucket.measures_title.funnel._metric":"Métriques","dashboard.bucket.measures_title.pyramid._measure":"Mesures","dashboard.bucket.measures_title.pyramid._metric":"Métriques","dashboard.bucket.measures_title.treemap._measure":"Mesures","dashboard.bucket.measures_title.treemap._metric":"Métriques","dashboard.bucket.measures_title.donut._measure":"Mesures","dashboard.bucket.measures_title.donut._metric":"Métriques","dashboard.bucket.measures_title.heatmap._measure":"Mesure","dashboard.bucket.measures_title.heatmap._metric":"Métrique","dashboard.bucket.measures_title.headline._measure":"Mesure","dashboard.bucket.measures_title.headline._metric":"Métrique","dashboard.bucket.measures_subtitle.headline":"principal","dashboard.bucket.secondary_measures_title.headline._measure":"Mesure","dashboard.bucket.secondary_measures_title.headline._metric":"Métrique","dashboard.bucket.secondary_measures_subtitle.headline":"secondaire","dashboard.bucket.measures_title.scatter._measure":"Mesure","dashboard.bucket.measures_title.scatter._metric":"Métrique","dashboard.bucket.secondary_measures_title.scatter._measure":"Mesure","dashboard.bucket.secondary_measures_title.scatter._metric":"Métrique","dashboard.bucket.measures_subtitle.scatter":"Axe X","dashboard.bucket.secondary_measures_subtitle.scatter":"Axe Y","dashboard.bucket.attribute_title.scatter":"Afficher par","dashboard.bucket.measures_title.combo._measure":"Mesures","dashboard.bucket.measures_title.combo._metric":"Métriques","dashboard.bucket.measures_subtitle.combo":"Colonne","dashboard.bucket.secondary_measures_title.combo._measure":"Mesures","dashboard.bucket.secondary_measures_title.combo._metric":"Métriques","dashboard.bucket.secondary_measures_subtitle.combo":"Ligne","dashboard.bucket.measures_title.xirr._measure":"Mesure","dashboard.bucket.measures_title.xirr._metric":"Métrique","dashboard.bucket.measures_title.waterfall._measure":"Mesures","dashboard.bucket.measures_title.waterfall._metric":"Métriques","dashboard.bucket.attribute_title.xirr":"Attribut de date","dashboard.bucket.attribute_from_title.sankey":"Attribut","dashboard.bucket.attribute_from_subtitle.sankey":"de","dashboard.bucket.attribute_to_title.sankey":"Attribut","dashboard.bucket.attribute_to_subtitle.sankey":"à","dashboard.bucket.attribute_from_title.dependencywheel":"Attribut","dashboard.bucket.attribute_from_subtitle.dependencywheel":"de","dashboard.bucket.attribute_to_title.dependencywheel":"Attribut","dashboard.bucket.attribute_to_subtitle.dependencywheel":"à","dashboard.bucket.combo.subtitle.column":"en tant que colonnes","dashboard.bucket.combo.subtitle.line":"en tant que courbes","dashboard.bucket.combo.subtitle.area":"en tant qu'aires","dashboard.bucket.measures_title.bubble._measure":"Mesure","dashboard.bucket.measures_title.bubble._metric":"Métrique","dashboard.bucket.secondary_measures_title.bubble._measure":"Mesure","dashboard.bucket.secondary_measures_title.bubble._metric":"Métrique","dashboard.bucket.tertiary_measures_title.bubble._measure":"Mesure","dashboard.bucket.tertiary_measures_title.bubble._metric":"Métrique","dashboard.bucket.measures_subtitle.bubble":"Axe X","dashboard.bucket.secondary_measures_subtitle.bubble":"Axe Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Taille","dashboard.bucket.location_title.pushpin":"Localisation","dashboard.bucket.size_title.pushpin._measure":"Mesure","dashboard.bucket.size_title.pushpin._metric":"Métrique","dashboard.bucket.size_subtitle.pushpin":"Taille","dashboard.bucket.color_title.pushpin._measure":"Mesure","dashboard.bucket.color_title.pushpin._metric":"Métrique","dashboard.bucket.color_subtitle.pushpin":"Couleur","dashboard.bucket.view_title.bubble":"Afficher par","dashboard.bucket.view_title.pie":"Afficher par","dashboard.bucket.view_title.treemap":"Afficher par","dashboard.bucket.view_title.donut":"Afficher par","dashboard.bucket.view_title.funnel":"Afficher par","dashboard.bucket.view_title.pyramid":"Afficher par","dashboard.bucket.view_title.column":"Afficher par","dashboard.bucket.view_title.bar":"Afficher par","dashboard.bucket.view_title.area":"Afficher par","dashboard.bucket.view_title.bullet":"Afficher par","dashboard.bucket.view_title.waterfall":"Afficher par","dashboard.bucket.view_title.heatmap":"Lignes","dashboard.bucket.trend_title.line":"Analyser la tendance par","dashboard.bucket.view_title.combo":"Afficher par","dashboard.bucket.stack_title.column":"Empiler par","dashboard.bucket.stack_title.bar":"Empiler par","dashboard.bucket.stack_title.area":"Empiler par","dashboard.bucket.stack_title.heatmap":"Colonnes","dashboard.bucket.segment_title.line":"Segmenter par","dashboard.bucket.segment_title.treemap":"Segmenter par","dashboard.bucket.segment_title.pushpin":"Segmenter par","dashboard.bucket.metric_segment_by_warning._measure":"Pour ajouter une mesure supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'segmenter par'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Pour ajouter une métrique supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'segmenter par'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Pour ajouter une mesure supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'empiler par'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Pour ajouter une métrique supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'empiler par'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Pour ajouter une mesure supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'afficher par'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Pour ajouter une métrique supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'afficher par'</span>'","dashboard.bucket.category_view_by_warning._measure":"Pour visualiser par un autre attribut, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_view_by_warning._metric":"Pour visualiser par un autre attribut, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.view_stack_by_warning":"Pour ajouter un attribut supplémentaire, supprimez {icons} de '<span class=\"stack-by\">'empiler par'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Pour empiler par, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_stack_by_warning._metric":"Pour empiler par, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.stack_view_by_warning":"Pour empiler par, la visualisation ne peut avoir qu'un seul attribut dans la vue par","dashboard.bucket.measure_stack_by_warning._measure":"Pour empiler par un attribut, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.measure_stack_by_warning._metric":"Pour empiler par un attribut, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.category_columns_warning._measure":"Impossible d'ajouter des colonnes : la limite est de {oldLimit} mesures et {oldRowsLimit} lignes. Respectez les limites pour en ajouter d'autres","dashboard.bucket.category_columns_warning._metric":"Impossible d'ajouter des colonnes : la limite est de {oldLimit} métriques et {oldRowsLimit} lignes. Respectez les limites pour en ajouter d'autres","dashboard.bucket.category_measures_rows_warning":"Pour ajouter jusqu'à {limit} éléments supplémentaires, retirez tous les éléments de la section des colonnes.","dashboard.bucket.category_category_by_warning._measure":"Pour visualiser par, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_category_by_warning._metric":"Pour visualiser par, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.category_segment_by_warning._measure":"Pour segmenter par, la visualisation ne peut avoir qu'une seule mesure","dashboard.bucket.category_segment_by_warning._metric":"Pour segmenter par, la visualisation ne peut avoir qu'une seule métrique","dashboard.bucket.measures_title.table._measure":"Mesures","dashboard.bucket.measures_title.table._metric":"Métriques","dashboard.bucket.measures_title.sankey._measure":"MESURE","dashboard.bucket.measures_title.sankey._metric":"MÉTRIQUE","dashboard.bucket.measures_title.dependencywheel._measure":"MESURE","dashboard.bucket.measures_title.dependencywheel._metric":"MÉTRIQUE","dashboard.bucket.attribute_title.table":"Lignes","dashboard.bucket.columns_title.table":"Colonnes","dashboard.bucket.attribute_title.repeater":"Lignes","dashboard.bucket.view_title.repeater":"Afficher par","dashboard.bucket.columns_title.repeater":"Colonnes","dashboard.error.missing_primary_bucket_item.heading._measure":"Aucune mesure principale dans votre visualisation","dashboard.error.missing_primary_bucket_item.heading._metric":"Aucune métrique principale dans votre visualisation","dashboard.error.missing_primary_bucket_item.text._measure":"Ajoutez une mesure principale à votre visualisation ou passez à la vue tableau.\nUne fois fait, vous pourrez l'enregistrer.","dashboard.error.missing_primary_bucket_item.text._metric":"Ajoutez une métrique principale à votre visualisation ou passez à la vue tableau. \nUne fois fait, vous pourrez l'enregistrer.","dashboard.xirr.error.invalid_buckets.heading":"Configuration incomplète","dashboard.xirr.error.invalid_buckets.text._measure":"Vérifiez que vous avez sélectionné une mesure et un attribut de date","dashboard.xirr.error.invalid_buckets.text._metric":"Vérifiez que vous avez sélectionné une métrique et un attribut de date","properties.unsupported":"Cette visualisation ne prend pas en charge la configuration","properties.config.not_applicable":"Le panneau de configuration n'est pas applicable pour cette configuration de la visualisation","properties.not_applicable":"Cette propriété n'est pas applicable pour cette configuration de la visualisation","properties.auto_placeholder":"auto","properties.auto_default":"auto (par défaut)","properties.legend.title":"Légende","properties.legend.position":"Position","properties.total.title":"Total","properties.total.name":"Nom","properties.total.tooltip":"Ajouter la somme de toutes les valeurs sous forme de colonne à la fin.","properties.total.measures.tooltip":"Désactivez les options « est un total » dans la métrique pour ajouter la somme de toutes les valeurs sous forme de colonne à la fin.","properties.color.total":"Total","properties.color.positive":"Positive","properties.color.negative":"Négative","properties.canvas.title":"Canevas","properties.canvas.gridline":"Quadrillage","properties.canvas.labels.percentages":"Pourcentage","properties.canvas.labels.percentages.info":"Afficher les pourcentages sur chaque niveau, avec le niveau supérieur à 100 % et les autres niveaux à une fraction de cette valeur.","properties.canvas.labels.percentages.disabled":"Les pourcentages sont masqués, car certains libellés de données sont masqués.","properties.canvas.continuousLine.label":"Ligne continue","properties.canvas.continuousLine.tooltip":"Tracer une ligne entre deux points avec des valeurs manquantes.","properties.canvas.dataLabels":"Étiquettes des données","properties.canvas.dataLabels.auto":"auto (par défaut)","properties.canvas.dataLabels.show":"afficher","properties.canvas.dataLabels.hide":"masquer","properties.canvas.rowHeight":"Hauteur de ligne","properties.canvas.rowHeight.small":"petite","properties.canvas.rowHeight.medium":"moyenne","properties.canvas.rowHeight.large":"grande","properties.canvas.verticalAlign":"Alignement vertical","properties.canvas.verticalAlign.top":"haut","properties.canvas.verticalAlign.middle":"milieu","properties.canvas.verticalAlign.bottom":"bas","properties.canvas.textWrapping":"Habillage du texte","properties.canvas.textWrapping.clip":"clip","properties.canvas.textWrapping.wrap":"ajuster","properties.canvas.image":"Image","properties.canvas.image.fit":"ajuster","properties.canvas.image.fill":"remplir","properties.forecast.title":"Prévisions","properties.forecastDisabled.title":"Les prévisions ne sont pas disponibles pour cette combinaison de compartiments","properties.forecastPeriod.title":"Période","properties.forecastPeriod.placeholder":"Période","properties.forecastSeasonal.title":"Saisonnalité","properties.forecastConfidence.title":"Fiabilité","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Total de libellés","properties.canvas.totalLabels.auto":"auto (par défaut)","properties.canvas.totalLabels.show":"afficher","properties.canvas.totalLabels.hide":"masquer","properties.canvas.dataPoints":"Points de données","properties.canvas.dataPoints.auto":"auto (par défaut)","properties.canvas.dataPoints.show":"afficher","properties.canvas.dataPoints.hide":"masquer","properties.yaxis.title":"Axe Y","properties.axis.labels":"libellés","properties.axis.rotation":"Rotation","properties.axis.format":"Format","properties.axis.format.inherit":"hériter","properties.axis.format.info.inherit._measure":"Le format est hérité de la première mesure de la visualisation.","properties.axis.format.info.inherit._metric":"Le format est hérité de la première métrique de la visualisation.","properties.axis.name":"nom","properties.axis.name.position":"Position","properties.axis.name.position.left":"gauche","properties.axis.name.position.center":"centre","properties.axis.name.position.right":"droite","properties.axis.name.position.top":"haut","properties.axis.name.position.middle":"milieu","properties.axis.name.position.bottom":"bas","properties.axis.min":"Min","properties.axis.min.warning":"La valeur min ne peut pas être supérieure à la valeur max","properties.axis.max":"Max","properties.axis.max.warning":"La valeur max ne peut pas être inférieure à la valeur min","properties.xaxis.title":"Axe X","properties.axis.scale":"échelle","properties.axis.left":"Gauche","properties.axis.right":"Droite","properties.axis.top":"Haut","properties.axis.bottom":"Bas","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"haut","properties.legend.position.down":"bas","properties.legend.position.right":"droite","properties.legend.position.left":"gauche","properties.orientation.title":"Orientation","properties.orientation.horizontal":"Horizontale (par défaut)","properties.orientation.vertical":"Vertical","properties.points.title":"Points","properties.points.groupNearbyPoints":"Grouper les points proches","properties.points.size.title":"Taille de point","properties.points.size.extra_small":"x 0,5","properties.points.size.small":"x 0,75","properties.points.size.normal":"normale","properties.points.size.large":"x 1,25","properties.points.size.extra_large":"x 1,5","properties.points.size.min.title":"La plus petite","properties.points.size.max.title":"La plus grande","properties.map.title":"Carte","properties.viewport.area.title":"Affichage par défaut","properties.viewport.area.auto_default":"Inclure toutes les données","properties.viewport.area.continents":"continents","properties.viewport.area.continent_af":"Afrique","properties.viewport.area.continent_as":"Asie","properties.viewport.area.continent_au":"Australie","properties.viewport.area.continent_eu":"Europe","properties.viewport.area.continent_na":"Amérique (Nord)","properties.viewport.area.continent_sa":"Amérique (Sud)","properties.viewport.area.world":"Monde","gs.color-dropdown.custom-color":"Couleur personnalisée","properties.colors.reset-colors":"Réinitialiser les couleurs","properties.colors":"Couleurs","properties.colors.unsupported":"Il n'y a pas de couleurs pour cette configuration de visualisation.","export_unsupported.colors":"La visualisation n'est pas compatible avec les couleurs personnalisées. Pour ouvrir la visualisation sous forme de rapport, cliquez sur 'Réinitialiser les couleurs' dans Configuration —> Couleurs.","dashboard.bucket.measures_title.bullet._measure":"Mesure","dashboard.bucket.measures_title.bullet._metric":"Métrique","dashboard.bucket.secondary_measures_title.bullet._measure":"Mesure","dashboard.bucket.secondary_measures_title.bullet._metric":"Métrique","dashboard.bucket.tertiary_measures_title.bullet._measure":"Mesure","dashboard.bucket.tertiary_measures_title.bullet._metric":"Métrique","dashboard.bucket.measures_subtitle.bullet":"Principal","dashboard.bucket.secondary_measures_subtitle.bullet":"Objectif","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparaison","sorting.disabled.explanation.attribute":"Il n'est pas possible de trier cette configuration de visualisation.","sorting.disabled.explanation.measure._measure":"Vous devez ajouter au moins un attribut pour trier la visualisation. Vous pouvez aussi ajuster la position des éléments dans la section des Mesures pour modifier leur emplacement dans la visualisation.","sorting.disabled.explanation.measure._metric":"Vous devez ajouter au moins un attribut pour trier la visualisation. Vous pouvez aussi ajuster la position des éléments dans la section des Métriques pour modifier leur emplacement dans la visualisation.","properties.metrics.title._measure":"Mesures","properties.metrics.title._metric":"Métriques","properties.metrics.position":"Position","properties.metrics.position.columns":"colonnes (par défaut)","properties.metrics.position.rows":"lignes","properties.column.headers.title":"En-têtes de colonne","properties.column.headers.position":"Position","properties.column.headers.position.top":"en haut (par défaut)","properties.column.headers.position.left":"gauche","dashboard.bucket.table.subtitle.columns":"en colonnes","dashboard.bucket.table.subtitle.rows":"en rangées","properties.interactions.title":"Interactions","properties.interactions.drillDown":"Exploration descendante","properties.comparison.title":"Comparaison","properties.comparison.calculationType.title":"Calculé en tant que","properties.comparison.calculationType.as.change":"Variation","properties.comparison.calculationType.as.ratio":"Ratio","properties.comparison.calculationType.as.difference":"Différence","properties.comparison.calculationType.as.changeDifference":"Variation (différence)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calcule la variation relative entre les valeurs métriques primaires et secondaires.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calcule la variation relative entre les valeurs de mesure primaires et secondaires.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifie la part de la valeur métrique primaire dans la valeur métrique secondaire.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifie la part de la valeur de mesure primaire dans la valeur de mesure secondaire.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calcule la différence absolue entre les valeurs métriques primaires et secondaires.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calcule la différence absolue entre les valeurs de mesure primaires et secondaires.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calcule à la fois la variation relative et la différence absolue entre les valeurs métriques primaires et secondaires.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calcule à la fois la variation relative et la différence absolue entre les valeurs de mesure primaires et secondaires.","properties.comparison.calculationType.tooltip.formula.section":"Formule","properties.comparison.calculationType.tooltip.formulaChange.section":"Formule (variation relative)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formule (différence absolue)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primaire-Secondaire) / Secondaire","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primaire / Secondaire","properties.comparison.calculationType.as.difference.tooltip.formula":"Primaire - Secondaire","properties.comparison.calculationType.tooltip.example.section":"Exemple","properties.comparison.calculationType.as.change.tooltip.example":"Variation des ventes d'une année sur l'autre = (ventes de l'année en cours - ventes de l'année précédente) / ventes de l'année précédente ","properties.comparison.calculationType.as.ratio.tooltip.example":"Ventes actuelles par rapport à un quota = ventes actuelles / quota","properties.comparison.calculationType.as.difference.tooltip.example":"Différence des ventes d'une année sur l'autre = ventes de l'année en cours - ventes de l'année précédente","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Variation des ventes d'une année sur l'autre = [(ventes de l'année en cours - ventes de l'année précédente) / ventes de l'année précédente] ET [ventes de l'année en cours - ventes de l'année précédente]","properties.comparison.measureNumber.format.preset.inherit":"Hériter","properties.comparison.measureNumber.format.preset.rounded":"Arrondies","properties.comparison.measureNumber.format.preset.decimal1":"Décimale (1)","properties.comparison.measureNumber.format.preset.decimal2":"Décimale (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Pourcentage (arrondi)","properties.comparison.measureNumber.format.preset.percent1":"Pourcentage (1)","properties.comparison.measureNumber.format.preset.percent2":"Pourcentage (2)","properties.comparison.measureNumber.format.template.rounded":"Arrondies","properties.comparison.measureNumber.format.template.decimal1":"Décimale (1)","properties.comparison.measureNumber.format.template.decimal2":"Décimale (2)","properties.comparison.measureNumber.format.template.percentRounded":"Pourcentage (arrondi)","properties.comparison.measureNumber.format.template.percent1":"Pourcentage (1)","properties.comparison.measureNumber.format.template.percent2":"Pourcentage (2)","properties.comparison.measureNumber.format.template.currency":"Devise","properties.comparison.measureNumber.format.template.currencyShortened":"Devise abrégée","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Grands nombres abrégés","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Grands nombres abrégés avec des couleurs","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Nombres négatifs en rouge","properties.comparison.measureNumber.format.template.financial":"Finances","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Décimales (2) sans séparateur des milliers","properties.comparison.measureNumber.format.template.conditionalColors":"Couleurs conditionnelles","properties.comparison.measureNumber.format.template.trendSymbols":"Symboles de tendance","properties.comparison.measureNumber.format.template.timeFromSeconds":"Temps (avec les secondes)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zéro à la place d'une valeur nulle","properties.comparison.valueSubSection.title":"Valeur","properties.comparison.format.title":"Format","properties.comparison.subFormat.title":"(Format)","properties.comparison.indicator.title":"Indicateur","properties.comparison.indicator.arrow.title":"Flèche","properties.comparison.indicator.colorConfig.title":"Couleur","properties.comparison.indicator.colorConfig.equals":"Primaire = Secondaire","properties.comparison.indicator.colorConfig.positive":"Primaire > Secondaire","properties.comparison.indicator.colorConfig.negative":"Primaire < Secondaire","properties.comparison.labelSubSection.title":"Libellé","properties.comparison.labelSubSection.positionOnTop.disabled":"Les étiquettes ne s'appliquent pas à la position du haut.","properties.comparison.labelSubSection.conditional.disabled":"Les étiquettes conditionnelles ne s'appliquent pas au calcul des ratios.","properties.comparison.labelName.title":"Nom","properties.comparison.labelConditional.title":"Conditionnelle","properties.comparison.labelPositive.title":"Primaire > Secondaire","properties.comparison.labelNegative.title":"Primaire < Secondaire","properties.comparison.labelEquals.title":"Primaire = Secondaire","properties.comparison.position.title":"Position","properties.comparison.position.top":"haut","properties.comparison.position.right":"droite","properties.comparison.position.left":"gauche","properties.forecastSliced.title":"Affichage des prévisions partielles.","properties.forecastSliced.description":"Les données disponibles ne couvrent pas la totalité de la période sélectionnée.","dashboard.bucket.segment_title.scatter":"Segmenter par","properties.clustering.title":"Groupement d'entreprises","properties.clustering.amount":"Montant","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Afficher les grappes partielles","properties.clustering.amount.partial.description":"Les points de données disponibles ne couvrent pas la totalité du montant sélectionné.","properties.clustering.disabled":"Le clustering nécessite 2 métriques et une vue par, sans segmentation par.","properties.clustering.threshold":"Seuil","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"Le seuil est une limite qui détermine quand regrouper les données. <link>En savoir plus</link>","visualizations.headline.tertiary.title":"Par rapport à","properties.interactions.alerts":"Alerte","properties.interactions.alerts.tooltip":"Permettre aux utilisateurs de créer des alertes pour cette visualisation dans les tableaux de bord.","properties.interactions.scheduledExports":"Exportations programmées","properties.interactions.scheduledExports.tooltip":"Permet aux utilisateurs de créer des exportations programmées pour cette visualisation dans les tableaux de bord.","properties.advanced.title":"Personnalisations avancées","properties.advanced.chartConfigOverride.noValueLabel":"Toujours pas de personnalisation.","properties.advanced.chartConfigOverride.link":"En savoir plus","properties.advanced.chartConfigOverride.editorButton":"Ouvrir l’éditeur","properties.advanced.chartConfigOverride.title":"Personnalisation avancée","properties.advanced.chartConfigOverride.snippets.header":"Fragments","properties.advanced.chartConfigOverride.button.apply":"Appliquer","properties.advanced.chartConfigOverride.button.cancel":"Annuler","gs.date.yesterday":"Hier","notifications.panel.tab.unread":"Non lu ({count})","notifications.panel.tab.all":"Tout","notifications.panel.markAllAsRead":"Marquer tous les textes comme lus","notifications.panel.error.loading":"Erreurs de chargement des notifications","notifications.panel.empty.all":"Aucune notification","notifications.panel.empty.unread":"Aucunes notifications non lues","notifications.panel.unsupported.notification.type":"Type de notification non prise en charge","notifications.panel.markAsRead":"Marquer comme lue","notifications.filters.buttonLabel":"{count, plural, one {# filtre} other {# filtres}}","notifications.filters.dialog.title":"Filtres","notifications.filters.dialog.dateRange":"Plage de dates","notifications.panel.triggers.title":"pour les articles {triggeredCount}/{totalCount} ","notifications.panel.triggers.dialog.newValue":"Nouvelle valeur",close:"Fermer","notifications.panel.triggers.dialog.title":"Déclenché pour","notifications.panel.error.learnMore":"En savoir plus","notifications.panel.error.traceId":"ID de la trace","notifications.panel.error.message":"L’alerte n’a pas pu être traitée.","notifications.panel.button.label":"Notifications","notifications.panel.notifications.list.label":"Notifications","notifications.panel.alert.notification.type.label":"Notification d’alerte","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…et {count} de plus","notifications.panel.download":"Télécharger","notifications.panel.expiresOn":"Expire le {date}","notifications.panel.linkHasExpired":"Le lien a expiré","notifications.panel.toast.warning.filesExpired":"<strong>Lien de téléchargement expiré</strong> — attendez la prochaine exportation ou créez-en une manuellement.","notifications.panel.dashboardLinkHint":"Ouvrir le tableau de bord utilisé pour cette exportation","notifications.panel.dashboardLink":"Depuis dashboardTitle}","notifications.panel.downloadFilesHint":"Télécharger les fichiers exportés","notifications.panel.error.alert.title":"L’alerte n’a pas pu être traitée.","notifications.panel.error.schedule.title":"L'exportation programmée a échoué.","notifications.panel.error.limitExceeded.message":"Votre exportation n'a pas pu être envoyée, car votre organisation a atteint la limite du nombre maximum d'alertes quotidiennes et d'exportations programmées. Veuillez contacter votre administrateur."},"en-GB":{or:"or","dashboard.bucket.measures_title.column._measure":"Measures","dashboard.bucket.measures_title.column._metric":"Metrics","dashboard.bucket.measures_title.bar._measure":"Measures","dashboard.bucket.measures_title.bar._metric":"Metrics","dashboard.bucket.measures_title.line._measure":"Measures","dashboard.bucket.measures_title.line._metric":"Metrics","dashboard.bucket.measures_title.area._measure":"Measures","dashboard.bucket.measures_title.area._metric":"Metrics","dashboard.bucket.measures_title.pie._measure":"Measures","dashboard.bucket.measures_title.pie._metric":"Metrics","dashboard.bucket.measures_title.funnel._measure":"Measures","dashboard.bucket.measures_title.funnel._metric":"Metrics","dashboard.bucket.measures_title.pyramid._measure":"Measures","dashboard.bucket.measures_title.pyramid._metric":"Metrics","dashboard.bucket.measures_title.treemap._measure":"Measures","dashboard.bucket.measures_title.treemap._metric":"Metrics","dashboard.bucket.measures_title.donut._measure":"Measures","dashboard.bucket.measures_title.donut._metric":"Metrics","dashboard.bucket.measures_title.heatmap._measure":"Measure","dashboard.bucket.measures_title.heatmap._metric":"Metric","dashboard.bucket.measures_title.headline._measure":"Measure","dashboard.bucket.measures_title.headline._metric":"Metric","dashboard.bucket.measures_subtitle.headline":"primary","dashboard.bucket.secondary_measures_title.headline._measure":"Measure","dashboard.bucket.secondary_measures_title.headline._metric":"Metric","dashboard.bucket.secondary_measures_subtitle.headline":"secondary","dashboard.bucket.measures_title.scatter._measure":"Measure","dashboard.bucket.measures_title.scatter._metric":"Metric","dashboard.bucket.secondary_measures_title.scatter._measure":"Measure","dashboard.bucket.secondary_measures_title.scatter._metric":"Metric","dashboard.bucket.measures_subtitle.scatter":"X-axis","dashboard.bucket.secondary_measures_subtitle.scatter":"Y-axis","dashboard.bucket.attribute_title.scatter":"View by","dashboard.bucket.measures_title.combo._measure":"Measures","dashboard.bucket.measures_title.combo._metric":"Metrics","dashboard.bucket.measures_subtitle.combo":"Column","dashboard.bucket.secondary_measures_title.combo._measure":"Measures","dashboard.bucket.secondary_measures_title.combo._metric":"Metrics","dashboard.bucket.secondary_measures_subtitle.combo":"Line","dashboard.bucket.measures_title.xirr._measure":"Measure","dashboard.bucket.measures_title.xirr._metric":"Metric","dashboard.bucket.measures_title.waterfall._measure":"Measures","dashboard.bucket.measures_title.waterfall._metric":"Metrics","dashboard.bucket.attribute_title.xirr":"Date attribute","dashboard.bucket.attribute_from_title.sankey":"Attribute","dashboard.bucket.attribute_from_subtitle.sankey":"from","dashboard.bucket.attribute_to_title.sankey":"Attribute","dashboard.bucket.attribute_to_subtitle.sankey":"to","dashboard.bucket.attribute_from_title.dependencywheel":"Attribute","dashboard.bucket.attribute_from_subtitle.dependencywheel":"from","dashboard.bucket.attribute_to_title.dependencywheel":"Attribute","dashboard.bucket.attribute_to_subtitle.dependencywheel":"to","dashboard.bucket.combo.subtitle.column":"as columns","dashboard.bucket.combo.subtitle.line":"as lines","dashboard.bucket.combo.subtitle.area":"as areas","dashboard.bucket.measures_title.bubble._measure":"Measure","dashboard.bucket.measures_title.bubble._metric":"Metric","dashboard.bucket.secondary_measures_title.bubble._measure":"Measure","dashboard.bucket.secondary_measures_title.bubble._metric":"Metric","dashboard.bucket.tertiary_measures_title.bubble._measure":"Measure","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metric","dashboard.bucket.measures_subtitle.bubble":"X-axis","dashboard.bucket.secondary_measures_subtitle.bubble":"Y-axis","dashboard.bucket.tertiary_measures_subtitle.bubble":"Size","dashboard.bucket.location_title.pushpin":"Location","dashboard.bucket.size_title.pushpin._measure":"Measure","dashboard.bucket.size_title.pushpin._metric":"Metric","dashboard.bucket.size_subtitle.pushpin":"Size","dashboard.bucket.color_title.pushpin._measure":"Measure","dashboard.bucket.color_title.pushpin._metric":"Metric","dashboard.bucket.color_subtitle.pushpin":"Colour","dashboard.bucket.view_title.bubble":"View by","dashboard.bucket.view_title.pie":"View by","dashboard.bucket.view_title.treemap":"View by","dashboard.bucket.view_title.donut":"View by","dashboard.bucket.view_title.funnel":"View by","dashboard.bucket.view_title.pyramid":"View by","dashboard.bucket.view_title.column":"View by","dashboard.bucket.view_title.bar":"View by","dashboard.bucket.view_title.area":"View by","dashboard.bucket.view_title.bullet":"View by","dashboard.bucket.view_title.waterfall":"View by","dashboard.bucket.view_title.heatmap":"Rows","dashboard.bucket.trend_title.line":"Trend by","dashboard.bucket.view_title.combo":"View by","dashboard.bucket.stack_title.column":"Stack by","dashboard.bucket.stack_title.bar":"Stack by","dashboard.bucket.stack_title.area":"Stack by","dashboard.bucket.stack_title.heatmap":"Columns","dashboard.bucket.segment_title.line":"Segment by","dashboard.bucket.segment_title.treemap":"Segment by","dashboard.bucket.segment_title.pushpin":"Segment by","dashboard.bucket.metric_segment_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'segment by'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"To add an additional metric, remove {icons} from '<span class=\"stack-by\">'segment by'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"To add an additional metric, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.metric_view_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'view by'</span>'","dashboard.bucket.metric_view_by_warning._metric":"To add an additional metric, remove {icons} from '<span class=\"stack-by\">'view by'</span>'","dashboard.bucket.category_view_by_warning._measure":"To view by another attribute, a visualisation can have only one measure","dashboard.bucket.category_view_by_warning._metric":"To view by another attribute, a visualisation can have only one metric","dashboard.bucket.view_stack_by_warning":"To add additional attribute, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.category_stack_by_warning._measure":"To stack by, a visualisation can have only one measure","dashboard.bucket.category_stack_by_warning._metric":"To stack by, a visualisation can have only one metric","dashboard.bucket.stack_view_by_warning":"To stack by, a visualisation can have only one attribute in view by","dashboard.bucket.measure_stack_by_warning._measure":"To stack by an attribute, a visualisation can have only one measure","dashboard.bucket.measure_stack_by_warning._metric":"To stack by an attribute, a visualisation can have only one metric","dashboard.bucket.category_columns_warning._measure":"Cannot add columns: limit is {oldLimit} measures and {oldRowsLimit} rows. Follow the limits to add more","dashboard.bucket.category_columns_warning._metric":"Cannot add columns: limit is {oldLimit} metrics and {oldRowsLimit} rows. Follow the limits to add more","dashboard.bucket.category_measures_rows_warning":"To add up to {limit} more, remove all items from columns section","dashboard.bucket.category_category_by_warning._measure":"To view by, a visualisation can have only one measure","dashboard.bucket.category_category_by_warning._metric":"To view by, a visualisation can have only one metric","dashboard.bucket.category_segment_by_warning._measure":"To segment by, a visualisation can have only one measure","dashboard.bucket.category_segment_by_warning._metric":"To segment by, a visualisation can have only one metric","dashboard.bucket.measures_title.table._measure":"Measures","dashboard.bucket.measures_title.table._metric":"Metrics","dashboard.bucket.measures_title.sankey._measure":"MEASURE","dashboard.bucket.measures_title.sankey._metric":"METRIC","dashboard.bucket.measures_title.dependencywheel._measure":"MEASURE","dashboard.bucket.measures_title.dependencywheel._metric":"METRIC","dashboard.bucket.attribute_title.table":"Rows","dashboard.bucket.columns_title.table":"Columns","dashboard.bucket.attribute_title.repeater":"Rows","dashboard.bucket.view_title.repeater":"View by","dashboard.bucket.columns_title.repeater":"Columns","dashboard.error.missing_primary_bucket_item.heading._measure":"No primary measure in your visualisation","dashboard.error.missing_primary_bucket_item.heading._metric":"No primary metric in your visualisation","dashboard.error.missing_primary_bucket_item.text._measure":"Add a primary measure to your visualisation, or switch to table.\nOnce done, you'll be able to save it.","dashboard.error.missing_primary_bucket_item.text._metric":"Add a primary metric to your visualisation, or switch to table.\nOnce done, you'll be able to save it.","dashboard.xirr.error.invalid_buckets.heading":"Incomplete configuration","dashboard.xirr.error.invalid_buckets.text._measure":"Ensure you have selected one measure and one date attribute","dashboard.xirr.error.invalid_buckets.text._metric":"Ensure you have selected one metric and one date attribute","properties.unsupported":"This visualisation doesn't support configuration","properties.config.not_applicable":"Configuration Panel is not applicable for this configuration of the visualisation","properties.not_applicable":"Property is not applicable for this configuration of the visualisation","properties.auto_placeholder":"auto","properties.auto_default":"auto (default)","properties.legend.title":"Legend","properties.legend.position":"Position","properties.total.title":"Total","properties.total.name":"Name","properties.total.tooltip":"Add sum of all values as a column at the end.","properties.total.measures.tooltip":'Disable "is total" options in metric to add sum of all values as a column at the end.',"properties.color.total":"Total","properties.color.positive":"Positive","properties.color.negative":"Negative","properties.canvas.title":"Canvas","properties.canvas.gridline":"Gridline","properties.canvas.labels.percentages":"Percentage","properties.canvas.labels.percentages.info":"Display percentages on each slice, with the top-most slice as 100% and the others as fractions of that value.","properties.canvas.labels.percentages.disabled":"Percentages are hidden due to hidden data labels.","properties.canvas.continuousLine.label":"Continuous line","properties.canvas.continuousLine.tooltip":"Draw a line between points with missing values.","properties.canvas.dataLabels":"Data Labels","properties.canvas.dataLabels.auto":"auto (default)","properties.canvas.dataLabels.show":"show","properties.canvas.dataLabels.hide":"hide","properties.canvas.rowHeight":"Row height","properties.canvas.rowHeight.small":"small","properties.canvas.rowHeight.medium":"medium","properties.canvas.rowHeight.large":"large","properties.canvas.verticalAlign":"Vertical align","properties.canvas.verticalAlign.top":"top","properties.canvas.verticalAlign.middle":"middle","properties.canvas.verticalAlign.bottom":"bottom","properties.canvas.textWrapping":"Text wrapping","properties.canvas.textWrapping.clip":"clip","properties.canvas.textWrapping.wrap":"wrap","properties.canvas.image":"Picture","properties.canvas.image.fit":"fit","properties.canvas.image.fill":"fill","properties.forecast.title":"Forecast","properties.forecastDisabled.title":"Forecast is not available for this combination of buckets.","properties.forecastPeriod.title":"Period","properties.forecastPeriod.placeholder":"Period","properties.forecastSeasonal.title":"Seasonality","properties.forecastConfidence.title":"Confidence","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Total Labels","properties.canvas.totalLabels.auto":"auto (default)","properties.canvas.totalLabels.show":"show","properties.canvas.totalLabels.hide":"hide","properties.canvas.dataPoints":"Data Points","properties.canvas.dataPoints.auto":"auto (default)","properties.canvas.dataPoints.show":"show","properties.canvas.dataPoints.hide":"hide","properties.yaxis.title":"Y-Axis","properties.axis.labels":"labels","properties.axis.rotation":"Rotation","properties.axis.format":"Format","properties.axis.format.inherit":"inherit","properties.axis.format.info.inherit._measure":"The format is inherited from the first measure in the visualisation.","properties.axis.format.info.inherit._metric":"The format is inherited from the first metric in the visualisation.","properties.axis.name":"name","properties.axis.name.position":"Position","properties.axis.name.position.left":"left","properties.axis.name.position.center":"centre","properties.axis.name.position.right":"right","properties.axis.name.position.top":"top","properties.axis.name.position.middle":"middle","properties.axis.name.position.bottom":"bottom","properties.axis.min":"Min","properties.axis.min.warning":"Min value cannot be greater than max value","properties.axis.max":"Max","properties.axis.max.warning":"Max value cannot be smaller than min value","properties.xaxis.title":"X-Axis","properties.axis.scale":"scale","properties.axis.left":"Left","properties.axis.right":"Right","properties.axis.top":"Top","properties.axis.bottom":"Bottom","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"top","properties.legend.position.down":"bottom","properties.legend.position.right":"right","properties.legend.position.left":"left","properties.orientation.title":"Orientation","properties.orientation.horizontal":"Horizontal (default)","properties.orientation.vertical":"Vertical","properties.points.title":"Points","properties.points.groupNearbyPoints":"Group nearby points","properties.points.size.title":"Point Size","properties.points.size.extra_small":"0.5x","properties.points.size.small":"0.75x","properties.points.size.normal":"normal","properties.points.size.large":"1.25x","properties.points.size.extra_large":"1.5x","properties.points.size.min.title":"Smallest","properties.points.size.max.title":"Largest","properties.map.title":"Map","properties.viewport.area.title":"Default viewport","properties.viewport.area.auto_default":"Include all data","properties.viewport.area.continents":"continents","properties.viewport.area.continent_af":"Africa","properties.viewport.area.continent_as":"Asia","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Europe","properties.viewport.area.continent_na":"North America","properties.viewport.area.continent_sa":"South America","properties.viewport.area.world":"World","gs.color-dropdown.custom-color":"Custom colour","properties.colors.reset-colors":"Reset Colours","properties.colors":"Colours","properties.colors.unsupported":"There are no colours for this configuration of the visualisation.","export_unsupported.colors":"The visualisation is not compatible with custom colours. To open the visualisation as a report, click Reset Colours in Configuration —> Colours.","dashboard.bucket.measures_title.bullet._measure":"Measure","dashboard.bucket.measures_title.bullet._metric":"Metric","dashboard.bucket.secondary_measures_title.bullet._measure":"Measure","dashboard.bucket.secondary_measures_title.bullet._metric":"Metric","dashboard.bucket.tertiary_measures_title.bullet._measure":"Measure","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metric","dashboard.bucket.measures_subtitle.bullet":"Primary","dashboard.bucket.secondary_measures_subtitle.bullet":"Target","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparative","sorting.disabled.explanation.attribute":"Sorting is not possible for this visualisation configuration.","sorting.disabled.explanation.measure._measure":"You must add at least one attribute to sort the visualisation. You can also adjust the position of items in the Measures section to change their position in the visualisation.","sorting.disabled.explanation.measure._metric":"You must add at least one attribute to sort the visualisation. You can also adjust the position of items in the Metrics section to change their position in the visualisation.","properties.metrics.title._measure":"Measures","properties.metrics.title._metric":"Metrics","properties.metrics.position":"Position","properties.metrics.position.columns":"columns (default)","properties.metrics.position.rows":"rows","properties.column.headers.title":"Column Headers","properties.column.headers.position":"Position","properties.column.headers.position.top":"top (default)","properties.column.headers.position.left":"left","dashboard.bucket.table.subtitle.columns":"in columns","dashboard.bucket.table.subtitle.rows":"in rows","properties.interactions.title":"Interactions","properties.interactions.drillDown":"Drill down","properties.comparison.title":"Comparison","properties.comparison.calculationType.title":"Calculated as","properties.comparison.calculationType.as.change":"Change","properties.comparison.calculationType.as.ratio":"Ratio","properties.comparison.calculationType.as.difference":"Difference","properties.comparison.calculationType.as.changeDifference":"Change (difference)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calculates the relative change between primary and secondary metric values.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calculates the relative change between primary and secondary measure values.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifies the share of the primary metric value in the secondary metric value.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifies the share of the primary measure value in the secondary measure value.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calculates the absolute difference between primary and secondary metric values.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calculates the absolute difference between primary and secondary measure values.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calculates both the relative change and absolute difference between primary and secondary metric values.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calculates both the relative change and absolute difference between primary and secondary measure values.","properties.comparison.calculationType.tooltip.formula.section":"Formula","properties.comparison.calculationType.tooltip.formulaChange.section":"Formula (relative change)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formula (absolute difference)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primary - Secondary) / Secondary","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primary / Secondary","properties.comparison.calculationType.as.difference.tooltip.formula":"Primary - Secondary","properties.comparison.calculationType.tooltip.example.section":"Example","properties.comparison.calculationType.as.change.tooltip.example":"Year-over-year sales change = (the current year's sales - the previous year's sales) / the previous year's sales","properties.comparison.calculationType.as.ratio.tooltip.example":"Current sales compared to a quota = current sales / quota","properties.comparison.calculationType.as.difference.tooltip.example":"Year-over-year sales difference = the current year's sales - the previous year's sales","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Year-over-year sales change = [(the current year's sales - the previous year's sales) / the previous year's sales] AND [the current year's sales - the previous year's sales]","properties.comparison.measureNumber.format.preset.inherit":"Inherit","properties.comparison.measureNumber.format.preset.rounded":"Rounded","properties.comparison.measureNumber.format.preset.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Percent (rounded)","properties.comparison.measureNumber.format.preset.percent1":"Percent (1)","properties.comparison.measureNumber.format.preset.percent2":"Percent (2)","properties.comparison.measureNumber.format.template.rounded":"Rounded","properties.comparison.measureNumber.format.template.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Percent (rounded)","properties.comparison.measureNumber.format.template.percent1":"Percent (1)","properties.comparison.measureNumber.format.template.percent2":"Percent (2)","properties.comparison.measureNumber.format.template.currency":"Currency","properties.comparison.measureNumber.format.template.currencyShortened":"Currency shortened","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Large numbers shortened","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Large numbers shortened with colors","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Negative numbers in red","properties.comparison.measureNumber.format.template.financial":"Financial","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimal (2) without thousands separator","properties.comparison.measureNumber.format.template.conditionalColors":"Conditional colours","properties.comparison.measureNumber.format.template.trendSymbols":"Trend symbols","properties.comparison.measureNumber.format.template.timeFromSeconds":"Time (from seconds)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zero instead of blank value","properties.comparison.valueSubSection.title":"Value","properties.comparison.format.title":"Format","properties.comparison.subFormat.title":"(Format)","properties.comparison.indicator.title":"Indicator","properties.comparison.indicator.arrow.title":"Arrow","properties.comparison.indicator.colorConfig.title":"Colour","properties.comparison.indicator.colorConfig.equals":"Primary = Secondary","properties.comparison.indicator.colorConfig.positive":"Primary > Secondary","properties.comparison.indicator.colorConfig.negative":"Primary < Secondary","properties.comparison.labelSubSection.title":"Label","properties.comparison.labelSubSection.positionOnTop.disabled":"Labels not applicable for value position top.","properties.comparison.labelSubSection.conditional.disabled":"Conditional labels are not applicable to ratio calculations.","properties.comparison.labelName.title":"Name","properties.comparison.labelConditional.title":"Conditional","properties.comparison.labelPositive.title":"Primary > Secondary","properties.comparison.labelNegative.title":"Primary < Secondary","properties.comparison.labelEquals.title":"Primary = Secondary","properties.comparison.position.title":"Position","properties.comparison.position.top":"top","properties.comparison.position.right":"right","properties.comparison.position.left":"left","properties.forecastSliced.title":"Displaying partial forecast.","properties.forecastSliced.description":"The available data point doesn't cover the entire period selected.","dashboard.bucket.segment_title.scatter":"Segment by","properties.clustering.title":"Cluster","properties.clustering.amount":"Sum","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Displaying partial clusters","properties.clustering.amount.partial.description":"The available data points don't cover the entire selected amount.","properties.clustering.disabled":"Clustering requires 2 Metrics and View by, without Segment by.","properties.clustering.threshold":"Threshold","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"The threshold is a limit that determines when to group data. <link>Learn more</link>","visualizations.headline.tertiary.title":"Versus","properties.interactions.alerts":"Alert","properties.interactions.alerts.tooltip":"Enable users to create alerts for this visualisation on dashboards.","properties.interactions.scheduledExports":"Scheduled exports","properties.interactions.scheduledExports.tooltip":"Enable users to create scheduled exports for this visualisation on dashboards.","properties.advanced.title":"Advanced customisations","properties.advanced.chartConfigOverride.noValueLabel":"No customisations yet.","properties.advanced.chartConfigOverride.link":"Learn more","properties.advanced.chartConfigOverride.editorButton":"Open editor","properties.advanced.chartConfigOverride.title":"Advanced customisation","properties.advanced.chartConfigOverride.snippets.header":"Snippets","properties.advanced.chartConfigOverride.button.apply":"Apply","properties.advanced.chartConfigOverride.button.cancel":"Cancel","gs.date.yesterday":"Yesterday","notifications.panel.tab.unread":"Unread ({count})","notifications.panel.tab.all":"All","notifications.panel.markAllAsRead":"Mark all as read","notifications.panel.error.loading":"Error loading notifications","notifications.panel.empty.all":"No notifications","notifications.panel.empty.unread":"No unread notifications","notifications.panel.unsupported.notification.type":"Unsupported notification type","notifications.panel.markAsRead":"Mark as read","notifications.filters.buttonLabel":"{count, plural, one {# filter} other {# filters}}","notifications.filters.dialog.title":"Filters","notifications.filters.dialog.dateRange":"Date Range","notifications.panel.triggers.title":"for {triggeredCount}/{totalCount} items","notifications.panel.triggers.dialog.newValue":"New value",close:"Close","notifications.panel.triggers.dialog.title":"Triggered for","notifications.panel.error.learnMore":"Learn more","notifications.panel.error.traceId":"Trace ID","notifications.panel.error.message":"The alert could not be processed.","notifications.panel.button.label":"Notifications","notifications.panel.notifications.list.label":"Notifications","notifications.panel.alert.notification.type.label":"Alert notification","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"...and {count} more","notifications.panel.download":"Download","notifications.panel.expiresOn":"Expires on {date}","notifications.panel.linkHasExpired":"Link has expired","notifications.panel.toast.warning.filesExpired":"<strong>Download link expired</strong> — please wait for the next export or create one manually.","notifications.panel.dashboardLinkHint":"Open the dashboard utilised for this export","notifications.panel.dashboardLink":"From {dashboardTitle}","notifications.panel.downloadFilesHint":"Download the exported files","notifications.panel.error.alert.title":"The alert could not be processed.","notifications.panel.error.schedule.title":"Scheduled export unsuccessful","notifications.panel.error.limitExceeded.message":"Your export could not be sent as your organisation has reached the limit for the maximum number of daily alerts and scheduled exports. Please contact your administrator."},"en-AU":{or:"or","dashboard.bucket.measures_title.column._measure":"Measures","dashboard.bucket.measures_title.column._metric":"Metrics","dashboard.bucket.measures_title.bar._measure":"Measures","dashboard.bucket.measures_title.bar._metric":"Metrics","dashboard.bucket.measures_title.line._measure":"Measures","dashboard.bucket.measures_title.line._metric":"Metrics","dashboard.bucket.measures_title.area._measure":"Measures","dashboard.bucket.measures_title.area._metric":"Metrics","dashboard.bucket.measures_title.pie._measure":"Measures","dashboard.bucket.measures_title.pie._metric":"Metrics","dashboard.bucket.measures_title.funnel._measure":"Measures","dashboard.bucket.measures_title.funnel._metric":"Metrics","dashboard.bucket.measures_title.pyramid._measure":"Measures","dashboard.bucket.measures_title.pyramid._metric":"Metrics","dashboard.bucket.measures_title.treemap._measure":"Measures","dashboard.bucket.measures_title.treemap._metric":"Metrics","dashboard.bucket.measures_title.donut._measure":"Measures","dashboard.bucket.measures_title.donut._metric":"Metrics","dashboard.bucket.measures_title.heatmap._measure":"Measure","dashboard.bucket.measures_title.heatmap._metric":"Metric","dashboard.bucket.measures_title.headline._measure":"Measure","dashboard.bucket.measures_title.headline._metric":"Metric","dashboard.bucket.measures_subtitle.headline":"primary","dashboard.bucket.secondary_measures_title.headline._measure":"Measure","dashboard.bucket.secondary_measures_title.headline._metric":"Metric","dashboard.bucket.secondary_measures_subtitle.headline":"secondary","dashboard.bucket.measures_title.scatter._measure":"Measure","dashboard.bucket.measures_title.scatter._metric":"Metric","dashboard.bucket.secondary_measures_title.scatter._measure":"Measure","dashboard.bucket.secondary_measures_title.scatter._metric":"Metric","dashboard.bucket.measures_subtitle.scatter":"X-axis","dashboard.bucket.secondary_measures_subtitle.scatter":"Y-axis","dashboard.bucket.attribute_title.scatter":"View by","dashboard.bucket.measures_title.combo._measure":"Measures","dashboard.bucket.measures_title.combo._metric":"Metrics","dashboard.bucket.measures_subtitle.combo":"Column","dashboard.bucket.secondary_measures_title.combo._measure":"Measures","dashboard.bucket.secondary_measures_title.combo._metric":"Metrics","dashboard.bucket.secondary_measures_subtitle.combo":"Line","dashboard.bucket.measures_title.xirr._measure":"Measure","dashboard.bucket.measures_title.xirr._metric":"Metric","dashboard.bucket.measures_title.waterfall._measure":"Measures","dashboard.bucket.measures_title.waterfall._metric":"Metrics","dashboard.bucket.attribute_title.xirr":"Date attribute","dashboard.bucket.attribute_from_title.sankey":"Attribute","dashboard.bucket.attribute_from_subtitle.sankey":"from","dashboard.bucket.attribute_to_title.sankey":"Attribute","dashboard.bucket.attribute_to_subtitle.sankey":"to","dashboard.bucket.attribute_from_title.dependencywheel":"Attribute","dashboard.bucket.attribute_from_subtitle.dependencywheel":"from","dashboard.bucket.attribute_to_title.dependencywheel":"Attribute","dashboard.bucket.attribute_to_subtitle.dependencywheel":"to","dashboard.bucket.combo.subtitle.column":"as columns","dashboard.bucket.combo.subtitle.line":"as lines","dashboard.bucket.combo.subtitle.area":"as areas","dashboard.bucket.measures_title.bubble._measure":"Measure","dashboard.bucket.measures_title.bubble._metric":"Metric","dashboard.bucket.secondary_measures_title.bubble._measure":"Measure","dashboard.bucket.secondary_measures_title.bubble._metric":"Metric","dashboard.bucket.tertiary_measures_title.bubble._measure":"Measure","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metric","dashboard.bucket.measures_subtitle.bubble":"X-axis","dashboard.bucket.secondary_measures_subtitle.bubble":"Y-axis","dashboard.bucket.tertiary_measures_subtitle.bubble":"Size","dashboard.bucket.location_title.pushpin":"Location","dashboard.bucket.size_title.pushpin._measure":"Measure","dashboard.bucket.size_title.pushpin._metric":"Metric","dashboard.bucket.size_subtitle.pushpin":"Size","dashboard.bucket.color_title.pushpin._measure":"Measure","dashboard.bucket.color_title.pushpin._metric":"Metric","dashboard.bucket.color_subtitle.pushpin":"Colour","dashboard.bucket.view_title.bubble":"View by","dashboard.bucket.view_title.pie":"View by","dashboard.bucket.view_title.treemap":"View by","dashboard.bucket.view_title.donut":"View by","dashboard.bucket.view_title.funnel":"View by","dashboard.bucket.view_title.pyramid":"View by","dashboard.bucket.view_title.column":"View by","dashboard.bucket.view_title.bar":"View by","dashboard.bucket.view_title.area":"View by","dashboard.bucket.view_title.bullet":"View by","dashboard.bucket.view_title.waterfall":"View by","dashboard.bucket.view_title.heatmap":"Rows","dashboard.bucket.trend_title.line":"Trend by","dashboard.bucket.view_title.combo":"View by","dashboard.bucket.stack_title.column":"Stack by","dashboard.bucket.stack_title.bar":"Stack by","dashboard.bucket.stack_title.area":"Stack by","dashboard.bucket.stack_title.heatmap":"Columns","dashboard.bucket.segment_title.line":"Segment by","dashboard.bucket.segment_title.treemap":"Segment by","dashboard.bucket.segment_title.pushpin":"Segment by","dashboard.bucket.metric_segment_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'segment by'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"To add an additional metric, remove {icons} from '<span class=\"stack-by\">'segment by'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"To add an additional metric, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.metric_view_by_warning._measure":"To add additional measure, remove {icons} from '<span class=\"stack-by\">'view by'</span>'","dashboard.bucket.metric_view_by_warning._metric":"To add an additional metric, remove {icons} from '<span class=\"stack-by\">'view by'</span>'","dashboard.bucket.category_view_by_warning._measure":"To view by another attribute, a visualisation can have only one measure","dashboard.bucket.category_view_by_warning._metric":"To view by another attribute, a visualisation can have only one metric","dashboard.bucket.view_stack_by_warning":"To add additional attribute, remove {icons} from '<span class=\"stack-by\">'stack by'</span>'","dashboard.bucket.category_stack_by_warning._measure":"To stack by, a visualisation can have only one measure","dashboard.bucket.category_stack_by_warning._metric":"To stack by, a visualisation can have only one metric","dashboard.bucket.stack_view_by_warning":"To stack by, a visualisation can have only one attribute in view by","dashboard.bucket.measure_stack_by_warning._measure":"To stack by an attribute, a visualisation can have only one measure","dashboard.bucket.measure_stack_by_warning._metric":"To stack by an attribute, a visualisation can have only one metric","dashboard.bucket.category_columns_warning._measure":"Cannot add columns: limit is {oldLimit} measurements and {oldRowsLimit} rows. Adhere to the limits to add more.","dashboard.bucket.category_columns_warning._metric":"Cannot add columns: limit is {oldLimit} metrics and {oldRowsLimit} rows. Adhere to the limits to add more.","dashboard.bucket.category_measures_rows_warning":"To total up to {limit} more, clear all items from the columns section.","dashboard.bucket.category_category_by_warning._measure":"To view by, a visualisation can have only one measure","dashboard.bucket.category_category_by_warning._metric":"To view by, a visualisation can have only one metric","dashboard.bucket.category_segment_by_warning._measure":"To segment by, a visualisation can have only one measure","dashboard.bucket.category_segment_by_warning._metric":"To segment by, a visualisation can have only one metric","dashboard.bucket.measures_title.table._measure":"Measures","dashboard.bucket.measures_title.table._metric":"Metrics","dashboard.bucket.measures_title.sankey._measure":"MEASURE","dashboard.bucket.measures_title.sankey._metric":"METRIC","dashboard.bucket.measures_title.dependencywheel._measure":"MEASURE","dashboard.bucket.measures_title.dependencywheel._metric":"METRIC","dashboard.bucket.attribute_title.table":"Rows","dashboard.bucket.columns_title.table":"Columns","dashboard.bucket.attribute_title.repeater":"Rows","dashboard.bucket.view_title.repeater":"View by","dashboard.bucket.columns_title.repeater":"Columns","dashboard.error.missing_primary_bucket_item.heading._measure":"No primary measure in your visualisation","dashboard.error.missing_primary_bucket_item.heading._metric":"No primary metric in your visualisation","dashboard.error.missing_primary_bucket_item.text._measure":"Add a primary measure to your visualisation, or switch to table.\nOnce done, you'll be able to save it.","dashboard.error.missing_primary_bucket_item.text._metric":"Add a primary metric to your visualisation, or switch to table.\nOnce done, you'll be able to save it.","dashboard.xirr.error.invalid_buckets.heading":"Incomplete configuration","dashboard.xirr.error.invalid_buckets.text._measure":"Ensure you have selected one measure and one date attribute.","dashboard.xirr.error.invalid_buckets.text._metric":"Ensure you have selected one metric and one date attribute.","properties.unsupported":"This visualisation doesn't support configuration","properties.config.not_applicable":"Configuration Panel is not applicable for this configuration of the visualisation","properties.not_applicable":"Property is not applicable for this configuration of the visualisation","properties.auto_placeholder":"auto","properties.auto_default":"auto (default)","properties.legend.title":"Legend","properties.legend.position":"Position","properties.total.title":"Total","properties.total.name":"Name","properties.total.tooltip":"Add sum of all values as a column at the end.","properties.total.measures.tooltip":'Disable "is total" options in metric to add the sum of all values as a column at the end.',"properties.color.total":"Total","properties.color.positive":"Positive","properties.color.negative":"Negative","properties.canvas.title":"Canvas","properties.canvas.gridline":"Gridline","properties.canvas.labels.percentages":"Percentage","properties.canvas.labels.percentages.info":"Display percentages on each slice, with the top-most slice as 100% and the others as fractions of that value.","properties.canvas.labels.percentages.disabled":"Percentages are hidden due to hidden data labels.","properties.canvas.continuousLine.label":"Continuous line","properties.canvas.continuousLine.tooltip":"Draw a line between points with missing values.","properties.canvas.dataLabels":"Data Labels","properties.canvas.dataLabels.auto":"auto (default)","properties.canvas.dataLabels.show":"display","properties.canvas.dataLabels.hide":"hide","properties.canvas.rowHeight":"Row height","properties.canvas.rowHeight.small":"small","properties.canvas.rowHeight.medium":"medium","properties.canvas.rowHeight.large":"big","properties.canvas.verticalAlign":"Vertical align","properties.canvas.verticalAlign.top":"top","properties.canvas.verticalAlign.middle":"middle","properties.canvas.verticalAlign.bottom":"bottom","properties.canvas.textWrapping":"Text wrapping","properties.canvas.textWrapping.clip":"clip","properties.canvas.textWrapping.wrap":"wrap","properties.canvas.image":"Picture","properties.canvas.image.fit":"fit","properties.canvas.image.fill":"fill","properties.forecast.title":"Forecast","properties.forecastDisabled.title":"Forecast is not available for this combination of buckets.","properties.forecastPeriod.title":"Period","properties.forecastPeriod.placeholder":"Period","properties.forecastSeasonal.title":"Seasonality","properties.forecastConfidence.title":"Confidence","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Total Labels","properties.canvas.totalLabels.auto":"auto (default)","properties.canvas.totalLabels.show":"display","properties.canvas.totalLabels.hide":"hide","properties.canvas.dataPoints":"Data Points","properties.canvas.dataPoints.auto":"auto (default)","properties.canvas.dataPoints.show":"display","properties.canvas.dataPoints.hide":"hide","properties.yaxis.title":"Y-Axis","properties.axis.labels":"labels","properties.axis.rotation":"Rotation","properties.axis.format":"Format","properties.axis.format.inherit":"inherit","properties.axis.format.info.inherit._measure":"The format is inherited from the first measure in the visualisation.","properties.axis.format.info.inherit._metric":"The format is inherited from the first metric in the visualisation.","properties.axis.name":"name","properties.axis.name.position":"Position","properties.axis.name.position.left":"left","properties.axis.name.position.center":"centre","properties.axis.name.position.right":"right","properties.axis.name.position.top":"top","properties.axis.name.position.middle":"middle","properties.axis.name.position.bottom":"bottom","properties.axis.min":"Min","properties.axis.min.warning":"Min value cannot be greater than max value","properties.axis.max":"Max","properties.axis.max.warning":"Max value cannot be smaller than min value","properties.xaxis.title":"X-Axis","properties.axis.scale":"scale","properties.axis.left":"Left","properties.axis.right":"Right","properties.axis.top":"Top","properties.axis.bottom":"Bottom","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"top","properties.legend.position.down":"bottom","properties.legend.position.right":"right","properties.legend.position.left":"left","properties.orientation.title":"Orientation","properties.orientation.horizontal":"Horizontal (default)","properties.orientation.vertical":"Vertical","properties.points.title":"Points","properties.points.groupNearbyPoints":"Group nearby points","properties.points.size.title":"Point Size","properties.points.size.extra_small":"0.5x","properties.points.size.small":"0.75x","properties.points.size.normal":"normal","properties.points.size.large":"1.25x","properties.points.size.extra_large":"1.5x","properties.points.size.min.title":"Smallest","properties.points.size.max.title":"Largest","properties.map.title":"Map","properties.viewport.area.title":"Default viewport","properties.viewport.area.auto_default":"Include all data","properties.viewport.area.continents":"continents","properties.viewport.area.continent_af":"Africa","properties.viewport.area.continent_as":"Asia","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Europe","properties.viewport.area.continent_na":"North America","properties.viewport.area.continent_sa":"South America","properties.viewport.area.world":"World","gs.color-dropdown.custom-color":"Custom colour","properties.colors.reset-colors":"Reset Colours","properties.colors":"Colours","properties.colors.unsupported":"There are no colours for this configuration of the visualisation.","export_unsupported.colors":"The visualisation is not compatible with custom colours. To open the visualisation as a report, click Reset Colours in Configuration —> Colours.","dashboard.bucket.measures_title.bullet._measure":"Measure","dashboard.bucket.measures_title.bullet._metric":"Metric","dashboard.bucket.secondary_measures_title.bullet._measure":"Measure","dashboard.bucket.secondary_measures_title.bullet._metric":"Metric","dashboard.bucket.tertiary_measures_title.bullet._measure":"Measure","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metric","dashboard.bucket.measures_subtitle.bullet":"Primary","dashboard.bucket.secondary_measures_subtitle.bullet":"Goal","dashboard.bucket.tertiary_measures_subtitle.bullet":"Comparative","sorting.disabled.explanation.attribute":"Sorting is not possible for this visualisation configuration.","sorting.disabled.explanation.measure._measure":"You must add at least one attribute to sort the visualisation. You can also adjust the position of items in the Measures section to change their position in the visualisation.","sorting.disabled.explanation.measure._metric":"You must add at least one attribute to sort the visualisation. You can also adjust the position of items in the Metrics section to change their position in the visualisation.","properties.metrics.title._measure":"Measures","properties.metrics.title._metric":"Metrics","properties.metrics.position":"Position","properties.metrics.position.columns":"columns (default)","properties.metrics.position.rows":"rows","properties.column.headers.title":"Column Headers","properties.column.headers.position":"Position","properties.column.headers.position.top":"top (default)","properties.column.headers.position.left":"left","dashboard.bucket.table.subtitle.columns":"in columns","dashboard.bucket.table.subtitle.rows":"in rows","properties.interactions.title":"Interactions","properties.interactions.drillDown":"Drill down","properties.comparison.title":"Comparison","properties.comparison.calculationType.title":"Calculated as","properties.comparison.calculationType.as.change":"Change","properties.comparison.calculationType.as.ratio":"Ratio","properties.comparison.calculationType.as.difference":"Difference","properties.comparison.calculationType.as.changeDifference":"Change (difference)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Calculates the relative change between primary and secondary metric values.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Calculates the relative change between primary and secondary measure values.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Quantifies the share of the primary metric value in the secondary metric value.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Quantifies the share of the primary measure value in the secondary measure value.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Calculates the absolute difference between primary and secondary metric values.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Calculates the absolute difference between primary and secondary measure values.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Calculates both the relative change and absolute difference between primary and secondary metric values.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Calculates both the relative change and absolute difference between primary and secondary measure values.","properties.comparison.calculationType.tooltip.formula.section":"Formula","properties.comparison.calculationType.tooltip.formulaChange.section":"Formula (relative change)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formula (absolute difference)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primary - Secondary) / Secondary","properties.comparison.calculationType.as.ratio.tooltip.formula":"Primary / Secondary","properties.comparison.calculationType.as.difference.tooltip.formula":"Primary - Secondary","properties.comparison.calculationType.tooltip.example.section":"Example","properties.comparison.calculationType.as.change.tooltip.example":"Year-over-year sales change = (the current year's sales - the previous year's sales) / the previous year's sales","properties.comparison.calculationType.as.ratio.tooltip.example":"Current sales compared to a quota = current sales / quota","properties.comparison.calculationType.as.difference.tooltip.example":"Year-over-year sales difference = the current year's sales - the previous year's sales","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Year-over-year sales change = [(the current year's sales - the previous year's sales) / the previous year's sales] AND [the current year's sales - the previous year's sales]","properties.comparison.measureNumber.format.preset.inherit":"Inherit","properties.comparison.measureNumber.format.preset.rounded":"Rounded","properties.comparison.measureNumber.format.preset.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.preset.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Percent (rounded)","properties.comparison.measureNumber.format.preset.percent1":"Percent (1)","properties.comparison.measureNumber.format.preset.percent2":"Percent (2)","properties.comparison.measureNumber.format.template.rounded":"Rounded","properties.comparison.measureNumber.format.template.decimal1":"Decimal (1)","properties.comparison.measureNumber.format.template.decimal2":"Decimal (2)","properties.comparison.measureNumber.format.template.percentRounded":"Percent (rounded)","properties.comparison.measureNumber.format.template.percent1":"Percent (1)","properties.comparison.measureNumber.format.template.percent2":"Percent (2)","properties.comparison.measureNumber.format.template.currency":"Currency","properties.comparison.measureNumber.format.template.currencyShortened":"Currency shortened","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Large numbers shortened","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Large numbers shortened with colours","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Negative numbers in red","properties.comparison.measureNumber.format.template.financial":"Financial","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Decimal (2) without thousands separator","properties.comparison.measureNumber.format.template.conditionalColors":"Conditional colours","properties.comparison.measureNumber.format.template.trendSymbols":"Trend symbols","properties.comparison.measureNumber.format.template.timeFromSeconds":"Time (from seconds)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zero instead of blank value","properties.comparison.valueSubSection.title":"Value","properties.comparison.format.title":"Format","properties.comparison.subFormat.title":"(Format)","properties.comparison.indicator.title":"Indicator","properties.comparison.indicator.arrow.title":"Arrow","properties.comparison.indicator.colorConfig.title":"Colour","properties.comparison.indicator.colorConfig.equals":"Primary = Secondary","properties.comparison.indicator.colorConfig.positive":"Primary > Secondary","properties.comparison.indicator.colorConfig.negative":"Primary < Secondary","properties.comparison.labelSubSection.title":"Label","properties.comparison.labelSubSection.positionOnTop.disabled":"Labels not applicable for value position top.","properties.comparison.labelSubSection.conditional.disabled":"Conditional labels are not applicable to ratio calculations.","properties.comparison.labelName.title":"Name","properties.comparison.labelConditional.title":"Conditional","properties.comparison.labelPositive.title":"Primary > Secondary","properties.comparison.labelNegative.title":"Primary < Secondary","properties.comparison.labelEquals.title":"Primary = Secondary","properties.comparison.position.title":"Position","properties.comparison.position.top":"top","properties.comparison.position.right":"right","properties.comparison.position.left":"left","properties.forecastSliced.title":"Displaying partial forecast.","properties.forecastSliced.description":"The available data point doesn't cover the entire selected period.","dashboard.bucket.segment_title.scatter":"Segment by","properties.clustering.title":"Cluster","properties.clustering.amount":"Amount","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Displaying partial clusters","properties.clustering.amount.partial.description":"The available data points don't cover the entire selected amount.","properties.clustering.disabled":"Clustering requires 2 Metrics and View by, without Segment by.","properties.clustering.threshold":"Threshold","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"The threshold is a limit that determines when to group data. <link>Learn more</link>","visualizations.headline.tertiary.title":"Versus","properties.interactions.alerts":"Alert","properties.interactions.alerts.tooltip":"Enable users to create alerts for this visualisation on dashboards.","properties.interactions.scheduledExports":"Scheduled exports","properties.interactions.scheduledExports.tooltip":"Enable users to create scheduled exports for this visualisation on dashboards.","properties.advanced.title":"Advanced customisations","properties.advanced.chartConfigOverride.noValueLabel":"No customisations yet.","properties.advanced.chartConfigOverride.link":"Learn more","properties.advanced.chartConfigOverride.editorButton":"Open editor","properties.advanced.chartConfigOverride.title":"Advanced customisation","properties.advanced.chartConfigOverride.snippets.header":"Snippets","properties.advanced.chartConfigOverride.button.apply":"Apply","properties.advanced.chartConfigOverride.button.cancel":"Cancel","gs.date.yesterday":"Yesterday","notifications.panel.tab.unread":"Unread ({count})","notifications.panel.tab.all":"All","notifications.panel.markAllAsRead":"Mark all as read","notifications.panel.error.loading":"Error loading notifications","notifications.panel.empty.all":"No notifications","notifications.panel.empty.unread":"No unread notifications","notifications.panel.unsupported.notification.type":"Unsupported notification type","notifications.panel.markAsRead":"Mark as read","notifications.filters.buttonLabel":"{count, plural, one {# filter} other {# filters}}","notifications.filters.dialog.title":"Filters","notifications.filters.dialog.dateRange":"Date Range","notifications.panel.triggers.title":"for {triggeredCount}/{totalCount} items","notifications.panel.triggers.dialog.newValue":"New value",close:"Close","notifications.panel.triggers.dialog.title":"Triggered for","notifications.panel.error.learnMore":"Learn more","notifications.panel.error.traceId":"Trace ID","notifications.panel.error.message":"The alert could not be processed.","notifications.panel.button.label":"Notifications","notifications.panel.notifications.list.label":"Notifications","notifications.panel.alert.notification.type.label":"Alert notification","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"...and {count} more","notifications.panel.download":"Download","notifications.panel.expiresOn":"Expires on {date}","notifications.panel.linkHasExpired":"Link has expired","notifications.panel.toast.warning.filesExpired":"<strong>Download link expired</strong> — please wait for the next export or create one manually.","notifications.panel.dashboardLinkHint":"Open the dashboard utilised for this export","notifications.panel.dashboardLink":"From {dashboardTitle}","notifications.panel.downloadFilesHint":"Download the exported files","notifications.panel.error.alert.title":"The alert could not be processed.","notifications.panel.error.schedule.title":"Scheduled export was unsuccessful.","notifications.panel.error.limitExceeded.message":"Your export could not be sent as your organisation has reached the limit for the maximum number of daily alerts and scheduled exports. Please contact your administrator."},"fi-FI":{or:"tai","dashboard.bucket.measures_title.column._measure":"Toimenpiteet","dashboard.bucket.measures_title.column._metric":"Mittarit","dashboard.bucket.measures_title.bar._measure":"Toimenpiteet","dashboard.bucket.measures_title.bar._metric":"Mittarit","dashboard.bucket.measures_title.line._measure":"Toimenpiteet","dashboard.bucket.measures_title.line._metric":"Mittarit","dashboard.bucket.measures_title.area._measure":"Toimenpiteet","dashboard.bucket.measures_title.area._metric":"Mittarit","dashboard.bucket.measures_title.pie._measure":"Toimenpiteet","dashboard.bucket.measures_title.pie._metric":"Mittarit","dashboard.bucket.measures_title.funnel._measure":"Toimenpiteet","dashboard.bucket.measures_title.funnel._metric":"Mittarit","dashboard.bucket.measures_title.pyramid._measure":"Toimenpiteet","dashboard.bucket.measures_title.pyramid._metric":"Mittarit","dashboard.bucket.measures_title.treemap._measure":"Toimenpiteet","dashboard.bucket.measures_title.treemap._metric":"Mittarit","dashboard.bucket.measures_title.donut._measure":"Toimenpiteet","dashboard.bucket.measures_title.donut._metric":"Mittarit","dashboard.bucket.measures_title.heatmap._measure":"Toimenpide","dashboard.bucket.measures_title.heatmap._metric":"Metrinen","dashboard.bucket.measures_title.headline._measure":"Toimenpide","dashboard.bucket.measures_title.headline._metric":"Metrinen","dashboard.bucket.measures_subtitle.headline":"ensisijainen","dashboard.bucket.secondary_measures_title.headline._measure":"Toimenpide","dashboard.bucket.secondary_measures_title.headline._metric":"Metrinen","dashboard.bucket.secondary_measures_subtitle.headline":"toissijainen","dashboard.bucket.measures_title.scatter._measure":"Toimenpide","dashboard.bucket.measures_title.scatter._metric":"Metrinen","dashboard.bucket.secondary_measures_title.scatter._measure":"Toimenpide","dashboard.bucket.secondary_measures_title.scatter._metric":"Metrinen","dashboard.bucket.measures_subtitle.scatter":"X-akseli","dashboard.bucket.secondary_measures_subtitle.scatter":"Y-akseli","dashboard.bucket.attribute_title.scatter":"Näytä","dashboard.bucket.measures_title.combo._measure":"Toimenpiteet","dashboard.bucket.measures_title.combo._metric":"Mittarit","dashboard.bucket.measures_subtitle.combo":"Sarake","dashboard.bucket.secondary_measures_title.combo._measure":"Toimenpiteet","dashboard.bucket.secondary_measures_title.combo._metric":"Mittarit","dashboard.bucket.secondary_measures_subtitle.combo":"Viiva","dashboard.bucket.measures_title.xirr._measure":"Toimenpide","dashboard.bucket.measures_title.xirr._metric":"Metrinen","dashboard.bucket.measures_title.waterfall._measure":"Toimenpiteet","dashboard.bucket.measures_title.waterfall._metric":"Mittarit","dashboard.bucket.attribute_title.xirr":"Päivämääräattribuutti","dashboard.bucket.attribute_from_title.sankey":"Attribuutti","dashboard.bucket.attribute_from_subtitle.sankey":"alkaen","dashboard.bucket.attribute_to_title.sankey":"Attribuutti","dashboard.bucket.attribute_to_subtitle.sankey":"kohti","dashboard.bucket.attribute_from_title.dependencywheel":"Attribuutti","dashboard.bucket.attribute_from_subtitle.dependencywheel":"alkaen","dashboard.bucket.attribute_to_title.dependencywheel":"Attribuutti","dashboard.bucket.attribute_to_subtitle.dependencywheel":"kohti","dashboard.bucket.combo.subtitle.column":"sarakeina","dashboard.bucket.combo.subtitle.line":"viivoina","dashboard.bucket.combo.subtitle.area":"alueina","dashboard.bucket.measures_title.bubble._measure":"Toimenpide","dashboard.bucket.measures_title.bubble._metric":"Metrinen","dashboard.bucket.secondary_measures_title.bubble._measure":"Toimenpide","dashboard.bucket.secondary_measures_title.bubble._metric":"Metrinen","dashboard.bucket.tertiary_measures_title.bubble._measure":"Toimenpide","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metrinen","dashboard.bucket.measures_subtitle.bubble":"X-akseli","dashboard.bucket.secondary_measures_subtitle.bubble":"Y-akseli","dashboard.bucket.tertiary_measures_subtitle.bubble":"Koko","dashboard.bucket.location_title.pushpin":"Sijainti","dashboard.bucket.size_title.pushpin._measure":"Toimenpide","dashboard.bucket.size_title.pushpin._metric":"Metrinen","dashboard.bucket.size_subtitle.pushpin":"Koko","dashboard.bucket.color_title.pushpin._measure":"Toimenpide","dashboard.bucket.color_title.pushpin._metric":"Metrinen","dashboard.bucket.color_subtitle.pushpin":"Väri","dashboard.bucket.view_title.bubble":"Näytä","dashboard.bucket.view_title.pie":"Näytä","dashboard.bucket.view_title.treemap":"Näytä","dashboard.bucket.view_title.donut":"Näytä","dashboard.bucket.view_title.funnel":"Näytä","dashboard.bucket.view_title.pyramid":"Näytä","dashboard.bucket.view_title.column":"Näytä","dashboard.bucket.view_title.bar":"Näytä","dashboard.bucket.view_title.area":"Näytä","dashboard.bucket.view_title.bullet":"Näytä","dashboard.bucket.view_title.waterfall":"Näytä","dashboard.bucket.view_title.heatmap":"Rivit","dashboard.bucket.trend_title.line":"Seuraa trendiä","dashboard.bucket.view_title.combo":"Näytä","dashboard.bucket.stack_title.column":"Pinota","dashboard.bucket.stack_title.bar":"Pinota","dashboard.bucket.stack_title.area":"Pinota","dashboard.bucket.stack_title.heatmap":"Sarakkeet","dashboard.bucket.segment_title.line":"Segmentoi","dashboard.bucket.segment_title.treemap":"Segmentoi","dashboard.bucket.segment_title.pushpin":"Segmentoi","dashboard.bucket.metric_segment_by_warning._measure":"Lisätäksesi lisää mittareita, poista {icons} kohdasta '<span class=\"stack-by\">'segmentoi'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Lisätäksesi lisää metriikkoja, poista {icons} kohdasta '<span class=\"stack-by\">'segmentoi'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Lisätäksesi lisää mittareita, poista {icons} kohdasta '<span class=\"stack-by\">'pinota'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Lisätäksesi lisää metriikkoja, poista {icons} kohdasta '<span class=\"stack-by\">'pinota'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Lisätäksesi lisää mittareita, poista {icons} kohdasta '<span class=\"stack-by\">'näytä'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Lisätäksesi lisää metriikkoja, poista {icons} kohdasta '<span class=\"stack-by\">'näytä'</span>'","dashboard.bucket.category_view_by_warning._measure":"Jos haluat tarkastella toisella ominaisuudella, visualisoinnilla voi olla vain yksi mitta.","dashboard.bucket.category_view_by_warning._metric":"Jos haluat tarkastella toisella ominaisuudella, visualisoinnilla voi olla vain yksi mittari.","dashboard.bucket.view_stack_by_warning":"Lisätäksesi attribuutin, poista {icons} kohdasta '<span class=\"stack-by\">'pinota'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Jos haluat pinota, visualisoinnilla voi olla vain yksi mitta","dashboard.bucket.category_stack_by_warning._metric":"Jos haluat pinota, visualisoinnilla voi olla vain yksi mittari","dashboard.bucket.stack_view_by_warning":"Jos haluat pinota, visualisoinnilla voi olla vain yksi attribuutti näkyvissä seuraavasti:","dashboard.bucket.measure_stack_by_warning._measure":"Jos haluat pinota attribuutin mukaan, visualisoinnissa voi olla vain yksi mittari.","dashboard.bucket.measure_stack_by_warning._metric":"Jos haluat pinota attribuutin mukaan, visualisoinnilla voi olla vain yksi mittari.","dashboard.bucket.category_columns_warning._measure":"Sarakkeita ei voi lisätä: raja on {oldLimit} mittaria ja {oldRowsLimit} riviä. Noudata rajoituksia lisätäksesi lisää","dashboard.bucket.category_columns_warning._metric":"Sarakkeita ei voi lisätä: raja on {oldLimit} metriikkaa ja {oldRowsLimit} riviä. Noudata rajoituksia lisätäksesi lisää","dashboard.bucket.category_measures_rows_warning":"Lisätäksesi enintään {limit} lisää, poista kaikki kohteet sarakkeiden osiosta","dashboard.bucket.category_category_by_warning._measure":"Jos haluat tarkastella mennessä, visualisoinnilla voi olla vain yksi mittari","dashboard.bucket.category_category_by_warning._metric":"Jos haluat tarkastella mennessä, visualisoinnilla voi olla vain yksi mittari","dashboard.bucket.category_segment_by_warning._measure":"Segmentoitaessa visualisoinnilla voi olla vain yksi mitta","dashboard.bucket.category_segment_by_warning._metric":"Segmentoitaessa visualisoinnilla voi olla vain yksi mittari","dashboard.bucket.measures_title.table._measure":"Toimenpiteet","dashboard.bucket.measures_title.table._metric":"Mittarit","dashboard.bucket.measures_title.sankey._measure":"TOIMENPIDE","dashboard.bucket.measures_title.sankey._metric":"METRINEN","dashboard.bucket.measures_title.dependencywheel._measure":"TOIMENPIDE","dashboard.bucket.measures_title.dependencywheel._metric":"METRINEN","dashboard.bucket.attribute_title.table":"Rivit","dashboard.bucket.columns_title.table":"Sarakkeet","dashboard.bucket.attribute_title.repeater":"Rivit","dashboard.bucket.view_title.repeater":"Näytä","dashboard.bucket.columns_title.repeater":"Sarakkeet","dashboard.error.missing_primary_bucket_item.heading._measure":"Visualisoinnissasi ei ole ensisijaista toimenpidettä","dashboard.error.missing_primary_bucket_item.heading._metric":"Visualisoinnissasi ei ole ensisijaista mittaria","dashboard.error.missing_primary_bucket_item.text._measure":"Lisää päämittari näkemykseesi tai vaihda taulukkonäkymään.\nKun olet valmis, voit tallentaa sen.","dashboard.error.missing_primary_bucket_item.text._metric":"Lisää päämetriikka näkemykseesi tai vaihda taulukkonäkymään.\nKun olet valmis, voit tallentaa sen.","dashboard.xirr.error.invalid_buckets.heading":"Kesken oleva asetus","dashboard.xirr.error.invalid_buckets.text._measure":"Varmista, että olet valinnut yhden mittarin ja yhden päivämääräattribuutin","dashboard.xirr.error.invalid_buckets.text._metric":"Varmista, että olet valinnut yhden metriikan ja yhden päivämääräattribuutin","properties.unsupported":"Tämä visualisointi ei tue asetusta","properties.config.not_applicable":"Konfigurointipaneeli ei sovellu tähän visualisoinnin konfigurointiin","properties.not_applicable":"Ominaisuus ei ole sovellettavissa tähän visualisoinnin määritykseen","properties.auto_placeholder":"auto","properties.auto_default":"auto (oletus)","properties.legend.title":"Selite","properties.legend.position":"Sijainti","properties.total.title":"Yhteensä","properties.total.name":"Nimi","properties.total.tooltip":"Lisää kaikkien arvojen summa sarakkeena loppuun.","properties.total.measures.tooltip":"Poista käytöstä “on yhteensä” -vaihtoehdot metriikassa lisätäksesi kaikkien arvojen summan sarakkeena loppuun.","properties.color.total":"Yhteensä","properties.color.positive":"Positiivinen","properties.color.negative":"Negatiivinen","properties.canvas.title":"Kangas","properties.canvas.gridline":"Ruudukkoviiva","properties.canvas.labels.percentages":"Prosentti","properties.canvas.labels.percentages.info":"Näytä prosenttiosuudet kustakin viipaleesta, ylin viipale 100%:na ja muut sen osuuksina.","properties.canvas.labels.percentages.disabled":"Prosenttiosuudet piilotettu piilotettujen datalabelien takia.","properties.canvas.continuousLine.label":"Jatkuva viiva","properties.canvas.continuousLine.tooltip":"Piirrä viiva puuttuvien arvojen välille.","properties.canvas.dataLabels":"Datalabelit","properties.canvas.dataLabels.auto":"auto (oletus)","properties.canvas.dataLabels.show":"näytä","properties.canvas.dataLabels.hide":"piilota","properties.canvas.rowHeight":"Rivin korkeus","properties.canvas.rowHeight.small":"pieni","properties.canvas.rowHeight.medium":"keskinkertainen","properties.canvas.rowHeight.large":"suuri","properties.canvas.verticalAlign":"Pystysuuntainen tasaus","properties.canvas.verticalAlign.top":"ylhäällä","properties.canvas.verticalAlign.middle":"keskellä","properties.canvas.verticalAlign.bottom":"Alin","properties.canvas.textWrapping":"Tekstin kääriminen","properties.canvas.textWrapping.clip":"klipsi","properties.canvas.textWrapping.wrap":"kääri","properties.canvas.image":"Kuva","properties.canvas.image.fit":"sovita","properties.canvas.image.fill":"täytä","properties.forecast.title":"Ennuste","properties.forecastDisabled.title":"Ennuste ei ole käytettävissä tälle sankojen yhdistelmälle","properties.forecastPeriod.title":"Jakso","properties.forecastPeriod.placeholder":"Jakso","properties.forecastSeasonal.title":"Kausiluonteisuus","properties.forecastConfidence.title":"Luottamus","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Yhteensä labelit","properties.canvas.totalLabels.auto":"auto (oletus)","properties.canvas.totalLabels.show":"näytä","properties.canvas.totalLabels.hide":"piilota","properties.canvas.dataPoints":"Data pisteet","properties.canvas.dataPoints.auto":"auto (oletus)","properties.canvas.dataPoints.show":"näytä","properties.canvas.dataPoints.hide":"piilota","properties.yaxis.title":"Y-akseli","properties.axis.labels":"tunnisteet","properties.axis.rotation":"Kierto","properties.axis.format":"Muoto","properties.axis.format.inherit":"peritty","properties.axis.format.info.inherit._measure":"Muoto periytyy visualisoinnin ensimmäisestä toimenpiteestä.","properties.axis.format.info.inherit._metric":"Muoto periytyy visualisoinnin ensimmäisestä mittarista.","properties.axis.name":"nimi","properties.axis.name.position":"Sijainti","properties.axis.name.position.left":"vasen","properties.axis.name.position.center":"keskellä","properties.axis.name.position.right":"oikea","properties.axis.name.position.top":"ylhäällä","properties.axis.name.position.middle":"keskellä","properties.axis.name.position.bottom":"alhaalla","properties.axis.min":"Min","properties.axis.min.warning":"Minimiarvo ei voi olla suurempi kuin maksimiarvo","properties.axis.max":"Maksimi","properties.axis.max.warning":"Maksimiarvo ei voi olla pienempi kuin minimiarvo","properties.xaxis.title":"X-akseli","properties.axis.scale":"asteikko","properties.axis.left":"Vasen","properties.axis.right":"Oikea","properties.axis.top":"Ylin","properties.axis.bottom":"Alin","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"ylhäällä","properties.legend.position.down":"Alin","properties.legend.position.right":"oikea","properties.legend.position.left":"vasen","properties.orientation.title":"Suunta","properties.orientation.horizontal":"Vaakasuora (oletus)","properties.orientation.vertical":"Pystysuora","properties.points.title":"Pisteet","properties.points.groupNearbyPoints":"Ryhmittele lähellä olevat pisteet","properties.points.size.title":"Pisteen koko","properties.points.size.extra_small":"0,5x","properties.points.size.small":"0,75x","properties.points.size.normal":"normaali","properties.points.size.large":"1,25x","properties.points.size.extra_large":"1,5x","properties.points.size.min.title":"Pienin","properties.points.size.max.title":"Suurin","properties.map.title":"Kartta","properties.viewport.area.title":"Oletusnäkymä","properties.viewport.area.auto_default":"Sisällytä kaikki tiedot","properties.viewport.area.continents":"maanosat","properties.viewport.area.continent_af":"Afrikka","properties.viewport.area.continent_as":"Aasia","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Eurooppa","properties.viewport.area.continent_na":"Amerikka (Pohjoinen)","properties.viewport.area.continent_sa":"Amerikka (Etelä)","properties.viewport.area.world":"Maailma","gs.color-dropdown.custom-color":"Mukautettu väri","properties.colors.reset-colors":"Nollaa värit","properties.colors":"Värit","properties.colors.unsupported":"Tälle visualisoinnin konfiguraatiolle ei ole värejä","export_unsupported.colors":"Visualisointi ei ole yhteensopiva mukautettujen värien kanssa. Avaa visualisointi raporttina napsauttamalla Reset Colors (Palauta värit) kohdassa Configuration (Kokoonpano) —> Colors (Värit).","dashboard.bucket.measures_title.bullet._measure":"Toimenpide","dashboard.bucket.measures_title.bullet._metric":"Metrinen","dashboard.bucket.secondary_measures_title.bullet._measure":"Toimenpide","dashboard.bucket.secondary_measures_title.bullet._metric":"Metrinen","dashboard.bucket.tertiary_measures_title.bullet._measure":"Toimenpide","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metrinen","dashboard.bucket.measures_subtitle.bullet":"Ensisijainen","dashboard.bucket.secondary_measures_subtitle.bullet":"Kohde","dashboard.bucket.tertiary_measures_subtitle.bullet":"Vertaileva","sorting.disabled.explanation.attribute":"Lajittelu ei ole mahdollista tässä visualisointikonfiguraatiossa.","sorting.disabled.explanation.measure._measure":"Sinun on lisättävä vähintään yksi attribuutti visualisoinnin lajittelemiseksi. Voit myös säätää Mitat-osiossa olevien kohteiden sijaintia muuttaaksesi niiden sijoittelua visualisoinnissa.","sorting.disabled.explanation.measure._metric":"Sinun on lisättävä vähintään yksi attribuutti visualisoinnin lajittelemiseksi. Voit myös säätää kohteiden sijaintia Mittaustiedot-osiossa muuttaaksesi niiden sijoittelua visualisoinnissa.","properties.metrics.title._measure":"Toimenpiteet","properties.metrics.title._metric":"Mittarit","properties.metrics.position":"Sijainti","properties.metrics.position.columns":"sarakkeet (oletus)","properties.metrics.position.rows":"rivit","properties.column.headers.title":"Sarakeotsikot","properties.column.headers.position":"Sijainti","properties.column.headers.position.top":"Ylin (oletus)","properties.column.headers.position.left":"vasen","dashboard.bucket.table.subtitle.columns":"sarakkeissa","dashboard.bucket.table.subtitle.rows":"riveissä","properties.interactions.title":"Vuorovaikutukset","properties.interactions.drillDown":"Poraa alas","properties.comparison.title":"Vertailu","properties.comparison.calculationType.title":"Laskett","properties.comparison.calculationType.as.change":"Muutos","properties.comparison.calculationType.as.ratio":"Suhde","properties.comparison.calculationType.as.difference":"Ero","properties.comparison.calculationType.as.changeDifference":"Muutos (ero)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Laskee ensisijaisen ja toissijaisen metriikan arvojen suhteellisen muutoksen.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Laskee ensisijaisen ja toissijaisen mittarin arvojen suhteellisen muutoksen.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Määrittää ensisijaisen metriikan arvon osuuden toissijaisesta metriikasta.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Määrittää ensisijaisen mittarin arvon osuuden toissijaisesta mittarista.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Laskee ensisijaisen ja toissijaisen metriikan arvojen absoluuttisen eron.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Laskee ensisijaisen ja toissijaisen mittarin arvojen absoluuttisen eron.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Laskee sekä ensisijaisen että toissijaisen metriikan arvojen suhteellisen muutoksen että absoluuttisen eron.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Laskee sekä ensisijaisen että toissijaisen mittarin arvojen suhteellisen muutoksen että absoluuttisen eron.","properties.comparison.calculationType.tooltip.formula.section":"Kaava","properties.comparison.calculationType.tooltip.formulaChange.section":"Kaava (suhteellinen muutos)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Kaava (absoluuttinen ero)","properties.comparison.calculationType.as.change.tooltip.formula":"(Ensisijainen - Toissijainen) / Toissijainen","properties.comparison.calculationType.as.ratio.tooltip.formula":"Ensisijainen / Toissijainen","properties.comparison.calculationType.as.difference.tooltip.formula":"Ensisijainen - Toissijainen","properties.comparison.calculationType.tooltip.example.section":"Esimerkki","properties.comparison.calculationType.as.change.tooltip.example":"Vuoden myyntimuutos = (tämän vuoden myynti - viime vuoden myynti) / viime vuoden myynti","properties.comparison.calculationType.as.ratio.tooltip.example":"Nykyinen myynti verrattuna kiintiöön = nykyinen myynti / kiintiö","properties.comparison.calculationType.as.difference.tooltip.example":"Vuoden myyntiero = tämän vuoden myynti - viime vuoden myynti","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Vuoden myyntimuutos = [(tämän vuoden myynti - viime vuoden myynti) / viime vuoden myynti] JA [tämän vuoden myynti - viime vuoden myynti]","properties.comparison.measureNumber.format.preset.inherit":"Peri","properties.comparison.measureNumber.format.preset.rounded":"Pyöristetty","properties.comparison.measureNumber.format.preset.decimal1":"Desimaali (1)","properties.comparison.measureNumber.format.preset.decimal2":"Desimaali (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Prosentti (pyöristetty)","properties.comparison.measureNumber.format.preset.percent1":"Prosentti (1)","properties.comparison.measureNumber.format.preset.percent2":"Prosentti (2)","properties.comparison.measureNumber.format.template.rounded":"Pyöristetty","properties.comparison.measureNumber.format.template.decimal1":"Desimaali (1)","properties.comparison.measureNumber.format.template.decimal2":"Desimaali (2)","properties.comparison.measureNumber.format.template.percentRounded":"Prosentti (pyöristetty)","properties.comparison.measureNumber.format.template.percent1":"Prosentti (1)","properties.comparison.measureNumber.format.template.percent2":"Prosentti (2)","properties.comparison.measureNumber.format.template.currency":"Valuutta","properties.comparison.measureNumber.format.template.currencyShortened":"Lyhennetty valuutta","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Lyhennetyt suuret numerot","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Värikoodatut lyhennetyt suuret numerot","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Negatiiviset numerot punaisella","properties.comparison.measureNumber.format.template.financial":"Taloudellinen","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Desimaali (2) ilman tuhaterotinta","properties.comparison.measureNumber.format.template.conditionalColors":"Ehdolliset värit","properties.comparison.measureNumber.format.template.trendSymbols":"Trendisymbolit","properties.comparison.measureNumber.format.template.timeFromSeconds":"Aika (sekunneista)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Nolla tyhjän arvon sijaan","properties.comparison.valueSubSection.title":"Arvo","properties.comparison.format.title":"Muoto","properties.comparison.subFormat.title":"(Muoto)","properties.comparison.indicator.title":"Indikaattori","properties.comparison.indicator.arrow.title":"Nuoli","properties.comparison.indicator.colorConfig.title":"Väri","properties.comparison.indicator.colorConfig.equals":"Ensisijainen = Toissijainen","properties.comparison.indicator.colorConfig.positive":"Ensisijainen > Toissijainen","properties.comparison.indicator.colorConfig.negative":"Ensisijainen < Toissijainen","properties.comparison.labelSubSection.title":"Tunniste","properties.comparison.labelSubSection.positionOnTop.disabled":"Tunnisteet eivät sovellu arvon sijainnille Ylin.","properties.comparison.labelSubSection.conditional.disabled":"Ehdolliset tunnisteet eivät sovellu suhdelaskelmiin.","properties.comparison.labelName.title":"Nimi","properties.comparison.labelConditional.title":"Ehdollinen","properties.comparison.labelPositive.title":"Ensisijainen > Toissijainen","properties.comparison.labelNegative.title":"Ensisijainen < Toissijainen","properties.comparison.labelEquals.title":"Ensisijainen = Toissijainen","properties.comparison.position.title":"Sijainti","properties.comparison.position.top":"ylhäällä","properties.comparison.position.right":"oikea","properties.comparison.position.left":"vasen","properties.forecastSliced.title":"Näytetään osittainen ennuste.","properties.forecastSliced.description":"Käytettävissä oleva tietopiste ei kata koko valittua ajanjaksoa.","dashboard.bucket.segment_title.scatter":"Segmentoi","properties.clustering.title":"Klusteri","properties.clustering.amount":"Summa","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Näytetään osittaiset klusterit","properties.clustering.amount.partial.description":"Käytettävissä olevat tietopisteet eivät kata koko valittua summaa.","properties.clustering.disabled":"Klusterointi vaatii 2 mittaria ja Näytä mennessä, ilman segmenttiä mennessä.","properties.clustering.threshold":"Kynnysarvo","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"Kynnysarvo määrittää, milloin tietoja ryhmitellään. <link>Lisätietoja</link>","visualizations.headline.tertiary.title":"Verrattuna","properties.interactions.alerts":"Hälytys","properties.interactions.alerts.tooltip":"Salli käyttäjien luoda ilmoituksia tälle visualisoinnille dashboardeilla.","properties.interactions.scheduledExports":"Aikataulutetut viennit","properties.interactions.scheduledExports.tooltip":"Salli käyttäjien luoda ajoitetut viennit tälle visualisoinnille dashboardeissa.","properties.advanced.title":"Edistyneet mukautukset","properties.advanced.chartConfigOverride.noValueLabel":"Ei vielä mukautuksia.","properties.advanced.chartConfigOverride.link":"Lue lisää","properties.advanced.chartConfigOverride.editorButton":"Avaa editori","properties.advanced.chartConfigOverride.title":"Edistynyt mukautus","properties.advanced.chartConfigOverride.snippets.header":"Katkelmat","properties.advanced.chartConfigOverride.button.apply":"Käytä","properties.advanced.chartConfigOverride.button.cancel":"Peruuta","gs.date.yesterday":"Eilen","notifications.panel.tab.unread":"Lukematon ({count})","notifications.panel.tab.all":"Kaikki","notifications.panel.markAllAsRead":"Merkitse kaikki luetuksi","notifications.panel.error.loading":"Virhe ilmoitusten lataamisessa","notifications.panel.empty.all":"Ei ilmoituksia","notifications.panel.empty.unread":"Ei lukemattomia ilmoituksia","notifications.panel.unsupported.notification.type":"Ilmoitustyyppiä ei tueta","notifications.panel.markAsRead":"Merkitse luetuksi","notifications.filters.buttonLabel":"{count, plural, one {# suodattaa} other {# suodattimet}}","notifications.filters.dialog.title":"Suodattimet","notifications.filters.dialog.dateRange":"Ajanjakso","notifications.panel.triggers.title":"kohteelle {triggeredCount}/{totalCount}items","notifications.panel.triggers.dialog.newValue":"Uusi arvo",close:"Sulje","notifications.panel.triggers.dialog.title":"Laukaistu kohteelle","notifications.panel.error.learnMore":"Lue lisää","notifications.panel.error.traceId":"Jäljitystunnus","notifications.panel.error.message":"Hälytystä ei voitu käsitellä.","notifications.panel.button.label":"Ilmoitukset","notifications.panel.notifications.list.label":"Ilmoitukset","notifications.panel.alert.notification.type.label":"Hälytysilmoitus","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…ja {count} lisää","notifications.panel.download":"Lataa","notifications.panel.expiresOn":"Vanhenee {date}","notifications.panel.linkHasExpired":"Linkki on vanhentunut","notifications.panel.toast.warning.filesExpired":"<strong>Latauslinkki vanhentunut</strong> — odota seuraavaa vientiä tai luo se manuaalisesti.","notifications.panel.dashboardLinkHint":"Avaa tähän vientiin käytetty dashboard","notifications.panel.dashboardLink":"Alkaen {dashboardTitle}","notifications.panel.downloadFilesHint":"Lataa viedyt tiedostot","notifications.panel.error.alert.title":"Hälytystä ei voitu käsitellä.","notifications.panel.error.schedule.title":"Ajoitettu vienti epäonnistui.","notifications.panel.error.limitExceeded.message":"Vientiäsi ei voitu lähettää, koska organisaatiosi on saavuttanut päivittäisten hälytysten ja ajoitettujen vientien enimmäismäärän rajan. Ota yhteyttä järjestelmänvalvojaan."},"zh-Hant":{or:"或者","dashboard.bucket.measures_title.column._measure":"措施","dashboard.bucket.measures_title.column._metric":"指標","dashboard.bucket.measures_title.bar._measure":"措施","dashboard.bucket.measures_title.bar._metric":"指標","dashboard.bucket.measures_title.line._measure":"措施","dashboard.bucket.measures_title.line._metric":"指標","dashboard.bucket.measures_title.area._measure":"措施","dashboard.bucket.measures_title.area._metric":"指標","dashboard.bucket.measures_title.pie._measure":"措施","dashboard.bucket.measures_title.pie._metric":"指標","dashboard.bucket.measures_title.funnel._measure":"措施","dashboard.bucket.measures_title.funnel._metric":"指標","dashboard.bucket.measures_title.pyramid._measure":"措施","dashboard.bucket.measures_title.pyramid._metric":"指標","dashboard.bucket.measures_title.treemap._measure":"措施","dashboard.bucket.measures_title.treemap._metric":"指標","dashboard.bucket.measures_title.donut._measure":"措施","dashboard.bucket.measures_title.donut._metric":"指標","dashboard.bucket.measures_title.heatmap._measure":"措施","dashboard.bucket.measures_title.heatmap._metric":"公制","dashboard.bucket.measures_title.headline._measure":"措施","dashboard.bucket.measures_title.headline._metric":"公制","dashboard.bucket.measures_subtitle.headline":"基本的","dashboard.bucket.secondary_measures_title.headline._measure":"措施","dashboard.bucket.secondary_measures_title.headline._metric":"公制","dashboard.bucket.secondary_measures_subtitle.headline":"中學","dashboard.bucket.measures_title.scatter._measure":"措施","dashboard.bucket.measures_title.scatter._metric":"公制","dashboard.bucket.secondary_measures_title.scatter._measure":"措施","dashboard.bucket.secondary_measures_title.scatter._metric":"公制","dashboard.bucket.measures_subtitle.scatter":"X軸","dashboard.bucket.secondary_measures_subtitle.scatter":"Y軸","dashboard.bucket.attribute_title.scatter":"查看方式","dashboard.bucket.measures_title.combo._measure":"措施","dashboard.bucket.measures_title.combo._metric":"指標","dashboard.bucket.measures_subtitle.combo":"柱子","dashboard.bucket.secondary_measures_title.combo._measure":"措施","dashboard.bucket.secondary_measures_title.combo._metric":"指標","dashboard.bucket.secondary_measures_subtitle.combo":"線","dashboard.bucket.measures_title.xirr._measure":"措施","dashboard.bucket.measures_title.xirr._metric":"公制","dashboard.bucket.measures_title.waterfall._measure":"措施","dashboard.bucket.measures_title.waterfall._metric":"指標","dashboard.bucket.attribute_title.xirr":"日期屬性","dashboard.bucket.attribute_from_title.sankey":"屬性","dashboard.bucket.attribute_from_subtitle.sankey":"從","dashboard.bucket.attribute_to_title.sankey":"屬性","dashboard.bucket.attribute_to_subtitle.sankey":"到","dashboard.bucket.attribute_from_title.dependencywheel":"屬性","dashboard.bucket.attribute_from_subtitle.dependencywheel":"從","dashboard.bucket.attribute_to_title.dependencywheel":"屬性","dashboard.bucket.attribute_to_subtitle.dependencywheel":"到","dashboard.bucket.combo.subtitle.column":"作為列","dashboard.bucket.combo.subtitle.line":"作為線條","dashboard.bucket.combo.subtitle.area":"作為區域","dashboard.bucket.measures_title.bubble._measure":"措施","dashboard.bucket.measures_title.bubble._metric":"公制","dashboard.bucket.secondary_measures_title.bubble._measure":"措施","dashboard.bucket.secondary_measures_title.bubble._metric":"公制","dashboard.bucket.tertiary_measures_title.bubble._measure":"措施","dashboard.bucket.tertiary_measures_title.bubble._metric":"公制","dashboard.bucket.measures_subtitle.bubble":"X軸","dashboard.bucket.secondary_measures_subtitle.bubble":"Y軸","dashboard.bucket.tertiary_measures_subtitle.bubble":"尺寸","dashboard.bucket.location_title.pushpin":"地點","dashboard.bucket.size_title.pushpin._measure":"措施","dashboard.bucket.size_title.pushpin._metric":"公制","dashboard.bucket.size_subtitle.pushpin":"尺寸","dashboard.bucket.color_title.pushpin._measure":"措施","dashboard.bucket.color_title.pushpin._metric":"公制","dashboard.bucket.color_subtitle.pushpin":"顏色","dashboard.bucket.view_title.bubble":"查看方式","dashboard.bucket.view_title.pie":"查看方式","dashboard.bucket.view_title.treemap":"查看方式","dashboard.bucket.view_title.donut":"查看方式","dashboard.bucket.view_title.funnel":"查看方式","dashboard.bucket.view_title.pyramid":"查看方式","dashboard.bucket.view_title.column":"查看方式","dashboard.bucket.view_title.bar":"查看方式","dashboard.bucket.view_title.area":"查看方式","dashboard.bucket.view_title.bullet":"查看方式","dashboard.bucket.view_title.waterfall":"查看方式","dashboard.bucket.view_title.heatmap":"列","dashboard.bucket.trend_title.line":"趨勢依據","dashboard.bucket.view_title.combo":"查看方式","dashboard.bucket.stack_title.column":"堆疊依據","dashboard.bucket.stack_title.bar":"堆疊依據","dashboard.bucket.stack_title.area":"堆疊依據","dashboard.bucket.stack_title.heatmap":"列","dashboard.bucket.segment_title.line":"細分依據","dashboard.bucket.segment_title.treemap":"細分依據","dashboard.bucket.segment_title.pushpin":"細分依據","dashboard.bucket.metric_segment_by_warning._measure":"若要新增附加措施，請刪除{icons} 來自 '<span class=\"stack-by\">'分段依據'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"若要新增其他指標，請刪除{icons} 來自 '<span class=\"stack-by\">'分段依據'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"若要新增附加措施，請刪除{icons} 來自 '<span class=\"stack-by\">'堆疊依據'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"若要新增其他指標，請刪除{icons} 來自 '<span class=\"stack-by\">'堆疊'</span>'","dashboard.bucket.metric_view_by_warning._measure":"若要新增附加措施，請刪除{icons} 來自 '<span class=\"stack-by\">'查看者'</span>'","dashboard.bucket.metric_view_by_warning._metric":"若要新增其他指標，請刪除{icons} 來自 '<span class=\"stack-by\">'查看者'</span>'","dashboard.bucket.category_view_by_warning._measure":"要按另一個屬性查看，可視化只能有一個度量","dashboard.bucket.category_view_by_warning._metric":"要按另一個屬性查看，可視化只能有一個指標","dashboard.bucket.view_stack_by_warning":"若要新增附加屬性，請刪除{icons} 來自 '<span class=\"stack-by\">'堆疊依據'</span>'","dashboard.bucket.category_stack_by_warning._measure":"為了堆疊，可視化只能有一個度量","dashboard.bucket.category_stack_by_warning._metric":"作為堆疊依據，可視化只能有一個指標","dashboard.bucket.stack_view_by_warning":"要堆疊依據，視覺化只能在視圖中包含一個屬性","dashboard.bucket.measure_stack_by_warning._measure":"若要依屬性堆疊，可視化只能有一個度量","dashboard.bucket.measure_stack_by_warning._metric":"若要依屬性堆疊，可視化只能有一個指標","dashboard.bucket.category_columns_warning._measure":"無法新增列：限制為{oldLimit} 措施和{oldRowsLimit} 行。遵循限制添加更多","dashboard.bucket.category_columns_warning._metric":"無法新增列：限制為{oldLimit} 指標和{oldRowsLimit} 行。遵循限制添加更多","dashboard.bucket.category_measures_rows_warning":"總計為{limit} 更多，從列部分刪除所有項目","dashboard.bucket.category_category_by_warning._measure":"要查看依據，可視化只能有一個度量","dashboard.bucket.category_category_by_warning._metric":"查看依據，可視化只能有一個指標","dashboard.bucket.category_segment_by_warning._measure":"要進行分段，可視化只能有一個度量","dashboard.bucket.category_segment_by_warning._metric":"要進行分段，視覺化只能有一個指標","dashboard.bucket.measures_title.table._measure":"措施","dashboard.bucket.measures_title.table._metric":"指標","dashboard.bucket.measures_title.sankey._measure":"措施","dashboard.bucket.measures_title.sankey._metric":"公制","dashboard.bucket.measures_title.dependencywheel._measure":"措施","dashboard.bucket.measures_title.dependencywheel._metric":"公制","dashboard.bucket.attribute_title.table":"列","dashboard.bucket.columns_title.table":"列","dashboard.bucket.attribute_title.repeater":"列","dashboard.bucket.view_title.repeater":"查看方式","dashboard.bucket.columns_title.repeater":"列","dashboard.error.missing_primary_bucket_item.heading._measure":"可視化中沒有主要衡量標準","dashboard.error.missing_primary_bucket_item.heading._metric":"可視化中沒有主要指標","dashboard.error.missing_primary_bucket_item.text._measure":"在您的見解中加入主要衡量標準，或切換到表格。\n完成後，您就可以儲存它。","dashboard.error.missing_primary_bucket_item.text._metric":"將主要指標新增至您的見解中，或切換到表格視圖。\n完成後，您就可以儲存它。","dashboard.xirr.error.invalid_buckets.heading":"配置不完整","dashboard.xirr.error.invalid_buckets.text._measure":"確保您選擇了一項度量和一項日期屬性","dashboard.xirr.error.invalid_buckets.text._metric":"確保您選擇了一項指標和一項日期屬性","properties.unsupported":"此視覺化不支援配置","properties.config.not_applicable":"配置面板不適用於此視覺化配置","properties.not_applicable":"屬性不適用於此視覺化配置","properties.auto_placeholder":"汽車","properties.auto_default":"自動（預設）","properties.legend.title":"傳奇","properties.legend.position":"位置","properties.total.title":"全部的","properties.total.name":"姓名","properties.total.tooltip":"將所有值的總和加為末尾的一列。","properties.total.measures.tooltip":"停用指標中的「總計」選項，以將所有值的總和新增為末尾的欄位。","properties.color.total":"全部的","properties.color.positive":"積極的","properties.color.negative":"消極的","properties.canvas.title":"帆布","properties.canvas.gridline":"網格線","properties.canvas.labels.percentages":"百分比","properties.canvas.labels.percentages.info":"顯示每個切片的百分比，最上方的切片為 100%，其他切片為該值的分數。","properties.canvas.labels.percentages.disabled":"由於隱藏的資料標籤，百分比被隱藏。","properties.canvas.continuousLine.label":"連續線","properties.canvas.continuousLine.tooltip":"在缺失值的點之間畫一條線。","properties.canvas.dataLabels":"數據標籤","properties.canvas.dataLabels.auto":"自動（預設）","properties.canvas.dataLabels.show":"展示","properties.canvas.dataLabels.hide":"隱藏","properties.canvas.rowHeight":"行高","properties.canvas.rowHeight.small":"小的","properties.canvas.rowHeight.medium":"中等的","properties.canvas.rowHeight.large":"大的","properties.canvas.verticalAlign":"垂直對齊","properties.canvas.verticalAlign.top":"頂部","properties.canvas.verticalAlign.middle":"中間","properties.canvas.verticalAlign.bottom":"底部","properties.canvas.textWrapping":"文字換行","properties.canvas.textWrapping.clip":"夾子","properties.canvas.textWrapping.wrap":"裹","properties.canvas.image":"影像","properties.canvas.image.fit":"合身","properties.canvas.image.fill":"充滿","properties.forecast.title":"預報","properties.forecastDisabled.title":"此儲存桶組合無法進行預測","properties.forecastPeriod.title":"時期","properties.forecastPeriod.placeholder":"時期","properties.forecastSeasonal.title":"季節性","properties.forecastConfidence.title":"信心","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"標籤總數","properties.canvas.totalLabels.auto":"自動（預設）","properties.canvas.totalLabels.show":"展示","properties.canvas.totalLabels.hide":"隱藏","properties.canvas.dataPoints":"數據點","properties.canvas.dataPoints.auto":"自動（預設）","properties.canvas.dataPoints.show":"展示","properties.canvas.dataPoints.hide":"隱藏","properties.yaxis.title":"Y軸","properties.axis.labels":"標籤","properties.axis.rotation":"迴轉","properties.axis.format":"格式","properties.axis.format.inherit":"繼承","properties.axis.format.info.inherit._measure":"該格式繼承自視覺化中的第一個度量。","properties.axis.format.info.inherit._metric":"此格式繼承自視覺化中的第一個指標。","properties.axis.name":"姓名","properties.axis.name.position":"位置","properties.axis.name.position.left":"左邊","properties.axis.name.position.center":"中心","properties.axis.name.position.right":"正確的","properties.axis.name.position.top":"頂部","properties.axis.name.position.middle":"中間","properties.axis.name.position.bottom":"底部","properties.axis.min":"最小","properties.axis.min.warning":"最小值不能大於最大值","properties.axis.max":"最大限度","properties.axis.max.warning":"最大值不能小於最小值","properties.xaxis.title":"X軸","properties.axis.scale":"規模","properties.axis.left":"左邊","properties.axis.right":"正確的","properties.axis.top":"頂部","properties.axis.bottom":"底部","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"頂部","properties.legend.position.down":"底部","properties.legend.position.right":"正確的","properties.legend.position.left":"左邊","properties.orientation.title":"方向","properties.orientation.horizontal":"水平（預設）","properties.orientation.vertical":"垂直的","properties.points.title":"積分","properties.points.groupNearbyPoints":"將附近點進行分組","properties.points.size.title":"點大小","properties.points.size.extra_small":"0.5倍","properties.points.size.small":"0.75倍","properties.points.size.normal":"普通的","properties.points.size.large":"1.25倍","properties.points.size.extra_large":"1.5倍","properties.points.size.min.title":"最小","properties.points.size.max.title":"最大","properties.map.title":"地圖","properties.viewport.area.title":"預設視口","properties.viewport.area.auto_default":"包括所有數據","properties.viewport.area.continents":"各大洲","properties.viewport.area.continent_af":"非洲","properties.viewport.area.continent_as":"亞洲","properties.viewport.area.continent_au":"澳洲","properties.viewport.area.continent_eu":"歐洲","properties.viewport.area.continent_na":"美洲（北）","properties.viewport.area.continent_sa":"美洲（南）","properties.viewport.area.world":"世界","gs.color-dropdown.custom-color":"客製化顏色","properties.colors.reset-colors":"重置顏色","properties.colors":"顏色","properties.colors.unsupported":"此視覺化配置沒有顏色","export_unsupported.colors":"可視化與自訂顏色不相容。若要將視覺化作為報表開啟，請按一下「配置」->「顏色」中的「重設顏色」。","dashboard.bucket.measures_title.bullet._measure":"措施","dashboard.bucket.measures_title.bullet._metric":"公制","dashboard.bucket.secondary_measures_title.bullet._measure":"措施","dashboard.bucket.secondary_measures_title.bullet._metric":"公制","dashboard.bucket.tertiary_measures_title.bullet._measure":"措施","dashboard.bucket.tertiary_measures_title.bullet._metric":"公制","dashboard.bucket.measures_subtitle.bullet":"基本的","dashboard.bucket.secondary_measures_subtitle.bullet":"目標","dashboard.bucket.tertiary_measures_subtitle.bullet":"比較","sorting.disabled.explanation.attribute":"此視覺化配置無法進行排序。","sorting.disabled.explanation.measure._measure":"您必須至少新增一個屬性才能對視覺化進行排序。您也可以調整「度量」部分中項目的位置，以變更它們在視覺化中的位置。","sorting.disabled.explanation.measure._metric":"您必須至少新增一個屬性才能對視覺化進行排序。您也可以調整「指標」部分中項目的位置，以變更它們在視覺化中的位置。","properties.metrics.title._measure":"措施","properties.metrics.title._metric":"指標","properties.metrics.position":"位置","properties.metrics.position.columns":"列（預設）","properties.metrics.position.rows":"列","properties.column.headers.title":"列標題","properties.column.headers.position":"位置","properties.column.headers.position.top":"頂部（預設）","properties.column.headers.position.left":"左邊","dashboard.bucket.table.subtitle.columns":"在列中","dashboard.bucket.table.subtitle.rows":"成行","properties.interactions.title":"互動","properties.interactions.drillDown":"向下鑽取","properties.comparison.title":"比較","properties.comparison.calculationType.title":"計算為","properties.comparison.calculationType.as.change":"改變","properties.comparison.calculationType.as.ratio":"比率","properties.comparison.calculationType.as.difference":"不同之處","properties.comparison.calculationType.as.changeDifference":"變化（差異）","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"計算主要指標值和次要指標值之間的相對變化。","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"計算主要測量值和次要測量值之間的相對變化。","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"量化主要指標值在輔助指標值中所佔的份額。","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"量化主要度量值在次要度量值中所佔的份額。","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"計算主要指標值和次要指標值之間的絕對差。","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"計算主要測量值和次要測量值之間的絕對差。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"計算主要指標值和次要指標值之間的相對變化和絕對差。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"計算主要測量值和次要測量值之間的相對變化和絕對差異。","properties.comparison.calculationType.tooltip.formula.section":"公式","properties.comparison.calculationType.tooltip.formulaChange.section":"公式（相對變化）","properties.comparison.calculationType.tooltip.formulaDifference.section":"公式（絕對差）","properties.comparison.calculationType.as.change.tooltip.formula":"(小學 - 中學) / 中學","properties.comparison.calculationType.as.ratio.tooltip.formula":"小學/中學","properties.comparison.calculationType.as.difference.tooltip.formula":"小學 - 中學","properties.comparison.calculationType.tooltip.example.section":"例子","properties.comparison.calculationType.as.change.tooltip.example":"銷售額較去年同期變動 =（本年銷售額 - 上年度銷售額） / 上年度銷售額","properties.comparison.calculationType.as.ratio.tooltip.example":"當前銷售額與配額的比較 = 當前銷售額 / 配額","properties.comparison.calculationType.as.difference.tooltip.example":"年比銷售額差異=本年銷售額-上年度銷售額","properties.comparison.calculationType.as.changeDifference.tooltip.example":"銷售額較去年同期變動=[(本年銷售額-上年度銷售額)/上年度銷售額]AND[本年銷售額-上年度銷售額]","properties.comparison.measureNumber.format.preset.inherit":"繼承","properties.comparison.measureNumber.format.preset.rounded":"圓形","properties.comparison.measureNumber.format.preset.decimal1":"十進制 (1)","properties.comparison.measureNumber.format.preset.decimal2":"十進制 (2)","properties.comparison.measureNumber.format.preset.percentRounded":"百分比（四捨五入）","properties.comparison.measureNumber.format.preset.percent1":"百分比 (1)","properties.comparison.measureNumber.format.preset.percent2":"百分比 (2)","properties.comparison.measureNumber.format.template.rounded":"圓形","properties.comparison.measureNumber.format.template.decimal1":"十進制 (1)","properties.comparison.measureNumber.format.template.decimal2":"十進制 (2)","properties.comparison.measureNumber.format.template.percentRounded":"百分比（四捨五入）","properties.comparison.measureNumber.format.template.percent1":"百分比 (1)","properties.comparison.measureNumber.format.template.percent2":"百分比 (2)","properties.comparison.measureNumber.format.template.currency":"貨幣","properties.comparison.measureNumber.format.template.currencyShortened":"貨幣縮短","properties.comparison.measureNumber.format.template.largeNumbersShortened":"大量縮短","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"大數字用顏色縮短","properties.comparison.measureNumber.format.template.negativeNumbersRed":"紅色為負數","properties.comparison.measureNumber.format.template.financial":"金融的","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"不帶千位分隔符號的十進位 (2)","properties.comparison.measureNumber.format.template.conditionalColors":"條件顏色","properties.comparison.measureNumber.format.template.trendSymbols":"趨勢符號","properties.comparison.measureNumber.format.template.timeFromSeconds":"時間（從秒開始）","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"零代替空白值","properties.comparison.valueSubSection.title":"價值","properties.comparison.format.title":"格式","properties.comparison.subFormat.title":"（格式）","properties.comparison.indicator.title":"指標","properties.comparison.indicator.arrow.title":"箭","properties.comparison.indicator.colorConfig.title":"顏色","properties.comparison.indicator.colorConfig.equals":"主要 = 次要","properties.comparison.indicator.colorConfig.positive":"小學 > 中學","properties.comparison.indicator.colorConfig.negative":"小學 < 中學","properties.comparison.labelSubSection.title":"標籤","properties.comparison.labelSubSection.positionOnTop.disabled":"標籤不適用於值位置頂部。","properties.comparison.labelSubSection.conditional.disabled":"條件標籤不適用於比率計算。","properties.comparison.labelName.title":"姓名","properties.comparison.labelConditional.title":"有條件的","properties.comparison.labelPositive.title":"小學 > 中學","properties.comparison.labelNegative.title":"小學 < 中學","properties.comparison.labelEquals.title":"主要 = 次要","properties.comparison.position.title":"位置","properties.comparison.position.top":"頂部","properties.comparison.position.right":"正確的","properties.comparison.position.left":"左邊","properties.forecastSliced.title":"顯示部分預測。","properties.forecastSliced.description":"可用資料點不涵蓋整個選定期間。","dashboard.bucket.segment_title.scatter":"細分依據","properties.clustering.title":"簇","properties.clustering.amount":"數量","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"顯示部分集群","properties.clustering.amount.partial.description":"可用資料點不涵蓋整個選定的數量。","properties.clustering.disabled":"聚類需要 2 個 Metrics 和 View by，不需要 Segment by。","properties.clustering.threshold":"臨界點","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"閾值是確定何時對資料進行分組的限制。<link>了解更多</link>","visualizations.headline.tertiary.title":"相對","properties.interactions.alerts":"警報","properties.interactions.alerts.tooltip":"使用戶能夠在儀表板上為此視覺化建立警報。","properties.interactions.scheduledExports":"預定出口","properties.interactions.scheduledExports.tooltip":"使用戶能夠在儀表板上為此視覺化建立計劃匯出。","properties.advanced.title":"高級訂製","properties.advanced.chartConfigOverride.noValueLabel":"還沒有訂製。","properties.advanced.chartConfigOverride.link":"了解更多","properties.advanced.chartConfigOverride.editorButton":"開啟編輯器","properties.advanced.chartConfigOverride.title":"高級訂製","properties.advanced.chartConfigOverride.snippets.header":"片段","properties.advanced.chartConfigOverride.button.apply":"申請","properties.advanced.chartConfigOverride.button.cancel":"取消","gs.date.yesterday":"昨天","notifications.panel.tab.unread":"未讀（{count}）","notifications.panel.tab.all":"全部","notifications.panel.markAllAsRead":"全部標記為已讀","notifications.panel.error.loading":"載入通知時出錯","notifications.panel.empty.all":"沒有通知","notifications.panel.empty.unread":"沒有未讀通知","notifications.panel.unsupported.notification.type":"不支援的通知類型","notifications.panel.markAsRead":"標記為已讀","notifications.filters.buttonLabel":"{count, plural, one {＃ 篩選} other {# 過濾器}}","notifications.filters.dialog.title":"過濾器","notifications.filters.dialog.dateRange":"日期範圍","notifications.panel.triggers.title":"適用於 {triggeredCount}/{totalCount} 個項目","notifications.panel.triggers.dialog.newValue":"新值",close:"關閉","notifications.panel.triggers.dialog.title":"觸發原因","notifications.panel.error.learnMore":"了解更多","notifications.panel.error.traceId":"追蹤 ID","notifications.panel.error.message":"無法處理警報。","notifications.panel.button.label":"通知","notifications.panel.notifications.list.label":"通知","notifications.panel.alert.notification.type.label":"警報通知","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…和{count} 更多的","notifications.panel.download":"下載","notifications.panel.expiresOn":"到期日期{date}","notifications.panel.linkHasExpired":"連結已過期","notifications.panel.toast.warning.filesExpired":"<strong>下載連結已過期</strong> — 等待下一次匯出或手動建立。","notifications.panel.dashboardLinkHint":"開啟用於此匯出的儀表板","notifications.panel.dashboardLink":"從{dashboardTitle}","notifications.panel.downloadFilesHint":"下載匯出的文件","notifications.panel.error.alert.title":"無法處理警報。","notifications.panel.error.schedule.title":"預定的匯出失敗。","notifications.panel.error.limitExceeded.message":"您的匯出文件無法發送，因為您的組織已達到每日警報和計劃導出的最大數量限制。請聯絡您的管理員。"},"zh-HK":{or:"或","dashboard.bucket.measures_title.column._measure":"措施","dashboard.bucket.measures_title.column._metric":"指標","dashboard.bucket.measures_title.bar._measure":"措施","dashboard.bucket.measures_title.bar._metric":"指標","dashboard.bucket.measures_title.line._measure":"措施","dashboard.bucket.measures_title.line._metric":"指標","dashboard.bucket.measures_title.area._measure":"措施","dashboard.bucket.measures_title.area._metric":"指標","dashboard.bucket.measures_title.pie._measure":"措施","dashboard.bucket.measures_title.pie._metric":"指標","dashboard.bucket.measures_title.funnel._measure":"措施","dashboard.bucket.measures_title.funnel._metric":"指標","dashboard.bucket.measures_title.pyramid._measure":"措施","dashboard.bucket.measures_title.pyramid._metric":"指標","dashboard.bucket.measures_title.treemap._measure":"措施","dashboard.bucket.measures_title.treemap._metric":"指標","dashboard.bucket.measures_title.donut._measure":"措施","dashboard.bucket.measures_title.donut._metric":"指標","dashboard.bucket.measures_title.heatmap._measure":"量","dashboard.bucket.measures_title.heatmap._metric":"度量","dashboard.bucket.measures_title.headline._measure":"量","dashboard.bucket.measures_title.headline._metric":"度量","dashboard.bucket.measures_subtitle.headline":"主要","dashboard.bucket.secondary_measures_title.headline._measure":"量","dashboard.bucket.secondary_measures_title.headline._metric":"度量","dashboard.bucket.secondary_measures_subtitle.headline":"二次","dashboard.bucket.measures_title.scatter._measure":"量","dashboard.bucket.measures_title.scatter._metric":"度量","dashboard.bucket.secondary_measures_title.scatter._measure":"量","dashboard.bucket.secondary_measures_title.scatter._metric":"度量","dashboard.bucket.measures_subtitle.scatter":"X軸","dashboard.bucket.secondary_measures_subtitle.scatter":"Y軸","dashboard.bucket.attribute_title.scatter":"查看方式","dashboard.bucket.measures_title.combo._measure":"措施","dashboard.bucket.measures_title.combo._metric":"指標","dashboard.bucket.measures_subtitle.combo":"列","dashboard.bucket.secondary_measures_title.combo._measure":"措施","dashboard.bucket.secondary_measures_title.combo._metric":"指標","dashboard.bucket.secondary_measures_subtitle.combo":"線","dashboard.bucket.measures_title.xirr._measure":"量","dashboard.bucket.measures_title.xirr._metric":"度量","dashboard.bucket.measures_title.waterfall._measure":"措施","dashboard.bucket.measures_title.waterfall._metric":"指標","dashboard.bucket.attribute_title.xirr":"Date屬性","dashboard.bucket.attribute_from_title.sankey":"屬性","dashboard.bucket.attribute_from_subtitle.sankey":"從","dashboard.bucket.attribute_to_title.sankey":"屬性","dashboard.bucket.attribute_to_subtitle.sankey":"自","dashboard.bucket.attribute_from_title.dependencywheel":"屬性","dashboard.bucket.attribute_from_subtitle.dependencywheel":"從","dashboard.bucket.attribute_to_title.dependencywheel":"屬性","dashboard.bucket.attribute_to_subtitle.dependencywheel":"自","dashboard.bucket.combo.subtitle.column":"作為列","dashboard.bucket.combo.subtitle.line":"作為綫","dashboard.bucket.combo.subtitle.area":"作為區域","dashboard.bucket.measures_title.bubble._measure":"量","dashboard.bucket.measures_title.bubble._metric":"度量","dashboard.bucket.secondary_measures_title.bubble._measure":"量","dashboard.bucket.secondary_measures_title.bubble._metric":"度量","dashboard.bucket.tertiary_measures_title.bubble._measure":"量","dashboard.bucket.tertiary_measures_title.bubble._metric":"度量","dashboard.bucket.measures_subtitle.bubble":"X軸","dashboard.bucket.secondary_measures_subtitle.bubble":"Y軸","dashboard.bucket.tertiary_measures_subtitle.bubble":"大小","dashboard.bucket.location_title.pushpin":"位置","dashboard.bucket.size_title.pushpin._measure":"量","dashboard.bucket.size_title.pushpin._metric":"度量","dashboard.bucket.size_subtitle.pushpin":"大小","dashboard.bucket.color_title.pushpin._measure":"量","dashboard.bucket.color_title.pushpin._metric":"度量","dashboard.bucket.color_subtitle.pushpin":"顏色","dashboard.bucket.view_title.bubble":"查看方式","dashboard.bucket.view_title.pie":"查看方式","dashboard.bucket.view_title.treemap":"查看方式","dashboard.bucket.view_title.donut":"查看方式","dashboard.bucket.view_title.funnel":"查看方式","dashboard.bucket.view_title.pyramid":"查看方式","dashboard.bucket.view_title.column":"查看方式","dashboard.bucket.view_title.bar":"查看方式","dashboard.bucket.view_title.area":"查看方式","dashboard.bucket.view_title.bullet":"查看方式","dashboard.bucket.view_title.waterfall":"查看方式","dashboard.bucket.view_title.heatmap":"行","dashboard.bucket.trend_title.line":"趨勢依據","dashboard.bucket.view_title.combo":"查看方式","dashboard.bucket.stack_title.column":"堆疊依據","dashboard.bucket.stack_title.bar":"堆疊依據","dashboard.bucket.stack_title.area":"堆疊依據","dashboard.bucket.stack_title.heatmap":"列","dashboard.bucket.segment_title.line":"細分依據","dashboard.bucket.segment_title.treemap":"細分依據","dashboard.bucket.segment_title.pushpin":"細分依據","dashboard.bucket.metric_segment_by_warning._measure":"若要新增附加措施，請刪除{icons} 來自 '<span class=\"stack-by\">'分段依據'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"若要新增其他指標，請刪除{icons} 來自 '<span class=\"stack-by\">'分段依據'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"若要新增附加措施，請刪除{icons} 來自 '<span class=\"stack-by\">'堆疊依據'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"若要新增其他指標，請刪除{icons} 來自 '<span class=\"stack-by\">'堆疊'</span>'","dashboard.bucket.metric_view_by_warning._measure":"若要新增附加措施，請刪除{icons} 來自 '<span class=\"stack-by\">'查看者'</span>'","dashboard.bucket.metric_view_by_warning._metric":"若要新增其他指標，請刪除{icons} 來自 '<span class=\"stack-by\">'查看者'</span>'","dashboard.bucket.category_view_by_warning._measure":"要按另一個屬性查看，可視化只能有一個度量","dashboard.bucket.category_view_by_warning._metric":"要按另一個屬性查看，可視化只能有一個指標","dashboard.bucket.view_stack_by_warning":"若要新增附加屬性，請刪除{icons} 來自 '<span class=\"stack-by\">'堆疊依據'</span>'","dashboard.bucket.category_stack_by_warning._measure":"為咗堆疊，可視化效果只能有一個度量","dashboard.bucket.category_stack_by_warning._metric":"為咗進行堆疊，可視化效果只能有一個指標","dashboard.bucket.stack_view_by_warning":"為咗堆疊，可視化效果只能有一個屬性喺視圖中","dashboard.bucket.measure_stack_by_warning._measure":"要按屬性堆疊，可視化效果只能有一個度量","dashboard.bucket.measure_stack_by_warning._metric":"要按屬性堆疊，可視化效果只能有一個度量","dashboard.bucket.category_columns_warning._measure":"無法添加列：限制為{oldLimit}度量值和{oldRowsLimit}行。 按照限制添加更多","dashboard.bucket.category_columns_warning._metric":"無法添加列：限制為{oldLimit}指標和{oldRowsLimit}行。 按照限制添加更多","dashboard.bucket.category_measures_rows_warning":"要添加更多{limit}內容，請由列部分中刪除所有項目","dashboard.bucket.category_category_by_warning._measure":"要查看，可視化效果只能有一個度量值","dashboard.bucket.category_category_by_warning._metric":"要查看，可視化效果只能有一個指標","dashboard.bucket.category_segment_by_warning._measure":"為咗進行分段，可視化效果只能有一個度量","dashboard.bucket.category_segment_by_warning._metric":"為咗進行細分，可視化效果只能有一個指標","dashboard.bucket.measures_title.table._measure":"措施","dashboard.bucket.measures_title.table._metric":"指標","dashboard.bucket.measures_title.sankey._measure":"量","dashboard.bucket.measures_title.sankey._metric":"度量","dashboard.bucket.measures_title.dependencywheel._measure":"量","dashboard.bucket.measures_title.dependencywheel._metric":"度量","dashboard.bucket.attribute_title.table":"行","dashboard.bucket.columns_title.table":"列","dashboard.bucket.attribute_title.repeater":"行","dashboard.bucket.view_title.repeater":"查看方式","dashboard.bucket.columns_title.repeater":"列","dashboard.error.missing_primary_bucket_item.heading._measure":"可視化效果中冇主要度量","dashboard.error.missing_primary_bucket_item.heading._metric":"可視化效果中冇主要指標","dashboard.error.missing_primary_bucket_item.text._measure":"將主要度量添加到可視化效果，或切換到表。\n完成後，您將能夠保存它。","dashboard.error.missing_primary_bucket_item.text._metric":"將主要量度添加到可視化效果，或切換到表。\n完成後，您將能夠保存它。","dashboard.xirr.error.invalid_buckets.heading":"配置唔完整","dashboard.xirr.error.invalid_buckets.text._measure":"確保您已選擇一個度量和一個日期屬性","dashboard.xirr.error.invalid_buckets.text._metric":"確保您已選擇一個指標和一個日期屬性","properties.unsupported":"此可視化效果唔撐配置","properties.config.not_applicable":"配置面板不適用於可視化嘅此配置","properties.not_applicable":"屬性不適用於可視化嘅此配置","properties.auto_placeholder":"自動","properties.auto_default":"自動（默認）","properties.legend.title":"傳說","properties.legend.position":"位置","properties.total.title":"總","properties.total.name":"名字","properties.total.tooltip":"把所有值嘅總和作為末尾嘅一列相加。","properties.total.measures.tooltip":"在度量中禁用“係總計”選項，以把所有值嘅總和作為末尾嘅一列相加。","properties.color.total":"總","properties.color.positive":"陽性","properties.color.negative":"陰性","properties.canvas.title":"帆布","properties.canvas.gridline":"網格線","properties.canvas.labels.percentages":"百分比","properties.canvas.labels.percentages.info":"在每個切片上顯示百分比，最頂部的切片為100%，其他切片為該值的分數。","properties.canvas.labels.percentages.disabled":"由於隱藏了數據標籤，百分比被隱藏了。","properties.canvas.continuousLine.label":"連續線","properties.canvas.continuousLine.tooltip":"喺具有缺失值嘅啲之間畫一條綫。","properties.canvas.dataLabels":"數據標籤","properties.canvas.dataLabels.auto":"自動（默認）","properties.canvas.dataLabels.show":"顯示","properties.canvas.dataLabels.hide":"屈","properties.canvas.rowHeight":"行高","properties.canvas.rowHeight.small":"小","properties.canvas.rowHeight.medium":"中等","properties.canvas.rowHeight.large":"大","properties.canvas.verticalAlign":"垂直對正","properties.canvas.verticalAlign.top":"返回頁首","properties.canvas.verticalAlign.middle":"中間","properties.canvas.verticalAlign.bottom":"底","properties.canvas.textWrapping":"文本換行","properties.canvas.textWrapping.clip":"夾","properties.canvas.textWrapping.wrap":"包裝","properties.canvas.image":"圖像","properties.canvas.image.fit":"適合","properties.canvas.image.fill":"填補","properties.forecast.title":"預測","properties.forecastDisabled.title":"預測不適用於此存儲桶組合","properties.forecastPeriod.title":"時期","properties.forecastPeriod.placeholder":"時期","properties.forecastSeasonal.title":"季節性","properties.forecastConfidence.title":"信心","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"標籤總數","properties.canvas.totalLabels.auto":"自動（默認）","properties.canvas.totalLabels.show":"顯示","properties.canvas.totalLabels.hide":"屈","properties.canvas.dataPoints":"數據點","properties.canvas.dataPoints.auto":"自動（默認）","properties.canvas.dataPoints.show":"顯示","properties.canvas.dataPoints.hide":"屈","properties.yaxis.title":"Y軸","properties.axis.labels":"標籤","properties.axis.rotation":"旋轉","properties.axis.format":"格式","properties.axis.format.inherit":"繼承","properties.axis.format.info.inherit._measure":"該格式繼承自可視化效果中嘅第一個度量。","properties.axis.format.info.inherit._metric":"該格式繼承自可視化效果中嘅第一個指標。","properties.axis.name":"名字","properties.axis.name.position":"位置","properties.axis.name.position.left":"左","properties.axis.name.position.center":"中心","properties.axis.name.position.right":"右 ","properties.axis.name.position.top":"返回頁首","properties.axis.name.position.middle":"中間","properties.axis.name.position.bottom":"底","properties.axis.min":"最小值","properties.axis.min.warning":"最小值不能大於最大值","properties.axis.max":"麥克斯","properties.axis.max.warning":"最大值唔可以小於最小值","properties.xaxis.title":"X軸","properties.axis.scale":"規模","properties.axis.left":"左","properties.axis.right":"右 ","properties.axis.top":"返回頁首","properties.axis.bottom":"底","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"返回頁首","properties.legend.position.down":"底","properties.legend.position.right":"右 ","properties.legend.position.left":"左","properties.orientation.title":"取向","properties.orientation.horizontal":"水平（默認）","properties.orientation.vertical":"垂直","properties.points.title":"點","properties.points.groupNearbyPoints":"對附近嘅啲進行分組","properties.points.size.title":"點大小","properties.points.size.extra_small":"0.5倍","properties.points.size.small":"0.75倍","properties.points.size.normal":"正常","properties.points.size.large":"1.25倍","properties.points.size.extra_large":"1.5倍","properties.points.size.min.title":"最小","properties.points.size.max.title":"最大","properties.map.title":"地圖","properties.viewport.area.title":"默認視口","properties.viewport.area.auto_default":"包括所有數據","properties.viewport.area.continents":"大洲","properties.viewport.area.continent_af":"非洲","properties.viewport.area.continent_as":"亞洲","properties.viewport.area.continent_au":"澳洲","properties.viewport.area.continent_eu":"歐洲","properties.viewport.area.continent_na":"美洲（北部）","properties.viewport.area.continent_sa":"美洲（南部）","properties.viewport.area.world":"世界","gs.color-dropdown.custom-color":"自定義顏色","properties.colors.reset-colors":"重置顏色","properties.colors":"顏色","properties.colors.unsupported":"此可視化配置冇顏色","export_unsupported.colors":"可視化效果與自定義顏色不兼容。 要把可視化效果作為報表打開，請單擊“配置”中的“重置顏色”->“顏色”。","dashboard.bucket.measures_title.bullet._measure":"量","dashboard.bucket.measures_title.bullet._metric":"度量","dashboard.bucket.secondary_measures_title.bullet._measure":"量","dashboard.bucket.secondary_measures_title.bullet._metric":"度量","dashboard.bucket.tertiary_measures_title.bullet._measure":"量","dashboard.bucket.tertiary_measures_title.bullet._metric":"度量","dashboard.bucket.measures_subtitle.bullet":"主要","dashboard.bucket.secondary_measures_subtitle.bullet":"目標","dashboard.bucket.tertiary_measures_subtitle.bullet":"比較級","sorting.disabled.explanation.attribute":"對於此可視化配置，無法進行排序。","sorting.disabled.explanation.measure._measure":"你必須至少添加一個屬性才能對可視化效果進行排序。 你仲可以喺“度量”部分中調整項目嘅位置，以更改它們在可視化效果中嘅位置。","sorting.disabled.explanation.measure._metric":"你必須至少添加一個屬性才能對可視化效果進行排序。 你仲可以喺“指標”部分中調整項目嘅位置，以更改它們在可視化效果中嘅位置。","properties.metrics.title._measure":"措施","properties.metrics.title._metric":"指標","properties.metrics.position":"位置","properties.metrics.position.columns":"列（默認）","properties.metrics.position.rows":"行","properties.column.headers.title":"列標題","properties.column.headers.position":"位置","properties.column.headers.position.top":"頂部（默認）","properties.column.headers.position.left":"左","dashboard.bucket.table.subtitle.columns":"在列中","dashboard.bucket.table.subtitle.rows":"成行","properties.interactions.title":"相互作用","properties.interactions.drillDown":"向下鑽取","properties.comparison.title":"比較","properties.comparison.calculationType.title":"計算公式為","properties.comparison.calculationType.as.change":"改變","properties.comparison.calculationType.as.ratio":"率","properties.comparison.calculationType.as.difference":"差異","properties.comparison.calculationType.as.changeDifference":"變化（差異）","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"計算主要指標值同次要指標值之間嘅相對變化。","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"計算主要度量值和次要度量值之間嘅相對變化。","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"量化主要指標值喺次要指標值中嘅份額。","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"量化主要度量值喺次要度量值中嘅份額。","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"計算主要指標值同次要指標值之間嘅絕對差異。","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"計算主要度量值和次要度量值之間嘅絕對差值。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"計算主要指標值和次要指標值之間嘅相對變化同絕對差值。","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"計算主要度量值和次要度量值之間的相對變化和絕對差值。","properties.comparison.calculationType.tooltip.formula.section":"公式","properties.comparison.calculationType.tooltip.formulaChange.section":"公式 （相對變化）","properties.comparison.calculationType.tooltip.formulaDifference.section":"公式 （絕對差）","properties.comparison.calculationType.as.change.tooltip.formula":"（小學-中學） /中學","properties.comparison.calculationType.as.ratio.tooltip.formula":"小學/中學","properties.comparison.calculationType.as.difference.tooltip.formula":"小學-中學","properties.comparison.calculationType.tooltip.example.section":"例","properties.comparison.calculationType.as.change.tooltip.example":"同比銷售額變化=（當年嘅銷售額-上年嘅銷售額）/上年嘅銷售額","properties.comparison.calculationType.as.ratio.tooltip.example":"當前銷售額與配額相比=當前銷售額/配額","properties.comparison.calculationType.as.difference.tooltip.example":"同比銷售額差異=當年嘅銷售額-上年嘅銷售額","properties.comparison.calculationType.as.changeDifference.tooltip.example":"同比銷售額變化= [ （當年嘅銷售額-上年嘅銷售額） /上年嘅銷售額]同[當年嘅銷售額-上年嘅銷售額]","properties.comparison.measureNumber.format.preset.inherit":"繼承","properties.comparison.measureNumber.format.preset.rounded":"滾圓嘅","properties.comparison.measureNumber.format.preset.decimal1":"小數（1）","properties.comparison.measureNumber.format.preset.decimal2":"小數（2）","properties.comparison.measureNumber.format.preset.percentRounded":"百分比（四舍五入）","properties.comparison.measureNumber.format.preset.percent1":"百分比（1）","properties.comparison.measureNumber.format.preset.percent2":"百分比（2）","properties.comparison.measureNumber.format.template.rounded":"滾圓嘅","properties.comparison.measureNumber.format.template.decimal1":"小數（1）","properties.comparison.measureNumber.format.template.decimal2":"小數（2）","properties.comparison.measureNumber.format.template.percentRounded":"百分比（四舍五入）","properties.comparison.measureNumber.format.template.percent1":"百分比（1）","properties.comparison.measureNumber.format.template.percent2":"百分比（2）","properties.comparison.measureNumber.format.template.currency":"貨幣","properties.comparison.measureNumber.format.template.currencyShortened":"貨幣縮短","properties.comparison.measureNumber.format.template.largeNumbersShortened":"大數字縮短","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"用顏色縮短嘅大數字","properties.comparison.measureNumber.format.template.negativeNumbersRed":"紅色負數","properties.comparison.measureNumber.format.template.financial":"財力","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"小數（2）不帶千位分隔符","properties.comparison.measureNumber.format.template.conditionalColors":"條件顏色","properties.comparison.measureNumber.format.template.trendSymbols":"趨勢符號","properties.comparison.measureNumber.format.template.timeFromSeconds":"時間（以秒為單位）","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"零值而唔係空白值","properties.comparison.valueSubSection.title":"價值","properties.comparison.format.title":"格式","properties.comparison.subFormat.title":"（格式）","properties.comparison.indicator.title":"指示器","properties.comparison.indicator.arrow.title":"箭","properties.comparison.indicator.colorConfig.title":"顏色","properties.comparison.indicator.colorConfig.equals":"主要=次要","properties.comparison.indicator.colorConfig.positive":"小學>中學","properties.comparison.indicator.colorConfig.negative":"主要 < Secondary","properties.comparison.labelSubSection.title":"標籤","properties.comparison.labelSubSection.positionOnTop.disabled":"標籤不適用於值位置頂部。","properties.comparison.labelSubSection.conditional.disabled":"條件標籤不適用於比率計算。","properties.comparison.labelName.title":"名字","properties.comparison.labelConditional.title":"有條件嘅","properties.comparison.labelPositive.title":"小學>中學","properties.comparison.labelNegative.title":"主要 < Secondary","properties.comparison.labelEquals.title":"主要=次要","properties.comparison.position.title":"位置","properties.comparison.position.top":"返回頁首","properties.comparison.position.right":"右 ","properties.comparison.position.left":"左","properties.forecastSliced.title":"顯示部分預測。","properties.forecastSliced.description":"可用數據點唔會涵蓋成個選定時間段。","dashboard.bucket.segment_title.scatter":"細分依據","properties.clustering.title":"簇","properties.clustering.amount":"量","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"顯示部分聚類","properties.clustering.amount.partial.description":"可用嘅數據啲唔會覆蓋成個選定嘅金額。","properties.clustering.disabled":"聚類需要2個量度同查看依據，而不需要細分依據。","properties.clustering.threshold":"門檻","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"閾值係肯定何時對數據進行分組嘅限制。 <link>瞭解更多信息</link>","visualizations.headline.tertiary.title":"啱","properties.interactions.alerts":"警報","properties.interactions.alerts.tooltip":"使用戶能夠喺儀錶板上為此可視化創建警報。","properties.interactions.scheduledExports":"計劃導出","properties.interactions.scheduledExports.tooltip":"使用戶能夠喺功能板上為此可視化創建計劃導出。","properties.advanced.title":"高級自定義","properties.advanced.chartConfigOverride.noValueLabel":"尚無自定義。","properties.advanced.chartConfigOverride.link":"瞭解更多信息","properties.advanced.chartConfigOverride.editorButton":"打開編輯器","properties.advanced.chartConfigOverride.title":"高級定製","properties.advanced.chartConfigOverride.snippets.header":"片段","properties.advanced.chartConfigOverride.button.apply":"應用","properties.advanced.chartConfigOverride.button.cancel":"取消","gs.date.yesterday":"琴日","notifications.panel.tab.unread":"未讀（{count}）","notifications.panel.tab.all":"都","notifications.panel.markAllAsRead":"全部標記為已讀","notifications.panel.error.loading":"加載通知時出錯","notifications.panel.empty.all":"無通知","notifications.panel.empty.unread":"無未讀通知","notifications.panel.unsupported.notification.type":"不支持的通知類型","notifications.panel.markAsRead":"標記為已讀","notifications.filters.buttonLabel":"{count, plural, one {#過濾器} other {#過濾器}}","notifications.filters.dialog.title":"篩選器","notifications.filters.dialog.dateRange":"日期範圍","notifications.panel.triggers.title":"{triggeredCount}/{totalCount}項","notifications.panel.triggers.dialog.newValue":"新值",close:"關閉","notifications.panel.triggers.dialog.title":"觸發條件","notifications.panel.error.learnMore":"瞭解更多信息","notifications.panel.error.traceId":"跟蹤ID","notifications.panel.error.message":"無法處理警示。","notifications.panel.button.label":"通知","notifications.panel.notifications.list.label":"通知","notifications.panel.alert.notification.type.label":"警示通知","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"… 同{count}更多","notifications.panel.download":"下載","notifications.panel.expiresOn":"過期時間 {date}","notifications.panel.linkHasExpired":"連結已過期","notifications.panel.toast.warning.filesExpired":"<strong>下載連結已過期</strong>-等待下一次導出或手動創建一個。","notifications.panel.dashboardLinkHint":"打開用于此導出嘅儀錶板","notifications.panel.dashboardLink":"從 {dashboardTitle}","notifications.panel.downloadFilesHint":"下載導出嘅文件","notifications.panel.error.alert.title":"無法處理警示。","notifications.panel.error.schedule.title":"計劃導出失敗。","notifications.panel.error.limitExceeded.message":"無法發送您的導出，因為您的組織已達到每日警報和計劃導出的最大數量限制。 請與您的管理員聯繫。"},"tr-TR":{or:"veya","dashboard.bucket.measures_title.column._measure":"Ölçümler","dashboard.bucket.measures_title.column._metric":"Metrikler","dashboard.bucket.measures_title.bar._measure":"Ölçümler","dashboard.bucket.measures_title.bar._metric":"Metrikler","dashboard.bucket.measures_title.line._measure":"Ölçümler","dashboard.bucket.measures_title.line._metric":"Metrikler","dashboard.bucket.measures_title.area._measure":"Ölçümler","dashboard.bucket.measures_title.area._metric":"Metrikler","dashboard.bucket.measures_title.pie._measure":"Ölçümler","dashboard.bucket.measures_title.pie._metric":"Metrikler","dashboard.bucket.measures_title.funnel._measure":"Ölçümler","dashboard.bucket.measures_title.funnel._metric":"Metrikler","dashboard.bucket.measures_title.pyramid._measure":"Ölçümler","dashboard.bucket.measures_title.pyramid._metric":"Metrikler","dashboard.bucket.measures_title.treemap._measure":"Ölçümler","dashboard.bucket.measures_title.treemap._metric":"Metrikler","dashboard.bucket.measures_title.donut._measure":"Ölçümler","dashboard.bucket.measures_title.donut._metric":"Metrikler","dashboard.bucket.measures_title.heatmap._measure":"Ölçüm","dashboard.bucket.measures_title.heatmap._metric":"Metrik","dashboard.bucket.measures_title.headline._measure":"Ölçüm","dashboard.bucket.measures_title.headline._metric":"Metrik","dashboard.bucket.measures_subtitle.headline":"birincil","dashboard.bucket.secondary_measures_title.headline._measure":"Ölçüm","dashboard.bucket.secondary_measures_title.headline._metric":"Metrik","dashboard.bucket.secondary_measures_subtitle.headline":"ikincil","dashboard.bucket.measures_title.scatter._measure":"Ölçüm","dashboard.bucket.measures_title.scatter._metric":"Metrik","dashboard.bucket.secondary_measures_title.scatter._measure":"Ölçüm","dashboard.bucket.secondary_measures_title.scatter._metric":"Metrik","dashboard.bucket.measures_subtitle.scatter":"X ekseni","dashboard.bucket.secondary_measures_subtitle.scatter":"Y ekseni","dashboard.bucket.attribute_title.scatter":"Görünüm ölçütüyle","dashboard.bucket.measures_title.combo._measure":"Ölçümler","dashboard.bucket.measures_title.combo._metric":"Metrikler","dashboard.bucket.measures_subtitle.combo":"Sütun","dashboard.bucket.secondary_measures_title.combo._measure":"Ölçümler","dashboard.bucket.secondary_measures_title.combo._metric":"Metrikler","dashboard.bucket.secondary_measures_subtitle.combo":"Çizgi","dashboard.bucket.measures_title.xirr._measure":"Ölçüm","dashboard.bucket.measures_title.xirr._metric":"Metrik","dashboard.bucket.measures_title.waterfall._measure":"Ölçümler","dashboard.bucket.measures_title.waterfall._metric":"Metrikler","dashboard.bucket.attribute_title.xirr":"Tarih özniteliği","dashboard.bucket.attribute_from_title.sankey":"Öznitelik","dashboard.bucket.attribute_from_subtitle.sankey":"itibaren","dashboard.bucket.attribute_to_title.sankey":"Öznitelik","dashboard.bucket.attribute_to_subtitle.sankey":"buraya","dashboard.bucket.attribute_from_title.dependencywheel":"Öznitelik","dashboard.bucket.attribute_from_subtitle.dependencywheel":"itibaren","dashboard.bucket.attribute_to_title.dependencywheel":"Öznitelik","dashboard.bucket.attribute_to_subtitle.dependencywheel":"buraya","dashboard.bucket.combo.subtitle.column":"sütunlar olarak","dashboard.bucket.combo.subtitle.line":"çizgi olarak","dashboard.bucket.combo.subtitle.area":"alanlar olarak","dashboard.bucket.measures_title.bubble._measure":"Ölçüm","dashboard.bucket.measures_title.bubble._metric":"Metrik","dashboard.bucket.secondary_measures_title.bubble._measure":"Ölçüm","dashboard.bucket.secondary_measures_title.bubble._metric":"Metrik","dashboard.bucket.tertiary_measures_title.bubble._measure":"Ölçüm","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metrik","dashboard.bucket.measures_subtitle.bubble":"X ekseni","dashboard.bucket.secondary_measures_subtitle.bubble":"Y ekseni","dashboard.bucket.tertiary_measures_subtitle.bubble":"Boyut","dashboard.bucket.location_title.pushpin":"Konum","dashboard.bucket.size_title.pushpin._measure":"Ölçüm","dashboard.bucket.size_title.pushpin._metric":"Metrik","dashboard.bucket.size_subtitle.pushpin":"Boyut","dashboard.bucket.color_title.pushpin._measure":"Ölçüm","dashboard.bucket.color_title.pushpin._metric":"Metrik","dashboard.bucket.color_subtitle.pushpin":"Renk","dashboard.bucket.view_title.bubble":"Görünüm ölçütüyle","dashboard.bucket.view_title.pie":"Görünüm ölçütüyle","dashboard.bucket.view_title.treemap":"Görünüm ölçütüyle","dashboard.bucket.view_title.donut":"Görünüm ölçütüyle","dashboard.bucket.view_title.funnel":"Görünüm ölçütüyle","dashboard.bucket.view_title.pyramid":"Görünüm ölçütüyle","dashboard.bucket.view_title.column":"Görünüm ölçütüyle","dashboard.bucket.view_title.bar":"Görünüm ölçütüyle","dashboard.bucket.view_title.area":"Görünüm ölçütüyle","dashboard.bucket.view_title.bullet":"Görünüm ölçütüyle","dashboard.bucket.view_title.waterfall":"Görünüm ölçütüyle","dashboard.bucket.view_title.heatmap":"Satırlar","dashboard.bucket.trend_title.line":"Trende Göre","dashboard.bucket.view_title.combo":"Görünüm ölçütüyle","dashboard.bucket.stack_title.column":"Yığına göre","dashboard.bucket.stack_title.bar":"Yığına göre","dashboard.bucket.stack_title.area":"Yığına göre","dashboard.bucket.stack_title.heatmap":"Sütunlar","dashboard.bucket.segment_title.line":"Segmentlere Göre","dashboard.bucket.segment_title.treemap":"Segmentlere Göre","dashboard.bucket.segment_title.pushpin":"Segmentlere Göre","dashboard.bucket.metric_segment_by_warning._measure":"Ek bir ölçüm eklemek için, {icons} öğesini '<span class=\"stack-by\">'segmentine göre'</span>' kaldırın","dashboard.bucket.metric_segment_by_warning._metric":"Ek metrik eklemek için, {icons} öğesini '<span class=\"stack-by\">'segment by'</span>'den kaldırın","dashboard.bucket.metric_stack_by_warning._measure":"Ek bir ölçüm eklemek için, '<span class=\"stack-by\">' yığma ölçütünden {icons} öğesini kaldırın '</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Ek metrik eklemek için, {icons} öğesini '<span class=\"stack-by\">' yığma ölçütünden '</span>' kaldırın","dashboard.bucket.metric_view_by_warning._measure":"Ek bir ölçüm eklemek için, {icons} öğesini '<span class=\"stack-by\">'görünümüne göre'</span>' kaldırın","dashboard.bucket.metric_view_by_warning._metric":"Ek metrik eklemek için, {icons} öğesini '<span class=\"stack-by\">'görünümüne göre'</span> öğesinden kaldırın","dashboard.bucket.category_view_by_warning._measure":"Başka bir öznitelik ile görüntülemek için, bir görselleştirme yalnızca bir ölçüme sahip olabilir","dashboard.bucket.category_view_by_warning._metric":"Başka bir öznitelik ile görüntülemek için, bir görselleştirme yalnızca bir metrik içerebilir","dashboard.bucket.view_stack_by_warning":"Ek bir özellik eklemek için, {icons} öğesini '<span class=\"stack-by\">' yığma ölçütü'</span>'nden kaldırın","dashboard.bucket.category_stack_by_warning._measure":"Yığmak için, bir görselleştirme yalnızca bir ölçüme sahip olabilir","dashboard.bucket.category_stack_by_warning._metric":"Yığmak için, bir görselleştirme yalnızca bir metrik içerebilir","dashboard.bucket.stack_view_by_warning":"Yığmak için, bir görselleştirme yalnızca bir özniteliğe göre görüntülenebilir","dashboard.bucket.measure_stack_by_warning._measure":"Bir özniteliğe göre yığmak için, bir görselleştirme yalnızca bir ölçüme sahip olabilir","dashboard.bucket.measure_stack_by_warning._metric":"Bir öznitelik ile yığmak için, bir görselleştirme yalnızca bir metrik içerebilir","dashboard.bucket.category_columns_warning._measure":"Sütun eklenemiyor: sınır {oldLimit} ölçümler ve {oldRowsLimit} satırlar. Daha fazla eklemek için sınırlara uyun","dashboard.bucket.category_columns_warning._metric":"Sütun eklenemiyor: sınır {oldLimit} metrik ve {oldRowsLimit} satırdır. Daha fazla eklemek için sınırlara uyun","dashboard.bucket.category_measures_rows_warning":"{limit} daha eklemek için, sütunlar bölümündeki tüm öğeleri kaldırın","dashboard.bucket.category_category_by_warning._measure":"Görünüm için, bir görselleştirme yalnızca bir ölçüme sahip olabilir","dashboard.bucket.category_category_by_warning._metric":"Görünüm için, bir görselleştirme yalnızca bir metrik içerebilir","dashboard.bucket.category_segment_by_warning._measure":"Segmentlere ayırmak için, bir görselleştirme yalnızca bir ölçüme sahip olabilir","dashboard.bucket.category_segment_by_warning._metric":"Segmentlere ayırmak için, bir görselleştirme yalnızca bir metrik içerebilir","dashboard.bucket.measures_title.table._measure":"Ölçümler","dashboard.bucket.measures_title.table._metric":"Metrikler","dashboard.bucket.measures_title.sankey._measure":"ÖLÇÜM","dashboard.bucket.measures_title.sankey._metric":"METRİK","dashboard.bucket.measures_title.dependencywheel._measure":"ÖLÇÜM","dashboard.bucket.measures_title.dependencywheel._metric":"METRİK","dashboard.bucket.attribute_title.table":"Satırlar","dashboard.bucket.columns_title.table":"Sütunlar","dashboard.bucket.attribute_title.repeater":"Satırlar","dashboard.bucket.view_title.repeater":"Görünüm ölçütüyle","dashboard.bucket.columns_title.repeater":"Sütunlar","dashboard.error.missing_primary_bucket_item.heading._measure":"Görselleştirmenizde birincil ölçüm yok","dashboard.error.missing_primary_bucket_item.heading._metric":"Görselleştirmenizde birincil metrik yok","dashboard.error.missing_primary_bucket_item.text._measure":"Görselleştirmenize bir birincil ölçüm ekleyin veya tabloya geçin. Tamamlandığında, kaydedebileceksiniz.","dashboard.error.missing_primary_bucket_item.text._metric":"Görselleştirmenize bir birincil metrik ekleyin veya tabloya geçin. Tamamlandığında, kaydedebileceksiniz.","dashboard.xirr.error.invalid_buckets.heading":"Eksik yapılandırma","dashboard.xirr.error.invalid_buckets.text._measure":"Bir ölçüm ve bir tarih özniteliği seçtiğinizden emin olun","dashboard.xirr.error.invalid_buckets.text._metric":"Bir metrik ve bir tarih özniteliği seçtiğinizden emin olun","properties.unsupported":"Bu görselleştirme yapılandırmayı desteklemiyor","properties.config.not_applicable":"Görselleştirmenin bu yapılandırması için Yapılandırma Paneli geçerli değil","properties.not_applicable":"Özellik, bu görselleştirme yapılandırması için geçerli değil","properties.auto_placeholder":"otomatik","properties.auto_default":"otomatik (varsayılan)","properties.legend.title":"Gösterge","properties.legend.position":"Pozisyon","properties.total.title":"Toplam","properties.total.name":"Adı","properties.total.tooltip":"Tüm değerlerin toplamını sonda bir sütun olarak ekle.","properties.total.measures.tooltip":'Metriğin "toplamdır" seçeneklerini devre dışı bırak, tüm değerlerin toplamını sonda bir sütun olarak ekle.',"properties.color.total":"Toplam","properties.color.positive":"Pozitif","properties.color.negative":"Negatif","properties.canvas.title":"Tuval","properties.canvas.gridline":"Izgara çizgisi","properties.canvas.labels.percentages":"Yüzde","properties.canvas.labels.percentages.info":"Her dilimde yüzdeleri göster, en üst dilim %100 olarak ve diğerleri bu değerin kesirleri olarak.","properties.canvas.labels.percentages.disabled":"Yüzdeler, gizli veri etiketleri nedeniyle gizlenmiştir.","properties.canvas.continuousLine.label":"Sürekli çizgi","properties.canvas.continuousLine.tooltip":"Eksik değerleri olan noktalar arasında bir çizgi çiz.","properties.canvas.dataLabels":"Veri Etiketleri","properties.canvas.dataLabels.auto":"otomatik (varsayılan)","properties.canvas.dataLabels.show":"göster","properties.canvas.dataLabels.hide":"gizle","properties.canvas.rowHeight":"Satır yüksekliği","properties.canvas.rowHeight.small":"küçük","properties.canvas.rowHeight.medium":"orta düzey","properties.canvas.rowHeight.large":"büyük","properties.canvas.verticalAlign":"Dikey hizalama","properties.canvas.verticalAlign.top":"en yüksek","properties.canvas.verticalAlign.middle":"orta","properties.canvas.verticalAlign.bottom":"en düşük","properties.canvas.textWrapping":"Metin kaydırma","properties.canvas.textWrapping.clip":"klip","properties.canvas.textWrapping.wrap":"sarma","properties.canvas.image":"Görsel","properties.canvas.image.fit":"sığdır","properties.canvas.image.fill":"doldur","properties.forecast.title":"Tahmin","properties.forecastDisabled.title":"Bu kova kombinasyonu için tahmin mevcut değil","properties.forecastPeriod.title":"Dönem","properties.forecastPeriod.placeholder":"Dönem","properties.forecastSeasonal.title":"Mevsimsellik","properties.forecastConfidence.title":"Güven düzeyi","properties.forecastConfidence.70":"%70","properties.forecastConfidence.75":"%75","properties.forecastConfidence.80":"%80","properties.forecastConfidence.85":"%85","properties.forecastConfidence.90":"%90","properties.forecastConfidence.95":"%95","properties.canvas.totalLabels":"Toplam Etiketler","properties.canvas.totalLabels.auto":"otomatik (varsayılan)","properties.canvas.totalLabels.show":"göster","properties.canvas.totalLabels.hide":"gizle","properties.canvas.dataPoints":"Veri Noktaları","properties.canvas.dataPoints.auto":"otomatik (varsayılan)","properties.canvas.dataPoints.show":"göster","properties.canvas.dataPoints.hide":"gizle","properties.yaxis.title":"Y ekseni","properties.axis.labels":"etiketler","properties.axis.rotation":"Döndür","properties.axis.format":"Formatla","properties.axis.format.inherit":"devral","properties.axis.format.info.inherit._measure":"Biçim, görselleştirmedeki ilk ölçümden devralınır.","properties.axis.format.info.inherit._metric":"Biçim, görselleştirmedeki ilk ölçüden devralınır.","properties.axis.name":"adı","properties.axis.name.position":"Pozisyon","properties.axis.name.position.left":"sol","properties.axis.name.position.center":"merkez","properties.axis.name.position.right":"doğru","properties.axis.name.position.top":"en yüksek","properties.axis.name.position.middle":"orta","properties.axis.name.position.bottom":"en düşük","properties.axis.min":"Min","properties.axis.min.warning":"Minimum değer maksimum değerden büyük olamaz","properties.axis.max":"Maks","properties.axis.max.warning":"Maksimum değer, minimum değerden küçük olamaz","properties.xaxis.title":"X ekseni","properties.axis.scale":"ölçek","properties.axis.left":"Sol","properties.axis.right":"Doğru","properties.axis.top":"En Yüksek","properties.axis.bottom":"En Düşük","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"en yüksek","properties.legend.position.down":"en düşük","properties.legend.position.right":"doğru","properties.legend.position.left":"sol","properties.orientation.title":"Yönlendirme","properties.orientation.horizontal":"Yatay (varsayılan)","properties.orientation.vertical":"Dikey","properties.points.title":"Puanlar","properties.points.groupNearbyPoints":"Yakın noktaları grupla","properties.points.size.title":"Punto Boyutu","properties.points.size.extra_small":"0,5x","properties.points.size.small":"0,75x","properties.points.size.normal":"normal","properties.points.size.large":"1,25x","properties.points.size.extra_large":"1,5x","properties.points.size.min.title":"En küçük","properties.points.size.max.title":"En Büyük","properties.map.title":"Harita","properties.viewport.area.title":"Varsayılan görünüm alanı","properties.viewport.area.auto_default":"Tüm verileri dahil et","properties.viewport.area.continents":"kıtalar","properties.viewport.area.continent_af":"Afrika","properties.viewport.area.continent_as":"Asya","properties.viewport.area.continent_au":"Avustralya","properties.viewport.area.continent_eu":"Avrupa","properties.viewport.area.continent_na":"Amerika (Kuzey)","properties.viewport.area.continent_sa":"Amerika (Güney)","properties.viewport.area.world":"Dünya","gs.color-dropdown.custom-color":"Özel renk","properties.colors.reset-colors":"Renkleri Sıfırla","properties.colors":"Renkler","properties.colors.unsupported":"Bu görselleştirme yapılandırması için renkler yok","export_unsupported.colors":"Görselleştirme, özel renklerle uyumlu değil. Görselleştirmeyi rapor olarak açmak için Yapılandırma —> Renkler bölümünde Renkleri Sıfırla'ya tıklayın.","dashboard.bucket.measures_title.bullet._measure":"Ölçüm","dashboard.bucket.measures_title.bullet._metric":"Metrik","dashboard.bucket.secondary_measures_title.bullet._measure":"Ölçüm","dashboard.bucket.secondary_measures_title.bullet._metric":"Metrik","dashboard.bucket.tertiary_measures_title.bullet._measure":"Ölçüm","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metrik","dashboard.bucket.measures_subtitle.bullet":"Birincil","dashboard.bucket.secondary_measures_subtitle.bullet":"Hedef","dashboard.bucket.tertiary_measures_subtitle.bullet":"Karşılaştırmalı","sorting.disabled.explanation.attribute":"Bu görselleştirme yapılandırması için sıralama mümkün değil.","sorting.disabled.explanation.measure._measure":"Görselleştirmeyi sıralamak için en az bir öznitelik eklemelisiniz. Ayrıca, görselleştirmedeki konumlarını değiştirmek için Ölçümler bölümündeki öğelerin konumunu ayarlayabilirsiniz.","sorting.disabled.explanation.measure._metric":"Görselleştirmeyi sıralamak için en az bir öznitelik eklemelisiniz. Ayrıca, görselleştirmedeki konumlarını değiştirmek için Metrikler bölümündeki öğelerin konumunu ayarlayabilirsiniz.","properties.metrics.title._measure":"Ölçümler","properties.metrics.title._metric":"Metrikler","properties.metrics.position":"Pozisyon","properties.metrics.position.columns":"sütunlar (varsayılan)","properties.metrics.position.rows":"satırlar","properties.column.headers.title":"Sütun Başlıkları","properties.column.headers.position":"Pozisyon","properties.column.headers.position.top":"en yüksek (varsayılan)","properties.column.headers.position.left":"sol","dashboard.bucket.table.subtitle.columns":"sütunlarda","dashboard.bucket.table.subtitle.rows":"satırlarda","properties.interactions.title":"Etkileşimler","properties.interactions.drillDown":"Detayına in","properties.comparison.title":"Karşılaştırma","properties.comparison.calculationType.title":"Olarak hesaplandı","properties.comparison.calculationType.as.change":"Değiştir","properties.comparison.calculationType.as.ratio":"Oran","properties.comparison.calculationType.as.difference":"Fark","properties.comparison.calculationType.as.changeDifference":"Değişim (fark)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Birincil ve ikincil metrik değerleri arasındaki göreceli değişimi hesaplar.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Birincil ve ikincil ölçüm değerleri arasındaki göreceli değişimi hesaplar.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Birincil metrik değerinin ikincil metrik değerindeki payını ölçer.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Birincil ölçüm değeri payının ikincil ölçüm değerindeki oranını belirler.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Birincil ve ikincil metrik değerleri arasındaki mutlak farkı hesaplar.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Birincil ve ikincil ölçüm değerleri arasındaki mutlak farkı hesaplar.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Birincil ve ikincil metrik değerleri arasındaki göreceli değişimi ve mutlak farkı hesaplar.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Birincil ve ikincil ölçüm değerleri arasındaki hem göreceli değişimi hem de mutlak farkı hesaplar.","properties.comparison.calculationType.tooltip.formula.section":"Formül","properties.comparison.calculationType.tooltip.formulaChange.section":"Formül (göreceli değişim)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formül (mutlak fark)","properties.comparison.calculationType.as.change.tooltip.formula":"(Primer - Sekonder) / Sekonder","properties.comparison.calculationType.as.ratio.tooltip.formula":"Birincil / İkincil","properties.comparison.calculationType.as.difference.tooltip.formula":"Birincil - İkincil","properties.comparison.calculationType.tooltip.example.section":"Örnek","properties.comparison.calculationType.as.change.tooltip.example":"Yıldan yıla satış değişimi = (mevcut yılın satışları - önceki yılın satışları) / önceki yılın satışları","properties.comparison.calculationType.as.ratio.tooltip.example":"Mevcut satışlar kotaya göre = mevcut satışlar / kota","properties.comparison.calculationType.as.difference.tooltip.example":"Yıllık satış farkı = cari yılın satışları - önceki yılın satışları","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Yıl bazında satış değişimi = [(bu yılın satışları - önceki yılın satışları) / önceki yılın satışları] VE [bu yılın satışları - önceki yılın satışları]","properties.comparison.measureNumber.format.preset.inherit":"Devral","properties.comparison.measureNumber.format.preset.rounded":"Yuvarlanmış","properties.comparison.measureNumber.format.preset.decimal1":"Ondalık (1)","properties.comparison.measureNumber.format.preset.decimal2":"Ondalık (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Yüzde (yuvarlanmış)","properties.comparison.measureNumber.format.preset.percent1":"Yüzde (1)","properties.comparison.measureNumber.format.preset.percent2":"Yüzde (2)","properties.comparison.measureNumber.format.template.rounded":"Yuvarlanmış","properties.comparison.measureNumber.format.template.decimal1":"Ondalık (1)","properties.comparison.measureNumber.format.template.decimal2":"Ondalık (2)","properties.comparison.measureNumber.format.template.percentRounded":"Yüzde (yuvarlanmış)","properties.comparison.measureNumber.format.template.percent1":"Yüzde (1)","properties.comparison.measureNumber.format.template.percent2":"Yüzde (2)","properties.comparison.measureNumber.format.template.currency":"Para Birimi","properties.comparison.measureNumber.format.template.currencyShortened":"Para birimi kısaltıldı","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Büyük sayılar kısaltıldı","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Renklerle kısaltılmış büyük sayılar","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Negatif sayılar kırmızı renkte","properties.comparison.measureNumber.format.template.financial":"Finansal","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Ondalık (2) binlik ayırıcı olmadan","properties.comparison.measureNumber.format.template.conditionalColors":"Koşullu renkler","properties.comparison.measureNumber.format.template.trendSymbols":"Trend sembolleri","properties.comparison.measureNumber.format.template.timeFromSeconds":"Zaman (saniyelerden)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Boş değer yerine sıfır","properties.comparison.valueSubSection.title":"Değer","properties.comparison.format.title":"Biçimlendir","properties.comparison.subFormat.title":"(Format)","properties.comparison.indicator.title":"Gösterge","properties.comparison.indicator.arrow.title":"Ok","properties.comparison.indicator.colorConfig.title":"Renk","properties.comparison.indicator.colorConfig.equals":"Birincil = İkincil","properties.comparison.indicator.colorConfig.positive":"Birincil > İkincil","properties.comparison.indicator.colorConfig.negative":"Birincil < İkincil","properties.comparison.labelSubSection.title":"Etiket","properties.comparison.labelSubSection.positionOnTop.disabled":"Değer konumu en yüksek için etiketler uygulanamaz.","properties.comparison.labelSubSection.conditional.disabled":"Koşullu etiketler oran hesaplamalarına uygulanamaz.","properties.comparison.labelName.title":"Adı","properties.comparison.labelConditional.title":"Koşullu","properties.comparison.labelPositive.title":"Birincil > İkincil","properties.comparison.labelNegative.title":"Birincil < İkincil","properties.comparison.labelEquals.title":"Birincil = İkincil","properties.comparison.position.title":"Pozisyon","properties.comparison.position.top":"en yüksek","properties.comparison.position.right":"doğru","properties.comparison.position.left":"sol","properties.forecastSliced.title":"Kısmi tahmin gösteriliyor.","properties.forecastSliced.description":"Mevcut veri noktası, seçilen dönemin tamamını kapsamıyor.","dashboard.bucket.segment_title.scatter":"Segmentlere Göre","properties.clustering.title":"Küme","properties.clustering.amount":"Tutar","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Kısmi kümeleri gösterme","properties.clustering.amount.partial.description":"Mevcut veri noktaları seçilen miktarın tamamını kapsamıyor.","properties.clustering.disabled":"Kümeleme, Segment'e göre olmadan, 2 Metrik ve Görünüm gerektirir.","properties.clustering.threshold":"Eşik","properties.clustering.threshold.placeholder":"0,03","properties.clustering.threshold.tooltip":"Eşik, verilerin ne zaman gruplandırılacağını belirleyen bir sınırdır. <link>Daha fazla bilgi edinin</link>","visualizations.headline.tertiary.title":"Karşılaştırma","properties.interactions.alerts":"Uyarı","properties.interactions.alerts.tooltip":"Kullanıcıların panolarda bu görselleştirme için uyarılar oluşturmasına izin ver.","properties.interactions.scheduledExports":"Zamanlanmış dışa aktarımlar","properties.interactions.scheduledExports.tooltip":"Kullanıcıların panolarda bu görselleştirme için zamanlanmış dışa aktarımlar oluşturmasına izin ver.","properties.advanced.title":"Gelişmiş özelleştirmeler","properties.advanced.chartConfigOverride.noValueLabel":"Henüz özelleştirme yok.","properties.advanced.chartConfigOverride.link":"Daha fazla bilgi edinin","properties.advanced.chartConfigOverride.editorButton":"Düzenleyiciyi aç","properties.advanced.chartConfigOverride.title":"Gelişmiş özelleştirme","properties.advanced.chartConfigOverride.snippets.header":"Kod Parçacıkları","properties.advanced.chartConfigOverride.button.apply":"Uygula","properties.advanced.chartConfigOverride.button.cancel":"İptal","gs.date.yesterday":"Dün","notifications.panel.tab.unread":"Okunmamış ({count})","notifications.panel.tab.all":"Tümü","notifications.panel.markAllAsRead":"Tümünü okundu olarak işaretle","notifications.panel.error.loading":"Bildirimler yüklenirken hata oluştu","notifications.panel.empty.all":"Bildirim yok","notifications.panel.empty.unread":"Okunmamış bildirim yok","notifications.panel.unsupported.notification.type":"Desteklenmeyen bildirim türü","notifications.panel.markAsRead":"Okundu olarak işaretle","notifications.filters.buttonLabel":"{count, plural, one {# filtre} other {# filtreler}}","notifications.filters.dialog.title":"Filtreler","notifications.filters.dialog.dateRange":"tarih aralığı","notifications.panel.triggers.title":"{triggeredCount}/{totalCount} öğeler için","notifications.panel.triggers.dialog.newValue":"Yeni değer",close:"Kapat","notifications.panel.triggers.dialog.title":"Tetiklendiği için","notifications.panel.error.learnMore":"Daha fazla bilgi edinin","notifications.panel.error.traceId":"İzleme Kimliği","notifications.panel.error.message":"Uyarı işlenemedi.","notifications.panel.button.label":"Bildirimler","notifications.panel.notifications.list.label":"Bildirimler","notifications.panel.alert.notification.type.label":"Uyarı bildirimi","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…ve {count} daha fazla","notifications.panel.download":"İndir","notifications.panel.expiresOn":"Sona erme tarihi{date}","notifications.panel.linkHasExpired":"Bağlantının süresi doldu","notifications.panel.toast.warning.filesExpired":"<strong>İndirme bağlantısı süresi doldu</strong> — bir sonraki dışa aktarımı bekleyin veya elle bir tane oluşturun.","notifications.panel.dashboardLinkHint":"Bu dışa aktarma için kullanılan gösterge tablosunu aç","notifications.panel.dashboardLink":"İtibaren{dashboardTitle}","notifications.panel.downloadFilesHint":"Dışa aktarılan dosyaları indir","notifications.panel.error.alert.title":"Uyarı işlenemedi.","notifications.panel.error.schedule.title":"Zamanlanmış dışa aktarma başarısız oldu.","notifications.panel.error.limitExceeded.message":"Dışa aktarmanız gönderilemedi, çünkü kuruluşunuz günlük maksimum uyarı ve planlanmış dışa aktarma sayısına ulaşmıştır. Lütfen yöneticinizle iletişime geçin."},"pl-PL":{or:"lub","dashboard.bucket.measures_title.column._measure":"Miary","dashboard.bucket.measures_title.column._metric":"Metryki","dashboard.bucket.measures_title.bar._measure":"Miary","dashboard.bucket.measures_title.bar._metric":"Metryki","dashboard.bucket.measures_title.line._measure":"Miary","dashboard.bucket.measures_title.line._metric":"Metryki","dashboard.bucket.measures_title.area._measure":"Miary","dashboard.bucket.measures_title.area._metric":"Metryki","dashboard.bucket.measures_title.pie._measure":"Miary","dashboard.bucket.measures_title.pie._metric":"Metryki","dashboard.bucket.measures_title.funnel._measure":"Miary","dashboard.bucket.measures_title.funnel._metric":"Metryki","dashboard.bucket.measures_title.pyramid._measure":"Miary","dashboard.bucket.measures_title.pyramid._metric":"Metryki","dashboard.bucket.measures_title.treemap._measure":"Miary","dashboard.bucket.measures_title.treemap._metric":"Metryki","dashboard.bucket.measures_title.donut._measure":"Miary","dashboard.bucket.measures_title.donut._metric":"Metryki","dashboard.bucket.measures_title.heatmap._measure":"Miara","dashboard.bucket.measures_title.heatmap._metric":"Metryka","dashboard.bucket.measures_title.headline._measure":"Miara","dashboard.bucket.measures_title.headline._metric":"Metryka","dashboard.bucket.measures_subtitle.headline":"podstawowy","dashboard.bucket.secondary_measures_title.headline._measure":"Miara","dashboard.bucket.secondary_measures_title.headline._metric":"Metryka","dashboard.bucket.secondary_measures_subtitle.headline":"drugorzędny","dashboard.bucket.measures_title.scatter._measure":"Miara","dashboard.bucket.measures_title.scatter._metric":"Metryka","dashboard.bucket.secondary_measures_title.scatter._measure":"Miara","dashboard.bucket.secondary_measures_title.scatter._metric":"Metryka","dashboard.bucket.measures_subtitle.scatter":"Oś X","dashboard.bucket.secondary_measures_subtitle.scatter":"Oś Y","dashboard.bucket.attribute_title.scatter":"Widok wg","dashboard.bucket.measures_title.combo._measure":"Miary","dashboard.bucket.measures_title.combo._metric":"Metryki","dashboard.bucket.measures_subtitle.combo":"Kolumna","dashboard.bucket.secondary_measures_title.combo._measure":"Miary","dashboard.bucket.secondary_measures_title.combo._metric":"Metryki","dashboard.bucket.secondary_measures_subtitle.combo":"Linia","dashboard.bucket.measures_title.xirr._measure":"Miara","dashboard.bucket.measures_title.xirr._metric":"Metryka","dashboard.bucket.measures_title.waterfall._measure":"Miary","dashboard.bucket.measures_title.waterfall._metric":"Metryki","dashboard.bucket.attribute_title.xirr":"Atrybut daty","dashboard.bucket.attribute_from_title.sankey":"Atrybut","dashboard.bucket.attribute_from_subtitle.sankey":"z","dashboard.bucket.attribute_to_title.sankey":"Atrybut","dashboard.bucket.attribute_to_subtitle.sankey":"do","dashboard.bucket.attribute_from_title.dependencywheel":"Atrybut","dashboard.bucket.attribute_from_subtitle.dependencywheel":"z","dashboard.bucket.attribute_to_title.dependencywheel":"Atrybut","dashboard.bucket.attribute_to_subtitle.dependencywheel":"do","dashboard.bucket.combo.subtitle.column":"jako kolumny","dashboard.bucket.combo.subtitle.line":"jako linie","dashboard.bucket.combo.subtitle.area":"jako obszary","dashboard.bucket.measures_title.bubble._measure":"Miara","dashboard.bucket.measures_title.bubble._metric":"Metryka","dashboard.bucket.secondary_measures_title.bubble._measure":"Miara","dashboard.bucket.secondary_measures_title.bubble._metric":"Metryka","dashboard.bucket.tertiary_measures_title.bubble._measure":"Miara","dashboard.bucket.tertiary_measures_title.bubble._metric":"Metryka","dashboard.bucket.measures_subtitle.bubble":"Oś X","dashboard.bucket.secondary_measures_subtitle.bubble":"Oś Y","dashboard.bucket.tertiary_measures_subtitle.bubble":"Rozmiar","dashboard.bucket.location_title.pushpin":"Lokalizacja","dashboard.bucket.size_title.pushpin._measure":"Miara","dashboard.bucket.size_title.pushpin._metric":"Metryka","dashboard.bucket.size_subtitle.pushpin":"Rozmiar","dashboard.bucket.color_title.pushpin._measure":"Miara","dashboard.bucket.color_title.pushpin._metric":"Metryka","dashboard.bucket.color_subtitle.pushpin":"Kolor","dashboard.bucket.view_title.bubble":"Widok wg","dashboard.bucket.view_title.pie":"Widok wg","dashboard.bucket.view_title.treemap":"Widok wg","dashboard.bucket.view_title.donut":"Widok wg","dashboard.bucket.view_title.funnel":"Widok wg","dashboard.bucket.view_title.pyramid":"Widok wg","dashboard.bucket.view_title.column":"Widok wg","dashboard.bucket.view_title.bar":"Widok wg","dashboard.bucket.view_title.area":"Widok wg","dashboard.bucket.view_title.bullet":"Widok wg","dashboard.bucket.view_title.waterfall":"Widok wg","dashboard.bucket.view_title.heatmap":"Wiersze","dashboard.bucket.trend_title.line":"Trend wg","dashboard.bucket.view_title.combo":"Widok wg","dashboard.bucket.stack_title.column":"Stosuj wg","dashboard.bucket.stack_title.bar":"Stosuj wg","dashboard.bucket.stack_title.area":"Stosuj wg","dashboard.bucket.stack_title.heatmap":"Kolumny","dashboard.bucket.segment_title.line":"Segmentuj wg","dashboard.bucket.segment_title.treemap":"Segmentuj wg","dashboard.bucket.segment_title.pushpin":"Segmentuj wg","dashboard.bucket.metric_segment_by_warning._measure":"Aby dodać dodatkową miarę, usuń {icons} z '<span class=\"stack-by\">'segmentuj wg'</span>'","dashboard.bucket.metric_segment_by_warning._metric":"Aby dodać dodatkową metrykę, usuń {icons} z '<span class=\"stack-by\">'segmentuj wg'</span>'","dashboard.bucket.metric_stack_by_warning._measure":"Aby dodać dodatkową miarę, usuń {icons} z '<span class=\"stack-by\">'stosuj wg'</span>'","dashboard.bucket.metric_stack_by_warning._metric":"Aby dodać dodatkową metrykę, usuń {icons} z '<span class=\"stack-by\">'stosuj wg'</span>'","dashboard.bucket.metric_view_by_warning._measure":"Aby dodać dodatkową miarę, usuń {icons} z '<span class=\"stack-by\">'widok wg'</span>'","dashboard.bucket.metric_view_by_warning._metric":"Aby dodać dodatkową metrykę, usuń {icons} z '<span class=\"stack-by\">'widok według'</span>'","dashboard.bucket.category_view_by_warning._measure":"Aby zobaczyć wg innego atrybutu, wizualizacja może mieć tylko jedną miarę","dashboard.bucket.category_view_by_warning._metric":"Aby zobaczyć wg innego atrybutu, wizualizacja może mieć tylko jedną metrykę","dashboard.bucket.view_stack_by_warning":"Aby dodać dodatkowy atrybut, usuń {icons} z '<span class=\"stack-by\">'stosuj wg'</span>'","dashboard.bucket.category_stack_by_warning._measure":"Aby stosować wg grupowania, wizualizacja może mieć tylko jedną miarę","dashboard.bucket.category_stack_by_warning._metric":"Aby stosować wg grupowania, wizualizacja może mieć tylko jedną metrykę","dashboard.bucket.stack_view_by_warning":"Aby stosować wg układania, wizualizacja może mieć tylko jeden atrybut w widoku wg","dashboard.bucket.measure_stack_by_warning._measure":"Aby stosować wg atrybutu, wizualizacja może mieć tylko jedną miarę","dashboard.bucket.measure_stack_by_warning._metric":"Aby stosować wg atrybutu, wizualizacja może mieć tylko jedną metrykę","dashboard.bucket.category_columns_warning._measure":"Nie można dodać kolumn: limit to {oldLimit} miary i {oldRowsLimit} wierszy. Przestrzegaj limitów, aby dodać więcej","dashboard.bucket.category_columns_warning._metric":"Nie można dodać kolumn: limit to {oldLimit} metryki i {oldRowsLimit} wierszy. Przestrzegaj limitów, aby dodać więcej","dashboard.bucket.category_measures_rows_warning":"Aby dodać do {limit} więcej, usuń wszystkie elementy z sekcji kolumn","dashboard.bucket.category_category_by_warning._measure":"Aby zobaczyć wg, wizualizacji może mieć tylko jedną miarę","dashboard.bucket.category_category_by_warning._metric":"Aby zobaczyć wg, wizualizacji może mieć tylko jedną metrykę","dashboard.bucket.category_segment_by_warning._measure":"Aby segmentować wg, wizualizacja może mieć tylko jedną miarę","dashboard.bucket.category_segment_by_warning._metric":"Aby segmentować wg, wizualizacja może mieć tylko jedną metrykę","dashboard.bucket.measures_title.table._measure":"Miary","dashboard.bucket.measures_title.table._metric":"Metryki","dashboard.bucket.measures_title.sankey._measure":"MIARA","dashboard.bucket.measures_title.sankey._metric":"METRYKA","dashboard.bucket.measures_title.dependencywheel._measure":"MIARA","dashboard.bucket.measures_title.dependencywheel._metric":"METRYKA","dashboard.bucket.attribute_title.table":"Wiersze","dashboard.bucket.columns_title.table":"Kolumny","dashboard.bucket.attribute_title.repeater":"Wiersze","dashboard.bucket.view_title.repeater":"Widok wg","dashboard.bucket.columns_title.repeater":"Kolumny","dashboard.error.missing_primary_bucket_item.heading._measure":"Brak głównej miary w Twojej wizualizacji","dashboard.error.missing_primary_bucket_item.heading._metric":"Brak głównej metryki w Twojej wizualizacji","dashboard.error.missing_primary_bucket_item.text._measure":"Dodaj główną miarę do swojej wizualizacji lub przełącz się na tabelę. Po wykonaniu tej czynności będzie można ją zapisać.","dashboard.error.missing_primary_bucket_item.text._metric":"Dodaj główną metrykę do swojej wizualizacji lub przełącz się na tabelę. Po wykonaniu tej czynności będzie można ją zapisać.","dashboard.xirr.error.invalid_buckets.heading":"Niekompletna konfiguracja","dashboard.xirr.error.invalid_buckets.text._measure":"Upewnij się, że wybrałeś jedną miarę i jeden atrybut daty","dashboard.xirr.error.invalid_buckets.text._metric":"Upewnij się, że wybrałeś jedną metrykę i jeden atrybut daty","properties.unsupported":"Ta wizualizacja nie obsługuje konfiguracji","properties.config.not_applicable":"Panel konfiguracyjny nie jest dostępny dla tej konfiguracji wizualizacji","properties.not_applicable":"Właściwość nie ma zastosowania dla tej konfiguracji wizualizacji","properties.auto_placeholder":"automatyczny","properties.auto_default":"auto (domyślnie)","properties.legend.title":"Legenda","properties.legend.position":"Pozycja","properties.total.title":"Suma","properties.total.name":"Nazwa","properties.total.tooltip":"Dodaj sumę wszystkich wartości jako kolumnę na końcu.","properties.total.measures.tooltip":"Wyłącz opcje „jest sumą” w metryce, aby dodać sumę wszystkich wartości jako kolumnę na końcu.","properties.color.total":"Suma","properties.color.positive":"Pozytywny","properties.color.negative":"Negatywny","properties.canvas.title":"Płótno","properties.canvas.gridline":"Linia siatki","properties.canvas.labels.percentages":"Procent","properties.canvas.labels.percentages.info":"Wyświetlaj procenty na każdym wycinku, z górnym wycinkiem jako 100%, a pozostałymi jako ułamki tej wartości.","properties.canvas.labels.percentages.disabled":"Procenty są ukryte z powodu ukrytych etykiet danych.","properties.canvas.continuousLine.label":"Linia ciągła","properties.canvas.continuousLine.tooltip":"Narysuj linię między punktami z brakującymi wartościami.","properties.canvas.dataLabels":"Etykiety danych","properties.canvas.dataLabels.auto":"auto (domyślnie)","properties.canvas.dataLabels.show":"pokaż","properties.canvas.dataLabels.hide":"ukryj","properties.canvas.rowHeight":"Wysokość wiersza","properties.canvas.rowHeight.small":"mały","properties.canvas.rowHeight.medium":"średni","properties.canvas.rowHeight.large":"duży","properties.canvas.verticalAlign":"Wyrównanie pionowe","properties.canvas.verticalAlign.top":"góra","properties.canvas.verticalAlign.middle":"środek","properties.canvas.verticalAlign.bottom":"dół","properties.canvas.textWrapping":"Zawijanie tekstu","properties.canvas.textWrapping.clip":"klip","properties.canvas.textWrapping.wrap":"zawijanie","properties.canvas.image":"Obraz","properties.canvas.image.fit":"dopasuj","properties.canvas.image.fill":"wypełnij","properties.forecast.title":"Prognoza","properties.forecastDisabled.title":"Prognoza nie jest dostępna dla tej kombinacji segmentów","properties.forecastPeriod.title":"Okres","properties.forecastPeriod.placeholder":"Okres","properties.forecastSeasonal.title":"Sezonowość","properties.forecastConfidence.title":"Pewność","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"Łączna liczba etykiet","properties.canvas.totalLabels.auto":"auto (domyślnie)","properties.canvas.totalLabels.show":"pokaż","properties.canvas.totalLabels.hide":"ukryj","properties.canvas.dataPoints":"Punkty danych","properties.canvas.dataPoints.auto":"auto (domyślnie)","properties.canvas.dataPoints.show":"pokaż","properties.canvas.dataPoints.hide":"ukryj","properties.yaxis.title":"Oś Y","properties.axis.labels":"etykiety","properties.axis.rotation":"Rotacja","properties.axis.format":"Format","properties.axis.format.inherit":"dziedziczenie","properties.axis.format.info.inherit._measure":"Format jest dziedziczony z pierwszej miary w wizualizacji.","properties.axis.format.info.inherit._metric":"Format jest dziedziczony z pierwszej metryki w wizualizacji.","properties.axis.name":"nazwa","properties.axis.name.position":"Pozycja","properties.axis.name.position.left":"lewo","properties.axis.name.position.center":"środek","properties.axis.name.position.right":"prawo","properties.axis.name.position.top":"góra","properties.axis.name.position.middle":"środek","properties.axis.name.position.bottom":"dół","properties.axis.min":"Min","properties.axis.min.warning":"Minimalna wartość nie może być większa niż maksymalna wartość","properties.axis.max":"Maks","properties.axis.max.warning":"Maksymalna wartość nie może być mniejsza niż minimalna wartość","properties.xaxis.title":"Oś X","properties.axis.scale":"skala","properties.axis.left":"Lewo","properties.axis.right":"Prawo","properties.axis.top":"Góra","properties.axis.bottom":"Dół","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"góra","properties.legend.position.down":"dół","properties.legend.position.right":"prawo","properties.legend.position.left":"lewo","properties.orientation.title":"Orientacja","properties.orientation.horizontal":"Poziomy (domyślny)","properties.orientation.vertical":"Pionowy","properties.points.title":"Punkty","properties.points.groupNearbyPoints":"Grupuj pobliskie punkty","properties.points.size.title":"Rozmiar punktu","properties.points.size.extra_small":"0,5x","properties.points.size.small":"0,75x","properties.points.size.normal":"normalny","properties.points.size.large":"1,25x","properties.points.size.extra_large":"1,5x","properties.points.size.min.title":"Najmniejszy","properties.points.size.max.title":"Największy","properties.map.title":"Mapa","properties.viewport.area.title":"Domyślny widok","properties.viewport.area.auto_default":"Uwzględnij wszystkie dane","properties.viewport.area.continents":"kontynenty","properties.viewport.area.continent_af":"Afryka","properties.viewport.area.continent_as":"Azja","properties.viewport.area.continent_au":"Australia","properties.viewport.area.continent_eu":"Europa","properties.viewport.area.continent_na":"Ameryka Północna","properties.viewport.area.continent_sa":"Ameryka Południowa","properties.viewport.area.world":"Świat","gs.color-dropdown.custom-color":"Kolor niestandardowy","properties.colors.reset-colors":"Resetuj kolory","properties.colors":"Kolory","properties.colors.unsupported":"Brak kolorów dla tej konfiguracji wizualizacji","export_unsupported.colors":"Wizualizacja nie jest kompatybilna z niestandardowymi kolorami. Aby otworzyć wizualizację jako raport, kliknij Resetuj kolory w Konfiguracja —> Kolory.","dashboard.bucket.measures_title.bullet._measure":"Miara","dashboard.bucket.measures_title.bullet._metric":"Metryka","dashboard.bucket.secondary_measures_title.bullet._measure":"Miara","dashboard.bucket.secondary_measures_title.bullet._metric":"Metryka","dashboard.bucket.tertiary_measures_title.bullet._measure":"Miara","dashboard.bucket.tertiary_measures_title.bullet._metric":"Metryka","dashboard.bucket.measures_subtitle.bullet":"Podstawowy","dashboard.bucket.secondary_measures_subtitle.bullet":"Cel","dashboard.bucket.tertiary_measures_subtitle.bullet":"Porównawczy","sorting.disabled.explanation.attribute":"Sortowanie nie jest możliwe dla tej konfiguracji wizualizacji.","sorting.disabled.explanation.measure._measure":"Musisz dodać co najmniej jeden atrybut, aby posortować wizualizację. Możesz również dostosować pozycję elementów w sekcji Miary, aby zmienić ich pozycję w wizualizacji.","sorting.disabled.explanation.measure._metric":"Musisz dodać co najmniej jeden atrybut, aby posortować wizualizację. Możesz również dostosować pozycję elementów w sekcji Metryki, aby zmienić ich pozycję w wizualizacji.","properties.metrics.title._measure":"Miary","properties.metrics.title._metric":"Metryki","properties.metrics.position":"Pozycja","properties.metrics.position.columns":"kolumny (domyślnie)","properties.metrics.position.rows":"wiersze","properties.column.headers.title":"Nagłówki kolumn","properties.column.headers.position":"Pozycja","properties.column.headers.position.top":"góra (domyślnie)","properties.column.headers.position.left":"lewo","dashboard.bucket.table.subtitle.columns":"w kolumnach","dashboard.bucket.table.subtitle.rows":"w wierszach","properties.interactions.title":"Interakcje","properties.interactions.drillDown":"Przewijanie w dół","properties.comparison.title":"Porównanie","properties.comparison.calculationType.title":"Obliczane jako","properties.comparison.calculationType.as.change":"Zmień","properties.comparison.calculationType.as.ratio":"Wskaźnik","properties.comparison.calculationType.as.difference":"Różnica","properties.comparison.calculationType.as.changeDifference":"Zmiana (różnica)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"Oblicza względną zmianę między wartościami metryki głównej i pomocniczej.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"Oblicza względną zmianę między wartościami miary podstawowej a miary pomocniczej.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"Określa udział wartości metryki głównej w wartości metryki pomocniczej.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"Określa udział wartości miary podstawowej w wartości miary wtórnej.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"Oblicza bezwzględną różnicę między wartościami metryki głównej i pomocniczej.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"Oblicza bezwzględną różnicę między wartościami miary głównej i pomocniczej.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"Oblicza zarówno względną zmianę, jak i absolutną różnicę między wartościami metryk podstawowych i pomocniczych.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"Oblicza zarówno względną zmianę, jak i absolutną różnicę między wartościami miar głównych i pomocniczych.","properties.comparison.calculationType.tooltip.formula.section":"Formuła","properties.comparison.calculationType.tooltip.formulaChange.section":"Formuła (zmiana względna)","properties.comparison.calculationType.tooltip.formulaDifference.section":"Formuła (różnica bezwzględna)","properties.comparison.calculationType.as.change.tooltip.formula":"(Pierwotny – Wtórny) / Wtórny","properties.comparison.calculationType.as.ratio.tooltip.formula":"Podstawowy / Wtórny","properties.comparison.calculationType.as.difference.tooltip.formula":"Pierwotny – Wtórny","properties.comparison.calculationType.tooltip.example.section":"Przykład","properties.comparison.calculationType.as.change.tooltip.example":"Zmiana sprzedaży rok do roku = (sprzedaż w bieżącym roku - sprzedaż w poprzednim roku) / sprzedaż w poprzednim roku","properties.comparison.calculationType.as.ratio.tooltip.example":"Bieżąca sprzedaż w porównaniu do kwoty = bieżąca sprzedaż / kwota","properties.comparison.calculationType.as.difference.tooltip.example":"Różnica sprzedaży rok do roku = sprzedaż w bieżącym roku - sprzedaż w poprzednim roku","properties.comparison.calculationType.as.changeDifference.tooltip.example":"Zmiana sprzedaży rok do roku = [(sprzedaż w bieżącym roku - sprzedaż w poprzednim roku) / sprzedaż w poprzednim roku] ORAZ [sprzedaż w bieżącym roku - sprzedaż w poprzednim roku]","properties.comparison.measureNumber.format.preset.inherit":"Dziedziczenie","properties.comparison.measureNumber.format.preset.rounded":"Zaokrąglony","properties.comparison.measureNumber.format.preset.decimal1":"Dziesiętny (1)","properties.comparison.measureNumber.format.preset.decimal2":"Dziesiętny (2)","properties.comparison.measureNumber.format.preset.percentRounded":"Procent (zaokrąglony)","properties.comparison.measureNumber.format.preset.percent1":"Procent (1)","properties.comparison.measureNumber.format.preset.percent2":"Procent (2)","properties.comparison.measureNumber.format.template.rounded":"Zaokrąglony","properties.comparison.measureNumber.format.template.decimal1":"Dziesiętny (1)","properties.comparison.measureNumber.format.template.decimal2":"Dziesiętny (2)","properties.comparison.measureNumber.format.template.percentRounded":"Procent (zaokrąglony)","properties.comparison.measureNumber.format.template.percent1":"Procent (1)","properties.comparison.measureNumber.format.template.percent2":"Procent (2)","properties.comparison.measureNumber.format.template.currency":"Waluta","properties.comparison.measureNumber.format.template.currencyShortened":"Skrócona waluta","properties.comparison.measureNumber.format.template.largeNumbersShortened":"Skrócone duże liczby","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"Duże liczby skrócone za pomocą kolorów","properties.comparison.measureNumber.format.template.negativeNumbersRed":"Liczby ujemne na czerwono","properties.comparison.measureNumber.format.template.financial":"Finansowy","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"Dziesiętny (2) bez separatora tysięcy","properties.comparison.measureNumber.format.template.conditionalColors":"Kolory warunkowe","properties.comparison.measureNumber.format.template.trendSymbols":"Symbole trendów","properties.comparison.measureNumber.format.template.timeFromSeconds":"Czas (z sekundami)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"Zero zamiast pustej wartości","properties.comparison.valueSubSection.title":"Wartość","properties.comparison.format.title":"Formatowanie","properties.comparison.subFormat.title":"(Formatowanie)","properties.comparison.indicator.title":"Wskaźnik","properties.comparison.indicator.arrow.title":"Strzałka","properties.comparison.indicator.colorConfig.title":"Kolor","properties.comparison.indicator.colorConfig.equals":"Podstawowy = Wtórny","properties.comparison.indicator.colorConfig.positive":"Podstawowy > Wtórny","properties.comparison.indicator.colorConfig.negative":"Podstawowy < Wtórny","properties.comparison.labelSubSection.title":"Etykieta","properties.comparison.labelSubSection.positionOnTop.disabled":"Etykiety nie mają zastosowania dla pozycji wartości na górze.","properties.comparison.labelSubSection.conditional.disabled":"Etykiety warunkowe nie mają zastosowania do obliczeń wskaźników.","properties.comparison.labelName.title":"Nazwa","properties.comparison.labelConditional.title":"Warunkowy","properties.comparison.labelPositive.title":"Podstawowy > Wtórny","properties.comparison.labelNegative.title":"Podstawowy < Wtórny","properties.comparison.labelEquals.title":"Podstawowy = Wtórny","properties.comparison.position.title":"Pozycja","properties.comparison.position.top":"góra","properties.comparison.position.right":"prawo","properties.comparison.position.left":"lewo","properties.forecastSliced.title":"Wyświetlanie częściowej prognozy.","properties.forecastSliced.description":"Dostępne punkty danych nie obejmują całego wybranego okresu.","dashboard.bucket.segment_title.scatter":"Segmentuj wg","properties.clustering.title":"Klastrowanie","properties.clustering.amount":"Kwota","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"Wyświetlanie częściowych klastrów","properties.clustering.amount.partial.description":"Dostępne punkty danych nie obejmują całej wybranej ilości.","properties.clustering.disabled":"Klastrowanie wymaga 2 metryk i Widoku wg, bez Segmentacji wg.","properties.clustering.threshold":"Próg","properties.clustering.threshold.placeholder":"0,03","properties.clustering.threshold.tooltip":"Próg to limit, który określa, kiedy grupować dane. <link>Dowiedz się więcej</link>","visualizations.headline.tertiary.title":"Versus","properties.interactions.alerts":"Alert","properties.interactions.alerts.tooltip":"Zezwól użytkownikom na tworzenie alertów dla tej wizualizacji na pulpitach nawigacyjnych.","properties.interactions.scheduledExports":"Zaplanowane eksporty","properties.interactions.scheduledExports.tooltip":"Umożliw użytkownikom tworzenie zaplanowanych eksportów dla tej wizualizacji na pulpitach nawigacyjnych.","properties.advanced.title":"Niestandardowe dostosowania","properties.advanced.chartConfigOverride.noValueLabel":"Brak jeszcze dostosowań.","properties.advanced.chartConfigOverride.link":"Dowiedz się więcej","properties.advanced.chartConfigOverride.editorButton":"Otwórz edytor","properties.advanced.chartConfigOverride.title":"Niestandardowa personalizacja","properties.advanced.chartConfigOverride.snippets.header":"Fragmenty","properties.advanced.chartConfigOverride.button.apply":"Zastosuj","properties.advanced.chartConfigOverride.button.cancel":"Anuluj","gs.date.yesterday":"Wczoraj","notifications.panel.tab.unread":"Nieprzeczytane ({count})","notifications.panel.tab.all":"Wszystko","notifications.panel.markAllAsRead":"Oznacz wszystkie jako przeczytane","notifications.panel.error.loading":"Błąd ładowania powiadomień","notifications.panel.empty.all":"Brak powiadomień","notifications.panel.empty.unread":"Brak nieprzeczytanych powiadomień","notifications.panel.unsupported.notification.type":"Nieobsługiwany typ powiadomienia","notifications.panel.markAsRead":"Oznacz jako przeczytane","notifications.filters.buttonLabel":"{count, plural, one {# filtr} other {# filtry}}","notifications.filters.dialog.title":"Filtry","notifications.filters.dialog.dateRange":"Zakres Dat","notifications.panel.triggers.title":"dla {triggeredCount}/{totalCount} elementów","notifications.panel.triggers.dialog.newValue":"Nowa wartość",close:"Zamknij","notifications.panel.triggers.dialog.title":"Wyzwolone dla","notifications.panel.error.learnMore":"Dowiedz się więcej","notifications.panel.error.traceId":"ID śledzenia","notifications.panel.error.message":"Alert nie mógł zostać przetworzony.","notifications.panel.button.label":"Powiadomienia","notifications.panel.notifications.list.label":"Powiadomienia","notifications.panel.alert.notification.type.label":"Powiadomienie o alercie","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…i {count} więcej","notifications.panel.download":"Pobierz","notifications.panel.expiresOn":"Wygasa w dniu{date}","notifications.panel.linkHasExpired":"Link wygasł","notifications.panel.toast.warning.filesExpired":"<strong>Link do pobrania wygasł</strong> — poczekaj na następny eksport lub utwórz go ręcznie.","notifications.panel.dashboardLinkHint":"Otwórz pulpit nawigacyjny używany do tego eksportu","notifications.panel.dashboardLink":"Z{dashboardTitle}","notifications.panel.downloadFilesHint":"Pobierz wyeksportowane pliki","notifications.panel.error.alert.title":"Alert nie mógł zostać przetworzony.","notifications.panel.error.schedule.title":"Eksport zaplanowany nie powiódł się.","notifications.panel.error.limitExceeded.message":"Nie można wysłać eksportu, ponieważ Twoja organizacja osiągnęła limit maksymalnej liczby dziennych alertów i zaplanowanych eksportów. Proszę skontaktować się z administratorem."},"ko-KR":{or:"또는","dashboard.bucket.measures_title.column._measure":"측정값","dashboard.bucket.measures_title.column._metric":"메트릭","dashboard.bucket.measures_title.bar._measure":"측정값","dashboard.bucket.measures_title.bar._metric":"메트릭","dashboard.bucket.measures_title.line._measure":"측정값","dashboard.bucket.measures_title.line._metric":"메트릭","dashboard.bucket.measures_title.area._measure":"측정값","dashboard.bucket.measures_title.area._metric":"메트릭","dashboard.bucket.measures_title.pie._measure":"측정값","dashboard.bucket.measures_title.pie._metric":"메트릭","dashboard.bucket.measures_title.funnel._measure":"측정값","dashboard.bucket.measures_title.funnel._metric":"메트릭","dashboard.bucket.measures_title.pyramid._measure":"측정값","dashboard.bucket.measures_title.pyramid._metric":"메트릭","dashboard.bucket.measures_title.treemap._measure":"측정값","dashboard.bucket.measures_title.treemap._metric":"메트릭","dashboard.bucket.measures_title.donut._measure":"측정값","dashboard.bucket.measures_title.donut._metric":"메트릭","dashboard.bucket.measures_title.heatmap._measure":"측정값","dashboard.bucket.measures_title.heatmap._metric":"메트릭","dashboard.bucket.measures_title.headline._measure":"측정값","dashboard.bucket.measures_title.headline._metric":"메트릭","dashboard.bucket.measures_subtitle.headline":"기본","dashboard.bucket.secondary_measures_title.headline._measure":"측정값","dashboard.bucket.secondary_measures_title.headline._metric":"메트릭","dashboard.bucket.secondary_measures_subtitle.headline":"보조","dashboard.bucket.measures_title.scatter._measure":"측정값","dashboard.bucket.measures_title.scatter._metric":"메트릭","dashboard.bucket.secondary_measures_title.scatter._measure":"측정값","dashboard.bucket.secondary_measures_title.scatter._metric":"메트릭","dashboard.bucket.measures_subtitle.scatter":"X축","dashboard.bucket.secondary_measures_subtitle.scatter":"Y축","dashboard.bucket.attribute_title.scatter":"보기 기준","dashboard.bucket.measures_title.combo._measure":"측정값","dashboard.bucket.measures_title.combo._metric":"메트릭","dashboard.bucket.measures_subtitle.combo":"열","dashboard.bucket.secondary_measures_title.combo._measure":"측정값","dashboard.bucket.secondary_measures_title.combo._metric":"메트릭","dashboard.bucket.secondary_measures_subtitle.combo":"라인","dashboard.bucket.measures_title.xirr._measure":"측정값","dashboard.bucket.measures_title.xirr._metric":"메트릭","dashboard.bucket.measures_title.waterfall._measure":"측정값","dashboard.bucket.measures_title.waterfall._metric":"메트릭","dashboard.bucket.attribute_title.xirr":"날짜 속성","dashboard.bucket.attribute_from_title.sankey":"속성","dashboard.bucket.attribute_from_subtitle.sankey":"시작일","dashboard.bucket.attribute_to_title.sankey":"속성","dashboard.bucket.attribute_to_subtitle.sankey":"종료일","dashboard.bucket.attribute_from_title.dependencywheel":"속성","dashboard.bucket.attribute_from_subtitle.dependencywheel":"시작일","dashboard.bucket.attribute_to_title.dependencywheel":"속성","dashboard.bucket.attribute_to_subtitle.dependencywheel":"종료일","dashboard.bucket.combo.subtitle.column":"열 기준","dashboard.bucket.combo.subtitle.line":"라인 기준","dashboard.bucket.combo.subtitle.area":"영역 기준","dashboard.bucket.measures_title.bubble._measure":"측정값","dashboard.bucket.measures_title.bubble._metric":"메트릭","dashboard.bucket.secondary_measures_title.bubble._measure":"측정값","dashboard.bucket.secondary_measures_title.bubble._metric":"메트릭","dashboard.bucket.tertiary_measures_title.bubble._measure":"측정값","dashboard.bucket.tertiary_measures_title.bubble._metric":"메트릭","dashboard.bucket.measures_subtitle.bubble":"X축","dashboard.bucket.secondary_measures_subtitle.bubble":"Y축","dashboard.bucket.tertiary_measures_subtitle.bubble":"크기","dashboard.bucket.location_title.pushpin":"위치","dashboard.bucket.size_title.pushpin._measure":"측정값","dashboard.bucket.size_title.pushpin._metric":"메트릭","dashboard.bucket.size_subtitle.pushpin":"크기","dashboard.bucket.color_title.pushpin._measure":"측정값","dashboard.bucket.color_title.pushpin._metric":"메트릭","dashboard.bucket.color_subtitle.pushpin":"색상","dashboard.bucket.view_title.bubble":"보기 기준","dashboard.bucket.view_title.pie":"보기 기준","dashboard.bucket.view_title.treemap":"보기 기준","dashboard.bucket.view_title.donut":"보기 기준","dashboard.bucket.view_title.funnel":"보기 기준","dashboard.bucket.view_title.pyramid":"보기 기준","dashboard.bucket.view_title.column":"보기 기준","dashboard.bucket.view_title.bar":"보기 기준","dashboard.bucket.view_title.area":"보기 기준","dashboard.bucket.view_title.bullet":"보기 기준","dashboard.bucket.view_title.waterfall":"보기 기준","dashboard.bucket.view_title.heatmap":"행","dashboard.bucket.trend_title.line":"추세 기준","dashboard.bucket.view_title.combo":"보기 기준","dashboard.bucket.stack_title.column":"스택 기준","dashboard.bucket.stack_title.bar":"스택 기준","dashboard.bucket.stack_title.area":"스택 기준","dashboard.bucket.stack_title.heatmap":"열","dashboard.bucket.segment_title.line":"세그먼트 기준","dashboard.bucket.segment_title.treemap":"세그먼트 기준","dashboard.bucket.segment_title.pushpin":"세그먼트 기준","dashboard.bucket.metric_segment_by_warning._measure":"추가적인 측정값을 추가하려면, {icons}을(를) '<span class=\"stack-by\">'세그먼트 기준'</span>'에서 제거하세요.","dashboard.bucket.metric_segment_by_warning._metric":"추가적으로 메트릭을 추가하려면, {icons}을(를)'<span class=\"stack-by\">'세그먼트 기준'</span>'에서 제거하세요.","dashboard.bucket.metric_stack_by_warning._measure":"추가적인 측정값을 추가하려면 {icons}을(를) '<span class=\"stack-by\">'스택 기준'</span>'에서 제거하세요.","dashboard.bucket.metric_stack_by_warning._metric":"추가적인 메트릭을 추가하려면, {icons}을(를) '<span class=\"stack-by\">' 스택 기준 '</span>'에서 제거하세요","dashboard.bucket.metric_view_by_warning._measure":"추가적인 측정값을 추가하려면, {icons}을(를) '<span class=\"stack-by\">' 보기 기준 '</span>'에서 제거하세요","dashboard.bucket.metric_view_by_warning._metric":"추가적인 메트릭을 추가하려면, {icons}을(를) '<span class=\"stack-by\">' 보기 기준 '</span>'에서 제거하세요","dashboard.bucket.category_view_by_warning._measure":"다른 속성으로 보려면 시각화에 하나의 측정값만 있을 수 있습니다","dashboard.bucket.category_view_by_warning._metric":"다른 속성으로 보려면 시각화에 하나의 메트릭만 포함될 수 있습니다","dashboard.bucket.view_stack_by_warning":"추가적인 속성을 추가하려면, {icons}을(를) '<span class=\"stack-by\">' 스택 기준 '</span>'에서 제거하세요","dashboard.bucket.category_stack_by_warning._measure":"시각화를 스택하려면 하나의 측정값만 가질 수 있습니다","dashboard.bucket.category_stack_by_warning._metric":"시각화를 스택하려면 하나의 메트릭만 사용할 수 있습니다","dashboard.bucket.stack_view_by_warning":"스택 기준으로, 시각화는 보기 기준으로 하나의 속성만 가질 수 있습니다","dashboard.bucket.measure_stack_by_warning._measure":"속성을 기준으로 스택하려면 시각화에 하나의 측정값만 있을 수 있습니다","dashboard.bucket.measure_stack_by_warning._metric":"속성을 기준으로 스택하려면 시각화에 하나의 메트릭만 포함될 수 있습니다","dashboard.bucket.category_columns_warning._measure":"열을 추가할 수 없습니다: 제한은 {oldLimit} 측정값 및 {oldRowsLimit} 행입니다. 제한을 준수하여 더 추가하세요","dashboard.bucket.category_columns_warning._metric":"열을 추가할 수 없습니다: 제한은 {oldLimit} 메트릭 및 {oldRowsLimit} 행입니다. 제한을 준수하여 더 추가하세요","dashboard.bucket.category_measures_rows_warning":"{limit}개를 더 추가하려면 열 섹션에서 모든 항목을 제거하세요","dashboard.bucket.category_category_by_warning._measure":"보기 기준으로, 시각화는 하나의 측정값만 가질 수 있습니다","dashboard.bucket.category_category_by_warning._metric":"보기 기준으로, 시각화는 하나의 메트릭만 가질 수 있습니다","dashboard.bucket.category_segment_by_warning._measure":"세그먼트를 위해 시각화는 하나의 측정값만 가질 수 있습니다","dashboard.bucket.category_segment_by_warning._metric":"세그먼트를 나누기 위해 시각화는 하나의 메트릭만 가질 수 있습니다","dashboard.bucket.measures_title.table._measure":"측정값","dashboard.bucket.measures_title.table._metric":"메트릭","dashboard.bucket.measures_title.sankey._measure":"측정값","dashboard.bucket.measures_title.sankey._metric":"메트릭","dashboard.bucket.measures_title.dependencywheel._measure":"측정값","dashboard.bucket.measures_title.dependencywheel._metric":"메트릭","dashboard.bucket.attribute_title.table":"행","dashboard.bucket.columns_title.table":"열","dashboard.bucket.attribute_title.repeater":"행","dashboard.bucket.view_title.repeater":"보기 기준","dashboard.bucket.columns_title.repeater":"열","dashboard.error.missing_primary_bucket_item.heading._measure":"시각화에 기본 측정값이 없습니다","dashboard.error.missing_primary_bucket_item.heading._metric":"시각화에 기본 측정항목이 없습니다","dashboard.error.missing_primary_bucket_item.text._measure":"시각화에 기본 측정값을 추가하거나 테이블로 전환하세요. 완료되면 저장할 수 있습니다.","dashboard.error.missing_primary_bucket_item.text._metric":"시각화에 기본 메트릭을 추가하거나 테이블로 전환하세요. 완료되면 저장할 수 있습니다.","dashboard.xirr.error.invalid_buckets.heading":"구성이 불완전함","dashboard.xirr.error.invalid_buckets.text._measure":"하나의 측정값과 하나의 날짜 속성을 선택했는지 확인하세요","dashboard.xirr.error.invalid_buckets.text._metric":"하나의 측정값과 하나의 날짜 속성을 선택했는지 확인하세요","properties.unsupported":"이 시각화는 구성을 지원하지 않습니다","properties.config.not_applicable":"이 시각화의 구성에는 구성 패널이 적용되지 않습니다","properties.not_applicable":"속성은 이 시각화 구성에 적용되지 않습니다","properties.auto_placeholder":"자동","properties.auto_default":"자동(기본값)","properties.legend.title":"범례","properties.legend.position":"위치","properties.total.title":"총계","properties.total.name":"이름","properties.total.tooltip":"모든 값의 합계를 마지막에 열로 추가하세요","properties.total.measures.tooltip":'측정항목에서 "총계" 옵션을 비활성화하여 모든 값의 합계를 마지막에 열로 추가합니다.',"properties.color.total":"총계","properties.color.positive":"긍정적","properties.color.negative":"부정적","properties.canvas.title":"캔버스","properties.canvas.gridline":"격자선","properties.canvas.labels.percentages":"백분율","properties.canvas.labels.percentages.info":"각 조각에 백분율을 표시하되, 가장 위의 조각을 100%로 하고 나머지는 해당 값의 분수로 표시합니다.","properties.canvas.labels.percentages.disabled":"데이터 레이블이 숨겨져 있어 백분율이 표시되지 않습니다.","properties.canvas.continuousLine.label":"연속선","properties.canvas.continuousLine.tooltip":"누락된 값이 있는 지점 사이에 선을 그립니다.","properties.canvas.dataLabels":"데이터 레이블","properties.canvas.dataLabels.auto":"자동(기본값)","properties.canvas.dataLabels.show":"보기","properties.canvas.dataLabels.hide":"숨기기","properties.canvas.rowHeight":"행 높이","properties.canvas.rowHeight.small":"소형","properties.canvas.rowHeight.medium":"중간","properties.canvas.rowHeight.large":"대형","properties.canvas.verticalAlign":"수직 정렬","properties.canvas.verticalAlign.top":"상단","properties.canvas.verticalAlign.middle":"중간","properties.canvas.verticalAlign.bottom":"하단","properties.canvas.textWrapping":"텍스트 줄 바꿈","properties.canvas.textWrapping.clip":"클립","properties.canvas.textWrapping.wrap":"랩","properties.canvas.image":"이미지","properties.canvas.image.fit":"맞춤","properties.canvas.image.fill":"채우기","properties.forecast.title":"예측","properties.forecastDisabled.title":"이 버킷 조합에 대한 예측을 사용할 수 없습니다","properties.forecastPeriod.title":"기간","properties.forecastPeriod.placeholder":"기간","properties.forecastSeasonal.title":"계절성","properties.forecastConfidence.title":"신뢰도","properties.forecastConfidence.70":"70%","properties.forecastConfidence.75":"75%","properties.forecastConfidence.80":"80%","properties.forecastConfidence.85":"85%","properties.forecastConfidence.90":"90%","properties.forecastConfidence.95":"95%","properties.canvas.totalLabels":"총 레이블 수","properties.canvas.totalLabels.auto":"자동(기본값)","properties.canvas.totalLabels.show":"보기","properties.canvas.totalLabels.hide":"숨기기","properties.canvas.dataPoints":"데이터 포인트","properties.canvas.dataPoints.auto":"자동(기본값)","properties.canvas.dataPoints.show":"보기","properties.canvas.dataPoints.hide":"숨기기","properties.yaxis.title":"Y축","properties.axis.labels":"레이블","properties.axis.rotation":"회전","properties.axis.format":"형식","properties.axis.format.inherit":"상속","properties.axis.format.info.inherit._measure":"형식은 시각화의 첫 번째 측정값에서 상속됩니다.","properties.axis.format.info.inherit._metric":"형식은 시각화의 첫 번째 메트릭에서 상속됩니다.","properties.axis.name":"이름","properties.axis.name.position":"위치","properties.axis.name.position.left":"왼쪽","properties.axis.name.position.center":"중앙","properties.axis.name.position.right":"오른쪽","properties.axis.name.position.top":"상단","properties.axis.name.position.middle":"중간","properties.axis.name.position.bottom":"하단","properties.axis.min":"최소값","properties.axis.min.warning":"최소값은 최대값보다 클 수 없습니다","properties.axis.max":"최대값","properties.axis.max.warning":"최대값은 최소값보다 작을 수 없습니다","properties.xaxis.title":"X축","properties.axis.scale":"스케일","properties.axis.left":"왼쪽","properties.axis.right":"오른쪽","properties.axis.top":"상단","properties.axis.bottom":"하단","properties.rotation.0":"0°","properties.rotation.30":"30°","properties.rotation.60":"60°","properties.rotation.90":"90°","properties.legend.position.up":"상단","properties.legend.position.down":"하단","properties.legend.position.right":"오른쪽","properties.legend.position.left":"왼쪽","properties.orientation.title":"오리엔테이션","properties.orientation.horizontal":"수평(기본값)","properties.orientation.vertical":"수직","properties.points.title":"포인트","properties.points.groupNearbyPoints":"근처 포인트 그룹화","properties.points.size.title":"포인트 크기","properties.points.size.extra_small":"0.5배","properties.points.size.small":"0.75배","properties.points.size.normal":"정상","properties.points.size.large":"1.25배","properties.points.size.extra_large":"1.5배","properties.points.size.min.title":"가장 작은","properties.points.size.max.title":"가장 큰","properties.map.title":"지도","properties.viewport.area.title":"기본 뷰포트","properties.viewport.area.auto_default":"모든 데이터 포함","properties.viewport.area.continents":"대륙","properties.viewport.area.continent_af":"아프리카","properties.viewport.area.continent_as":"아시아","properties.viewport.area.continent_au":"호주","properties.viewport.area.continent_eu":"유럽","properties.viewport.area.continent_na":"아메리카(북부)","properties.viewport.area.continent_sa":"아메리카(남부)","properties.viewport.area.world":"세계","gs.color-dropdown.custom-color":"사용자 정의 색상","properties.colors.reset-colors":"색상 재설정","properties.colors":"색상","properties.colors.unsupported":"이 시각화 구성에는 색상이 없습니다","export_unsupported.colors":"시각화는 사용자 지정 색상과 호환되지 않습니다. 시각화를 보고서로 열려면 구성 —> 색상에서 색상 재설정을 클릭하세요.","dashboard.bucket.measures_title.bullet._measure":"측정값","dashboard.bucket.measures_title.bullet._metric":"메트릭","dashboard.bucket.secondary_measures_title.bullet._measure":"측정값","dashboard.bucket.secondary_measures_title.bullet._metric":"메트릭","dashboard.bucket.tertiary_measures_title.bullet._measure":"측정값","dashboard.bucket.tertiary_measures_title.bullet._metric":"메트릭","dashboard.bucket.measures_subtitle.bullet":"기본","dashboard.bucket.secondary_measures_subtitle.bullet":"대상","dashboard.bucket.tertiary_measures_subtitle.bullet":"비교 분석","sorting.disabled.explanation.attribute":"이 시각화 구성에서는 정렬이 불가능합니다.","sorting.disabled.explanation.measure._measure":"시각화를 정렬하려면 적어도 하나의 속성을 추가해야 합니다. 또한, 측정값 섹션에서 항목의 위치를 조정하여 시각화에서의 위치를 변경할 수 있습니다.","sorting.disabled.explanation.measure._metric":"시각화를 정렬하려면 적어도 하나의 속성을 추가해야 합니다. 또한, 시각화에서 항목의 위치를 변경하려면 메트릭 섹션에서 항목의 위치를 조정할 수 있습니다.","properties.metrics.title._measure":"측정값","properties.metrics.title._metric":"메트릭","properties.metrics.position":"위치","properties.metrics.position.columns":"열(기본값)","properties.metrics.position.rows":"행","properties.column.headers.title":"열 머리글","properties.column.headers.position":"위치","properties.column.headers.position.top":"상단(기본값)","properties.column.headers.position.left":"왼쪽","dashboard.bucket.table.subtitle.columns":"열에","dashboard.bucket.table.subtitle.rows":"행에","properties.interactions.title":"인터랙션","properties.interactions.drillDown":"드릴 다운","properties.comparison.title":"비교","properties.comparison.calculationType.title":"다음과 같이 계산됨","properties.comparison.calculationType.as.change":"변경","properties.comparison.calculationType.as.ratio":"비율","properties.comparison.calculationType.as.difference":"차이점","properties.comparison.calculationType.as.changeDifference":"변화(차이)","properties.comparison.calculationType.as.change.tooltip.useIn._metric":"기본 메트릭 값과 보조 메트릭 값 간의 상대 변화를 계산합니다.","properties.comparison.calculationType.as.change.tooltip.useIn._measure":"기본 측정값과 보조 측정값 간의 상대 변화를 계산합니다.","properties.comparison.calculationType.as.ratio.tooltip.useIn._metric":"기본 메트릭이 보조 메트릭에서 차지하는 비율을 정량화합니다.","properties.comparison.calculationType.as.ratio.tooltip.useIn._measure":"기본 측정값이 보조 측정값에서 차지하는 비율을 정량화합니다.","properties.comparison.calculationType.as.difference.tooltip.useIn._metric":"기본 메트릭 값 및 보조 메트릭 값 간의 절대 차이를 계산합니다.","properties.comparison.calculationType.as.difference.tooltip.useIn._measure":"기본 측정값과 보조 측정값 간의 절대 차이를 계산합니다.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._metric":"기본 메트릭 값 및 보조 메트릭 값 간의 상대적 변화와 절대적 차이를 모두 계산합니다.","properties.comparison.calculationType.as.changeDifference.tooltip.useIn._measure":"기본 측정값과 보조 측정값 간의 상대적 변화와 절대적 차이를 모두 계산합니다.","properties.comparison.calculationType.tooltip.formula.section":"수식","properties.comparison.calculationType.tooltip.formulaChange.section":"공식(상대적 변화)","properties.comparison.calculationType.tooltip.formulaDifference.section":"공식(절대 차이)","properties.comparison.calculationType.as.change.tooltip.formula":"(기본 - 보조) / 보조","properties.comparison.calculationType.as.ratio.tooltip.formula":"기본 / 보조","properties.comparison.calculationType.as.difference.tooltip.formula":"기본 - 보조","properties.comparison.calculationType.tooltip.example.section":"예시","properties.comparison.calculationType.as.change.tooltip.example":"전년 대비 매출 변화 = (현재 연도의 매출 - 전년도 매출) / 전년도 매출","properties.comparison.calculationType.as.ratio.tooltip.example":"현재 판매량 대비 할당량 = 현재 판매량 / 할당량","properties.comparison.calculationType.as.difference.tooltip.example":"전년 대비 매출 차이 = 올해 매출 - 전년도 매출","properties.comparison.calculationType.as.changeDifference.tooltip.example":"전년 대비 매출 변화 = [(현재 연도의 매출 - 이전 연도의 매출) / 이전 연도의 매출] 및 [현재 연도의 매출 - 이전 연도의 매출]","properties.comparison.measureNumber.format.preset.inherit":"상속","properties.comparison.measureNumber.format.preset.rounded":"반올림된","properties.comparison.measureNumber.format.preset.decimal1":"소수(1)","properties.comparison.measureNumber.format.preset.decimal2":"소수점(2)","properties.comparison.measureNumber.format.preset.percentRounded":"백분율(반올림)","properties.comparison.measureNumber.format.preset.percent1":"백분율(1)","properties.comparison.measureNumber.format.preset.percent2":"백분율(2)","properties.comparison.measureNumber.format.template.rounded":"반올림된","properties.comparison.measureNumber.format.template.decimal1":"소수(1)","properties.comparison.measureNumber.format.template.decimal2":"소수점(2)","properties.comparison.measureNumber.format.template.percentRounded":"백분율(반올림)","properties.comparison.measureNumber.format.template.percent1":"백분율(1)","properties.comparison.measureNumber.format.template.percent2":"백분율(2)","properties.comparison.measureNumber.format.template.currency":"통화","properties.comparison.measureNumber.format.template.currencyShortened":"통화 약어","properties.comparison.measureNumber.format.template.largeNumbersShortened":"큰 숫자 축약","properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors":"색상으로 축약된 큰 숫자","properties.comparison.measureNumber.format.template.negativeNumbersRed":"음수는 빨간색으로 표시","properties.comparison.measureNumber.format.template.financial":"재무","properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator":"소수점(2) 천 단위 구분 기호 없음","properties.comparison.measureNumber.format.template.conditionalColors":"조건부 색상","properties.comparison.measureNumber.format.template.trendSymbols":"추세 기호","properties.comparison.measureNumber.format.template.timeFromSeconds":"시간(초부터)","properties.comparison.measureNumber.format.template.zeroInsteadOfNull":"빈 값 대신 0","properties.comparison.valueSubSection.title":"값","properties.comparison.format.title":"형식","properties.comparison.subFormat.title":"(형식)","properties.comparison.indicator.title":"지표","properties.comparison.indicator.arrow.title":"화살표","properties.comparison.indicator.colorConfig.title":"색상","properties.comparison.indicator.colorConfig.equals":"기본 = 보조","properties.comparison.indicator.colorConfig.positive":"기본 > 보조","properties.comparison.indicator.colorConfig.negative":"기본 < 보조","properties.comparison.labelSubSection.title":"레이블","properties.comparison.labelSubSection.positionOnTop.disabled":"값 위치 상단에 라벨 적용 불가","properties.comparison.labelSubSection.conditional.disabled":"비율 계산에는 조건부 레이블이 적용되지 않습니다.","properties.comparison.labelName.title":"이름","properties.comparison.labelConditional.title":"조건부","properties.comparison.labelPositive.title":"기본 > 보조","properties.comparison.labelNegative.title":"기본 < 보조","properties.comparison.labelEquals.title":"기본 = 보조","properties.comparison.position.title":"위치","properties.comparison.position.top":"상단","properties.comparison.position.right":"오른쪽","properties.comparison.position.left":"왼쪽","properties.forecastSliced.title":"부분 예측 표시","properties.forecastSliced.description":"사용 가능한 데이터 포인트가 선택한 전체 기간을 포함하지 않습니다.","dashboard.bucket.segment_title.scatter":"세그먼트 기준","properties.clustering.title":"클러스터","properties.clustering.amount":"양","properties.clustering.amount.placeholder":"3","properties.clustering.amount.partial.title":"부분 클러스터 표시","properties.clustering.amount.partial.description":"사용 가능한 데이터 포인트가 선택한 전체 양을 포함하지 않습니다.","properties.clustering.disabled":"클러스터링은 2개의 메트릭과 보기 기준이 필요하며, 세그먼트 기준은 필요하지 않습니다.","properties.clustering.threshold":"임계값","properties.clustering.threshold.placeholder":"0.03","properties.clustering.threshold.tooltip":"임계값은 데이터를 그룹화할 시점을 결정하는 한계값입니다. <link>자세히 알아보기</link>","visualizations.headline.tertiary.title":"대","properties.interactions.alerts":"경고","properties.interactions.alerts.tooltip":"사용자가 대시보드에서 이 시각화를 위한 경고를 생성할 수 있도록 허용합니다.","properties.interactions.scheduledExports":"예약된 내보내기 작업","properties.interactions.scheduledExports.tooltip":"사용자가 대시보드에서 이 시각화를 위한 예약 내보내기를 생성할 수 있도록 허용합니다.","properties.advanced.title":"고급 사용자 정의","properties.advanced.chartConfigOverride.noValueLabel":"아직 사용자 정의가 없습니다.","properties.advanced.chartConfigOverride.link":"자세히 알아보기","properties.advanced.chartConfigOverride.editorButton":"편집기 열기","properties.advanced.chartConfigOverride.title":"고급 사용자 정의","properties.advanced.chartConfigOverride.snippets.header":"스니펫","properties.advanced.chartConfigOverride.button.apply":"적용","properties.advanced.chartConfigOverride.button.cancel":"취소","gs.date.yesterday":"어제","notifications.panel.tab.unread":"안읽음({count})","notifications.panel.tab.all":"모두","notifications.panel.markAllAsRead":"모두 읽음으로 표시","notifications.panel.error.loading":"알림 로드 오류","notifications.panel.empty.all":"알림 없음","notifications.panel.empty.unread":"안읽은 알림 없음","notifications.panel.unsupported.notification.type":"지원되지 않는 알림 유형","notifications.panel.markAsRead":"읽음으로 표시","notifications.filters.buttonLabel":"{count, plural, one {# 필터} other {# 필터(들)}}","notifications.filters.dialog.title":"필터(들)","notifications.filters.dialog.dateRange":"날짜 범위","notifications.panel.triggers.title":"{triggeredCount}/{totalCount} 항목의 경우","notifications.panel.triggers.dialog.newValue":"새 값",close:"닫기","notifications.panel.triggers.dialog.title":"트리거됨","notifications.panel.error.learnMore":"자세히 알아보기","notifications.panel.error.traceId":"추적 ID","notifications.panel.error.message":"경고를 처리할 수 없습니다.","notifications.panel.button.label":"알림","notifications.panel.notifications.list.label":"알림","notifications.panel.alert.notification.type.label":"경고 통지","properties.rotation.45":"45°","notifications.panel.triggers.dialog.truncatedValues":"…및 {count} 더보기","notifications.panel.download":"다운로드","notifications.panel.expiresOn":"만료일 {date}","notifications.panel.linkHasExpired":"링크가 만료되었습니다","notifications.panel.toast.warning.filesExpired":"<strong>다운로드 링크가 만료되었습니다</strong> — 다음 내보내기를 기다리거나 수동으로 생성하세요.","notifications.panel.dashboardLinkHint":"이 내보내기에 사용된 대시보드를 열기","notifications.panel.dashboardLink":"에서 {dashboardTitle}","notifications.panel.downloadFilesHint":"내보낸 파일 다운로드","notifications.panel.error.alert.title":"경고를 처리할 수 없습니다.","notifications.panel.error.schedule.title":"예약된 내보내기 실패","notifications.panel.error.limitExceeded.message":"내보내기를 보낼 수 없습니다. 조직이 일일 알림 및 예약된 내보내기의 최대 수에 도달했습니다. 관리자에게 문의하십시오."}},wt=vt(a.messagesMap,kt);var St=function(e,t){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},St(e,t)};function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}St(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var _t=function(){return _t=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},_t.apply(this,arguments)};function Et(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(i[r[s]]=e[r[s]])}return i}function Mt(e,t,i){if(i||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Tt,Pt,At,Dt=i(93237),It=i(95957);function Nt(e,t,i){if(void 0===i&&(i=Error),!e)throw new i(t)}function Rt(e){return e.type===Pt.literal}function Lt(e){return e.type===Pt.argument}function Ft(e){return e.type===Pt.number}function Ot(e){return e.type===Pt.date}function Bt(e){return e.type===Pt.time}function zt(e){return e.type===Pt.select}function Vt(e){return e.type===Pt.plural}function Gt(e){return e.type===Pt.pound}function Ut(e){return e.type===Pt.tag}function Ht(e){return!(!e||"object"!=typeof e||e.type!==At.number)}function Wt(e){return!(!e||"object"!=typeof e||e.type!==At.dateTime)}(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Mt([void 0],t,!1)))}),{strategy:It.A.variadic}),(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Mt([void 0],t,!1)))}),{strategy:It.A.variadic}),(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Mt([void 0],t,!1)))}),{strategy:It.A.variadic}),(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.Locale).bind.apply(e,Mt([void 0],t,!1)))}),{strategy:It.A.variadic}),(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.ListFormat).bind.apply(e,Mt([void 0],t,!1)))}),{strategy:It.A.variadic}),function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Tt||(Tt={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Pt||(Pt={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(At||(At={}));var jt=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Kt=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function $t(e){var t={};return e.replace(Kt,(function(e){var i=e.length;switch(e[0]){case"G":t.era=4===i?"long":5===i?"narrow":"short";break;case"y":t.year=2===i?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===i?"long":5===i?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][i-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][i-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][i-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][i-1];break;case"s":t.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var qt=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,Yt=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Xt=/^(@+)?(\+|#+)?[rs]?$/g,Qt=/(\*)(0+)|(#+)(0+)|(0+)/g,Zt=/^(0+)$/;function Jt(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(Xt,(function(e,i,r){return"string"!=typeof r?(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length):"+"===r?t.minimumSignificantDigits=i.length:"#"===i[0]?t.maximumSignificantDigits=i.length:(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length+("string"==typeof r?r.length:0)),""})),t}function ei(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function ti(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var i=e.slice(0,2);if("+!"===i?(t.signDisplay="always",e=e.slice(2)):"+?"===i&&(t.signDisplay="exceptZero",e=e.slice(2)),!Zt.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function ii(e){return ei(e)||{}}function ri(e){for(var t={},i=0,r=e;i<r.length;i++){var s=r[i];switch(s.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=s.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=s.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=_t(_t(_t({},t),{notation:"scientific"}),s.options.reduce((function(e,t){return _t(_t({},e),ii(t))}),{}));continue;case"engineering":t=_t(_t(_t({},t),{notation:"engineering"}),s.options.reduce((function(e,t){return _t(_t({},e),ii(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(s.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(s.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");s.options[0].replace(Qt,(function(e,i,r,s,a,o){if(i)t.minimumIntegerDigits=r.length;else{if(s&&a)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Zt.test(s.stem))t.minimumIntegerDigits=s.stem.length;else if(Yt.test(s.stem)){if(s.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");s.stem.replace(Yt,(function(e,i,r,s,a,o){return"*"===r?t.minimumFractionDigits=i.length:s&&"#"===s[0]?t.maximumFractionDigits=s.length:a&&o?(t.minimumFractionDigits=a.length,t.maximumFractionDigits=a.length+o.length):(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length),""}));var a=s.options[0];"w"===a?t=_t(_t({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=_t(_t({},t),Jt(a)))}else if(Xt.test(s.stem))t=_t(_t({},t),Jt(s.stem));else{var o=ei(s.stem);o&&(t=_t(_t({},t),o));var n=ti(s.stem);n&&(t=_t(_t({},t),n))}}return t}var si,ai={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function oi(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var i,r=e.language;return"root"!==r&&(i=e.maximize().region),(ai[i||""]||ai[r||""]||ai["".concat(r,"-001")]||ai["001"])[0]}var ni=new RegExp("^".concat(jt.source,"*")),li=new RegExp("".concat(jt.source,"*$"));function ci(e,t){return{start:e,end:t}}var di=!!String.prototype.startsWith&&"_a".startsWith("a",1),ui=!!String.fromCodePoint,pi=!!Object.fromEntries,hi=!!String.prototype.codePointAt,mi=!!String.prototype.trimStart,gi=!!String.prototype.trimEnd,bi=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},fi=!0;try{fi="a"===(null===(si=_i("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===si?void 0:si[0])}catch(e){fi=!1}var vi,yi=di?function(e,t,i){return e.startsWith(t,i)}:function(e,t,i){return e.slice(i,i+t.length)===t},Ci=ui?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i,r="",s=e.length,a=0;s>a;){if((i=e[a++])>1114111)throw RangeError(i+" is not a valid code point");r+=i<65536?String.fromCharCode(i):String.fromCharCode(55296+((i-=65536)>>10),i%1024+56320)}return r},ki=pi?Object.fromEntries:function(e){for(var t={},i=0,r=e;i<r.length;i++){var s=r[i],a=s[0],o=s[1];t[a]=o}return t},wi=hi?function(e,t){return e.codePointAt(t)}:function(e,t){var i=e.length;if(!(t<0||t>=i)){var r,s=e.charCodeAt(t);return s<55296||s>56319||t+1===i||(r=e.charCodeAt(t+1))<56320||r>57343?s:r-56320+(s-55296<<10)+65536}},Si=mi?function(e){return e.trimStart()}:function(e){return e.replace(ni,"")},xi=gi?function(e){return e.trimEnd()}:function(e){return e.replace(li,"")};function _i(e,t){return new RegExp(e,t)}if(fi){var Ei=_i("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");vi=function(e,t){var i;return Ei.lastIndex=t,null!==(i=Ei.exec(e)[1])&&void 0!==i?i:""}}else vi=function(e,t){for(var i=[];;){var r=wi(e,t);if(void 0===r||Ai(r)||Di(r))break;i.push(r),t+=r>=65536?2:1}return Ci.apply(void 0,i)};var Mi,Ti=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,i){for(var r=[];!this.isEOF();){var s=this.char();if(123===s){if((a=this.parseArgument(e,i)).err)return a;r.push(a.val)}else{if(125===s&&e>0)break;if(35!==s||"plural"!==t&&"selectordinal"!==t){if(60===s&&!this.ignoreTag&&47===this.peek()){if(i)break;return this.error(Tt.UNMATCHED_CLOSING_TAG,ci(this.clonePosition(),this.clonePosition()))}if(60===s&&!this.ignoreTag&&Pi(this.peek()||0)){if((a=this.parseTag(e,t)).err)return a;r.push(a.val)}else{var a;if((a=this.parseLiteral(e,t)).err)return a;r.push(a.val)}}else{var o=this.clonePosition();this.bump(),r.push({type:Pt.pound,location:ci(o,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var i=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Pt.literal,value:"<".concat(r,"/>"),location:ci(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,t,!0);if(s.err)return s;var a=s.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Pi(this.char()))return this.error(Tt.INVALID_TAG,ci(o,this.clonePosition()));var n=this.clonePosition();return r!==this.parseTagName()?this.error(Tt.UNMATCHED_CLOSING_TAG,ci(n,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Pt.tag,value:r,children:a,location:ci(i,this.clonePosition())},err:null}:this.error(Tt.INVALID_TAG,ci(o,this.clonePosition())))}return this.error(Tt.UNCLOSED_TAG,ci(i,this.clonePosition()))}return this.error(Tt.INVALID_TAG,ci(i,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var i=this.clonePosition(),r="";;){var s=this.tryParseQuote(t);if(s)r+=s;else{var a=this.tryParseUnquoted(e,t);if(a)r+=a;else{var o=this.tryParseLeftAngleBracket();if(!o)break;r+=o}}}var n=ci(i,this.clonePosition());return{val:{type:Pt.literal,value:r,location:n},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Pi(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(39===i){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(i);this.bump()}return Ci.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var i=this.char();return 60===i||123===i||35===i&&("plural"===t||"selectordinal"===t)||125===i&&e>0?null:(this.bump(),Ci(i))},e.prototype.parseArgument=function(e,t){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,ci(i,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Tt.EMPTY_ARGUMENT,ci(i,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Tt.MALFORMED_ARGUMENT,ci(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,ci(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Pt.argument,value:r,location:ci(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,ci(i,this.clonePosition())):this.parseArgumentOptions(e,t,r,i);default:return this.error(Tt.MALFORMED_ARGUMENT,ci(i,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),i=vi(this.message,t),r=t+i.length;return this.bumpTo(r),{value:i,location:ci(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,i,r){var s,a=this.clonePosition(),o=this.parseIdentifierIfPossible().value,n=this.clonePosition();switch(o){case"":return this.error(Tt.EXPECT_ARGUMENT_TYPE,ci(a,n));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((f=this.parseSimpleArgStyleIfPossible()).err)return f;if(0===(h=xi(f.val)).length)return this.error(Tt.EXPECT_ARGUMENT_STYLE,ci(this.clonePosition(),this.clonePosition()));l={style:h,styleLocation:ci(c,this.clonePosition())}}if((v=this.tryParseArgumentClose(r)).err)return v;var d=ci(r,this.clonePosition());if(l&&yi(null==l?void 0:l.style,"::",0)){var u=Si(l.style.slice(2));if("number"===o)return(f=this.parseNumberSkeletonFromString(u,l.styleLocation)).err?f:{val:{type:Pt.number,value:i,location:d,style:f.val},err:null};if(0===u.length)return this.error(Tt.EXPECT_DATE_TIME_SKELETON,d);var p=u;this.locale&&(p=function(e,t){for(var i="",r=0;r<e.length;r++){var s=e.charAt(r);if("j"===s){for(var a=0;r+1<e.length&&e.charAt(r+1)===s;)a++,r++;var o=1+(1&a),n=a<2?1:3+(a>>1),l=oi(t);for("H"!=l&&"k"!=l||(n=0);n-- >0;)i+="a";for(;o-- >0;)i=l+i}else i+="J"===s?"H":s}return i}(u,this.locale));var h={type:At.dateTime,pattern:p,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?$t(p):{}};return{val:{type:"date"===o?Pt.date:Pt.time,value:i,location:d,style:h},err:null}}return{val:{type:"number"===o?Pt.number:"date"===o?Pt.date:Pt.time,value:i,location:d,style:null!==(s=null==l?void 0:l.style)&&void 0!==s?s:null},err:null};case"plural":case"selectordinal":case"select":var m=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Tt.EXPECT_SELECT_ARGUMENT_OPTIONS,ci(m,_t({},m)));this.bumpSpace();var g=this.parseIdentifierIfPossible(),b=0;if("select"!==o&&"offset"===g.value){if(!this.bumpIf(":"))return this.error(Tt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ci(this.clonePosition(),this.clonePosition()));var f;if(this.bumpSpace(),(f=this.tryParseDecimalInteger(Tt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Tt.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return f;this.bumpSpace(),g=this.parseIdentifierIfPossible(),b=f.val}var v,y=this.tryParsePluralOrSelectOptions(e,o,t,g);if(y.err)return y;if((v=this.tryParseArgumentClose(r)).err)return v;var C=ci(r,this.clonePosition());return"select"===o?{val:{type:Pt.select,value:i,options:ki(y.val),location:C},err:null}:{val:{type:Pt.plural,value:i,options:ki(y.val),offset:b,pluralType:"plural"===o?"cardinal":"ordinal",location:C},err:null};default:return this.error(Tt.INVALID_ARGUMENT_TYPE,ci(a,n))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,ci(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Tt.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,ci(i,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var i=[];try{i=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],i=0,r=e.split(qt).filter((function(e){return e.length>0}));i<r.length;i++){var s=r[i].split("/");if(0===s.length)throw new Error("Invalid number skeleton");for(var a=s[0],o=s.slice(1),n=0,l=o;n<l.length;n++)if(0===l[n].length)throw new Error("Invalid number skeleton");t.push({stem:a,options:o})}return t}(e)}catch(e){return this.error(Tt.INVALID_NUMBER_SKELETON,t)}return{val:{type:At.number,tokens:i,location:t,parsedOptions:this.shouldParseSkeletons?ri(i):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,i,r){for(var s,a=!1,o=[],n=new Set,l=r.value,c=r.location;;){if(0===l.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var u=this.tryParseDecimalInteger(Tt.EXPECT_PLURAL_ARGUMENT_SELECTOR,Tt.INVALID_PLURAL_ARGUMENT_SELECTOR);if(u.err)return u;c=ci(d,this.clonePosition()),l=this.message.slice(d.offset,this.offset())}if(n.has(l))return this.error("select"===t?Tt.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Tt.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Tt.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Tt.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,ci(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,i);if(h.err)return h;var m=this.tryParseArgumentClose(p);if(m.err)return m;o.push([l,{value:h.val,location:ci(p,this.clonePosition())}]),n.add(l),this.bumpSpace(),l=(s=this.parseIdentifierIfPossible()).value,c=s.location}return 0===o.length?this.error("select"===t?Tt.EXPECT_SELECT_ARGUMENT_SELECTOR:Tt.EXPECT_PLURAL_ARGUMENT_SELECTOR,ci(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(Tt.MISSING_OTHER_CLAUSE,ci(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var i=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var s=!1,a=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;s=!0,a=10*a+(o-48),this.bump()}var n=ci(r,this.clonePosition());return s?bi(a*=i)?{val:a,err:null}:this.error(t,n):this.error(e,n)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=wi(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(yi(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),i=this.message.indexOf(e,t);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Ai(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),i=this.message.charCodeAt(t+(e>=65536?2:1));return null!=i?i:null},e}();function Pi(e){return e>=97&&e<=122||e>=65&&e<=90}function Ai(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Di(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Ii(e){e.forEach((function(e){if(delete e.location,zt(e)||Vt(e))for(var t in e.options)delete e.options[t].location,Ii(e.options[t].value);else Ft(e)&&Ht(e.style)||(Ot(e)||Bt(e))&&Wt(e.style)?delete e.style.location:Ut(e)&&Ii(e.children)}))}function Ni(e,t){void 0===t&&(t={}),t=_t({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var i=new Ti(e,t).parse();if(i.err){var r=SyntaxError(Tt[i.err.kind]);throw r.location=i.err.location,r.originalMessage=i.err.message,r}return(null==t?void 0:t.captureLocation)||Ii(i.val),i.val}!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Mi||(Mi={}));var Ri,Li=function(e){function t(t,i,r){var s=e.call(this,t)||this;return s.code=i,s.originalMessage=r,s}return xt(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Fi=function(e){function t(t,i,r,s){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(i,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Mi.INVALID_VALUE,s)||this}return xt(t,e),t}(Li),Oi=function(e){function t(t,i,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(i),Mi.INVALID_VALUE,r)||this}return xt(t,e),t}(Li),Bi=function(e){function t(t,i){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(i,'"'),Mi.MISSING_VALUE,i)||this}return xt(t,e),t}(Li);function zi(e){return"function"==typeof e}function Vi(e,t,i,r,s,a,o){if(1===e.length&&Rt(e[0]))return[{type:Ri.literal,value:e[0].value}];for(var n=[],l=0,c=e;l<c.length;l++){var d=c[l];if(Rt(d))n.push({type:Ri.literal,value:d.value});else if(Gt(d))"number"==typeof a&&n.push({type:Ri.literal,value:i.getNumberFormat(t).format(a)});else{var u=d.value;if(!s||!(u in s))throw new Bi(u,o);var p=s[u];if(Lt(d))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),n.push({type:"string"==typeof p?Ri.literal:Ri.object,value:p});else if(Ot(d)){var h="string"==typeof d.style?r.date[d.style]:Wt(d.style)?d.style.parsedOptions:void 0;n.push({type:Ri.literal,value:i.getDateTimeFormat(t,h).format(p)})}else if(Bt(d))h="string"==typeof d.style?r.time[d.style]:Wt(d.style)?d.style.parsedOptions:r.time.medium,n.push({type:Ri.literal,value:i.getDateTimeFormat(t,h).format(p)});else if(Ft(d))(h="string"==typeof d.style?r.number[d.style]:Ht(d.style)?d.style.parsedOptions:void 0)&&h.scale&&(p*=h.scale||1),n.push({type:Ri.literal,value:i.getNumberFormat(t,h).format(p)});else{if(Ut(d)){var m=d.children,g=d.value,b=s[g];if(!zi(b))throw new Oi(g,"function",o);var f=b(Vi(m,t,i,r,s,a).map((function(e){return e.value})));Array.isArray(f)||(f=[f]),n.push.apply(n,f.map((function(e){return{type:"string"==typeof e?Ri.literal:Ri.object,value:e}})))}if(zt(d)){if(!(v=d.options[p]||d.options.other))throw new Fi(d.value,p,Object.keys(d.options),o);n.push.apply(n,Vi(v.value,t,i,r,s))}else if(Vt(d)){var v;if(!(v=d.options["=".concat(p)])){if(!Intl.PluralRules)throw new Li('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Mi.MISSING_INTL_API,o);var y=i.getPluralRules(t,{type:d.pluralType}).select(p-(d.offset||0));v=d.options[y]||d.options.other}if(!v)throw new Fi(d.value,p,Object.keys(d.options),o);n.push.apply(n,Vi(v.value,t,i,r,s,p-(d.offset||0)))}}}}return(C=n).length<2?C:C.reduce((function(e,t){var i=e[e.length-1];return i&&i.type===Ri.literal&&t.type===Ri.literal?i.value+=t.value:e.push(t),e}),[]);var C}function Gi(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,i){e[t]=i}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Ri||(Ri={}));var Ui,Hi=function(){function e(t,i,r,s){void 0===i&&(i=e.defaultLocale);var a,o,n,l=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=l.formatToParts(e);if(1===t.length)return t[0].value;var i=t.reduce((function(e,t){return e.length&&t.type===Ri.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return i.length<=1?i[0]||"":i},this.formatToParts=function(e){return Vi(l.ast,l.locales,l.formatters,l.formats,e,void 0,l.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=l.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},this.locales=i,this.resolvedLocale=e.resolveLocale(i),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var c=s||{},d=(c.formatters,Et(c,["formatters"]));this.ast=e.__parse(t,_t(_t({},d),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=(o=e.formats,(n=r)?Object.keys(o).reduce((function(e,t){var i,r;return e[t]=(i=o[t],(r=n[t])?_t(_t(_t({},i||{}),r||{}),Object.keys(i).reduce((function(e,t){return e[t]=_t(_t({},i[t]),r[t]||{}),e}),{})):i),e}),_t({},o)):o),this.formatters=s&&s.formatters||(void 0===(a=this.formatterCache)&&(a={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Mt([void 0],t,!1)))}),{cache:Gi(a.number),strategy:It.A.variadic}),getDateTimeFormat:(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Mt([void 0],t,!1)))}),{cache:Gi(a.dateTime),strategy:It.A.variadic}),getPluralRules:(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Mt([void 0],t,!1)))}),{cache:Gi(a.pluralRules),strategy:It.A.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=Ni,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(Ui||(Ui={}));var Wi=function(e){function t(i,r,s){var a=this,o=s?s instanceof Error?s:new Error(String(s)):void 0;return(a=e.call(this,"[@formatjs/intl Error ".concat(i,"] ").concat(r,"\n").concat(o?"\n".concat(o.message,"\n").concat(o.stack):""))||this).code=i,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return xt(t,e),t}(Error),ji=function(e){function t(t,i){return e.call(this,Ui.UNSUPPORTED_FORMATTER,t,i)||this}return xt(t,e),t}(Wi),Ki=function(e){function t(t,i){return e.call(this,Ui.INVALID_CONFIG,t,i)||this}return xt(t,e),t}(Wi),$i=function(e){function t(t,i){return e.call(this,Ui.MISSING_DATA,t,i)||this}return xt(t,e),t}(Wi),qi=function(e){function t(t,i,r){var s=e.call(this,Ui.FORMAT_ERROR,"".concat(t,"\nLocale: ").concat(i,"\n"),r)||this;return s.locale=i,s}return xt(t,e),t}(Wi),Yi=function(e){function t(t,i,r,s){var a=e.call(this,"".concat(t,"\nMessageID: ").concat(null==r?void 0:r.id,"\nDefault Message: ").concat(null==r?void 0:r.defaultMessage,"\nDescription: ").concat(null==r?void 0:r.description,"\n"),i,s)||this;return a.descriptor=r,a.locale=i,a}return xt(t,e),t}(qi),Xi=function(e){function t(t,i){var r=e.call(this,Ui.MISSING_TRANSLATION,'Missing message: "'.concat(t.id,'" for locale "').concat(i,'", using ').concat(t.defaultMessage?"default message (".concat("string"==typeof t.defaultMessage?t.defaultMessage:t.defaultMessage.map((function(e){var t;return null!==(t=e.value)&&void 0!==t?t:JSON.stringify(e)})).join(),")"):"id"," as fallback."))||this;return r.descriptor=t,r}return xt(t,e),t}(Wi);function Qi(e,t,i){return void 0===i&&(i={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in i&&(t[r]=i[r]),t}),{})}var Zi={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){},onWarn:function(e){}};function Ji(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,i){e[t]=i}}}}}function er(e,t,i,r){var s,a=e&&e[t];if(a&&(s=a[i]),s)return s;r(new ji("No ".concat(t," format named: ").concat(i)))}function tr(e){Nt(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var ir=_t(_t({},Zi),{textComponent:Dt.Fragment});function rr(e,t){if(e===t)return!0;if(!e||!t)return!1;var i=Object.keys(e),r=Object.keys(t),s=i.length;if(r.length!==s)return!1;for(var a=0;a<s;a++){var o=i[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var sr,ar,or=i(8679),nr=i.n(or),lr="undefined"==typeof window||window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?Dt.createContext(null):window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=Dt.createContext(null)),cr=lr.Consumer,dr=lr.Provider,ur=lr;function pr(e,t){var i,r=t||{},s=r.intlPropName,a=void 0===s?"intl":s,o=r.forwardRef,n=void 0!==o&&o,l=r.enforceContext,c=void 0===l||l,d=function(t){return Dt.createElement(cr,null,(function(i){var r;c&&tr(i);var s=((r={})[a]=i,r);return Dt.createElement(e,_t({},t,s,{ref:n?t.forwardedRef:null}))}))};return d.displayName="injectIntl(".concat((i=e).displayName||i.name||"Component",")"),d.WrappedComponent=e,n?nr()(Dt.forwardRef((function(e,t){return Dt.createElement(d,_t({},e,{forwardedRef:t}))})),e):nr()(d,e)}function hr(){var e=Dt.useContext(ur);return tr(e),e}!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(sr||(sr={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(ar||(ar={}));var mr=function(e){var t=hr(),i=e.value,r=e.children,s=Et(e,["value","children"]);return r(t.formatNumberToParts(i,s))};function gr(e){var t=function(t){var i=hr(),r=t.value,s=t.children,a=Et(t,["value","children"]),o="string"==typeof r?new Date(r||0):r;return s("formatDate"===e?i.formatDateToParts(o,a):i.formatTimeToParts(o,a))};return t.displayName=ar[e],t}function br(e){var t=function(t){var i=hr(),r=t.value,s=t.children,a=Et(t,["value","children"]),o=i[e](r,a);if("function"==typeof s)return s(o);var n=i.textComponent||Dt.Fragment;return Dt.createElement(n,null,o)};return t.displayName=sr[e],t}mr.displayName="FormattedNumberParts",mr.displayName="FormattedNumberParts";var fr=br("formatDate"),vr=br("formatTime");br("formatNumber"),br("formatList"),br("formatDisplayName"),gr("formatDate"),gr("formatTime");const yr={measures_column:{id:"dashboard.bucket.measures_title.column"},measures_table:{id:"dashboard.bucket.measures_title.table"},measures_bar:{id:"dashboard.bucket.measures_title.bar"},measures_line:{id:"dashboard.bucket.measures_title.line"},measures_area:{id:"dashboard.bucket.measures_title.area"},measures_pie:{id:"dashboard.bucket.measures_title.pie"},measures_funnel:{id:"dashboard.bucket.measures_title.funnel"},measures_pyramid:{id:"dashboard.bucket.measures_title.pyramid"},measures_treemap:{id:"dashboard.bucket.measures_title.treemap"},measures_donut:{id:"dashboard.bucket.measures_title.donut"},measures_heatmap:{id:"dashboard.bucket.measures_title.heatmap"},measures_headline:{id:"dashboard.bucket.measures_title.headline"},measures_scatter:{id:"dashboard.bucket.measures_title.scatter"},measures_combo:{id:"dashboard.bucket.measures_title.combo"},measures_xirr:{id:"dashboard.bucket.measures_title.xirr"},measures_bubble:{id:"dashboard.bucket.measures_title.bubble"},measures_bullet:{id:"dashboard.bucket.measures_title.bullet"},measures_sankey:{id:"dashboard.bucket.measures_title.sankey"},measures_dependencywheel:{id:"dashboard.bucket.measures_title.dependencywheel"},measures_waterfall:{id:"dashboard.bucket.measures_title.waterfall"},secondary_measures_headline:{id:"dashboard.bucket.secondary_measures_title.headline"},secondary_measures_scatter:{id:"dashboard.bucket.secondary_measures_title.scatter"},secondary_measures_combo:{id:"dashboard.bucket.secondary_measures_title.combo"},secondary_measures_bubble:{id:"dashboard.bucket.secondary_measures_title.bubble"},secondary_measures_bullet:{id:"dashboard.bucket.secondary_measures_title.bullet"},tertiary_measures_bubble:{id:"dashboard.bucket.tertiary_measures_title.bubble"},tertiary_measures_bullet:{id:"dashboard.bucket.tertiary_measures_title.bullet"},attribute_scatter:{id:"dashboard.bucket.attribute_title.scatter"},segment_scatter:{id:"dashboard.bucket.segment_title.scatter"},attribute_xirr:{id:"dashboard.bucket.attribute_title.xirr"},attribute_table:{id:"dashboard.bucket.attribute_title.table"},attribute_from_sankey:{id:"dashboard.bucket.attribute_from_title.sankey"},attribute_to_sankey:{id:"dashboard.bucket.attribute_to_title.sankey"},attribute_from_dependencywheel:{id:"dashboard.bucket.attribute_from_title.dependencywheel"},attribute_to_dependencywheel:{id:"dashboard.bucket.attribute_to_title.dependencywheel"},location_pushpin:{id:"dashboard.bucket.location_title.pushpin"},size_pushpin:{id:"dashboard.bucket.size_title.pushpin"},color_pushpin:{id:"dashboard.bucket.color_title.pushpin"},view_bubble:{id:"dashboard.bucket.view_title.bubble"},view_pie:{id:"dashboard.bucket.view_title.pie"},view_treemap:{id:"dashboard.bucket.view_title.treemap"},view_donut:{id:"dashboard.bucket.view_title.donut"},view_funnel:{id:"dashboard.bucket.view_title.funnel"},view_pyramid:{id:"dashboard.bucket.view_title.pyramid"},view_column:{id:"dashboard.bucket.view_title.column"},view_bar:{id:"dashboard.bucket.view_title.bar"},view_area:{id:"dashboard.bucket.view_title.area"},view_bullet:{id:"dashboard.bucket.view_title.bullet"},view_heatmap:{id:"dashboard.bucket.view_title.heatmap"},view_combo:{id:"dashboard.bucket.view_title.combo"},view_waterfall:{id:"dashboard.bucket.view_title.waterfall"},stack_column:{id:"dashboard.bucket.stack_title.column"},stack_bar:{id:"dashboard.bucket.stack_title.bar"},stack_area:{id:"dashboard.bucket.stack_title.area"},stack_heatmap:{id:"dashboard.bucket.stack_title.heatmap"},segment_line:{id:"dashboard.bucket.segment_title.line"},segment_treemap:{id:"dashboard.bucket.segment_title.treemap"},segment_pushpin:{id:"dashboard.bucket.segment_title.pushpin"},trend_line:{id:"dashboard.bucket.trend_title.line"},columns_table:{id:"dashboard.bucket.columns_title.table"},attribute_repeater:{id:"dashboard.bucket.attribute_title.repeater"},columns_repeater:{id:"dashboard.bucket.columns_title.repeater"},view_repeater:{id:"dashboard.bucket.view_title.repeater"}},Cr={measures_headline:{id:"dashboard.bucket.measures_subtitle.headline"},measures_scatter:{id:"dashboard.bucket.measures_subtitle.scatter"},measures_combo:{id:"dashboard.bucket.measures_subtitle.combo"},measures_bubble:{id:"dashboard.bucket.measures_subtitle.bubble"},measures_bullet:{id:"dashboard.bucket.measures_subtitle.bullet"},secondary_measures_headline:{id:"dashboard.bucket.secondary_measures_subtitle.headline"},secondary_measures_scatter:{id:"dashboard.bucket.secondary_measures_subtitle.scatter"},secondary_measures_combo:{id:"dashboard.bucket.secondary_measures_subtitle.combo"},secondary_measures_bubble:{id:"dashboard.bucket.secondary_measures_subtitle.bubble"},secondary_measures_bullet:{id:"dashboard.bucket.secondary_measures_subtitle.bullet"},tertiary_measures_bubble:{id:"dashboard.bucket.tertiary_measures_subtitle.bubble"},tertiary_measures_bullet:{id:"dashboard.bucket.tertiary_measures_subtitle.bullet"},attribute_from_sankey:{id:"dashboard.bucket.attribute_from_subtitle.sankey"},attribute_to_sankey:{id:"dashboard.bucket.attribute_to_subtitle.sankey"},attribute_from_dependencywheel:{id:"dashboard.bucket.attribute_from_subtitle.dependencywheel"},attribute_to_dependencywheel:{id:"dashboard.bucket.attribute_to_subtitle.dependencywheel"},size_pushpin:{id:"dashboard.bucket.size_subtitle.pushpin"},color_pushpin:{id:"dashboard.bucket.color_subtitle.pushpin"}},kr={axisMinWarning:{id:"properties.axis.min.warning"},axisMaxWarning:{id:"properties.axis.max.warning"},explanationMeasure:{id:"sorting.disabled.explanation.measure"},explanationAttribute:{id:"sorting.disabled.explanation.attribute"},or:{id:"or"},metricStack:{id:"dashboard.bucket.metric_stack_by_warning"},categoryStack:{id:"dashboard.bucket.category_stack_by_warning"},metricView:{id:"dashboard.bucket.metric_view_by_warning"},categoryView:{id:"dashboard.bucket.category_view_by_warning"},viewStack:{id:"dashboard.bucket.view_stack_by_warning"},stackView:{id:"dashboard.bucket.stack_view_by_warning"},measureStack:{id:"dashboard.bucket.measure_stack_by_warning"},heading:{id:"dashboard.error.missing_primary_bucket_item.heading"},text:{id:"dashboard.error.missing_primary_bucket_item.text"},column:{id:"dashboard.bucket.combo.subtitle.column"},line:{id:"dashboard.bucket.combo.subtitle.line"},area:{id:"dashboard.bucket.combo.subtitle.area"},metricSegment:{id:"dashboard.bucket.metric_segment_by_warning"},categorySegment:{id:"dashboard.bucket.category_segment_by_warning"},category:{id:"dashboard.bucket.category_category_by_warning"},columns:{id:"dashboard.bucket.category_columns_warning"},measuresAttributes:{id:"dashboard.bucket.category_measures_rows_warning"},autoDefault:{id:"properties.auto_default"},extraSmall:{id:"properties.points.size.extra_small"},small:{id:"properties.points.size.small"},normal:{id:"properties.points.size.normal"},large:{id:"properties.points.size.large"},extraLarge:{id:"properties.points.size.extra_large"},areaAutoDefault:{id:"properties.viewport.area.auto_default"},areaWorld:{id:"properties.viewport.area.world"},areaContinents:{id:"properties.viewport.area.continents"},areaContinent_af:{id:"properties.viewport.area.continent_af"},areaContinent_na:{id:"properties.viewport.area.continent_na"},areaContinent_sa:{id:"properties.viewport.area.continent_sa"},areaContinent_as:{id:"properties.viewport.area.continent_as"},areaContinent_au:{id:"properties.viewport.area.continent_au"},areaContinent_eu:{id:"properties.viewport.area.continent_eu"},rotation0:{id:"properties.rotation.0"},rotation30:{id:"properties.rotation.30"},rotation45:{id:"properties.rotation.45"},rotation60:{id:"properties.rotation.60"},rotation90:{id:"properties.rotation.90"},formatInherit:{id:"properties.axis.format.inherit"},formatInfoInherit:{id:"properties.axis.format.info.inherit"},positionUp:{id:"properties.legend.position.up"},positionDown:{id:"properties.legend.position.down"},positionRight:{id:"properties.legend.position.right"},positionLeft:{id:"properties.legend.position.left"},orientationTitle:{id:"properties.orientation.title"},horizontal:{id:"properties.orientation.horizontal"},vertical:{id:"properties.orientation.vertical"},dataLabelsAuto:{id:"properties.canvas.dataLabels.auto"},dataLabelsShow:{id:"properties.canvas.dataLabels.show"},dataLabelsHide:{id:"properties.canvas.dataLabels.hide"},totalLabelsAuto:{id:"properties.canvas.totalLabels.auto"},totalLabelsShow:{id:"properties.canvas.totalLabels.show"},totalLabelsHide:{id:"properties.canvas.totalLabels.hide"},dataPointsAuto:{id:"properties.canvas.dataPoints.auto"},dataPointsShow:{id:"properties.canvas.dataPoints.show"},dataPointsHide:{id:"properties.canvas.dataPoints.hide"},axisPositionLeft:{id:"properties.axis.name.position.left"},axisPositionCenter:{id:"properties.axis.name.position.center"},axisPositionRight:{id:"properties.axis.name.position.right"},axisPositionTop:{id:"properties.axis.name.position.top"},axisPositionMiddle:{id:"properties.axis.name.position.middle"},axisPositionBottom:{id:"properties.axis.name.position.bottom"},notApplicable:{id:"properties.not_applicable"},exportUnsupportedColors:{id:"export_unsupported.colors"},canvasTitle:{id:"properties.canvas.title"},canvasGridLine:{id:"properties.canvas.gridline"},canvasLabelsPercentages:{id:"properties.canvas.labels.percentages"},canvasLabelsPercentagesInfo:{id:"properties.canvas.labels.percentages.info"},canvasLabelsPercentagesDisabled:{id:"properties.canvas.labels.percentages.disabled"},yaxisTitle:{id:"properties.yaxis.title"},xaxisTitle:{id:"properties.xaxis.title"},pointsTitle:{id:"properties.points.title"},pointsGroupNearbyPoints:{id:"properties.points.groupNearbyPoints"},pointsMapTitle:{id:"properties.map.title"},viewportAreaTitle:{id:"properties.viewport.area.title"},autoPlaceholder:{id:"properties.auto_placeholder"},dataLabels:{id:"properties.canvas.dataLabels"},totalLabels:{id:"properties.canvas.totalLabels"},dataPoints:{id:"properties.canvas.dataPoints"},axisLabels:{id:"properties.axis.labels"},axisRotation:{id:"properties.axis.rotation"},axisFormat:{id:"properties.axis.format"},axisName:{id:"properties.axis.name"},axisNamePosition:{id:"properties.axis.name.position"},axisMin:{id:"properties.axis.min"},axisMax:{id:"properties.axis.max"},axisScale:{id:"properties.axis.scale"},axisLeft:{id:"properties.axis.left"},axisRight:{id:"properties.axis.right"},axisTop:{id:"properties.axis.top"},axisBottom:{id:"properties.axis.bottom"},pointsSizeTitle:{id:"properties.points.size.title"},pointsSizeMinTitle:{id:"properties.points.size.min.title"},pointsSizeMaxTitle:{id:"properties.points.size.max.title"},customColor:{id:"gs.color-dropdown.custom-color"},resetColors:{id:"properties.colors.reset-colors"},unsupportedColors:{id:"properties.colors.unsupported"},colors:{id:"properties.colors"},position:{id:"properties.legend.position"},title:{id:"properties.legend.title"},canvasContinuousLineLabel:{id:"properties.canvas.continuousLine.label"},canvasContinuousLineTooltip:{id:"properties.canvas.continuousLine.tooltip"},totalTitle:{id:"properties.total.title"},totalNameLabel:{id:"properties.total.name"},totalToggleTooltip:{id:"properties.total.tooltip"},totalMeasuresTooltip:{id:"properties.total.measures.tooltip"},colorTotalLabel:{id:"properties.color.total"},colorPositiveLabel:{id:"properties.color.positive"},colorNegativeLabel:{id:"properties.color.negative"},metricsPositionTitle:{id:"properties.metrics.title"},metricsPositionLabel:{id:"properties.metrics.position"},metricsPositionColumns:{id:"properties.metrics.position.columns"},metricsPositionRows:{id:"properties.metrics.position.rows"},inColumns:{id:"dashboard.bucket.table.subtitle.columns"},inRows:{id:"dashboard.bucket.table.subtitle.rows"},columnHeaderPositionTitle:{id:"properties.column.headers.title"},columnHeaderPositionLabel:{id:"properties.column.headers.position"},columnHeaderPositionTop:{id:"properties.column.headers.position.top"},columnHeaderPositionLeft:{id:"properties.column.headers.position.left"},interactions:{id:"properties.interactions.title"},interactionsDrillDown:{id:"properties.interactions.drillDown"},interactionsAlerts:{id:"properties.interactions.alerts"},interactionsAlertsTooltip:{id:"properties.interactions.alerts.tooltip"},interactionsScheduledExports:{id:"properties.interactions.scheduledExports"},interactionsScheduledExportsTooltip:{id:"properties.interactions.scheduledExports.tooltip"},rowHeight:{id:"properties.canvas.rowHeight"},rowHeightSmall:{id:"properties.canvas.rowHeight.small"},rowHeightMedium:{id:"properties.canvas.rowHeight.medium"},rowHeightLarge:{id:"properties.canvas.rowHeight.large"},verticalAlign:{id:"properties.canvas.verticalAlign"},verticalAlignTop:{id:"properties.canvas.verticalAlign.top"},verticalAlignMiddle:{id:"properties.canvas.verticalAlign.middle"},verticalAlignBottom:{id:"properties.canvas.verticalAlign.bottom"},textWrapping:{id:"properties.canvas.textWrapping"},textWrappingClip:{id:"properties.canvas.textWrapping.clip"},textWrappingWrap:{id:"properties.canvas.textWrapping.wrap"},image:{id:"properties.canvas.image"},imageFit:{id:"properties.canvas.image.fit"},imageFill:{id:"properties.canvas.image.fill"},forecastTitle:{id:"properties.forecast.title"},forecastDisabledTooltip:{id:"properties.forecastDisabled.title"},forecastPeriod:{id:"properties.forecastPeriod.title"},forecastPeriodPlaceholder:{id:"properties.forecastPeriod.placeholder"},forecastSeasonal:{id:"properties.forecastSeasonal.title"},forecastConfidence:{id:"properties.forecastConfidence.title"},forecastConfidence70:{id:"properties.forecastConfidence.70"},forecastConfidence75:{id:"properties.forecastConfidence.75"},forecastConfidence80:{id:"properties.forecastConfidence.80"},forecastConfidence85:{id:"properties.forecastConfidence.85"},forecastConfidence90:{id:"properties.forecastConfidence.90"},forecastConfidence95:{id:"properties.forecastConfidence.95"},forecastSlicedWarningTitle:{id:"properties.forecastSliced.title"},forecastSlicedWarningDescription:{id:"properties.forecastSliced.description"},clusteringTitle:{id:"properties.clustering.title"},clusteringAmount:{id:"properties.clustering.amount"},clusteringAmountPlaceholder:{id:"properties.clustering.amount.placeholder"},clusteringThreshold:{id:"properties.clustering.threshold"},clusteringThresholdPlaceholder:{id:"properties.clustering.threshold.placeholder"},clusteringThresholdTooltip:{id:"properties.clustering.threshold.tooltip"},advancedSection:{id:"properties.advanced.title"},chartConfigOverrideNoValueLabel:{id:"properties.advanced.chartConfigOverride.noValueLabel"},chartConfigOverrideLink:{id:"properties.advanced.chartConfigOverride.link"},chartConfigOverrideEditorButton:{id:"properties.advanced.chartConfigOverride.editorButton"},chartConfigOverrideTitle:{id:"properties.advanced.chartConfigOverride.title"},snippetsHeader:{id:"properties.advanced.chartConfigOverride.snippets.header"}},wr={title:{id:"properties.comparison.title"},calculationTypeTitle:{id:"properties.comparison.calculationType.title"},calculatedAsChange:{id:"properties.comparison.calculationType.as.change"},calculatedAsRatio:{id:"properties.comparison.calculationType.as.ratio"},calculatedAsDifference:{id:"properties.comparison.calculationType.as.difference"},calculatedAsChangeDifference:{id:"properties.comparison.calculationType.as.changeDifference"},calculationTooltipExampleSection:{id:"properties.comparison.calculationType.tooltip.example.section"},calculationTooltipFormulaSection:{id:"properties.comparison.calculationType.tooltip.formula.section"},calculationTooltipFormulaChangeSection:{id:"properties.comparison.calculationType.tooltip.formulaChange.section"},calculationTooltipFormulaDifferenceSection:{id:"properties.comparison.calculationType.tooltip.formulaDifference.section"},calculatedAsChangeTooltipExample:{id:"properties.comparison.calculationType.as.change.tooltip.example"},calculatedAsChangeTooltipUseIn:{id:"properties.comparison.calculationType.as.change.tooltip.useIn"},calculatedAsChangeTooltipFormula:{id:"properties.comparison.calculationType.as.change.tooltip.formula"},calculatedAsRatioTooltipExample:{id:"properties.comparison.calculationType.as.ratio.tooltip.example"},calculatedAsRatioTooltipUseIn:{id:"properties.comparison.calculationType.as.ratio.tooltip.useIn"},calculatedAsRatioTooltipFormula:{id:"properties.comparison.calculationType.as.ratio.tooltip.formula"},calculatedAsDifferenceTooltipExample:{id:"properties.comparison.calculationType.as.difference.tooltip.example"},calculatedAsDifferenceTooltipUseIn:{id:"properties.comparison.calculationType.as.difference.tooltip.useIn"},calculatedAsDifferenceTooltipFormula:{id:"properties.comparison.calculationType.as.difference.tooltip.formula"},calculatedAsChangeDifferenceTooltipExample:{id:"properties.comparison.calculationType.as.changeDifference.tooltip.example"},calculatedAsChangeDifferenceTooltipUseIn:{id:"properties.comparison.calculationType.as.changeDifference.tooltip.useIn"},valueSubSectionTitle:{id:"properties.comparison.valueSubSection.title"},formatTitle:{id:"properties.comparison.format.title"},subFormatTitle:{id:"properties.comparison.subFormat.title"},formatPresetRounded:{id:"properties.comparison.measureNumber.format.preset.rounded"},formatPresetDecimal1:{id:"properties.comparison.measureNumber.format.preset.decimal1"},formatPresetDecimal2:{id:"properties.comparison.measureNumber.format.preset.decimal2"},formatPresetPercentRounded:{id:"properties.comparison.measureNumber.format.preset.percentRounded"},formatPresetPercent1:{id:"properties.comparison.measureNumber.format.preset.percent1"},formatPresetPercent2:{id:"properties.comparison.measureNumber.format.preset.percent2"},formatPresetInherit:{id:"properties.comparison.measureNumber.format.preset.inherit"},formatTemplateRounded:{id:"properties.comparison.measureNumber.format.template.rounded"},formatTemplateDecimal1:{id:"properties.comparison.measureNumber.format.template.decimal1"},formatTemplateDecimal2:{id:"properties.comparison.measureNumber.format.template.decimal2"},formatTemplatePercentRounded:{id:"properties.comparison.measureNumber.format.template.percentRounded"},formatTemplatePercent1:{id:"properties.comparison.measureNumber.format.template.percent1"},formatTemplatePercent2:{id:"properties.comparison.measureNumber.format.template.percent2"},formatTemplateCurrency:{id:"properties.comparison.measureNumber.format.template.currency"},formatTemplateCurrencyShortened:{id:"properties.comparison.measureNumber.format.template.currencyShortened"},formatTemplateLargeNumbersShortened:{id:"properties.comparison.measureNumber.format.template.largeNumbersShortened"},formatTemplateLargeNumbersShortenedWithColors:{id:"properties.comparison.measureNumber.format.template.largeNumbersShortenedWithColors"},formatTemplateNegativeNumbersRed:{id:"properties.comparison.measureNumber.format.template.negativeNumbersRed"},formatTemplateFinancial:{id:"properties.comparison.measureNumber.format.template.financial"},formatTemplateDecimalWithoutThousandsSeparator:{id:"properties.comparison.measureNumber.format.template.decimalWithoutThousandsSeparator"},formatTemplateConditionalColors:{id:"properties.comparison.measureNumber.format.template.conditionalColors"},formatTemplateTrendSymbols:{id:"properties.comparison.measureNumber.format.template.trendSymbols"},formatTemplateTimeFromSeconds:{id:"properties.comparison.measureNumber.format.template.timeFromSeconds"},formatTemplateZeroInsteadOfNull:{id:"properties.comparison.measureNumber.format.template.zeroInsteadOfNull"},indicatorSubSectionTitle:{id:"properties.comparison.indicator.title"},arrowControlTitle:{id:"properties.comparison.indicator.arrow.title"},colorsConfigTitle:{id:"properties.comparison.indicator.colorConfig.title"},colorsConfigEquals:{id:"properties.comparison.indicator.colorConfig.equals"},colorsConfigPositive:{id:"properties.comparison.indicator.colorConfig.positive"},colorsConfigNegative:{id:"properties.comparison.indicator.colorConfig.negative"},labelSubSectionTitle:{id:"properties.comparison.labelSubSection.title"},labelPositionOnTopDisabled:{id:"properties.comparison.labelSubSection.positionOnTop.disabled"},labelConditionalDisabledByRatio:{id:"properties.comparison.labelSubSection.conditional.disabled"},labelNameTitle:{id:"properties.comparison.labelName.title"},labelConditionalTitle:{id:"properties.comparison.labelConditional.title"},labelPositiveTitle:{id:"properties.comparison.labelPositive.title"},labelNegativeTitle:{id:"properties.comparison.labelNegative.title"},labelEqualsTitle:{id:"properties.comparison.labelEquals.title"},positionTitle:{id:"properties.comparison.position.title"},positionTop:{id:"properties.comparison.position.top"},positionRight:{id:"properties.comparison.position.right"},positionLeft:{id:"properties.comparison.position.left"}};function Sr(e){return!!e&&e.attribute===ut}function xr(e){return e?.attribute===ut}function _r(e){const t=e;return!!e&&t.attribute!==ut&&void 0!==t.attribute}function Er(e){return!!e&&!!e.measureLocalIdentifier}function Mr(e){return!!Er(e)&&!!e.condition}function Tr(e){const t=e;return!!e&&"string"==typeof t.measure&&"string"==typeof t.operator&&"number"==typeof t.value}function Pr(e){const t=as(e.buckets),i=$r(e.buckets,[b]);e.filters=e.filters||{localIdentifier:"filters",items:[]};const r=e.filters.items.filter((e=>{const r=e.filters[0];if(_r(r)||Sr(r))return!1===e.autoCreated||t.some((e=>e.attribute===r.attribute));if(Er(r))return 0!==t.length&&i.some((e=>e.localIdentifier===r.measureLocalIdentifier));if(Tr(r)){if(0===t.length)return!1;const e=i.some((e=>e.localIdentifier===r.measure)),s=!r.attributes||r.attributes.every((e=>t.some((t=>t.localIdentifier===e))));return e&&s}return!1}));return{...e,filters:{...e.filters,items:r}}}function Ar(e){return!!e.masterLocalIdentifier}function Dr(e){return!!e.operandLocalIdentifiers}function Ir(e,t,i){return e.operandLocalIdentifiers.reduce(((e,r)=>{if(null===r||i.has(r))return e;const s=ys(r,t);return void 0===s||(Dr(s)?(i.add(r),Ir(s,t,i).forEach((t=>e.add(t)))):Ar(s)&&!e.has(s.overTimeComparisonType)&&e.add(s.overTimeComparisonType)),e}),new Set)}function Nr(e,t){if(!Dr(e))return[];const i=Ir(e,lt(t,(e=>e.items)),new Set);return Array.from(i)}function Rr(e){return e.filter((e=>!Ar(e)))}function Lr(e,t){return Nr(e,t).length>0}function Fr(e,t){return e.filter((e=>!Lr(e,t)))}function Or(e){return e?.type===v}const Br=ot(Or);function zr(e,t,i){const r=e?.buckets,s=n(e?.uiConfig);return it(r,(e=>{const r=e.localIdentifier??"";if(!s?.buckets?.[r]?.enabled)return;if(function(e,t){switch(e){case a.VisualizationTypes.HEADLINE:return!0;case a.VisualizationTypes.SCATTER:return!(t===a.BucketNames.ATTRIBUTE||t===a.BucketNames.SEGMENT);case a.VisualizationTypes.BUBBLE:case a.VisualizationTypes.COMBO:case a.VisualizationTypes.BULLET:return t!==a.BucketNames.VIEW;case a.VisualizationTypes.PUSHPIN:return t!==a.BucketNames.LOCATION&&t!==a.BucketNames.SEGMENT;case a.VisualizationTypes.SANKEY:case a.VisualizationTypes.DEPENDENCY_WHEEL:return t!==a.BucketNames.MEASURES;default:return!1}}(t,r)){const e=function(e,t){return Cr[`${e}_${t}`].id}(r,t),a=yt(e,i);l(s,[g,r,"subtitle"],a)}const o=function(e,t){return yr[`${e}_${t}`].id}(r,t),n=yt(o,i);l(s,[g,r,"title"],n)})),s}function Vr(e,t){return Gr(e,t).length}function Gr(e,t){return e.find((e=>e.localIdentifier===t))?.items??[]}function Ur(e,t,i){return t.reduce(((t,r)=>{const s=i?Hr(e,r,i):Gr(e,r);return t.push(...s),t}),[])}function Hr(e,t,i){const r=[];return Gr(e,t).forEach((e=>{rt(i,e.type)&&r.push(e)})),r}function Wr(e,t,i){const r=jr(e,t,i);return r?.items??[]}function jr(e,t,i){return t.reduce(((t,r)=>t||e.find((e=>{const t=e.localIdentifier===r,s=nt(e?.items??[],(e=>-1!==i.indexOf(e.type)));return t&&s}))),void 0)}function Kr(e,t){return e.items.reduce(((e,i)=>(rt(t,i.type)&&e.push(i),e)),[])}function $r(e,t){return e.reduce(((e,i)=>(e.push(...Kr(i,t)),e)),[])}function qr(e){const t={};return e.map((e=>{const i=e.items.filter((e=>{const i=t[e.localIdentifier];return t[e.localIdentifier]=!0,!i}));return i.length===e.items.length?e:{...e,items:i}}))}function Yr(e,t){const i=e.find((e=>e.localIdentifier===t));return i?.totals??[]}function Xr(e){return e?(0,s.bucketsMeasures)((0,s.insightBuckets)(e),s.isSimpleMeasure):[]}function Qr(e){return $r(e,[b])}function Zr(e){const t=[a.BucketNames.MEASURES,a.BucketNames.SECONDARY_MEASURES,a.BucketNames.TERTIARY_MEASURES].reduce(((t,i)=>{const r=Wr(e,[i],[b]);return t.push(...r),t}),[]);return c(t)?Qr(e):t}function Jr(e,t,i){return $r(e.filter((e=>!rt(t,e.localIdentifier))),i)}function es(e,t=[y]){const i=jr(e,[a.BucketNames.STACK,a.BucketNames.SEGMENT],t);return i?.items??[]}function ts(e,t=[y]){const i=jr(e,[a.BucketNames.VIEW],t);return i?.items??[]}function is(e){return os(e,[a.BucketNames.LOCATION,a.BucketNames.VIEW,a.BucketNames.TREND])}function rs(e,t=[y]){return is(e).filter((i=>!rt(es(e,t),i)))}function ss(e){const t=es(e,[y,v]);return is(e).filter((e=>!rt(t,e)))}function as(e){return $r(e,[y,v])}function os(e,t){return[...t.reduce(((t,i)=>{const r=jr(e,[i],[y,v]);return r?.items?.length&&t.push(...r.items),t}),[]),...e.map((e=>e?.localIdentifier)).filter((e=>!rt(t,e))).reduce(((t,i)=>(t.push(...Hr(e,i,[y,v])),t)),[])]}function ns(e){return rs(e).filter(Or)}function ls(e){return e[0]}function cs(e){const t=e.buckets,i=e.uiConfig.buckets,r=t.map((e=>function(e,t){return function(e,t){if(void 0!==t&&function(e,t){return Rr(e.items).length>t}(e,t)){const i=n(e);return i.items=i.items.slice(0,t),i}return e}(e,t?.itemsLimit)}(e,i[e.localIdentifier])));return l(e,"buckets",r),e}function ds(e,t){return e.some((e=>e.localIdentifier===t))}function us(e,t){return e.find((e=>e?.localIdentifier===t))}function ps(e){const t=n(e.buckets);return it(e.buckets,(e=>{e.items=Fr(e.items,t)})),e}function hs(e){return it(e.buckets,(e=>{e.items=Rr(e.items)})),e}function ms(e,t){return t.find((t=>t.masterLocalIdentifier===e.localIdentifier))}function gs(e,t){return t.some((t=>t.items.some((t=>t.masterLocalIdentifier===e.localIdentifier))))}function bs(e){return es(e,[y,v]).length>0?Zr(fs(e,1)):Zr(e)}function fs(e,t,i=!1,r=(()=>!0)){const s=Qr(e);let a=[];return e.forEach((e=>{const o=Kr(e,[b]).filter(r);0!==o.length&&(a=vs(o,1,s,t,i,a))})),a.length<t&&(a=vs(s.filter(r),t,s,t,i,a)),function(e,t){return e.map((e=>{const i=e.items.filter((e=>e.type!==b||t.some((t=>t.localIdentifier===e.localIdentifier))));return{...e,items:i}}))}(e,a)}function vs(e,t,i,r,s,a){let o=a;return e.forEach((e=>{if(o.length-a.length===t)return;const n=[e,...Cs(e,i)];if(s){const t=(l=e,i.filter((e=>e.masterLocalIdentifier===l.localIdentifier))),s=[...n,...t];o=ks(s,o,r)}var l;o=ks(n,o,r)})),o}function ys(e,t){return t.find((t=>t.localIdentifier===e))}function Cs(e,t){const i=[];if(e.masterLocalIdentifier){const r=ys(e.masterLocalIdentifier,t);void 0!==r&&i.push(r)}e.operandLocalIdentifiers&&e.operandLocalIdentifiers.filter((e=>null!==e)).forEach((e=>{const r=ys(e,t);void 0!==r&&i.push(r)}));const r=[];return i.forEach((e=>{const i=Cs(e,t);r.push(...i)})),at([...i,...r],(e=>e.localIdentifier))}function ks(e,t,i){const r=dt(e,...t);return r.length+t.length<=i?[...t,...r]:t}function ws(e){return e?.showOnSecondaryAxis??!1}function Ss(e,t){return e.map((e=>({...e,[p]:t})))}function xs(e){return Ss(e,null)}function _s(e){return $r(e,[b]).filter(ws)}function Es(e){return e.map((e=>e?.localIdentifier??""))}const Ms=(e,t)=>{let i=[];return e.map((({localIdentifier:e,itemsLimit:r})=>{const s=e===a.BucketNames.MEASURES?[a.BucketNames.MEASURES,a.BucketNames.SIZE]:e===a.BucketNames.SECONDARY_MEASURES?[a.BucketNames.SECONDARY_MEASURES,a.BucketNames.COLOR]:[e],o=Wr(t,s,[b]),n=o.splice(0,r);return 0===n.length?{localIdentifier:e,items:i.splice(0,r)}:(i=[...i,...o],{localIdentifier:e,items:n})})).map(((t,r)=>{const s=e[r].itemsLimit-t.items.length;return 0===s?t:{...t,items:[...t.items,...i.splice(0,s)]}}))},Ts=(e,t)=>!(!Or(e)||!Or(t))&&(0,s.areObjRefsEqual)(e.dateDatasetRef,t.dateDatasetRef),Ps=(e,t)=>e.filter((e=>Br(e)||Ts(e,t))),As=(e,t)=>{const i=e.reduce(((e,t)=>(e.push(...t.items),e)),[]).filter(Or),r=0===i.length,a=(e=>{const t=e?.items?.find(xr);if(t)return t.dateDatasetRef})(t);return!!r||i.some((e=>(0,s.areObjRefsEqual)(e.dateDatasetRef,a)))},Ds=e=>Gr(e,a.BucketNames.ATTRIBUTE).filter((e=>e.type===y))[0]??void 0,Is=e=>{const t=n(e);return t.localIdentifier=t.localIdentifier+"_cloned",t};var Ns=i(59704),Rs=i(54061);function Ls(e){return 1===Vr(e,a.BucketNames.MEASURES)}function Fs(e){return 1===Os(e,a.BucketNames.MEASURES)}function Os(e,t){const i=Gr(e,t);return Rs(i,((e,t)=>t.masterLocalIdentifier?e:e+1),0)}function Bs(e,t){const i=$r(e,[b]).reduce(((e,t)=>(t.masterLocalIdentifier&&e.push(t.localIdentifier),e)),[]);return lt(t.items,(e=>e.filters)).filter(Er).some((e=>i.includes(e.measureLocalIdentifier)))}function zs(e){return 0===Vr(e,a.BucketNames.MEASURES)}function Vs(e){return 0===Vr(e,a.BucketNames.ATTRIBUTE)}function Gs(e){return Vr(e,a.BucketNames.ATTRIBUTE)<=he&&Vr(e,a.BucketNames.MEASURES)<=pe}function Us(e){return 0===Vr(e,a.BucketNames.COLUMNS)}function Hs(e){return as(e).length>1}function Ws(e,t){return Os(e,t)>1}function js(e){return rs(e).length>0}function Ks(e){return 0===rs(e).length}function $s(e,t,i){return e.every((e=>e(t,i)))}function qs(e){return!!e&&Ns(e.items,(e=>e?.filters?.[0]?.interval))}function Ys(e){return function(e){return Ns(as(e),Or)}(e)?nt(as(e),(e=>e?.granularity!==h.week)):nt(Gr(e,d),(e=>e?.granularity!==h.week))}function Xs(e){return!Ns(Zr(e),(e=>{const t=e?.filters;return t&&Ns(t,Or)}))}function Qs(e){return 0===es(e).length}function Zs(e){return 0===es(e,[y,v]).length}function Js(e){return 1===rs(e,[y,v]).length}function ea(e){return!Gr(e,a.BucketNames.MEASURES)?.[0]?.showInPercent}function ta(e){const t=$r(e,[b]);return!Ns(t,(e=>e.masterLocalIdentifier))}function ia(e){const t=as(e)?.[0];return t&&Or(t)}function ra(e){return!ia(e)}function sa(e,t){return!lt(t.items,(e=>e.filters)).some(Tr)}function aa(e){return Vr(e,a.BucketNames.MEASURES)<(Us(e)?me:pe)}function oa(e){return Vr(e,a.BucketNames.ATTRIBUTE)<(Us(e)?ge:he)}function na(e,t){let i=n(e);const{buckets:r,filters:s,uiConfig:o}=i,{supportedOverTimeComparisonTypes:l}=o,d=function(e){if(c(e))return a.OverTimeComparisonTypes.NOTHING;const t=function(e){if(!e)return null;const t=lt(e.items,(e=>(e.filters??[]).find(Sr))),i=ct(t);return i.length?i[0]:null}(e);return!c(t)&&t.overTimeComparisonType?t.overTimeComparisonType:a.OverTimeComparisonTypes.NOTHING}(s),u=rt(l,d),p=(m=d,c(h=l)||st(h,[a.OverTimeComparisonTypes.NOTHING])?a.OverTimeComparisonTypes.NOTHING:m);var h,m;const g=function(e,t,i){return $s(i?[Zs]:[Zs,Ys],e,t)&&qs(t)}(r,s,t),b=n(r);return it(r,(e=>{let t=e.items;var i;g||(t=Fr(t,b),t=Rr(t)),u||(t=function(e,t,i){return e.filter((e=>!Dr(e)||!Lr(e,t)||function(e,t,i){const r=Nr(e,t);return 1===r.length&&r[0]===i}(e,t,i)))}(t,b,p),i=p,t=t.filter((e=>!Ar(e)||function(e,t){return!!Ar(e)&&e.overTimeComparisonType===t}(e,i)))),e.items=t})),As(r,s)||(i=hs(i)),i}function la(e,t=!1){return it(e.buckets,(i=>{const r=!t&&(s=e.buckets,a=e.filters,o=i.localIdentifier,$s([Qs,js,sa],s,a)&&function(e,t){return 1===Os(e,t)}(s,o)&&!Bs(s,a));var s,a,o;r||i.items.forEach((e=>{e.type===b&&function(e){l(e,u,null)}(e)}));const n=e.uiConfig.buckets[i.localIdentifier];n.accepts.indexOf(b)>=0&&(n.isShowInPercentEnabled=r)})),e}var ca=i(27361),da=i(59242),ua=i(18721),pa=i(3674),ha=i(14293);const ma="dashboards",ga="analyticalDesigner";function ba(e,t){const i=n(e);return t?t.reduce(((e,t)=>ua(i,t)?l(e,t,ca(i,t)):e),{}):{}}function fa(e){return!!e?.controls?.colorMapping}function va(e,t){if(!t)return e;const i=n(e),r=`properties.controls.${t}`,s=i?.properties?.controls?.[t],a=i?.buckets??[],o=Zr(a),c=_s(a);if(!s&&!c.length)return e;const d={...s,measures:Es(c)},u={0:C,[o.length]:k}[c.length]||w;return l(i,r,d),l(i,"uiConfig.axis",u),i}function ya(e,t){const i=ba(e?.controls??{},t);return c(i)?{}:{controls:i}}function Ca(e,t){const i=e.properties?ba(e.properties.controls,t):{};if(c(i)){const t=e.properties?.sortItems,i=t&&!c(t)?{sortItems:t}:{};return{...e,properties:{...i}}}const r=Vr(e?.buckets??[],a.BucketNames.STACK),s=Boolean(i.stackMeasuresToPercent);return!r&&s&&(i.stackMeasures=!0),{...e,properties:{...e.properties,controls:i}}}function ka(e){return e?.controls?.stackMeasures??!1}function wa(e){return e?.controls?.stackMeasuresToPercent??!1}function Sa(e,t){const i=e?.buckets??[];let r=[];return Vr(i,a.BucketNames.MEASURES)<=1&&(r=U),Vr(i,a.BucketNames.STACK)&&(r=U.slice(0,1)),t.filter((e=>!r.some((t=>t===e))))}const xa={auto:"middle",bottom:"low",middle:"middle",top:"high",left:"low",center:"middle",right:"high"},_a=["xaxis","yaxis","secondary_xaxis","secondary_yaxis"];function Ea(e,t=!1){const i=_a.reduce(((i,r)=>{const s=e?.[r]?.name;return c(s)||(s.position=xa[t?s.position:xa.auto],i[r]={...e[r],name:s}),i}),{});return{...e,...i}}function Ma(e,t=!1){if(t){const t=e.dataPoints?.visible;return{...e,dataPoints:{visible:void 0!==t?t:"auto"}}}return{...e,dataPoints:{visible:void 0}}}function Ta(e){return e?.controls?.columnWidths}function Pa(e){return e?.controls?.measureGroupDimension}function Aa(e){return e?.controls?.columnHeadersPosition}function Da(e,t,i){return da((e=>n(e??{})),(e=>function(e,t){const i=function(e,t){const i=e?.legend?.position??"auto";return"auto"===i&&function(e){return!(0,s.bucketsIsEmpty)((0,s.insightBuckets)(e,a.BucketNames.STACK,a.BucketNames.SEGMENT))}(t)?"right":i}(e,t);return l(e,"legend.position",i),e}(e,t)),(e=>Ea(e,i?.enableAxisNameConfiguration)),(e=>Ma(e,i?.enableHidingOfDataPoints)))(e)}const Ia=440,Na=610;function Ra(e,t){const{enablePivotTableTransposition:i,enableColumnHeadersPosition:r}=e;return{...!0===i?{measureGroupDimension:Pa(t)}:{},...!0===r?{columnHeadersPosition:Aa(t)}:{}}}var La=i(14176);const Fa="desc";function Oa(e,t,i,r){if(t.insight.sorts?.length>0)return t.insight.sorts;switch(e){case a.VisualizationTypes.COLUMN:case a.VisualizationTypes.LINE:return[];case a.VisualizationTypes.BAR:return function(e,t=!1){const i=(0,s.insightMeasures)(e),r=(0,s.insightBucket)(e,a.BucketNames.VIEW),o=(0,s.insightBucket)(e,a.BucketNames.STACK),n=r?(0,s.bucketAttributes)(r):[],l=o?(0,s.bucketAttributes)(o):[];return 2===n.length?i.length>=2&&!t?[(0,s.newAttributeAreaSort)(n[0],Fa),(0,s.newMeasureSort)(i[0],Fa)]:[(0,s.newAttributeAreaSort)(n[0],Fa),(0,s.newAttributeAreaSort)(n[1],Fa)]:c(n)||c(l)?!c(n)&&t?[(0,s.newAttributeAreaSort)(n[0],Fa)]:c(l)&&!c(i)?[(0,s.newMeasureSort)(i[0],Fa)]:[]:[(0,s.newAttributeAreaSort)(n[0],Fa)]}(t,function(e,t){const i=t?.stackMeasures??!1,r=function(e,t){const i=(0,s.insightMeasures)(e).length,r=t.measures?.length??0;return 0===r||i===r}(e,t?.secondary_yaxis??{measures:[]});return i&&r}(t,i));case a.VisualizationTypes.TREEMAP:return function(e){return function(e,t,i){const r=e?(0,s.bucketAttributes)(e):[],a=t?(0,s.bucketAttributes)(t):[];return c(r)||c(a)?[]:[(0,s.newAttributeSort)(r[0],"asc"),...i.map((e=>(0,s.newMeasureSort)(e,"desc")))]}((0,s.insightBucket)(e,a.BucketNames.VIEW),(0,s.insightBucket)(e,a.BucketNames.SEGMENT),(0,s.insightMeasures)(e))}(t);case a.VisualizationTypes.HEATMAP:return function(e){const t=(0,s.insightSorts)(e);return t?.length>0?t:function(e){const t=e?(0,s.bucketAttributes)(e):[];return c(t)?[]:[(0,s.newAttributeSort)(t[0],"desc")]}((0,s.insightBucket)(e,a.BucketNames.VIEW))}(t);case a.VisualizationTypes.PIE:case a.VisualizationTypes.DONUT:case a.VisualizationTypes.PYRAMID:case a.VisualizationTypes.FUNNEL:case a.VisualizationTypes.WATERFALL:if(r.enableChartsSorting)return function(e){const t=(0,s.insightMeasures)(e),i=(0,s.insightBucket)(e,a.BucketNames.VIEW),r=i?(0,s.bucketAttributes)(i):[];return c(t)||c(r)?[]:[(0,s.newMeasureSort)(t[0],Fa)]}(t)}return[]}function Ba(e){if(e.properties){const t=La({...e.properties,sortItems:null},ha);return{...e,properties:t}}return e}function za(e,t){if(e){if((0,s.isAttributeValueSort)(e)&&t.attributeSort.normalSortEnabled)return function(e,t){const i=(0,s.sortDirection)(e);return(0,s.newAttributeSort)(t.itemId.localIdentifier,i)}(e,t);if((0,s.isAttributeAreaSort)(e))return function(e,t){const i=(0,s.sortDirection)(e);if(t.attributeSort.areaSortEnabled)return(0,s.newAttributeAreaSort)(t.itemId.localIdentifier,i);const r=t.metricSorts?.[0];return r?(0,s.newMeasureSortFromLocators)(r.locators,i):void 0}(e,t);if((0,s.isMeasureSort)(e))return function(e,t){const i=(0,s.sortDirection)(e);if(r=e,(a=t)&&a.metricSorts?.find((e=>{return t=e.locators,i=(0,s.sortMeasureLocators)(r),t.length===i.length&&t.every(((e,t)=>st(e,i[t])));var t,i})))return e;var r,a;const o=t.metricSorts?.[0];return o?(0,s.newMeasureSortFromLocators)(o.locators,i):t.attributeSort.areaSortEnabled?(0,s.newAttributeAreaSort)(t.itemId.localIdentifier,i):void 0}(e,t)}}function Va(e,t,i){return 0===t.length&&e.length>=2?yt(kr.explanationMeasure.id,i):0===t.length?yt(kr.explanationAttribute.id,i):void 0}function Ga(e,t,i){if(t===a.VisualizationTypes.COLUMN){const t=n(e),r=t?.buckets,s=t?.filters,a=function(e,t){return $s([ea,ra,Fs,Js,Qs,sa],e,t)&&!Bs(e,t)}(r,s),o=function(e){return $s([Ls,ta,Ks],e)}(r),c=function(e,t){const i=[ta,Ls,ia,Zs,Js,Xs];return $s(t?i:[...i,Ys],e?.buckets??[])&&function(e){if(e){const t=(e?.items??[]).find((e=>"attr.datedataset"===e?.attribute)),i=t?.filters?.[0]?.interval??null;return i&&i.name!==m}return!1}(e?.filters)}(t,i),d=function(e){return $s([Ls,Js,ra,Qs,ta,ea,Xs],e)}(r);return l(t,[be,fe,"percent"],a),l(t,[be,fe,"comparison"],o),l(t,[be,fe,"trending"],o),l(t,[be,fe,"overTimeComparison"],c),l(t,[be,fe,"previousPeriod"],d),t}return e}function Ua(e,t,i){const r=function(e,t){const i=e.find((e=>!Or(e))),r=e.find((e=>Or(e))),s=t.formatMessage(kr.or);return i&&r?`<span class="attr-field-icon" /> ${s} <span class="date-field-icon" />`:i?'<span class="attr-field-icon" />':'<span class="date-field-icon" />'}(i,t);return yt(e,t,{icons:r})}function Ha(e,t,i,r){return t>1?Ua(kr.metricView.id,e,r):Ua(kr.metricStack.id,e,i)}function Wa(e,t,i){return t>1?yt(kr.categoryView.id,e):Ua(kr.viewStack.id,e,i)}function ja(e,t){return yt(t>1?kr.stackView.id:kr.measureStack.id,e)}function Ka(e){var t=hr(),i=t.formatMessage,r=t.textComponent,s=void 0===r?Dt.Fragment:r,a=e.id,o=e.description,n=e.defaultMessage,l=e.values,c=e.children,d=e.tagName,u=void 0===d?s:d,p=i({id:a,description:o,defaultMessage:n},l,{ignoreTag:e.ignoreTag});return"function"==typeof c?c(Array.isArray(p)?p:[p]):u?Dt.createElement(u,null,Dt.Children.toArray(p)):Dt.createElement(Dt.Fragment,null,p)}Ka.displayName="FormattedMessage";var $a=Dt.memo(Ka,(function(e,t){var i=e.values,r=Et(e,["values"]),s=t.values,a=Et(t,["values"]);return rr(s,i)&&rr(r,a)}));$a.displayName="MemoizedFormattedMessage";var qa=$a,Ya=i(65165),Xa=i(94184),Qa=i(50308);class Za extends o.PureComponent{static defaultProps={alignPoints:[{align:"cr cl"}]};render(){const{className:e,alignPoints:t,children:i,intl:r,messageId:s=kr.notApplicable.id}=this.props;return o.createElement(Ya.BubbleHoverTrigger,{className:e},i,o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),alignPoints:t},yt(s,r)))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.props.showDisabledMessage})}}var Ja=pr(Za);class eo extends o.Component{static defaultProps={collapsed:!0,canBeToggled:!1,toggleDisabled:!1,toggledOn:!0,disabled:!1,pushData:Qa,showDisabledMessage:!1,className:"",properties:{}};constructor(e){super(e),this.toggleCollapsed=this.toggleCollapsed.bind(this),this.toggleValue=this.toggleValue.bind(this);const t=e.propertiesMeta?.[e.id]?.collapsed??!0;this.state={collapsed:t}}UNSAFE_componentWillReceiveProps(e){const t=e.propertiesMeta?.[this.props.id]?.collapsed??!0;this.setState({collapsed:t})}render(){const{collapsed:e}=this.state,{title:t,intl:i,subtitle:r,className:s}=this.props,a=`adi-bucket-configuration ${s}`;return o.createElement("div",{className:this.getSectionClassNames(),"aria-label":"Configuration section"},o.createElement("div",{className:this.getHeaderClassNames(),onClick:this.toggleCollapsed},yt(t,i)+(r?` (${yt(r,i)})`:"")),this.renderToggleSwitch(),o.createElement("div",{className:a},!e&&this.props.children))}renderToggleSwitch(){if(this.props.canBeToggled){const{toggledOn:e,toggleDisabled:t,showDisabledMessage:i,id:r,toggleMessageId:s}=this.props;return o.createElement(Ja,{className:"adi-bucket-item-toggle",showDisabledMessage:i,messageId:s},o.createElement("label",{className:this.getToggleLabelClassNames()},o.createElement("input",{"aria-label":r,type:"checkbox",checked:e,disabled:t,onChange:this.toggleValue,className:"s-checkbox-toggle "+(t?"s-disabled":"s-enabled")}),o.createElement("span",{className:"input-label-text"})))}return null}getHeaderClassNames(){const{collapsed:e}=this.state;return Xa("adi-bucket-item-header","adi-configuration-section-header","s-configuration-panel-item-header",{expanded:!e,"adi-bucket-item-header-has-toggle":this.props.canBeToggled,collapsed:e})}getToggleLabelClassNames(){return Xa("input-checkbox-toggle","s-checkbox-toggle-label")}getSectionClassNames(){return Xa("adi-bucket-item",`s-config-section-${this.props.id}`)}toggleCollapsed(){const{collapsed:e}=this.state,t={};t[this.props.id]={collapsed:!e},this.setState({collapsed:!e}),this.props.pushData({propertiesMeta:t})}toggleValue(e){const{valuePath:t,properties:i,pushData:r}=this.props;if(t&&i&&r){const s=n(i);l(s,`controls.${t}`,e.target.checked),r({properties:s})}}}var to=pr(eo);class io extends o.Component{static defaultProps={checked:!1,disabled:!1,showDisabledMessage:!1};constructor(e){super(e),this.onValueChanged=this.onValueChanged.bind(this)}render(){const{checked:e,disabled:t,labelText:i,showDisabledMessage:r,intl:s,valuePath:a,disabledMessageId:n}=this.props;return o.createElement(Ja,{showDisabledMessage:r,messageId:n},o.createElement("label",{className:"input-checkbox-label"},o.createElement("input",{"aria-label":a,checked:e,disabled:t,type:"checkbox",className:"input-checkbox",onChange:this.onValueChanged}),o.createElement("span",{className:"input-label-text"},yt(i,s))))}onValueChanged(e){const{valuePath:t,properties:i,pushData:r,isValueInverted:s=!1}=this.props,a=n(i);l(a,`controls.${t}`,s?!e.target.checked:e.target.checked),r({properties:a})}}var ro=pr(io);class so extends o.Component{static defaultProps={valuePath:"continuousLine.enabled",checked:!1,disabled:!1};constructor(e){super(e),this.onValueChanged=this.onValueChanged.bind(this)}render(){const{checked:e,disabled:t,intl:i,valuePath:r}=this.props;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:0,hideDelay:0},o.createElement("label",{className:"input-checkbox-label"},o.createElement("input",{"aria-label":r,checked:e,disabled:t,type:"checkbox",className:"input-checkbox s-continuous-line",onChange:this.onValueChanged}),o.createElement("span",{className:"input-label-text"},yt(kr.canvasContinuousLineLabel.id,i))),!t&&o.createElement(Ya.Bubble,{className:"bubble-primary continuous-line-tooltip",alignPoints:[{align:"cr cl"}],arrowOffsets:{"cr cl":[-75,0]}},yt(kr.canvasContinuousLineTooltip.id,i)))}onValueChanged(e){const{valuePath:t,properties:i,pushData:r}=this.props,s=n(i);l(s,`controls.${t}`,e.target.checked),r({properties:s})}}var ao=pr(so);const oo=["bl tl","tl bl","br tr","tr br"].map((e=>({align:e,offset:{x:1,y:0}})));class no extends o.PureComponent{static defaultProps={value:"",items:[],disabled:!1,width:117,showDisabledMessage:!1,customListItem:Ya.SingleSelectListItem};constructor(e){super(e),this.onSelect=this.onSelect.bind(this),this.getSelectedItem=this.getSelectedItem.bind(this)}render(){const{disabled:e,labelText:t,value:i,width:r,items:s,showDisabledMessage:a,disabledMessageAlignPoints:n,customListItem:l,intl:c}=this.props,d=this.getSelectedItem(i)||{};return o.createElement(Ja,{showDisabledMessage:a,alignPoints:n},o.createElement("div",{className:"adi-properties-dropdown-container"},o.createElement("span",{className:"input-label-text"},yt(t,c)),o.createElement("label",{className:"adi-bucket-inputfield gd-input gd-input-small"},o.createElement(Ya.Dropdown,{renderButton:({isOpen:t,toggleDropdown:i})=>this.getDropdownButton(d,e,t,i),closeOnParentScroll:!0,closeOnMouseDrag:!0,alignPoints:oo,renderBody:({closeDropdown:e,isMobile:t})=>o.createElement(Ya.DropdownList,{width:r,isMobile:t,items:s,renderItem:({item:t})=>o.createElement(l,{title:t.title,isSelected:t.value===d.value,onClick:()=>{this.onSelect(t),e()},type:t.type,icon:t.icon,info:t.info})}),className:"adi-bucket-dropdown"}))))}getDropdownButton(e,t,i,r){const{icon:s,title:a}=e;return o.createElement(Ya.DropdownButton,{value:a,iconLeft:s,isOpen:i,onClick:r,disabled:t})}onSelect(e){const{valuePath:t,properties:i,pushData:r}=this.props,s=n(i);l(s,`controls.${t}`,e.value),r({properties:s})}getSelectedItem(e){if(this.props.items)return this.props.items.find((t=>t.value===e))}}var lo=pr(no);const co=[{title:kr.autoDefault.id,value:"default"},{type:"separator"},{title:kr.extraSmall.id,value:"0.5x"},{title:kr.small.id,value:"0.75x"},{title:kr.normal.id,value:"normal"},{title:kr.large.id,value:"1.25x"},{title:kr.extraLarge.id,value:"1.5x"}],uo=[{title:kr.areaAutoDefault.id,value:"auto"},{title:kr.areaWorld.id,value:"world"},{type:"header",title:"properties.viewport.area.continents"},{title:kr.areaContinent_af.id,value:"continent_af"},{title:kr.areaContinent_na.id,value:"continent_na"},{title:kr.areaContinent_sa.id,value:"continent_sa"},{title:kr.areaContinent_as.id,value:"continent_as"},{title:kr.areaContinent_au.id,value:"continent_au"},{title:kr.areaContinent_eu.id,value:"continent_eu"}],po=[{title:kr.autoDefault.id,value:"auto"},{type:"separator"},{title:kr.rotation0.id,value:"0"},{title:kr.rotation30.id,value:"30"},{title:kr.rotation45.id,value:"45"},{title:kr.rotation60.id,value:"60"},{title:kr.rotation90.id,value:"90"}],ho=[{title:kr.autoDefault.id,value:"auto"},{type:"separator"},{title:kr.formatInherit.id,value:"inherit",info:kr.formatInfoInherit.id}],mo=[{title:kr.forecastConfidence70.id,value:.7},{title:kr.forecastConfidence75.id,value:.75},{title:kr.forecastConfidence80.id,value:.8},{title:kr.forecastConfidence85.id,value:.85},{title:kr.forecastConfidence90.id,value:.9},{title:kr.forecastConfidence95.id,value:.95}],go=[{title:kr.autoDefault.id,value:"auto"},{type:"separator"},{title:kr.positionUp.id,value:"top",icon:"gd-dropdown-icon-legend-top"},{title:kr.positionDown.id,value:"bottom",icon:"gd-dropdown-icon-legend-bottom"},{title:kr.positionRight.id,value:"right",icon:"gd-dropdown-icon-legend-right"},{title:kr.positionLeft.id,value:"left",icon:"gd-dropdown-icon-legend-left"}],bo=[{title:kr.horizontal.id,value:"horizontal",icon:"gd-dropdown-icon-orientation-horizontal"},{title:kr.vertical.id,value:"vertical",icon:"gd-dropdown-icon-orientation-vertical"}],fo=[{title:kr.dataLabelsAuto.id,value:"auto"},{type:"separator"},{title:kr.dataLabelsShow.id,value:!0},{title:kr.dataLabelsHide.id,value:!1}],vo=[{title:kr.rowHeightSmall.id,value:"small"},{title:kr.rowHeightMedium.id,value:"medium"},{title:kr.rowHeightLarge.id,value:"large"}],yo=[{title:kr.verticalAlignTop.id,value:"top"},{title:kr.verticalAlignMiddle.id,value:"middle"},{title:kr.verticalAlignBottom.id,value:"bottom"}],Co=[{title:kr.textWrappingClip.id,value:"clip"},{title:kr.textWrappingWrap.id,value:"wrap"}],ko=[{title:kr.imageFit.id,value:"fit"},{title:kr.imageFill.id,value:"fill"}],wo=(kr.totalLabelsAuto.id,kr.totalLabelsShow.id,kr.totalLabelsHide.id,[{title:kr.dataPointsAuto.id,value:"auto"},{type:"separator"},{title:kr.dataPointsShow.id,value:!0},{title:kr.dataPointsHide.id,value:!1}]),So=[{title:kr.autoDefault.id,value:"auto"},{type:"separator"},{title:kr.axisPositionLeft.id,value:"left",icon:"gd-dropdown-icon-axis-name-position-left"},{title:kr.axisPositionCenter.id,value:"center",icon:"gd-dropdown-icon-axis-name-position-center"},{title:kr.axisPositionRight.id,value:"right",icon:"gd-dropdown-icon-axis-name-position-right"}],xo=[{title:kr.autoDefault.id,value:"auto"},{type:"separator"},{title:kr.axisPositionTop.id,value:"top",icon:"gd-dropdown-icon-axis-name-position-top"},{title:kr.axisPositionMiddle.id,value:"middle",icon:"gd-dropdown-icon-axis-name-position-middle"},{title:kr.axisPositionBottom.id,value:"bottom",icon:"gd-dropdown-icon-axis-name-position-bottom"}],_o=[{title:kr.metricsPositionColumns.id,value:"columns"},{title:kr.metricsPositionRows.id,value:"rows"}],Eo=[{title:kr.columnHeaderPositionTop.id,value:"top"},{title:kr.columnHeaderPositionLeft.id,value:"left"}],Mo=[{title:wr.calculatedAsChange.id,value:N.CalculateAs.CHANGE,info:N.CalculateAs.CHANGE,icon:"gd-dropdown-icon-calculated-as-change"},{title:wr.calculatedAsChangeDifference.id,value:N.CalculateAs.CHANGE_DIFFERENCE,info:N.CalculateAs.CHANGE_DIFFERENCE,icon:"gd-dropdown-icon-calculated-as-change-difference"},{title:wr.calculatedAsRatio.id,value:N.CalculateAs.RATIO,info:N.CalculateAs.RATIO,icon:"gd-dropdown-icon-calculated-as-ratio"},{title:wr.calculatedAsDifference.id,value:N.CalculateAs.DIFFERENCE,info:N.CalculateAs.DIFFERENCE,icon:"gd-dropdown-icon-calculated-as-difference"}],To=[{title:kr.autoDefault.id,value:N.ComparisonPositionValues.AUTO},{type:"separator"},{title:wr.positionLeft.id,value:N.ComparisonPositionValues.LEFT,icon:"gd-dropdown-icon-comparison-position-left"},{title:wr.positionRight.id,value:N.ComparisonPositionValues.RIGHT,icon:"gd-dropdown-icon-comparison-position-right"},{title:wr.positionTop.id,value:N.ComparisonPositionValues.TOP,icon:"gd-dropdown-icon-comparison-position-top"}];class Po extends o.Component{static defaultProps={defaultValue:"auto",showDisabledMessage:!1,isTotalsDisabled:!0,enableSeparateTotalLabels:!1};render(){const{pushData:e,properties:t,intl:i,isDisabled:r,showDisabledMessage:s,defaultValue:a,isTotalsDisabled:n,enableSeparateTotalLabels:l,enablePercentLabels:c}=this.props,d=t?.controls?.dataLabels?.visible??a,u=t?.controls?.dataLabels?.totalsVisible??a,p=t?.controls?.dataLabels?.percentsVisible??!0,h=r||!d;let m;return d?h||(m=kr.canvasLabelsPercentagesInfo.id):m=kr.canvasLabelsPercentagesDisabled.id,o.createElement("div",{className:"s-data-labels-config"},o.createElement(lo,{value:d,valuePath:"dataLabels.visible",labelText:kr.dataLabels.id,disabled:r,properties:t,pushData:e,items:Ct(fo,i),showDisabledMessage:s}),l?o.createElement(lo,{value:u,valuePath:"dataLabels.totalsVisible",labelText:kr.totalLabels.id,disabled:n,properties:t,pushData:e,items:Ct(fo,i),showDisabledMessage:n}):null,c?o.createElement(ro,{valuePath:"dataLabels.percentsVisible",labelText:kr.canvasLabelsPercentages.id,properties:t,checked:p,disabled:h,disabledMessageId:m,showDisabledMessage:!!m,pushData:e}):null)}}var Ao=pr(Po);class Do extends o.Component{static defaultProps={defaultValue:"auto",showDisabledMessage:!1};render(){const{pushData:e,properties:t,intl:i,isDisabled:r,showDisabledMessage:s,defaultValue:a}=this.props,n=t?.controls?.dataPoints?.visible??a;return o.createElement("div",{className:"s-data-points-config"},o.createElement(lo,{value:n,valuePath:"dataPoints.visible",labelText:kr.dataPoints.id,disabled:r,properties:t,pushData:e,items:Ct(wo,i),showDisabledMessage:s}))}}var Io=pr(Do);const No=200,Ro=-37;class Lo extends o.Component{static defaultProps={collapsed:!0,canBeToggled:!1,toggleDisabled:!1,toggledOn:!0,pushData:Qa,showDisabledMessage:!1};constructor(e){super(e),this.toggleValue=this.toggleValue.bind(this)}render(){const{title:e,intl:t}=this.props,i=`configuration-subsection ${this.getTestClassName()}`;return o.createElement("div",{className:i,"aria-label":"Configuration subsection"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement("span",{className:"legend-title"},yt(e,t)),this.renderToggleSwitch()),o.createElement("div",null,this.props.children)))}renderToggleSwitch(){if(this.props.canBeToggled){const{toggledOn:e,toggleDisabled:t,showDisabledMessage:i,title:r,intl:s,axisType:a}=this.props;return o.createElement(Ja,{className:"input-checkbox-toggle",showDisabledMessage:i},o.createElement("label",{className:"s-checkbox-toggle-label"},o.createElement("input",{"aria-label":`${a} ${yt(r,s)}`,type:"checkbox",checked:e,disabled:t,onChange:this.toggleValue,className:"s-checkbox-toggle"}),o.createElement("span",{className:"input-label-text"})))}return null}toggleValue(e){const{valuePath:t,properties:i,pushData:r}=this.props;if(t&&i&&r){const s=n(i);l(s,`controls.${t}`,e.target.checked),r({properties:s})}}getTestClassName(){return`s-configuration-subsection-${this.props.title.replace(/\./g,"-")}`}}var Fo=pr(Lo);class Oo extends o.Component{static defaultProps={value:"",type:"text",disabled:!1,pushData:Qa,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,step:1,showDisabledMessage:!1,hasWarning:!1,validateAndPushDataCallback:Qa};inputRef;constructor(e){super(e),this.state={value:e.value,lastSentValue:e.value},this.onValueChanged=this.onValueChanged.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onBlur=this.onBlur.bind(this),this.triggerBlur=this.triggerBlur.bind(this)}UNSAFE_componentWillReceiveProps(e){e.value!==this.state.value&&this.setState({value:e.value,lastSentValue:e.value})}render(){const{disabled:e,labelText:t,placeholder:i,showDisabledMessage:r,disabledMessageId:s,disabledMessageAlignPoints:a,intl:n,type:l,maxLength:c,description:d,descriptionValues:u}=this.props;return o.createElement(Ja,{showDisabledMessage:r,messageId:s,alignPoints:a},o.createElement(o.Fragment,null,o.createElement("label",{className:"adi-bucket-inputfield s-adi-bucket-inputfield gd-input gd-input-small"},o.createElement("span",{className:"input-label-text"},yt(t,n)),o.createElement("input",{ref:e=>this.inputRef=e,className:this.getInputClassNames(),value:this.state.value,placeholder:yt(i,n),disabled:e,onKeyPress:this.onKeyPress,onBlur:this.onBlur,onChange:this.onValueChanged,maxLength:"number"===l?15:c})),d?o.createElement("div",{className:"adi-bucket-inputfield-description"},o.createElement(qa,{id:d,values:u})):null))}getInputClassNames(){const{type:e,hasWarning:t}=this.props;return Xa("gd-input-field","gd-input-field-small",{"has-warning":t,number:"number"===e})}isValid(e,t){const{validateFn:i}=this.props;return i?i(t):"number"!==e||!(t.startsWith(".")||isNaN(Number(t))&&"-"!==t)}onValueChanged(e){const{type:t}=this.props,{value:i}=e.target;this.isValid(t,i)&&this.setState({value:i})}triggerBlur(){this.inputRef&&this.inputRef.blur()}modifyDataForSending(e){const{type:t,transformFn:i}=this.props;return i?i(e):"number"===t?e.replace(/\.+$/,""):e}emitData(){const{valuePath:e,properties:t,pushData:i}=this.props,{value:r}=this.state,s=this.modifyDataForSending(r),a=n(t);return l(a,`controls.${e}`,s),this.setState({value:s}),i({properties:a}),s}onBlur(){const{value:e,lastSentValue:t}=this.state;if(t!==e){const e=this.emitData();this.setState({lastSentValue:e})}}onKeyPress(e){if("Enter"===e.key){const{value:e,lastSentValue:t}=this.state;if(t!==e){const e=this.emitData();this.setState({lastSentValue:e},this.triggerBlur)}else this.triggerBlur()}}}var Bo=pr(Oo);function zo(e){return""===e?Number.MAX_SAFE_INTEGER:Number(e)}function Vo(e){return""===e?Number.MIN_SAFE_INTEGER:Number(e)}function Go(e){return"-"===e||""===e}function Uo(e,t,i){const r="-"===e,s=!isNaN(t)&&!isNaN(i);return r||!s||t>i}function Ho(e){const t=(0,s.bucketsFind)((0,s.insightBuckets)(e),a.BucketNames.ATTRIBUTE),i=t&&(0,s.bucketItems)(t).length>0,r=(0,s.bucketsFind)((0,s.insightBuckets)(e),a.BucketNames.COLUMNS),o=r&&(0,s.bucketItems)(r).length>0,n=Pa((0,s.insightProperties)(e))??"columns";return o&&!i&&"rows"===n}const Wo={minScale:{hasWarning:!1,warningMessage:"",incorrectValue:""},maxScale:{hasWarning:!1,warningMessage:"",incorrectValue:""}};class jo extends o.Component{static getDerivedStateFromProps(e){return e.propertiesMeta?.undoApplied?Wo:null}constructor(e){super(e),this.state=Wo}render(){return this.renderMinMaxSection()}renderMinMaxSection(){const{properties:e,basePath:t,isDisabled:i}=this.props,r=e?.controls?.[t],s=r?.min??"",a=r?.max??"",n=r?.visible??!0;return o.createElement(Fo,{title:kr.axisScale.id},o.createElement(Bo,{valuePath:`${t}.min`,labelText:kr.axisMin.id,placeholder:kr.autoPlaceholder.id,type:"number",hasWarning:this.minScaleHasWarning(),value:this.minScaleHasIncorrectValue()?this.state.minScale?.incorrectValue:s,disabled:i||!n,properties:e,pushData:this.minInputValidateAndPushDataCallback}),this.renderMinErrorMessage(),o.createElement(Bo,{valuePath:`${t}.max`,labelText:kr.axisMax.id,placeholder:kr.autoPlaceholder.id,type:"number",hasWarning:this.maxScaleHasWarning(),value:this.maxScaleHasIncorrectValue()?this.state.maxScale?.incorrectValue:a,disabled:i||!n,properties:e,pushData:this.maxInputValidateAndPushDataCallback}),this.renderMaxErrorMessage())}minInputValidateAndPushDataCallback=e=>{!function(e,t,i,r,s){const{basePath:a}=i,o=e?.properties?.controls?.[a]?.min,n=t?.maxScale?.incorrectValue??"",c=i?.properties?.controls?.[a]?.max??"",d=Go(n)?zo(c):Number(n),u=Vo(o),p="-"===o,{propertiesMeta:h,pushData:m}=i;if(l(h,"undoApplied",!1),Uo(o,u,d))return r({maxScale:{...t.maxScale,hasWarning:"-"===n},minScale:{hasWarning:!0,warningMessage:p?"":yt(kr.axisMinWarning.id,i.intl),incorrectValue:o}}),void m({propertiesMeta:h});const{properties:g}=i;l(g,`controls.${a}.min`,o),isNaN(parseFloat(n))?r({minScale:s.minScale}):(l(g,`controls.${a}.max`,n),r(s)),m({properties:g,propertiesMeta:h})}(e,this.state,this.props,this.setState.bind(this),Wo)};maxInputValidateAndPushDataCallback=e=>{!function(e,t,i,r,s){const{basePath:a}=i,o=e?.properties?.controls?.[a]?.max,n=t?.minScale?.incorrectValue??"",c=i?.properties?.controls?.[a]?.min??"",d=Go(n)?Vo(c):Number(n),u=zo(o),p="-"===o,{propertiesMeta:h,pushData:m}=i;if(l(h,"undoApplied",!1),Uo(o,d,u))return r({minScale:{...t.minScale,hasWarning:"-"===n},maxScale:{hasWarning:!0,warningMessage:p?"":yt(kr.axisMaxWarning.id,i.intl),incorrectValue:o}}),void m({propertiesMeta:h});const{properties:g}=i;l(g,`controls.${a}.max`,o),isNaN(parseFloat(n))?r({maxScale:s.maxScale}):(l(g,`controls.${a}.min`,n),r(s)),m({properties:g,propertiesMeta:h})}(e,this.state,this.props,this.setState.bind(this),Wo)};minScaleHasIncorrectValue(){return""!==(this.state.minScale?.incorrectValue??"")}maxScaleHasIncorrectValue(){return""!==(this.state.maxScale?.incorrectValue??"")}minScaleHasWarning(){return this.state.minScale?.hasWarning??!1}maxScaleHasWarning(){return this.state.maxScale?.hasWarning??!1}renderMinErrorMessage(){const e=this.state.minScale?.warningMessage??"";return!(!this.minScaleHasWarning()||""===e)&&o.createElement(Ya.Message,{type:"warning",className:"adi-input-warning"},e)}renderMaxErrorMessage(){const e=this.state.maxScale?.warningMessage??"";return!(!this.maxScaleHasWarning()||""===e)&&o.createElement(Ya.Message,{type:"warning",className:"adi-input-warning"},e)}}var Ko,$o=pr(jo),qo=i(44586);!function(e){e[e.ColorPalette=0]="ColorPalette",e[e.ColorPicker=1]="ColorPicker"}(Ko||(Ko={}));const Yo=[{align:"bl tl",offset:{x:0,y:2}},{align:"tl bl",offset:{x:0,y:2}}],Xo=[{align:"cr cl",offset:{x:5,y:0}},{align:"br bl",offset:{x:5,y:100}},{align:"br bl",offset:{x:5,y:0}}];class Qo extends o.PureComponent{componentWillUnmount(){this.startScrollingPropagation()}render(){return o.createElement(Ya.Overlay,{alignTo:this.props.alignTo,onClose:this.onClose,alignPoints:this.getAlignPoints(),closeOnOutsideClick:!0,closeOnParentScroll:!0,closeOnMouseDrag:!0},o.createElement("div",{onMouseOver:this.stopScrollingPropagation,onMouseOut:this.startScrollingPropagation,"aria-label":"Color overlay content"},this.props.children))}stopScrollingPropagation=()=>{document.body.addEventListener("wheel",this.stopPropagation)};startScrollingPropagation=()=>{document.body.removeEventListener("wheel",this.stopPropagation)};stopPropagation=e=>{e.stopPropagation()};getAlignPoints(){return this.props.dropdownVersion===Ko.ColorPalette?Yo:Xo}onClose=()=>{this.props.onClose()}}class Zo extends o.PureComponent{itemRef;constructor(e){super(e),this.itemRef=o.createRef()}render(){return o.createElement("div",{"aria-label":this.getRgbStringFromPaletteItem(),ref:this.itemRef,onClick:this.onColorSelected,style:{backgroundColor:this.getRgbStringFromPaletteItem()},className:this.getClassNames()})}componentDidMount(){this.scrollSelectedItemIntoParent()}scrollSelectedItemIntoParent(){if(this.props.selected&&this.itemRef.current&&this.itemRef.current.parentNode&&this.isItemVisible()){const e=this.itemRef.current;e.parentNode.scrollTop=e.offsetTop-e.parentNode.offsetTop-5}}isItemVisible(){const e=this.itemRef.current,t=e.offsetTop-e.parentNode.offsetTop,i=e.clientHeight;return e.parentNode.clientHeight<t+i}getClassNames(){return Xa("gd-color-list-item",`s-color-list-item-${this.props.paletteItem.guid}`,{"gd-color-list-item-active":this.props.selected})}getRgbStringFromPaletteItem(){const{r:e,g:t,b:i}=this.props.paletteItem.fill;return`rgb(${e},${t},${i})`}onColorSelected=()=>{const e={type:"guid",value:this.props.paletteItem.guid};this.props.onColorSelected(e)}}class Jo extends o.PureComponent{render(){return o.createElement("div",{"aria-label":"Color palette",className:this.getClassNames()},this.renderItems())}getClassNames(){const e=this.isColorPaletteLarge();return Xa({"gd-color-drop-down-list-large":e,"gd-color-drop-down-list":!e},"s-color-drop-down-list")}renderItems(){return this.props.colorPalette.map((e=>o.createElement(Zo,{selected:this.isItemSelected(e.guid),key:e.guid,paletteItem:e,onColorSelected:this.onColorSelected})))}isColorPaletteLarge(){return this.props.colorPalette.length>20}isItemSelected(e){return this.props.selectedColorGuid===e}onColorSelected=e=>{this.props.onColorSelected(e)}}class en extends o.PureComponent{render(){return o.createElement("div",{className:"gd-color-drop-down-custom-section"},o.createElement(Ya.Button,{value:yt(kr.customColor.id,this.props.intl),className:"gd-button-link gd-color-drop-down-custom-section-button s-custom-section-button",onClick:this.onClick}))}onClick=()=>{this.props.onClick()}}var tn,rn=pr(en);!function(e){e[e.Down=0]="Down",e[e.Right=1]="Right"}(tn||(tn={}));const sn={r:255,g:0,b:0};class an extends o.PureComponent{id;constructor(e){super(e),this.id=(0,qo.Z)(),this.state={isDropdownOpen:!1,dropdownVersion:Ko.ColorPalette}}render(){return o.createElement(o.Fragment,null,o.createElement("div",{className:this.getClassName(),onClick:this.onDropdownButtonClick},this.setupDropdownChild()),this.state.isDropdownOpen?o.createElement(Qo,{alignTo:`.${this.getClassName()}`,onClose:this.onClose,dropdownVersion:this.state.dropdownVersion,key:this.state.dropdownVersion},o.createElement("div",{className:"overlay dropdown-body"},this.isColorPaletteContent()?this.renderColorPaletteContent():this.renderColorPickerContent())):null)}setupDropdownChild(){const e={isSelected:this.state.isDropdownOpen,position:this.getIconPosition(),disabled:this.props.disabled};return o.cloneElement(this.props.children,e)}getIconPosition(){return this.state.dropdownVersion===Ko.ColorPalette?tn.Down:tn.Right}isColorPaletteContent(){return this.state.dropdownVersion===Ko.ColorPalette}renderColorPaletteContent(){return o.createElement("div",{className:"gd-color-drop-down"},o.createElement(Jo,{selectedColorGuid:this.getSelectedGuidFromColorItem(),colorPalette:this.props.colorPalette,onColorSelected:this.onColorSelected}),this.props.showCustomPicker?o.createElement(rn,{onClick:this.onCustomColorButtonClick}):null)}getSelectedGuidFromColorItem(){return(0,s.isColorFromPalette)(this.props.selectedColorItem)?this.props.selectedColorItem.value:null}renderColorPickerContent(){return o.createElement(Ya.ColorPicker,{initialRgbColor:this.getSelectedColorFromPalette(),onSubmit:this.onColorPickerSubmit,onCancel:this.onColorPickerCancel})}getSelectedColorFromPalette(){if((0,s.isColorFromPalette)(this.props.selectedColorItem)){const e=this.props.colorPalette.find((e=>e.guid===this.props.selectedColorItem.value));if(e)return e.fill}return(0,s.isRgbColor)(this.props.selectedColorItem)?this.props.selectedColorItem.value:sn}onColorPickerSubmit=e=>{const t={type:"rgb",value:e};this.onColorSelected(t)};onColorPickerCancel=()=>{this.setState({dropdownVersion:Ko.ColorPalette})};onCustomColorButtonClick=()=>{this.setState({dropdownVersion:Ko.ColorPicker})};getClassName(){return`s-color-drop-down-button-${this.id}`}onClose=()=>{this.setState({isDropdownOpen:!1,dropdownVersion:Ko.ColorPalette})};onDropdownButtonClick=()=>{this.props.disabled||this.toggleDropdown()};onColorSelected=e=>{this.setState({isDropdownOpen:!1,dropdownVersion:Ko.ColorPalette}),setTimeout((()=>{this.props.onColorSelected(e)}),100)};toggleDropdown(){this.setState({isDropdownOpen:!this.state.isDropdownOpen,dropdownVersion:Ko.ColorPalette})}}var on=pr(an);class nn extends o.PureComponent{render(){return o.createElement("div",{className:this.getClassName()},o.createElement("div",{className:this.getIconStyle(),style:{backgroundColor:this.getBackgroundColor()}}),o.createElement("span",null,this.props.text))}getIconStyle(){const{r:e,g:t,b:i}=this.props.color;return`gd-color-config-item-sample ${this.props.position===tn.Right?"gd-icon-navigateright":"gd-icon-navigatedown"} s-color-${e}-${t}-${i}`}getClassName(){const{isSelected:e,disabled:t}=this.props;return Xa("gd-list-item gd-color-config-list-item s-colored-items-list-item",{"is-active":e&&!t,"is-disabled":t,"s-is-disabled":t})}getBackgroundColor(){const{r:e,g:t,b:i}=this.props.color;return`rgba(${e},${t},${i},1)`}}class ln extends o.PureComponent{static defaultProps={showCustomPicker:!1,disabled:!1};render(){const{item:e,colorPalette:t,showCustomPicker:i}=this.props,r=e||null;if(!r)return this.renderLoadingItem();const s=r.mappingHeader,a=this.getText(s);return o.createElement(on,{selectedColorItem:r.colorItem,colorPalette:t,onColorSelected:this.onColorSelected,showCustomPicker:i},o.createElement(nn,{text:a,color:r.color}))}renderLoadingItem(){return o.createElement("div",{className:"gd-list-item gd-list-item-not-loaded"})}onColorSelected=e=>{const{item:t,onSelect:i}=this.props;i&&i(t,e)};getText(e){const{intl:t}=this.props,i=(0,a.getMappingHeaderFormattedName)(e)||"";return null===i||""===i?`(${yt("empty_value",t)})`:(r=i,[kr.colorTotalLabel.id,kr.colorPositiveLabel.id,kr.colorNegativeLabel.id].includes(r)?yt(i,t):i);var r}}var cn=pr(ln);function dn(e,t,i){const r=ct(at([{id:t,color:i},...e?.controls?.colorMapping??[]],"id")),s=n(e);return l(s,"controls.colorMapping",r),s}function un(e,t){if(!e?.controls?.colorMapping)return e;const i=e.controls.colorMapping.filter((e=>{const{id:i}=e,r=e.color.value;return void 0!==t.find((e=>(0,s.isMeasureDescriptor)(e.headerItem)?e.headerItem.measureHeaderItem.localIdentifier===i&&st(e.color.value,r):(0,s.isResultAttributeHeader)(e.headerItem)?e.headerItem.attributeHeaderItem.uri===i:(0,s.isAttributeDescriptor)(e.headerItem)?(0,s.isUriRef)(e.headerItem.attributeHeader.ref)?e.headerItem.attributeHeader.uri===i:e.headerItem.attributeHeader.identifier===i:!!(0,s.isColorDescriptor)(e.headerItem)&&e.headerItem.colorHeaderItem.id===i))}));return{...e,controls:{...e.controls,colorMapping:i.length?i:null}}}class pn extends o.PureComponent{static defaultProps={disabled:!1,isLoading:!1};listRef;constructor(e){super(e),this.state={searchString:""},this.listRef=o.createRef()}render(){const e=this.isSearchFieldVisible()?this.state.searchString:"",t=function(e,t){return c(t)?e:e.filter((e=>{const i=function(e){return(0,a.getMappingHeaderName)(e.mappingHeader)||""}(e);return i.toLowerCase().includes(t.toLowerCase())}))}(this.props.inputItems,e);return o.createElement("div",{ref:this.listRef},o.createElement(Ya.DropdownList,{width:218,showSearch:this.isSearchFieldVisible(),searchString:e,onSearch:this.onSearch,onScrollStart:this.onScroll,items:t,className:"gd-colored-items-list",maxVisibleItemsCount:5,isLoading:this.props.isLoading,renderItem:({item:e})=>o.createElement(cn,{colorPalette:this.props.colorPalette,onSelect:this.onSelect,showCustomPicker:this.props.showCustomPicker,disabled:this.props.disabled,item:e})}))}onScroll=()=>{this.listRef?.current&&this.listRef.current.dispatchEvent(new CustomEvent("goodstrap.scrolled",{bubbles:!0}))};closeOpenDropdownOnSearch(){this.onScroll()}onSearch=e=>{this.setState({searchString:e}),this.closeOpenDropdownOnSearch()};isSearchFieldVisible=()=>this.props.inputItems.length>7&&!this.props.isLoading;onSelect=(e,t)=>{this.props.onSelect(e,t)}}var hn=pr(pn);const mn="COLOR_MAPPING_CHANGED";class gn extends o.Component{render(){const{pushData:e,propertiesMeta:t}=this.props;return o.createElement(to,{title:kr.colors.id,pushData:e,propertiesMeta:t,id:"colors_section",className:"adi-color-configuration"},this.renderSectionContents())}onSelect=(e,t)=>{const{properties:i,pushData:r}=this.props,{mappingHeader:a}=e,o=function(e,t,i){if((0,s.isMeasureDescriptor)(t)){const r=function(e){return e.measureHeaderItem.localIdentifier}(t);return dn(e,r,i)}return(0,s.isResultAttributeHeader)(t)?dn(e,t.attributeHeaderItem.uri,i):(0,s.isAttributeDescriptor)(t)?dn(e,(0,s.isUriRef)(t.attributeHeader.ref)?t.attributeHeader.uri:t.attributeHeader.identifier,i):(0,s.isColorDescriptor)(t)?dn(e,t.colorHeaderItem.id,i):{}}(i,a,t);r({messageId:mn,properties:o})};isColoredListVisible(){const{colors:e,hasMeasures:t,controlsDisabled:i,isLoading:r}=this.props;return r||!i&&e&&e.colorPalette&&t}renderResetButton(){const{controlsDisabled:e}=this.props,t=e||this.isDefaultColorMapping(),i=Xa("gd-color-reset-colors-section",{disabled:t});return o.createElement("div",{className:i},o.createElement(Ya.Button,{value:yt(kr.resetColors.id,this.props.intl),className:"gd-button-link s-reset-colors-button",onClick:this.onResetColors,disabled:t}))}renderColoredList(){const{colors:e,showCustomPicker:t,controlsDisabled:i,isLoading:r}=this.props,a=function(e){let t=[];return e?.colorAssignments&&(t=e.colorAssignments.map(((t,i)=>(0,s.isColorFromPalette)(t.color)?{colorItem:t.color,mappingHeader:t.headerItem,color:N.ColorUtils.getColorByGuid(e.colorPalette,t.color.value,i)}:(0,s.isRgbColor)(t.color)?{colorItem:t.color,mappingHeader:t.headerItem,color:t.color.value}:void 0))),t}(e),n=e?.colorPalette?e.colorPalette:[];return o.createElement("div",null,o.createElement(hn,{colorPalette:n,inputItems:a,onSelect:this.onSelect,showCustomPicker:t,disabled:i,isLoading:r}),this.renderResetButton())}isDefaultColorMapping(){const{properties:e}=this.props,t=e?.controls?.colorMapping??[];return!t||0===t.length}onResetColors=()=>{const{properties:e,pushData:t}=this.props;if(this.isDefaultColorMapping())return;const i=l(n(e),"controls.colorMapping",void 0);t({messageId:mn,properties:i,references:{}})};renderUnsupportedColoredList(){return o.createElement("div",{className:"gd-color-unsupported"},yt(kr.unsupportedColors.id,this.props.intl))}renderSectionContents(){return this.isColoredListVisible()?this.renderColoredList():this.renderUnsupportedColoredList()}}var bn=pr(gn);class fn extends o.PureComponent{render(){return o.createElement(lo,{value:this.props.value,valuePath:"legend.position",labelText:kr.position.id,disabled:this.props.disabled,properties:this.props.properties,pushData:this.props.pushData,items:this.generateDropdownItems(),showDisabledMessage:this.props.showDisabledMessage})}generateDropdownItems(){return Ct(go,this.props.intl)}}var vn=pr(fn);class yn extends o.PureComponent{static defaultProps={controlsDisabled:!1,properties:{},propertiesMeta:{},defaultLegendEnabled:!0,pushData:Qa};render(){const{controlsDisabled:e,properties:t,pushData:i,defaultLegendEnabled:r}=this.props,s=this.props.properties?.controls?.legend?.enabled??r,a=this.props.properties?.controls?.legend?.position??"auto",n=!(this.props.propertiesMeta?.legend_enabled??1),l=e||n,c=!s||l,d=e||n;return o.createElement(to,{id:"legend_section",valuePath:"legend.enabled",title:kr.title.id,propertiesMeta:this.props.propertiesMeta,properties:t,canBeToggled:!0,toggleDisabled:l,toggledOn:s,pushData:i,showDisabledMessage:d},o.createElement(vn,{disabled:c,value:a,showDisabledMessage:d,properties:t,pushData:i}))}}var Cn=yn;function kn(e,t){return Object.keys(e).reduce((function(i,r){return i[r]=_t({timeZone:t},e[r]),i}),{})}function wn(e,t){return Object.keys(_t(_t({},e),t)).reduce((function(i,r){return i[r]=_t(_t({},e[r]||{}),t[r]||{}),i}),{})}function Sn(e,t){if(!t)return e;var i=Hi.formats;return _t(_t(_t({},i),e),{date:wn(kn(i.date,t),kn(e.date||{},t)),time:wn(kn(i.time,t),kn(e.time||{},t))})}var xn=function(e,t,i,r,s){var a=e.locale,o=e.formats,n=e.messages,l=e.defaultLocale,c=e.defaultFormats,d=e.fallbackOnEmptyString,u=e.onError,p=e.timeZone,h=e.defaultRichTextElements;void 0===i&&(i={id:""});var m=i.id,g=i.defaultMessage;Nt(!!m,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var b=String(m),f=n&&Object.prototype.hasOwnProperty.call(n,b)&&n[b];if(Array.isArray(f)&&1===f.length&&f[0].type===Pt.literal)return f[0].value;if(!r&&f&&"string"==typeof f&&!h)return f.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=_t(_t({},h),r||{}),o=Sn(o,p),c=Sn(c,p),!f){if(!1===d&&""===f)return f;if((!g||a&&a.toLowerCase()!==l.toLowerCase())&&u(new Xi(i,a)),g)try{return t.getMessageFormat(g,l,c,s).format(r)}catch(e){return u(new Yi('Error formatting default message for: "'.concat(b,'", rendering default message verbatim'),a,i,e)),"string"==typeof g?g:b}return b}try{return t.getMessageFormat(f,a,o,_t({formatters:t},s||{})).format(r)}catch(e){u(new Yi('Error formatting message: "'.concat(b,'", using ').concat(g?"default message":"id"," as fallback."),a,i,e))}if(g)try{return t.getMessageFormat(g,l,c,s).format(r)}catch(e){u(new Yi('Error formatting the default message for: "'.concat(b,'", rendering message verbatim'),a,i,e))}return"string"==typeof f?f:"string"==typeof g?g:b},_n=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function En(e,t,i){var r=e.locale,s=e.formats,a=e.onError;void 0===i&&(i={});var o=i.format,n=o&&er(s,"number",o,a)||{};return t(r,Qi(i,_n,n))}function Mn(e,t,i,r){void 0===r&&(r={});try{return En(e,t,r).format(i)}catch(t){e.onError(new qi("Error formatting number.",e.locale,t))}return String(i)}function Tn(e,t,i,r){void 0===r&&(r={});try{return En(e,t,r).formatToParts(i)}catch(t){e.onError(new qi("Error formatting number.",e.locale,t))}return[]}var Pn=["numeric","style"];function An(e,t,i,r,s){void 0===s&&(s={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new Li('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',Mi.MISSING_INTL_API));try{return function(e,t,i){var r=e.locale,s=e.formats,a=e.onError;void 0===i&&(i={});var o=i.format,n=!!o&&er(s,"relative",o,a)||{};return t(r,Qi(i,Pn,n))}(e,t,s).format(i,r)}catch(t){e.onError(new qi("Error formatting relative time.",e.locale,t))}return String(i)}var Dn=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function In(e,t,i,r){var s=e.locale,a=e.formats,o=e.onError,n=e.timeZone;void 0===r&&(r={});var l=r.format,c=_t(_t({},n&&{timeZone:n}),l&&er(a,t,l,o)),d=Qi(r,Dn,c);return"time"!==t||d.hour||d.minute||d.second||d.timeStyle||d.dateStyle||(d=_t(_t({},d),{hour:"numeric",minute:"numeric"})),i(s,d)}function Nn(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=i[0],a=i[1],o=void 0===a?{}:a,n="string"==typeof s?new Date(s||0):s;try{return In(e,"date",t,o).format(n)}catch(t){e.onError(new qi("Error formatting date.",e.locale,t))}return String(n)}function Rn(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=i[0],a=i[1],o=void 0===a?{}:a,n="string"==typeof s?new Date(s||0):s;try{return In(e,"time",t,o).format(n)}catch(t){e.onError(new qi("Error formatting time.",e.locale,t))}return String(n)}function Ln(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=i[0],a=i[1],o=i[2],n=void 0===o?{}:o,l=e.timeZone,c=e.locale,d=e.onError,u=Qi(n,Dn,l?{timeZone:l}:{});try{return t(c,u).formatRange(s,a)}catch(t){d(new qi("Error formatting date time range.",e.locale,t))}return String(s)}function Fn(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=i[0],a=i[1],o=void 0===a?{}:a,n="string"==typeof s?new Date(s||0):s;try{return In(e,"date",t,o).formatToParts(n)}catch(t){e.onError(new qi("Error formatting date.",e.locale,t))}return[]}function On(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=i[0],a=i[1],o=void 0===a?{}:a,n="string"==typeof s?new Date(s||0):s;try{return In(e,"time",t,o).formatToParts(n)}catch(t){e.onError(new qi("Error formatting time.",e.locale,t))}return[]}var Bn=["type"];function zn(e,t,i,r){var s=e.locale,a=e.onError;void 0===r&&(r={}),Intl.PluralRules||a(new Li('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Mi.MISSING_INTL_API));var o=Qi(r,Bn);try{return t(s,o).select(i)}catch(e){a(new qi("Error formatting plural.",s,e))}return"other"}var Vn=["type","style"],Gn=Date.now();function Un(e,t,i,r){void 0===r&&(r={});var s=Hn(e,t,i,r).reduce((function(e,t){var i=t.value;return"string"!=typeof i?e.push(i):"string"==typeof e[e.length-1]?e[e.length-1]+=i:e.push(i),e}),[]);return 1===s.length?s[0]:0===s.length?"":s}function Hn(e,t,i,r){var s=e.locale,a=e.onError;void 0===r&&(r={}),Intl.ListFormat||a(new Li('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',Mi.MISSING_INTL_API));var o=Qi(r,Vn);try{var n={},l=i.map((function(e,t){if("object"==typeof e){var i=function(e){return"".concat(Gn,"_").concat(e,"_").concat(Gn)}(t);return n[i]=e,i}return String(e)}));return t(s,o).formatToParts(l).map((function(e){return"literal"===e.type?e:_t(_t({},e),{value:n[e.value]||e.value})}))}catch(e){a(new qi("Error formatting list.",s,e))}return i}var Wn=["style","type","fallback","languageDisplay"];function jn(e,t,i,r){var s=e.locale,a=e.onError;Intl.DisplayNames||a(new Li('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',Mi.MISSING_INTL_API));var o=Qi(r,Wn);try{return t(s,o).of(i)}catch(e){a(new qi("Error formatting display name.",s,e))}}function Kn(e,t){var i=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,i=Intl.ListFormat,r=Intl.DisplayNames,s=(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Mt([void 0],t,!1)))}),{cache:Ji(e.dateTime),strategy:It.A.variadic}),a=(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Mt([void 0],t,!1)))}),{cache:Ji(e.number),strategy:It.A.variadic}),o=(0,It.H)((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Mt([void 0],t,!1)))}),{cache:Ji(e.pluralRules),strategy:It.A.variadic});return{getDateTimeFormat:s,getNumberFormat:a,getMessageFormat:(0,It.H)((function(e,t,i,r){return new Hi(e,t,i,_t({formatters:{getNumberFormat:a,getDateTimeFormat:s,getPluralRules:o}},r||{}))}),{cache:Ji(e.message),strategy:It.A.variadic}),getRelativeTimeFormat:(0,It.H)((function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new(t.bind.apply(t,Mt([void 0],e,!1)))}),{cache:Ji(e.relativeTime),strategy:It.A.variadic}),getPluralRules:o,getListFormat:(0,It.H)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(i.bind.apply(i,Mt([void 0],e,!1)))}),{cache:Ji(e.list),strategy:It.A.variadic}),getDisplayNames:(0,It.H)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,Mt([void 0],e,!1)))}),{cache:Ji(e.displayNames),strategy:It.A.variadic})}}(t),r=_t(_t({},Zi),e),s=r.locale,a=r.defaultLocale,o=r.onError;return s?!Intl.NumberFormat.supportedLocalesOf(s).length&&o?o(new $i('Missing locale data for locale: "'.concat(s,'" in Intl.NumberFormat. Using default locale: "').concat(a,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(s).length&&o&&o(new $i('Missing locale data for locale: "'.concat(s,'" in Intl.DateTimeFormat. Using default locale: "').concat(a,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(o&&o(new Ki('"locale" was not configured, using "'.concat(a,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),function(e){e.onWarn&&e.defaultRichTextElements&&function(e){return"string"==typeof(e?e[Object.keys(e)[0]]:void 0)}(e.messages||{})&&e.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}(r),_t(_t({},r),{formatters:i,formatNumber:Mn.bind(null,r,i.getNumberFormat),formatNumberToParts:Tn.bind(null,r,i.getNumberFormat),formatRelativeTime:An.bind(null,r,i.getRelativeTimeFormat),formatDate:Nn.bind(null,r,i.getDateTimeFormat),formatDateToParts:Fn.bind(null,r,i.getDateTimeFormat),formatTime:Rn.bind(null,r,i.getDateTimeFormat),formatDateTimeRange:Ln.bind(null,r,i.getDateTimeFormat),formatTimeToParts:On.bind(null,r,i.getDateTimeFormat),formatPlural:zn.bind(null,r,i.getPluralRules),formatMessage:xn.bind(null,r,i),$t:xn.bind(null,r,i),formatList:Un.bind(null,r,i.getListFormat),formatListToParts:Hn.bind(null,r,i.getListFormat),formatDisplayName:jn.bind(null,r,i.getDisplayNames)})}function $n(e){return e?Object.keys(e).reduce((function(t,i){var r,s=e[i];return t[i]=zi(s)?(r=s,function(e){return r(Dt.Children.toArray(e))}):s,t}),{}):e}var qn=function(e,t,i,r){for(var s=[],a=4;a<arguments.length;a++)s[a-4]=arguments[a];var o=$n(r),n=xn.apply(void 0,Mt([e,t,i,o],s,!1));return Array.isArray(n)?Dt.Children.toArray(n):n},Yn=function(e,t){var i=e.defaultRichTextElements,r=Et(e,["defaultRichTextElements"]),s=$n(i),a=Kn(_t(_t(_t({},ir),r),{defaultRichTextElements:s}),t),o={locale:a.locale,timeZone:a.timeZone,fallbackOnEmptyString:a.fallbackOnEmptyString,formats:a.formats,defaultLocale:a.defaultLocale,defaultFormats:a.defaultFormats,messages:a.messages,onError:a.onError,defaultRichTextElements:s};return _t(_t({},a),{formatMessage:qn.bind(null,o,a.formatters),$t:qn.bind(null,o,a.formatters)})};function Xn(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var Qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},t.state={cache:t.cache,intl:Yn(Xn(t.props),t.cache),prevConfig:Xn(t.props)},t}return xt(t,e),t.getDerivedStateFromProps=function(e,t){var i=t.prevConfig,r=t.cache,s=Xn(e);return rr(i,s)?null:{intl:Yn(s,r),prevConfig:s}},t.prototype.render=function(){return tr(this.state.intl),Dt.createElement(dr,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=ir,t}(Dt.PureComponent),Zn=Qn,Jn=i(26406);const el="messages",tl=new Jn.z({max:20}),il=({locale:e=a.DefaultLocale,children:t,workspace:i})=>{const r=window.gdSettings,s=(0,a.resolveLocaleDefaultMessages)(e,wt),n=(0,o.useMemo)((()=>(0,a.pickCorrectWording)(s,r)),[s,r]);return r?o.createElement(Zn,{locale:e,messages:n},t):o.createElement(a.TranslationsCustomizationProvider,{translations:s,workspace:i,render:i=>o.createElement(Zn,{key:e,locale:e,messages:i},t)})},rl=[{align:"cr cl",offset:{x:5,y:0}}],sl=e=>o.createElement(Ya.BubbleHoverTrigger,null,o.createElement("span",{className:"gd-interactions-section__question-mark gd-icon-circle-question"}),o.createElement(Ya.Bubble,{alignPoints:rl},o.createElement(qa,{id:e.tooltipText})));var al=pr(o.memo((e=>{const{areControlsDisabledGetter:t,properties:i,propertiesMeta:r,pushData:s,InteractionsDetailRenderer:a,supportsAlertConfiguration:n,supportsDrillDownConfiguration:l,supportsScheduledExportsConfiguration:c}=e,d=i?.controls?.disableDrillDown??!1,u=i?.controls?.disableAlerts??!1,p=i?.controls?.disableScheduledExports??!1,h=l&&(n||c);return o.createElement(to,{id:"interactions_section",className:"gd-interactions-section",title:kr.interactions.id,propertiesMeta:r,pushData:s},n?o.createElement("div",{className:"gd-interactions-section__control-with-tooltip"},o.createElement(ro,{valuePath:"disableAlerts",labelText:kr.interactionsAlerts.id,properties:i,disabled:t("interactions.alerts"),checked:!u,pushData:s,isValueInverted:!0}),o.createElement(sl,{tooltipText:kr.interactionsAlertsTooltip.id})):null,c?o.createElement("div",{className:"gd-interactions-section__control-with-tooltip"},o.createElement(ro,{valuePath:"disableScheduledExports",labelText:kr.interactionsScheduledExports.id,properties:i,disabled:t("interactions.scheduled_exports"),checked:!p,pushData:s,isValueInverted:!0}),o.createElement(sl,{tooltipText:kr.interactionsScheduledExportsTooltip.id})):null,h?o.createElement(Ya.SeparatorLine,{mT:10,mB:10}):null,l?o.createElement(ro,{valuePath:"disableDrillDown",labelText:kr.interactionsDrillDown.id,properties:i,disabled:t("interactions.drill_down"),checked:!d,pushData:s,isValueInverted:!0}):null,a?a():null)})));class ol extends o.PureComponent{render(){return o.createElement(lo,{value:this.props.value,valuePath:"forecast.confidence",labelText:kr.forecastConfidence.id,disabled:this.props.disabled,properties:this.props.properties,pushData:this.props.pushData,items:this.generateDropdownItems(),showDisabledMessage:this.props.showDisabledMessage})}generateDropdownItems(){return Ct(mo,this.props.intl)}}var nl=pr(ol);class ll extends o.PureComponent{static defaultProps={controlsDisabled:!1,enabled:!1,properties:{},propertiesMeta:{},defaultForecastEnabled:!1,pushData:Qa};render(){const{controlsDisabled:e,properties:t,pushData:i,defaultForecastEnabled:r,enabled:s}=this.props,a=this.props.properties?.controls?.forecast?.enabled??r,n=this.props.properties?.controls?.forecast?.confidence??.95,l=this.props.properties?.controls?.forecast?.period??3,c=this.props.properties?.controls?.forecast?.seasonal??!1,d=!(this.props.propertiesMeta?.forecast_enabled??1),u=this.props.propertiesMeta?.slicedForecast??!1,p=e||d||!s,h=!a||p,m=e||d||!s;return o.createElement(to,{id:"forecast_section",valuePath:"forecast.enabled",className:"gd-forecast-section",title:kr.forecastTitle.id,propertiesMeta:this.props.propertiesMeta,properties:t,canBeToggled:!0,toggleDisabled:p,toggledOn:a,pushData:i,showDisabledMessage:m,toggleMessageId:kr.forecastDisabledTooltip.id},o.createElement(Bo,{value:l,valuePath:"forecast.period",labelText:kr.forecastPeriod.id,placeholder:kr.forecastPeriodPlaceholder.id,disabled:h,properties:t,pushData:i}),o.createElement(nl,{disabled:h,value:n,showDisabledMessage:m,properties:t,pushData:i}),o.createElement(ro,{valuePath:"forecast.seasonal",checked:c,labelText:kr.forecastSeasonal.id,disabled:h,properties:t,pushData:i}),Boolean(u)&&o.createElement(Ya.Message,{type:"progress",className:"adi-input-progress gd-slicedForecast-message"},o.createElement(qa,{id:kr.forecastSlicedWarningTitle.id,tagName:"strong"}),o.createElement(qa,{id:kr.forecastSlicedWarningDescription.id,tagName:"div"})))}}var cl=ll;function dl(e,t,i){return"line"===i?{enabled:ul(e,t)&&pl(t),visible:!0}:{enabled:!1,visible:!1}}function ul(e,t){if(!e){const e=(0,s.insightBuckets)(t),i=(0,s.bucketsFind)(e,(e=>e.localIdentifier===a.BucketNames.MEASURES)),r=(0,s.bucketsFind)(e,(e=>e.localIdentifier===a.BucketNames.TREND)),o=(0,s.bucketsFind)(e,(e=>e.localIdentifier===a.BucketNames.SEGMENT));return 1===i?.items.length&&1===r?.items.length&&0===(o?.items.length??0)}const i=e?.buckets.find((e=>e.localIdentifier===a.BucketNames.MEASURES)),r=e?.buckets.find((e=>e.localIdentifier===a.BucketNames.TREND)),o=e?.buckets.find((e=>e.localIdentifier===a.BucketNames.SEGMENT));return 1===i?.items.length&&1===r?.items.length&&0===(o?.items.length??0)&&"date"===r?.items[0].type}function pl(e){const{sorts:t}=e.insight;if(0===t.length)return!0;if(1===t.length){const e=t[0];if((0,s.isAttributeSort)(e)&&"asc"===e.attributeSortItem.direction)return!0}return!1}const hl=e=>{switch(e?(0,s.insightVisualizationType)(e):null){case"headline":case"bar":case"column":case"line":case"area":case"combo2":case"scatter":case"bubble":case"repeater":case"bullet":case"pie":case"donut":case"treemap":case"funnel":case"pyramid":case"heatmap":case"waterfall":case"dependencywheel":case"sankey":case"pushpin":case"table":return!0;default:return!1}},ml=e=>"repeater"!==(e?(0,s.insightVisualizationType)(e):null),gl=e=>{const t=e?(0,s.insightProperties)(e):{};return e&&!(t?.controls??{}).disableAlerts},bl=e=>{const t=e?(0,s.insightProperties)(e):{};return e&&!(t?.controls??{}).disableScheduledExports};var fl=i(1272);const vl=[{type:"header",id:"yAxis",name:"Y-Axis"},{name:"Crosshair",id:"crosshair",description:"A crosshair is a line or multiple lines that extend across the chart to help users better identify values on both the x and y axes.",value:{yAxis:[{crosshair:{width:1,color:"#C9D5E0"}}]},type:"item"},{name:"Logarithmic scale",id:"logarithmicScale",description:"The logarithmic scale is used to plot data that spans multiple orders of magnitude, allowing for better visualization of data that grows exponentially.",value:{yAxis:[{type:"logarithmic"}]},type:"item"},{name:"Grid stripes",id:"gridStripes",description:"Grid stripes are alternating bands of color that run across the chart background, making it easier to visually follow data points and identify trends.",value:{yAxis:[{alternateGridColor:"#F5F8FA"}]},type:"item"},{name:"Minor grid line",id:"minorGridLine",description:"Minor grid lines are additional, finer lines drawn between the major grid lines, helping users read smaller increments on the axis.",value:{yAxis:[{minorGridLineColor:"#EBEBEB",minorTickInterval:"auto",minorGridLineDashStyle:"longdash"}]},type:"item"},{name:"Reference line",id:"referenceLine",description:"A reference line is a line added at a specific value along an axis, providing an important reference point. It could represent a target or a threshold, helping viewers interpret the data in relation to a key benchmark.",value:{yAxis:[{plotLines:[{color:"#00C18D",width:2,value:11e3}]}]},type:"item"},{name:"Reference band",id:"referenceBand",description:"A reference band is a colored area added between two defined values on an axis. It is useful for emphasizing a particular range of values, such as acceptable or critical limits, and helps in highlighting areas of interest within the chart.",value:{yAxis:[{plotBands:[{from:18e3,to:22e3,color:"rgba(0, 193, 141, 0.2)",borderWidth:2,borderColor:"rgba(0, 193, 141, 0.2)"}]}]},type:"item"},{type:"header",id:"style",name:"Style"},{name:"Line width",id:"lineWidth",description:"Line width refers to the thickness of the data lines used in the visualization.",value:{plotOptions:{series:{lineWidth:1}}},type:"item"},{name:"Data point marker",id:"dataPointMarker",description:"Data point markers are symbols used to mark each individual data point in a series, such as circles, squares, or other shapes",value:{plotOptions:{line:{marker:{radius:6,lineWidth:2,symbol:"square"}}}},type:"item"},{name:"Smooth line",id:"smoothLine",description:"A smooth line is a type of line that curves between data points, rather than using sharp, angular segments",value:{chart:{type:"spline"}},type:"item"},{name:"Stepped line",id:"steppedLine",description:"A stepped line connects data points using horizontal and vertical segments, rather than a direct diagonal line. It is useful for showing changes that occur in discrete steps.",value:{plotOptions:{line:{step:"left"}}},type:"item"},{name:"Negative value color",id:"negativeValueColor",description:"Negative value color is a feature that allows different colors to be used for data points with negative values.",value:{plotOptions:{series:{negativeColor:"#E54D40"}}},type:"item"},{name:"Inner size",id:"innerSize",description:"Inner size",value:{plotOptions:{pie:{innerSize:"90%"}}},type:"item"}];var yl=i(25972);const Cl=[{align:"cr cl",offset:{x:10,y:0}}],kl=({snippet:e})=>{const t=(0,yl.Fg)();return o.createElement("span",null,o.createElement("span",{className:"gd-bubble-trigger-wrapper"},o.createElement(Ya.BubbleHoverTrigger,null,o.createElement(Ya.Icon.QuestionMark,{color:t?.palette?.complementary?.c7??"#B0BECA",width:16,height:16,className:"gd-advanced-customization-dialog__snippet__tooltip__trigger"}),o.createElement(Ya.Bubble,{alignPoints:Cl,className:"bubble-light"},o.createElement("div",{className:"gd-advanced-customization-dialog__snippet__tooltip"},o.createElement("div",{className:"gd-advanced-customization-dialog__snippet__tooltip__header"},e.name),o.createElement("div",{className:"gd-advanced-customization-dialog__snippet__tooltip__body"},e.description))))))},wl=({snippet:e})=>o.createElement("div",{className:"gd-advanced-customization-dialog__snippet--header"},e.name),Sl=({snippet:e,onClick:t})=>o.createElement("div",{onClick:()=>t(e),className:"gd-advanced-customization-dialog__snippet"},o.createElement("span",null,e.name),o.createElement(kl,{snippet:e}));var xl=i(73738),_l=i(28699),El=i(81754);function Ml(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function Tl(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Pl(e,t){if(!t.anchorNode)return!1;try{return Tl(e,t.anchorNode)}catch(e){return!1}}function Al(e){return 3==e.nodeType?Hl(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Dl(e,t,i,r){return!!i&&(Rl(e,t,i,r,-1)||Rl(e,t,i,r,1))}function Il(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Nl(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function Rl(e,t,i,r,s){for(;;){if(e==i&&t==r)return!0;if(t==(s<0?0:Ll(e))){if("DIV"==e.nodeName)return!1;let i=e.parentNode;if(!i||1!=i.nodeType)return!1;t=Il(e)+(s<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(s<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=s<0?Ll(e):0}}}function Ll(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Fl(e,t){let i=t?e.left:e.right;return{left:i,right:i,top:e.top,bottom:e.bottom}}function Ol(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function Bl(e,t){let i=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(t.width-e.offsetWidth)<1)&&(i=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:i,scaleY:r}}class zl{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Ll(t):0),i,Math.min(e.focusOffset,i?Ll(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Vl,Gl=null;function Ul(e){if(e.setActive)return e.setActive();if(Gl)return e.focus(Gl);let t=[];for(let i=e;i&&(t.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(e.focus(null==Gl?{get preventScroll(){return Gl={preventScroll:!0},!0}}:void 0),!Gl){Gl=!1;for(let e=0;e<t.length;){let i=t[e++],r=t[e++],s=t[e++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}function Hl(e,t,i=t){let r=Vl||(Vl=document.createRange());return r.setEnd(e,i),r.setStart(e,t),r}function Wl(e,t,i,r){let s={key:t,code:t,keyCode:i,which:i,cancelable:!0};r&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=r);let a=new KeyboardEvent("keydown",s);a.synthetic=!0,e.dispatchEvent(a);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,e.dispatchEvent(o),a.defaultPrevented||o.defaultPrevented}function jl(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function Kl(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function $l(e,t){for(let i=e,r=t;;){if(3==i.nodeType&&r>0)return{node:i,offset:r};if(1==i.nodeType&&r>0){if("false"==i.contentEditable)return null;i=i.childNodes[r-1],r=Ll(i)}else{if(!i.parentNode||Nl(i))return null;r=Il(i),i=i.parentNode}}}function ql(e,t){for(let i=e,r=t;;){if(3==i.nodeType&&r<i.nodeValue.length)return{node:i,offset:r};if(1==i.nodeType&&r<i.childNodes.length){if("false"==i.contentEditable)return null;i=i.childNodes[r],r=0}else{if(!i.parentNode||Nl(i))return null;r=Il(i)+1,i=i.parentNode}}}class Yl{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Yl(e.parentNode,Il(e),t)}static after(e,t){return new Yl(e.parentNode,Il(e)+1,t)}}const Xl=[];class Ql{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let i,r=this.dom,s=null;for(let a of this.children){if(7&a.flags){if(!a.dom&&(i=s?s.nextSibling:r.firstChild)){let e=Ql.get(i);(!e||!e.parent&&e.canReuseDOM(a))&&a.reuseDOM(i)}a.sync(e,t),a.flags&=-8}if(i=s?s.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&i!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;i&&i!=a.dom;)i=Zl(i);else r.insertBefore(a.dom,i);s=a.dom}for(i=s?s.nextSibling:r.firstChild,i&&t&&t.node==r&&(t.written=!0);i;)i=Zl(i)}else if(1&this.flags)for(let i of this.children)7&i.flags&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=0==Ll(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}i=r<0?e:e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Ql.get(i);)i=i.nextSibling;if(!i)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==i)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,a=-1,o=-1;for(let n=0,l=i,c=i;n<this.children.length;n++){let i=this.children[n],d=l+i.length;if(l<e&&d>t)return i.domBoundsAround(e,t,l);if(d>=e&&-1==r&&(r=n,s=l),l>t&&i.dom.parentNode==this.dom){a=n,o=c;break}c=d,l=d+i.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Xl){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&i.indexOf(e)<0&&e.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let e=0;e<i.length;e++)i[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Jl(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function Zl(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Ql.prototype.breakAfter=0;class Jl{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function ec(e,t,i,r,s,a,o,n,l){let{children:c}=e,d=c.length?c[t]:null,u=a.length?a[a.length-1]:null,p=u?u.breakAfter:o;if(!(t==r&&d&&!o&&!p&&a.length<2&&d.merge(i,s,a.length?u:null,0==i,n,l))){if(r<c.length){let e=c[r];e&&(s<e.length||e.breakAfter&&(null==u?void 0:u.breakAfter))?(t==r&&(e=e.split(s),s=0),!p&&u&&e.merge(0,s,u,!0,0,l)?a[a.length-1]=e:((s||e.children.length&&!e.children[0].length)&&e.merge(0,s,null,!1,0,l),a.push(e))):(null==e?void 0:e.breakAfter)&&(u?u.breakAfter=1:o=1),r++}for(d&&(d.breakAfter=o,i>0&&(!o&&a.length&&d.merge(i,d.length,a[0],!1,n,0)?d.breakAfter=a.shift().breakAfter:(i<d.length||d.children.length&&0==d.children[d.children.length-1].length)&&d.merge(i,d.length,null,!1,n,0),t++));t<r&&a.length;)if(c[r-1].become(a[a.length-1]))r--,a.pop(),l=a.length?0:n;else{if(!c[t].become(a[0]))break;t++,a.shift(),n=a.length?0:l}!a.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,n,l)&&t--,(t<r||a.length)&&e.replaceChildren(t,r,a)}}function tc(e,t,i,r,s,a){let o=e.childCursor(),{i:n,off:l}=o.findPos(i,1),{i:c,off:d}=o.findPos(t,-1),u=t-i;for(let e of r)u+=e.length;e.length+=u,ec(e,c,d,n,l,r,0,s,a)}let ic="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},rc="undefined"!=typeof document?document:{documentElement:{style:{}}};const sc=/Edge\/(\d+)/.exec(ic.userAgent),ac=/MSIE \d/.test(ic.userAgent),oc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ic.userAgent),nc=!!(ac||oc||sc),lc=!nc&&/gecko\/(\d+)/i.test(ic.userAgent),cc=!nc&&/Chrome\/(\d+)/.exec(ic.userAgent),dc="webkitFontSmoothing"in rc.documentElement.style,uc=!nc&&/Apple Computer/.test(ic.vendor),pc=uc&&(/Mobile\/\w+/.test(ic.userAgent)||ic.maxTouchPoints>2);var hc={mac:pc||/Mac/.test(ic.platform),windows:/Win/.test(ic.platform),linux:/Linux|X11/.test(ic.platform),ie:nc,ie_version:ac?rc.documentMode||6:oc?+oc[1]:sc?+sc[1]:0,gecko:lc,gecko_version:lc?+(/Firefox\/(\d+)/.exec(ic.userAgent)||[0,0])[1]:0,chrome:!!cc,chrome_version:cc?+cc[1]:0,ios:pc,android:/Android\b/.test(ic.userAgent),webkit:dc,safari:uc,webkit_version:dc?+(/\bAppleWebKit\/(\d+)/.exec(ic.userAgent)||[0,0])[1]:0,tabSize:null!=rc.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class mc extends Ql{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,i){return!(8&this.flags||i&&(!(i instanceof mc)||this.length-(t-e)+i.length>256||8&i.flags)||(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),0))}split(e){let t=new mc(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Yl(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,i){let r=e.nodeValue.length;t>r&&(t=r);let s=t,a=t,o=0;0==t&&i<0||t==r&&i>=0?hc.chrome||hc.gecko||(t?(s--,o=1):a<r&&(a++,o=-1)):i<0?s--:a<r&&a++;let n=Hl(e,s,a).getClientRects();if(!n.length)return null;let l=n[(o?o<0:i>=0)?0:n.length-1];return hc.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(n,(e=>e.width))||l),o?Fl(l,o<0):l||null}(this.dom,e,t)}}class gc extends Ql{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let e of t)e.setParent(this)}setAttrs(e){if(jl(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,s,a){return!(i&&(!(i instanceof gc&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&a<=0)||(tc(this,e,t,i?i.children.slice():[],s-1,a-1),this.markDirty(),0))}split(e){let t=[],i=0,r=-1,s=0;for(let a of this.children){let o=i+a.length;o>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=o,s++}let a=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new gc(this.mark,t,a)}domAtPos(e){return vc(this,e)}coordsAt(e,t){return Cc(this,e,t)}}class bc extends Ql{static create(e,t,i){return new bc(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=bc.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,r,s,a){return!(i&&(!(i instanceof bc&&this.widget.compare(i.widget))||e>0&&s<=0||t<this.length&&a<=0)||(this.length=e+(i?i.length:0)+(this.length-t),0))}become(e){return e instanceof bc&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return xl.xv.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):xl.xv.empty}domAtPos(e){return(this.length?0==e:this.side>0)?Yl.before(this.dom):Yl.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let a=this.side?this.side<0:e>0;for(let t=a?r.length-1:0;s=r[t],!(e>0?0==t:t==r.length-1||s.top<s.bottom);t+=a?-1:1);return Fl(s,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class fc extends Ql{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof fc&&e.side==this.side}split(){return new fc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Yl.before(this.dom):Yl.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return xl.xv.empty}get isHidden(){return!0}}function vc(e,t){let i=e.dom,{children:r}=e,s=0;for(let e=0;s<r.length;s++){let a=r[s],o=e+a.length;if(!(o==e&&a.getSide()<=0)){if(t>e&&t<o&&a.dom.parentNode==i)return a.domAtPos(t-e);if(t<=e)break;e=o}}for(let e=s;e>0;e--){let t=r[e-1];if(t.dom.parentNode==i)return t.domAtPos(t.length)}for(let e=s;e<r.length;e++){let t=r[e];if(t.dom.parentNode==i)return t.domAtPos(0)}return new Yl(i,0)}function yc(e,t,i){let r,{children:s}=e;i>0&&t instanceof gc&&s.length&&(r=s[s.length-1])instanceof gc&&r.mark.eq(t.mark)?yc(r,t.children[0],i-1):(s.push(t),t.setParent(e)),e.length+=t.length}function Cc(e,t,i){let r=null,s=-1,a=null,o=-1;!function e(t,n){for(let l=0,c=0;l<t.children.length&&c<=n;l++){let d=t.children[l],u=c+d.length;u>=n&&(d.children.length?e(d,n-c):(!a||a.isHidden&&(i>0||kc(a,d)))&&(u>n||c==u&&d.getSide()>0)?(a=d,o=n-c):(c<n||c==u&&d.getSide()<0&&!d.isHidden)&&(r=d,s=n-c)),c=u}}(e,t);let n=(i<0?r:a)||r||a;return n?n.coordsAt(Math.max(0,n==r?s:o),i):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let i=Al(t);return i[i.length-1]||null}(e)}function kc(e,t){let i=e.coordsAt(0,1),r=t.coordsAt(0,1);return i&&r&&r.top<i.bottom}function wc(e,t){for(let i in e)"class"==i&&t.class?t.class+=" "+e.class:"style"==i&&t.style?t.style+=";"+e.style:t[i]=e[i];return t}mc.prototype.children=bc.prototype.children=fc.prototype.children=Xl;const Sc=Object.create(null);function xc(e,t,i){if(e==t)return!0;e||(e=Sc),t||(t=Sc);let r=Object.keys(e),s=Object.keys(t);if(r.length-(i&&r.indexOf(i)>-1?1:0)!=s.length-(i&&s.indexOf(i)>-1?1:0))return!1;for(let a of r)if(a!=i&&(-1==s.indexOf(a)||e[a]!==t[a]))return!1;return!0}function _c(e,t,i){let r=!1;if(t)for(let s in t)i&&s in i||(r=!0,"style"==s?e.style.cssText="":e.removeAttribute(s));if(i)for(let s in i)t&&t[s]==i[s]||(r=!0,"style"==s?e.style.cssText=i[s]:e.setAttribute(s,i[s]));return r}function Ec(e){let t=Object.create(null);for(let i=0;i<e.attributes.length;i++){let r=e.attributes[i];t[r.name]=r.value}return t}class Mc{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Tc=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Tc||(Tc={}));class Pc extends xl.uU{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Ac(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ic(e,t,t,i,e.widget||null,!1)}static replace(e){let t,i,r=!!e.block;if(e.isBlockGap)t=-5e8,i=4e8;else{let{start:s,end:a}=Nc(e,r);t=(s?r?-3e8:-1:5e8)-1,i=1+(a?r?2e8:1:-6e8)}return new Ic(e,t,i,r,e.widget||null,!0)}static line(e){return new Dc(e)}static set(e,t=!1){return xl.Xs.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Pc.none=xl.Xs.empty;class Ac extends Pc{constructor(e){let{start:t,end:i}=Nc(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Ac&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(i=e.attrs)||void 0===i?void 0:i.class))&&xc(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Ac.prototype.point=!1;class Dc extends Pc{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Dc&&this.spec.class==e.spec.class&&xc(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Dc.prototype.mapMode=xl.gc.TrackBefore,Dc.prototype.point=!0;class Ic extends Pc{constructor(e,t,i,r,s,a){super(t,i,s,e),this.block=r,this.isReplace=a,this.mapMode=r?t<=0?xl.gc.TrackBefore:xl.gc.TrackAfter:xl.gc.TrackDel}get type(){return this.startSide!=this.endSide?Tc.WidgetRange:this.startSide<=0?Tc.WidgetBefore:Tc.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ic&&function(e,t){return e==t||!!(e&&t&&e.compare(t))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function Nc(e,t=!1){let{inclusiveStart:i,inclusiveEnd:r}=e;return null==i&&(i=e.inclusive),null==r&&(r=e.inclusive),{start:null!=i?i:t,end:null!=r?r:t}}function Rc(e,t,i,r=0){let s=i.length-1;s>=0&&i[s]+r>=e?i[s]=Math.max(i[s],t):i.push(e,t)}Ic.prototype.point=!0;class Lc extends Ql{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,a){if(i){if(!(i instanceof Lc))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),tc(this,e,t,i?i.children.slice():[],s,a),!0}split(e){let t=new Lc;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let e=i;e<this.children.length;e++)t.append(this.children[e],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){xc(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){yc(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=wc(t,this.attrs||{})),i&&(this.attrs=wc({class:i},this.attrs||{}))}domAtPos(e){return vc(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?4&this.flags&&(jl(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(_c(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&Ql.get(r)instanceof gc;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(i=Ql.get(r))||void 0===i?void 0:i.isEditable)||hc.ios&&this.children.some((e=>e instanceof mc))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let i of this.children){if(!(i instanceof mc)||/[^ -~]/.test(i.text))return null;let r=Al(i.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let i=Cc(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=i.bottom-i.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:i.top+r,bottom:i.bottom-r,left:i.left,right:i.left}}}return i}become(e){return e instanceof Lc&&0==this.children.length&&0==e.children.length&&xc(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],a=r+s.length;if(a>=t){if(s instanceof Lc)return s;if(a>t)break}r=a+s.breakAfter}return null}}class Fc extends Ql{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,a){return!(i&&(!(i instanceof Fc&&this.widget.compare(i.widget))||e>0&&s<=0||t<this.length&&a<=0)||(this.length=e+(i?i.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?Yl.before(this.dom):Yl.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Fc(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Xl}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):xl.xv.empty}domBoundsAround(){return null}become(e){return e instanceof Fc&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)||(this.widget instanceof Oc?null:Fl(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t!=i&&(e<0?t<0:i>0)}}class Oc extends Mc{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Bc{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Fc&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Lc),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(zc(new fc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof Fc||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:i,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(zc(new mc(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,a){if(this.disallowBlockEffectsFor[a]&&i instanceof Ic){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof Ic)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Fc(i.widget||Vc.block,o,i));else{let a=bc.create(i.widget||Vc.inline,o,o?0:i.startSide),n=this.atCursorPos&&!a.isEditable&&s<=r.length&&(e<t||i.startSide>0),l=!a.isEditable&&(e<t||s>r.length||i.startSide<=0),c=this.getLine();2!=this.pendingBuffer||n||a.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),n&&(c.append(zc(new fc(1),r),s),s=r.length+Math.max(0,s-r.length)),c.append(zc(a,r),s),this.atCursorPos=l,this.pendingBuffer=l?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let a=new Bc(e,t,i,s);return a.openEnd=xl.Xs.spans(r,t,i,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function zc(e,t){for(let i of t)e=new gc(i,[e],e.length);return e}class Vc extends Mc{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Vc.inline=new Vc("span"),Vc.block=new Vc("div");var Gc=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Gc||(Gc={}));const Uc=Gc.LTR,Hc=Gc.RTL;function Wc(e){let t=[];for(let i=0;i<e.length;i++)t.push(1<<+e[i]);return t}const jc=Wc("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Kc=Wc("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),$c=Object.create(null),qc=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),i=e.charCodeAt(1);$c[t]=i,$c[i]=-t}function Yc(e){return e<=247?jc[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?Kc[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const Xc=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Qc{get dir(){return this.level%2?Hc:Uc}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,r){let s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=t&&o.to>=t){if(o.level==i)return a;(s<0||(0!=r?r<0?o.from<t:o.to>t:e[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function Zc(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.direction!=s.direction||!Zc(r.inner,s.inner))return!1}return!0}const Jc=[];function ed(e,t,i,r,s,a,o){let n=r%2?2:1;if(r%2==s%2)for(let l=t,c=0;l<i;){let t=!0,d=!1;if(c==a.length||l<a[c].from){let e=Jc[l];e!=n&&(t=!1,d=16==e)}let u=t||1!=n?null:[],p=t?r:r+1,h=l;e:for(;;)if(c<a.length&&h==a[c].from){if(d)break e;let m=a[c];if(!t)for(let e=m.to,t=c+1;;){if(e==i)break e;if(!(t<a.length&&a[t].from==e)){if(Jc[e]==n)break e;break}e=a[t++].to}c++,u?u.push(m):(m.from>l&&o.push(new Qc(l,m.from,p)),td(e,m.direction==Uc!=!(p%2)?r+1:r,s,m.inner,m.from,m.to,o),l=m.to),h=m.to}else{if(h==i||(t?Jc[h]!=n:Jc[h]==n))break;h++}u?ed(e,l,h,r+1,s,u,o):l<h&&o.push(new Qc(l,h,p)),l=h}else for(let l=i,c=a.length;l>t;){let i=!0,d=!1;if(!c||l>a[c-1].to){let e=Jc[l-1];e!=n&&(i=!1,d=16==e)}let u=i||1!=n?null:[],p=i?r:r+1,h=l;e:for(;;)if(c&&h==a[c-1].to){if(d)break e;let m=a[--c];if(!i)for(let e=m.from,i=c;;){if(e==t)break e;if(!i||a[i-1].to!=e){if(Jc[e-1]==n)break e;break}e=a[--i].from}u?u.push(m):(m.to<l&&o.push(new Qc(m.to,l,p)),td(e,m.direction==Uc!=!(p%2)?r+1:r,s,m.inner,m.from,m.to,o),l=m.from),h=m.from}else{if(h==t||(i?Jc[h-1]!=n:Jc[h-1]==n))break;h--}u?ed(e,h,l,r+1,s,u,o):h<l&&o.push(new Qc(h,l,p)),l=h}}function td(e,t,i,r,s,a,o){let n=t%2?2:1;!function(e,t,i,r,s){for(let a=0;a<=r.length;a++){let o=a?r[a-1].to:t,n=a<r.length?r[a].from:i,l=a?256:s;for(let t=o,i=l,r=l;t<n;t++){let s=Yc(e.charCodeAt(t));512==s?s=i:8==s&&4==r&&(s=16),Jc[t]=4==s?2:s,7&s&&(r=s),i=s}for(let e=o,t=l,r=l;e<n;e++){let s=Jc[e];if(128==s)e<n-1&&t==Jc[e+1]&&24&t?s=Jc[e]=t:Jc[e]=256;else if(64==s){let s=e+1;for(;s<n&&64==Jc[s];)s++;let a=e&&8==t||s<i&&8==Jc[s]?1==r?1:8:256;for(let t=e;t<s;t++)Jc[t]=a;e=s-1}else 8==s&&1==r&&(Jc[e]=1);t=s,7&s&&(r=s)}}}(e,s,a,r,n),function(e,t,i,r,s){let a=1==s?2:1;for(let o=0,n=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:t,d=o<r.length?r[o].from:i;for(let t,i,r,o=c;o<d;o++)if(i=$c[t=e.charCodeAt(o)])if(i<0){for(let e=n-3;e>=0;e-=3)if(qc[e+1]==-i){let t=qc[e+2],i=2&t?s:4&t?1&t?a:s:0;i&&(Jc[o]=Jc[qc[e]]=i),n=e;break}}else{if(189==qc.length)break;qc[n++]=o,qc[n++]=t,qc[n++]=l}else if(2==(r=Jc[o])||1==r){let e=r==s;l=e?0:1;for(let t=n-3;t>=0;t-=3){let i=qc[t+2];if(2&i)break;if(e)qc[t+2]|=2;else{if(4&i)break;qc[t+2]|=4}}}}}(e,s,a,r,n),function(e,t,i,r){for(let s=0,a=r;s<=i.length;s++){let o=s?i[s-1].to:e,n=s<i.length?i[s].from:t;for(let l=o;l<n;){let o=Jc[l];if(256==o){let o=l+1;for(;;)if(o==n){if(s==i.length)break;o=i[s++].to,n=s<i.length?i[s].from:t}else{if(256!=Jc[o])break;o++}let c=1==a,d=c==(1==(o<t?Jc[o]:r))?c?1:2:r;for(let t=o,r=s,a=r?i[r-1].to:e;t>l;)t==a&&(t=i[--r].from,a=r?i[r-1].to:e),Jc[--t]=d;l=o}else a=o,l++}}}(s,a,r,n),ed(e,s,a,t,i,r,o)}function id(e){return[new Qc(0,e,0)]}let rd="";function sd(e,t,i,r,s){var a;let o=r.head-e.from,n=Qc.find(t,o,null!==(a=r.bidiLevel)&&void 0!==a?a:-1,r.assoc),l=t[n],c=l.side(s,i);if(o==c){let e=n+=s?1:-1;if(e<0||e>=t.length)return null;l=t[n=e],o=l.side(!s,i),c=l.side(s,i)}let d=(0,xl.cp)(e.text,o,l.forward(s,i));(d<l.from||d>l.to)&&(d=c),rd=e.text.slice(Math.min(o,d),Math.max(o,d));let u=n==(s?t.length-1:0)?null:t[n+(s?1:-1)];return u&&d==c&&u.level+(s?0:1)<l.level?xl.jT.cursor(u.side(!s,i)+e.from,u.forward(s,i)?1:-1,u.level):xl.jT.cursor(d+e.from,l.forward(s,i)?-1:1,l.level)}function ad(e,t,i){for(let r=t;r<i;r++){let t=Yc(e.charCodeAt(r));if(1==t)return Uc;if(2==t||4==t)return Hc}return Uc}const od=xl.r$.define(),nd=xl.r$.define(),ld=xl.r$.define(),cd=xl.r$.define(),dd=xl.r$.define(),ud=xl.r$.define(),pd=xl.r$.define(),hd=xl.r$.define(),md=xl.r$.define(),gd=xl.r$.define({combine:e=>e.some((e=>e))}),bd=xl.r$.define({combine:e=>e.some((e=>e))}),fd=xl.r$.define();class vd{constructor(e,t="nearest",i="nearest",r=5,s=5,a=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=a}map(e){return e.empty?this:new vd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new vd(xl.jT.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const yd=xl.Py.define({map:(e,t)=>e.map(t)}),Cd=xl.Py.define();function kd(e,t,i){let r=e.facet(cd);r.length?r[0](t):window.onerror&&window.onerror(String(t),i,void 0,void 0,t)||(i?console.error(i+":",t):console.error(t))}const wd=xl.r$.define({combine:e=>!e.length||e[0]});let Sd=0;const xd=xl.r$.define();class _d{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:a}=t||{};return new _d(Sd++,e,i,r,(e=>{let t=[xd.of(e)];return a&&t.push(Pd.of((t=>{let i=t.plugin(e);return i?a(i):Pc.none}))),s&&t.push(s(e)),t}))}static fromClass(e,t){return _d.define((t=>new e(t)),t)}}class Ed{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(kd(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){kd(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){kd(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Md=xl.r$.define(),Td=xl.r$.define(),Pd=xl.r$.define(),Ad=xl.r$.define(),Dd=xl.r$.define(),Id=xl.r$.define();function Nd(e,t){let i=e.state.facet(Id);if(!i.length)return i;let r=i.map((t=>t instanceof Function?t(e):t)),s=[];return xl.Xs.spans(r,t.from,t.to,{point(){},span(e,i,r,a){let o=e-t.from,n=i-t.from,l=s;for(let e=r.length-1;e>=0;e--,a--){let i,s=r[e].spec.bidiIsolate;if(null==s&&(s=ad(t.text,o,n)),a>0&&l.length&&(i=l[l.length-1]).to==o&&i.direction==s)i.to=n,l=i.inner;else{let e={from:o,to:n,direction:s,inner:[]};l.push(e),l=e.inner}}}}),s}const Rd=xl.r$.define();function Ld(e){let t=0,i=0,r=0,s=0;for(let a of e.state.facet(Rd)){let o=a(e);o&&(null!=o.left&&(t=Math.max(t,o.left)),null!=o.right&&(i=Math.max(i,o.right)),null!=o.top&&(r=Math.max(r,o.top)),null!=o.bottom&&(s=Math.max(s,o.bottom)))}return{left:t,right:i,top:r,bottom:s}}const Fd=xl.r$.define();class Od{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Od(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(0==t.length)return e;let i=[];for(let r=0,s=0,a=0,o=0;;r++){let n=r==e.length?null:e[r],l=a-o,c=n?n.fromB:1e9;for(;s<t.length&&t[s]<c;){let e=t[s],r=t[s+1],a=Math.max(o,e),n=Math.min(c,r);if(a<=n&&new Od(a+l,n+l,a,n).addToSet(i),r>c)break;s+=2}if(!n)return i;new Od(n.fromA,n.toA,n.fromB,n.toB).addToSet(i),a=n.toA,o=n.toB}}}class Bd{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=xl.as.empty(this.startState.doc.length);for(let e of i)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,i,s)=>r.push(new Od(e,t,i,s)))),this.changedRanges=r}static create(e,t,i){return new Bd(e,t,i)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class zd extends Ql{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Pc.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Lc],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Od(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?r=this.domChanged.newSel.head:function(e,t){let i=!1;return t&&e.iterChangedRanges(((e,r)=>{e<t.to&&r>t.from&&(i=!0)})),i}(e.changes,this.hasComposition)||e.selectionSet||(r=e.state.selection.main.head));let s=r>-1?function(e,t,i){let r=Vd(e,i);if(!r)return null;let{node:s,from:a,to:o}=r,n=s.nodeValue;if(/[\n\r]/.test(n))return null;if(e.state.doc.sliceString(r.from,r.to)!=n)return null;let l=t.invertedDesc,c=new Od(l.mapPos(a),l.mapPos(o),a,o),d=[];for(let t=s.parentNode;;t=t.parentNode){let i=Ql.get(t);if(i instanceof gc)d.push({node:t,deco:i.mark});else{if(i instanceof Lc||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:c,text:s,marks:d,line:t};if(t==e.contentDOM)return null;d.push({node:t,deco:new Ac({inclusive:!0,attributes:Ec(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;i=new Od(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(hc.ie||hc.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=function(e,t,i){let r=new Gd;return xl.Xs.compare(e,t,i,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return i=Od.extendWithRanges(i,a),!!(7&this.flags||0!=i.length)&&(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=hc.chrome||hc.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof Fc&&e.widget instanceof Oc&&s.push(e.dom);r.updateGaps(s)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let e=r.length-1;;e--){let t=e>=0?r[e]:null;if(!t)break;let a,o,n,l,{fromA:c,toA:d,fromB:u,toB:p}=t;if(i&&i.range.fromB<p&&i.range.toB>u){let e=Bc.build(this.view.state.doc,u,i.range.fromB,this.decorations,this.dynamicDecorationMap),t=Bc.build(this.view.state.doc,i.range.toB,p,this.decorations,this.dynamicDecorationMap);o=e.breakAtStart,n=e.openStart,l=t.openEnd;let r=this.compositionView(i);t.breakAtStart?r.breakAfter=1:t.content.length&&r.merge(r.length,r.length,t.content[0],!1,t.openStart,0)&&(r.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&r.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),a=e.content.concat(r).concat(t.content)}else({content:a,breakAtStart:o,openStart:n,openEnd:l}=Bc.build(this.view.state.doc,u,p,this.decorations,this.dynamicDecorationMap));let{i:h,off:m}=s.findPos(d,1),{i:g,off:b}=s.findPos(c,-1);ec(this,g,b,h,m,a,o,n,l)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(Cd)&&(this.editContextFormatting=e.value)}compositionView(e){let t=new mc(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new gc(i,[t],t.length);let i=new Lc;return i.append(t,0),i}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let i=Ql.get(e);i&&i!=t&&(i.dom=null),t.setDOM(e)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],t(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&!(this.view.state.facet(wd)||this.dom.tabIndex>-1)&&Pl(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||s))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,n=this.moveToLine(this.domAtPos(o.anchor)),l=o.empty?n:this.moveToLine(this.domAtPos(o.head));if(hc.gecko&&o.empty&&!this.hasComposition&&1==(c=n).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore((()=>n.node.insertBefore(e,n.node.childNodes[n.offset]||null))),n=l=new Yl(e,0),a=!0}var c;let d=this.view.observer.selectionRange;!a&&d.focusNode&&(Dl(n.node,n.offset,d.anchorNode,d.anchorOffset)&&Dl(l.node,l.offset,d.focusNode,d.focusOffset)||this.suppressWidgetCursorChange(d,o))||(this.view.observer.ignore((()=>{hc.android&&hc.chrome&&this.dom.contains(d.focusNode)&&function(e,t){for(let i=e;i&&i!=t;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=Ml(this.view.root);if(e)if(o.empty){if(hc.gecko){let e=(t=n.node,r=n.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(e&&3!=e){let t=(1==e?$l:ql)(n.node,n.offset);t&&(n=new Yl(t.node,t.offset))}}e.collapse(n.node,n.offset),null!=o.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=o.bidiLevel)}else if(e.extend){e.collapse(n.node,n.offset);try{e.extend(l.node,l.offset)}catch(e){}}else{let t=document.createRange();o.anchor>o.head&&([n,l]=[l,n]),t.setEnd(l.node,l.offset),t.setStart(n.node,n.offset),e.removeAllRanges(),e.addRange(t)}var t,r;s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())})),this.view.observer.setSelectionRange(n,l)),this.impreciseAnchor=n.precise?null:new Yl(d.anchorNode,d.anchorOffset),this.impreciseHead=l.precise?null:new Yl(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Dl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Ml(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!(i&&t.empty&&t.assoc&&i.modify))return;let a=Lc.find(this,t.head);if(!a)return;let o=a.posAtStart;if(t.head==o||t.head==o+a.length)return;let n=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!n||!l||n.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);i.collapse(c.node,c.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&i.collapse(r,s)}moveToLine(e){let t,i=this.dom;if(e.node!=i)return e;for(let r=e.offset;!t&&r<i.childNodes.length;r++){let e=Ql.get(i.childNodes[r]);e instanceof Lc&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=Ql.get(i.childNodes[r]);e instanceof Lc&&(t=e.domAtPos(e.length))}return t?new Yl(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=Ql.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(i<e.length||e instanceof Lc)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let s=this.length,a=this.children.length-1;a>=0;a--){let o=this.children[a],n=s-o.breakAfter,l=n-o.length;if(n<e)break;if(l<=e&&(l<e||o.covers(-1))&&(n>e||o.covers(1))&&(!i||o instanceof Lc&&!(i instanceof Lc&&t>=0)))i=o,r=l;else if(i&&l==e&&n==e&&o instanceof Fc&&Math.abs(t)<2){if(o.deco.startSide<0)break;a&&(i=null)}s=l}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof Lc))return null;for(;r.children.length;){let{i:e,off:t}=r.childPos(i,1);for(;;e++){if(e==r.children.length)return null;if((r=r.children[e]).length)break}i=t}if(!(r instanceof mc))return null;let s=(0,xl.cp)(r.text,i);if(s==i)return null;let a=Hl(r.dom,i,s).getClientRects();for(let e=0;e<a.length;e++){let t=a[e];if(e==a.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,n=this.view.textDirection==Gc.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],d=e+c.length;if(d>r)break;if(e>=i){let i=c.dom.getBoundingClientRect();if(t.push(i.height),a){let t=c.dom.lastChild,r=t?Al(t):[];if(r.length){let t=r[r.length-1],a=n?t.right-i.left:i.right-t.left;a>o&&(o=a,this.minWidth=s,this.minWidthFrom=e,this.minWidthTo=d)}}}e=d+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Gc.RTL:Gc.LTR}measureTextSize(){for(let e of this.children)if(e instanceof Lc){let t=e.measureTextSize();if(t)return t}let e,t,i,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let s=Al(r.firstChild)[0];e=r.getBoundingClientRect().height,t=s?s.width/27:7,i=s?s.height:e,r.remove()})),{lineHeight:e,charWidth:t,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Jl(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],a=s?s.from-1:this.length;if(a>i){let r=(t.lineBlockAt(a).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Pc.replace({widget:new Oc(r),block:!0,inclusive:!0,isBlockGap:!0}).range(i,a))}if(!s)break;i=s.to+1}return Pc.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Pd).map((t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t)),i=!1,r=this.view.state.facet(Ad).map(((e,t)=>{let r="function"==typeof e;return r&&(i=!0),r?e(this.view):e}));for(r.length&&(this.dynamicDecorationMap[e++]=i,t.push(xl.Xs.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let t of this.view.state.facet(fd))try{if(t(this.view,e.range,e))return!0}catch(e){kd(this.view.state,e,"scroll handler")}let t,{range:i}=e,r=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!r)return;!i.empty&&(t=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let s=Ld(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:o,offsetHeight:n}=this.view.scrollDOM;!function(e,t,i,r,s,a,o,n){let l=e.ownerDocument,c=l.defaultView||window;for(let d=e,u=!1;d&&!u;)if(1==d.nodeType){let e,p=d==l.body,h=1,m=1;if(p)e=Ol(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(u=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let t=d.getBoundingClientRect();({scaleX:h,scaleY:m}=Bl(d,t)),e={left:t.left,right:t.left+d.clientWidth*h,top:t.top,bottom:t.top+d.clientHeight*m}}let g=0,b=0;if("nearest"==s)t.top<e.top?(b=t.top-(e.top+o),i>0&&t.bottom>e.bottom+b&&(b=t.bottom-e.bottom+o)):t.bottom>e.bottom&&(b=t.bottom-e.bottom+o,i<0&&t.top-b<e.top&&(b=t.top-(e.top+o)));else{let r=t.bottom-t.top,a=e.bottom-e.top;b=("center"==s&&r<=a?t.top+r/2-a/2:"start"==s||"center"==s&&i<0?t.top-o:t.bottom-a+o)-e.top}if("nearest"==r?t.left<e.left?(g=t.left-(e.left+a),i>0&&t.right>e.right+g&&(g=t.right-e.right+a)):t.right>e.right&&(g=t.right-e.right+a,i<0&&t.left<e.left+g&&(g=t.left-(e.left+a))):g=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==n?t.left-a:t.right-(e.right-e.left)+a)-e.left,g||b)if(p)c.scrollBy(g,b);else{let e=0,i=0;if(b){let e=d.scrollTop;d.scrollTop+=b/m,i=(d.scrollTop-e)*m}if(g){let t=d.scrollLeft;d.scrollLeft+=g/h,e=(d.scrollLeft-t)*h}t={left:t.left-e,top:t.top-i,right:t.right-e,bottom:t.bottom-i},e&&Math.abs(e-g)<1&&(r="nearest"),i&&Math.abs(i-b)<1&&(s="nearest")}if(p)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),d=d.assignedSlot||d.parentNode}else{if(11!=d.nodeType)break;d=d.host}}(this.view.scrollDOM,a,i.head<i.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,n),-n),this.view.textDirection==Gc.LTR)}}function Vd(e,t){let i=e.observer.selectionRange;if(!i.focusNode)return null;let r=$l(i.focusNode,i.focusOffset),s=ql(i.focusNode,i.focusOffset),a=r||s;if(s&&r&&s.node!=r.node){let t=Ql.get(s.node);if(!t||t instanceof mc&&t.text!=s.node.nodeValue)a=s;else if(e.docView.lastCompositionAfterCursor){let e=Ql.get(r.node);!e||e instanceof mc&&e.text!=r.node.nodeValue||(a=s)}}if(e.docView.lastCompositionAfterCursor=a!=r,!a)return null;let o=t-a.offset;return{from:o,to:o+a.node.nodeValue.length,node:a.node}}let Gd=class{constructor(){this.changes=[]}compareRange(e,t){Rc(e,t,this.changes)}comparePoint(e,t){Rc(e,t,this.changes)}boundChange(e){Rc(e,e,this.changes)}};function Ud(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Hd(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Wd(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function jd(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Kd(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function $d(e,t,i){let r,s,a,o,n,l,c,d,u=!1;for(let p=e.firstChild;p;p=p.nextSibling){let e=Al(p);for(let h=0;h<e.length;h++){let m=e[h];s&&Wd(s,m)&&(m=jd(Kd(m,s.bottom),s.top));let g=Ud(t,m),b=Hd(i,m);if(0==g&&0==b)return 3==p.nodeType?qd(p,t,i):$d(p,t,i);if(!r||o>b||o==b&&a>g){r=p,s=m,a=g,o=b;let n=b?i<m.top?-1:1:g?t<m.left?-1:1:0;u=!n||(n>0?h<e.length-1:h>0)}0==g?i>m.bottom&&(!c||c.bottom<m.bottom)?(n=p,c=m):i<m.top&&(!d||d.top>m.top)&&(l=p,d=m):c&&Wd(c,m)?c=Kd(c,m.bottom):d&&Wd(d,m)&&(d=jd(d,m.top))}}if(c&&c.bottom>=i?(r=n,s=c):d&&d.top<=i&&(r=l,s=d),!r)return{node:e,offset:0};let p=Math.max(s.left,Math.min(s.right,t));return 3==r.nodeType?qd(r,p,i):u&&"false"!=r.contentEditable?$d(r,p,i):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(s.left+s.right)/2?1:0)}}function qd(e,t,i){let r=e.nodeValue.length,s=-1,a=1e9,o=0;for(let n=0;n<r;n++){let r=Hl(e,n,n+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;o||(o=t-c.left);let d=(c.top>i?c.top-i:i-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&d<a){let i=t>=(c.left+c.right)/2,r=i;if((hc.chrome||hc.gecko)&&Hl(e,n).getBoundingClientRect().left==c.right&&(r=!i),d<=0)return{node:e,offset:n+(r?1:0)};s=n+(r?1:0),a=d}}}return{node:e,offset:s>-1?s:o>0?e.nodeValue.length:0}}function Yd(e,t,i,r=-1){var s,a;let o,n=e.contentDOM.getBoundingClientRect(),l=n.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:d,y:u}=t,p=u-l;if(p<0)return 0;if(p>c)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,s=!1;o=e.elementAtHeight(p),o.type!=Tc.Text;)for(;p=r>0?o.bottom+t:o.top-t,!(p>=0&&p<=c);){if(s)return i?null:0;s=!0,r=-r}u=l+p;let h=o.from;if(h<e.viewport.from)return 0==e.viewport.from?0:i?null:Xd(e,n,o,d,u);if(h>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:i?null:Xd(e,n,o,d,u);let m=e.dom.ownerDocument,g=e.root.elementFromPoint?e.root:m,b=g.elementFromPoint(d,u);b&&!e.contentDOM.contains(b)&&(b=null),b||(d=Math.max(n.left+1,Math.min(n.right-1,d)),b=g.elementFromPoint(d,u),b&&!e.contentDOM.contains(b)&&(b=null));let f,v=-1;if(b&&0!=(null===(s=e.docView.nearest(b))||void 0===s?void 0:s.isEditable)){if(m.caretPositionFromPoint){let e=m.caretPositionFromPoint(d,u);e&&({offsetNode:f,offset:v}=e)}else if(m.caretRangeFromPoint){let t=m.caretRangeFromPoint(d,u);t&&(({startContainer:f,startOffset:v}=t),(!e.contentDOM.contains(f)||hc.safari&&function(e,t,i){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return Hl(e,r-1,r).getBoundingClientRect().left>i}(f,v,d)||hc.chrome&&function(e,t,i){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}return i-(1==e.nodeType?e.getBoundingClientRect():Hl(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}(f,v,d))&&(f=void 0))}f&&(v=Math.min(Ll(f),v))}if(!f||!e.docView.dom.contains(f)){let t=Lc.find(e.docView,h);if(!t)return p>o.top+o.height/2?o.to:o.from;({node:f,offset:v}=$d(t.dom,d,u))}let y=e.docView.nearest(f);if(!y)return null;if(y.isWidget&&1==(null===(a=y.dom)||void 0===a?void 0:a.nodeType)){let e=y.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?y.posAtStart:y.posAtEnd}return y.localPosFromDOM(f,v)+y.posAtStart}function Xd(e,t,i,r,s){let a=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&i.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;a+=Math.floor((s-i.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let o=e.state.sliceDoc(i.from,i.to);return i.from+(0,xl.Gz)(o,a,e.state.tabSize)}function Qd(e,t,i,r){let s=e.state.doc.lineAt(t.head),a=e.bidiSpans(s),o=e.textDirectionAt(s.from);for(let n=t,l=null;;){let t=sd(s,a,o,n,i),c=rd;if(!t){if(s.number==(i?e.state.doc.lines:1))return n;c="\n",s=e.state.doc.line(s.number+(i?1:-1)),a=e.bidiSpans(s),t=e.visualLineSide(s,!i)}if(l){if(!l(c))return n}else{if(!r)return t;l=r(c)}n=t}}function Zd(e,t,i){for(;;){let r=0;for(let s of e)s.between(t-1,t+1,((e,s,a)=>{if(t>e&&t<s){let a=r||i||(t-e<s-t?-1:1);t=a<0?e:s,r=a}}));if(!r)return t}}function Jd(e,t,i){let r=Zd(e.state.facet(Dd).map((t=>t(e))),i.from,t.head>i.from?-1:1);return r==i.from?i:xl.jT.cursor(r,r<i.from?1:-1)}const eu="￿";class tu{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(xl.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=eu}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let e=this.text.length;this.readNode(r);let s=r.nextSibling;if(s==t)break;let a=Ql.get(r),o=Ql.get(s);(a&&o?a.breakAfter:(a?a.breakAfter:Nl(r))||Nl(s)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s,a=-1,o=1;if(this.lineSeparator?(a=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(s=r.exec(t))&&(a=s.index,o=s[0].length),this.append(t.slice(i,a<0?t.length:a)),a<0)break;if(this.lineBreak(),o>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=o-1);i=a+o}}readNode(e){if(e.cmIgnore)return;let t=Ql.get(e),i=t&&t.overrideDOMText;if(null!=i){this.findPointInside(e,i.length);for(let e=i.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(iu(e,i.node,i.offset)?t:0))}}function iu(e,t,i){for(;;){if(!t||i<Ll(t))return!1;if(t==e)return!0;i=Il(t)+1,t=t.parentNode}}class ru{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class su{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let t=s||a?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}=e.observer.selectionRange;return i&&(t.push(new ru(i,r)),s==i&&a==r||t.push(new ru(s,a))),t}(e),i=new tu(t,e.state);i.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=i.text,this.newSel=function(e,t){if(0==e.length)return null;let i=e[0].pos,r=2==e.length?e[1].pos:i;return i>-1&&r>-1?xl.jT.single(i+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,i=s&&s.node==t.focusNode&&s.offset==t.focusOffset||!Tl(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=a&&a.node==t.anchorNode&&a.offset==t.anchorOffset||!Tl(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),o=e.viewport;if((hc.ios||hc.chrome)&&e.state.selection.main.empty&&i!=r&&(o.from>0||o.to<e.state.doc.length)){let t=Math.min(i,r),s=Math.max(i,r),a=o.from-t,n=o.to-s;0!=a&&1!=a&&0!=t||0!=n&&-1!=n&&s!=e.state.doc.length||(i=0,r=e.state.doc.length)}this.newSel=xl.jT.single(r,i)}}}function au(e,t){let i,{newSel:r}=t,s=e.state.selection.main,a=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:o}=t.bounds,n=s.from,l=null;(8===a||hc.android&&t.text.length<o-r)&&(n=s.to,l="end");let c=function(e,t,i,r){let s=Math.min(e.length,t.length),a=0;for(;a<s&&e.charCodeAt(a)==t.charCodeAt(a);)a++;if(a==s&&e.length==t.length)return null;let o=e.length,n=t.length;for(;o>0&&n>0&&e.charCodeAt(o-1)==t.charCodeAt(n-1);)o--,n--;return"end"==r&&(i-=o+Math.max(0,a-Math.min(o,n))-a),o<a&&e.length<t.length?(a-=i<=a&&i>=o?a-i:0,n=a+(n-o),o=a):n<a&&(a-=i<=a&&i>=n?a-i:0,o=a+(o-n),n=a),{from:a,toA:o,toB:n}}(e.state.doc.sliceString(r,o,eu),t.text,n-r,l);c&&(hc.chrome&&13==a&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==eu+eu&&c.toB--,i={from:r+c.from,to:r+c.toA,insert:xl.xv.of(t.text.slice(c.from,c.toB).split(eu))})}else r&&(!e.hasFocus&&e.state.facet(wd)||r.main.eq(s))&&(r=null);if(!i&&!r)return!1;if(!i&&t.typeOver&&!s.empty&&r&&r.main.empty?i={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:(hc.mac||hc.android)&&i&&i.from==i.to&&i.from==s.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==i.insert.length&&(r=xl.jT.single(r.main.anchor-1,r.main.head-1)),i={from:i.from,to:i.to,insert:xl.xv.of([i.insert.toString().replace("."," ")])}):i&&i.from>=s.from&&i.to<=s.to&&(i.from!=s.from||i.to!=s.to)&&s.to-s.from-(i.to-i.from)<=4?i={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,i.from).append(i.insert).append(e.state.doc.slice(i.to,s.to))}:hc.chrome&&i&&i.from==i.to&&i.from==s.head&&"\n "==i.insert.toString()&&e.lineWrapping&&(r&&(r=xl.jT.single(r.main.anchor-1,r.main.head-1)),i={from:s.from,to:s.to,insert:xl.xv.of([" "])}),i)return ou(e,i,r,a);if(r&&!r.main.eq(s)){let t=!1,i="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),i=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:t,userEvent:i}),!0}return!1}function ou(e,t,i,r=-1){if(hc.ios&&e.inputState.flushIOSKey(t))return!0;let s=e.state.selection.main;if(hc.android&&(t.to==s.to&&(t.from==s.from||t.from==s.from-1&&" "==e.state.sliceDoc(t.from,s.from))&&1==t.insert.length&&2==t.insert.lines&&Wl(e.contentDOM,"Enter",13)||(t.from==s.from-1&&t.to==s.to&&0==t.insert.length||8==r&&t.insert.length<t.to-t.from&&t.to>s.head)&&Wl(e.contentDOM,"Backspace",8)||t.from==s.from&&t.to==s.to+1&&0==t.insert.length&&Wl(e.contentDOM,"Delete",46)))return!0;let a,o=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let n=()=>a||(a=function(e,t,i){let r,s=e.state,a=s.selection.main;if(t.from>=a.from&&t.to<=a.to&&t.to-t.from>=(a.to-a.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let i=a.from<t.from?s.sliceDoc(a.from,t.from):"",o=a.to>t.to?s.sliceDoc(t.to,a.to):"";r=s.replaceSelection(e.state.toText(i+t.insert.sliceString(0,void 0,e.state.lineBreak)+o))}else{let o=s.changes(t),n=i&&i.main.to<=o.newLength?i.main:void 0;if(s.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=a.to&&t.to>=a.to-10){let l,c=e.state.sliceDoc(t.from,t.to),d=i&&Vd(e,i.main.head);if(d){let e=t.insert.length-(t.to-t.from);l={from:d.from,to:d.to-e}}else l=e.state.doc.lineAt(a.head);let u=a.to-t.to,p=a.to-a.from;r=s.changeByRange((i=>{if(i.from==a.from&&i.to==a.to)return{changes:o,range:n||i.map(o)};let r=i.to-u,d=r-c.length;if(i.to-i.from!=p||e.state.sliceDoc(d,r)!=c||i.to>=l.from&&i.from<=l.to)return{range:i};let h=s.changes({from:d,to:r,insert:t.insert}),m=i.to-a.to;return{changes:h,range:n?xl.jT.range(Math.max(0,n.anchor+m),Math.max(0,n.head+m)):i.map(h)}}))}else r={changes:o,selection:n&&s.selection.replaceRange(n)}}let o="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,o+=".compose",e.inputState.compositionFirstChange&&(o+=".start",e.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:o,scrollIntoView:!0})}(e,t,i));return e.state.facet(ud).some((i=>i(e,t.from,t.to,o,n)))||e.dispatch(n()),!0}class nu{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,hc.safari&&e.contentDOM.addEventListener("input",(()=>null)),hc.gecko&&function(e){Ru.has(e)||(Ru.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let i,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(i=Ql.get(r))&&i.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then((()=>this.runHandlers(e.type,e))):this.runHandlers(e.type,e)))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let e of i.observers)e(this.view,t);for(let e of i.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=cu(e),i=this.handlers,r=this.view.contentDOM;for(let e in t)if("scroll"!=e){let s=!t[e].handlers.length,a=i[e];a&&s!=!a.handlers.length&&(r.removeEventListener(e,this.handleEvent),a=null),a||r.addEventListener(e,this.handleEvent,{passive:s})}for(let e in i)"scroll"==e||t[e]||r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=e.keyCode&&pu.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),hc.android&&hc.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!hc.ios||e.synthetic||e.altKey||e.metaKey||!((t=du.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||uu.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,Wl(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(hc.safari&&!hc.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function lu(e,t){return(i,r)=>{try{return t.call(e,r,i)}catch(e){kd(i.state,e)}}}function cu(e){let t=Object.create(null);function i(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec;if(e&&e.domEventHandlers)for(let r in e.domEventHandlers){let s=e.domEventHandlers[r];s&&i(r).handlers.push(lu(t.value,s))}if(e&&e.domEventObservers)for(let r in e.domEventObservers){let s=e.domEventObservers[r];s&&i(r).observers.push(lu(t.value,s))}}for(let e in gu)i(e).handlers.push(gu[e]);for(let e in bu)i(e).observers.push(bu[e]);return t}const du=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],uu="dthko",pu=[16,17,18,20,91,92,224,225];function hu(e){return.7*Math.max(0,e)+8}class mu{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(e){let t,i,r=e.ownerDocument;for(let s=e.parentNode;s&&!(s==r.body||t&&i);)if(1==s.nodeType)!i&&s.scrollHeight>s.clientHeight&&(i=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else{if(11!=s.nodeType)break;s=s.host}return{x:t,y:i}}(e.contentDOM),this.atoms=e.state.facet(Dd).map((t=>t(e)));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(xl.yy.allowMultipleSelections)&&function(e,t){let i=e.state.facet(od);return i.length?i[0](t):hc.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:i}=e.state.selection;if(i.empty)return!1;let r=Ml(e.root);if(!r||0==r.rangeCount)return!0;let s=r.getRangeAt(0).getClientRects();for(let e=0;e<s.length;e++){let i=s[e];if(i.left<=t.clientX&&i.right>=t.clientX&&i.top<=t.clientY&&i.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Tu(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,r=0,s=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:o}=this.scrollParents.y.getBoundingClientRect());let n=Ld(this.view);e.clientX-n.left<=r+6?t=-hu(r-e.clientX):e.clientX+n.right>=a-6&&(t=hu(e.clientX-a)),e.clientY-n.top<=s+6?i=-hu(s-e.clientY):e.clientY+n.bottom>=o-6&&(i=hu(e.clientY-o)),this.setScrollSpeed(t,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let e=Zd(this.atoms,r.from,0);e!=r.from&&(s=xl.jT.cursor(e,-1))}else{let e=Zd(this.atoms,r.from,-1),t=Zd(this.atoms,r.to,1);e==r.from&&t==r.to||(s=xl.jT.range(r.from==r.anchor?e:t,r.from==r.head?e:t))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?xl.jT.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&i.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some((e=>e.isUserEvent("input.type")))?this.destroy():this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const gu=Object.create(null),bu=Object.create(null),fu=hc.ie&&hc.ie_version<15||hc.ios&&hc.webkit_version<604;function vu(e,t,i){for(let r of e.facet(t))i=r(i,e);return i}function yu(e,t){t=vu(e.state,hd,t);let i,{state:r}=e,s=1,a=r.toText(t),o=a.lines==r.selection.ranges.length;if(null!=Au&&r.selection.ranges.every((e=>e.empty))&&Au==a.toString()){let e=-1;i=r.changeByRange((i=>{let n=r.doc.lineAt(i.from);if(n.from==e)return{range:i};e=n.from;let l=r.toText((o?a.line(s++).text:t)+r.lineBreak);return{changes:{from:n.from,insert:l},range:xl.jT.cursor(i.from+l.length)}}))}else i=o?r.changeByRange((e=>{let t=a.line(s++);return{changes:{from:e.from,to:e.to,insert:t.text},range:xl.jT.cursor(e.from+t.length)}})):r.replaceSelection(a);e.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}function Cu(e,t,i,r){if(1==r)return xl.jT.cursor(t,i);if(2==r)return function(e,t,i=1){let r=e.charCategorizer(t),s=e.doc.lineAt(t),a=t-s.from;if(0==s.length)return xl.jT.cursor(t);0==a?i=1:a==s.length&&(i=-1);let o=a,n=a;i<0?o=(0,xl.cp)(s.text,a,!1):n=(0,xl.cp)(s.text,a);let l=r(s.text.slice(o,n));for(;o>0;){let e=(0,xl.cp)(s.text,o,!1);if(r(s.text.slice(e,o))!=l)break;o=e}for(;n<s.length;){let e=(0,xl.cp)(s.text,n);if(r(s.text.slice(n,e))!=l)break;n=e}return xl.jT.range(o+s.from,n+s.from)}(e.state,t,i);{let i=Lc.find(e.docView,t),r=e.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:r.from,a=i?i.posAtEnd:r.to;return a<e.state.doc.length&&a==r.to&&a++,xl.jT.range(s,a)}}bu.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},gu.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),bu.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},bu.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},gu.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let r of e.state.facet(ld))if(i=r(e,t),i)break;if(i||0!=t.button||(i=function(e,t){let i=Su(e,t),r=Tu(t),s=e.state.selection;return{update(e){e.docChanged&&(i.pos=e.changes.mapPos(i.pos),s=s.map(e.changes))},get(t,a,o){let n,l=Su(e,t),c=Cu(e,l.pos,l.bias,r);if(i.pos!=l.pos&&!a){let t=Cu(e,i.pos,i.bias,r),s=Math.min(t.from,c.from),a=Math.max(t.to,c.to);c=s<c.from?xl.jT.range(s,a):xl.jT.range(a,s)}return a?s.replaceRange(s.main.extend(c.from,c.to)):o&&1==r&&s.ranges.length>1&&(n=function(e,t){for(let i=0;i<e.ranges.length;i++){let{from:r,to:s}=e.ranges[i];if(r<=t&&s>=t)return xl.jT.create(e.ranges.slice(0,i).concat(e.ranges.slice(i+1)),e.mainIndex==i?0:e.mainIndex-(e.mainIndex>i?1:0))}return null}(s,l.pos))?n:o?s.addRange(c):xl.jT.create([c])}}}(e,t)),i){let r=!e.hasFocus;e.inputState.startMouseSelection(new mu(e,t,i,r)),r&&e.observer.ignore((()=>{Ul(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()}));let s=e.inputState.mouseSelection;if(s)return s.start(t),!1===s.dragging}return!1};let ku=(e,t,i)=>t>=i.top&&t<=i.bottom&&e>=i.left&&e<=i.right;function wu(e,t,i,r){let s=Lc.find(e.docView,t);if(!s)return 1;let a=t-s.posAtStart;if(0==a)return 1;if(a==s.length)return-1;let o=s.coordsAt(a,-1);if(o&&ku(i,r,o))return-1;let n=s.coordsAt(a,1);return n&&ku(i,r,n)?1:o&&o.bottom>=r?-1:1}function Su(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:i,bias:wu(e,i,t.clientX,t.clientY)}}const xu=hc.ie&&hc.ie_version<=11;let _u=null,Eu=0,Mu=0;function Tu(e){if(!xu)return e.detail;let t=_u,i=Mu;return _u=e,Mu=Date.now(),Eu=!t||i>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Eu+1)%3:1}function Pu(e,t,i,r){if(!(i=vu(e.state,hd,i)))return;let s=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:a}=e.inputState,o=r&&a&&function(e,t){let i=e.state.facet(nd);return i.length?i[0](t):hc.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:a.from,to:a.to}:null,n={from:s,insert:i},l=e.state.changes(o?[o,n]:n);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(s,-1),head:l.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),e.inputState.draggedContent=null}gu.dragstart=(e,t)=>{let{selection:{main:i}}=e.state;if(t.target.draggable){let r=e.docView.nearest(t.target);if(r&&r.isWidget){let e=r.posAtStart,t=e+r.length;(e>=i.to||t<=i.from)&&(i=xl.jT.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=i,t.dataTransfer&&(t.dataTransfer.setData("Text",vu(e.state,md,e.state.sliceDoc(i.from,i.to))),t.dataTransfer.effectAllowed="copyMove"),!1},gu.dragend=e=>(e.inputState.draggedContent=null,!1),gu.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let i=t.dataTransfer.files;if(i&&i.length){let r=Array(i.length),s=0,a=()=>{++s==i.length&&Pu(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<i.length;e++){let t=new FileReader;t.onerror=a,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),a()},t.readAsText(i[e])}return!0}{let i=t.dataTransfer.getData("Text");if(i)return Pu(e,t,i,!0),!0}return!1},gu.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let i=fu?null:t.clipboardData;return i?(yu(e,i.getData("text/plain")||i.getData("text/uri-list")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((()=>{e.focus(),i.remove(),yu(e,i.value)}),50)}(e),!1)};let Au=null;gu.copy=gu.cut=(e,t)=>{let{text:i,ranges:r,linewise:s}=function(e){let t=[],i=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),i.push(r));if(!t.length){let s=-1;for(let{from:r}of e.selection.ranges){let a=e.doc.lineAt(r);a.number>s&&(t.push(a.text),i.push({from:a.from,to:Math.min(e.doc.length,a.to+1)})),s=a.number}r=!0}return{text:vu(e,md,t.join(e.lineBreak)),ranges:i,linewise:r}}(e.state);if(!i&&!s)return!1;Au=s?i:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=fu?null:t.clipboardData;return a?(a.clearData(),a.setData("text/plain",i),!0):(function(e,t){let i=e.dom.parentNode;if(!i)return;let r=i.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,i),!1)};const Du=xl.q6.define();function Iu(e,t){let i=[];for(let r of e.facet(pd)){let s=r(e,t);s&&i.push(s)}return i.length?e.update({effects:i,annotations:Du.of(!0)}):null}function Nu(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let i=Iu(e.state,t);i?e.dispatch(i):e.update([])}}),10)}bu.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Nu(e)},bu.blur=e=>{e.observer.clearSelectionRange(),Nu(e)},bu.compositionstart=bu.compositionupdate=e=>{e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},bu.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,hc.chrome&&hc.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50))},bu.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},gu.beforeinput=(e,t)=>{var i,r;if("insertReplacementText"==t.inputType&&e.observer.editContext){let r=null===(i=t.dataTransfer)||void 0===i?void 0:i.getData("text/plain"),s=t.getTargetRanges();if(r&&s.length){let t=s[0],i=e.posAtDOM(t.startContainer,t.startOffset),a=e.posAtDOM(t.endContainer,t.endOffset);return ou(e,{from:i,to:a,insert:e.state.toText(r)},null),!0}}let s;if(hc.chrome&&hc.android&&(s=du.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(s.key,s.keyCode),"Backspace"==s.key||"Delete"==s.key)){let t=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout((()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return hc.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),hc.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout((()=>bu.compositionend(e,t)),20),!1};const Ru=new Set,Lu=["pre-wrap","normal","pre-line","break-spaces"];let Fu=!1;function Ou(){Fu=!1}class Bu{constructor(e){this.lineWrapping=e,this.doc=xl.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Lu.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,i,r,s,a){let o=Lu.indexOf(e)>-1,n=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,n){this.heightSamples={};for(let e=0;e<a.length;e++){let t=a[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return n}}class zu{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Vu{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return"number"==typeof this._content?Tc.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ic?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Vu(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Gu=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Gu||(Gu={}));const Uu=.001;class Hu{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Uu&&(Fu=!0),this.height=e)}replace(e,t,i){return Hu.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,a=i.doc;for(let o=r.length-1;o>=0;o--){let{fromA:n,toA:l,fromB:c,toB:d}=r[o],u=s.lineAt(n,Gu.ByPosNoHeight,i.setDoc(t),0,0),p=u.to>=l?u:s.lineAt(l,Gu.ByPosNoHeight,i,0,0);for(d+=p.to-l,l=p.to;o>0&&u.from<=r[o-1].toA;)n=r[o-1].fromA,c=r[o-1].fromB,o--,n<u.from&&(u=s.lineAt(n,Gu.ByPosNoHeight,i,0,0));c+=u.from-n,n=u.from;let h=Xu.build(i.setDoc(a),e,c,d);s=Wu(s,s.replace(n,l,h))}return s.updateHeight(i,0)}static empty(){return new Ku(0,0)}static of(e){if(1==e.length)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>2*s){let s=e[t-1];s.break?e.splice(--t,1,s.left,null,s.right):e.splice(--t,1,s.left,s.right),i+=1+s.break,r-=s.size}else{if(!(s>2*r))break;{let t=e[i];t.break?e.splice(i,1,t.left,null,t.right):e.splice(i,1,t.left,t.right),i+=2+t.break,s-=t.size}}else if(r<s){let i=e[t++];i&&(r+=i.size)}else{let t=e[--i];t&&(s+=t.size)}let a=0;return null==e[t-1]?(a=1,t--):null==e[t]&&(a=1,i++),new qu(Hu.of(e.slice(0,t)),a,Hu.of(e.slice(i)))}}function Wu(e,t){return e==t?e:(e.constructor!=t.constructor&&(Fu=!0),t)}Hu.prototype.size=1;class ju extends Hu{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new Vu(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,a){e<=s+this.length&&t>=s&&a(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ku extends ju{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new Vu(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return 1==i.length&&(r instanceof Ku||r instanceof $u&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof $u?r=new Ku(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Hu.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class $u extends Hu{constructor(e){super(e,0)}heightMetrics(e,t){let i,r=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,a=s-r+1,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*a);i=t/a,this.length>a+1&&(o=(this.height-t)/(this.length-a-1))}else i=this.height/a;return{firstLine:r,lastLine:s,perLine:i,perChar:o}}blockAt(e,t,i,r){let{firstLine:s,lastLine:a,perLine:o,perChar:n}=this.heightMetrics(t,r);if(t.lineWrapping){let s=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),a=t.doc.lineAt(s),l=o+a.length*n,c=Math.max(i,e-l/2);return new Vu(a.from,a.length,c,l,0)}{let r=Math.max(0,Math.min(a-s,Math.floor((e-i)/o))),{from:n,length:l}=t.doc.line(s+r);return new Vu(n,l,i+o*r,o,0)}}lineAt(e,t,i,r,s){if(t==Gu.ByHeight)return this.blockAt(e,i,r,s);if(t==Gu.ByPosNoHeight){let{from:t,to:r}=i.doc.lineAt(e);return new Vu(t,r-t,0,0,0)}let{firstLine:a,perLine:o,perChar:n}=this.heightMetrics(i,s),l=i.doc.lineAt(e),c=o+l.length*n,d=l.number-a,u=r+o*d+n*(l.from-s-d);return new Vu(l.from,l.length,Math.max(r,Math.min(u,r+this.height-c)),c,0)}forEachLine(e,t,i,r,s,a){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:o,perLine:n,perChar:l}=this.heightMetrics(i,s);for(let c=e,d=r;c<=t;){let t=i.doc.lineAt(c);if(c==e){let i=t.number-o;d+=n*i+l*(e-s-i)}let r=n+l*t.length;a(new Vu(t.from,t.length,d,r,0)),d+=r,c=t.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let e=i[i.length-1];e instanceof $u?i[i.length-1]=new $u(e.length+r):i.push(null,new $u(r-1))}if(e>0){let t=i[0];t instanceof $u?i[0]=new $u(e+t.length):i.unshift(new $u(e-1),null)}return Hu.of(i)}decomposeLeft(e,t){t.push(new $u(e-1),null)}decomposeRight(e,t){t.push(null,new $u(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let i=[],a=Math.max(t,r.from),o=-1;for(r.from>t&&i.push(new $u(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let t=e.doc.lineAt(a).length;i.length&&i.push(null);let s=r.heights[r.index++];-1==o?o=s:Math.abs(s-o)>=Uu&&(o=-2);let n=new Ku(t,s);n.outdated=!1,i.push(n),a+=t+1}a<=s&&i.push(null,new $u(s-a).updateHeight(e,a));let n=Hu.of(i);return(o<0||Math.abs(n.height-this.height)>=Uu||Math.abs(o-this.heightMetrics(e,t).perLine)>=Uu)&&(Fu=!0),Wu(this,n)}return(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class qu extends Hu{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return 1&this.flags}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let a=r+this.left.height,o=s+this.left.length+this.break,n=t==Gu.ByHeight?e<a:e<o,l=n?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,a,o);if(this.break||(n?l.to<o:l.from>o))return l;let c=t==Gu.ByPosNoHeight?Gu.ByPosNoHeight:Gu.ByPos;return n?l.join(this.right.lineAt(o,c,i,a,o)):this.left.lineAt(o,c,i,r,s).join(l)}forEachLine(e,t,i,r,s,a){let o=r+this.left.height,n=s+this.left.length+this.break;if(this.break)e<n&&this.left.forEachLine(e,t,i,r,s,a),t>=n&&this.right.forEachLine(e,t,i,o,n,a);else{let l=this.lineAt(n,Gu.ByPos,i,r,s);e<l.from&&this.left.forEachLine(e,l.from-1,i,r,s,a),l.to>=e&&l.from<=t&&a(l),t>l.to&&this.right.forEachLine(l.to+1,t,i,o,n,a)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let e of i)s.push(e);if(e>0&&Yu(s,a-1),t<this.length){let e=s.length;this.decomposeRight(t,s),Yu(s,e)}return Hu.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Hu.of(this.break?[e,null,t]:[e,t]):(this.left=Wu(this.left,e),this.right=Wu(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:a}=this,o=t+s.length+this.break,n=null;return r&&r.from<=t+s.length&&r.more?n=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=o+a.length&&r.more?n=a=a.updateHeight(e,o,i,r):a.updateHeight(e,o,i),n?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Yu(e,t){let i,r;null==e[t]&&(i=e[t-1])instanceof $u&&(r=e[t+1])instanceof $u&&e.splice(t-1,3,new $u(i.length+1+r.length))}class Xu{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ku?i.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Ku(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let a=t-e;i.block?this.addBlock(new ju(a,r,i)):(a||s||r>=5)&&this.addLineDeco(r,s,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ku(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new $u(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ku)return e;let t=new Ku(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Ku||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Ku(0,-1));let i=e;for(let e of this.nodes)e instanceof Ku&&e.updateHeight(this.oracle,i),i+=e?e.length:1;return this.nodes}static build(e,t,i,r){let s=new Xu(i,e);return xl.Xs.spans(t,i,r,s,0),s.finish(i)}}class Qu{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&Rc(e,t,this.changes,5)}}function Zu(e,t){let i=e.getBoundingClientRect(),r=e.ownerDocument,s=r.defaultView||window,a=Math.max(0,i.left),o=Math.min(s.innerWidth,i.right),n=Math.max(0,i.top),l=Math.min(s.innerHeight,i.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let i=t,r=window.getComputedStyle(i);if((i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)&&"visible"!=r.overflow){let r=i.getBoundingClientRect();a=Math.max(a,r.left),o=Math.min(o,r.right),n=Math.max(n,r.top),l=Math.min(t==e.parentNode?s.innerHeight:l,r.bottom)}t="absolute"==r.position||"fixed"==r.position?i.offsetParent:i.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:a-i.left,right:Math.max(a,o)-i.left,top:n-(i.top+t),bottom:Math.max(n,l)-(i.top+t)}}function Ju(e,t){let i=e.getBoundingClientRect();return{left:0,right:i.right-i.left,top:t,bottom:i.bottom-(i.top+t)}}class ep{constructor(e,t,i,r){this.from=e,this.to=t,this.size=i,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return Pc.replace({widget:new tp(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class tp extends Mc{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ip{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=op,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Gc.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Td).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new Bu(t),this.stateDeco=e.facet(Pd).filter((e=>"function"!=typeof e)),this.heightMap=Hu.empty().applyChanges(this.stateDeco,xl.xv.empty,this.heightOracle.setDoc(e.doc),[new Od(0,0,0,e.doc.length)]);for(let e=0;e<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());e++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Pc.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:i}=this.lineBlockAt(r);e.push(new rp(t,i))}}return this.viewports=e.sort(((e,t)=>e.from-t.from)),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?op:new np(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(lp(e,this.scaler))}))}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Pd).filter((e=>"function"!=typeof e));let r=e.changedRanges,s=Od.extendWithRanges(r,function(e,t,i){let r=new Qu;return xl.Xs.compare(e,t,i,r,0),r.changes}(i,this.stateDeco,e?e.changes:xl.as.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Ou(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=a||Fu)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let n=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<n.from||t.range.head>n.to)||!this.viewportIsAppropriate(n))&&(n=this.getViewport(0,t));let l=n.from!=this.viewport.from||n.to!=this.viewport.to;this.viewport=n,e.flags|=this.updateForViewport(),(l||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(bd)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?Gc.RTL:Gc.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),o=t.getBoundingClientRect(),n=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let l=0,c=0;if(o.width&&o.height){let{scaleX:e,scaleY:i}=Bl(t,o);(e>.005&&Math.abs(this.scaleX-e)>.005||i>.005&&Math.abs(this.scaleY-i)>.005)&&(this.scaleX=e,this.scaleY=i,l|=16,a=n=!0)}let d=(parseInt(i.paddingTop)||0)*this.scaleY,u=(parseInt(i.paddingBottom)||0)*this.scaleY;this.paddingTop==d&&this.paddingBottom==u||(this.paddingTop=d,this.paddingBottom=u,l|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(n=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=16);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=Kl(e.scrollDOM);let h=(this.printing?Ju:Zu)(t,this.paddingTop),m=h.top-this.pixelViewport.top,g=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(n=!0)),!this.inView&&!this.scrollTarget&&!function(e){let t=e.getBoundingClientRect(),i=e.ownerDocument.defaultView||window;return t.left<i.innerWidth&&t.right>0&&t.top<i.innerHeight&&t.bottom>0}(e.dom))return 0;let f=o.width;if(this.contentDOMWidth==f&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,l|=16),n){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(a=!0),a||r.lineWrapping&&Math.abs(f-this.contentDOMWidth)>r.charWidth){let{lineHeight:i,charWidth:o,textHeight:n}=e.docView.measureTextSize();a=i>0&&r.refresh(s,i,o,n,f/o,t),a&&(e.docView.minWidth=0,l|=16)}m>0&&g>0?c=Math.max(m,g):m<0&&g<0&&(c=Math.min(m,g)),Ou();for(let i of this.viewports){let s=i.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(i);this.heightMap=(a?Hu.empty().applyChanges(this.stateDeco,xl.xv.empty,this.heightOracle,[new Od(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,a,new zu(i.from,s))}Fu&&(l|=2)}let v=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),l|=this.updateForViewport()),(2&l||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,n=new rp(r.lineAt(a-1e3*i,Gu.ByHeight,s,0,0).from,r.lineAt(o+1e3*(1-i),Gu.ByHeight,s,0,0).to);if(t){let{head:e}=t.range;if(e<n.from||e>n.to){let i,a=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(e,Gu.ByPos,s,0,0);i="center"==t.y?(o.top+o.bottom)/2-a/2:"start"==t.y||"nearest"==t.y&&e<n.from?o.top:o.bottom-a,n=new rp(r.lineAt(i-500,Gu.ByHeight,s,0,0).from,r.lineAt(i+a+500,Gu.ByHeight,s,0,0).to)}}return n}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new rp(this.heightMap.lineAt(i,Gu.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Gu.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Gu.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Gu.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(0==e||r<=a-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&r>a-2e3&&s<o+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new ep(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,a=r<<1;if(this.defaultTextDirection!=Gc.LTR&&!i)return[];let o=[],n=(r,a,l,c)=>{if(a-r<s)return;let d=this.state.selection.main,u=[d.from];d.empty||u.push(d.to);for(let e of u)if(e>r&&e<a)return n(r,e-10,l,c),void n(e+10,a,l,c);let p=function(e,t){for(let i of e)if(t(i))return i}(e,(e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-r)<s&&Math.abs(e.to-a)<s&&!u.some((t=>e.from<t&&e.to>t))));if(!p){if(a<l.to&&t&&i&&t.visibleRanges.some((e=>e.from<=a&&e.to>=a))){let e=t.moveToLineBoundary(xl.jT.cursor(a),!1,!0).head;e>r&&(a=e)}let e=this.gapSize(l,r,a,c);p=new ep(r,a,e,i||e<2e6?e:2e6)}o.push(p)},l=t=>{if(t.length<a||t.type!=Tc.Text)return;let s=function(e,t,i){let r=[],s=e,a=0;return xl.Xs.spans(i,e,t,{span(){},point(e,t){e>s&&(r.push({from:s,to:e}),a+=e-s),s=t}},20),s<t&&(r.push({from:s,to:t}),a+=t-s),{total:a,ranges:r}}(t.from,t.to,this.stateDeco);if(s.total<a)return;let o,l,c=this.scrollTarget?this.scrollTarget.range.head:null;if(i){let e,i,a=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=ap(s,c),o=((this.visibleBottom-this.visibleTop)/2+a)/t.height;e=r-o,i=r+o}else e=(this.visibleTop-t.top-a)/t.height,i=(this.visibleBottom-t.top+a)/t.height;o=sp(s,e),l=sp(s,i)}else{let i=s.total*this.heightOracle.charWidth,a=r*this.heightOracle.charWidth,n=0;if(i>2e6)for(let i of e)i.from>=t.from&&i.from<t.to&&i.size!=i.displaySize&&i.from*this.heightOracle.charWidth+n<this.pixelViewport.left&&(n=i.size-i.displaySize);let d,u,p=this.pixelViewport.left+n,h=this.pixelViewport.right+n;if(null!=c){let e=ap(s,c),t=((h-p)/2+a)/i;d=e-t,u=e+t}else d=(p-a)/i,u=(h+a)/i;o=sp(s,d),l=sp(s,u)}o>t.from&&n(t.from,o,t,s),l<t.to&&n(l,t.to,t,s)};for(let e of this.viewportLines)Array.isArray(e.type)?e.type.forEach(l):l(e);return o}gapSize(e,t,i,r){let s=ap(r,i)-ap(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){ep.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Pc.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];xl.Xs.spans(t,this.viewport.from,this.viewport.to,{span(e,t){i.push({from:e,to:t})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let t=0;t<i.length&&!(8&r);t++){let s=this.visibleRanges[t],a=i[t];s.from==a.from&&s.to==a.to||(r|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||lp(this.heightMap.lineAt(e,Gu.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((t=>t.top<=e&&t.bottom>=e))||lp(this.heightMap.lineAt(this.scaler.fromDOM(e),Gu.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return lp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class rp{constructor(e,t){this.from=e,this.to=t}}function sp({total:e,ranges:t},i){if(i<=0)return t[0].from;if(i>=1)return t[t.length-1].to;let r=Math.floor(e*i);for(let e=0;;e++){let{from:i,to:s}=t[e],a=s-i;if(r<=a)return i+r;r-=a}}function ap(e,t){let i=0;for(let{from:r,to:s}of e.ranges){if(t<=s){i+=t-r;break}i+=s-r}return i/e.total}const op={toDOM(e){return e},fromDOM(e){return e},scale:1,eq(e){return e==this}};class np{constructor(e,t,i){let r=0,s=0,a=0;this.viewports=i.map((({from:i,to:s})=>{let a=t.lineAt(i,Gu.ByPos,e,0,0).top,o=t.lineAt(s,Gu.ByPos,e,0,0).bottom;return r+=o-a,{from:i,to:s,top:a,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=a+(e.top-s)*this.scale,a=e.domBottom=e.domTop+(e.bottom-e.top),s=e.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof np&&this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every(((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to))}}function lp(e,t){if(1==t.scale)return e;let i=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Vu(e.from,e.length,i,r-i,Array.isArray(e._content)?e._content.map((e=>lp(e,t))):e._content)}const cp=xl.r$.define({combine:e=>e.join(" ")}),dp=xl.r$.define({combine:e=>e.indexOf(!0)>-1}),up=_l.V.newName(),pp=_l.V.newName(),hp=_l.V.newName(),mp={"&light":"."+pp,"&dark":"."+hp};function gp(e,t,i){return new _l.V(t,{finish(t){return/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!i||!i[t])throw new RangeError(`Unsupported selector: ${t}`);return i[t]})):e+" "+t}})}const bp=gp("."+up,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},mp),fp={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},vp=hc.ie&&hc.ie_version<=11;class yp{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new zl,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(hc.ie&&hc.ie_version<=11||hc.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===e.constructor.EDIT_CONTEXT||hc.chrome&&hc.chrome_version<126||(this.editContext=new wp(e),e.state.facet(wd)&&(e.contentDOM.editContext=this.editContext.editContext)),vp&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(e){("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,i)=>t!=e[i])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(wd)?i.root.activeElement!=this.dom:!Pl(this.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);s&&s.ignoreEvent(e)?t||(this.selectionChanged=!1):(hc.ie&&hc.ie_version<=11||hc.android&&hc.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Dl(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ml(e.root);if(!t)return!1;let i=hc.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return kp(e,i)}let i=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),i=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",r,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),i?kp(e,i):null}(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let r=Pl(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let i=t.focusNode,r=t.focusOffset;if(!i||t.anchorNode!=i||t.anchorOffset!=r)return!1;for(r=Math.min(r,Ll(i));;)if(r){if(1!=i.nodeType)return!1;let e=i.childNodes[r-1];"false"==e.contentEditable?r--:(i=e,r=Ll(i))}else{if(i==e)return!0;r=Il(i),i=i.parentNode}}(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(1==i.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,fp),vp&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),vp&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&Wl(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(i=this.delayedAndroidKey)||void 0===i?void 0:i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let e=this.readMutation(s);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:i}=e):(t=Math.min(e.from,t),i=Math.max(e.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Pl(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new su(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=au(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let i=Cp(t,e.previousSibling||e.target.previousSibling,-1),r=Cp(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(wd)!=e.state.facet(wd)&&(e.view.contentDOM.editContext=e.state.facet(wd)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(i=this.resizeScroll)||void 0===i||i.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Cp(e,t,i){for(;t;){let r=Ql.get(t);if(r&&r.parent==e)return r;let s=t.parentNode;t=s!=e.dom?s:i>0?t.nextSibling:t.previousSibling}return null}function kp(e,t){let i=t.startContainer,r=t.startOffset,s=t.endContainer,a=t.endOffset,o=e.docView.domAtPos(e.state.selection.main.anchor);return Dl(o.node,o.offset,s,a)&&([i,r,s,a]=[s,a,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}}class wp{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=t=>{let i=e.state.selection.main,{anchor:r,head:s}=i,a=this.toEditorPos(t.updateRangeStart),o=this.toEditorPos(t.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:t.updateRangeStart,editorBase:a,drifted:!1});let n={from:a,to:o,insert:xl.xv.of(t.text.split("\n"))};if(n.from==this.from&&r<this.from?n.from=r:n.to==this.to&&r>this.to&&(n.to=r),n.from!=n.to||n.insert.length){if((hc.mac||hc.android)&&n.from==s-1&&/^\. ?$/.test(t.text)&&"off"==e.contentDOM.getAttribute("autocorrect")&&(n={from:a,to:o,insert:xl.xv.of([t.text.replace("."," ")])}),this.pendingContextChange=n,!e.state.readOnly){let i=this.to-this.from+(n.to-n.from+n.insert.length);ou(e,n,xl.jT.single(this.toEditorPos(t.selectionStart,i),this.toEditorPos(t.selectionEnd,i)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))}else{let r=xl.jT.single(this.toEditorPos(t.selectionStart),this.toEditorPos(t.selectionEnd));r.main.eq(i)||e.dispatch({selection:r,userEvent:"select"})}},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let t=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);t<a;t++){let i=e.coordsForChar(t);s=i&&new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)||s||new DOMRect,r.push(s)}t.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=t=>{let i=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,r=e.underlineThickness;if("None"!=t&&"None"!=r){let s=this.toEditorPos(e.rangeStart),a=this.toEditorPos(e.rangeEnd);if(s<a){let e=`text-decoration: underline ${"Dashed"==t?"dashed ":"Squiggle"==t?"wavy ":""}${"Thin"==r?1:2}px`;i.push(Pc.mark({attributes:{style:e}}).range(s,a))}}}e.dispatch({effects:Cd.of(Pc.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}};for(let e in this.handlers)t.addEventListener(e,this.handlers[e]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=Ml(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges(((s,a,o,n,l)=>{if(i)return;let c=l.length-(a-s);if(r&&a>=r.to){if(r.from==s&&r.to==a&&r.insert.eq(l))return r=this.pendingContextChange=null,t+=c,void(this.to+=c);r=null,this.revertPending(e.state)}if(s+=t,(a+=t)<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||a>this.to||this.to-this.from+l.length>3e4)return void(i=!0);this.editContext.updateText(this.toContextPos(s),this.toContextPos(a),l.toString()),this.to+=c}t+=c})),r&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some((e=>!e.isUserEvent("input.type")&&e.changes.touchesRange(this.from,this.to))))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);this.editContext.selectionStart==i&&this.editContext.selectionEnd==r||this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Sp{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(e=>e.forEach((e=>i(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new ip(e.state||xl.yy.create(e)),e.scrollTo&&e.scrollTo.is(yd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(xd).map((e=>new Ed(e)));for(let e of this.plugins)e.update(this);this.observer=new yp(this),this.inputState=new nu(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zd(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...e){let t=1==e.length&&e[0]instanceof xl.YW?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,i=!1,r=!1,s=this.state;for(let t of e){if(t.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=t.state}if(this.destroyed)return void(this.viewState.state=s);let a=this.hasFocus,o=0,n=null;e.some((e=>e.annotation(Du)))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,n=Iu(s,a),n||(o=1));let l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(xl.yy.phrases)!=this.state.facet(xl.yy.phrases))return this.setState(s);t=Bd.create(this,s,e),t.flags|=o;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(d&&(d=d.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;d=new vd(e.empty?e:xl.jT.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(yd)&&(d=e.value.clip(this.state))}this.viewState.update(t,d),this.bidiCache=Ep.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),i=this.docView.update(t),this.state.facet(Fd)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(cp)!=t.state.facet(cp)&&(this.viewState.mustMeasureContent=!0),(i||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!t.empty)for(let e of this.state.facet(dd))try{e(t)}catch(e){kd(this.state,e,"update listener")}(n||c)&&Promise.resolve().then((()=>{n&&this.state==n.startState&&this.dispatch(n),c&&!au(this,c)&&l.force&&Wl(this.contentDOM,l.key,l.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new ip(e),this.plugins=e.facet(xd).map((e=>new Ed(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new zd(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(xd),i=e.state.facet(xd);if(t!=i){let r=[];for(let s of i){let i=t.indexOf(s);if(i<0)r.push(new Ed(s));else{let t=this.plugins[i];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(e){kd(this.state,e,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(a<0)if(Kl(i))s=-1,a=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);s=e.from,a=e.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let n=[];4&o||([this.measureRequests,n]=[n,this.measureRequests]);let l=n.map((e=>{try{return e.read(this)}catch(e){return kd(this.state,e),_p}})),c=Bd.create(this,this.state,[]),d=!1;c.flags|=o,t?t.flags|=o:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),d=this.docView.update(c),d&&this.docViewUpdate());for(let e=0;e<n.length;e++)if(l[e]!=_p)try{let t=n[e];t.write&&t.write(l[e],this)}catch(e){kd(this.state,e)}if(d&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}{let e=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(e>1||e<-1){r+=e,i.scrollTop=r/this.scaleY,a=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(dd))e(t)}get themeClasses(){return up+" "+(this.state.facet(dp)?hp:pp)+" "+this.state.facet(cp)}updateAttrs(){let e=Mp(this,Md,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(wd)?"true":"false",class:"cm-content",style:`${hc.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Mp(this,Td,t);let i=this.observer.ignore((()=>{let i=_c(this.contentDOM,this.contentAttrs,t),r=_c(this.dom,this.editorAttrs,e);return i||r}));return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let e of i.effects)e.is(Sp.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value)}mountStyles(){this.styleModules=this.state.facet(Fd);let e=this.state.facet(Sp.cspNonce);_l.V.mount(this.root,this.styleModules.concat(bp).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Jd(this,e,Qd(this,e,t,i))}moveByGroup(e,t){return Jd(this,e,Qd(this,e,t,(t=>function(e,t,i){let r=e.state.charCategorizer(t),s=r(i);return e=>{let t=r(e);return s==xl.D0.Space&&(s=t),s==t}}(this,e.head,t))))}visualLineSide(e,t){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return xl.jT.cursor(s.side(t,r)+e.from,s.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,i=!0){return function(e,t,i,r){let s=function(e,t,i){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let e;for(let s of r.type){if(s.from>t)break;if(!(s.to<t)){if(s.from<t&&s.to>t)return s;e&&(s.type!=Tc.Text||e.type==s.type&&!(i<0?s.from<t:s.to>t))||(e=s)}}return e||r}return r}(e,t.head,t.assoc||-1),a=r&&s.type==Tc.Text&&(e.lineWrapping||s.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>s.from?t.head-1:t.head):null;if(a){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(s.from),o=e.posAtCoords({x:i==(r==Gc.LTR)?t.right-1:t.left+1,y:(a.top+a.bottom)/2});if(null!=o)return xl.jT.cursor(o,i?-1:1)}return xl.jT.cursor(i?s.to:s.from,i?-1:1)}(this,e,t,i)}moveVertically(e,t,i){return Jd(this,e,function(e,t,i,r){let s=t.head,a=i?1:-1;if(s==(i?e.state.doc.length:0))return xl.jT.cursor(s,t.assoc);let o,n=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(s,t.assoc||-1),d=e.documentTop;if(c)null==n&&(n=c.left-l.left),o=a<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(s);null==n&&(n=Math.min(l.right-l.left,e.defaultCharacterWidth*(s-t.from))),o=(a<0?t.top:t.bottom)+d}let u=l.left+n,p=null!=r?r:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let i=o+(p+t)*a,r=Yd(e,{x:u,y:i},!1,a);if(i<l.top||i>l.bottom||(a<0?r<s:r>s)){let t=e.docView.coordsForChar(r),s=!t||i<t.top?-1:1;return xl.jT.cursor(r,s,void 0,n)}}}(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Yd(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r);return Fl(i,s[Qc.find(s,e-r.from,-1,t)].dir==Gc.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(gd)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>xp)return id(e.length);let t,i=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==i&&(r.fresh||Zc(r.isolates,t=Nd(this,e))))return r.order;t||(t=Nd(this,e));let r=function(e,t,i){if(!e)return[new Qc(0,0,t==Hc?1:0)];if(t==Uc&&!i.length&&!Xc.test(e))return id(e.length);if(i.length)for(;e.length>Jc.length;)Jc[Jc.length]=256;let r=[],s=t==Uc?0:1;return td(e,s,s,i,0,e.length,r),r}(e.text,i,t);return this.bidiCache.push(new Ep(e.from,e.to,i,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||hc.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Ul(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return yd.of(new vd("number"==typeof e?xl.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return yd.of(new vd(xl.jT.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return _d.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return _d.define((()=>({})),{eventObservers:e})}static theme(e,t){let i=_l.V.newName(),r=[cp.of(i),Fd.of(gp(`.${i}`,e))];return t&&t.dark&&r.push(dp.of(!0)),r}static baseTheme(e){return xl.Wl.lowest(Fd.of(gp("."+up,e,mp)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&Ql.get(i)||Ql.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}Sp.styleModule=Fd,Sp.inputHandler=ud,Sp.clipboardInputFilter=hd,Sp.clipboardOutputFilter=md,Sp.scrollHandler=fd,Sp.focusChangeEffect=pd,Sp.perLineTextDirection=gd,Sp.exceptionSink=cd,Sp.updateListener=dd,Sp.editable=wd,Sp.mouseSelectionStyle=ld,Sp.dragMovesSelection=nd,Sp.clickAddsSelectionRange=od,Sp.decorations=Pd,Sp.outerDecorations=Ad,Sp.atomicRanges=Dd,Sp.bidiIsolatedRanges=Id,Sp.scrollMargins=Rd,Sp.darkTheme=dp,Sp.cspNonce=xl.r$.define({combine:e=>e.length?e[0]:""}),Sp.contentAttributes=Td,Sp.editorAttributes=Md,Sp.lineWrapping=Sp.contentAttributes.of({class:"cm-lineWrapping"}),Sp.announce=xl.Py.define();const xp=4096,_p={};class Ep{constructor(e,t,i,r,s,a){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=a}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let i=[],r=e.length?e[e.length-1].dir:Gc.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir!=r||t.touchesRange(a.from,a.to)||i.push(new Ep(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return i}}function Mp(e,t,i){for(let r=e.state.facet(t),s=r.length-1;s>=0;s--){let t=r[s],a="function"==typeof t?t(e):t;a&&wc(a,i)}return i}const Tp=hc.mac?"mac":hc.windows?"win":hc.linux?"linux":"key";function Pp(e,t,i){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==i&&t.shiftKey&&(e="Shift-"+e),e}const Ap=xl.Wl.default(Sp.domEventHandlers({keydown(e,t){return function(e,t,i,r){Lp=t;let s=(0,El.YG)(t),a=(0,xl.gm)(s,0),o=(0,xl.nZ)(a)==s.length&&" "!=s,n="",l=!1,c=!1,d=!1;Np&&Np.view==i&&Np.scope==r&&(n=Np.prefix+" ",pu.indexOf(t.keyCode)<0&&(c=!0,Np=null));let u,p,h=new Set,m=e=>{if(e){for(let t of e.run)if(!h.has(t)&&(h.add(t),t(i)))return e.stopPropagation&&(d=!0),!0;e.preventDefault&&(e.stopPropagation&&(d=!0),c=!0)}return!1},g=e[r];return g&&(m(g[n+Pp(s,t,!o)])?l=!0:o&&(t.altKey||t.metaKey||t.ctrlKey)&&!(hc.windows&&t.ctrlKey&&t.altKey)&&(u=El.ue[t.keyCode])&&u!=s?(m(g[n+Pp(u,t,!0)])||t.shiftKey&&(p=El.uY[t.keyCode])!=s&&p!=u&&m(g[n+Pp(p,t,!1)]))&&(l=!0):o&&t.shiftKey&&m(g[n+Pp(s,t,!0)])&&(l=!0),!l&&m(g._any)&&(l=!0)),c&&(l=!0),l&&d&&t.stopPropagation(),Lp=null,l}(function(e){let t=e.facet(Dp),i=Ip.get(t);return i||Ip.set(t,i=function(e,t=Tp){let i=Object.create(null),r=Object.create(null),s=(e,t)=>{let i=r[e];if(null==i)r[e]=t;else if(i!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},a=(e,r,a,o,n)=>{var l,c;let d=i[e]||(i[e]=Object.create(null)),u=r.split(/ (?!$)/).map((e=>function(e,t){const i=e.split(/-(?!$)/);let r,s,a,o,n=i[i.length-1];"Space"==n&&(n=" ");for(let e=0;e<i.length-1;++e){const n=i[e];if(/^(cmd|meta|m)$/i.test(n))o=!0;else if(/^a(lt)?$/i.test(n))r=!0;else if(/^(c|ctrl|control)$/i.test(n))s=!0;else if(/^s(hift)?$/i.test(n))a=!0;else{if(!/^mod$/i.test(n))throw new Error("Unrecognized modifier name: "+n);"mac"==t?o=!0:s=!0}}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),a&&(n="Shift-"+n),n}(e,t)));for(let t=1;t<u.length;t++){let i=u.slice(0,t).join(" ");s(i,!0),d[i]||(d[i]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=Np={view:t,prefix:i,scope:e};return setTimeout((()=>{Np==r&&(Np=null)}),Rp),!0}]})}let p=u.join(" ");s(p,!1);let h=d[p]||(d[p]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=d._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});a&&h.run.push(a),o&&(h.preventDefault=!0),n&&(h.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=i[t]||(i[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:s}=r;for(let t in e)e[t].run.push((e=>s(e,Lp)))}let s=r[t]||r.key;if(s)for(let t of e)a(t,s,r.run,r.preventDefault,r.stopPropagation),r.shift&&a(t,"Shift-"+s,r.shift,r.preventDefault,r.stopPropagation)}return i}(t.reduce(((e,t)=>e.concat(t)),[]))),i}(t.state),e,t,"editor")}})),Dp=xl.r$.define({enables:Ap}),Ip=new WeakMap;let Np=null;const Rp=4e3;let Lp=null;class Fp extends xl.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Fp.prototype.elementClass="",Fp.prototype.toDOM=void 0,Fp.prototype.mapMode=xl.gc.TrackBefore,Fp.prototype.startSide=Fp.prototype.endSide=-1,Fp.prototype.point=!0;var Op=i(41113);class Bp{constructor(e,t,i,r,s,a,o,n,l,c=0,d){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=n,this.curContext=l,this.lookAhead=c,this.parent=d}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new Bp(e,[],t,i,i,0,[],0,r?new zp(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=65535&e,{parser:s}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let o=s.dynamicPrecedence(r);if(o&&(this.score+=o),0==i)return this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,a?8:4,!0),void this.reduceContext(r,this.reducePos);let n=this.stack.length-3*(i-1)-(262144&e?6:0),l=n?this.stack[n-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let d=n?this.stack[n-1]:0,u=this.bufferBase+this.buffer.length-d;if(r<s.minRepeatTerm||131072&e){let e=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,e,u+4,!0)}if(262144&e)this.state=this.stack[n];else{let e=this.stack[n-3];this.state=s.getGoto(e,r,!0)}for(;this.stack.length>n;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,t,i,r=4,s=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==i)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=i)}}if(s&&this.pos!=i){let s=this.buffer.length;if(s>0&&0!=this.buffer[s-4]){let e=!1;for(let t=s;t>0&&this.buffer[t-2]>i;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;s>0&&this.buffer[s-2]>i;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4)}this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=i,this.buffer[s+3]=r}else this.buffer.push(e,t,i,r)}shift(e,t,i,r){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let s=e,{parser:a}=this.p;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,r,4)}else this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4)}apply(e,t,i,r){65536&e?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new Bp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Vp(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==i)return!1;if(0==(65536&i))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let r,s=0;s<t.length;s+=2)(r=t[s+1])!=this.state&&this.p.parser.hasAction(r,e)&&i.push(t[s],r);if(this.stack.length<120)for(let e=0;i.length<8&&e<t.length;e+=2){let r=t[e+1];i.some(((e,t)=>1&t&&e==r))||i.push(t[e],r)}t=i}let i=[];for(let e=0;e<t.length&&i.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let s=this.split();s.pushState(r,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[e],this.pos),s.reducePos=this.pos,s.score-=200,i.push(s)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=65535&t,s=this.stack.length-3*i;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,(t=>{if(393216&t);else if(65536&t){let i=(t>>19)-s;if(i>1){let r=65535&t,s=this.stack.length-3*i;if(s>=0&&e.getGoto(this.stack[s],r,!1)>=0)return i<<19|65536|r}}else{let e=i(t,s+1);if(null!=e)return e}}))};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new zp(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class zp{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Vp{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,i=e>>19;0==i?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(i-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class Gp{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Gp(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Gp(this.stack,this.pos,this.index)}}function Up(e,t=Uint16Array){if("string"!=typeof e)return e;let i=null;for(let r=0,s=0;r<e.length;){let a=0;for(;;){let t=e.charCodeAt(r++),i=!1;if(126==t){a=65535;break}t>=92&&t--,t>=34&&t--;let s=t-32;if(s>=46&&(s-=46,i=!0),a+=s,i)break;a*=46}i?i[s++]=a:i=new t(a)}return i}class Hp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Wp=new Hp;class jp{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Wp,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let e=this.ranges[--r];s-=i.from-e.to,i=e}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];s+=e.from-i.to,i=e}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,i,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,i=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),i=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),i}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(null==i||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Wp,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Kp{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;!function(e,t,i,r,s,a){let o=0,n=1<<r,{dialect:l}=i.p.parser;e:for(;0!=(n&e[o]);){let i=e[o+1];for(let r=o+3;r<i;r+=2)if((e[r+1]&n)>0){let i=e[r];if(l.allows(i)&&(-1==t.token.value||t.token.value==i||Yp(i,t.token.value,s,a))){t.acceptToken(i);break}}let r=t.next,c=0,d=e[o+2];if(!(t.next<0&&d>c&&65535==e[i+3*d-3])){for(;c<d;){let s=c+d>>1,a=i+s+(s<<1),n=e[a],l=e[a+1]||65536;if(r<n)d=s;else{if(!(r>=l)){o=e[a+2],t.advance();continue e}c=s+1}}break}o=e[i+3*d-1]}}(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Kp.prototype.contextual=Kp.prototype.fallback=Kp.prototype.extend=!1,Kp.prototype.fallback=Kp.prototype.extend=!1;class $p{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function qp(e,t,i){for(let r,s=t;65535!=(r=e[s]);s++)if(r==i)return s-t;return-1}function Yp(e,t,i,r){let s=qp(i,r,t);return s<0||qp(i,r,e)<s}const Xp="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Qp=null;function Zp(e,t,i){let r=e.cursor(Op.vj.IncludeAnonymous);for(r.moveTo(t);;)if(!(i<0?r.childBefore(t):r.childAfter(t)))for(;;){if((i<0?r.to<t:r.from>t)&&!r.type.isError)return i<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(i<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return i<0?0:e.length}}class Jp{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Zp(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Zp(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],a=this.start[t]+i.positions[r];if(a>e)return this.nextStart=a,null;if(s instanceof Op.mp){if(a==e){if(a<this.safeFrom)return null;let e=a+s.length;if(e<=this.safeTo){let t=s.prop(Op.md.lookAhead);if(!t||e+t<this.fragment.to)return s}}this.index[t]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+s.length}}}class eh{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new Hp))}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,a=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,n=0;for(let r=0;r<s.length;r++){if(0==(1<<r&a))continue;let l=s[r],c=this.tokens[r];if((!i||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=a||c.context!=o)&&(this.updateCachedToken(c,l,e),c.mask=a,c.context=o),c.lookAhead>c.end+25&&(n=Math.max(c.lookAhead,n)),0!=c.value)){let r=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(i=c,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return n&&e.setLookAhead(n),i||e.pos!=this.stream.end||(i=new Hp,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Hp,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:t}=i.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let s=t.specializers[r](this.stream.read(e.start,e.end),i);if(s>=0&&i.p.parser.dialect.allows(s>>1)){0==(1&s)?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:a}=e.p,{data:o}=a;for(let e=0;e<2;e++)for(let n=a.stateSlot(s,e?2:1);;n+=3){if(65535==o[n]){if(1!=o[n+1]){0==r&&2==o[n+1]&&(r=this.putAction(oh(o,n+2),t,i,r));break}n=oh(o,n+2)}o[n]==t&&(r=this.putAction(oh(o,n+1),t,i,r))}return r}}class th{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new jp(t,r),this.tokens=new eh(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[Bp.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>4*e.bufferLength?new Jp(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,i=this.stacks,r=this.minStackPos,s=this.stacks=[];if(this.bigReductionCount>300&&1==i.length){let[e]=i;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<i.length;a++){let o=i[a];for(;;){if(this.tokens.mainToken=null,o.pos>r)s.push(o);else{if(this.advanceStack(o,s,i))continue;{e||(e=[],t=[]),e.push(o);let i=this.tokens.getMainToken(o);t.push(i.value,i.end)}}break}}if(!s.length){let t=e&&function(e){let t=null;for(let i of e){let e=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=e&&i.pos>e)&&i.p.parser.stateFlag(i.state,2)&&(!t||t.score<i.score)&&(t=i)}return t}(e);if(t)return Xp&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw Xp&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let i=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,s);if(i)return Xp&&console.log("Force-finish "+this.stackID(i)),this.stackToTree(i.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(s.length>e)for(s.sort(((e,t)=>t.score-e.score));s.length>e;)s.pop();s.some((e=>e.reducePos>r))&&this.recovering--}else if(s.length>1){e:for(let e=0;e<s.length-1;e++){let t=s[e];for(let i=e+1;i<s.length;i++){let r=s[i];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){s.splice(e--,1);continue e}s.splice(i--,1)}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let e=1;e<s.length;e++)s[e].pos<this.minStackPos&&(this.minStackPos=s[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,a=Xp?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,i=t?e.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?s.getGoto(e.state,o.type.id):-1;if(r>-1&&o.length&&(!t||(o.prop(Op.md.contextHash)||0)==i))return e.useNode(o,r),Xp&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(o.type.id)})`),!0;if(!(o instanceof Op.mp)||0==o.children.length||o.positions[0]>0)break;let n=o.children[0];if(!(n instanceof Op.mp&&0==o.positions[0]))break;o=n}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),Xp&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(65535&o)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let n=this.tokens.getActions(e);for(let o=0;o<n.length;){let l=n[o++],c=n[o++],d=n[o++],u=o==n.length||!i,p=u?e:e.split(),h=this.tokens.mainToken;if(p.apply(l,c,h?h.start:p.pos,d),Xp&&console.log(a+this.stackID(p)+` (via ${0==(65536&l)?"shift":`reduce of ${s.getName(65535&l)}`} for ${s.getName(c)} @ ${r}${p==e?"":", split"})`),u)return!0;p.pos>r?t.push(p):i.push(p)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return ih(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let a=0;a<e.length;a++){let o=e[a],n=t[a<<1],l=t[1+(a<<1)],c=Xp?this.stackID(o)+" -> ":"";if(o.deadEnd){if(s)continue;if(s=!0,o.restart(),Xp&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))continue}let d=o.split(),u=c;for(let e=0;d.forceReduce()&&e<10&&(Xp&&console.log(u+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,i));e++)Xp&&(u=this.stackID(d)+" -> ");for(let e of o.recoverByInsert(n))Xp&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,i);this.stream.end>o.pos?(l==o.pos&&(l++,n=0),o.recoverByDelete(n,l),Xp&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(n)})`),ih(o,i)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(e){return e.close(),Op.mp.build({buffer:Gp.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Qp||(Qp=new WeakMap)).get(e);return t||Qp.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function ih(e,t){for(let i=0;i<t.length;i++){let r=t[i];if(r.pos==e.pos&&r.sameState(e))return void(t[i].score<e.score&&(t[i]=e))}t.push(e)}class rh{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||0==this.disabled[e]}}const sh=e=>e;class ah extends Op._b{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let i=0;i<e.repeatNodeCount;i++)t.push("");let i=Object.keys(e.topRules).map((t=>e.topRules[t][1])),r=[];for(let e=0;e<t.length;e++)r.push([]);function s(e,t,i){r[e].push([t,t.deserialize(String(i))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=Op.md[e]);for(let i=1;i<t.length;){let r=t[i++];if(r>=0)s(r,e,t[i++]);else{let a=t[i+-r];for(let o=-r;o>0;o--)s(t[i++],e,a);i++}}}this.nodeSet=new Op.Lj(t.map(((t,s)=>Op.Jq.define({name:s>=this.minRepeatTerm?void 0:t,id:s,props:r[s],top:i.indexOf(s)>-1,error:0==s,skipped:e.skippedNodes&&e.skippedNodes.indexOf(s)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Op.L3;let a=Up(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(nh),this.states=Up(e.states,Uint32Array),this.data=Up(e.stateData),this.goto=Up(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new Kp(a,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new th(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let t=r[s++],a=1&t,o=r[s++];if(a&&i)return o;for(let i=s+(t>>1);s<i;s++)if(r[s]==e)return o;if(a)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s,a=this.stateSlot(e,r?2:1);;a+=3){if(65535==(s=i[a])){if(1!=i[a+1]){if(2==i[a+1])return oh(i,a+2);break}s=i[a=oh(i,a+2)]}if(s==t||0==s)return oh(i,a+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,(e=>e==t||null))}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let i=this.stateSlot(e,1);null==r;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=oh(this.data,i+2)}r=t(oh(this.data,i+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=oh(this.data,i+2)}if(0==(1&this.data[i+2])){let e=this.data[i+1];t.some(((t,i)=>1&i&&t==e))||t.push(this.data[i],e)}}return t}configure(e){let t=Object.assign(Object.create(ah.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let i=e.tokenizers.find((e=>e.from==t));return i?i.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((i,r)=>{let s=e.specializers.find((e=>e.from==i.external));if(!s)return i;let a=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=nh(a),a}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map((()=>!1));if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(i[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!i[e])for(let i,s=this.dialects[t[e]];65535!=(i=this.data[s++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[i]=1;return new rh(e,i,r)}static deserialize(e){return new ah(e)}}function oh(e,t){return e[t]|e[t+1]<<16}function nh(e){if(e.external){let t=e.extend?1:0;return(i,r)=>e.external(i,r)<<1|t}return e.get}var lh=i(35524);const ch=63;class dh{constructor(e,t,i){this.parent=e,this.depth=t,this.type=i,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+i}}function uh(e,t){for(let i=0,r=t-e.pos-1;;r--,i++){let t=e.peek(r);if(hh(t)||-1==t)return i}}function ph(e){return 32==e||9==e}function hh(e){return 10==e||13==e}function mh(e){return ph(e)||hh(e)}function gh(e){return e<0||mh(e)}dh.top=new dh(null,-1,0);const bh=new class{constructor(e){this.start=e.start,this.shift=e.shift||sh,this.reduce=e.reduce||sh,this.reuse=e.reuse||sh,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:dh.top,reduce(e,t){return 3!=e.type||20!=t&&34!=t?e:e.parent},shift(e,t,i,r){if(3==t)return new dh(e,uh(r,r.pos),1);if(65==t||5==t)return new dh(e,uh(r,r.pos),2);if(t==ch)return e.parent;if(19==t||33==t)return new dh(e,0,3);if(13==t&&4==e.type)return e.parent;if(47==t){let t=/[1-9]/.exec(r.read(r.pos,i.pos));if(t)return new dh(e,e.depth+ +t[0],4)}return e},hash(e){return e.hash}});function fh(e,t,i=0){return e.peek(i)==t&&e.peek(i+1)==t&&e.peek(i+2)==t&&gh(e.peek(i+3))}const vh=new $p(((e,t)=>{if(-1==e.next&&t.canShift(64))return e.acceptToken(64);let i=e.peek(-1);if((hh(i)||i<0)&&3!=t.context.type){if(fh(e,45)){if(!t.canShift(ch))return e.acceptToken(1,3);e.acceptToken(ch)}if(fh(e,46)){if(!t.canShift(ch))return e.acceptToken(2,3);e.acceptToken(ch)}let i=0;for(;32==e.next;)i++,e.advance();!(i<t.context.depth)&&(i!=t.context.depth||1!=t.context.type||45==e.next&&gh(e.peek(1)))||-1==e.next||hh(e.next)||35==e.next||e.acceptToken(ch,-i)}}),{contextual:!0}),yh=new $p(((e,t)=>{if(3!=t.context.type)if(45==e.next)e.advance(),gh(e.next)&&e.acceptToken(1==t.context.type&&t.context.depth==uh(e,e.pos-1)?4:3);else if(63==e.next)e.advance(),gh(e.next)&&e.acceptToken(2==t.context.type&&t.context.depth==uh(e,e.pos-1)?6:5);else{let i=e.pos;for(;;)if(ph(e.next)){if(e.pos==i)return;e.advance()}else if(33==e.next)wh(e);else{if(38!=e.next){if(42==e.next){Sh(e);break}if(39==e.next||34==e.next){if(xh(e,!0))break;return}if(91==e.next||123==e.next){if(!_h(e))return;break}Ph(e,!0,!1,0);break}Sh(e)}for(;ph(e.next);)e.advance();if(58==e.next){if(e.pos==i&&t.canShift(29))return;gh(e.peek(1))&&e.acceptTokenTo(2==t.context.type&&t.context.depth==uh(e,i)?66:65,i)}}else 63==e.next&&(e.advance(),gh(e.next)&&e.acceptToken(7))}),{contextual:!0});function Ch(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function kh(e,t){return 37==e.next?(e.advance(),Ch(e.next)&&e.advance(),Ch(e.next)&&e.advance(),!0):!!((i=e.next)>32&&i<127&&34!=i&&37!=i&&44!=i&&60!=i&&62!=i&&92!=i&&94!=i&&96!=i&&123!=i&&124!=i&&125!=i||t&&44==e.next)&&(e.advance(),!0);var i}function wh(e){if(e.advance(),60==e.next){for(e.advance();;)if(!kh(e,!0)){62==e.next&&e.advance();break}}else for(;kh(e,!1););}function Sh(e){for(e.advance();!gh(e.next)&&"f"!=Mh(e.tag);)e.advance()}function xh(e,t){let i=e.next,r=!1,s=e.pos;for(e.advance();;){let a=e.next;if(a<0)break;if(e.advance(),a==i){if(39!=a)break;if(39!=e.next)break;e.advance()}else if(92==a&&34==i)e.next>=0&&e.advance();else if(hh(a)){if(t)return!1;r=!0}else if(t&&e.pos>=s+1024)return!1}return!r}function _h(e){for(let t=[],i=e.pos+1024;;)if(91==e.next||123==e.next)t.push(e.next),e.advance();else if(39==e.next||34==e.next){if(!xh(e,!0))return!1}else if(93==e.next||125==e.next){if(t[t.length-1]!=e.next-2)return!1;if(t.pop(),e.advance(),!t.length)return!0}else{if(e.next<0||e.pos>i||hh(e.next))return!1;e.advance()}}const Eh="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function Mh(e){return e<33?"u":e>125?"s":Eh[e-33]}function Th(e,t){let i=Mh(e);return"u"!=i&&!(t&&"f"==i)}function Ph(e,t,i,r){if("s"!=Mh(e.next)&&(63!=e.next&&58!=e.next&&45!=e.next||!Th(e.peek(1),i)))return!1;e.advance();let s=e.pos;for(;;){let a=e.next,o=0,n=r+1;for(;mh(a);){if(hh(a)){if(t)return!1;n=0}else n++;a=e.peek(++o)}if(!(a>=0&&(58==a?Th(e.peek(o+1),i):35==a?32!=e.peek(o-1):Th(a,i)))||!i&&n<=r||0==n&&!i&&(fh(e,45,o)||fh(e,46,o)))break;if(t&&"f"==Mh(a))return!1;for(let t=o;t>=0;t--)e.advance();if(t&&e.pos>s+1024)return!1}return!0}const Ah=new $p(((e,t)=>{if(33==e.next)wh(e),e.acceptToken(12);else if(38==e.next||42==e.next){let t=38==e.next?10:11;Sh(e),e.acceptToken(t)}else 39==e.next||34==e.next?(xh(e,!1),e.acceptToken(9)):Ph(e,!1,3==t.context.type,t.context.depth)&&e.acceptToken(8)})),Dh=new $p(((e,t)=>{let i=4==t.context.type?t.context.depth:-1,r=e.pos;e:for(;;){let s=0,a=e.next;for(;32==a;)a=e.peek(++s);if(!s&&(fh(e,45,s)||fh(e,46,s)))break;if(!hh(a)&&(i<0&&(i=Math.max(t.context.depth+1,s)),s<i))break;for(;;){if(e.next<0)break e;let t=hh(e.next);if(e.advance(),t)continue e;r=e.pos}}e.acceptTokenTo(13,r)})),Ih=(0,lh.Gv)({DirectiveName:lh.pJ.keyword,DirectiveContent:lh.pJ.attributeValue,"DirectiveEnd DocEnd":lh.pJ.meta,QuotedLiteral:lh.pJ.string,BlockLiteralHeader:lh.pJ.special(lh.pJ.string),BlockLiteralContent:lh.pJ.content,Literal:lh.pJ.content,"Key/Literal Key/QuotedLiteral":lh.pJ.definition(lh.pJ.propertyName),"Anchor Alias":lh.pJ.labelName,Tag:lh.pJ.typeName,Comment:lh.pJ.lineComment,": , -":lh.pJ.separator,"?":lh.pJ.punctuation,"[ ]":lh.pJ.squareBracket,"{ }":lh.pJ.brace}),Nh=ah.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:"⚠ DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:bh,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[Ih],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[vh,yh,Ah,Dh,0,1],topRules:{Stream:[0,15]},tokenPrec:0});var Rh=i(59119);const Lh=Rh.qp.define({name:"yaml",parser:Nh.configure({props:[Rh.uj.add({Stream:e=>{for(let t=e.node.resolve(e.pos,-1);t&&t.to>=e.pos;t=t.parent){if("BlockLiteralContent"==t.name&&t.from<t.to)return e.baseIndentFor(t);if("BlockLiteral"==t.name)return e.baseIndentFor(t)+e.unit;if("BlockSequence"==t.name||"BlockMapping"==t.name)return e.column(t.from,1);if("QuotedLiteral"==t.name)return null;if("Literal"==t.name){let i=e.column(t.from,1);if(i==e.lineIndent(t.from,1))return i;if(t.to>e.pos)return null}}return null},FlowMapping:(0,Rh.vw)({closing:"}"}),FlowSequence:(0,Rh.vw)({closing:"]"})}),Rh.x0.add({"FlowMapping FlowSequence":Rh.Dv,"Item Pair BlockLiteral":(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});lh.pJ.meta;var Fh=i(45383),Oh=i(47421);function Bh(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var s=i[r];"string"==typeof s?e.setAttribute(r,s):null!=s&&(e[r]=s)}t++}for(;t<arguments.length;t++)zh(e,arguments[t]);return e}function zh(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var i=0;i<t.length;i++)zh(e,t[i])}}class Vh{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Gh{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=i.facet(em).markerFilter;r&&(e=r(e,i));let s=e.slice().sort(((e,t)=>e.from-t.from||e.to-t.to)),a=new xl.f_,o=[],n=0;for(let e=0;;){let t,r,l=e==s.length?null:s[e];if(!l&&!o.length)break;for(o.length?(t=n,r=o.reduce(((e,t)=>Math.min(e,t.to)),l&&l.from>t?l.from:1e8)):(t=l.from,r=l.to,o.push(l),e++);e<s.length;){let i=s[e];if(i.from!=t||!(i.to>i.from||i.to==t)){r=Math.min(i.from,r);break}o.push(i),e++,r=Math.min(i.to,r)}let c=um(o);if(o.some((e=>e.from==e.to||e.from==e.to-1&&i.doc.lineAt(e.from).to==e.from)))a.add(t,t,Oh.p.widget({widget:new sm(c),diagnostics:o.slice()}));else{let e=o.reduce(((e,t)=>t.markClass?e+" "+t.markClass:e),"");a.add(t,r,Oh.p.mark({class:"cm-lintRange cm-lintRange-"+c+e,diagnostics:o.slice(),inclusiveEnd:o.some((e=>e.to>r))}))}n=r;for(let e=0;e<o.length;e++)o[e].to<=n&&o.splice(e--,1)}let l=a.finish();return new Gh(l,t,Uh(l))}}function Uh(e,t=null,i=0){let r=null;return e.between(i,1e9,((e,i,{spec:s})=>{if(!(t&&s.diagnostics.indexOf(t)<0))if(r){if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new Vh(r.from,i,r.diagnostic)}else r=new Vh(e,i,t||s.diagnostics[0])})),r}function Hh(e,t){let i=t.pos,r=t.end||i,s=e.state.facet(em).hideOn(e,i,r);if(null!=s)return s;let a=e.startState.doc.lineAt(t.pos);return!(!e.effects.some((e=>e.is(jh)))&&!e.changes.touchesRange(a.from,Math.max(a.to,r)))}function Wh(e,t){return e.field(qh,!1)?t:t.concat(xl.Py.appendConfig.of(ym))}const jh=xl.Py.define(),Kh=xl.Py.define(),$h=xl.Py.define(),qh=xl.QQ.define({create(){return new Gh(Oh.p.none,null,null)},update(e,t){if(t.docChanged&&e.diagnostics.size){let i=e.diagnostics.map(t.changes),r=null,s=e.panel;if(e.selected){let s=t.changes.mapPos(e.selected.from,1);r=Uh(i,e.selected.diagnostic,s)||Uh(i,null,s)}!i.size&&s&&t.state.facet(em).autoPanel&&(s=null),e=new Gh(i,s,r)}for(let i of t.effects)if(i.is(jh)){let r=t.state.facet(em).autoPanel?i.value.length?om.open:null:e.panel;e=Gh.init(i.value,r,t.state)}else i.is(Kh)?e=new Gh(e.diagnostics,i.value?om.open:null,e.selected):i.is($h)&&(e=new Gh(e.diagnostics,e.panel,i.value));return e},provide:e=>[Oh.mH.from(e,(e=>e.panel)),Oh.tk.decorations.from(e,(e=>e.diagnostics))]}),Yh=Oh.p.mark({class:"cm-lintRange cm-lintRange-active"});function Xh(e,t,i){let r,{diagnostics:s}=e.state.field(qh),a=-1,o=-1;s.between(t-(i<0?1:0),t+(i>0?1:0),((e,s,{spec:n})=>{if(t>=e&&t<=s&&(e==s||(t>e||i>0)&&(t<s||i<0)))return r=n.diagnostics,a=e,o=s,!1}));let n=e.state.facet(em).tooltipFilter;return r&&n&&(r=n(r,e.state)),r?{pos:a,end:o,above:e.state.doc.lineAt(a).to<o,create(){return{dom:Qh(e,r)}}}:null}function Qh(e,t){return Bh("ul",{class:"cm-tooltip-lint"},t.map((t=>rm(e,t,!1))))}const Zh=e=>{let t=e.state.field(qh,!1);return!(!t||!t.panel||(e.dispatch({effects:Kh.of(!1)}),0))},Jh=Oh.lg.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(em);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){clearTimeout(this.timeout);let e=Date.now();if(e<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(em);t.length&&function(e,t,i){let r=[],s=-1;for(let a of e)a.then((i=>{r.push(i),clearTimeout(s),r.length==e.length?t(r):s=setTimeout((()=>t(r)),200)}),i)}(t.map((e=>Promise.resolve(e(this.view)))),(t=>{this.view.state.doc==e.doc&&this.view.dispatch(function(e,t){return{effects:Wh(e,[jh.of(t)])}}(this.view.state,t.reduce(((e,t)=>e.concat(t)))))}),(e=>{(0,Oh.OO)(this.view.state,e)}))}}update(e){let t=e.state.facet(em);(e.docChanged||t!=e.startState.facet(em)||t.needsRefresh&&t.needsRefresh(e))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),em=xl.r$.define({combine(e){return Object.assign({sources:e.map((e=>e.source)).filter((e=>null!=e))},(0,xl.BO)(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function tm(e,t={}){return[em.of({source:e,config:t}),Jh,ym]}function im(e){let t=[];if(e)e:for(let{name:i}of e){for(let e=0;e<i.length;e++){let r=i[e];if(/[a-zA-Z]/.test(r)&&!t.some((e=>e.toLowerCase()==r.toLowerCase()))){t.push(r);continue e}}t.push("")}return t}function rm(e,t,i){var r;let s=i?im(t.actions):[];return Bh("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Bh("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),null===(r=t.actions)||void 0===r?void 0:r.map(((i,r)=>{let a=!1,o=r=>{if(r.preventDefault(),a)return;a=!0;let s=Uh(e.state.field(qh).diagnostics,t);s&&i.apply(e,s.from,s.to)},{name:n}=i,l=s[r]?n.indexOf(s[r]):-1,c=l<0?n:[n.slice(0,l),Bh("u",n.slice(l,l+1)),n.slice(l+1)];return Bh("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${n}${l<0?"":` (access key "${s[r]})"`}.`},c)})),t.source&&Bh("div",{class:"cm-diagnosticSource"},t.source))}class sm extends Oh.l9{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Bh("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class am{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=rm(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class om{constructor(e){this.view=e,this.items=[],this.list=Bh("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)Zh(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:i}=this.items[this.selectedIndex],r=im(i.actions);for(let s=0;s<r.length;s++)if(r[s].toUpperCase().charCodeAt(0)==t.keyCode){let t=Uh(this.view.state.field(qh).diagnostics,i);t&&i.actions[s].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=Bh("div",{class:"cm-panel-lint"},this.list,Bh("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Zh(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(qh).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(qh),i=0,r=!1,s=null,a=new Set;for(e.between(0,this.view.state.doc.length,((e,o,{spec:n})=>{for(let e of n.diagnostics){if(a.has(e))continue;a.add(e);let o,n=-1;for(let t=i;t<this.items.length;t++)if(this.items[t].diagnostic==e){n=t;break}n<0?(o=new am(this.view,e),this.items.splice(i,0,o),r=!0):(o=this.items[n],n>i&&(this.items.splice(i,n-i),r=!0)),t&&o.diagnostic==t.diagnostic?o.dom.hasAttribute("aria-selected")||(o.dom.setAttribute("aria-selected","true"),s=o):o.dom.hasAttribute("aria-selected")&&o.dom.removeAttribute("aria-selected"),i++}}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new am(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{let i=t.height/this.list.offsetHeight;e.top<t.top?this.list.scrollTop-=(t.top-e.top)/i:e.bottom>t.bottom&&(this.list.scrollTop+=(e.bottom-t.bottom)/i)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=Uh(this.view.state.field(qh).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:$h.of(t)})}static open(e){return new om(e)}}function nm(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function lm(e){return nm(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const cm=Oh.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:lm("#d11")},".cm-lintRange-warning":{backgroundImage:lm("orange")},".cm-lintRange-info":{backgroundImage:lm("#999")},".cm-lintRange-hint":{backgroundImage:lm("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function dm(e){return"error"==e?4:"warning"==e?3:"info"==e?2:1}function um(e){let t="hint",i=1;for(let r of e){let e=dm(r.severity);e>i&&(i=e,t=r.severity)}return t}class pm extends Oh.SJ{constructor(e){super(),this.diagnostics=e,this.severity=um(e)}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,r=e.state.facet(Cm).tooltipFilter;return r&&(i=r(i,e.state)),i.length&&(t.onmouseover=()=>function(e,t,i){function r(){let r=e.elementAtHeight(t.getBoundingClientRect().top+5-e.documentTop);e.coordsAtPos(r.from)&&e.dispatch({effects:bm.of({pos:r.from,above:!1,clip:!1,create(){return{dom:Qh(e,i),getCoords:()=>t.getBoundingClientRect()}}})}),t.onmouseout=t.onmousemove=null,function(e,t){let i=r=>{let s=t.getBoundingClientRect();if(!(r.clientX>s.left-10&&r.clientX<s.right+10&&r.clientY>s.top-10&&r.clientY<s.bottom+10)){for(let e=r.target;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",i),e.state.field(fm)&&e.dispatch({effects:bm.of(null)})}};window.addEventListener("mousemove",i)}(e,t)}let{hoverTime:s}=e.state.facet(Cm),a=setTimeout(r,s);t.onmouseout=()=>{clearTimeout(a),t.onmouseout=t.onmousemove=null},t.onmousemove=()=>{clearTimeout(a),a=setTimeout(r,s)}}(e,t,i)),t}}function hm(e,t){let i=Object.create(null);for(let r of t){let t=e.lineAt(r.from);(i[t.from]||(i[t.from]=[])).push(r)}let r=[];for(let e in i)r.push(new pm(i[e]).range(+e));return xl.Xs.of(r,!0)}const mm=(0,Oh.v5)({class:"cm-gutter-lint",markers:e=>e.state.field(gm),widgetMarker:(e,t,i)=>{let r=[];return e.state.field(gm).between(i.from,i.to,((e,t,s)=>{e>i.from&&e<i.to&&r.push(...s.diagnostics)})),r.length?new pm(r):null}}),gm=xl.QQ.define({create(){return xl.Xs.empty},update(e,t){e=e.map(t.changes);let i=t.state.facet(Cm).markerFilter;for(let r of t.effects)if(r.is(jh)){let s=r.value;i&&(s=i(s||[],t.state)),e=hm(t.state.doc,s.slice(0))}return e}}),bm=xl.Py.define(),fm=xl.QQ.define({create(){return null},update(e,t){return e&&t.docChanged&&(e=Hh(t,e)?null:Object.assign(Object.assign({},e),{pos:t.changes.mapPos(e.pos)})),t.effects.reduce(((e,t)=>t.is(bm)?t.value:e),e)},provide:e=>Oh.hJ.from(e)}),vm=Oh.tk.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:nm('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:nm('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:nm('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),ym=[qh,Oh.tk.decorations.compute([qh],(e=>{let{selected:t,panel:i}=e.field(qh);return t&&i&&t.from!=t.to?Oh.p.set([Yh.range(t.from,t.to)]):Oh.p.none})),(0,Oh.bF)(Xh,{hideOn:Hh}),cm],Cm=xl.r$.define({combine(e){return(0,xl.BO)(e,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function km(e={}){return[Cm.of(e),gm,mm,vm,fm]}function wm(e){const t=[];try{fl.zD(e.state.doc.toString())}catch(e){t.push({from:e.mark.position-1,to:e.mark.position-1,message:e.message,severity:"error"})}return t}const Sm=({value:e,onChange:t})=>{const i=(0,o.useRef)(null),r=(0,o.useRef)();return(0,o.useEffect)((()=>{if(!i.current)return;const e=Sp.updateListener.of((e=>{if(e.docChanged){const i=e.state.doc.toString();t(i)}})),s=new Sp({state:xl.yy.create({doc:r.current?.state.doc.toString()??"",extensions:[(0,Fh.m8)(),(0,Rh.nF)(Rh.R_,{fallback:!0}),Dp.of([Fh.oc,...Fh.wQ,...Fh.f$]),new Rh.ri(Lh),Sp.lineWrapping,tm(wm,{markerFilter:()=>[]}),km(),e]}),parent:i.current});return r.current=s,()=>s.destroy()}),[t]),(0,o.useEffect)((()=>{const t=r.current;if(!t)return;const i=t.state.doc.toString();i!==e&&t.dispatch({changes:{from:0,to:i.length,insert:e||""}})}),[e]),o.createElement("div",{className:"gd-advanced-customization-dialog__theme",ref:i})},xm=[{align:"br bl",offset:{x:10,y:0}}],_m=({value:e,onSubmit:t,onCancel:i})=>{const r=hr(),[s,a]=o.useState(e),n=e=>{if(""!==s&&void 0!==s)try{const t=fl.zD(s),i=vt(t,e.value);a(fl.$w(i))}catch(e){console.error("Merging of snippet with current value failed. Current value has a lint error.",e)}else a(fl.$w(e.value))};return o.createElement(Ya.Overlay,{closeOnParentScroll:!0,closeOnMouseDrag:!0,closeOnOutsideClick:!0,alignTo:".gd-advanced-section",alignPoints:xm,onClose:i},o.createElement("div",{className:"gd-dropdown overlay"},o.createElement("div",{className:"gd-advanced-customization-dialog"},o.createElement("div",{className:"gd-advanced-customization-dialog__header"},o.createElement("span",null,r.formatMessage(kr.chartConfigOverrideTitle)),o.createElement("button",{className:"gd-button-link gd-button-icon-only gd-icon-cross",onClick:i})),o.createElement("div",{className:"gd-advanced-customization-dialog__content"},o.createElement("div",{className:"gd-advanced-customization-dialog__main"},o.createElement(Sm,{value:s,onChange:a})),o.createElement("div",{className:"gd-advanced-customization-dialog__snippets"},o.createElement("div",{className:"gd-advanced-customization-dialog__snippets--header"},o.createElement("div",null,r.formatMessage(kr.snippetsHeader)),o.createElement("div",{className:"gd-advanced-customization-dialog__snippets--header__line"})),vl.map((e=>"header"===e.type?o.createElement(wl,{key:e.id,snippet:e}):o.createElement(Sl,{key:e.id,snippet:e,onClick:n}))))),o.createElement("div",{className:"gd-advanced-customization-dialog__footer"},o.createElement(Ya.Hyperlink,{iconClass:"gd-icon-circle-question",href:"https://www.gooddata.com/docs/cloud/",text:r.formatMessage(kr.chartConfigOverrideLink),className:"gd-chart-override-link"}),o.createElement("div",null,o.createElement(Ya.Button,{className:"gd-button-secondary gd-button-small",onClick:i,value:r.formatMessage({id:"properties.advanced.chartConfigOverride.button.cancel"})}),o.createElement(Ya.Button,{className:"gd-button-action gd-button-small",onClick:()=>t(""===s?void 0:s),value:r.formatMessage({id:"properties.advanced.chartConfigOverride.button.apply"})}))))))};var Em=pr(o.memo((({properties:e,propertiesMeta:t,pushData:i,intl:r,controlsDisabled:s})=>{const[a,c]=o.useState(!1),d=(0,o.useRef)(null),u=(0,o.useRef)(null),p=((e,t)=>{const[i,r]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{const i=()=>{e&&t&&r(t.scrollHeight>e.clientHeight)};i();const s=new MutationObserver(i);return t&&s.observe(t,{childList:!0,subtree:!0,characterData:!0}),()=>s.disconnect()}),[e,t]),i})(d.current,u.current),h=e?.controls?.chartConfigOverride;return o.createElement(o.Fragment,null,a?o.createElement(_m,{value:h,onSubmit:t=>{const r=n(e);l(r,"controls.chartConfigOverride",t),i({properties:r}),c(!1)},onCancel:()=>c(!1)}):null,o.createElement(eo,{id:"advanced_section",className:"gd-advanced-section",title:kr.advancedSection.id,propertiesMeta:t,pushData:i,intl:r},void 0===h?o.createElement("div",{className:"gd-chart-override-no-value"},r.formatMessage(kr.chartConfigOverrideNoValueLabel)):o.createElement("div",{ref:d,className:Xa("gd-chart-override-value-preview",{"fade-out":p})},o.createElement("pre",{ref:u,className:"gd-chart-override-value"},h)),o.createElement(Ya.Button,{iconLeft:"gd-icon-code",className:"gd-button gd-button-small gd-button-secondary",onClick:()=>c(!a),disabled:s},r.formatMessage(kr.chartConfigOverrideEditorButton))))})));class Mm extends o.PureComponent{static defaultProps={properties:null,references:null,referencePoint:null,propertiesMeta:null,colors:null,locale:a.DefaultLocale,isError:!1,isLoading:!1,insight:null,pushData:Qa,featureFlags:{},axis:null,panelConfig:{}};supportedPropertiesList;constructor(e){super(e),this.isControlDisabled=this.isControlDisabled.bind(this)}render(){return o.createElement("div",{key:`config-${this.props.type}`},o.createElement(il,{locale:this.props.locale},this.renderConfigurationPanel()))}isControlDisabled(e){const{insight:t,isError:i,isLoading:r}=this.props;return!t||!(0,s.insightHasMeasures)(t)||i||r}renderColorSection(){const{properties:e,propertiesMeta:t,pushData:i,colors:r,featureFlags:s,references:a,insight:n,isLoading:l}=this.props,c=this.isControlDisabled(),d=Xr(n).length>0;return o.createElement(bn,{properties:e,propertiesMeta:t,references:a,colors:r,controlsDisabled:c,pushData:i,hasMeasures:d,showCustomPicker:s.enableCustomColorPicker,isLoading:l})}renderLegendSection(){const{properties:e,propertiesMeta:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(Cn,{properties:e,propertiesMeta:t,controlsDisabled:r,pushData:i})}renderInteractionsSection(){const{pushData:e,properties:t,propertiesMeta:i,panelConfig:r,configurationPanelRenderers:s,featureFlags:a,insight:n}=this.props,l=a.enableAlerting,c=a.enableScheduling,d=ml(n),u=hl(n)&&l,p=d&&c;return u||r.supportsAttributeHierarchies?o.createElement(al,{areControlsDisabledGetter:this.isControlDisabled,properties:t,propertiesMeta:i,pushData:e,supportsAlertConfiguration:u,supportsDrillDownConfiguration:r.supportsAttributeHierarchies,supportsScheduledExportsConfiguration:p,InteractionsDetailRenderer:s?.InteractionsDetailRenderer}):null}renderForecastSection(){const{pushData:e,properties:t,propertiesMeta:i,type:r,featureFlags:s,referencePoint:a,insight:n}=this.props;if(!s.enableSmartFunctions)return null;const{enabled:l,visible:c}=dl(a,n,r);return c?o.createElement(cl,{controlsDisabled:this.isControlDisabled(),properties:t,propertiesMeta:i,enabled:l,pushData:e}):null}renderAdvancedSection(){const{pushData:e,properties:t,propertiesMeta:i,featureFlags:r}=this.props;return r.enableVisualizationFineTuning?o.createElement(Em,{controlsDisabled:this.isControlDisabled(),properties:t,propertiesMeta:i,pushData:e}):null}}class Tm extends o.PureComponent{render(){const{axisVisible:e,axisLabelsEnabled:t,axisRotation:i}=this.getControlProperties(),r=this.props.disabled||!e||!t;return o.createElement(lo,{value:i,valuePath:`${this.props.axis}.rotation`,labelText:kr.axisRotation.id,disabled:r,showDisabledMessage:!this.props.configPanelDisabled&&r,properties:this.props.properties,pushData:this.props.pushData,items:Ct(po,this.props.intl)})}getControlProperties(){const e=this.props.properties?.controls?.[this.props.axis];return{axisVisible:e?.visible??!0,axisLabelsEnabled:e?.labelsEnabled??!0,axisRotation:e?.rotation??"auto"}}}var Pm=pr(Tm);const Am=pr((e=>{const{disabled:t,properties:i,axis:r,configPanelDisabled:s,pushData:a,intl:n}=e,{axisVisible:l,axisLabelsEnabled:c,axisFormat:d}=((e,t)=>{const i=e?.controls?.[t];return{axisVisible:i?.visible??!0,axisLabelsEnabled:i?.labelsEnabled??!0,axisFormat:i?.format??"auto"}})(i,r),u=t||!l||!c;return o.createElement(lo,{value:d,valuePath:`${r}.format`,labelText:kr.axisFormat.id,disabled:u,showDisabledMessage:!s&&u,properties:i,pushData:a,items:Ct(ho,n)})}));class Dm extends o.PureComponent{render(){const{axisVisible:e,axisLabelsEnabled:t}=this.getControlProperties();return o.createElement(Fo,{axisType:this.props.axis,title:kr.axisLabels.id,valuePath:`${this.props.axis}.labelsEnabled`,properties:this.props.properties,pushData:this.props.pushData,canBeToggled:!0,toggledOn:t,toggleDisabled:this.props.disabled||!e,showDisabledMessage:!this.props.configPanelDisabled&&this.props.disabled},this.props.showFormat?o.createElement(Am,{disabled:this.props.disabled,configPanelDisabled:this.props.configPanelDisabled,axis:this.props.axis,properties:this.props.properties,pushData:this.props.pushData}):null,o.createElement(Pm,{disabled:this.props.disabled,configPanelDisabled:this.props.configPanelDisabled,axis:this.props.axis,properties:this.props.properties,pushData:this.props.pushData}))}getControlProperties(){const e=this.props.properties?.controls?.[this.props.axis];return{axisVisible:e?.visible??!0,axisLabelsEnabled:e?.labelsEnabled??!0}}}var Im=pr(Dm);function Nm(e,t,i){const r=(0,N.isBarChart)(e)||(0,N.isBulletChart)(e),{viewByItemCount:o,measureItemCount:n,secondaryMeasureItemCount:l}=function(e){if(!e)return{viewByItemCount:0,measureItemCount:0,secondaryMeasureItemCount:0};const t=(0,s.insightBucket)(e,a.BucketNames.VIEW),i=(0,s.insightBucket)(e,a.BucketNames.MEASURES),r=(0,s.insightBucket)(e,a.BucketNames.SECONDARY_MEASURES);return{viewByItemCount:t?(0,s.bucketItems)(t).length:0,measureItemCount:i?(0,s.bucketItems)(i).length:0,secondaryMeasureItemCount:r?(0,s.bucketItems)(r).length:0}}(i),c=n+l,d=(r?t?.secondary_xaxis?.measures??[]:t?.secondary_yaxis?.measures??[]).length;return r?{yaxis:o,xaxis:c-d,secondary_xaxis:d}:(0,N.isScatterPlot)(e)||(0,N.isBubbleChart)(e)?{xaxis:n,yaxis:l}:{xaxis:o,yaxis:c-d,secondary_yaxis:d}}class Rm extends o.PureComponent{render(){const{axisVisible:e,axisNameVisible:t,namePosition:i}=this.getControlProperties(),{axis:r,properties:s,pushData:a,disabled:n,configPanelDisabled:l,intl:c}=this.props,d=n||!e||!t,u=Ct(this.isXAxis()?So:xo,c);return o.createElement(lo,{value:i,valuePath:`${r}.name.position`,labelText:kr.axisNamePosition.id,disabled:d,showDisabledMessage:!l&&d,properties:s,pushData:a,items:u})}isXAxis(){const{axis:e}=this.props;return"xaxis"===e||"secondary_xaxis"===e}getControlProperties(){const e=this.props.properties?.controls?.[this.props.axis];return{axisVisible:e?.visible??!0,axisNameVisible:e?.name?.visible??!0,namePosition:e?.name?.position??"auto"}}}var Lm=pr(Rm);class Fm extends o.PureComponent{render(){const{axisVisible:e,axisNameVisible:t}=this.getControlProperties(),{axis:i,properties:r,pushData:s,disabled:a,configPanelDisabled:n}=this.props;return o.createElement(Fo,{axisType:i,title:kr.axisName.id,valuePath:`${i}.name.visible`,properties:r,pushData:s,canBeToggled:!0,toggledOn:t,toggleDisabled:a||!e,showDisabledMessage:!n&&a},o.createElement(Lm,{disabled:a,configPanelDisabled:n,axis:i,properties:r,pushData:s}))}getControlProperties(){const e=this.props.properties?.controls?.[this.props.axis];return{axisVisible:e?.visible??!0,axisNameVisible:e?.name?.visible??!0}}}var Om=pr(Fm);class Bm extends Mm{renderCanvasSection(){const{gridEnabled:e}=this.getControlProperties(),{properties:t,propertiesMeta:i,pushData:r,featureFlags:n,insight:l}=this.props,d=this.isControlDisabled(),{buckets:u}=l.insight,p=(0,s.bucketsById)(u,a.BucketNames.STACK),h=c(p);return o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:i,properties:t,pushData:r},o.createElement(Ao,{pushData:r,properties:t,isDisabled:d,isTotalsDisabled:d||!!t?.controls?.stackMeasuresToPercent||h&&!t?.controls?.stackMeasures,enableSeparateTotalLabels:!!n.enableSeparateTotalLabels}),o.createElement(ro,{valuePath:"grid.enabled",labelText:kr.canvasGridLine.id,properties:t,checked:e,disabled:d,pushData:r}))}renderConfigurationPanel(){const{axes:e}=this.getControlProperties();return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.getBaseChartAxisSection(e),this.renderLegendSection(),this.renderInteractionsSection(),this.renderCanvasSection(),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getAxesConfiguration(e){return D[e]}getControlProperties(){const e=this.props,t=e.properties?.controls?.grid?.enabled??!0,i=rt(x,e.type)?e.axis??C:C;return{gridEnabled:t,axes:this.getAxesConfiguration(i).map((t=>({...t,visible:e.properties?.controls?.[t.name]?.visible??!0})))}}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}isViewedBy(){const{insight:e}=this.props;return!(0,s.bucketsIsEmpty)((0,s.insightBuckets)(e,a.BucketNames.VIEW,a.BucketNames.TREND))}getBaseChartAxisSection(e){const{featureFlags:t,type:i,properties:r,propertiesMeta:s,pushData:a,insight:n}=this.props,l=r?.controls,c=this.isControlDisabled(),d=this.isViewedBy(),u=Nm(i,l,n),p=t.enableAxisNameConfiguration,h=t.enableAxisLabelFormat,m=t.enableAxisNameViewByTwoAttributes;return e.map((e=>{const t=c||!e.primary&&!d,i=(e.primary||!m)&&u[e.name]>1,{name:n,title:l,subtitle:g,visible:b}=e,f=e.primary&&h;return o.createElement(to,{key:n,id:`${n}_section`,title:l,subtitle:g,valuePath:`${n}.visible`,canBeToggled:!0,toggledOn:b,toggleDisabled:c,propertiesMeta:s,properties:r,pushData:a},p?o.createElement(Om,{disabled:t||i,configPanelDisabled:c,axis:e.name,properties:r,pushData:a}):null,o.createElement(Im,{disabled:t,configPanelDisabled:c,axis:e.name,properties:r,pushData:a,showFormat:f}),e.primary?this.renderMinMax(e.name):null)}))}renderMinMax(e){const{pushData:t,properties:i,propertiesMeta:r}=this.props;return o.createElement($o,{isDisabled:this.isControlDisabled(),basePath:e,pushData:t,properties:i,propertiesMeta:r})}}class zm extends Bm{renderConfigurationPanel(){const{gridEnabled:e,axes:t}=this.getControlProperties(),{featureFlags:i,properties:r,propertiesMeta:s,pushData:a,panelConfig:n,dataLabelDefaultValue:l=!1}=this.props,{isDataPointsControlDisabled:c,isContinuousLineControlDisabled:d}=n,u=this.isControlDisabled(),p=r?.controls?.continuousLine?.enabled,h=u||d;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.getBaseChartAxisSection(t),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",className:"gd-canvas-section",title:kr.canvasTitle.id,propertiesMeta:s,properties:r,pushData:a},o.createElement(Ao,{pushData:a,properties:r,isDisabled:u,defaultValue:l}),i.enableHidingOfDataPoints?o.createElement(Io,{pushData:a,properties:r,isDisabled:u||c,showDisabledMessage:c}):null,o.createElement(ro,{valuePath:"grid.enabled",labelText:kr.canvasGridLine.id,properties:r,checked:e,disabled:u,pushData:a}),o.createElement(ao,{properties:r,checked:!h&&p,disabled:h,pushData:a})),this.renderForecastSection(),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}}var Vm=i(96502);const Gm="columns",Um="rows";function Hm(e,t){const i=(0,s.insightBucket)(e,t);return i?(0,s.bucketAttributes)(i):[]}function Wm(e,t,i){switch(t){case a.VisualizationTypes.TABLE:return function(e,t){const i=(0,s.insightBuckets)(e),r=function(e,t){return t?.measureGroupDimension?t?.measureGroupDimension===Um:(Pa((0,s.insightProperties)(e))??Gm)===Um}(e,t);return(0,Vm.getPivotTableDimensions)(i,r)}(e,i);case a.VisualizationTypes.PIE:case a.VisualizationTypes.DONUT:case a.VisualizationTypes.FUNNEL:case a.VisualizationTypes.WATERFALL:case a.VisualizationTypes.PYRAMID:return function(e){const t=Hm(e,a.BucketNames.VIEW);return t.length?(0,s.newTwoDimensional)([s.MeasureGroupIdentifier],t):(0,s.newTwoDimensional)([],[s.MeasureGroupIdentifier])}(e);case a.VisualizationTypes.TREEMAP:return function(e){const t=(0,s.insightAttributes)(e);return 1===t.length?(0,s.newTwoDimensional)([s.MeasureGroupIdentifier],t):(0,s.newTwoDimensional)(t,[s.MeasureGroupIdentifier])}(e);case a.VisualizationTypes.LINE:return function(e){const t=Hm(e,a.BucketNames.TREND),i=Hm(e,a.BucketNames.SEGMENT);return i.length?(0,s.newTwoDimensional)(i,[...t,s.MeasureGroupIdentifier]):(0,s.newTwoDimensional)([s.MeasureGroupIdentifier],t)}(e);case a.VisualizationTypes.AREA:return function(e){const t=Hm(e,a.BucketNames.VIEW),i=Hm(e,a.BucketNames.STACK),r=t[0],o=i[0]??t[1];return o?(0,s.newTwoDimensional)([o],ct([r,s.MeasureGroupIdentifier])):(0,s.newTwoDimensional)([s.MeasureGroupIdentifier],ct([r]))}(e);case a.VisualizationTypes.BAR:case a.VisualizationTypes.COLUMN:return function(e){const t=Hm(e,a.BucketNames.VIEW),i=Hm(e,a.BucketNames.STACK);return i.length?(0,s.newTwoDimensional)(i,[...t,s.MeasureGroupIdentifier]):(0,s.newTwoDimensional)([s.MeasureGroupIdentifier],t)}(e);case a.VisualizationTypes.BULLET:case a.VisualizationTypes.COMBO:case a.VisualizationTypes.COMBO2:return function(e){const t=Hm(e,a.BucketNames.VIEW);return(0,s.newTwoDimensional)([s.MeasureGroupIdentifier],t)}(e);case a.VisualizationTypes.HEADLINE:return[(0,s.newDimension)([s.MeasureGroupIdentifier])];case a.VisualizationTypes.SCATTER:return function(e){const t=Hm(e,a.BucketNames.ATTRIBUTE),i=Hm(e,a.BucketNames.SEGMENT);return(0,s.newTwoDimensional)([...t,...i],[s.MeasureGroupIdentifier])}(e);case a.VisualizationTypes.HEATMAP:return function(e){const t=Hm(e,a.BucketNames.VIEW),i=Hm(e,a.BucketNames.STACK);return(0,s.newTwoDimensional)(t,[...i,s.MeasureGroupIdentifier])}(e);case a.VisualizationTypes.BUBBLE:return function(e){const t=Hm(e,a.BucketNames.VIEW);return(0,s.newTwoDimensional)(t,[s.MeasureGroupIdentifier])}(e);case a.VisualizationTypes.SANKEY:case a.VisualizationTypes.DEPENDENCY_WHEEL:return function(e){const t=Hm(e,a.BucketNames.ATTRIBUTE_FROM),i=Hm(e,a.BucketNames.ATTRIBUTE_TO);return(0,s.newTwoDimensional)([s.MeasureGroupIdentifier],ct([...t,...i]))}(e)}return[]}const jm=[a.VisualizationTypes.COLUMN,a.VisualizationTypes.BAR,a.VisualizationTypes.LINE,a.VisualizationTypes.PIE];class Km{intl;locale;callbacks;currentInsight;currentOptions;visualizationProperties;supportedPropertiesList;propertiesMeta;propertiesAffectingReferencePoint;element;configPanelElement;hasError;hasEmptyAfm;isLoading;getIsError=()=>this.hasEmptyAfm||this.hasError;constructor(e){this.callbacks=e.callbacks,this.locale=e.locale??a.DefaultLocale,this.intl=function(e=a.DefaultLocale){const t=tl.get(el);if(t?.locale===e)return Yn(t);const i=window.gdSettings,r=(0,a.resolveLocaleDefaultMessages)(e,wt);return tl.set(el,{locale:e,messages:(0,a.pickCorrectWording)(r,i)}),Yn(tl.get(el))}(this.locale),this.element=e.element,this.configPanelElement=e.configPanelElement,this.propertiesAffectingReferencePoint=[]}getElement(){return"function"==typeof this.element?this.element():document.querySelector(this.element)}getConfigPanelElement(){return"function"==typeof this.configPanelElement?this.configPanelElement():document.querySelector(this.configPanelElement)}update(e,t,i,r){let o;this.updateInstanceProperties(e,t,i),this.hasEmptyAfm=!(0,s.insightHasDataDefined)(t);try{o=this.checkBeforeRender(t)}catch(e){const t=(0,a.isGoodDataSdkError)(e)?e:new a.UnexpectedSdkError(void 0,e);return void this.onError(t)}o&&this.renderVisualization(e,t,r),this.renderConfigurationPanel(t,e)}updateInstanceProperties(e,t,i){this.visualizationProperties=ya((0,s.insightProperties)(t),this.supportedPropertiesList),this.propertiesMeta=i??null,this.currentInsight=t,this.currentOptions=e}checkBeforeRender(e){if(!(0,s.insightHasDataDefined)(e))throw new gt;return!0}onError=e=>{this.callbacks.onError?.(e),bt(e)||(0,a.isForecastNotReceived)(e)||(0,a.isClusteringNotReceived)(e)||(this.hasError=!0),this.renderConfigurationPanel(this.currentInsight,this.currentOptions)};onLoadingChanged=e=>{this.callbacks.onLoadingChanged?.(e),this.hasError=!1,this.isLoading=e.isLoading,this.renderConfigurationPanel(this.currentInsight,this.currentOptions)};onExportReady=e=>{this.callbacks.onExportReady?.(e)};pushData=(e,t)=>{this.callbacks.pushData?.(e,t)};afterRender=()=>{this.callbacks.afterRender?.()};onDrill=e=>!this.callbacks.onDrill||this.callbacks.onDrill(e);onDataView=e=>{this.callbacks.onDataView?.(e)};addNewDerivedBucketItems(e,t){if(!e.buckets)return Promise.resolve(e);const i=n(e);return i.buckets=e.buckets.map((i=>({...i,items:this.mergeDerivedBucketItems(e,i,t)}))),Promise.resolve(i)}mergeDerivedBucketItems(e,t,i){return t.items.reduce(((t,r)=>{const s=ms(r,i);return s&&!Ar(r)&&!gs(r,e.buckets)&&t.push(s),t.push(r),t}),[])}getInsightWithDrillDownApplied(e,t,i){return e}getSortConfig(e){return Promise.resolve({defaultSort:[],availableSorts:[],supported:!1,disabled:!1})}haveSomePropertiesRelevantForReferencePointChanged(e,t){return this.propertiesAffectingReferencePoint.some((i=>e?.properties?.controls?.[i]!==t?.properties?.controls?.[i]))}getBucketsToUpdate(e,t){}}var $m,qm=i(13217);function Ym(e){return e.origin.localIdentifier}function Xm(e,t){return(0,s.attributeLocalId)(t)===Ym(e)}function Qm(e,t){const i=(0,s.insightReduceItems)(e,((e,i)=>(0,s.isAttribute)(i)&&Xm(t,i)?[i]:[...e,i])),r=(0,s.insightModifyItems)(i,(e=>{if((0,s.isAttribute)(e)&&Xm(t,e)){const i=function(e){return e.target}(t);return(0,s.modifyAttribute)(e,(e=>e.displayForm(i).noAlias()))}return e})),a=(0,s.insightReduceItems)(r,((e,t)=>(0,s.isAttribute)(t)&&e.filter(s.isAttribute).find((e=>(0,s.areObjRefsEqual)(t.attribute.displayForm,e.attribute.displayForm)))?e:[...e,t]));return function(e){const t=(0,s.insightAttributes)(e);return(0,s.insightSetFilters)(e,(0,s.insightFilters)(e).filter((e=>!(0,s.isRankingFilter)(e)||(e.rankingFilter.attributes?.some((e=>(0,s.isLocalIdRef)(e)&&t.some((t=>(0,s.attributeLocalId)(t)===e.localIdentifier))||(0,s.isIdentifierRef)(e)&&t.some((t=>(0,s.attributeIdentifier)(t)===e.identifier))||(0,s.isUriRef)(e)&&t.some((t=>(0,s.attributeUri)(t)===e.uri))))??!0))))}((0,s.insightSetSorts)(a,(0,s.insightSorts)(a)))}function Zm(e){return function(e){const t=(0,s.insightProperties)(e);if(!t)return e;const i=(0,s.insightItems)(e).map((e=>(0,s.bucketItemLocalId)(e))),r=Object.entries(t).reduce(((e,[t,r])=>{if(t===$m.CONTROLS&&r.columnWidths){const s=r.columnWidths.filter((e=>!(0,Vm.isAttributeColumnWidthItem)(e)||i.includes(e.attributeColumnWidthItem.attributeIdentifier)));e[t]={columnWidths:s}}return e}),{...t});return(0,s.insightSetProperties)(e,r)}(e)}function Jm(e,t){if(!t||0===t.length)return t;const i=Ym(e),r=t.slice().reverse();return(0,a.getIntersectionPartAfter)(r,i)}function eg(e,t,i,r){const o=function(e,t=!0,i=!0){return e.map((e=>e.header)).filter(a.isDrillIntersectionAttributeItem).map((e=>{const r=i?e.attributeHeader.primaryLabel:e.attributeHeader.ref;return t?(0,s.newPositiveAttributeFilter)(r,{uris:[e.attributeHeaderItem.uri]}):(0,s.newPositiveAttributeFilter)(r,{values:[i?e.attributeHeaderItem.uri:e.attributeHeaderItem.name]})}))}(t,i,r),n=[...e.insight.filters,...o];return(0,s.insightSetFilters)(e,n)}!function(e){e.CONTROLS="controls"}($m||($m={}));class tg extends Km{projectId;type;featureFlags;defaultControlsProperties;customControlsProperties;colors;references;referencePoint;ignoreUndoRedo;axis;secondaryAxis;environment;renderFun;unmountFun;backendCapabilities;constructor(e){super(e),this.projectId=e.projectId,this.environment=e.environment,this.type=a.VisualizationTypes.COLUMN,this.featureFlags=e.featureFlags?e.featureFlags:{},this.ignoreUndoRedo=!1,this.defaultControlsProperties={},this.backendCapabilities=e.backend.capabilities,this.setCustomControlsProperties({}),this.renderFun=e.renderFun,this.unmountFun=e.unmountFun,this.supportedPropertiesList=this.getSupportedPropertiesList()}unmount(){this.unmountFun([this.getElement(),this.getConfigPanelElement()].filter(Boolean))}getUiConfig(){return n(De)}getExtendedReferencePoint(e){let t={...n(e),uiConfig:this.getUiConfig()};return this.configureBuckets(t),t=la(t,!1),t=na(t,!!this.featureFlags.enableWeekFilters),t=Ga(t,this.type,!!this.featureFlags.enableWeekFilters),t=Ca(t,this.supportedPropertiesList),t=function(e,t,i){const r=n(e),s=r?.buckets??[],o=zs(s)||Zs(s),c=!Ws(s,a.BucketNames.MEASURES);l(r,[be],zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"canAddItems"],o),l(r,[be,g,a.BucketNames.VIEW,"canAddItems"],!0),l(r,[be,g,a.BucketNames.STACK,"canAddItems"],c),l(r,[be,ve,ye],!fa(r.properties));const d={column:{[a.BucketNames.MEASURES]:"local:column/bucket-title-measures.svg",[a.BucketNames.VIEW]:"local:column/bucket-title-view.svg",[a.BucketNames.STACK]:"local:column/bucket-title-stack.svg"},bar:{[a.BucketNames.MEASURES]:"local:bar/bucket-title-measures.svg",[a.BucketNames.VIEW]:"local:bar/bucket-title-view.svg",[a.BucketNames.STACK]:"local:bar/bucket-title-stack.svg"}};return l(r,[be,g,a.BucketNames.MEASURES,"icon"],d[i]?.[a.BucketNames.MEASURES]),l(r,[be,g,a.BucketNames.VIEW,"icon"],d[i]?.[a.BucketNames.VIEW]),l(r,[be,g,a.BucketNames.STACK,"icon"],d[i]?.[a.BucketNames.STACK]),l(r,be,function(e,t){const i=e?.buckets??[],r=n(e?.uiConfig),s=es(i,[y,v]);return it(i,(e=>{const i=e?.localIdentifier??"",o=r?.buckets?.[i];if(o?.enabled&&!o?.canAddItems){let o;e.localIdentifier===a.BucketNames.MEASURES?o=Ua(kr.metricStack.id,t,s):e.localIdentifier===a.BucketNames.STACK&&(o=yt(kr.categoryStack.id,t)),o&&l(r,[g,i,"warningMessage"],o)}})),r}(r,t)),r}(t,this.intl,this.type),this.featureFlags.enableChartsSorting||(t=Ba(t)),this.referencePoint=t,Promise.resolve(Pr(t))}getInsightWithDrillDownApplied(e,t,i){return Qm(eg(e,t.event.drillContext.intersection,i,this.featureFlags.enableDuplicatedLabelValuesInAttributeFilter),t.drillDefinition)}isOpenAsReportSupported(){return e=this.type,rt(jm,e);var e}setCustomControlsProperties(e){this.customControlsProperties=e}getExecution(e,t,i){const{dateFormat:r,executionConfig:s}=e,a=this.getSupportedControls(t,e);return i.forInsight(t).withDimensions(...this.getDimensions(t)).withSorting(...Oa(this.type,t,a,this.featureFlags)).withDateFormat(r).withExecConfig(s)}configureBuckets(e){const t=e?.buckets??[],i=e?.uiConfig?.buckets?.[a.BucketNames.VIEW]?.itemsLimit??1;l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:bs(t)},{localIdentifier:a.BucketNames.VIEW,items:rs(t).slice(0,i)},{localIdentifier:a.BucketNames.STACK,items:this.getStackItems(t)}])}getSupportedPropertiesList(){return W}getStackItems(e){const t=Rr(Zr(e)),i=os(e,[a.BucketNames.LOCATION,a.BucketNames.VIEW,a.BucketNames.TREND,a.BucketNames.STACK,a.BucketNames.SEGMENT]);let r=es(e);return t.length<=1&&i.length>1&&(r=qm(i).filter(Br).slice(0,1)),r}checkBeforeRender(e){if(super.checkBeforeRender(e),!(0,s.insightHasMeasures)(e))throw new ht;return!0}renderVisualization(e,t,i){const{dimensions:r={height:void 0},custom:s={},locale:a,theme:n}=e,{height:l}=r,d=this.environment===ma?l:void 0,{drillableItems:u}=s,p=this.getSupportedControls(t,e),h=c(p)?null:p,m=this.buildVisualizationConfig(e,h),g=this.getExecution(e,t,i);this.renderFun(o.createElement(N.BaseChart,{enableExecutionCancelling:m.enableExecutionCancelling??this.featureFlags.enableExecutionCancelling??!1,execution:g,afterRender:this.afterRender,drillableItems:u,onDrill:this.onDrill,onError:this.onError,onExportReady:this.onExportReady,onLoadingChanged:this.onLoadingChanged,pushData:this.handlePushData,onDataView:this.onDataView,height:d,type:this.type,locale:a,forecastConfig:(0,N.updateForecastWithSettings)(m,this.featureFlags,dl(this.referencePoint,t,this.type)),config:(0,N.updateConfigWithSettings)(m,this.featureFlags),LoadingComponent:null,ErrorComponent:null,theme:n,...ig(m)}),this.getElement())}initializeProperties(e){const t=e?.controls,i={supportedProperties:{controls:ba(t,this.supportedPropertiesList)}};this.pushData({initialProperties:i})}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(Bm,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,axis:this.axis,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}getDimensions(e){return Wm(e,this.type)}handleConfirmedColorMapping(e){const t=e;var i;this.colors=e.colors,(i=this.references)&&0===pa(i).length?t.references={}:this.references&&(t.references=this.references),this.visualizationProperties&&(t.properties=un(this.visualizationProperties,e.colors.colorAssignments),this.visualizationProperties=t.properties),this.renderConfigurationPanel(this.currentInsight,this.currentOptions);const r=this.getOpenAsReportConfig(t.properties);this.ignoreUndoRedo?(this.ignoreUndoRedo=!1,this.pushData(t)):this.pushData({openAsReport:r,ignoreUndoRedo:!0,...t})}handlePushData=e=>{if(e.colors)this.handleConfirmedColorMapping(e);else{const t=function(e,t){let i={propertiesMeta:e.propertiesMeta};if(e.dataView&&"scatter"===t){const t=e.dataView,r=t.count[0],s=t.clusteringConfig?.numberOfClusters,a=!!s&&r<s;i={propertiesMeta:{...i.propertiesMeta,showingPartialClusters:a}}}return{...e,...La(i,c)}}(e,this.type);this.pushData({...t,references:this.references})}};buildVisualizationConfig(e,t){const{config:i={},customVisualizationConfig:r={}}=e,s=t?.colorMapping,a=ct(s).map((e=>({predicate:N.ColorUtils.getColorMappingPredicate(e.id),color:e.color})));return{separators:i.separators,colorPalette:i.colorPalette,forceDisableDrillOnAxes:i.forceDisableDrillOnAxes,enableExecutionCancelling:i.enableExecutionCancelling,...t,colorMapping:a?.length>0?a:null,...r}}getOpenAsReportConfig(e){const t=fa(e);return{supported:this.isOpenAsReportSupported()&&!t,warningMessage:t?yt(kr.exportUnsupportedColors.id,this.intl):""}}getSupportedControls(e,t){const i=ba(this.defaultControlsProperties,this.supportedPropertiesList),r=ba(this.customControlsProperties,this.supportedPropertiesList),s=this.environment===ma?function(e,t,i){return da((e=>n(e??{})),(e=>function(e,t,i){const r=function(e,t){const i=e?.legend?.position??"auto",r=t.dimensions?.width;return void 0!==r&&r<=function(e){return"auto"===e?Na:Ia}(i)?"top":i}(e,t);return l(e,"legend.position",r),l(e,"legend.responsive",!i||"autoPositionWithPopup"),e}(e,t,i?.enableKDWidgetCustomHeight)),(e=>Ea(e,i?.enableAxisNameConfiguration)),(e=>Ma(e,i?.enableHidingOfDataPoints)))(e)}(this.visualizationProperties?.controls,t,this.featureFlags):Da(this.visualizationProperties?.controls,e,this.featureFlags);return{...i,...s,...r}}isMultipleDatesEnabled(){return!!this.featureFlags.enableMultipleDates}reuseCurrentSort(e,t,i,r){const a=t?.sortItems;return function(e=[],t=[],i=[],r=[]){if(0===t.length)return[];let a=[...t];const o=i.map((t=>{const{reusedItem:i,modifiedSorts:r}=function(e,t,i){const r=i.findIndex((e=>(0,s.areObjRefsEqual)(e.itemId,t.itemId)));if(-1!==r){const i=za(e[r],t),s=[...e];return s[r]=void 0,{modifiedSorts:s,reusedItem:i}}return{}}(a,t,e);if(i)return a=r,i}));return i.map(((e,t)=>o[t]?o[t]:za(a[t],e)??r[t])).filter(Boolean)}(e,a,i,r)}}function ig(e){const t=e?.clustering?.threshold?{threshold:"string"==typeof e?.clustering?.threshold?parseFloat(e.clustering.threshold):e?.clustering?.threshold??.03}:{};return!c(e.clustering)&&e.clustering.enabled?{clusteringConfig:{...e.clustering??{},numberOfClusters:"string"==typeof e?.clustering?.numberOfClusters?parseInt(e.clustering.numberOfClusters,10):e?.clustering?.numberOfClusters??3,...t}}:{}}const rg=(e,t=[],i=!0,r=!0,a)=>{const o=t.length?{metricSorts:[...t.map((e=>function(e,t=[]){const{measureSortItem:{locators:i}}=(0,s.newMeasureSort)(e,"asc",t);return{type:"measureSort",locators:i}}(e)))]}:{},n=a?{explanation:a}:{};return{itemId:(0,s.localIdRef)(e),attributeSort:{normalSortEnabled:i,areaSortEnabled:r},...o,...n}};class sg extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.AREA,this.defaultControlsProperties={stackMeasures:!0},this.initializeProperties(e.visualizationProperties)}getUiConfig(){return n(this.isMultipleDatesEnabled()?Oe:Fe)}getExtendedReferencePoint(e){let t={...n(e),uiConfig:this.getUiConfig()};return t=ps(t),t=hs(t),this.configureBuckets(t),t=function(e,t,i){const r=n(e),s=r?.buckets??[],o=Vr(s,a.BucketNames.VIEW),c=es(s,[y,v]),d=ts(s,[y,v]),u=Os(s,a.BucketNames.MEASURES),p=Zs(s),h=!u||o<=1&&p,m=!o||u<=1&&p,b=o<=1&&u<=1,f={[a.BucketNames.MEASURES]:Ha(t,o,c,d),[a.BucketNames.VIEW]:Wa(t,u,c),[a.BucketNames.STACK]:ja(t,o)};return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"canAddItems"],h),l(r,[be,g,a.BucketNames.VIEW,"canAddItems"],m),l(r,[be,g,a.BucketNames.STACK,"canAddItems"],b),function(e,t){const i=e?.buckets??[],r=e?.uiConfig;i.reduce(((e,i)=>{const r=i?.localIdentifier??"",s=e?.buckets?.[r],a=s?.enabled??!1,o=s?.canAddItems;return o||!a?e:l(e,[g,r,"warningMessage"],t[r])}),r)}(r,f),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:area/bucket-title-measures.svg"),l(r,[be,g,a.BucketNames.VIEW,"icon"],"local:area/bucket-title-view.svg"),l(r,[be,g,a.BucketNames.STACK,"icon"],"local:area/bucket-title-stack.svg"),r}(t,this.intl,this.type),t=la(t,!1),t=na(t,!!this.featureFlags.enableWeekFilters),this.supportedPropertiesList=Sa(t,this.getSupportedPropertiesList()),t=Ca(t,this.supportedPropertiesList),this.featureFlags.enableChartsSorting||(t=Ba(t)),Promise.resolve(Pr(t))}getInsightWithDrillDownApplied(e,t,i){return Qm(this.addFilters(e,t.drillDefinition,t.event,i),t.drillDefinition)}getSortConfig(e){const{defaultSort:t,availableSorts:i}=this.getDefaultAndAvailableSort(e),{properties:r,availableSorts:s}=e,{disabled:a,disabledExplanation:o}=this.isSortDisabled(e,i);return Promise.resolve({supported:!0,disabled:a,appliedSort:super.reuseCurrentSort(s,r,i,t),defaultSort:t,availableSorts:i,...o&&{disabledExplanation:o}})}updateInstanceProperties(e,t,i){super.updateInstanceProperties(e,t,i),this.updateCustomSupportedProperties(t)}configureBuckets(e){const{measures:t,views:i,stacks:r}=this.isMultipleDatesEnabled()?this.getBucketItemsWithMultipleDates(e):this.getBucketItems(e);l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:t},{localIdentifier:a.BucketNames.VIEW,items:i},{localIdentifier:a.BucketNames.STACK,items:r}])}getSupportedPropertiesList(){return j}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={isContinuousLineControlDisabled:this.isContinuousLineControlDisabled(e),supportsAttributeHierarchies:this.backendCapabilities.supportsAccessControl};this.renderFun(o.createElement(zm,{locale:this.locale,colors:this.colors,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,references:this.references,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}addFilters(e,t,i,r){return eg(e,Jm(t,i.drillContext.intersection),r,this.featureFlags.enableDuplicatedLabelValuesInAttributeFilter)}updateCustomSupportedProperties(e){(0,s.bucketsItems)((0,s.insightBuckets)(e,a.BucketNames.VIEW)).length>1||!this.isContinuousLineControlDisabled(e)?(this.addSupportedProperties(U),this.setCustomControlsProperties({stackMeasures:!1,stackMeasuresToPercent:!1})):this.setCustomControlsProperties({})}addSupportedProperties(e){const t=this.supportedPropertiesList;(e||[]).forEach((e=>{t.some((t=>t===e))||t.push(e)}))}getAllAttributes(e){return os(e,[a.BucketNames.TREND,a.BucketNames.VIEW,a.BucketNames.SEGMENT,a.BucketNames.STACK])}getAllAttributesWithoutDate(e){return this.getAllAttributes(e).filter(Br)}filterStackItems(e){return e.filter(Br).slice(0,1)}getBucketItems(e){const t=e?.buckets??[],i=this.getBucketMeasures(t),r=ns(t),s=ls(r);let a=this.filterStackItems(es(t));const o=!a.length&&i.length<=1,n=o?2:1;let l=Ps(ss(t),s).slice(0,n);const c=l.some(Or);if(r.length&&!c){const e=this.getAllAttributesWithoutDate(t),r=e.slice(0,n-1);l=n>1?[s,...r]:[s],!o&&i.length<=1&&(a=e.slice(0,1))}return{measures:i,views:l,stacks:a}}getViewByMaxItemCount(e){return e.uiConfig?.buckets?.[a.BucketNames.VIEW]?.itemsLimit??1}getBucketMeasures(e=[]){return bs(fs(e,pe,!0))}getBucketItemsWithMultipleDates(e){const t=e?.buckets??[],i=this.getBucketMeasures(t),r=this.getViewByMaxItemCount(e),s=es(t,[y,v]),o=os(t,[a.BucketNames.LOCATION,a.BucketNames.TREND,a.BucketNames.VIEW,a.BucketNames.ATTRIBUTES,a.BucketNames.SEGMENT,a.BucketNames.STACK]).filter((e=>!s.includes(e))),n=s.length||i.length>1?1:r;return{measures:i,views:o.slice(0,n),stacks:s}}getDefaultAndAvailableSort(e){const{buckets:t,properties:i}=e,r=Gr(t,a.BucketNames.MEASURES),o=Gr(t,a.BucketNames.VIEW),n=Gr(t,a.BucketNames.STACK),l=i?.controls?.stackMeasures??this.getUiConfig().optionalStacking.stackMeasures,d=o.length>0?[(0,s.newAttributeSort)(o[0].localIdentifier,"asc")]:[];if(r.length>=2&&1===o.length&&!l)return{defaultSort:d,availableSorts:[rg(o[0].localIdentifier,r.map((e=>e.localIdentifier)))]};if(1===r.length&&c(n)){if(o.length>=2)return{defaultSort:d,availableSorts:[rg(o[0].localIdentifier)]};if(1===o.length)return{defaultSort:d,availableSorts:[rg(o[0].localIdentifier,r.map((e=>e.localIdentifier)),!0,!1)]}}return r.length>0&&1===o.length&&(1===n.length||l)?{defaultSort:d,availableSorts:[rg(o[0].localIdentifier,c(n)?r.map((e=>e.localIdentifier)):[])]}:{defaultSort:[],availableSorts:[]}}isSortDisabled(e,t){const{buckets:i}=e,r=Gr(i,a.BucketNames.MEASURES),s=Gr(i,a.BucketNames.VIEW),o=Va(r,s,this.intl);return{disabled:s.length<1||r.length<1||0===t.length,disabledExplanation:o}}isContinuousLineControlDisabled(e){const t=this.visualizationProperties?.controls?.stackMeasures;if(void 0===t){const t=(0,s.insightBucket)(e,a.BucketNames.MEASURES),i=(0,s.insightBucket)(e,a.BucketNames.STACK);return i?.items.length>0||t?.items?.length>1}return t}}const ag=22.5,og=12,ng=450,lg=2e3,cg=2,dg={width:{min:cg,default:6},height:{default:ag}},ug={width:{min:cg,default:6},height:{default:22,min:22,max:40}},pg={width:{min:cg,default:4},height:{default:17,min:17,max:lg}},hg={width:{min:1,default:6},height:{default:22,min:2,max:40}},mg={width:{min:1,default:4},height:{default:22,min:2,max:lg}},gg={width:{min:cg,default:6},height:{default:22,min:12,max:40}},bg={width:{min:cg,default:4},height:{default:22,min:12,max:lg}},fg={width:{min:cg,default:4},height:{default:17,min:6,max:lg}},vg={width:{min:cg,default:2},height:{default:og,min:og,max:og}},yg={width:{min:cg,default:2},height:{default:11,min:9,max:40}},Cg=yg;class kg{getSizeInfo(e,t,i){return{width:{default:i.enableFlexibleDashboardLayout?4:6,min:2,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(i),min:this.getMinHeight(i),max:this.getMaxHeight(i)}}}getDefaultHeight(e){const{enableKDWidgetCustomHeight:t,enableFlexibleDashboardLayout:i}=e;return t?i?17:22:ag}getMinHeight(e){const{enableKDWidgetCustomHeight:t,enableFlexibleDashboardLayout:i}=e;return t?i?6:12:ag}getMaxHeight(e){const{enableKDWidgetCustomHeight:t,enableFlexibleDashboardLayout:i}=e;return t?i?lg:40:ag}applyDrillDown(e,t,i,r){return Qm(eg(e,t.event.drillContext.intersection,i,r),t.drillDefinition)}}class wg extends kg{getSizeInfo(e,t,i){return{width:{default:i.enableFlexibleDashboardLayout?4:6,min:2,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(i),min:this.getMinHeight(i),max:this.getMaxHeight(i)}}}getMinHeight(e){const{enableKDWidgetCustomHeight:t,enableFlexibleDashboardLayout:i}=e;return t?i?6:22:ag}}var Sg=i(8816),xg=i(21146),_g=i(23560),Eg=i(47037),Mg=i(3945),Tg=i(88846),Pg=i(23018),Ag=i(66796),Dg=i(89734),Ig=i(37453),Ng=i(2982),Rg=i(47591);i(53888),i(24350);class Lg{original;options;static normalize(e,t){return new Lg(e,t).normalize()}normalized;o2nMap={};n2oMap={};originalMeasures=new Map;alreadyNormalized=[];constructor(e,t={}){this.original=e,this.options=t;const i=n(this.original),r=i.filters.filter((e=>(0,s.isAttributeFilter)(e)?!(0,s.filterIsEmpty)(e)||(0,s.isPositiveAttributeFilter)(e):!(0,s.isMeasureValueFilter)(e)||void 0!==(0,s.measureValueFilterCondition)(e)));this.normalized={...i,filters:r},i.measures.forEach((e=>this.originalMeasures.set((0,s.measureLocalId)(e),e)))}createUniqueMapping=(e,t)=>{(0,Rg.kG)(!this.o2nMap[e],`duplicate localId used in execution definition: ${e}`);let i=t,r=1;for(;this.n2oMap[i];)i=`${t}_${r}`,r+=1;return this.o2nMap[e]=i,this.n2oMap[i]=e,i};normalizedLocalId=e=>{const t=this.o2nMap[e];return(0,Rg.kG)(t,`dangling localId reference. Target: ${e}`),t};maybeNormalizedLocalId=e=>this.o2nMap[e];normalizeAttributes=()=>{this.normalized.attributes.forEach((e=>{this.options.keepRemovableProperties||delete e.attribute.alias;const t=(0,s.attributeLocalId)(e),i=(0,s.attributeLocalId)((0,s.modifyAttribute)(e,(e=>e.noAlias().defaultLocalId())));e.attribute.localIdentifier=this.createUniqueMapping(t,i)}))};normalizeTotal=e=>({...e,attributeIdentifier:this.maybeNormalizedLocalId(e.attributeIdentifier)??e.attributeIdentifier,measureIdentifier:this.maybeNormalizedLocalId(e.measureIdentifier)??e.measureIdentifier});normalizeTotals=()=>{this.normalized.buckets.forEach((e=>{e.totals&&(e.totals=e.totals.map(this.normalizeTotal))}))};normalizeSimple=e=>{e.measureDefinition.filters&&(e.measureDefinition.filters=e.measureDefinition.filters?.filter((e=>!(0,s.isNegativeAttributeFilter)(e)||!(0,s.filterIsEmpty)(e))))};normalizePoP=(e,t)=>{const i=e.popMeasureDefinition.measureIdentifier,r=this.maybeNormalizedLocalId(i)||this.normalizeMeasureByLocalId(i,t);e.popMeasureDefinition.measureIdentifier=r};normalizePreviousPeriod=(e,t)=>{const i=e.previousPeriodMeasure.measureIdentifier,r=this.maybeNormalizedLocalId(i)||this.normalizeMeasureByLocalId(i,t);e.previousPeriodMeasure.measureIdentifier=r};normalizeArithmetic=(e,t)=>{const i=e.arithmeticMeasure.measureIdentifiers.map((e=>this.maybeNormalizedLocalId(e)||this.normalizeMeasureByLocalId(e,t)));e.arithmeticMeasure.measureIdentifiers=i};normalizeMeasure=(e,t=new Set)=>{const i=(0,s.measureLocalId)(e),r=e.measure.definition;if(this.alreadyNormalized.find((t=>t===e)))return i;(0,Rg.kG)(!t.has(i),`circular dependency on measure with localId ${i}`),t.add(i),(0,s.isPoPMeasureDefinition)(r)?this.normalizePoP(r,t):(0,s.isPreviousPeriodMeasureDefinition)(r)?this.normalizePreviousPeriod(r,t):(0,s.isArithmeticMeasureDefinition)(r)?this.normalizeArithmetic(r,t):(0,s.isMeasureDefinition)(r)&&this.normalizeSimple(r),this.options.keepRemovableProperties||(delete e.measure.alias,delete e.measure.title,delete e.measure.format);const a=(0,s.measureLocalId)((0,s.modifyMeasure)(e,(e=>e.noAlias().noTitle().defaultFormat().defaultLocalId()))),o=this.createUniqueMapping(i,a);return e.measure.localIdentifier=o,this.alreadyNormalized.push(e),o};normalizeMeasureByLocalId=(e,t)=>{const i=this.originalMeasures.get(e);return(0,Rg.kG)(i,`measure with localId ${e} could not be found`),this.normalizeMeasure(i,t)};normalizeMeasures=()=>{this.normalized.measures.forEach((e=>this.normalizeMeasure(e)))};normalizeFilters=()=>{this.normalized.filters.forEach((e=>{if((0,s.isMeasureValueFilter)(e)){const t=e.measureValueFilter.measure;(0,s.isLocalIdRef)(t)&&(t.localIdentifier=this.normalizedLocalId(t.localIdentifier))}if((0,s.isRankingFilter)(e)){const{measure:t,attributes:i=[]}=e.rankingFilter;[...i,t].filter(s.isLocalIdRef).forEach((e=>{e.localIdentifier=this.normalizedLocalId(e.localIdentifier)}))}if((0,s.isPositiveAttributeFilter)(e)){const{displayForm:t}=e.positiveAttributeFilter;(0,s.isLocalIdRef)(t)&&(t.localIdentifier=this.normalizedLocalId(t.localIdentifier))}if((0,s.isNegativeAttributeFilter)(e)){const{displayForm:t}=e.negativeAttributeFilter;(0,s.isLocalIdRef)(t)&&(t.localIdentifier=this.normalizedLocalId(t.localIdentifier))}}))};normalizeSorts=()=>{this.normalized.sortBy.forEach((e=>{(0,s.isAttributeSort)(e)?e.attributeSortItem.attributeIdentifier=this.normalizedLocalId(e.attributeSortItem.attributeIdentifier):(0,s.isMeasureSort)(e)&&e.measureSortItem.locators.forEach((e=>{(0,s.isAttributeLocator)(e)?e.attributeLocatorItem.attributeIdentifier=this.normalizedLocalId(e.attributeLocatorItem.attributeIdentifier):(0,s.isMeasureLocator)(e)&&(e.measureLocatorItem.measureIdentifier=this.normalizedLocalId(e.measureLocatorItem.measureIdentifier))}))}))};normalizeDimensions=()=>{this.normalized.dimensions.forEach((e=>{e.itemIdentifiers=e.itemIdentifiers.map((e=>e===s.MeasureGroupIdentifier?e:this.normalizedLocalId(e))),e.totals&&e.totals.forEach((e=>{e.attributeIdentifier=this.normalizedLocalId(e.attributeIdentifier),e.measureIdentifier=this.normalizedLocalId(e.measureIdentifier)}))}))};normalize=()=>(this.normalizeAttributes(),this.normalizeMeasures(),this.normalizeFilters(),this.normalizeSorts(),this.normalizeDimensions(),this.normalizeTotals(),{normalized:this.normalized,original:this.original,n2oMap:this.n2oMap})}const Fg=["uriRef","idRef","localIdRef","newAttribute","newMeasure","newArithmeticMeasure","newPopMeasure","newPreviousPeriodMeasure","newAbsoluteDateFilter","newRelativeDateFilter","newNegativeAttributeFilter","newPositiveAttributeFilter","newMeasureValueFilter","newRankingFilter","newAttributeSort","newAttributeAreaSort","newMeasureSort","newTotal"].map((e=>({name:e,importType:"named",package:"@gooddata/sdk-model"}))),Og=4;function Bg(e,t){return e.split("\n").map((e=>`${Ag(" ",t*Og)}${e}`)).join("\n")}const zg=Sg(xg((e=>e.package)),Ig,Tg((([e,t])=>{const[[i],r]=Pg((e=>"default"===e.importType),t);return ct(["import",ct([i?.name,r.length&&`{ ${Dg(r.map((e=>e.name)),(e=>e.toLowerCase())).join(", ")} }`]).join(", "),"from",`"${e}";`]).join(" ")})),Mg("\n")),Vg={name:"React",package:"react",importType:"default"};function Gg(e){const{component:t,insightToProps:i,additionalFactories:r}=e;return(e,a)=>{const o=function(e){const t=(0,s.newDefForInsight)("foo",e),{n2oMap:i,normalized:r}=Lg.normalize(t,{keepRemovableProperties:!0}),a=Sg(Ig,Tg((([e,t])=>[t,e])),Ng)(i),o=(0,s.insightBuckets)(e).map((e=>{const t=(0,s.bucketItems)(e).map((e=>{if((0,s.isAttribute)(e)){const t=a[(0,s.attributeLocalId)(e)];return r.attributes.find((e=>(0,s.attributeLocalId)(e)===t))}{const t=a[(0,s.measureLocalId)(e)];return r.measures.find((e=>(0,s.measureLocalId)(e)===t))}})),i=(0,s.bucketTotals)(e).map((e=>{const{attributeIdentifier:t,measureIdentifier:i,type:r,alias:o}=e;return(0,s.newTotal)(r,a[i],a[t],o)}));return(0,s.newBucket)(e.localIdentifier,...t,...i)})),n=(0,s.insightProperties)(e),l=n&&function(e,t){const i=JSON.stringify(e),r=Ig(t).reduce(((e,[t,i])=>{const r=new RegExp(t,"g");return e.replace(r,i)}),i);return JSON.parse(r)}(n,a);return Sg((e=>(0,s.insightSetBuckets)(e,o)),(e=>(0,s.insightSetFilters)(e,r.filters)),(e=>(0,s.insightSetSorts)(e,r.sortBy)),(e=>(0,s.insightSetProperties)(e,l)))(e)}(e),n=i(o,a?.context),{importsUsed:l,propDeclarations:d,propUsages:u}=function(e,t,i){const r=i?.language??"ts",a=i?.omitChartProps??[],o=[],n=Ig(e).filter((([e,t])=>void 0!==t&&!_g(t.value)&&!c(t.value))).filter((([e,t])=>!a.includes(e))),l=n.map((([e,{value:i,meta:a}])=>{if(Eg(i))return`const ${e} = "${i}";`;const n=function(e,t){return(0,s.factoryNotationFor)(e,(e=>{let i;for(const r of t)if(i=r.transformation(e),i)break;return i}))}(i,t??[]);if("ts"===r){const t="array"===a.cardinality?`${a.typeImport.name}[]`:a.typeImport.name;return o.push(a.typeImport),`const ${e}: ${t} = ${n};`}return`const ${e} = ${n};`})),d=n.map((([e])=>`${e}={${e}}`)),u=function(e,t){const i=e.join("\n");return[...Fg,...t.map((e=>e.importInfo))].filter((({name:e})=>i.includes(e)))}(l,t??[]);return o.push(...u),{importsUsed:at(o,(e=>`${e.package}#${e.name}`)),propDeclarations:l,propUsages:d}}(n,r,a),p=ct([Vg,...l,t]),h=a?.height??400,m=Eg(h)?`"${h}"`:h.toString(),g=`<${t.name}\n${Bg(u.join("\n"),1)}\n/>`;return`${zg(p)}\n\n${d.join("\n")}\nconst style = {height: ${m}};\n\nexport function MyComponent() {\n    return (\n        <div style={style}>\n${Bg(g,3)}\n        </div>\n    );\n}\n`}}var Ug=i(93220);function Hg(e,t,i){return{propName:e,propType:t,itemAccessor:i}}function Wg(e,t,i,r){return{propName:e,propType:t,itemAccessor(e){const t=(0,s.insightBucket)(e,i);return t&&r(t)}}}function jg(e){return(t,i)=>Ug(e).reduce(((e,[r,s])=>{const a=s.itemAccessor(t,i);return a&&(e[r]={value:a,meta:s.propType}),e}),{})}var Kg=i(4835),$g=i(40104),qg=i(17204),Yg=i(1469),Xg=i(13218);function Qg(e){return ha(e)||Xg(e)&&c(e)}function Zg(e){let t=e;return Yg(e)?t=Sg(Tg(Zg),Kg)(e):Xg(e)&&(t=Sg(Ug,Tg((([e,t])=>[e,Zg(t)])),$g((([e,t])=>!Qg(t))),qg)(e)),Qg(t)?void 0:t}function Jg(e,t){return{cardinality:t,typeImport:{name:e,importType:"named",package:"@gooddata/sdk-model"}}}function eb(e){return{Single:Jg(e,"scalar"),Multiple:Jg(e,"array")}}const tb={Measure:eb("IMeasure"),Attribute:eb("IAttribute"),AttributeOrMeasure:eb("IAttributeOrMeasure"),Filter:eb("IFilter"),SortItem:eb("ISortItem"),Total:eb("ITotal")};function ib(e){return(0,s.bucketItems)(e)?.[0]}function rb(e,t){return Wg(e,tb.Attribute.Single,t,s.bucketAttribute)}function sb(e,t){return Wg(e,tb.Attribute.Multiple,t,s.bucketAttributes)}function ab(e,t){return Wg(e,tb.Measure.Single,t,s.bucketMeasure)}function ob(e,t){return Wg(e,tb.Measure.Multiple,t,s.bucketMeasures)}function nb(e,t){return Wg(e,tb.AttributeOrMeasure.Single,t,ib)}function lb(e,t){return Wg(e,tb.AttributeOrMeasure.Multiple,t,s.bucketItems)}function cb(e){return Hg(e,tb.Filter.Multiple,(e=>((0,s.insightFilters)(e)??[]).filter((e=>{if((0,s.isRelativeDateFilter)(e)){const{from:t,to:i}=(0,s.relativeDateFilterValues)(e);return!(ha(t)||ha(i))}return!0}))))}function db(e){return Hg(e,tb.SortItem.Multiple,((e,t)=>Oa((0,s.insightVisualizationType)(e),e,(0,s.insightProperties)(e)?.controls??{},t.settings??{})))}function ub(e){return Hg(e,tb.Total.Multiple,s.insightTotals)}function pb(e){return Hg(e,{cardinality:"scalar"},((e,t)=>{const i=t?.settings?.locale;return i&&i!==a.DefaultLocale?i:void 0}))}function hb(e){return Hg(e,{cardinality:"scalar",typeImport:{importType:"named",name:"IExecutionConfig",package:"@gooddata/sdk-model"}},((e,t)=>t?.executionConfig&&Zg(t.executionConfig)))}const mb=new Set(["colorMapping","colorPalette","dataLabels","dataPoints","dualAxis","enableChartSorting","enableSeparateTotalLabels","enableJoinedAttributeAxisName","grid","legend","legendLayout","limits","primaryChartType","secondary_xaxis","secondary_yaxis","secondaryChartType","separators","stackMeasures","stackMeasuresToPercent","xaxis","xFormat","xLabel","yaxis","yFormat","yLabel","total","orientation","comparison","cellImageSizing","cellTextWrapping","cellVerticalAlign","rowHeight","inlineVisualizations","hyperLinks","thresholdMeasures"]);function gb(e,t){const i=(0,s.insightProperties)(e),r=i?.controls??{},a=t?.backend?.capabilities.supportsCustomColorPalettes??!1,{inlineVisualizations:o,hyperLinks:n}=i,l={inlineVisualizations:o,hyperLinks:n,...r,...t?.colorPalette&&a?{colorPalette:t.colorPalette}:{},...t?.settings?.separators?{separators:t.settings.separators}:{},...t?.settings?.enableChartsSorting?{enableChartSorting:!0}:{},...t?.settings?.enableSeparateTotalLabels?{enableSeparateTotalLabels:!0}:{},...t?.settings?.enableAxisNameViewByTwoAttributes?{enableJoinedAttributeAxisName:!0}:{}};return Sg(Ug,$g((([e])=>mb.has(e))),qg,(i=>Da(i,e,t?.settings)),Zg)(l)}function bb(e,t){const i=(0,s.insightProperties)(e),r=i?.controls??{};if(!r.forecast||!1===r.forecast?.enabled)return;const a=r.forecast?.period?.toString(),o=a?parseInt(a,10):3,n=r.forecast?.confidence??.95,l=r.forecast?.seasonal;return Sg(Zg)({confidenceLevel:n,forecastPeriod:o,seasonal:l})}function fb(e){const{getColorMappingPredicatePackage:t="@gooddata/sdk-ui-charts"}=e??{};return[{importInfo:{importType:"named",name:"getColorMappingPredicate",package:t},transformation:e=>(0,s.isColorMappingItem)(e)?`{predicate: getColorMappingPredicate("${e.id}"), color: ${(0,s.factoryNotationFor)(e.color)}}`:void 0}]}const vb={typeImport:{importType:"named",name:"IChartConfig",package:"@gooddata/sdk-ui-charts"},cardinality:"scalar"};function yb(e){return Hg(e,vb,gb)}const Cb={typeImport:{importType:"named",name:"IForecastConfig",package:"@gooddata/sdk-backend-spi"},cardinality:"scalar"};function kb(e){return Hg(e,Cb,bb)}function wb(e){if(!e?.length)return e;const[t,...i]=[...e].reverse();return[t,...i.reverse()]}class Sb extends tg{constructor(e){super(e),this.axis=w,this.supportedPropertiesList=this.getSupportedPropertiesList()}getUiConfig(){const e=this.isMultipleDatesEnabled()?Ne:Ie;return n(e)}getExtendedReferencePoint(e){return this.supportedPropertiesList=this.getSupportedPropertiesList(),super.getExtendedReferencePoint(e).then((e=>{let t=va(e,this.secondaryAxis);return this.axis=t?.uiConfig?.axis??C,this.supportedPropertiesList=Sa(t,this.getSupportedPropertiesList()),t=Ca(t,this.supportedPropertiesList),this.featureFlags.enableSeparateTotalLabels&&(t=function(e){const t=e.properties.controls?.dataLabels?.visible,i=es(e.buckets);return ha(t)||!ha(e.properties.controls?.dataLabels?.totalsVisible)||wa(e.properties)||!i.length&&!ka(e.properties)?e:{...e,properties:{...e.properties,controls:{...e.properties.controls,dataLabels:{...e.properties.controls.dataLabels,totalsVisible:t}}}}}(t)),function(e,t){const i=n(e);if(l(i,[be,"supportedOverTimeComparisonTypes"],[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD]),Zr(i?.buckets??[]).length>1){const e=yt(kr.measureStack.id,t);l(i,[be,g,a.BucketNames.STACK,"canAddItems"],!1),l(i,[be,g,a.BucketNames.STACK,"warningMessage"],e)}return i}(t,this.intl)}))}isOpenAsReportSupported(){return super.isOpenAsReportSupported()&&(e=this.currentInsight,!((0,s.bucketsItems)((0,s.insightBuckets)(e,a.BucketNames.VIEW)).length>1))&&!ka(this.visualizationProperties)&&!wa(this.visualizationProperties);var e}adjustIntersectionForColumnBar(e,t){const i=(0,s.insightBucket)(e,a.BucketNames.STACK),r=i&&!(0,s.bucketIsEmpty)(i),o=t.drillContext.intersection;return r?wb(o):o}addFiltersForColumnBar(e,t,i,r){const s=Ym(t),o=this.adjustIntersectionForColumnBar(e,i);return eg(e,(0,a.getIntersectionPartAfter)(o,s),r,this.featureFlags.enableDuplicatedLabelValuesInAttributeFilter)}getInsightWithDrillDownApplied(e,t,i){return Qm(this.addFiltersForColumnBar(e,t.drillDefinition,t.event,i),t.drillDefinition)}getBucketMeasures(e=[]){return bs(fs(e,pe,!0))}configureBuckets(e){if(this.isMultipleDatesEnabled())return void this.configureBucketsWithMultipleDates(e);const t=e?.buckets??[],i=this.getBucketMeasures(t),r=ns(t),s=ls(r),o=e.uiConfig?.buckets?.[a.BucketNames.VIEW]?.itemsLimit??1,n=ss(t),c=Ps(n,s);let d=c.slice(0,o);const u=d.some(Or);let p=o,h=es(t);r.length&&!u&&(d=[s,...c.slice(0,o-1)],p=o-1);const m=c.length>p;!h.length&&i.length<=1&&m&&(h=c.slice(p,c.length).filter(Br).slice(0,1)),l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:i},{localIdentifier:a.BucketNames.VIEW,items:d},{localIdentifier:a.BucketNames.STACK,items:h}])}configureBucketsWithMultipleDates(e){const{measures:t,views:i,stacks:r}=this.getMeasuresViewStackBucketItems(e);l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:t},{localIdentifier:a.BucketNames.VIEW,items:i},{localIdentifier:a.BucketNames.STACK,items:r}])}canPutAttributeToViewBy(e,t,i,r){const s=Or(t),a=Or(e),o=Ts(t,e);return(!s||!a||o)&&i<r}getMeasuresViewStackBucketItems(e){const t=e?.buckets??[],i=this.getBucketMeasures(t),r=this.getViewByMaxItemCount(e),s=this.getStackByMaxItemCount(e),a=ss(t),o=es(t,[y,v]),[n,...l]=a,c=n?[n]:[],d=[];for(const e of l)this.canPutAttributeToViewBy(e,n,c.length,r)?c.push(e):d.push(e);return!o.length&&i.length<=1?{measures:i,views:c,stacks:[...o,...d].slice(0,s)}:{measures:i,views:c,stacks:o}}getViewByMaxItemCount(e){return e.uiConfig?.buckets?.[a.BucketNames.VIEW]?.itemsLimit??1}getStackByMaxItemCount(e){return e.uiConfig?.buckets?.[a.BucketNames.STACK]?.itemsLimit??1}}class xb extends Bm{getAxesConfiguration(e){return I[e]}}function _b(e,t){const i=t?.controls,r=i?.stackMeasures??!1,s=function(e,t){const i=Gr(e,a.BucketNames.MEASURES).length,r=t.measures?.length??0;return 0===r||i===r}(e,i?.secondary_xaxis??{measures:[]});return r&&s}class Eb extends Sb{constructor(e){super(e),this.secondaryAxis=S.SECONDARY_X,this.type=a.VisualizationTypes.BAR,this.defaultControlsProperties={stackMeasures:!1},this.initializeProperties(e.visualizationProperties)}getSupportedPropertiesList(){return q[this.axis||w]||[]}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(xb,{locale:this.locale,colors:this.colors,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,axis:this.axis,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}getDefaultAndAvailableSort(e,t){if(this.isSortDisabled(e).disabled)return{defaultSort:[],availableSorts:[]};const{buckets:i}=e,r=Gr(i,a.BucketNames.MEASURES),o=Gr(i,a.BucketNames.VIEW),n=Gr(i,a.BucketNames.STACK),l=!c(n)||t;return 2!==o.length||c(r)?!c(o)&&l?{defaultSort:[(0,s.newAttributeAreaSort)(o[0].localIdentifier,"desc")],availableSorts:[rg(o[0].localIdentifier,c(n)?r.map((e=>e.localIdentifier)):[])]}:c(o)||c(r)?{defaultSort:[],availableSorts:[]}:{defaultSort:[(0,s.newMeasureSort)(r[0].localIdentifier,"desc")],availableSorts:[rg(o[0].localIdentifier,r.map((e=>e.localIdentifier)),!0,r.length>1)]}:r.length>=2&&!t?{defaultSort:[(0,s.newAttributeAreaSort)(o[0].localIdentifier,"desc"),(0,s.newMeasureSort)(r[0].localIdentifier,"desc")],availableSorts:[rg(o[0].localIdentifier),rg(o[1].localIdentifier,r.map((e=>e.localIdentifier)))]}:{defaultSort:[(0,s.newAttributeAreaSort)(o[0].localIdentifier,"desc"),l?(0,s.newAttributeAreaSort)(o[1].localIdentifier,"desc"):(0,s.newMeasureSort)(r[0].localIdentifier,"desc")],availableSorts:[rg(o[0].localIdentifier),rg(o[1].localIdentifier,c(n)?r.map((e=>e.localIdentifier)):[],!0,l||r.length>1)]}}isSortDisabled(e){const{buckets:t}=e,i=Gr(t,a.BucketNames.VIEW),r=Gr(t,a.BucketNames.MEASURES);return{disabled:i.length<1||r.length<1,disabledExplanation:Va(r,i,this.intl)}}getSortConfig(e){const{buckets:t,properties:i,availableSorts:r}=e,{defaultSort:s,availableSorts:a}=this.getDefaultAndAvailableSort(e,_b(t,i)),{disabled:o,disabledExplanation:n}=this.isSortDisabled(e);return Promise.resolve({supported:!0,disabled:o,appliedSort:super.reuseCurrentSort(r,i,a,s),defaultSort:s,availableSorts:a,...n&&{disabledExplanation:n}})}}class Mb extends Mm{renderConfigurationPanel(){const{featureFlags:e,propertiesMeta:t,properties:i,pushData:r,type:s,insight:a}=this.props,n=i?.controls,l=n?.xaxis?.visible??!0,c=n?.yaxis?.visible??!0,d=n?.grid?.enabled??!0,u=this.isControlDisabled(),{xaxis:p,yaxis:h}=Nm(s,n,a),m=u||1!==p,g=u||1!==h,b=e.enableAxisNameConfiguration,f=e.enableAxisLabelFormat;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),o.createElement(to,{id:"xaxis_section",title:kr.xaxisTitle.id,valuePath:"xaxis.visible",canBeToggled:!0,toggledOn:l,toggleDisabled:u,propertiesMeta:t,properties:i,pushData:r},b?o.createElement(Om,{disabled:m,configPanelDisabled:u,axis:"xaxis",properties:i,pushData:r}):null,o.createElement(Im,{disabled:u,configPanelDisabled:u,axis:"xaxis",properties:i,pushData:r,showFormat:f}),this.renderMinMax("xaxis")),o.createElement(to,{id:"yaxis_section",title:kr.yaxisTitle.id,valuePath:"yaxis.visible",canBeToggled:!0,toggledOn:c,toggleDisabled:u,propertiesMeta:t,properties:i,pushData:r},b?o.createElement(Om,{disabled:g,configPanelDisabled:u,axis:"yaxis",properties:i,pushData:r}):null,o.createElement(Im,{disabled:u,configPanelDisabled:u,axis:"yaxis",properties:i,pushData:r,showFormat:f}),this.renderMinMax("yaxis")),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:t,properties:i,pushData:r},o.createElement(Ao,{pushData:r,properties:i,isDisabled:this.areDataLabelsDisabled(),defaultValue:!1,showDisabledMessage:this.isDataLabelsWarningShown()}),o.createElement(ro,{valuePath:"grid.enabled",labelText:kr.canvasGridLine.id,properties:i,checked:d,disabled:u,pushData:r})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}renderMinMax(e){const{pushData:t,properties:i,propertiesMeta:r}=this.props;return o.createElement($o,{isDisabled:this.isControlDisabled(),basePath:e,pushData:t,properties:i,propertiesMeta:r})}areDataLabelsDisabled(){return super.isControlDisabled()||!Tb(this.props.insight)}isDataLabelsWarningShown(){return!super.isControlDisabled()&&!Tb(this.props.insight)}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}}function Tb(e){return!(0,s.bucketsIsEmpty)((0,s.insightBuckets)(e,a.BucketNames.TERTIARY_MEASURES))}class Pb extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.BUBBLE,this.supportedPropertiesList=X,this.initializeProperties(e.visualizationProperties)}getExtendedReferencePoint(e){const t=n(e);let i={...t,uiConfig:n(Ae)};i=ps(i),i=hs(i);const r=fs(t.buckets,3),s=Wr(r,[a.BucketNames.MEASURES],[b]),o=Wr(r,[a.BucketNames.SECONDARY_MEASURES],[b]),c=Wr(r,[a.BucketNames.TERTIARY_MEASURES],[b]),d=Qr(r),u=[...o.slice(0,1),...c.slice(0,1)],p=s.length>0?s.slice(0,1):d.filter((e=>!rt(u,e))).slice(0,1),h=o.length>0?o.slice(0,1):d.filter((e=>!rt([...p,...c.slice(0,1)],e))).slice(0,1),m=c.length>0?c.slice(0,1):d.filter((e=>!rt([...p,...h],e))).slice(0,1);return l(i,g,[{localIdentifier:a.BucketNames.MEASURES,items:p},{localIdentifier:a.BucketNames.SECONDARY_MEASURES,items:h},{localIdentifier:a.BucketNames.TERTIARY_MEASURES,items:m},{localIdentifier:a.BucketNames.VIEW,items:as(r).slice(0,1)}]),i=function(e,t,i){const r=n(e);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:bubble/bucket-title-measures-x.svg"),l(r,[be,g,a.BucketNames.SECONDARY_MEASURES,"icon"],"local:bubble/bucket-title-measures-y.svg"),l(r,[be,g,a.BucketNames.TERTIARY_MEASURES,"icon"],"local:bubble/bucket-title-size.svg"),l(r,[be,g,a.BucketNames.VIEW,"icon"],"local:bubble/bucket-title-view-by.svg"),r}(i,this.intl,this.type),i=la(i,!0),i=na(i,!!this.featureFlags.enableWeekFilters),i=Ca(i,this.supportedPropertiesList),i=Ba(i),Promise.resolve(Pr(i))}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(Mb,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}return null}}class Ab extends Mm{renderConfigurationPanel(){const{featureFlags:e,propertiesMeta:t,properties:i,pushData:r,type:s,insight:a}=this.props,n=i?.controls||{},{xaxis:l,yaxis:c,grid:d}=n,u=!l||void 0===l.visible||l.visible,p=!c||void 0===c.visible||c.visible,h=!d||void 0===d.enabled||d.enabled,m=this.isControlDisabled(),{xaxis:g,yaxis:b}=Nm(s,n,a),f=m||1!==g,v=e.enableAxisNameConfiguration,y=e.enableAxisLabelFormat,C=e.enableAxisNameViewByTwoAttributes?m||0===b:m||1!==b;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),o.createElement(to,{id:"xaxis_section",title:kr.xaxisTitle.id,valuePath:"xaxis.visible",canBeToggled:!0,toggledOn:u,toggleDisabled:m,propertiesMeta:t,properties:i,pushData:r},v?o.createElement(Om,{disabled:f,configPanelDisabled:m,axis:"xaxis",properties:i,pushData:r}):null,o.createElement(Im,{disabled:m,configPanelDisabled:m,axis:"xaxis",properties:i,pushData:r,showFormat:y}),this.renderMinMax("xaxis")),o.createElement(to,{id:"yaxis_section",title:kr.yaxisTitle.id,valuePath:"yaxis.visible",canBeToggled:!0,toggledOn:p,toggleDisabled:m,propertiesMeta:t,properties:i,pushData:r},v?o.createElement(Om,{disabled:C,configPanelDisabled:m,axis:"yaxis",properties:i,pushData:r}):null,o.createElement(Im,{disabled:m||0===b,configPanelDisabled:m,axis:"yaxis",properties:i,pushData:r})),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:t,properties:i,pushData:r},o.createElement(ro,{valuePath:"grid.enabled",labelText:kr.canvasGridLine.id,properties:i,checked:h,disabled:m,pushData:r})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}renderMinMax(e){const{pushData:t,properties:i,propertiesMeta:r}=this.props;return o.createElement($o,{isDisabled:this.isControlDisabled(),basePath:e,pushData:t,properties:i,propertiesMeta:r})}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}}const Db=[{localIdentifier:a.BucketNames.MEASURES,itemsLimit:1},{localIdentifier:a.BucketNames.SECONDARY_MEASURES,itemsLimit:1},{localIdentifier:a.BucketNames.TERTIARY_MEASURES,itemsLimit:1}],Ib=e=>{const t=fs(e,3,!0),i=Ms(Db,t),r=ls(ns(e));return[...i,{localIdentifier:a.BucketNames.VIEW,items:Ps(as(e),r).slice(0,2)}]};class Nb extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.BULLET,this.supportedPropertiesList=ie,this.initializeProperties(e.visualizationProperties)}getUiConfig(){return n(this.isMultipleDatesEnabled()?Xe:Ye)}getExtendedReferencePoint(e){let t={...n(e),uiConfig:this.getUiConfig()},i=Ib(t.buckets);return As(i,t.filters)||(t=hs(t),i=Ib(t.buckets)),t[g]=i,t=function(e,t,i){const r=n(e);r[be]=zr(r,i,t);const s=e?.buckets??[],o=Vr(s,a.BucketNames.MEASURES),l=Vr(s,a.BucketNames.SECONDARY_MEASURES),c=Vr(s,a.BucketNames.TERTIARY_MEASURES);return r[be].buckets[a.BucketNames.MEASURES]={...r[be].buckets[a.BucketNames.MEASURES],canAddItems:o<1,icon:"local:bullet/bucket-title-primary.svg"},r[be].buckets[a.BucketNames.SECONDARY_MEASURES]={...r[be].buckets[a.BucketNames.SECONDARY_MEASURES],canAddItems:l<1,icon:"local:bullet/bucket-title-target.svg"},r[be].buckets[a.BucketNames.TERTIARY_MEASURES]={...r[be].buckets[a.BucketNames.TERTIARY_MEASURES],canAddItems:c<1,icon:"local:bullet/bucket-title-comparative.svg"},r[be].buckets[a.BucketNames.VIEW]={...r[be].buckets[a.BucketNames.VIEW],icon:"local:bullet/bucket-title-view-by.svg"},0!==o||0===l&&0===c||(r[be].customError={heading:yt(kr.heading.id,t),text:yt(kr.text.id,t)}),r}(t,this.intl,this.type),t=la(t,!0),t=na(t,!!this.featureFlags.enableWeekFilters),t=Ca(t,this.supportedPropertiesList),this.featureFlags.enableChartsSorting||(t=Ba(t)),Promise.resolve(Pr(t))}addFiltersForBullet(e,t,i,r){const s=Ym(t);return eg(e,(0,a.getIntersectionPartAfter)(i.drillContext.intersection,s),r,this.featureFlags.enableDuplicatedLabelValuesInAttributeFilter)}getInsightWithDrillDownApplied(e,t,i){return Qm(this.addFiltersForBullet(e,t.drillDefinition,t.event,i),t.drillDefinition)}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(Ab,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}return null}mergeDerivedBucketItems(e,t,i){return t.items.reduce(((t,r)=>{t.push(r);const s=ms(r,i);return s&&!Ar(r)&&!gs(r,e.buckets)&&t.push(s),t}),[])}checkBeforeRender(e){super.checkBeforeRender(e);const t=(0,s.insightBucket)(e,a.BucketNames.MEASURES);if(!t||(0,s.bucketIsEmpty)(t))throw this.unmount(),new ht;return!0}isSortDisabled(e){const{buckets:t}=e,i=Gr(t,a.BucketNames.MEASURES),r=Gr(t,a.BucketNames.VIEW),s=Va(i,r,this.intl);return{disabled:r.length<1||i.length<1,disabledExplanation:s}}getDefaultAndAvailableSort(e){if(this.isSortDisabled(e).disabled)return{defaultSort:[],availableSorts:[]};const{buckets:t}=e,i=$r(t,[b]),r=Gr(t,a.BucketNames.VIEW),o=r.map((e=>(0,s.newAttributeSort)(e.localIdentifier,"asc")));return r.length>=2?{defaultSort:o,availableSorts:[rg(r[0].localIdentifier),rg(r[1].localIdentifier,i.map((e=>e.localIdentifier)),!0,i.length>1)]}:1===r.length?{defaultSort:o,availableSorts:[rg(r[0].localIdentifier,i.map((e=>e.localIdentifier)),!0,i.length>1)]}:{defaultSort:[],availableSorts:[]}}getSortConfig(e){const{defaultSort:t,availableSorts:i}=this.getDefaultAndAvailableSort(e),{disabled:r,disabledExplanation:s}=this.isSortDisabled(e),{properties:a,availableSorts:o}=e;return Promise.resolve({supported:!0,disabled:r,appliedSort:super.reuseCurrentSort(o,a,i,t),defaultSort:t,availableSorts:i,...s&&{disabledExplanation:s}})}}class Rb extends Sb{constructor(e){super(e),this.secondaryAxis=S.SECONDARY_Y,this.type=a.VisualizationTypes.COLUMN,this.defaultControlsProperties={stackMeasures:!1},this.initializeProperties(e.visualizationProperties)}getSupportedPropertiesList(){return K[this.axis||w]||[]}getDefaultAndAvailableSort(e,t){if(this.isSortDisabled(e).disabled)return{defaultSort:[],availableSorts:[]};const{buckets:i}=e,r=Gr(i,a.BucketNames.VIEW),o=Gr(i,a.BucketNames.STACK),n=Gr(i,a.BucketNames.MEASURES),l=r.map((e=>(0,s.newAttributeSort)(e.localIdentifier,"asc"))),d=!c(o)||t;return 2===r.length?n.length>=2&&!t?{defaultSort:l,availableSorts:[rg(r[0].localIdentifier),rg(r[1].localIdentifier,n.map((e=>e.localIdentifier)))]}:{defaultSort:l,availableSorts:[rg(r[0].localIdentifier),rg(r[1].localIdentifier,c(o)?n.map((e=>e.localIdentifier)):[],!0,d||n.length>1)]}:!c(r)&&d?{defaultSort:l,availableSorts:[rg(r[0].localIdentifier,c(o)?n.map((e=>e.localIdentifier)):[])]}:c(r)||c(n)?{defaultSort:[],availableSorts:[]}:{defaultSort:l,availableSorts:[rg(r[0].localIdentifier,n.map((e=>e.localIdentifier)),!0,n.length>1)]}}isSortDisabled(e){const{buckets:t}=e,i=Gr(t,a.BucketNames.MEASURES),r=Gr(t,a.BucketNames.VIEW);return{disabled:r.length<1||i.length<1,disabledExplanation:Va(i,r,this.intl)}}getSortConfig(e){const{buckets:t,properties:i,availableSorts:r}=e,{defaultSort:s,availableSorts:a}=this.getDefaultAndAvailableSort(e,_b(t,i)),{disabled:o,disabledExplanation:n}=this.isSortDisabled(e);return Promise.resolve({supported:!0,disabled:o,appliedSort:super.reuseCurrentSort(r,i,a,s),defaultSort:s,availableSorts:a,...n&&{disabledExplanation:n}})}}const Lb="local:combo/bucket-title-view-column-line.svg",Fb="local:combo/bucket-title-view-column-area.svg",Ob="local:combo/bucket-title-view-line-area.svg",{COLUMN:Bb,LINE:zb,AREA:Vb}=a.VisualizationTypes,Gb={[Bb]:"local:combo/bucket-title-measures-column.svg",[zb]:"local:combo/bucket-title-measures-line.svg",[Vb]:"local:combo/bucket-title-measures-area.svg"},Ub={[`${Bb}-${Bb}`]:"local:column/bucket-title-view.svg",[`${Bb}-${zb}`]:Lb,[`${Bb}-${Vb}`]:Fb,[`${zb}-${Bb}`]:Lb,[`${zb}-${zb}`]:"local:combo/bucket-title-view-line-line.svg",[`${zb}-${Vb}`]:Ob,[`${Vb}-${Bb}`]:Fb,[`${Vb}-${zb}`]:Ob,[`${Vb}-${Vb}`]:"local:area/bucket-title-view.svg"};class Hb extends tg{primaryChartType=a.VisualizationTypes.COLUMN;secondaryChartType=a.VisualizationTypes.COLUMN;constructor(e){super(e),this.type=a.VisualizationTypes.COMBO,this.axis=w,this.secondaryAxis=S.SECONDARY_Y;const t=e.visualizationProperties?.controls;this.primaryChartType=t?.primaryChartType??a.VisualizationTypes.COLUMN,this.secondaryChartType=t?.secondaryChartType??a.VisualizationTypes.COLUMN,this.supportedPropertiesList=this.getSupportedPropertiesList(),this.defaultControlsProperties={stackMeasures:this.isStackMeasuresByDefault()},this.initializeProperties(e.visualizationProperties)}getSupportedPropertiesList(){return Y[this.axis]||[]}getUiConfig(){return n({...$e,optionalStacking:{supported:!0,disabled:(0,N.isLineChart)(this.primaryChartType),stackMeasures:this.isStackMeasuresByDefault()}})}getExtendedReferencePoint(e){const t=n(e),i=this.configureChartTypes(t);this.primaryChartType=i?.controls?.primaryChartType??a.VisualizationTypes.COLUMN,this.secondaryChartType=i?.controls?.secondaryChartType??a.VisualizationTypes.COLUMN;let r={...t,properties:i,uiConfig:this.getUiConfig()};const s=us(e.buckets,a.BucketNames.MEASURES)?.items.length>1;return this.defaultControlsProperties={stackMeasures:this.isStackMeasuresByDefault()&&s},this.configureBuckets(r),r=va(r,this.secondaryAxis),this.axis=r?.uiConfig?.axis??C,this.supportedPropertiesList=this.getSupportedPropertiesList(),r=function(e,t,i){const r=n(e),s=(o=r?.buckets,c=[a.BucketNames.MEASURES,a.BucketNames.SECONDARY_MEASURES],o.filter((e=>rt(c,e?.localIdentifier))));var o,c;const d=[r?.properties?.controls?.primaryChartType??Bb,r?.properties?.controls?.secondaryChartType??zb],u=zr(r,i,t),p=r?.properties?.controls?.dualAxis??!0;return function(e,t,i){const r=!(!1===i&&(0,N.isLineChart)(t));l(e,"optionalStacking.canStackInPercent",r)}(u,d[1],p),s.forEach(((e,i)=>{const r=d[i],s=e?.localIdentifier??"",a=yt(kr[r].id,t);l(u,[g,s,"subtitle"],a),l(u,[g,s,"icon"],Gb[r])})),l(u,[g,a.BucketNames.VIEW,"icon"],Ub[d.join("-")]),l(r,be,u),r}(r,this.intl,this.type),r=la(r,this.isPercentDisabled(r)),r=na(r,!!this.featureFlags.enableWeekFilters),r=Ca(r,this.supportedPropertiesList),r=cs(r),this.featureFlags.enableChartsSorting||(r=Ba(r)),Promise.resolve(Pr(r))}isStackMeasuresByDefault(){return(0,N.isAreaChart)(this.primaryChartType)}configureBuckets(e){const t=e?.buckets??[],i=os(t,[a.BucketNames.TREND,a.BucketNames.VIEW]).slice(0,1);let r=[],s=[];if(ds(t,a.BucketNames.MEASURES)&&ds(t,a.BucketNames.SECONDARY_MEASURES)){r=Hr(t,a.BucketNames.MEASURES,[b]),s=Hr(t,a.BucketNames.SECONDARY_MEASURES,[b]);const e=Jr(t,[a.BucketNames.MEASURES,a.BucketNames.SECONDARY_MEASURES],[b]);s=s.concat(e)}else r=Zr(fs(t,pe,!0,(e=>!ws(e)))),s=_s(t);const o=function(e,t){return(e?.properties?.controls?.dualAxis??!0)||t.some((e=>e?.showOnSecondaryAxis))}(e,s);l(e,"properties.controls.dualAxis",o);const n=e?.properties?.controls?.primaryChartType??a.VisualizationTypes.COLUMN,c=e?.properties?.controls?.secondaryChartType??a.VisualizationTypes.LINE;l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:Ss(r,!1),chartType:n},{localIdentifier:a.BucketNames.SECONDARY_MEASURES,items:Ss(s,o),chartType:c},{localIdentifier:a.BucketNames.VIEW,items:i}])}buildVisualizationConfig(e,t){const i=super.buildVisualizationConfig(e,t),{stackMeasures:r,continuousLine:s}=i;return r&&r===s?.enabled?{...i,stackMeasures:this.hasStackingAreaChart(this.currentInsight)}:i}configureChartTypes(e){const t=e?.buckets??[],i=e?.properties?.controls??{},r=us(t,a.BucketNames.MEASURES)?.chartType??(i.primaryChartType||a.VisualizationTypes.COLUMN),s=us(t,a.BucketNames.SECONDARY_MEASURES)?.chartType??(i.secondaryChartType||a.VisualizationTypes.LINE);return r||s?{...e.properties,controls:{...i,primaryChartType:r,secondaryChartType:s}}:e.properties}isPercentDisabled(e){if(this.axis===w)return!1;const t=e?.buckets??[];return Os(t,a.BucketNames.MEASURES)+Os(t,a.BucketNames.SECONDARY_MEASURES)>1}isDataPointsControlDisabled(e){const t=[[this.primaryChartType,a.BucketNames.MEASURES],[this.secondaryChartType,a.BucketNames.SECONDARY_MEASURES]].filter((([e])=>e!==a.VisualizationTypes.COLUMN)).map((([,t])=>(0,s.insightBuckets)(e,t)));return 0===t.length||t.every((e=>(0,s.bucketsIsEmpty)(e)))}hasStackingAreaChart(e){const t=this.visualizationProperties?.controls?.stackMeasures;if(void 0===t){const t=(0,s.insightBucket)(e,a.BucketNames.MEASURES);return(0,N.isAreaChart)(this.primaryChartType)&&t?.items.length>1}return t}isContinuousLineControlDisabled(e){const t=[[this.primaryChartType,a.BucketNames.MEASURES],[this.secondaryChartType,a.BucketNames.SECONDARY_MEASURES]].filter((([e])=>e===a.VisualizationTypes.LINE||e===a.VisualizationTypes.AREA)).map((([,t])=>(0,s.insightBuckets)(e,t)));return 0===t.length||t.every((e=>(0,s.bucketsIsEmpty)(e)))||this.hasStackingAreaChart(e)}getDefaultAndAvailableSort(e){const t=Hr(e,a.BucketNames.MEASURES,[b]),i=Hr(e,a.BucketNames.SECONDARY_MEASURES,[b]),r=Gr(e,a.BucketNames.VIEW),o=r.map((e=>(0,s.newAttributeSort)(e.localIdentifier,"asc")));if(!(c(r)||c(t)&&c(i))){const e=[...t,...i];return{defaultSort:o,availableSorts:[rg(r[0].localIdentifier,e.map((e=>e.localIdentifier)),!0,e.length>1)]}}return{defaultSort:[],availableSorts:[]}}isSortDisabled(e,t){const{buckets:i}=e,r=Hr(i,a.BucketNames.MEASURES,[b]),s=Hr(i,a.BucketNames.SECONDARY_MEASURES,[b]),o=Gr(i,a.BucketNames.VIEW);return{disabled:o.length<1||0===t.length||r.length<1&&s.length<1,disabledExplanation:Va([...r,...s],o,this.intl)}}getSortConfig(e){const{buckets:t,properties:i,availableSorts:r}=e,{defaultSort:s,availableSorts:a}=this.getDefaultAndAvailableSort(t),{disabled:o,disabledExplanation:n}=this.isSortDisabled(e,a);return Promise.resolve({supported:!0,disabled:o,appliedSort:super.reuseCurrentSort(r,i,a,s),defaultSort:s,availableSorts:a,...n&&{disabledExplanation:n}})}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={isDataPointsControlDisabled:this.isDataPointsControlDisabled(e),isContinuousLineControlDisabled:this.isContinuousLineControlDisabled(e),supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(zm,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,axis:this.axis,panelConfig:r,dataLabelDefaultValue:"auto",configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}}var Wb=i(57557);class jb extends o.Component{render(){return o.createElement("div",{className:this.getClassNames()},o.createElement(qa,{id:"properties.unsupported"}))}getClassNames(){return Xa("adi-unsupported-configuration","s-properties-unsupported")}}class Kb extends Mm{componentDidMount(){this.props.pushData({properties:Wb(this.props.properties,"controls"),references:null,ignoreUndoRedo:!0})}isControlDisabled(){return!0}renderConfigurationPanel(){return o.createElement(jb,null)}}class $b extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.COMBO,this.supportedPropertiesList=[],this.initializeProperties(e.visualizationProperties)}getExtendedReferencePoint(e){const t=n(e);let i={...t,uiConfig:n(Ke)};const r=t?.buckets??[],s=os(r,[a.BucketNames.TREND,a.BucketNames.VIEW]).slice(0,1);let o=[],c=[];if(ds(r,a.BucketNames.MEASURES)&&ds(r,a.BucketNames.SECONDARY_MEASURES)){o=Hr(r,a.BucketNames.MEASURES,[b]),c=Hr(r,a.BucketNames.SECONDARY_MEASURES,[b]);const e=Jr(r,[a.BucketNames.MEASURES,a.BucketNames.SECONDARY_MEASURES],[b]);c.push(...e)}else{const e=$r(r,[b]);o=function(e){const t=Rr(e)[0];return e.filter((e=>e.masterLocalIdentifier===t.localIdentifier||e===t))}(e),c=dt(e,...o)}return l(i,g,[{localIdentifier:a.BucketNames.MEASURES,items:o},{localIdentifier:a.BucketNames.SECONDARY_MEASURES,items:c},{localIdentifier:a.BucketNames.VIEW,items:s}]),i=function(e,t,i){const r=n(e);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"canAddItems"],!0),l(r,[be,g,a.BucketNames.SECONDARY_MEASURES,"canAddItems"],!0),l(r,[be,g,a.BucketNames.VIEW,"canAddItems"],!0),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:combo/bucket-title-measures-column.svg"),l(r,[be,g,a.BucketNames.SECONDARY_MEASURES,"icon"],"local:combo/bucket-title-secondary-measures.svg"),l(r,[be,g,a.BucketNames.VIEW,"icon"],"local:combo/bucket-title-view-column-line.svg"),r}(i,this.intl,this.type),i=la(i,!1),i=na(i,!!this.featureFlags.enableWeekFilters),i=cs(i),i=Ba(i),Promise.resolve(Pr(i))}renderConfigurationPanel(){const e=this.getConfigPanelElement();if(e){const t=this.visualizationProperties??{};this.renderFun(o.createElement(Kb,{locale:this.locale,pushData:this.pushData,properties:t}),e)}return null}}class qb extends Mm{renderConfigurationPanel(){const{propertiesMeta:e,properties:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:e,properties:t,pushData:i},o.createElement(Ao,{pushData:i,properties:t,isDisabled:r,defaultValue:!1})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}}class Yb extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.PIE,this.supportedPropertiesList=Z,this.initializeProperties(e.visualizationProperties)}getExtendedReferencePoint(e){const t=n(e);let i={...t,uiConfig:n(Be)};i=ps(i),i=hs(i);const r=t?.buckets??[],s=is(r);if(s.length){const e=Zr(fs(r,1));l(i,g,[{localIdentifier:a.BucketNames.MEASURES,items:e},{localIdentifier:a.BucketNames.VIEW,items:s.slice(0,1)}])}else{const e=Zr(fs(r,20,!0));e.length>1?l(i,be,n(ze)):l(i,be,n(Ve)),l(i,g,[{localIdentifier:a.BucketNames.MEASURES,items:e},{localIdentifier:a.BucketNames.VIEW,items:[]}])}return i=function(e,t,i){const r=n(e),s=r?.buckets??[],o=!Hs(s),c=!Ws(s,a.BucketNames.MEASURES);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"canAddItems"],o),l(r,[be,g,a.BucketNames.VIEW,"canAddItems"],c),l(r,be,function(e,t){const i=e?.buckets,r=n(e?.uiConfig);return it(i,(e=>{const i=e?.localIdentifier??"",s=r?.buckets?.[i];if(s?.enabled&&!s?.canAddItems){let s;if(e.localIdentifier===a.BucketNames.VIEW&&(s=kr.category.id),s){const e=yt(s,t);l(r,[g,i,"warningMessage"],e)}}})),r}(r,t)),l(r,[be,ve,ye],!fa(e.properties)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:pie/bucket-title-measures.svg"),l(r,[be,g,a.BucketNames.VIEW,"icon"],"local:pie/bucket-title-view.svg"),r}(i,this.intl,this.type),i=la(i,!1),i=na(i,!!this.featureFlags.enableWeekFilters),i=Ca(i,this.supportedPropertiesList),this.featureFlags.enableChartsSorting||(i=Ba(i)),Promise.resolve(Pr(i))}getDefaultAndAvailableSort(e,t){return c(e)||c(t)?{defaultSort:[],availableSorts:[]}:{defaultSort:[(0,s.newMeasureSort)(e[0].localIdentifier,"desc")],availableSorts:[rg(t[0].localIdentifier,[e[0].localIdentifier],!0,!1)]}}isSortDisabled(e,t){const{buckets:i}=e,r=Zr(i),s=Gr(i,a.BucketNames.VIEW);return{disabled:s.length<1||r.length<1||0===t.length,disabledExplanation:Va(r,s,this.intl)}}getSortConfig(e){const{buckets:t,properties:i,availableSorts:r}=e,s=Zr(t),o=Gr(t,a.BucketNames.VIEW),{defaultSort:n,availableSorts:l}=this.getDefaultAndAvailableSort(s,o),{disabled:c,disabledExplanation:d}=this.isSortDisabled(e,l);return Promise.resolve({supported:!0,disabled:c,appliedSort:super.reuseCurrentSort(r,i,l,n),defaultSort:n,availableSorts:l,...d&&{disabledExplanation:d}})}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(qb,{locale:this.locale,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,colors:this.colors,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,references:this.references,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}buildVisualizationConfig(e,t){const i=super.buildVisualizationConfig(e,t);return this.environment===ma?{...i,chart:{verticalAlign:N.TOP}}:i}}var Xb=i(28583);function Qb(e){const t=n(e);return Xb(t[be],Ee),l(t,[be,g,a.BucketNames.MEASURES,"icon"],"local:donut/bucket-title-measures.svg"),l(t,[be,g,a.BucketNames.VIEW,"icon"],"local:donut/bucket-title-view.svg"),t}class Zb extends Yb{constructor(e){super(e),this.type=a.VisualizationTypes.DONUT}getExtendedReferencePoint(e){return super.getExtendedReferencePoint(e).then(Qb)}}function Jb(e){const t=n(e);return Xb(t[be],Ee),l(t,[be,g,a.BucketNames.MEASURES,"icon"],"local:funnel/bucket-title-measures.svg"),l(t,[be,g,a.BucketNames.VIEW,"icon"],"local:funnel/bucket-title-view.svg"),l(t,[be,g,a.BucketNames.MEASURES,"isShowInPercentVisible"],!1),la(t,!0),t}class ef extends Mm{renderConfigurationPanel(){const{propertiesMeta:e,properties:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:e,properties:t,pushData:i},o.createElement(Ao,{pushData:i,properties:t,isDisabled:r,defaultValue:"auto",enablePercentLabels:!0})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}}class tf extends Yb{constructor(e){super(e),this.type=a.VisualizationTypes.FUNNEL,this.supportedPropertiesList=J}getExtendedReferencePoint(e){return super.getExtendedReferencePoint(e).then(Jb)}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(ef,{locale:this.locale,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,colors:this.colors,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,references:this.references,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}}class rf extends Mm{renderConfigurationPanel(){const{propertiesMeta:e,properties:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:e,properties:t,pushData:i},o.createElement(Ao,{pushData:i,properties:t,isDisabled:r,defaultValue:"auto"})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}}function sf(e){const t=n(e);return Xb(t[be],Ee),l(t,[be,g,a.BucketNames.MEASURES,"icon"],"local:pyramid/bucket-title-measures.svg"),l(t,[be,g,a.BucketNames.VIEW,"icon"],"local:pyramid/bucket-title-view.svg"),t}class af extends Yb{constructor(e){super(e),this.type=a.VisualizationTypes.PYRAMID}getExtendedReferencePoint(e){return super.getExtendedReferencePoint(e).then(sf)}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(rf,{locale:this.locale,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,colors:this.colors,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,references:this.references,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}}var of=i(16576);function nf(e){const t=n(We);return e?.enableNewHeadline&&l(t,[g,a.BucketNames.SECONDARY_MEASURES,"itemsLimit"],2),t}function lf(e){const t={...de.comparison,...e?.controls?.comparison||{}};return{...e,controls:{...e.controls,comparison:t}}}function cf(e){const t=e?.kpi,i=e?.palette;return[df(N.ComparisonColorType.POSITIVE,t?.value?.positiveColor),df(N.ComparisonColorType.NEGATIVE,t?.value?.negativeColor),df(N.ComparisonColorType.EQUALS,t?.secondaryInfoColor,i?.complementary?.c6)]}function df(e,t,i){const r=t?(0,of.z)(t):null,s=i?(0,of.z)(i):null;return{guid:e,fill:r||s||(0,N.getComparisonRgbColor)(null,e)}}function uf(e){const t=(0,s.insightBucket)(e,a.BucketNames.SECONDARY_MEASURES);return t&&(0,s.bucketMeasures)(t)||[]}const pf="comparison",hf=`${pf}.enabled`,mf=`${pf}.calculationType`,gf=`${pf}.format`,bf=`${pf}.subFormat`,ff=`${pf}.position`,vf=`${pf}.isArrowEnabled`,yf=`${pf}.colorConfig`,Cf=`${yf}.disabled`,kf=`${yf}.equals`,wf=`${yf}.positive`,Sf=`${yf}.negative`,xf=`${pf}.labelConfig`,_f=`${xf}.unconditionalValue`,Ef=`${xf}.isConditional`,Mf=`${xf}.positive`,Tf=`${xf}.negative`,Pf=`${xf}.equals`;var Af=i(18029);const Df={example:wr.calculationTooltipExampleSection.id,formula:wr.calculationTooltipFormulaSection.id,formulaChange:wr.calculationTooltipFormulaChangeSection.id,formulaDifference:wr.calculationTooltipFormulaDifferenceSection.id},If={exampleChange:wr.calculatedAsChangeTooltipExample.id,useInChange:wr.calculatedAsChangeTooltipUseIn.id,formulaChange:wr.calculatedAsChangeTooltipFormula.id,exampleRatio:wr.calculatedAsRatioTooltipExample.id,useInRatio:wr.calculatedAsRatioTooltipUseIn.id,formulaRatio:wr.calculatedAsRatioTooltipFormula.id,exampleDifference:wr.calculatedAsDifferenceTooltipExample.id,useInDifference:wr.calculatedAsDifferenceTooltipUseIn.id,formulaDifference:wr.calculatedAsDifferenceTooltipFormula.id,exampleChangeDifference:wr.calculatedAsChangeDifferenceTooltipExample.id,useInChangeDifference:wr.calculatedAsChangeDifferenceTooltipUseIn.id},Nf=e=>Af(e).replace(/\s/g,"");var Rf=({calculationType:e,section:t,contentClassNames:i,shouldHideTitle:r,isSectionCombineCalculationType:s})=>{const a=((e,t,i)=>{const r=i?`${e}${Nf(t)}`:e;return Df[r]})(t,e,s),n=((e,t)=>{const i=`${e}${Nf(t)}`;return If[i]})(t,e);return o.createElement(o.Fragment,null,r?null:o.createElement(qa,{id:a,tagName:"h4"}),o.createElement("p",{className:i},o.createElement(qa,{id:n})))},Lf=({title:e,calculationType:t})=>o.createElement("div",{className:"calculation-item-info"},o.createElement("h3",{className:"calculation-item-info-header"},e),o.createElement(Rf,{calculationType:t,section:"useIn",contentClassNames:"calculation-item-info-use-in-content",shouldHideTitle:!0}),t===N.CalculateAs.CHANGE_DIFFERENCE?o.createElement(o.Fragment,null,o.createElement(Rf,{calculationType:N.CalculateAs.CHANGE,section:"formula",isSectionCombineCalculationType:!0}),o.createElement(Rf,{calculationType:N.CalculateAs.DIFFERENCE,section:"formula",isSectionCombineCalculationType:!0})):o.createElement(Rf,{calculationType:t,section:"formula"}),o.createElement(Rf,{calculationType:t,section:"example"}));const Ff=[{align:"cr cl"}],Of={"cr cl":[15,0]};var Bf=({title:e,icon:t,info:i,isSelected:r,onClick:s})=>{const a=Xa(["gd-list-item","calculation-list-item","s-calculation-list-item",`s-${e}`],{"is-selected":r});return o.createElement("div",{className:a,onClick:s},o.createElement("span",{role:"icon",className:`gd-list-icon ${t}`}),o.createElement("span",null,e),o.createElement("div",{role:"item-info",className:"gd-list-item-bubble s-list-item-info"},o.createElement(Ya.BubbleHoverTrigger,{tagName:"div",showDelay:No,hideDelay:0},o.createElement("div",{className:"inlineBubbleHelp"}),o.createElement(Ya.Bubble,{className:"bubble-light adi-arithmetic-measure-operand-bubble calculation-list-item-bubble s-calculation-list-item-bubble",alignPoints:Ff,arrowOffsets:Of},o.createElement(Lf,{title:e,calculationType:i})))))};const zf=[{align:"cr cl",offset:{x:0,y:7}}];var Vf=({disabled:e,defaultCalculationType:t,properties:i,showDisabledMessage:r,pushData:s})=>{const{formatMessage:a}=hr(),n=i.controls?.comparison?.calculationType||t,l=(0,o.useMemo)((()=>Mo.map((e=>({...e,title:a({id:e.title})})))),[a]);return o.createElement("div",{className:"calculation-control s-calculation-control"},o.createElement(lo,{value:n,valuePath:mf,labelText:wr.calculationTypeTitle.id,disabled:e,showDisabledMessage:r,disabledMessageAlignPoints:zf,width:194,items:l,customListItem:Bf,properties:i,pushData:s}))},Gf=({disabled:e,isOpened:t,selectedPreset:i,toggleDropdown:r})=>o.createElement("div",{className:"adi-bucket-dropdown number-format-toggle-button s-number-format-toggle-button"},o.createElement(Ya.DropdownButton,{title:i.name,value:i.name,onClick:r,isOpen:t,disabled:e})),Uf=({disabled:e,valuePath:t,labelText:i,format:r,showDisabledMessage:s,separators:a,properties:c,pushData:d})=>{const u=hr(),p=(0,o.useMemo)((()=>(e=>[{name:e.formatMessage(wr.formatPresetInherit),localIdentifier:"inherit",format:null,previewNumber:1000.12},{name:e.formatMessage(wr.formatPresetRounded),localIdentifier:"rounded",format:"#,##0",previewNumber:1000.12},{name:e.formatMessage(wr.formatPresetDecimal1),localIdentifier:"decimal-1",format:"#,##0.0",previewNumber:1000.12},{name:e.formatMessage(wr.formatPresetDecimal2),localIdentifier:"decimal-2",format:"#,##0.00",previewNumber:1000.12},{name:e.formatMessage(wr.formatPresetPercentRounded),localIdentifier:"percent-rounded",format:"#,##0%",previewNumber:.1},{name:e.formatMessage(wr.formatPresetPercent1),localIdentifier:"percent-1",format:"#,##0.0%",previewNumber:.101},{name:e.formatMessage(wr.formatPresetPercent2),localIdentifier:"percent-2",format:"#,##0.00%",previewNumber:.1012}])(u)),[u]),h=(0,o.useMemo)((()=>(e=>[{name:e.formatMessage(wr.formatTemplateRounded),localIdentifier:"rounded",format:"#,##0"},{name:e.formatMessage(wr.formatTemplateDecimal1),localIdentifier:"decimal-1",format:"#,##0.0"},{name:e.formatMessage(wr.formatTemplateDecimal2),localIdentifier:"decimal-2",format:"#,##0.00"},{name:e.formatMessage(wr.formatTemplatePercentRounded),localIdentifier:"percent-rounded",format:"#,##0%"},{name:e.formatMessage(wr.formatTemplatePercent1),localIdentifier:"percent-1",format:"#,##0.0%"},{name:e.formatMessage(wr.formatTemplatePercent2),localIdentifier:"percent-2",format:"#,##0.00%"},{name:e.formatMessage(wr.formatTemplateCurrency),localIdentifier:"currency",format:"$#,##0.00"},{name:e.formatMessage(wr.formatTemplateCurrencyShortened),localIdentifier:"currency-shortened",format:"[>=1000000000000]$#,,,,.0 T;\n[>=1000000000]$#,,,.0 B;\n[>=1000000]$#,,.0 M;\n[>=1000]$#,.0 K;\n[>=0]$#,##0;\n[<=-1000000000000]-$#,,,,.0 T;\n[<=-1000000000]-$#,,,.0 B;\n[<=-1000000]-$#,,.0 M;\n[<=-1000]-$#,.0 K;\n[<0]-$#,##0"},{name:e.formatMessage(wr.formatTemplateLargeNumbersShortened),localIdentifier:"large-numbers-shortened",format:"[>=1000000000000]#,,,,.0 T;\n[>=1000000000]#,,,.0 B;\n[>=1000000]#,,.0 M;\n[>=1000]#,.0 K;\n[>=0]#,##0;\n[<=-1000000000000]-#,,,,.0 T;\n[<=-1000000000]-#,,,.0 B;\n[<=-1000000]-#,,.0 M;\n[<=-1000]-#,.0 K;\n[<0]-#,##0"},{name:e.formatMessage(wr.formatTemplateLargeNumbersShortenedWithColors),localIdentifier:"large-numbers-shortened-with-colors",format:"[>=1000000000000][green]#,,,,.0 T;\n[>=1000000000][green]#,,,.0 B;\n[>=1000000][green]#,,.0 M;\n[>=1000][black]#,.0 K;\n[>=0][black]#,##0;\n[<=-1000000000000][red]-#,,,,.0 T;\n[<=-1000000000][red]-#,,,.0 B;\n[<=-1000000][red]-#,,.0 M;\n[<=-1000][red]-#,.0 K;\n[<0][black]-#,##0"},{name:e.formatMessage(wr.formatTemplateNegativeNumbersRed),localIdentifier:"negative-numbers-red",format:"[<0][red]-#,##0.0;\n[black]#,##0.0"},{name:e.formatMessage(wr.formatTemplateFinancial),localIdentifier:"financial",format:"[<0](#,##0.0);\n#,##0.0"},{name:e.formatMessage(wr.formatTemplateDecimalWithoutThousandsSeparator),localIdentifier:"decimal-without-thousands-separator",format:"0.00"},{name:e.formatMessage(wr.formatTemplateConditionalColors),localIdentifier:"conditional-colors",format:"[<0][red]#,#.##;\n[<1000][black]#,0.##;\n[>=1000][green]#,#.##"},{name:e.formatMessage(wr.formatTemplateTrendSymbols),localIdentifier:"trend-symbols",format:"[<0][green]▲ #,##0.0%;\n[=0][black]#,##0.0%;\n[>0][red]▼ #,##0.0%"},{name:e.formatMessage(wr.formatTemplateTimeFromSeconds),localIdentifier:"time-from-seconds",format:"[>=86400]{{{86400||0d}}} {{{3600|24|00}}}h;\n[>=3600]{{{3600|24|00}}}h {{{60|60|00}}}m;\n[>=60]{{{60|60|00}}}m {{{|60.|00}}}s;\n[>0]{{{|60.|00.0}}}s;\n[=0]{{{|60.|0}}}"},{name:e.formatMessage(wr.formatTemplateZeroInsteadOfNull),localIdentifier:"zero-instead-of-null",format:"[=null]0.00;\n[>=0]#,#0.00;\n[<0]-#,#0.00"}])(u)),[u]);return o.createElement(Ja,{showDisabledMessage:s},o.createElement("div",{className:"adi-properties-dropdown-container measure-number-format-control"},o.createElement("span",{className:"input-label-text"},o.createElement(qa,{id:i})),o.createElement("label",{className:"adi-bucket-inputfield gd-input gd-input-small measure-number-format-control-dropdown"},o.createElement(Ya.MeasureNumberFormat,{disabled:e,toggleButton:Gf,presets:p,templates:h,separators:a,selectedFormat:r,setFormat:e=>{const i=n(c);l(i.controls,t,e),d({properties:i})},locale:u.locale,key:r}))))},Hf=({disabled:e,showDisabledMessage:t,properties:i,pushData:r})=>{const s=hr(),a=i?.controls?.comparison?.position||N.ComparisonPositionValues.AUTO,n=(0,o.useMemo)((()=>Ct(To,s)),[s]);return o.createElement("div",{className:"comparion-postion-control s-comparison-position-control"},o.createElement(lo,{value:a,valuePath:ff,labelText:wr.positionTitle.id,disabled:e,showDisabledMessage:t,items:n,properties:i,pushData:r}))},Wf=({sectionDisabled:e,showDisabledMessage:t,defaultFormat:i,separators:r,properties:s,pushData:a})=>{const n=function(e,t){return(0,N.getComparisonFormat)(e?.controls?.comparison?.format,t)}(s,i),l=function(e){return(0,N.getComparisonFormat)(e?.controls?.comparison?.subFormat,null)}(s),c=s.controls?.comparison?.calculationType===N.CalculateAs.CHANGE_DIFFERENCE;return o.createElement(Fo,{title:wr.valueSubSectionTitle.id,canBeToggled:!1},o.createElement(Uf,{disabled:e,valuePath:gf,labelText:wr.formatTitle.id,format:n,showDisabledMessage:t,separators:r,properties:s,pushData:a}),c?o.createElement(Uf,{disabled:e,valuePath:bf,labelText:wr.subFormatTitle.id,format:l,showDisabledMessage:t,separators:r,properties:s,pushData:a}):null,o.createElement(Hf,{disabled:e,showDisabledMessage:t,properties:s,pushData:a}))},jf=({disabled:e,showDisabledMessage:t,properties:i,pushData:r})=>{const s=i?.controls?.comparison?.isArrowEnabled;return o.createElement("div",{className:"comparison-arrow-control s-comparison-arrow-control"},o.createElement(ro,{valuePath:vf,labelText:wr.arrowControlTitle.id,properties:i,checked:s,disabled:e,showDisabledMessage:t,pushData:r}))},Kf=({disabled:e,showDisabledMessage:t,color:i,colorType:r,colorPalette:s,labelDescriptor:a,valuePath:c,properties:d,pushData:u})=>{const{formatMessage:p}=hr(),h=p(a),m=(0,N.getComparisonRgbColor)(i,r,s);return o.createElement(Ja,{showDisabledMessage:t},o.createElement(on,{colorPalette:s,onColorSelected:e=>{const t=n(d);l(t.controls,c,e),u({properties:t})},selectedColorItem:i,showCustomPicker:!0,disabled:e},o.createElement(nn,{text:h,color:m})))},$f=({disabled:e,showDisabledMessage:t,properties:i,pushData:r})=>{const{formatMessage:s}=hr(),a=!i?.controls?.comparison?.colorConfig?.disabled,c=s(wr.colorsConfigTitle);return o.createElement(Ja,{showDisabledMessage:t},o.createElement(Ya.Checkbox,{text:c,value:a,disabled:e,onChange:e=>{const t=n(i);l(t.controls,Cf,!e),r({properties:t})}}))},qf=({disabled:e,properties:t,pushData:i})=>{const{formatMessage:r}=hr(),s=r(kr.resetColors),a=(c=t?.controls?.comparison?.colorConfig,!c?.positive&&!c?.negative&&!c?.equals);var c;const d=Xa(["gd-color-reset-colors-section","s-gd-color-reset-colors-section"],{disabled:e||a});return o.createElement("div",{className:d},o.createElement(Ya.Button,{value:s,className:"gd-button-link",onClick:()=>{const e=n(t);l(e.controls,wf,void 0),l(e.controls,Sf,void 0),l(e.controls,kf,void 0),i({properties:e})},disabled:e}))},Yf=({disabled:e,showDisabledMessage:t,properties:i,colorPalette:r,pushData:s})=>{const a=i?.controls?.comparison?.colorConfig,n=e||a?.disabled;return o.createElement("div",{className:"comparison-color-control s-comparison-color-control"},o.createElement($f,{disabled:e,showDisabledMessage:t,properties:i,pushData:s}),o.createElement("div",{className:"comparison-color-list-item s-comparison-color-list-item"},o.createElement(Kf,{disabled:n,showDisabledMessage:t,color:a?.positive,colorType:N.ComparisonColorType.POSITIVE,colorPalette:r,valuePath:wf,labelDescriptor:wr.colorsConfigPositive,properties:i,pushData:s}),o.createElement(Kf,{disabled:n,showDisabledMessage:t,color:a?.negative,colorType:N.ComparisonColorType.NEGATIVE,colorPalette:r,valuePath:Sf,labelDescriptor:wr.colorsConfigNegative,properties:i,pushData:s}),o.createElement(Kf,{disabled:n,showDisabledMessage:t,color:a?.equals,colorType:N.ComparisonColorType.EQUALS,colorPalette:r,valuePath:kf,labelDescriptor:wr.colorsConfigEquals,properties:i,pushData:s})),o.createElement(qf,{disabled:e,properties:i,pushData:s}))},Xf=({sectionDisabled:e,showDisabledMessage:t,properties:i,colorPalette:r,pushData:s})=>o.createElement(Fo,{title:wr.indicatorSubSectionTitle.id,canBeToggled:!1},o.createElement("div",{className:"comparison-indicator-sub-section s-comparison-indicator-sub-section"},o.createElement(jf,{disabled:e,showDisabledMessage:t,properties:i,pushData:s}),o.createElement(Yf,{disabled:e,showDisabledMessage:t,properties:i,colorPalette:r,pushData:s})));const Qf=[{align:"cr cl",offset:{x:0,y:7}}];var Zf=({sectionDisabled:e,showDisabledMessage:t,defaultLabelKeys:i,calculationType:r,properties:s,pushData:a})=>{const n=hr(),l=r===N.CalculateAs.RATIO,c=s?.controls?.comparison?.position===N.ComparisonPositionValues.TOP,d=e||c,u=t||c,p=d||l,h=u||l,m=function(e,t,i){return e?kr.notApplicable.id:t?wr.labelPositionOnTopDisabled.id:i?wr.labelConditionalDisabledByRatio.id:void 0}(t,c,l),g=!!s?.controls?.comparison?.labelConfig?.isConditional&&r!==N.CalculateAs.RATIO,{unconditionalValue:b,positiveValue:f,negativeValue:v,equalsValue:y}=((e,t,i,r)=>{const s=e?.controls?.comparison?.labelConfig?.unconditionalValue||r.formatMessage({id:t.nonConditionalKey});return i?{unconditionalValue:s,positiveValue:e?.controls?.comparison?.labelConfig?.positive||r.formatMessage({id:t.positiveKey}),negativeValue:e?.controls?.comparison?.labelConfig?.negative||r.formatMessage({id:t.negativeKey}),equalsValue:e?.controls?.comparison?.labelConfig?.equals||r.formatMessage({id:t.equalsKey})}:{unconditionalValue:s}})(s,i,g,n);return o.createElement(Fo,{title:wr.labelSubSectionTitle.id,canBeToggled:!1},o.createElement("div",{className:"comparison-label-conditional s-comparison-label-conditional"},o.createElement(ro,{valuePath:Ef,labelText:wr.labelConditionalTitle.id,properties:s,checked:g,disabled:p,showDisabledMessage:h,disabledMessageId:m,pushData:a})),g?o.createElement(o.Fragment,null,o.createElement("div",{className:"comparison-label-itemline s-comparison-label-itemline"},o.createElement(Bo,{type:"text",valuePath:Mf,properties:s,labelText:wr.labelPositiveTitle.id,disabled:d,showDisabledMessage:u,disabledMessageAlignPoints:Qf,disabledMessageId:m,placeholder:i.positiveKey,pushData:a,value:f})),o.createElement("div",{className:"comparison-label-itemline s-comparison-label-itemline"},o.createElement(Bo,{type:"text",valuePath:Tf,properties:s,labelText:wr.labelNegativeTitle.id,disabled:d,showDisabledMessage:u,disabledMessageAlignPoints:Qf,disabledMessageId:m,placeholder:i.negativeKey,pushData:a,value:v})),o.createElement("div",{className:"comparison-label-itemline s-comparison-label-itemline"},o.createElement(Bo,{type:"text",valuePath:Pf,properties:s,labelText:wr.labelEqualsTitle.id,disabled:d,showDisabledMessage:u,disabledMessageAlignPoints:Qf,disabledMessageId:m,placeholder:i.equalsKey,pushData:a,value:y}))):o.createElement("div",{className:"comparison-label-itemline s-comparison-label-itemline"},o.createElement(Bo,{type:"text",valuePath:_f,properties:s,labelText:wr.labelNameTitle.id,disabled:d,showDisabledMessage:u,disabledMessageAlignPoints:Qf,disabledMessageId:m,placeholder:i.nonConditionalKey,pushData:a,value:b})))},Jf=({controlDisabled:e,disabledByVisualization:t,defaultCalculationType:i,separators:r,properties:s,propertiesMeta:a,colorPalette:n,pushData:l})=>{const c=s.controls?.comparison?.enabled,d=e||t,u=d||!c,p=!e&&t,h=s?.controls?.comparison?.calculationType||i,{defaultFormat:m,defaultLabelKeys:g}=(0,N.getCalculationValuesDefault)(h);return o.createElement(to,{id:"comparison_section",valuePath:hf,title:wr.title.id,propertiesMeta:a,properties:s,pushData:l,canBeToggled:!0,toggleDisabled:d,showDisabledMessage:p,toggledOn:c},o.createElement(Vf,{disabled:u,showDisabledMessage:p,defaultCalculationType:i,properties:s,pushData:l}),o.createElement(Wf,{sectionDisabled:u,showDisabledMessage:p,defaultFormat:m,separators:r,properties:s,pushData:l}),o.createElement(Xf,{sectionDisabled:u,showDisabledMessage:p,properties:s,colorPalette:n,pushData:l}),o.createElement(Zf,{sectionDisabled:u,showDisabledMessage:p,defaultLabelKeys:g,calculationType:h,properties:s,pushData:l}))};const ev={"tc bc":[0,Ro]},tv=[{align:"tc bc"}];var iv=class extends Mm{renderConfigurationPanel(){const{insight:e,propertiesMeta:t,properties:i,pushData:r,panelConfig:n}=this.props,l=this.isControlDisabled(),c=!function(e){const t=function(e){const t=(0,s.insightBucket)(e,a.BucketNames.MEASURES);return t&&(0,s.bucketMeasure)(t)}(e),i=uf(e);return t&&1===i?.length}(e),d=function(e){const[t]=uf(e);return(0,s.isPoPMeasure)(t)||(0,s.isPreviousPeriodMeasure)(t)?N.CalculateAs.CHANGE:N.CalculateAs.RATIO}(e),u=Xa("bubble-primary",{invisible:!l});return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,o.createElement(Jf,{controlDisabled:l,disabledByVisualization:c,defaultCalculationType:d,separators:n.separators,colorPalette:n.comparisonColorPalette,properties:i,propertiesMeta:t,pushData:r}),this.renderInteractionsSection(),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:u,arrowOffsets:ev,alignPoints:tv},o.createElement(qa,{id:"properties.config.not_applicable"})))}};function rv(e,t,i){const r=n(e);return r[g]=[{localIdentifier:a.BucketNames.MEASURES,items:t?[t]:[]},{localIdentifier:a.BucketNames.SECONDARY_MEASURES,items:i||[]}],r}class sv extends Km{settings;renderFun;unmountFun;keepPrimaryDerivedMeasureOnly=!1;constructor(e){super(e),this.settings=e.featureFlags,this.renderFun=e.renderFun,this.unmountFun=e.unmountFun,this.supportedPropertiesList=ce}unmount(){this.unmountFun([this.getElement(),this.getConfigPanelElement()])}getExtendedReferencePoint(e){let t={...n(e),uiConfig:nf(this.settings)};qs(e.filters)||(t=ps(t),t=hs(t));const i=function(e){const t=rv(e),i=e.buckets.length;let r=!0,s=-1;for(;r&&++s<i;){const i=e.buckets[s],a=t[g][s];if(!a){i.items.length&&(r=!1);continue}const o=t.uiConfig.buckets[a.localIdentifier];o?.enabled&&i.items.length<=o.itemsLimit&&nt(i.items,(e=>e.type===b))?a.items=i.items:r=!1}return r?t:null}(t);if(i){t=i;const e=i.buckets[0].items[0];this.keepPrimaryDerivedMeasureOnly=!e||!gs(e,i.buckets)}else{const e=t.uiConfig.buckets[a.BucketNames.SECONDARY_MEASURES].itemsLimit,i=$r(fs(t.buckets,e+1,!0),[b]),r=i.length>0?i[0]:null;let s=i.length>1?i.slice(1,e+1):null;const o=ms(r,i);this.keepPrimaryDerivedMeasureOnly&&o&&!Dr(r)&&(s=[o]),this.keepPrimaryDerivedMeasureOnly=!o,t=rv(t,r,s)}return la(t,!0),na(t,!!this.settings?.enableWeekFilters),t.uiConfig=function(e,t,i){let r=nf(i);const s=e?.buckets??[],o=zs(s),n=function(e){return 0===Vr(e,a.BucketNames.SECONDARY_MEASURES)}(s);r=zr({...e,uiConfig:r},a.VisualizationTypes.HEADLINE,t),l(r,[g,a.BucketNames.MEASURES,"canAddItems"],o),l(r,[g,a.BucketNames.SECONDARY_MEASURES,"canAddItems"],n),l(r,[g,a.BucketNames.MEASURES,"icon"],"local:headline/bucket-title-measures.svg"),l(r,[g,a.BucketNames.SECONDARY_MEASURES,"icon"],"local:headline/bucket-title-secondary-measures.svg");const c=Vr(s,a.BucketNames.MEASURES),d=Vr(s,a.BucketNames.SECONDARY_MEASURES);return 0===c&&0!==d&&(r.customError={heading:yt(kr.heading.id,t),text:yt(kr.text.id,t)}),i?.enableNewHeadline&&(l(r,[g,a.BucketNames.SECONDARY_MEASURES,"canAddItems"],!0),l(r,[g,a.BucketNames.SECONDARY_MEASURES,"itemsLimit"],ta(s)?2:1),l(r,[g,a.BucketNames.SECONDARY_MEASURES,"allowsReordering"],!0)),r}(t,this.intl,this.settings),t=Ca(t,this.supportedPropertiesList),t=Ba(t),Promise.resolve(Pr(t))}getExecution(e,t,i){const{dateFormat:r,executionConfig:a}=e;return i.forInsight(t).withDimensions((0,s.newDimension)([s.MeasureGroupIdentifier])).withDateFormat(r).withExecConfig(a)}checkBeforeRender(e){super.checkBeforeRender(e);const t=(0,s.insightBucket)(e,a.BucketNames.MEASURES);if(!t||(0,s.bucketIsEmpty)(t))throw this.unmount(),new ht;return!0}renderVisualization(e,t,i){if(!(0,s.insightHasDataDefined)(t))return;const{visualizationProperties:r,settings:a}=this,{locale:n,custom:l={}}=e,{drillableItems:c}=l,d=[...(0,s.insightBuckets)(t)||[]],u=function(e,t,i){const{config:r,customVisualizationConfig:s}=i,a=lf(e),o=cf(i?.theme),n={...r,...a.controls,colorPalette:o};return(0,N.updateConfigWithSettings)({...n,...s},t)}(r,a,e),p=(0,N.createHeadlineProvider)(d,u,a?.enableNewHeadline),h=p.getHeadlineTransformationComponent(),m=p.createExecution(i,{buckets:d,filters:[...(0,s.insightFilters)(t)||[]],sortItems:[...(0,s.insightSorts)(t)||[]],executionConfig:e.executionConfig,dateFormat:e.dateFormat});this.renderFun(o.createElement(N.CoreHeadline,{enableExecutionCancelling:u.enableExecutionCancelling??!1,headlineTransformation:h,execution:m,drillableItems:c,onDrill:this.onDrill,locale:n,config:u,afterRender:this.afterRender,onLoadingChanged:this.onLoadingChanged,onDataView:this.onDataView,pushData:this.pushData,onError:this.onError,LoadingComponent:null,ErrorComponent:null}),this.getElement())}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r=cf(t?.theme),s=this.settings?.enableNewHeadline?iv:Kb;this.renderFun(o.createElement(s,{locale:this.locale,insight:e,panelConfig:{separators:this.settings?.separators,comparisonColorPalette:r,supportsAttributeHierarchies:!1},pushData:this.pushData,properties:lf(this.visualizationProperties),propertiesMeta:this.propertiesMeta,isError:this.getIsError(),isLoading:this.isLoading,configurationPanelRenderers:t.custom?.configurationPanelRenderers,featureFlags:this.settings}),i)}}mergeDerivedBucketItems(e,t,i){return t.items.reduce(((r,s)=>{const o=ms(s,i),n=o&&!Ar(s)&&!gs(s,e.buckets),l=t.localIdentifier===a.BucketNames.MEASURES;return n&&!l&&r.push(o),r.push(s),n&&l&&r.push(o),r}),[])}updateInstanceProperties(e,t,i){super.updateInstanceProperties(e,t,i);const r=(0,s.insightProperties)(t).controls?.comparison,a=this.visualizationProperties.controls??{};if(!r&&this.settings?.enableNewHeadline){const i=this.getDefaultPropertiesForComparison(e,t),r={...this.visualizationProperties,controls:{...a,...i}};this.visualizationProperties=r,this.pushData({properties:r})}}getDefaultPropertiesForComparison(e,t){const i=(0,s.isInsight)(t)&&(0,s.insightId)(t),r=!!e.custom?.sourceInsightId,a="local:headline"!==e.custom?.lastSavedVisClassUrl;return i&&!a||r?this.buildDefaultMigrationProperties():de}buildDefaultMigrationProperties(){return{comparison:{...ue,labelConfig:{unconditionalValue:this.intl.formatMessage({id:"visualizations.headline.tertiary.title"})}}}}}function av(e,t){if(t?.settings?.enableNewHeadline){const i=t?.backend?.capabilities.supportsCustomColorPalettes??!1,r=t?.settings?.separators?{separators:t?.settings?.separators}:{},a=cf(t?.theme);return{comparison:(0,s.insightProperties)(e)?.controls?.comparison||de.comparison,...a&&i?{colorPalette:a}:{},...r}}return null}function ov(e,t){return lv(e,tb.Measure.Single,t,(e=>!e?.settings?.enableNewHeadline),s.bucketMeasure)}function nv(e,t){return lv(e,tb.Measure.Multiple,t,(e=>e?.settings?.enableNewHeadline),s.bucketMeasures)}function lv(e,t,i,r,a){return{propName:e,propType:t,itemAccessor(e,t){const o=(0,s.insightBucket)(e,i);return r(t)&&o&&a(o)}}}const cv=e=>e.insight.buckets.filter((e=>e.items.length>0)).length>1;class dv extends Mm{renderConfigurationPanel(){const{featureFlags:e,propertiesMeta:t,properties:i,pushData:r}=this.props,{xAxisVisible:s,yAxisVisible:a}=this.getControlProperties(),n=this.isControlDisabled(),l=this.isAxisDisabled(n,"xaxis",this.props.insight),c=this.isAxisDisabled(n,"yaxis",this.props.insight),d=e.enableAxisNameConfiguration;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),o.createElement(to,{id:"xaxis_section",title:kr.xaxisTitle.id,valuePath:"xaxis.visible",canBeToggled:!0,toggledOn:s,toggleDisabled:l,showDisabledMessage:!n&&l,propertiesMeta:t,properties:i,pushData:r},d?o.createElement(Om,{disabled:l,configPanelDisabled:n,axis:"xaxis",properties:i,pushData:r}):null,o.createElement(Im,{disabled:l,configPanelDisabled:n,axis:"xaxis",properties:i,pushData:r})),o.createElement(to,{id:"yaxis_section",title:kr.yaxisTitle.id,valuePath:"yaxis.visible",canBeToggled:!0,toggledOn:a,toggleDisabled:c,showDisabledMessage:!n&&c,propertiesMeta:t,properties:i,pushData:r},d?o.createElement(Om,{disabled:c,configPanelDisabled:n,axis:"yaxis",properties:i,pushData:r}):null,o.createElement(Im,{disabled:c,configPanelDisabled:n,axis:"yaxis",properties:i,pushData:r})),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:t,properties:i,pushData:r},o.createElement(Ao,{pushData:r,properties:i,isDisabled:n,defaultValue:"auto"})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}getControlProperties(){const e=this.props.properties?.controls;return{xAxisVisible:e?.xaxis?.visible??!0,yAxisVisible:e?.yaxis?.visible??!0}}isAxisDisabled(e,t,i){const r="xaxis"===t?function(e){const t=(0,s.bucketsFind)(e,a.BucketNames.MEASURES),i=t?(0,s.bucketItems)(t):[],r=(0,s.bucketsFind)(e,a.BucketNames.STACK),o=r?(0,s.bucketItems)(r):[],n=1===i.length,l=o.length>0;return n&&!l}((0,s.insightBuckets)(i)):function(e){const t=(0,s.bucketsFind)(e,a.BucketNames.MEASURES),i=t?(0,s.bucketItems)(t):[],r=(0,s.bucketsFind)(e,a.BucketNames.VIEW),o=r?(0,s.bucketItems)(r):[],n=1===i.length,l=o.length>0;return Boolean(n&&!l)}((0,s.insightBuckets)(i));return Boolean(e||r)}}class uv extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.HEATMAP,this.supportedPropertiesList=te,this.backendCapabilities=e.backend.capabilities,this.initializeProperties(e.visualizationProperties)}getExtendedReferencePoint(e){const t=n(e);let i={...t,uiConfig:n(je)};i=ps(i),i=hs(i);const r=fs(t.buckets,1),s=os(r,[a.BucketNames.VIEW,a.BucketNames.TREND,a.BucketNames.LOCATION,a.BucketNames.STACK,a.BucketNames.SEGMENT]),o=Wr(r,[a.BucketNames.STACK,a.BucketNames.SEGMENT],[y,v]),c=Zr(r),d=s.filter((e=>!rt(o,e))),u=d.length>1?qm(d):o;return l(i,g,[{localIdentifier:a.BucketNames.MEASURES,items:c},{localIdentifier:a.BucketNames.VIEW,items:d.slice(0,1)},{localIdentifier:a.BucketNames.STACK,items:u.slice(0,1)}]),i=function(e,t,i){const r=n(e);return l(r,[be],zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:heatmap/bucket-title-measures.svg"),l(r,[be,g,a.BucketNames.VIEW,"icon"],"local:heatmap/bucket-title-view.svg"),l(r,[be,g,a.BucketNames.STACK,"icon"],"local:heatmap/bucket-title-stack.svg"),r}(i,this.intl,this.type),i=la(i,!0),i=na(i,!!this.featureFlags.enableWeekFilters),i=Ca(i,this.supportedPropertiesList),this.featureFlags.enableChartsSorting||(i=Ba(i)),Promise.resolve(Pr(i))}addFilters(e,t,i,r){const s=Ym(t);return eg(e,(i.drillContext.intersection||[]).filter((e=>(0,a.isDrillIntersectionAttributeItem)(e.header)&&e.header.attributeHeader.localIdentifier===s)),r,this.featureFlags.enableDuplicatedLabelValuesInAttributeFilter)}getInsightWithDrillDownApplied(e,t,i){return Qm(this.addFilters(e,t.drillDefinition,t.event,i),t.drillDefinition)}getDefaultAndAvailableSort(e,t,i){return c(t)||c(i)||c(e)?c(e)||c(t)?c(e)||c(i)?{defaultSort:[],availableSorts:[]}:{defaultSort:[(0,s.newAttributeSort)(i[0].localIdentifier,"asc")],availableSorts:[rg(i[0].localIdentifier)]}:{defaultSort:[(0,s.newAttributeSort)(t[0].localIdentifier,"desc")],availableSorts:[rg(t[0].localIdentifier,[e[0].localIdentifier],!0,!1)]}:{defaultSort:[(0,s.newAttributeSort)(t[0].localIdentifier,"desc"),(0,s.newAttributeSort)(i[0].localIdentifier,"asc")],availableSorts:[rg(t[0].localIdentifier),rg(i[0].localIdentifier)]}}isSortDisabled(e,t){const{buckets:i}=e,r=Zr(i),s=Gr(i,a.BucketNames.VIEW),o=Gr(i,a.BucketNames.STACK);return{disabled:s.length<1&&o.length<1||r.length<1||0===t.length,disabledExplanation:Va(r,[...s,...o],this.intl)}}getSortConfig(e){const{buckets:t,properties:i,availableSorts:r}=e,s=Zr(t),o=Gr(t,a.BucketNames.VIEW),n=Gr(t,a.BucketNames.STACK),{defaultSort:l,availableSorts:c}=this.getDefaultAndAvailableSort(s,o,n),{disabled:d,disabledExplanation:u}=this.isSortDisabled(e,c);return Promise.resolve({supported:!0,disabled:d,appliedSort:super.reuseCurrentSort(r,i,c,l),defaultSort:l,availableSorts:c,...u&&{disabledExplanation:u}})}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(dv,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}return null}}class pv extends tg{constructor(e){super(e),this.axis=w,this.type=a.VisualizationTypes.LINE,this.supportedPropertiesList=this.getSupportedPropertiesList(),this.initializeProperties(e.visualizationProperties)}getSupportedPropertiesList(){return $[this.axis]}getUiConfig(){const e=this.isMultipleDatesEnabled()?Le:Re;return n(e)}getExtendedReferencePoint(e){let t={...n(e),uiConfig:this.getUiConfig()};return this.configureBuckets(t),t=va(t,S.SECONDARY_Y),this.axis=t?.uiConfig?.axis??C,this.supportedPropertiesList=this.getSupportedPropertiesList(),t=function(e,t,i){const r=n(e),s=r?.buckets??[],o=zs(s)||Zs(s),c=function(e){return 0!==Vr(e,a.BucketNames.SEGMENT)}(s)||zs(s)||function(e){const t=Gr(e,a.BucketNames.MEASURES),i=t.filter((e=>e.isThresholdMeasure));return 1===t.length||2===t.length&&1===i.length}(s);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"canAddItems"],o),l(r,[be,g,a.BucketNames.TREND,"canAddItems"],!0),l(r,[be,g,a.BucketNames.SEGMENT,"canAddItems"],c),l(r,be,function(e,t){const i=e?.buckets||[],r=n(e?.uiConfig),s=es(i,[y,v]);return it(i,(e=>{const i=e?.localIdentifier??"",o=r?.buckets?.[i];if(o?.enabled&&!o?.canAddItems){let o;e.localIdentifier===a.BucketNames.MEASURES?o=Ua(kr.metricSegment.id,t,s):e.localIdentifier===a.BucketNames.SEGMENT&&(o=yt(kr.categorySegment.id,t)),o&&l(r,[g,i,"warningMessage"],o)}})),r}(r,t)),l(r,[be,ve,ye],!fa(e.properties)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:line/bucket-title-measures.svg"),l(r,[be,g,a.BucketNames.TREND,"icon"],"local:line/bucket-title-trend.svg"),l(r,[be,g,a.BucketNames.SEGMENT,"icon"],"local:line/bucket-title-segment.svg"),r}(t,this.intl,this.type),t=la(t,!1),t=na(t,!!this.featureFlags.enableWeekFilters),t=Ca(t,this.supportedPropertiesList),this.featureFlags.enableChartsSorting||(t=Ba(t)),t=this.setThresholdProperties(t),this.referencePoint=t,Promise.resolve(Pr(t))}getInsightWithDrillDownApplied(e,t,i){return Qm(this.addFilters(e,t.drillDefinition,t.event,i),t.drillDefinition)}getSortConfig(e){const{defaultSort:t,availableSorts:i}=this.getDefaultAndAvailableSort(e),{disabled:r,disabledExplanation:s}=this.isSortDisabled(e,i),{properties:a,availableSorts:o}=e;return Promise.resolve({supported:!0,disabled:r,appliedSort:super.reuseCurrentSort(o,a,i,t),defaultSort:t,availableSorts:i,...s&&{disabledExplanation:s}})}getBucketMeasures(e=[]){return function(e){if(es(e,[y,v]).length>0){const t=Zr(e);return Zr(fs(e,t.some((e=>e.isThresholdMeasure))?2:1))}return Zr(e)}(fs(e,pe,!0))}configureBuckets(e){if(this.isMultipleDatesEnabled())return void this.configureBucketsWithMultipleDates(e);const t=e?.buckets??[],i=Rr(Zr(t));let r=[],s=es(t);const o=ns(t),n=os(t,[a.BucketNames.LOCATION,a.BucketNames.TREND,a.BucketNames.VIEW,a.BucketNames.SEGMENT,a.BucketNames.STACK]);o.length?(r=o.slice(0,1),s=i.length<=1&&n.length>1?n.filter((e=>!Or(e))).slice(0,1):s):(i.length<=1&&n.length>1&&!Or(n?.[1])&&(s=n.slice(1,2)),r=rs(t).slice(0,1)),l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:this.getBucketMeasures(e.buckets)},{localIdentifier:a.BucketNames.TREND,items:r},{localIdentifier:a.BucketNames.SEGMENT,items:s}])}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(zm,{locale:this.locale,references:this.references,referencePoint:this.referencePoint,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,axis:this.axis,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}configureBucketsWithMultipleDates(e){const t=e?.buckets??[],i=Rr(Zr(t));let r=[],s=es(t,[y,v]);const o=os(t,[a.BucketNames.LOCATION,a.BucketNames.TREND,a.BucketNames.VIEW,a.BucketNames.ATTRIBUTES,a.BucketNames.SEGMENT,a.BucketNames.STACK]),n=function(e){const t=function(e){return rs(e,[y,v]).filter(Or)}(e);return t[0]}(t);if(n){r=[n];const e=o.find((e=>e!==n));i.length<=1&&e&&!s.length&&(s=[e])}else i.length<=1&&o.length>1&&!s.length&&(s=o.slice(1,2)),r=rs(t,[y,v]).slice(0,1);l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:this.getBucketMeasures(e.buckets)},{localIdentifier:a.BucketNames.TREND,items:r},{localIdentifier:a.BucketNames.SEGMENT,items:s}])}addFilters(e,t,i,r){return eg(e,Jm(t,i.drillContext.intersection),r,this.featureFlags.enableDuplicatedLabelValuesInAttributeFilter)}getDefaultAndAvailableSort(e){const{buckets:t}=e,i=Gr(t,a.BucketNames.MEASURES),r=Gr(t,a.BucketNames.TREND),o=Gr(t,a.BucketNames.SEGMENT),n=r.length>0?[(0,s.newAttributeSort)(r[0].localIdentifier,"asc")]:[];return i.length>0&&1===r.length?c(o)?{defaultSort:n,availableSorts:[rg(r[0].localIdentifier,i.map((e=>e.localIdentifier)),!0,i.length>1)]}:{defaultSort:n,availableSorts:[rg(r[0].localIdentifier)]}:{defaultSort:[],availableSorts:[]}}isSortDisabled(e,t){const{buckets:i}=e,r=Gr(i,a.BucketNames.MEASURES),s=Gr(i,a.BucketNames.TREND),o=Va(r,s,this.intl);return{disabled:s.length<1||r.length<1||0===t.length,disabledExplanation:o}}setThresholdProperties(e){const{buckets:t,properties:i}=e,r=Zr(t),s=r.filter((e=>e.isThresholdMeasure)).map((e=>e.localIdentifier)),a=i?.controls?.thresholdMeasures||[];return r.length<=1&&a.length>0&&l(e,"properties.controls.thresholdMeasures",[]),st(s,a)||l(e,"properties.controls.thresholdMeasures",s),e}}var hv=i(25356),mv=i(88699);class gv extends o.Component{static defaultProps={defaultValue:"columns",showDisabledMessage:!1};render(){const{pushData:e,properties:t,intl:i,isDisabled:r,showDisabledMessage:s,defaultValue:a}=this.props,n=t?.controls?.measureGroupDimension??a;return o.createElement(Fo,{title:kr.metricsPositionTitle.id},o.createElement(lo,{value:n,valuePath:"measureGroupDimension",labelText:kr.metricsPositionLabel.id,disabled:r,properties:t,pushData:e,items:Ct(_o,i),showDisabledMessage:s}))}}var bv=pr(gv);class fv extends o.Component{static defaultProps={defaultValue:"top",showDisabledMessage:!1};render(){const{pushData:e,properties:t,intl:i,isDisabled:r,defaultValue:s,insight:a}=this.props,n=Ho(a)?t?.controls?.columnHeadersPosition??s:s;return o.createElement(Fo,{title:kr.columnHeaderPositionTitle.id},o.createElement(lo,{value:n,valuePath:"columnHeadersPosition",labelText:kr.columnHeaderPositionLabel.id,disabled:r,properties:t,pushData:e,items:Ct(Eo,i),showDisabledMessage:r}))}}var vv=pr(fv);const yv=({id:e,children:t})=>{const i=`adi-bucket-configuration s-config-section-${e}`;return o.createElement("div",{className:i,"aria-label":"Configuration section"},t)};class Cv extends Mm{isControlDisabled(e){if("interactions.scheduled_exports"===e||"interactions.drill_down"===e){const{insight:e,isError:t,isLoading:i}=this.props;return!e||t||i||!(0,s.insightHasMeasures)(e)&&!(0,s.insightHasAttributes)(e)}return super.isControlDisabled(e)}renderConfigurationPanel(){return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderInteractionsSection(),this.renderCanvasSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isPositionControlDisabled()||this.isColumnHeadersPositionControlDisabled()||this.props.isLoading})}isPositionControlDisabled(){const{insight:e,isLoading:t}=this.props;return 0===(0,s.insightMeasures)(e).length||t}isColumnHeadersPositionControlDisabled(){const{insight:e,isError:t,isLoading:i}=this.props,r=!!e&&Ho(e);return!e||t||i||!r}renderCanvasSection(){const{properties:e,featureFlags:t,insight:i,pushData:r,isLoading:s,propertiesMeta:a,panelConfig:n}=this.props,l=this.isPositionControlDisabled(),c=this.isColumnHeadersPositionControlDisabled(),d=o.createElement(yv,{id:"metric_col_header_position_section"},t.enablePivotTableTransposition?o.createElement(bv,{isDisabled:l,showDisabledMessage:!!l&&!s,properties:e,pushData:r}):null,t.enablePivotTableTransposition&&t.enableColumnHeadersPosition?o.createElement(vv,{isDisabled:c,showDisabledMessage:!!c&&!s,properties:e,pushData:r,insight:i}):null);return n.supportsAttributeHierarchies?o.createElement(to,{id:"canvas_section",className:"gd-table-canvas-section",title:kr.canvasTitle.id,propertiesMeta:a,pushData:r},d):d}}const kv=(e,t,i)=>!(0,Vm.isMeasureColumnWidthItem)(e)||((e,t,i)=>t.filter(_r).filter((e=>i.some((t=>(0,s.areObjRefsEqual)(t.dfRef,e.displayFormRef))))).every((t=>!t.isInverted===((e,t)=>t.selectedElements.some((t=>e.measureColumnWidthItem.locators.some((e=>(0,s.isAttributeLocator)(e)&&e.attributeLocatorItem.element===t.uri||(0,s.isTotalLocator)(e))))))(e,t))))(e,t,i),wv=e=>e.measureColumnWidthItem.locators.some((e=>(0,s.isMeasureLocator)(e)));function Sv(e,t,i){return e.measureColumnWidthItem.locators.filter((e=>(0,s.isMeasureLocator)(e)?rt(t,e.measureLocatorItem.measureIdentifier):(0,s.isAttributeLocator)(e)?rt(i,e.attributeLocatorItem.attributeIdentifier):!!(0,s.isTotalLocator)(e)&&rt(i,e.totalLocatorItem.attributeIdentifier)))}const xv=(e,t)=>e.every((e=>t.includes(e.measureLocatorItem.measureIdentifier)));function _v(e,t,i,r,a,o,n,l,c){return e?e.reduce(((e,d)=>{if((0,Vm.isMeasureColumnWidthItem)(d)){const i={measureColumnWidthItem:{...d.measureColumnWidthItem,locators:Sv(d,t,r)}};let u=[];if(l?(u=[],i.measureColumnWidthItem.locators.forEach((e=>{(0,s.isAttributeLocator)(e)&&r.forEach((t=>{t===e.attributeLocatorItem.attributeIdentifier&&u.push(t)})),(0,s.isTotalLocator)(e)&&r.forEach((t=>{t===e.totalLocatorItem.attributeIdentifier&&u.push(t)}))}))):u=r,o){const t=function(e){if((0,Vm.isAbsoluteColumnWidth)(e.measureColumnWidthItem.width)&&1===e.measureColumnWidthItem.locators.length&&(0,s.isMeasureLocator)(e.measureColumnWidthItem.locators[0]))return{measureColumnWidthItem:{width:e.measureColumnWidthItem.width,locator:e.measureColumnWidthItem.locators.filter(s.isMeasureLocator)[0]}}}(d);if(t)return e.push(t),e}const p="rows"!==c?i:d;if(kv(i,a,n)&&((e,t,i,r)=>{const s=e.measureColumnWidthItem.locators.length,a=s>0,o=t>0&&wv(e),n=0===t&&!wv(e);return"rows"!==r?a&&(o&&s===i+1||n&&s===i):a&&s===t+i})(p,t.length,u.length,c))return e.push(p),e}else if((0,Vm.isAttributeColumnWidthItem)(d)){if(rt(i,d.attributeColumnWidthItem.attributeIdentifier))return e.push(d),e}else{if(((0,Vm.isAllMeasureColumnWidthItem)(d)||(0,Vm.isWeakMeasureColumnWidthItem)(d))&&t.length>0)return e.push(d),e;(0,Vm.isSliceMeasureColumnWidthItem)(d)?xv(d.sliceMeasureColumnWidthItem.locators,t)&&e.push(d):(0,Vm.isMixedValuesColumnWidthItem)(d)&&xv(d.mixedValuesColumnWidthItem.locators,t)&&e.push(d)}return e}),[]):e}function Ev(e,t,i,r){return e.reduce(((e,a)=>{if((0,s.isMeasureSort)(a)){const i={measureSortItem:{...a.measureSortItem,locators:a.measureSortItem.locators.filter((e=>(0,s.isMeasureLocator)(e)?rt(t,e.measureLocatorItem.measureIdentifier):!!(0,s.isAttributeLocator)(e)&&rt(r,e.attributeLocatorItem.attributeIdentifier)))}};return i.measureSortItem.locators.some((e=>(0,s.isMeasureLocator)(e)))&&i.measureSortItem.locators.length===r.length+1&&e.push(i),e}return rt(i,a.attributeSortItem.attributeIdentifier)?[...e,a]:e}),[])}function Mv(e,t,i,r){return Ev(e,t.map((e=>e.localIdentifier)),i.map((e=>e.localIdentifier)),r.map((e=>e.localIdentifier)))}function Tv(e,t,i){const r=Dv(e,i),o=(0,s.bucketsMeasures)(t).map(s.measureLocalId),n=(0,s.bucketsFind)(t,a.BucketNames.ATTRIBUTE),l=n?(0,s.bucketAttributes)(n).map(s.attributeLocalId):[],c=(0,s.bucketsFind)(t,a.BucketNames.COLUMNS);return Ev(r,o,l,c?(0,s.bucketAttributes)(c).map(s.attributeLocalId):[])}function Pv(e,t,i,r,a=[],o){if(i.length<1)return e;const n=i[0],l=r?.[0],c=e.some((e=>!(!function(e,t,i,r){return(0,s.isAttributeSort)(e)?Av(e,t):function(e,t,i,r){let a=t.filter(_r);return r&&(a=a.filter((e=>i.some((t=>(0,s.areObjRefsEqual)(t.dfRef,e.displayFormRef)))))),a.every((t=>!t.isInverted===function(e,t){return!!t.selectedElements&&t.selectedElements.some((t=>e.measureSortItem.locators.some((e=>(0,s.isAttributeLocator)(e)&&e.attributeLocatorItem.element===t.uri))))}(e,t)))}(e,t,i,r)}(e,t,a,o)||(0,s.isAttributeSort)(e)&&(e.attributeSortItem.attributeIdentifier===n.localIdentifier&&"asc"===e.attributeSortItem.direction||l&&e.attributeSortItem.attributeIdentifier===l.localIdentifier&&"asc"===e.attributeSortItem.direction))));return c?e:[(0,s.newAttributeSort)(n.localIdentifier,"asc")]}const Av=(e,t)=>!0;function Dv(e,t){return"rows"===t?e?e.filter((e=>!(0,s.isMeasureSort)(e))):[]:e??[]}function Iv(e,t){return function(e,t){const i=t.some(Tr),r=t.some(Mr);return e.filter((e=>!function(e,t,i){return(0,s.totalIsNative)(e)&&(t||i)}(e,i,r)))}(e,t)}const Nv=(0,hv.b)(mv.Z),Rv=e=>Ur(e,[a.BucketNames.COLUMNS,a.BucketNames.STACK,a.BucketNames.SEGMENT],[y,v]),Lv=e=>Ur(e,[a.BucketNames.ATTRIBUTE,a.BucketNames.ATTRIBUTES,a.BucketNames.ATTRIBUTE_FROM,a.BucketNames.ATTRIBUTE_TO,a.BucketNames.VIEW,a.BucketNames.TREND,a.BucketNames.LOCATION],[y,v]),Fv=["measureGroupDimension"];class Ov extends Km{environment;renderFun;unmountFun;settings;backendCapabilities;constructor(e){super(e),this.environment=e.environment,this.renderFun=e.renderFun,this.unmountFun=e.unmountFun,this.settings=e.featureFlags??{},this.onColumnResized=this.onColumnResized.bind(this),this.handlePushData=this.handlePushData.bind(this),this.supportedPropertiesList=se,this.propertiesAffectingReferencePoint=Fv,this.initializeProperties(e.visualizationProperties),this.backendCapabilities=e.backend.capabilities}unmount(){this.unmountFun([this.getElement(),this.getConfigPanelElement()])}getExtendedReferencePoint(e,t){const i={...n(e),uiConfig:(s=this.settings,r=!0===s.enableMultipleDates,{buckets:{measures:{...Ce},attribute:{...ke,allowsSwapping:!0,allowsReordering:!0,itemsLimit:he,allowsDuplicateDates:r,itemsLimitByType:{date:r?he:1}},columns:{...ke,allowsSwapping:!0,allowsReordering:!0,itemsLimit:he,allowsDuplicateDates:r,itemsLimitByType:{date:r?he:1}},...xe},...Te,...Ee,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD],recommendations:{supportsFilteringRecommendation:!1}})};var r,s;const o=i.buckets,c=function(e,t){const i=e?.enablePivotTableIncreaseBucketSize;return Us(t)&&i?me:pe}(this.settings,o),d=$r(fs(o,c,!0),[b]),u=Lv(o),p=t&&Lv(t.buckets),h=Rv(o),m=t&&Rv(t.buckets),f=i.filters?lt(i.filters.items,(e=>e.filters)):[],v=Iv(Yr(o,a.BucketNames.ATTRIBUTE),f),y=Iv(Yr(o,a.BucketNames.COLUMNS),f);i.buckets=qr([{localIdentifier:a.BucketNames.MEASURES,items:d},{localIdentifier:a.BucketNames.ATTRIBUTE,items:u,...v.length>0?{totals:v}:null},{localIdentifier:a.BucketNames.COLUMNS,items:h,...y.length>0?{totals:y}:null}]);const C=i.properties?.controls?.columnWidths,k=i.properties?.controls?.measureGroupDimension,w=Dv(i.properties?.sortItems,k),S=function(e,t,i){return e.properties?.controls?.columnHeadersPosition&&(t.length>0||"columns"===i)}(i,u,k)?"top":i.properties?.controls?.columnHeadersPosition,x=function(e,t,i,r,s,a,o,n){const l=t.map((e=>e.localIdentifier)),c=i.map((e=>e.localIdentifier)),d=r.map((e=>e.localIdentifier)),u=s.map((e=>e.localIdentifier)),p=a.map((e=>e.localIdentifier));return _v(e,l,c.filter((e=>!p.includes(e))),d.filter((e=>!u.includes(e))),o,0===a.length&&1===r.length,r,!1,n)}(C,d,u,h,p||[],m||[],f,k),_=zv(this.settings)&&k?{measureGroupDimension:k}:{},E=function(e){return!0===e.enableColumnHeadersPosition}(this.settings)&&S?{columnHeadersPosition:S}:{},M=x?{controls:{...i.properties?.controls,columnWidths:x,..._,...E}}:{controls:{...i.properties?.controls,..._,...E}};return i.properties={sortItems:Pv(Mv(w,d,u,h),f,u,p,h,Bv(this.settings)),...M},function(e,t,i,r){const s=e?.buckets??[];if(l(e,be,zr(e,i,t)),r?.enablePivotTableTransposition){const i=yt("rows"===e.properties?.controls?.measureGroupDimension?kr.inRows.id:kr.inColumns.id,t);l(e,[be,g,a.BucketNames.MEASURES,"subtitle"],i)}if(r?.enablePivotTableIncreaseBucketSize){const i=aa(s),r=oa(s),o=Gs(s),c=Us(s);l(e,[be,g,a.BucketNames.MEASURES,"canAddItems"],i),l(e,[be,g,a.BucketNames.ATTRIBUTE,"canAddItems"],r),l(e,[be,g,a.BucketNames.COLUMNS,"canAddItems"],o),l(e,[be,g,a.BucketNames.MEASURES,"itemsLimit"],c?me:pe),l(e,[be,g,a.BucketNames.ATTRIBUTE,"itemsLimit"],c?ge:he),l(e,be,function(e,t){const i=e?.buckets,r=n(e?.uiConfig),s=!Us(i);return it(i,(e=>{const i=e?.localIdentifier??"",o=r?.buckets?.[i];if(!o?.canAddItems){let o,n={};if(e.localIdentifier===a.BucketNames.COLUMNS?(o=kr.columns.id,n={oldLimit:pe,oldRowsLimit:he}):s&&(o=kr.measuresAttributes.id,n=e.localIdentifier===a.BucketNames.MEASURES?{limit:me-pe}:{limit:ge-he}),o){const e=yt(o,t,n);l(r,[g,i,"warningMessage"],e)}}})),r}(e,t))}else l(e,[be,g,a.BucketNames.MEASURES,"canAddItems"],!0),l(e,[be,g,a.BucketNames.ATTRIBUTE,"canAddItems"],!0),l(e,[be,g,a.BucketNames.COLUMNS,"canAddItems"],!0);l(e,[be,g,a.BucketNames.MEASURES,"icon"],"local:table/bucket-title-measures.svg"),l(e,[be,g,a.BucketNames.ATTRIBUTE,"icon"],"local:table/bucket-title-rows.svg"),l(e,[be,g,a.BucketNames.COLUMNS,"icon"],"local:table/bucket-title-columns.svg")}(i,this.intl,a.VisualizationTypes.TABLE,this.settings),la(i,!1),na(i,!!this.settings?.enableWeekFilters),Object.assign(i,Ca(i,this.supportedPropertiesList)),Promise.resolve(Pr(i))}getInsightWithDrillDownApplied(e,t,i){const r=eg(Qm(e,t.drillDefinition),t.event.drillContext.intersection,i,this.settings?.enableDuplicatedLabelValuesInAttributeFilter);return Zm((0,s.insightSanitize)(r))}getSanitizedConfig(e,t){return zv(this.settings)||"rows"!==t?.measureGroupDimension&&"rows"!==Pa((0,s.insightProperties)(e))?t:{...t||{},measureGroupDimension:"columns"}}getExecution(e,t,i){const{dateFormat:r,executionConfig:o,customVisualizationConfig:n}=e,l=this.getSanitizedConfig(t,n);return i.forInsight(t).withDimensions(...this.getDimensions(t,l)).withSorting(...function(e){const t=(0,s.insightSorts)(e),i=Pa((0,s.insightProperties)(e));if(!c(t))return Tv(t,(0,s.insightBuckets)(e),i);const r=(0,s.insightBucket)(e,a.BucketNames.ATTRIBUTE),o=r&&(0,s.bucketAttribute)(r);return o?[(0,s.newAttributeSort)(o,"asc")]:void 0}(t)??[]).withDateFormat(r).withExecConfig(o)}initializeProperties(e){const t=e?.controls,i={supportedProperties:{controls:ba(t,this.supportedPropertiesList)}};this.pushData({initialProperties:i})}createCorePivotTableProps=()=>{const e=!0===this.settings.enableTableColumnsManualResizing?this.onColumnResized:void 0;return{intl:this.intl,ErrorComponent:null,LoadingComponent:null,onDrill:this.onDrill,afterRender:this.afterRender,onLoadingChanged:this.onLoadingChanged,pushData:this.handlePushData,onError:this.onError,onExportReady:this.onExportReady,onDataView:this.onDataView,onColumnResized:e}};updateInstanceProperties(e,t,i){super.updateInstanceProperties(e,t,i),this.visualizationProperties=(0,s.insightProperties)(t),this.adaptPropertiesToInsight(this.visualizationProperties,this.currentInsight)}renderVisualization(e,t,i){if(!(0,s.insightHasDataDefined)(t))return;const{locale:r,custom:a,dimensions:n,config:l={},customVisualizationConfig:c={},theme:d}=e,{maxHeight:u,maxWidth:p}=l,h=n?.height,{drillableItems:m}=a,g=this.getExecution(e,t,i),b=Ta((0,s.insightProperties)(t)),f=Ho(t)?Aa((0,s.insightProperties)(t)):"top",v=Pa((0,s.insightProperties)(t)),y={...Vv(l,this.environment,this.settings,this.backendCapabilities,b),...c,maxHeight:u,maxWidth:p,columnHeadersPosition:f,measureGroupDimension:v},C={...this.createCorePivotTableProps(),execution:g,drillableItems:m,config:y,locale:r,theme:d};this.environment===ma?this.renderFun(o.createElement(Nv,{client:!0},(({measureRef:e,contentRect:t})=>{const i=t.client.height,r={height:ha(h)?"100%":h,textAlign:"left",display:"flex",flex:"1 1 auto",flexDirection:"column"},s={...y,maxHeight:i,...c};return o.createElement("div",{ref:e,style:r,className:"gd-table-dashboard-wrapper"},o.createElement(Vm.CorePivotTable,{...C,config:s}))})),this.getElement()):this.renderFun(o.createElement(Vm.CorePivotTable,{...C}),this.getElement())}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r=this.visualizationProperties??{},a=r.sortItems?{...r,sortItems:Tv(r.sortItems,(0,s.insightBuckets)(e),Pa(r))}:r;if(zv(this.settings)){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(Cv,{locale:this.locale,properties:a,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.settings,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}else this.renderFun(o.createElement(Kb,{pushData:this.pushData,properties:a}),i)}}getDimensions(e,t){return Wm(e,a.VisualizationTypes.TABLE,t)}adaptPropertiesToInsight(e,t){const i=Pa(e),r=Ta(e);r&&this.sanitizeColumnWidths(r,t,e,i)}sanitizeColumnWidths(e,t,i,r){if(c((0,s.insightBuckets)(t)))return;const o=function(e,t,i){const r=(0,s.insightBucket)(t,a.BucketNames.ATTRIBUTE),o=(0,s.insightBucket)(t,a.BucketNames.COLUMNS);return _v(e,(0,s.insightMeasures)(t).map(s.measureLocalId),r?(0,s.bucketAttributes)(r).map(s.attributeLocalId):[],o?(0,s.bucketAttributes)(o).map(s.attributeLocalId):[],[],!1,[],!0,i)}(e,t,r);st(e,o)||(this.visualizationProperties.controls.columnWidths=o,this.pushData({properties:{controls:{columnWidths:o,...Ra(this.settings,i)}}}))}onColumnResized(e){const t=this.visualizationProperties??{};this.pushData({properties:{controls:{columnWidths:e,...Ra(this.settings,t)}}})}handlePushData(e){if(e?.properties?.sortItems){const t=e?.properties?.totals?{totals:e?.properties?.totals,bucketType:e?.properties?.bucketType}:{};this.pushData({properties:{sortItems:e.properties.sortItems,...e.properties.controls?{controls:e.properties.controls}:{},...t}})}else this.pushData(e)}}function Bv(e){return!0===e.tableSortingCheckDisabled}function zv(e){return!0===e.enablePivotTableTransposition}function Vv(e,t,i,r,s){let a={separators:e.separators,enableExecutionCancelling:i.enableExecutionCancelling??!1};const o=i.enableTableTotalRows;t!==ma&&(a={...a,menu:(0,Vm.pivotTableMenuForCapabilities)(r,{aggregations:!0,aggregationsSubMenu:!0})}),o&&(a={...a,menu:{...a.menu,aggregationsSubMenuForRows:!0}});const n=i.enableTableColumnsAutoResizing,l=t===ma&&i.enableTableColumnsGrowToFit,c=i.enableTableColumnsManualResizing;let d={};return n&&(d={defaultWidth:e.isExportMode?"viewport":"autoresizeAll"}),l&&(d={...d,growToFit:!0}),c&&s&&s.length>0&&(d={...d,columnWidths:s}),t===ga&&(d={...d,growToFit:!1}),{...a,columnSizing:d}}function Gv(e,t){const i=t?.settings&&t.backend?Vv({separators:t?.settings?.separators},"none",t.settings,t.backend.capabilities,Ta((0,s.insightProperties)(e))??[]):{},r=c(i.columnSizing)?{}:{columnSizing:i.columnSizing},a=c(i.menu)?{}:{menu:i.menu},o=c(i.separators)?{}:{separators:i.separators},n=(0,s.insightProperties)(e)?.controls?.measureGroupDimension,l=c(n)?{}:{measureGroupDimension:n},d=(0,s.insightProperties)(e)?.controls?.columnHeadersPosition;return{...r,...a,...o,...l,...c(d)?{}:{columnHeadersPosition:d}}}var Uv=i(43174);function Hv(e){const{attributeIdentifier:t,element:i}=e.attributeLocatorItem;return`newAttributeColumnLocator(${[`"${t}"`,i&&`"${i}"`].filter((e=>!ha(e))).join(", ")})`}function Wv(e){const{attributeIdentifier:t,totalFunction:i}=e.totalLocatorItem;return`newTotalColumnLocator(${[`"${t}"`,i&&`"${i}"`].filter((e=>!ha(e))).join(", ")})`}const jv=[{importInfo:{name:"newWidthForAttributeColumn",package:"@gooddata/sdk-ui-pivot",importType:"named"},transformation:e=>(0,Vm.isAttributeColumnWidthItem)(e)?function(e){const{attributeIdentifier:t,width:i}=e.attributeColumnWidthItem,{value:r,allowGrowToFit:s}=i;return`newWidthForAttributeColumn(${[`"${t}"`,`${r}`,s&&"true"].filter((e=>!ha(e))).join(", ")})`}(e):void 0},{importInfo:{name:"newAttributeColumnLocator",package:"@gooddata/sdk-ui-pivot",importType:"named"},transformation:e=>(0,Vm.isAttributeColumnLocator)(e)?Hv(e):void 0},{importInfo:{name:"newTotalColumnLocator",package:"@gooddata/sdk-ui-pivot",importType:"named"},transformation:e=>(0,Vm.isTotalColumnLocator)(e)?Wv(e):void 0},{importInfo:{name:"newWidthForAllColumnsForMeasure",package:"@gooddata/sdk-ui-pivot",importType:"named"},transformation:e=>(0,Vm.isWeakMeasureColumnWidthItem)(e)?function(e){const{locator:t,width:i}=e.measureColumnWidthItem;return`newWidthForAllColumnsForMeasure(${[`"${t.measureLocatorItem.measureIdentifier}"`,i.value,i.allowGrowToFit&&"true"].filter((e=>!ha(e))).join(", ")})`}(e):void 0},{importInfo:{name:"setNewWidthForSelectedColumns",package:"@gooddata/sdk-ui-pivot",importType:"named"},transformation:e=>(0,Vm.isMeasureColumnWidthItem)(e)?function(e){const{locators:t,width:i}=e.measureColumnWidthItem,[r,s]=Uv(t,Vm.isMeasureColumnLocator),a=!Eg(i)&&i.allowGrowToFit,o=s.map((e=>(0,Vm.isAttributeColumnLocator)(e)?Hv(e):Wv(e))),n=r?.map((e=>e.measureLocatorItem.measureIdentifier));return`setNewWidthForSelectedColumns(${[n&&n.length>0?`["${n.join('","')}"]`:"null",`[${o.join(", ")}]`,Eg(i.value)?`"${i.value}"`:i.value,a&&"true"].filter((e=>!ha(e))).join(", ")})`}(e):void 0},{importInfo:{name:"newWidthForAllMeasureColumns",package:"@gooddata/sdk-ui-pivot",importType:"named"},transformation:e=>(0,Vm.isAllMeasureColumnWidthItem)(e)?function(e){const{value:t,allowGrowToFit:i}=e.measureColumnWidthItem.width;return`newWidthForAllMeasureColumns(${[t,i&&"true"].filter((e=>!ha(e))).join(", ")})`}(e):void 0}];const Kv=/^[1-9][0-9]*$/,$v=({disabled:e,valuePath:t,properties:i,pushData:r})=>o.createElement(Bo,{valuePath:t,labelText:kr.clusteringAmount.id,placeholder:kr.clusteringAmountPlaceholder.id,type:"number",value:i?.controls?.clustering?.numberOfClusters??"3",disabled:e,properties:i,pushData:r,validateFn:e=>""===e||Kv.test(e),transformFn:e=>{const t=Kv.test(e);return""!==e&&t?e:"3"}}),qv=({disabled:e,valuePath:t,properties:i,pushData:r})=>o.createElement(Bo,{valuePath:t,labelText:kr.clusteringThreshold.id,placeholder:kr.clusteringThresholdPlaceholder.id,type:"number",value:i?.controls?.clustering?.threshold??"0.03",disabled:e,properties:i,pushData:r,description:kr.clusteringThresholdTooltip.id,descriptionValues:{link:e=>o.createElement("a",{href:"https://www.gooddata.com/docs/cloud/create-visualizations/smart-functions/#UseSmartFunctions-Clustering",target:"_blank",rel:"noopener noreferrer"},e)},transformFn:e=>{const t=parseFloat(e);return""!==e&&t>0&&t<1?e:"0.03"}});class Yv extends Mm{isControlDisabled(){const{insight:e,isError:t,isLoading:i}=this.props,r=Xr(e);return!r||r.length<1||t||i}renderConfigurationPanel(){const{xAxisVisible:e,gridEnabled:t,yAxisVisible:i,clusteringEnabled:r}=this.getControlProperties(),{featureFlags:s,propertiesMeta:a,properties:n,pushData:l,insight:c,type:d}=this.props,u=n?.controls,p=this.isControlDisabled(),{xaxis:h,yaxis:m}=Nm(d,u,c),g=p||1!==h,b=p||1!==m,f=s.enableAxisNameConfiguration,v=s.enableAxisLabelFormat,y=s.enableScatterPlotClustering,C=this.isClusteringDisabled(),k=a?.showingPartialClusters;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderLegendSection(),o.createElement(to,{id:"xaxis_section",title:kr.xaxisTitle.id,valuePath:"xaxis.visible",canBeToggled:!0,toggledOn:e,toggleDisabled:p,propertiesMeta:a,properties:n,pushData:l},f?o.createElement(Om,{disabled:g,configPanelDisabled:p,axis:"xaxis",properties:n,pushData:l}):null,o.createElement(Im,{disabled:p,configPanelDisabled:p,axis:"xaxis",properties:n,pushData:l,showFormat:v}),this.renderMinMax("xaxis")),o.createElement(to,{id:"yaxis_section",title:kr.yaxisTitle.id,valuePath:"yaxis.visible",canBeToggled:!0,toggledOn:i,toggleDisabled:p,propertiesMeta:a,properties:n,pushData:l},f?o.createElement(Om,{disabled:b,configPanelDisabled:p,axis:"yaxis",properties:n,pushData:l}):null,o.createElement(Im,{disabled:p,configPanelDisabled:p,axis:"yaxis",properties:n,pushData:l,showFormat:v}),this.renderMinMax("yaxis")),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:a,properties:n,pushData:l},o.createElement(Ao,{pushData:l,properties:n,isDisabled:this.areDataLabelsDisabled(),defaultValue:!1,showDisabledMessage:this.isDataLabelsWarningShown()}),o.createElement(ro,{valuePath:"grid.enabled",labelText:kr.canvasGridLine.id,properties:n,checked:t,disabled:p,pushData:l})),y?o.createElement(to,{id:"clustering_section",title:kr.clusteringTitle.id,propertiesMeta:a,properties:n,pushData:l,valuePath:"clustering.enabled",canBeToggled:!0,toggledOn:r,toggleDisabled:p||C,showDisabledMessage:C,toggleMessageId:"properties.clustering.disabled"},o.createElement($v,{valuePath:"clustering.numberOfClusters",disabled:p||C,properties:n,pushData:l}),o.createElement(qv,{valuePath:"clustering.threshold",disabled:p||C,properties:n,pushData:l}),k?o.createElement(Ya.Message,{type:"progress",className:"adi-input-progress"},o.createElement("h4",null,o.createElement(qa,{id:"properties.clustering.amount.partial.title"})),o.createElement(qa,{id:"properties.clustering.amount.partial.description"})):null):null,this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}renderMinMax(e){const{pushData:t,properties:i,propertiesMeta:r}=this.props;return o.createElement($o,{isDisabled:this.isControlDisabled(),basePath:e,pushData:t,properties:i,propertiesMeta:r})}areDataLabelsDisabled(){return super.isControlDisabled()||!(0,s.insightHasAttributes)(this.props.insight)}isDataLabelsWarningShown(){return!super.isControlDisabled()&&!(0,s.insightHasAttributes)(this.props.insight)}isClusteringDisabled(){const e=super.isControlDisabled(),t=this.props?.insight?(0,s.insightBucket)(this.props.insight,a.BucketNames.SEGMENT):void 0,i=this.props?.insight?(0,s.insightBucket)(this.props.insight,a.BucketNames.ATTRIBUTE):void 0,r=this.props?.insight?(0,s.insightBucket)(this.props.insight,a.BucketNames.MEASURES):void 0,o=this.props?.insight?(0,s.insightBucket)(this.props.insight,a.BucketNames.SECONDARY_MEASURES):void 0;return e||(t?.items?.length??0)>0||!((i?.items?.length??0)>0)||!(1===(r?.items?.length??0))||!(1===(o?.items?.length??0))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}getControlProperties(){const e=this.props.properties?.controls;return{xAxisVisible:e?.xaxis?.visible??!0,yAxisVisible:e?.yaxis?.visible??!0,gridEnabled:e?.grid?.enabled??!0,clusteringEnabled:e?.clustering?.enabled??!1}}}const Xv=[{localIdentifier:a.BucketNames.MEASURES,itemsLimit:1},{localIdentifier:a.BucketNames.SECONDARY_MEASURES,itemsLimit:1}];class Qv extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.SCATTER,this.supportedPropertiesList=Q,this.initializeProperties(e.visualizationProperties)}getExtendedReferencePoint(e){let t={...n(e),uiConfig:n(Pe)};return t=ps(t),t=hs(t),t[g]=(e=>{const t=fs(e,2,!0),i=Ms(Xv,t),r=Gr(e,a.BucketNames.ATTRIBUTE),s=Gr(e,a.BucketNames.SEGMENT);return[...i,{localIdentifier:a.BucketNames.ATTRIBUTE,items:r.slice(0,1)},{localIdentifier:a.BucketNames.SEGMENT,items:s.slice(0,1)}]})(t.buckets),t=function(e,t,i){let r=n(e);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:scatter/bucket-title-measures-x.svg"),l(r,[be,g,a.BucketNames.SECONDARY_MEASURES,"icon"],"local:scatter/bucket-title-measures-y.svg"),l(r,[be,g,a.BucketNames.ATTRIBUTE,"icon"],"local:scatter/bucket-title-view.svg"),l(r,[be,g,a.BucketNames.SEGMENT,"icon"],"local:scatter/bucket-title-segment.svg"),r=function(e){const t=Gr(e.buckets,a.BucketNames.SEGMENT);return e.properties?.controls?.clustering?.enabled&&t.length>0?{...e,properties:{...e.properties,controls:{...e.properties.controls,clustering:{...e.properties.controls.clustering,enabled:!1}}}}:e}(r),r}(t,this.intl,this.type),t=la(t,!0),t=na(t,!!this.featureFlags.enableWeekFilters),t=Ca(t,this.supportedPropertiesList),t=Ba(t),t=Pr(t),t=function(e){let t=e;const i=us(e.buckets,a.BucketNames.ATTRIBUTE);return(i?.items?.length??0)>0||(t=l(e,"properties.controls.clustering.enabled",!1)),t}(t),t=function(e){let t=e;const i=us(e.buckets,a.BucketNames.MEASURES),r=us(e.buckets,a.BucketNames.SECONDARY_MEASURES);return 1===(i?.items?.length??0)&&1===(r?.items?.length??0)||(t=l(e,"properties.controls.clustering.enabled",!1)),t}(t),Promise.resolve(t)}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(Yv,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}}class Zv extends Mm{renderConfigurationPanel(){const{propertiesMeta:e,properties:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderLegendSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:e,properties:t,pushData:i},o.createElement(Ao,{pushData:i,properties:t,isDisabled:r,defaultValue:"auto"})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}}class Jv extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.TREEMAP,this.supportedPropertiesList=ee,this.initializeProperties(e.visualizationProperties)}getBucketMeasures(e=[]){return Zr(fs(e,pe,!0))}getBucketItemsWithMultipleDates(e){const t=e?.buckets??[];let i=this.getBucketMeasures(t),r=es(t,[y,v]);const s=rs(t,[y,v]),a=s.slice(0,1);return s.length>0&&(i=Zr(fs(t,1))),s.length>1&&c(r)&&(r=qm(s).slice(0,1)),{measures:i,view:a,stacks:r}}getBucketItems(e){const t=e?.buckets??[];let i=this.getBucketMeasures(t),r=es(t);const s=rs(t),a=s.slice(0,1);return s.length>0&&(i=Zr(fs(t,1))),s.length>1&&c(r)&&(r=qm(s).filter((e=>!Or(e))).slice(0,1)),{measures:i,view:a,stacks:r}}configureBuckets(e){const{measures:t,view:i,stacks:r}=this.isMultipleDatesEnabled()?this.getBucketItemsWithMultipleDates(e):this.getBucketItems(e);l(e,g,[{localIdentifier:a.BucketNames.MEASURES,items:t},{localIdentifier:a.BucketNames.VIEW,items:i},{localIdentifier:a.BucketNames.SEGMENT,items:r}])}getTreemapUIConfig(e){const t=e?.buckets,i=this.isMultipleDatesEnabled(),r=i?rs(t,[y,v]):rs(t),s=Zr(t);return function(e,t,i){const r=t?{itemsLimit:1,allowsReordering:!1,canAddItems:!1,isShowInPercentEnabled:!0}:{},s=!t&&i?{itemsLimit:0}:{},a=e?{itemsLimitByType:{date:1},allowsDuplicateDates:!0}:{},o=e?Se:we;return{buckets:{measures:{...Ce,...r},view:{...ke,...s,...a},segment:{...o,...a},...xe},...Te}}(i,r.length>0,s.length>1)}getExtendedReferencePoint(e){let t={...n(e),uiConfig:this.getTreemapUIConfig(e)};return t=ps(t),t=hs(t),this.configureBuckets(t),t=function(e,t,i){const r=n(e),s=r?.buckets??[],o=!Js(s)||zs(s),c=!Ws(s,a.BucketNames.MEASURES);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"canAddItems"],o),l(r,[be,g,a.BucketNames.VIEW,"canAddItems"],c),l(r,[be,g,a.BucketNames.SEGMENT,"canAddItems"],!0),l(r,be,function(e,t){const i=e?.buckets||[],r=n(e?.uiConfig),s=ts(i,[y,v]);return it(i,(e=>{const i=e?.localIdentifier??"",o=r?.buckets?.[i];if(o?.enabled&&!o?.canAddItems){let o;e.localIdentifier===a.BucketNames.MEASURES&&(o=Ua(kr.metricView.id,t,s)),e.localIdentifier===a.BucketNames.VIEW&&(o=yt(kr.category.id,t)),e.localIdentifier===a.BucketNames.SEGMENT&&(o=yt(kr.categorySegment.id,t)),o&&l(r,[g,i,"warningMessage"],o)}})),r}(r,t)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:treemap/bucket-title-measures.svg"),l(r,[be,g,a.BucketNames.VIEW,"icon"],"local:treemap/bucket-title-view.svg"),l(r,[be,g,a.BucketNames.SEGMENT,"icon"],"local:treemap/bucket-title-segment.svg"),r}(t,this.intl,this.type),t=la(t,!1),t=na(t,!!this.featureFlags.enableWeekFilters),t=Ca(t,this.supportedPropertiesList),t=Ba(t),Promise.resolve(Pr(t))}addFilters(e,t,i,r){return eg(e,Jm(t,i.drillContext.intersection),r,this.featureFlags.enableDuplicatedLabelValuesInAttributeFilter)}getInsightWithDrillDownApplied(e,t,i){return Qm(this.addFilters(e,t.drillDefinition,t.event,i),t.drillDefinition)}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(Zv,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}}const ey=()=>n(qe);class ty extends Km{settings;renderFun;unmountFun;constructor(e){super(e),this.settings=e.featureFlags,this.renderFun=e.renderFun,this.unmountFun=e.unmountFun}unmount(){this.unmountFun([this.getElement(),this.getConfigPanelElement()])}getExtendedReferencePoint=async e=>{let t={...n(e),uiConfig:ey()};qs(e.filters)||(t=ps(t),t=hs(t));const i=(({buckets:e})=>{const t=fs(e,1),i=us(t,a.BucketNames.MEASURES),r=us(e,a.BucketNames.ATTRIBUTE),s=Qr(t)[0],o=ns(e)[0];return[{...i,localIdentifier:a.BucketNames.MEASURES,items:s?[s]:[]},{...r,localIdentifier:a.BucketNames.ATTRIBUTE,items:o?[o]:[]}]})(e);return t.buckets=i,t.uiConfig=((e,t)=>{const i=zr({...e,uiConfig:ey()},a.VisualizationTypes.XIRR,t),r=e?.buckets??[],s=zs(r),o=Vs(r);return l(i,[g,a.BucketNames.MEASURES,"canAddItems"],s),l(i,[g,a.BucketNames.ATTRIBUTE,"canAddItems"],o),i.customError=function({buckets:e},t){const i=Vr(e,a.BucketNames.MEASURES),r=Vr(e,a.BucketNames.ATTRIBUTE);if(0===i||0===r)return{heading:t({id:"dashboard.xirr.error.invalid_buckets.heading"}),text:t({id:"dashboard.xirr.error.invalid_buckets.text"})}}(e,t.formatMessage),i})(t,this.intl),t=Ba(t),t=Ca(t,this.supportedPropertiesList),Pr(t)};getExecution(e,t,i){const{dateFormat:r}=e;return i.forInsight(t).withDimensions(...this.getXirrDimensions(t)).withDateFormat(r)}renderVisualization(e,t,i){const{locale:r,custom:s={},config:a}=e,{drillableItems:n}=s,l=this.getExecution(e,t,i);this.renderFun(o.createElement(N.CoreXirr,{enableExecutionCancelling:a?.enableExecutionCancelling??!1,execution:l,drillableItems:n,onDrill:this.onDrill,locale:r,config:(0,N.updateConfigWithSettings)(a,this.settings),afterRender:this.afterRender,onLoadingChanged:this.onLoadingChanged,pushData:this.pushData,onError:this.onError,LoadingComponent:null,ErrorComponent:null}),this.getElement())}renderConfigurationPanel(){const e=this.getConfigPanelElement();if(e){const t=this.visualizationProperties??{};this.renderFun(o.createElement(Kb,{locale:this.locale,pushData:this.pushData,properties:ya(t,this.supportedPropertiesList)}),e)}}getXirrDimensions(e){const t=(0,s.insightBucket)(e,a.BucketNames.ATTRIBUTE),i=t?(0,s.bucketAttributes)(t):[];return[(0,s.newDimension)([s.MeasureGroupIdentifier,...i])]}withEmptyAttributeTargets(e){return{...e,availableDrillTargets:{...e?.availableDrillTargets,attributes:[]}}}superPushData=this.pushData;pushData=(e,t)=>{const i=this.withEmptyAttributeTargets(e);this.superPushData(i,t)}}var iy=pr((function(e){const{minSize:t,maxSize:i}=function(e){const{minSize:t="default",maxSize:i="default"}=e.properties?.controls?.points??{};return{minSize:t,maxSize:i}}(e),{disabled:r,properties:s,pushData:a,intl:n}=e,l=Ct(co,n);return o.createElement(Fo,{title:kr.pointsSizeTitle.id},o.createElement(lo,{value:t,valuePath:"points.minSize",labelText:kr.pointsSizeMinTitle.id,disabled:r,showDisabledMessage:r,properties:s,pushData:a,items:l}),o.createElement(lo,{value:i,valuePath:"points.maxSize",labelText:kr.pointsSizeMaxTitle.id,disabled:r,showDisabledMessage:r,properties:s,pushData:a,items:l}))})),ry=pr((function(e){const{area:t}=function(e){return e.properties?.controls?.viewport??{area:"auto"}}(e),{disabled:i,properties:r,pushData:s,intl:a}=e;return o.createElement("div",{className:"s-pushpin-viewport-control"},o.createElement(lo,{value:t,valuePath:"viewport.area",labelText:kr.viewportAreaTitle.id,disabled:i,showDisabledMessage:i,properties:r,pushData:s,items:Ct(uo,a)}))}));class sy extends Mm{getControlProperties(){return{groupNearbyPoints:this.props.properties?.controls?.points?.groupNearbyPoints??!0}}renderLegendSection(){const{insight:e,properties:t,propertiesMeta:i,pushData:r}=this.props,n=oy(e)||function(e){const t=(0,s.insightBucket)(e,a.BucketNames.COLOR);return void 0!==t&&!(0,s.bucketIsEmpty)(t)}(e)||ay(e),l=this.isControlDisabled()||!n;return o.createElement(Cn,{properties:t,propertiesMeta:i,controlsDisabled:l,pushData:r})}renderViewportSection(){const{properties:e,propertiesMeta:t,pushData:i}=this.props;return o.createElement(to,{id:"map_section",title:kr.pointsMapTitle.id,propertiesMeta:t,properties:e,pushData:i},o.createElement(ry,{properties:e,disabled:this.isControlDisabled(),pushData:i}))}renderPointsSection(){const{groupNearbyPoints:e}=this.getControlProperties(),{properties:t,propertiesMeta:i,pushData:r,insight:a}=this.props,n=this.isControlDisabled(),l=n||(0,s.insightHasMeasures)(a)||oy(a),c=n||!ay(a);return o.createElement(to,{id:"points_section",title:kr.pointsTitle.id,propertiesMeta:i,properties:t,pushData:r},o.createElement(ro,{valuePath:"points.groupNearbyPoints",labelText:kr.pointsGroupNearbyPoints.id,properties:t,checked:e,disabled:l,showDisabledMessage:l,pushData:r}),o.createElement(iy,{properties:t,disabled:c,pushData:r}))}isControlDisabled(){const{insight:e,isError:t,isLoading:i}=this.props;return!function(e){const t=(0,s.insightBucket)(e,a.BucketNames.LOCATION);return void 0!==t&&!(0,s.bucketIsEmpty)(t)}(e)||t||i}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!this.isControlDisabled()})}renderConfigurationPanel(){return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderLegendSection(),this.renderViewportSection(),this.renderPointsSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}renderColorSection(){const{properties:e,propertiesMeta:t,pushData:i,colors:r,featureFlags:s,references:a,isLoading:n}=this.props,l=this.isControlDisabled();return o.createElement(bn,{properties:e,propertiesMeta:t,references:a,colors:r,controlsDisabled:l,pushData:i,hasMeasures:!0,showCustomPicker:s.enableCustomColorPicker,isLoading:n})}}function ay(e){const t=(0,s.insightBucket)(e,a.BucketNames.SIZE);return void 0!==t&&!(0,s.bucketIsEmpty)(t)}function oy(e){const t=(0,s.insightBucket)(e,a.BucketNames.SEGMENT);return void 0!==t&&!(0,s.bucketIsEmpty)(t)}var ny=i(42622);class ly extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.PUSHPIN,this.initializeProperties(e.visualizationProperties)}checkBeforeRender(e){if(!(0,s.insightHasDataDefined)(e))throw new gt;return!0}getExtendedReferencePoint(e){return super.getExtendedReferencePoint(e).then((e=>{let t=function(e,t,i){const r=n(e);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.LOCATION,"icon"],"local:geoPushpin/bucket-title-location-icon.svg"),l(r,[be,g,a.BucketNames.SIZE,"icon"],"local:geoPushpin/bucket-title-size-icon.svg"),l(r,[be,g,a.BucketNames.COLOR,"icon"],"local:geoPushpin/bucket-title-color-icon.svg"),l(r,[be,g,a.BucketNames.SEGMENT,"icon"],"local:geoPushpin/bucket-title-segment-icon.svg"),l(r,[be,ve,ye],!1),l(r,[be,g],{[a.BucketNames.LOCATION]:r?.uiConfig?.buckets?.[a.BucketNames.LOCATION],[a.BucketNames.SIZE]:r?.uiConfig?.buckets?.[a.BucketNames.SIZE],[a.BucketNames.COLOR]:r?.uiConfig?.buckets?.[a.BucketNames.COLOR],[a.BucketNames.SEGMENT]:r?.uiConfig?.buckets?.[a.BucketNames.SEGMENT],filters:r?.uiConfig?.buckets?.filters}),r}(e,this.intl,this.type);return t=la(t,!0),t=Ba(t),this.updateSupportedProperties(t)}))}getUiConfig(){return n(Je)}getExecution(e,t,i){const{executionConfig:r}=e,a=this.prepareBuckets(t);return i.forBuckets(a,(0,s.insightFilters)(t)).withDimensions(ny.getGeoChartDimensions).withSorting(...this.createSort(t)).withExecConfig(r)}getSupportedPropertiesList(){return re}configureBuckets(e){const t=this.sanitizeMeasures(e),i=fs(t.buckets,2),r=Qr(i),s=Wr(i,[a.BucketNames.MEASURES,a.BucketNames.SIZE],[b]),o=Wr(i,[a.BucketNames.SECONDARY_MEASURES,a.BucketNames.COLOR],[b]),n=(s.length>0?s:r.filter((e=>!rt(o,e)))).slice(0,this.getPreferredBucketItemLimit(a.BucketNames.SIZE)),c=(o.length>0?o:r.filter((e=>!rt(n,e)))).slice(0,this.getPreferredBucketItemLimit(a.BucketNames.COLOR));return l(t,g,[{localIdentifier:a.BucketNames.LOCATION,items:this.getLocationItems(i)},{localIdentifier:a.BucketNames.SIZE,items:xs(n)},{localIdentifier:a.BucketNames.COLOR,items:xs(c)},{localIdentifier:a.BucketNames.SEGMENT,items:this.getSegmentItems(i)}]),t}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();i&&this.renderFun(o.createElement(sy,{locale:this.locale,pushData:this.pushData,properties:this.visualizationProperties,references:this.references,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}buildVisualizationConfig(e,t){const{config:i={},customVisualizationConfig:r={}}=e,{center:s,legend:a,viewport:o={}}=t,{colorMapping:n}=super.buildVisualizationConfig(e,t),c=s?{center:s}:{},d=a?{legend:a}:{},{isInEditMode:u,isExportMode:p}=i;this.environment===ma&&this.featureFlags.enableKDWidgetCustomHeight&&l(t,"legend.responsive","autoPositionWithPopup");const h={viewport:{...o,frozen:u||p}},m={...i,...c,...d,...h},g=this.environment!==ga&&!u,b=void 0!==r?.cooperativeGestures?r.cooperativeGestures:g;return{separators:i.separators,colorPalette:i.colorPalette,mapboxToken:i.mapboxToken,...t,...m,colorMapping:n,...r,cooperativeGestures:b}}renderVisualization(e,t,i){const{dimensions:r={height:void 0},custom:s={},locale:a,theme:n}=e,{height:l}=r,{intl:c}=this,d=this.environment===ma?l:void 0,{drillableItems:u}=s,p=this.visualizationProperties.controls||{},h=this.buildVisualizationConfig(e,p),m=this.getExecution(e,t,i),g={drillableItems:u,config:(b=h,f=this.featureFlags,f?{...b,...f.enableKDRespectLegendPosition?{respectLegendPosition:!0}:{}}:b),height:d,intl:c,locale:a,execution:m,pushData:this.handlePushData,afterRender:this.afterRender,onDrill:this.onDrill,onError:this.onError,onExportReady:this.onExportReady,onLoadingChanged:this.onLoadingChanged,onDataView:this.onDataView,LoadingComponent:null,ErrorComponent:null,theme:n,enableExecutionCancelling:h.enableExecutionCancelling??!1};var b,f;this.renderFun(o.createElement(ny.CoreGeoChart,{...g}),this.getElement())}withEmptyAttributeTargets(e){return{...e.availableDrillTargets,attributes:[]}}superHandlePushData=this.handlePushData;handlePushData=e=>{this.superHandlePushData({...e,...e.availableDrillTargets&&{availableDrillTargets:this.withEmptyAttributeTargets(e)}})};sanitizeMeasures(e){return hs(ps(e))}createSort(e){const t=(0,s.insightBucket)(e,a.BucketNames.SEGMENT),i=t&&(0,s.bucketAttribute)(t);return i?[(0,s.newAttributeSort)(i,"asc")]:[]}getSegmentItems(e){let t=Wr(e,[a.BucketNames.STACK,a.BucketNames.SEGMENT,a.BucketNames.COLUMNS],[y]);const i=rs(e);if(i.length>1&&c(t)){const r=this.getLocationItems(e);t=i.filter((e=>!rt(r,e))).filter((e=>!Or(e))).slice(0,1)}return t.slice(0,this.getPreferredBucketItemLimit(a.BucketNames.SEGMENT))}getLocationItems(e){return Ur(e,[a.BucketNames.ATTRIBUTE,a.BucketNames.VIEW,a.BucketNames.LOCATION,a.BucketNames.TREND],[y]).filter((e=>Boolean(e.locationDisplayFormRef))).slice(0,this.getPreferredBucketItemLimit(a.BucketNames.LOCATION))}getPreferredBucketItemLimit(e){const{buckets:t}=this.getUiConfig();return t[e].itemsLimit}updateSupportedProperties(e){const t=e?.buckets??[],i=this.getLocationItems(t)[0];if(!i)return e;const r=n(e),s=this.visualizationProperties||{},{controls:o={}}=s,c=Vr(t,a.BucketNames.SIZE)>0,d=Vr(t,a.BucketNames.COLOR)>0,u=Vr(t,a.BucketNames.LOCATION)>0,p=Vr(t,a.BucketNames.SEGMENT)>0,h=u&&!d&&!c&&!p,m=this.getLocationProperties(i);return l(r,"properties",{controls:{points:{groupNearbyPoints:h},...o,...m}}),this.references&&l(r,"references",this.references),r}getLocationProperties(e){const{dfRef:t}=e,i=e.displayForms?.filter((e=>!e.type))??[],r=i.find((e=>!!e.isDefault))||i[0],a=r?.ref||t,o=(0,s.isUriRef)(a)?a.uri:a.identifier;if(this.backendCapabilities.supportsSeparateLatitudeLongitudeLabels){const t=e.displayForms?.find((e=>"GDC.geo.pin_latitude"===e.type))?.ref,i=e.displayForms?.find((e=>"GDC.geo.pin_longitude"===e.type))?.ref;return{tooltipText:o,latitude:(0,s.isUriRef)(t)?t?.uri:t?.identifier,longitude:(0,s.isUriRef)(i)?i?.uri:i?.identifier}}return{tooltipText:o}}prepareBuckets(e){const t=this.visualizationProperties?.controls||{},i=[...(0,s.insightBuckets)(e)];if(t?.tooltipText){const r=t?.tooltipText,s=this.createVirtualBucketFromLocationAttribute(e,a.BucketNames.TOOLTIP_TEXT,r,"tooltipText_df");s&&i.push(s)}if(!this.backendCapabilities.supportsSeparateLatitudeLongitudeLabels)return i;if(t?.latitude){const r=t?.latitude,s=this.createVirtualBucketFromLocationAttribute(e,a.BucketNames.LATITUDE,r);s&&i.push(s)}if(t?.longitude){const r=t?.longitude,s=this.createVirtualBucketFromLocationAttribute(e,a.BucketNames.LONGITUDE,r,"longitude_df");s&&i.push(s)}return i.filter((e=>e.localIdentifier!==a.BucketNames.LOCATION))}createVirtualBucketFromLocationAttribute(e,t,i,r){const o=(0,s.insightBucket)(e,a.BucketNames.LOCATION);if(o){const a=(0,s.bucketAttribute)(o);if(a){let o=(0,s.idRef)(i,"displayForm");const n=(0,s.attributeAlias)(a),l=(0,s.attributeLocalId)(a);if((0,s.isUriRef)((0,s.attributeDisplayFormRef)(a))&&(o=(0,s.uriRef)(i)),!(0,s.insightBucket)(e,t))return(0,s.newBucket)(t,(0,s.newAttribute)(o,(e=>e.localId(r??l).alias(n))))}}}}const cy=new Set(["center","colorMapping","cooperativeGestures","legend","limit","selectedSegmentItems","separators","viewport","points","showLabels","showLabels","tooltipText"]);function dy(e,t){const i=(0,s.insightProperties)(e),r={...i?.controls??{},...t?.settings?.separators?{separators:t?.settings?.separators}:{}};return{...Sg(Ug,$g((([e,t])=>cy.has(e)&&!ha(t))),qg)(r),mapboxToken:"<fill your Mapbox token here>"}}function uy(e,t){return{propName:e,propType:tb.Attribute.Single,itemAccessor(e,i){return function(e,t,i){if(i===a.BucketNames.LOCATION&&!t.backend?.capabilities.supportsSeparateLatitudeLongitudeLabels){const t=(0,s.insightBucket)(e,i);return t&&(0,s.bucketAttribute)(t)}if((i===a.BucketNames.LATITUDE||i===a.BucketNames.LONGITUDE)&&t.backend?.capabilities.supportsSeparateLatitudeLongitudeLabels){const t=(0,s.insightProperties)(e),r=(t?.controls??{})[i];return(0,s.newAttribute)((0,s.idRef)(r,"displayForm"),(e=>e.localId(`a_${r}`)))}}(e,i,t)}}}class py extends o.Component{errorDetails;componentDidMount(){this.props.onAfterRender?.()}constructor(e){super(e),this.errorDetails=(0,a.newErrorMapping)(e.intl)[a.ErrorCodes.VISUALIZATION_CLASS_UNKNOWN]}render(){const{message:e,description:t}=this.errorDetails;return o.createElement(a.ErrorComponent,{message:e,description:t})}}const hy=pr(py);class my extends Km{renderFun;unmountFun;constructor(e){super(e),this.renderFun=e.renderFun,this.unmountFun=e.unmountFun}getExtendedReferencePoint(e){return Promise.resolve({...e,uiConfig:null})}getExecution(e,t,i){return null}renderConfigurationPanel(e){}renderVisualization(e,t,i){this.renderFun(o.createElement(a.IntlWrapper,{locale:e.locale},o.createElement(hy,{onAfterRender:this.afterRender})),this.getElement()),this.onLoadingChanged?.({isLoading:!1})}unmount(){this.unmountFun([this.getElement()])}}class gy extends kg{uri;constructor(e){super(),this.uri=e}getFactory(){return e=>new my(e)}applyDrillDown(e,t,i,r){return e}getEmbeddingCode=()=>"";getMeta(){return{documentationUrl:`unknown: ${this.uri}`,supportsExport:!1,supportsZooming:!1}}}class by extends Mm{renderConfigurationPanel(){const e=Xa("bubble-primary",{invisible:!this.isControlDisabled()});return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderLegendSection(),this.renderInteractionsSection(),this.renderCanvasSection(),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:e,arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}renderCanvasSection(){const{propertiesMeta:e,properties:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:e,properties:t,pushData:i},o.createElement(Ao,{pushData:i,properties:t,isDisabled:r}))}renderLegendSection(){const{properties:e,propertiesMeta:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(Cn,{properties:e,propertiesMeta:t,controlsDisabled:r,defaultLegendEnabled:!1,pushData:i})}}class fy extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.SANKEY}getExtendedReferencePoint(e){const t=!!this.featureFlags.enableWeekFilters;let i={...n(e),uiConfig:n(et)};return i=ps(i),i=hs(i),i=(e=>{const t=n(e),{measures:i,attributeFroms:r,attributeTos:s}=(e=>{const t=n(e),i=fs(t?.buckets??[],1),r=Zr(i),s=as(i),o=function(e){const t=jr(e,[a.BucketNames.ATTRIBUTE_FROM],[y,v]);return t?.items??[]}(i),l=function(e){const t=jr(e,[a.BucketNames.ATTRIBUTE_TO],[y,v]);return t?.items??[]}(i);let c=o[0],d=l[0];const u=s.filter((e=>e.localIdentifier!==c?.localIdentifier&&e.localIdentifier!==d?.localIdentifier));return c||(c=u.shift()),d||(d=u.shift()),{measures:r.length?[r[0]]:[],attributeFroms:c?[c]:[],attributeTos:d?[d]:[]}})(t);return l(t,g,[{localIdentifier:a.BucketNames.MEASURES,items:i},{localIdentifier:a.BucketNames.ATTRIBUTE_FROM,items:r},{localIdentifier:a.BucketNames.ATTRIBUTE_TO,items:s}]),t})(i),i=la(i,!1),i=na(i,t),i=((e,t,i)=>{const r=n(e);return l(r,[be],zr(r,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:sankey/bucket-title-measures.svg"),l(r,[be,g,a.BucketNames.ATTRIBUTE_FROM,"icon"],"local:sankey/bucket-title-from.svg"),l(r,[be,g,a.BucketNames.ATTRIBUTE_TO,"icon"],"local:sankey/bucket-title-to.svg"),r})(i,this.intl,this.type),Promise.resolve(Pr(i))}getSupportedPropertiesList(){return ae}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(by,{locale:this.locale,references:this.references,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,colors:this.colors,pushData:this.handlePushData,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}return null}}class vy extends wg{getFactory(){return e=>new fy(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"SankeyChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measure:nb("measure",a.BucketNames.MEASURES),attributeFrom:rb("attributeFrom",a.BucketNames.ATTRIBUTE_FROM),attributeTo:rb("attributeTo",a.BucketNames.ATTRIBUTE_TO),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{supportsExport:!0,supportsZooming:!1}}}const yy=e=>{const t=n(e);return l(t,[be,g,a.BucketNames.MEASURES,"icon"],"local:dependencyWheel/bucket-title-measures.svg"),l(t,[be,g,a.BucketNames.ATTRIBUTE_FROM,"icon"],"local:dependencyWheel/bucket-title-from.svg"),l(t,[be,g,a.BucketNames.ATTRIBUTE_TO,"icon"],"local:dependencyWheel/bucket-title-to.svg"),t};class Cy extends fy{constructor(e){super(e),this.type=a.VisualizationTypes.DEPENDENCY_WHEEL}getExtendedReferencePoint(e){return super.getExtendedReferencePoint(e).then(yy)}}var ky=pr(o.memo((e=>{const{intl:t,controlsDisabled:i,properties:r,propertiesMeta:s,pushData:a}=e,c=r.controls?.total?.measures?.length>0,d=i||c,u=!d&&function(e){return e?.controls?.total?.enabled??!0}(r),p=r?.controls?.total?.name,h=yt(kr.totalTitle.id,t),m=c?kr.totalMeasuresTooltip.id:i?void 0:kr.totalToggleTooltip.id;return(0,o.useEffect)((()=>{if(u&&!p){const e=n(r);l(e,"controls.total.name",h),a({properties:e})}}),[u,p,h,r,a]),o.createElement(to,{id:"total_section",className:"gd-total-section",title:kr.totalTitle.id,propertiesMeta:s,properties:r,pushData:a,canBeToggled:!0,toggleDisabled:d,toggledOn:u,valuePath:"total.enabled",showDisabledMessage:!0,toggleMessageId:m},o.createElement(Bo,{type:"text",properties:r,labelText:kr.totalNameLabel.id,valuePath:"total.name",disabled:!u,placeholder:kr.totalTitle.id,pushData:a,value:p,maxLength:50}))})));function wy(e){if(!e?.position)return;const t=["left","center","right"],i=["top","middle","bottom"];let r=t.indexOf(e.position);return r>=0?{position:i[r]}:(r=i.indexOf(e.position),{position:t[r]})}class Sy extends o.PureComponent{constructor(e){super(e),this.handleOrientationChanged=this.handleOrientationChanged.bind(this)}handleOrientationChanged(e){const{properties:t}=e;if(t?.controls?.orientation?.position!==this.props.properties?.controls?.orientation?.position){const{xaxis:i,yaxis:r}=function(e){const{xaxis:t,yaxis:i}=e?.controls||{};if(!t&&!i)return{xaxis:t,yaxis:i};const r={rotation:void 0,min:void 0,max:void 0,format:void 0},s=wy(i?.name),a=wy(t?.name);return{xaxis:{...r,...i,name:s},yaxis:{...r,...t,name:a}}}(t),s={...t,controls:{...t.controls,...i?{xaxis:i}:{},...r?{yaxis:r}:{}}};this.props.pushData({...e,properties:s})}else this.props.pushData(e)}render(){return o.createElement(lo,{value:this.props.value,valuePath:"orientation.position",labelText:kr.orientationTitle.id,disabled:this.props.disabled,properties:this.props.properties,pushData:this.handleOrientationChanged,items:this.generateDropdownItems(),showDisabledMessage:this.props.showDisabledMessage})}generateDropdownItems(){return Ct(bo,this.props.intl)}}var xy=pr(Sy);const _y={"tc bc":[0,Ro]},Ey=[{align:"tc bc"}];class My extends Bm{renderConfigurationPanel(){const{gridEnabled:e,axes:t}=this.getControlProperties(),{properties:i,propertiesMeta:r,pushData:s,dataLabelDefaultValue:a=!1}=this.props,n=this.isControlDisabled();return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.getBaseChartAxisSection(t),this.renderLegendSection(),o.createElement(ky,{controlsDisabled:n,properties:i,propertiesMeta:r,pushData:s}),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",className:"gd-canvas-section",title:kr.canvasTitle.id,propertiesMeta:r,properties:i,pushData:s},o.createElement(xy,{pushData:s,properties:i,disabled:n,value:i.controls?.orientation?.position||"horizontal",showDisabledMessage:!1}),o.createElement(Ao,{pushData:s,properties:i,isDisabled:n,defaultValue:a}),o.createElement(ro,{valuePath:"grid.enabled",labelText:kr.canvasGridLine.id,properties:i,checked:e,disabled:n,pushData:s})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:_y,alignPoints:Ey},o.createElement(qa,{id:"properties.config.not_applicable"})))}renderLegendSection(){const{properties:e,propertiesMeta:t,pushData:i}=this.props,r=this.isControlDisabled();return o.createElement(Cn,{properties:e,propertiesMeta:t,controlsDisabled:r,defaultLegendEnabled:!1,pushData:i})}getBaseChartAxisSection(e){const{featureFlags:t,type:i,properties:r,propertiesMeta:s,pushData:a,insight:n}=this.props,l=r?.controls,c=this.isControlDisabled(),d=this.isViewedBy(),u=Nm(i,l,n),p=t.enableAxisNameConfiguration,h=t.enableAxisLabelFormat,m=t.enableAxisNameViewByTwoAttributes;return e.map((e=>{const t="vertical"===l?.orientation?.position?"xaxis"===e.name:e.primary,i=(t||!m)&&u[e.name]>1,n=!d||i,{name:g,title:b,subtitle:f,visible:v}=e,y=t&&h;return o.createElement(to,{key:g,id:`${g}_section`,title:b,subtitle:f,valuePath:`${g}.visible`,canBeToggled:!0,toggledOn:v,toggleDisabled:c,propertiesMeta:s,properties:r,pushData:a},p?o.createElement(Om,{disabled:n,configPanelDisabled:c,axis:e.name,properties:r,pushData:a}):null,o.createElement(Im,{disabled:!1,configPanelDisabled:c,axis:e.name,properties:r,pushData:a,showFormat:y}),t?this.renderMinMax(e.name):null)}))}}class Ty extends tg{constructor(e){super(e),this.type=a.VisualizationTypes.WATERFALL,this.initializeProperties(e.visualizationProperties)}getSupportedPropertiesList(){return ne}initializeProperties(e){const t=e?.controls,i={supportedProperties:{controls:{...ba(t,this.supportedPropertiesList),total:{enabled:t?.total?.enabled??!0,name:(r=t?.total?.name,s=this.intl,r??yt(kr.colorTotalLabel.id,s))}}}};var r,s;this.pushData({initialProperties:i})}getUiConfig(){return n(Ge)}getExtendedReferencePoint(e){const t=n(e);let i={...t,uiConfig:this.getUiConfig()};i=ps(i),i=hs(i);const r=t?.buckets??[],s=is(r);if(s.length){const e=Zr(fs(r,1));l(i,g,[{localIdentifier:a.BucketNames.MEASURES,items:e},{localIdentifier:a.BucketNames.VIEW,items:s.slice(0,1)}])}else{const e=Zr(fs(r,pe,!0));e.length>1?l(i,be,n(He)):l(i,be,n(Ue)),l(i,g,[{localIdentifier:a.BucketNames.MEASURES,items:e},{localIdentifier:a.BucketNames.VIEW,items:[]}])}return i=la(i,!1),i=na(i,!!this.featureFlags.enableWeekFilters),i=Ca(i,this.supportedPropertiesList),i=this.setPropertiesTotalMeasures(i),this.featureFlags.enableChartsSorting||(i=Ba(i)),i=function(e,t,i){const r=n(e),s=r?.buckets??[],o=!Hs(s),c=!Ws(s,a.BucketNames.MEASURES);return l(r,be,zr(e,i,t)),l(r,[be,g,a.BucketNames.MEASURES,"canAddItems"],o),l(r,[be,g,a.BucketNames.VIEW,"canAddItems"],c),l(r,be,function(e,t){const i=e?.buckets,r=n(e?.uiConfig);return it(i,(e=>{const i=e?.localIdentifier??"",s=r?.buckets?.[i];if(s?.enabled&&!s?.canAddItems&&e.localIdentifier===a.BucketNames.VIEW){const e=yt(kr.category.id,t);l(r,[g,i,"warningMessage"],e)}})),r}(r,t)),l(r,[be,ve,ye],!fa(e.properties)),l(r,[be,g,a.BucketNames.MEASURES,"icon"],"local:waterfall/bucket-title-measures.svg"),l(r,[be,g,a.BucketNames.VIEW,"icon"],"local:waterfall/bucket-title-view.svg"),r}(i,this.intl,this.type),Promise.resolve(Pr(i))}getDefaultAndAvailableSort(e,t){return c(e)||c(t)?{defaultSort:[],availableSorts:[]}:{defaultSort:[(0,s.newMeasureSort)(e[0].localIdentifier,"desc")],availableSorts:[rg(t[0].localIdentifier,[e[0].localIdentifier],!0,!1)]}}isSortDisabled(e,t){const{buckets:i}=e,r=Zr(i),s=Gr(i,a.BucketNames.VIEW);return{disabled:s.length<1||r.length<1||0===t.length,disabledExplanation:Va(r,s,this.intl)}}getSortConfig(e){const{buckets:t,properties:i,availableSorts:r}=e,s=Zr(t),o=Gr(t,a.BucketNames.VIEW),{defaultSort:n,availableSorts:l}=this.getDefaultAndAvailableSort(s,o),{disabled:c,disabledExplanation:d}=this.isSortDisabled(e,l);return Promise.resolve({supported:!0,disabled:c,appliedSort:super.reuseCurrentSort(r,i,l,n),defaultSort:n,availableSorts:l,...d&&{disabledExplanation:d}})}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(My,{locale:this.locale,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,colors:this.colors,type:this.type,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,references:this.references,dataLabelDefaultValue:"auto",panelConfig:r,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}setPropertiesTotalMeasures(e){const{buckets:t,properties:i}=e,r=ts(t),s=Zr(t),a=s.filter((e=>e.isTotalMeasure)).map((e=>e.localIdentifier)),o=i?.controls?.total?.measures||[];return s.length<=1&&o.length>0&&l(e,"properties.controls.total.measures",[]),r.length>0||st(a,o)||l(e,"properties.controls.total.measures",a),e}}const Py=({pushData:e,properties:t,defaultValue:i="small"})=>{const r=hr(),s=t?.controls?.rowHeight??i;return o.createElement("div",{className:"s-row-height-config"},o.createElement(lo,{value:s,valuePath:"rowHeight",labelText:kr.rowHeight.id,properties:t,pushData:e,items:Ct(vo,r)}))},Ay=({pushData:e,properties:t,defaultValue:i="top"})=>{const r=hr(),s=t?.controls?.cellVerticalAlign??i;return o.createElement("div",{className:"s-vertical-align-config"},o.createElement(lo,{value:s,valuePath:"cellVerticalAlign",labelText:kr.verticalAlign.id,properties:t,pushData:e,items:Ct(yo,r)}))},Dy=({pushData:e,properties:t,defaultValue:i="clip"})=>{const r=hr(),s=t?.controls?.cellTextWrapping??i;return o.createElement("div",{className:"s-text-wrapping-config"},o.createElement(lo,{value:s,valuePath:"cellTextWrapping",labelText:kr.textWrapping.id,properties:t,pushData:e,items:Ct(Co,r)}))},Iy=({pushData:e,properties:t,defaultValue:i="fit"})=>{const r=hr(),s=t?.controls?.cellImageSizing??i;return o.createElement("div",{className:"s-image-config"},o.createElement(lo,{value:s,valuePath:"cellImageSizing",labelText:kr.image.id,properties:t,pushData:e,items:Ct(ko,r)}))};class Ny extends Mm{renderConfigurationPanel(){const{propertiesMeta:e,properties:t,pushData:i}=this.props;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:No,hideDelay:0},o.createElement("div",null,this.renderColorSection(),this.renderInteractionsSection(),o.createElement(to,{id:"canvas_section",title:kr.canvasTitle.id,propertiesMeta:e,properties:t,pushData:i},o.createElement(Py,{pushData:i,properties:t}),o.createElement(Ay,{pushData:i,properties:t}),o.createElement(Dy,{pushData:i,properties:t}),o.createElement(Iy,{pushData:i,properties:t})),this.renderAdvancedSection()),o.createElement(Ya.Bubble,{className:this.getBubbleClassNames(),arrowOffsets:{"tc bc":[0,Ro]},alignPoints:[{align:"tc bc"}]},o.createElement(qa,{id:"properties.config.not_applicable"})))}getBubbleClassNames(){return Xa("bubble-primary",{invisible:!0})}}class Ry extends Km{environment;featureFlags;renderFun;unmountFun;colors;constructor(e){super(e),this.environment=e.environment,this.featureFlags=e.featureFlags,this.renderFun=e.renderFun,this.unmountFun=e.unmountFun,this.supportedPropertiesList=le,this.initializeProperties(e.visualizationProperties)}unmount(){this.unmountFun([this.getElement(),this.getConfigPanelElement()])}getExtendedReferencePoint=async e=>{let t={...n(e),uiConfig:n(tt)};return t=(e=>{const t=n(e),{attribute:i,columns:r,view:o}=(e=>{const t=n(e),i=t?.buckets??[],r=Ds(i),o=Gr(i,a.BucketNames.COLUMNS),[l]=Gr(i,a.BucketNames.VIEW),c=o.filter((e=>e.type!==v)).filter((e=>{if(r&&e.type===y){const t=(0,s.areObjRefsEqual)(e.dfRef,r.dfRef),i=e.displayForms?.some((e=>(0,s.areObjRefsEqual)(e.ref,r.dfRef)));return t||i}return!0}));return{attribute:r?[r]:[],columns:c.length?c:[],view:l?[l]:[]}})(t);return l(t,g,[{localIdentifier:a.BucketNames.ATTRIBUTE,items:i},{localIdentifier:a.BucketNames.COLUMNS,items:r},{localIdentifier:a.BucketNames.VIEW,items:o}]),t})(t),t=function(e,t){const i=n(e),r=i?.buckets??[],s=Vs(r),o=Us(r),c=!s||!o;return l(i,be,zr(e,a.VisualizationTypes.REPEATER,t)),l(i,[be,g,a.BucketNames.ATTRIBUTE,"canAddItems"],s),l(i,[be,g,a.BucketNames.COLUMNS,"canAddItems"],c),l(i,[be,g,a.BucketNames.VIEW,"canAddItems"],!0),l(i,[be,g,a.BucketNames.ATTRIBUTE,"icon"],"local:repeater/bucket-title-rows.svg"),l(i,[be,g,a.BucketNames.COLUMNS,"icon"],"local:repeater/bucket-title-columns.svg"),l(i,[be,g,a.BucketNames.VIEW,"icon"],"local:repeater/bucket-title-view.svg"),i}(t,this.intl),Pr(t)};getExecution(e,t,i){const{dateFormat:r}=e,o=this.getRepeaterDimensions(t),n=(0,s.insightBucket)(t,a.BucketNames.ATTRIBUTE),l=(0,s.insightBucket)(t,a.BucketNames.VIEW),c=n.items[0],d=(0,s.insightBucket)(t,a.BucketNames.COLUMNS),u=this.getExtendedConfig(e,t),p=(0,N.constructRepeaterBuckets)(c,d?.items,l?.items?.[0],u?.inlineVisualizations),h=(0,s.insightSetBuckets)(t,p);return i.forInsight(h).withDimensions(...o).withDateFormat(r)}getBucketsToUpdate(e,t){const i=n(e),r=n(t),a=Ds(i?.buckets??[]),o=Ds(r?.buckets??[]),l=!a&&o,c=a&&o&&!a.displayForms.some((e=>(0,s.areObjRefsEqual)(e.ref,o.dfRef)));return l||c?[Is(o)]:a&&!o?[]:void 0}getRepeaterDimensions(e){const t=(0,s.insightBuckets)(e);return(0,N.constructRepeaterDimensions)(t)}insightHasColumns(e){const t=(0,s.insightBucket)(e,a.BucketNames.COLUMNS);return t?.items?.length>0}insightHasRows(e){const t=(0,s.insightBucket)(e,a.BucketNames.ATTRIBUTE);return t?.items?.length>0}mergeDerivedBucketItems(e,t,i){let r;t.localIdentifier===a.BucketNames.ATTRIBUTE&&(r=t.items),t.localIdentifier===a.BucketNames.VIEW&&(r=[]),0===i.length&&(r=[]);const s=t.items.filter((e=>"attribute"!==e.type));return r||[...i,...s]}checkBeforeRender(e){if(super.checkBeforeRender(e),!this.insightHasColumns(e))throw new mt;if(!this.insightHasRows(e))throw new ht;return!0}initializeProperties(e){const t=e?.controls,i={supportedProperties:{controls:ba(t,this.supportedPropertiesList)}};this.handlePushData({initialProperties:i})}onColumnResized=e=>{const t=this.visualizationProperties??{},i={...ba(t?.controls,this.supportedPropertiesList),columnWidths:e};this.visualizationProperties=i,this.pushData({properties:{controls:i}})};buildColumnSizing(e){const t=this.featureFlags?.enableTableColumnsAutoResizing;let i={};return t&&(i={defaultWidth:"autoresizeAll"}),this.environment===ma&&this.featureFlags?.enableTableColumnsGrowToFit&&(i={...i,growToFit:!0}),e&&e.length>0&&(i={...i,columnWidths:e}),i}buildColorMapping(e){const t=ct(e).map((e=>({predicate:N.ColorUtils.getColorMappingPredicate(e.id),color:e.color})));return t?.length>0?t:null}getExtendedConfig(e,t){const{config:i={},customVisualizationConfig:r={}}=e,a=(0,s.insightProperties)(t);return{...a?.controls??{},...i,...a,...r}}handleConfirmedColorMapping(e){const t=e;this.colors=e.colors,this.visualizationProperties&&(t.properties=un(this.visualizationProperties,e.colors.colorAssignments),this.visualizationProperties=t.properties),this.pushData(t),this.renderConfigurationPanel(this.currentInsight,this.currentOptions)}handlePushData=e=>{e.colors?this.handleConfirmedColorMapping(e):this.pushData(e)};renderVisualization(e,t,i){const{locale:r,custom:s={}}=e,{drillableItems:a}=s,n=this.getExecution(e,t,i);let l=this.getExtendedConfig(e,t);l={...l,columnSizing:this.buildColumnSizing(l?.columnWidths),colorMapping:this.buildColorMapping(l?.colorMapping)},this.renderFun(o.createElement(N.CoreRepeater,{enableExecutionCancelling:l.enableExecutionCancelling??!1,execution:n,drillableItems:a,onDrill:this.onDrill,locale:r,config:(0,N.updateConfigWithSettings)(l,this.featureFlags),afterRender:this.afterRender,onLoadingChanged:this.onLoadingChanged,pushData:this.handlePushData,onError:this.onError,onDataView:this.onDataView,onColumnResized:this.onColumnResized,intl:this.intl}),this.getElement())}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();i&&this.renderFun(o.createElement(Ny,{colors:this.colors,locale:this.locale,properties:this.visualizationProperties,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.featureFlags,configurationPanelRenderers:Wb(t.custom?.configurationPanelRenderers,"InteractionsDetailRenderer")}),i)}}var Ly=i(50975),Fy=i(51256),Oy=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")}md5cycle(e,t){let i=e[0],r=e[1],s=e[2],a=e[3];i=this.ff(i,r,s,a,t[0],7,-680876936),a=this.ff(a,i,r,s,t[1],12,-389564586),s=this.ff(s,a,i,r,t[2],17,606105819),r=this.ff(r,s,a,i,t[3],22,-1044525330),i=this.ff(i,r,s,a,t[4],7,-176418897),a=this.ff(a,i,r,s,t[5],12,1200080426),s=this.ff(s,a,i,r,t[6],17,-1473231341),r=this.ff(r,s,a,i,t[7],22,-45705983),i=this.ff(i,r,s,a,t[8],7,1770035416),a=this.ff(a,i,r,s,t[9],12,-1958414417),s=this.ff(s,a,i,r,t[10],17,-42063),r=this.ff(r,s,a,i,t[11],22,-1990404162),i=this.ff(i,r,s,a,t[12],7,1804603682),a=this.ff(a,i,r,s,t[13],12,-40341101),s=this.ff(s,a,i,r,t[14],17,-1502002290),r=this.ff(r,s,a,i,t[15],22,1236535329),i=this.gg(i,r,s,a,t[1],5,-165796510),a=this.gg(a,i,r,s,t[6],9,-1069501632),s=this.gg(s,a,i,r,t[11],14,643717713),r=this.gg(r,s,a,i,t[0],20,-373897302),i=this.gg(i,r,s,a,t[5],5,-701558691),a=this.gg(a,i,r,s,t[10],9,38016083),s=this.gg(s,a,i,r,t[15],14,-660478335),r=this.gg(r,s,a,i,t[4],20,-405537848),i=this.gg(i,r,s,a,t[9],5,568446438),a=this.gg(a,i,r,s,t[14],9,-1019803690),s=this.gg(s,a,i,r,t[3],14,-187363961),r=this.gg(r,s,a,i,t[8],20,1163531501),i=this.gg(i,r,s,a,t[13],5,-1444681467),a=this.gg(a,i,r,s,t[2],9,-51403784),s=this.gg(s,a,i,r,t[7],14,1735328473),r=this.gg(r,s,a,i,t[12],20,-1926607734),i=this.hh(i,r,s,a,t[5],4,-378558),a=this.hh(a,i,r,s,t[8],11,-2022574463),s=this.hh(s,a,i,r,t[11],16,1839030562),r=this.hh(r,s,a,i,t[14],23,-35309556),i=this.hh(i,r,s,a,t[1],4,-1530992060),a=this.hh(a,i,r,s,t[4],11,1272893353),s=this.hh(s,a,i,r,t[7],16,-155497632),r=this.hh(r,s,a,i,t[10],23,-1094730640),i=this.hh(i,r,s,a,t[13],4,681279174),a=this.hh(a,i,r,s,t[0],11,-358537222),s=this.hh(s,a,i,r,t[3],16,-722521979),r=this.hh(r,s,a,i,t[6],23,76029189),i=this.hh(i,r,s,a,t[9],4,-640364487),a=this.hh(a,i,r,s,t[12],11,-421815835),s=this.hh(s,a,i,r,t[15],16,530742520),r=this.hh(r,s,a,i,t[2],23,-995338651),i=this.ii(i,r,s,a,t[0],6,-198630844),a=this.ii(a,i,r,s,t[7],10,1126891415),s=this.ii(s,a,i,r,t[14],15,-1416354905),r=this.ii(r,s,a,i,t[5],21,-57434055),i=this.ii(i,r,s,a,t[12],6,1700485571),a=this.ii(a,i,r,s,t[3],10,-1894986606),s=this.ii(s,a,i,r,t[10],15,-1051523),r=this.ii(r,s,a,i,t[1],21,-2054922799),i=this.ii(i,r,s,a,t[8],6,1873313359),a=this.ii(a,i,r,s,t[15],10,-30611744),s=this.ii(s,a,i,r,t[6],15,-1560198380),r=this.ii(r,s,a,i,t[13],21,1309151649),i=this.ii(i,r,s,a,t[4],6,-145523070),a=this.ii(a,i,r,s,t[11],10,-1120210379),s=this.ii(s,a,i,r,t[2],15,718787259),r=this.ii(r,s,a,i,t[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(r,e[1]),e[2]=this.add32(s,e[2]),e[3]=this.add32(a,e[3])}cmn(e,t,i,r,s,a){return t=this.add32(this.add32(t,e),this.add32(r,a)),this.add32(t<<s|t>>>32-s,i)}ff(e,t,i,r,s,a,o){return this.cmn(t&i|~t&r,e,t,s,a,o)}gg(e,t,i,r,s,a,o){return this.cmn(t&r|i&~r,e,t,s,a,o)}hh(e,t,i,r,s,a,o){return this.cmn(t^i^r,e,t,s,a,o)}ii(e,t,i,r,s,a,o){return this.cmn(i^(t|~r),e,t,s,a,o)}md51(e){const t=e.length,i=[1732584193,-271733879,-1732584194,271733878];let r;for(r=64;r<=e.length;r+=64)this.md5cycle(i,this.md5blk(e.substring(r-64,r)));e=e.substring(r-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)s[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(this.md5cycle(i,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,this.md5cycle(i,s),i}md5blk(e){const t=[];for(let i=0;i<64;i+=4)t[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let i="",r=0;for(;r<4;r++)i+=t[e>>8*r+4&15]+t[e>>8*r&15];return i}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}},By={"01":"GRID","02":"CHARTS","0102":"BOTH"},zy="https://www.ag-grid.com/licensing/",Vy=class e{constructor(e){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=e,this.md5=new Oy,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(e.licenseKey),i=`AG Grid ${"BOTH"===t.currentLicenseType?"and AG Charts ":""}Enterprise`,r=void 0===t.suppliedLicenseType?"":`AG ${"BOTH"===t.suppliedLicenseType?"Grid and AG Charts":"GRID"===t.suppliedLicenseType?"Grid":"Charts"} Enterprise`;if(t.missing)this.isWebsiteUrl()&&!this.isForceWatermark()||this.outputMissingLicenseKey(i);else if(t.expired){const s=e.getGridReleaseDate(),a=e.formatDate(s);this.outputExpiredKey(t.expiry,a,i,r)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,i,r):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,i,r)}static extractExpiry(t){const i=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(e.decode(i),10))}static extractLicenseComponents(t){let i=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const r=i.length-32,s=i.substring(r),a=i.substring(0,r),[o,n,l]=e.extractBracketedInformation(i);return{md5:s,license:a,version:o,isTrial:n,type:l}}getLicenseDetails(t){const i=e.chartsLicenseManager?"BOTH":"GRID";if(!t?.length)return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:i};const r=e.getGridReleaseDate(),{md5:s,license:a,version:o,isTrial:n,type:l}=e.extractLicenseComponents(t);let c,d,u,p=s===this.md5.md5(a)&&-1===t.indexOf("For_Trialing_ag-Grid_Only"),h=null,m=!1;function g(){c=h<new Date,d=void 0}if(p&&(h=e.extractExpiry(a),p=!isNaN(h.getTime()),p))switch(d=r>h,o){case"legacy":case"2":n&&g();break;case"3":l?.length?(u=l,l!==By["01"]&&l!==By["0102"]||"BOTH"===i&&"BOTH"!==u?(p=!1,m=!0):n&&g()):p=!1}return p?{licenseKey:t,valid:p,expiry:e.formatDate(h),expired:d,version:o,isTrial:n,trialExpired:c,incorrectLicenseType:m,currentLicenseType:i,suppliedLicenseType:u}:{licenseKey:t,valid:p,incorrectLicenseType:m,currentLicenseType:i,suppliedLicenseType:u}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!this.watermarkMessage?.length}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const e=(this.document.defaultView||window).location,{hostname:t=""}=e;return t}isForceWatermark(){const e=(this.document.defaultView||window).location,{pathname:t}=e;return!!t&&-1!==t.indexOf("forceWatermark")}isWebsiteUrl(){return null!==this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)}isLocalhost(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)}static formatDate(e){const t=e.getDate(),i=e.getMonth(),r=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][i]+" "+r}static getGridReleaseDate(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))}static decode(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,s,a,o,n,l,c,d="",u=0;const p=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;u<p.length;)o=i.indexOf(p.charAt(u++)),n=i.indexOf(p.charAt(u++)),l=i.indexOf(p.charAt(u++)),c=i.indexOf(p.charAt(u++)),r=o<<2|n>>4,s=(15&n)<<4|l>>2,a=(3&l)<<6|c,d+=String.fromCharCode(r),64!=l&&(d+=String.fromCharCode(s)),64!=c&&(d+=String.fromCharCode(a));return d=e.utf8_decode(d),d}static utf8_decode(e){e=e.replace(/rn/g,"n");let t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}static setChartsLicenseManager(e){this.chartsLicenseManager=e,this.chartsLicenseManager?.setLicenseKey(this.licenseKey,!0)}static setLicenseKey(e){this.licenseKey=e,this.chartsLicenseManager?.setLicenseKey(e,!0)}static extractBracketedInformation(e){if(!e.includes("["))return["legacy",!1,void 0];const t=e.match(/\[(.*?)\]/g).map((e=>e.replace("[","").replace("]","")));if(!t||0===t.length)return["legacy",!1,void 0];const i=1===t.filter((e=>"TRIAL"===e)).length,r=t.filter((e=>0===e.indexOf("v")))[0];return[r?r.replace("v",""):"legacy",i,By[t.filter((e=>By[e]))[0]]]}centerPadAndOutput(e){const t=this.totalMessageLength-e.length;console.error(e.padStart(t/2+e.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(e,t="*",i=""){console.error(e.padEnd(this.totalMessageLength-i.length,t)+i)}outputInvalidLicenseKey(e,t,i){e?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${i} only and does not cover you for ${t}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${zy}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${zy}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e,t,i){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${i} expired on ${e}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(e){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${e} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${e} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(e,t,i,r){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${r} released before ${e}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${t}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};Vy.RELEASE_INFORMATION="MTc0ODQ1MzQ2MTA5Mg==";var Gy=Vy,Uy={tag:"div",cls:"ag-watermark",children:[{tag:"div",ref:"eLicenseTextRef",cls:"ag-watermark-text"}]},Hy={selector:"AG-WATERMARK",component:class extends Fy.wA2{constructor(){super(Uy),this.eLicenseTextRef=Fy.CUI,this.registerCSS('.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}')}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage(),window.setTimeout((()=>this.addCss("ag-opacity-zero")),0),window.setTimeout((()=>this.setDisplayed(!1)),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}}},Wy=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new Gy((0,Fy.rtB)(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new Gy(null).getLicenseDetails(e)}getWatermarkSelector(){return Hy}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){Gy.setLicenseKey(e)}static setChartsLicenseManager(e){Gy.setChartsLicenseManager(e)}},jy={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},Ky="\r\n";function $y(e,t,i){if(!t&&""!==t&&0!==t)return"";let r=t;return"boolean"==typeof t&&i&&(r=i(t)),` ${e}="${r}"`}function qy(e,t){let i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((e=>{Object.keys(e.map).forEach((r=>{i+=$y(e.prefix+r,e.map[r],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((r=>{i+=$y(r,e.properties.rawMap[r],t)})));let r="<"+e.name+i;return e.children||null!=e.textNode?null!=e.textNode?r+">"+e.textNode+"</"+e.name+">"+Ky:(r+=">\r\n",e.children&&e.children.forEach((e=>{r+=qy(e,t)})),r+"</"+e.name+">"+Ky):r+"/>"+Ky}var Yy,Xy,Qy,Zy,Jy,eC,tC,iC,rC,sC=e=>Math.ceil(9525*e),aC=(e,t)=>{if(!t)return;let i;return i="number"==typeof t?t:t({rowIndex:e}),i},oC=(e,t)=>{const i=function(e={}){const t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),`<?xml ${t.map((t=>`${t}="${e[t]}"`)).join(" ")} ?>`}({encoding:"UTF-8",standalone:"yes"}),r=qy(e);return t?r:`${i}${r}`},nC=e=>{const t=String.fromCharCode,i=Math.floor(e/26),r=e%26;return i&&26!==e?r?i<26?t(65+i-1)+t(65+r-1):nC(i)+t(65+r-1):nC(i-1)+"Z":t(65+e-1)},lC=e=>e.replaceAll("\n","_x000a_"),cC=e=>{if(null==e)return null;let t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);t+=r>=0&&r<=31&&10!==r?`_x${r.toString(16).toUpperCase().padStart(4,"0")}_`:e[i]}return t},dC=e=>{const t=[];for(const i of e.keys()){const e=i.toString(),r={name:"t",textNode:(0,Fy.BYN)(cC(e))};e.trim().length!==e.length&&(r.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[r]})}return t},uC={getTemplate(e){const{name:t,ContentType:i,Extension:r,PartName:s}=e;return{name:t,properties:{rawMap:{Extension:r,PartName:s,ContentType:i}}}}},pC=e=>"jpg"===e?"jpeg":e,hC={getTemplate(e){const t=new Array(e).fill(void 0).map(((e,t)=>({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:`/xl/worksheets/sheet${t+1}.xml`}))),i=Qk.size,r=Zk.size,s={};Jk.forEach((e=>{s[pC(e.type)]=!0}));const a=new Array(i).fill(void 0).map(((e,t)=>({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:`/xl/drawings/drawing${t+1}.xml`}))),o=[];tw.forEach((({name:e})=>{o.push({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml",PartName:`/xl/tables/${e}.xml`})}));const n=Object.keys(s).map((e=>({name:"Default",ContentType:`image/${e}`,Extension:e})));return r&&n.push({name:"Default",Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:[...n,{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"},...t,{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"},...a,...o,{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}].map((e=>uC.getTemplate(e)))}}},mC={getTemplate(e){const t=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:e},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t}]}}},gC=(e,t)=>({name:`xdr:${e}`,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}),bC=e=>{const t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(e.recolor&&e.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},fC=(e,t)=>({name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:e.id,descr:null!=e.altText?e.altText:void 0}},children:[bC(e)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}),vC=e=>{if(!e.saturation&&!e.tint)return;const t=[];return e.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*e.saturation}}}),e.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*e.tint}}}),t},yC=(e,t)=>{let i;if(e.transparency){const t=Math.min(Math.max(e.transparency,0),100);i=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*t)}}}]}if(e.recolor)switch(i||(i=[]),e.recolor.toLocaleLowerCase()){case"grayscale":i.push({name:"a:grayscl"});break;case"sepia":i.push((s={color:"D9C3A5",tint:50,saturation:180},{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:(r={color:"black"}).color}},children:vC(r)},{name:"a:srgbClr",properties:{rawMap:{val:s.color}},children:vC(s)}]}));break;case"washout":i.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}var r,s;return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":`rId${t}`,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:i},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},CC=(e,t)=>{const i={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};if(e.rotation){const t=e.rotation;i.properties={rawMap:{rot:6e4*Math.min(Math.max(t,0),360)}}}return{name:"xdr:spPr",children:[i,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},kC=(e,t,i,r)=>({name:"xdr:pic",children:[fC(e,t+1),yC(e,i+1),CC(e,r)]}),wC={getTemplate(e){const{sheetIndex:t}=e,i=Qk.get(t),r=ew.get(t);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:i.map(((e,t)=>{const i=(e=>{e.fitCell=!!e.fitCell||!e.width||!e.height;const{position:t={},fitCell:i,width:r=0,height:s=0,totalHeight:a,totalWidth:o}=e,{offsetX:n=0,offsetY:l=0,row:c=1,rowSpan:d=1,column:u=1,colSpan:p=1}=t;return{from:{row:c-1,col:u-1,offsetX:sC(n),offsetY:sC(l)},to:{row:c-1+(i?1:d-1),col:u-1+(i?1:p-1),offsetX:sC(r+n),offsetY:sC(s+l)},height:sC(a||s),width:sC(o||r)}})(e);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[gC("from",i.from),gC("to",i.to),kC(e,t,r.get(e.id).index,i),{name:"xdr:clientData"}]}}))}}},SC={getTemplate(e){const{Id:t,Type:i,Target:r}=e;return{name:"Relationship",properties:{rawMap:{Id:t,Type:i,Target:r}}}}},xC={getTemplate(e){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map((e=>SC.getTemplate(e)))}}},_C={getTemplate(e){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.size,uniqueCount:e.size}},children:dC(e)}}},EC={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot",Continuous:"Continuous"},MC=["Dashed","DashDot","DashDotDot"],TC={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},PC={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},AC={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},DC=e=>null==e?e:("#"===e.charAt(0)&&(e=e.substring(1)),6===e.length?"FF"+e:e),IC=(e,t)=>{if(!e)return"thin";const i=(e=>{switch(e){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}})(t);if("Continuous"===e)return i;const r=EC[e];return"medium"===i&&MC.some((e=>e===r))?`medium${r}`:`${r.charAt(0).toLowerCase()}${r.substring(1)}`},NC=e=>PC[e]||"general",RC=e=>AC[e]||void 0,LC=e=>({name:"color",properties:{rawMap:{rgb:DC(e||"#000000")}}}),FC={getTemplate(e){const{left:t,right:i,top:r,bottom:s,diagonal:a}=e,o=t?[LC(t.color)]:void 0,n=i?[LC(i.color)]:void 0,l=r?[LC(r.color)]:void 0,c=s?[LC(s.color)]:void 0,d=a?[LC(a.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:o},{name:"right",properties:{rawMap:{style:i&&i.style}},children:n},{name:"top",properties:{rawMap:{style:r&&r.style}},children:l},{name:"bottom",properties:{rawMap:{style:s&&s.style}},children:c},{name:"diagonal",properties:{rawMap:{style:a&&a.style}},children:d}]}}},OC={getTemplate(e){return{name:"borders",properties:{rawMap:{count:e.length}},children:e.map((e=>FC.getTemplate(e)))}}},BC=e=>{const t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)},zC={getTemplate(e){const{horizontal:t,indent:i,readingOrder:r,rotate:s,shrinkToFit:a,vertical:o,wrapText:n}=e;return{name:"alignment",properties:{rawMap:{horizontal:t&&NC(t),indent:i,readingOrder:r&&BC(r),textRotation:s,shrinkToFit:a,vertical:o&&RC(o),wrapText:n}}}}},VC=zC,GC={getTemplate(e){const t=!1===e.protected?0:1;return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:t}}}}},UC={getTemplate(e){const{alignment:t,borderId:i,fillId:r,fontId:s,numFmtId:a,protection:o,quotePrefix:n,xfId:l}=e,c=[];return t&&c.push(VC.getTemplate(t)),o&&c.push(GC.getTemplate(o)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:o?1:void 0,applyBorder:i?1:void 0,applyFill:r?1:void 0,borderId:i,fillId:r,applyFont:s?1:void 0,fontId:s,applyNumberFormat:a?1:void 0,numFmtId:a,quotePrefix:n?1:void 0,xfId:l}},children:c.length?c:void 0}}},HC={getTemplate(e){return{name:"cellStyleXfs",properties:{rawMap:{count:e.length}},children:e.map((e=>UC.getTemplate(e)))}}},WC={getTemplate(e){const{builtinId:t,name:i,xfId:r}=e;return{name:"cellStyle",properties:{rawMap:{builtinId:t,name:i,xfId:r}}}}},jC={getTemplate(e){return{name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map((e=>WC.getTemplate(e)))}}},KC={getTemplate(e){return{name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map((e=>UC.getTemplate(e)))}}},$C={getTemplate(e){const{patternType:t,fgTheme:i,fgTint:r,fgRgb:s,bgRgb:a,bgIndexed:o}=e,n={name:"patternFill",properties:{rawMap:{patternType:t}}};return(i||r||s)&&(n.children=[{name:"fgColor",properties:{rawMap:{theme:i,tint:r,rgb:s}}}]),(o||a)&&(n.children||(n.children=[]),n.children.push({name:"bgColor",properties:{rawMap:{indexed:o,rgb:a}}})),{name:"fill",children:[n]}}},qC={getTemplate(e){return{name:"fills",properties:{rawMap:{count:e.length}},children:e.map((e=>$C.getTemplate(e)))}}},YC={getTemplate(e){const{size:t,colorTheme:i,color:r="FF000000",fontName:s="Calibri",family:a,scheme:o,italic:n,bold:l,strikeThrough:c,outline:d,shadow:u,underline:p,verticalAlign:h}=e,m=[{name:"sz",properties:{rawMap:{val:t}}},{name:"color",properties:{rawMap:{theme:i,rgb:r}}},{name:"name",properties:{rawMap:{val:s}}}];return a&&m.push({name:"family",properties:{rawMap:{val:a}}}),o&&m.push({name:"scheme",properties:{rawMap:{val:o}}}),n&&m.push({name:"i"}),l&&m.push({name:"b"}),c&&m.push({name:"strike"}),d&&m.push({name:"outline"}),u&&m.push({name:"shadow"}),p&&m.push({name:"u",properties:{rawMap:{val:p}}}),h&&m.push({name:"vertAlign",properties:{rawMap:{val:h}}}),{name:"font",children:m}}},XC=YC,QC={getTemplate(e){return{name:"fonts",properties:{rawMap:{count:e.length}},children:e.map((e=>XC.getTemplate(e)))}}},ZC={getTemplate(e){let{formatCode:t,numFmtId:i}=e;return t.length&&(t=function(e){const t=e.split(/(\[[^\]]*\])/);for(let e=0;e<t.length;e++){let i=t[e];i.length&&(i.startsWith("[")||(i=i.replace(/\$/g,'"$"')),t[e]=(0,Fy.BYN)(i))}return t.join("")}(t)),{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:i}}}}},JC={getTemplate(e){return{name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map((e=>ZC.getTemplate(e)))}}},ek=(e,t)=>(-1!==e.indexOf("mixedStyle")&&t>1&&(e+=`_${t}`),e),tk=()=>{Yy={base:0},Xy=[],Qy=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],Zy=[{patternType:"none"},{patternType:"gray125"}],Jy=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],eC=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],tC=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],iC=[{builtinId:0,name:"Normal",xfId:0}]},ik=e=>{const{alignment:t,borders:i,font:r,interior:s,numberFormat:a,protection:o,quotePrefix:n}=e;let{id:l}=e,c=0,d=0,u=0,p=0;l&&(l=ek(l,rC),null==Yy[l]&&(s&&(c=(e=>{const t=(i=e.pattern)?TC[i]||i:"none";var i;const r=DC(e.color),s=DC(e.patternColor);let a=Zy.findIndex((e=>{const{patternType:i,fgRgb:a,bgRgb:o}=e;return i==t&&a==r&&o==s}));return-1===a&&(a=Zy.length,Zy.push({patternType:t,fgRgb:r,bgRgb:s})),a})(s)),i&&(d=(e=>{const{borderBottom:t,borderTop:i,borderLeft:r,borderRight:s}=e;let a,o,n,l,c,d,u,p;r&&(n=IC(r.lineStyle,r.weight),u=DC(r.color)),s&&(l=IC(s.lineStyle,s.weight),p=DC(s.color)),t&&(a=IC(t.lineStyle,t.weight),c=DC(t.color)),i&&(o=IC(i.lineStyle,i.weight),d=DC(i.color));let h=Jy.findIndex((e=>{const{left:t,right:i,top:r,bottom:s}=e;if(!t&&(n||u))return!1;if(!i&&(l||p))return!1;if(!r&&(o||d))return!1;if(!s&&(a||c))return!1;const{style:h,color:m}=t||{},{style:g,color:b}=i||{},{style:f,color:v}=r||{},{style:y,color:C}=s||{};return h==n&&m==u&&g==l&&b==p&&f==o&&v==d&&y==a&&C==c}));return-1===h&&(h=Jy.length,Jy.push({left:{style:n,color:u},right:{style:l,color:p},top:{style:o,color:d},bottom:{style:a,color:c},diagonal:{style:void 0,color:void 0}})),h})(i)),r&&(u=(e=>{const{fontName:t="Calibri",color:i,size:r,bold:s,italic:a,outline:o,shadow:n,strikeThrough:l,underline:c,family:d,verticalAlign:u}=e,p=DC(i),h=(e=>{if(void 0===e)return;const t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(e||"Automatic");return Math.max(t,0)})(d),m=c?c.toLocaleLowerCase():void 0,g=u?u.toLocaleLowerCase():void 0;let b=Qy.findIndex((e=>e.fontName==t&&e.color==p&&e.size==r&&e.bold==s&&e.italic==a&&e.outline==o&&e.shadow==n&&e.strikeThrough==l&&e.underline==m&&e.verticalAlign==g&&e.family==h));return-1===b&&(b=Qy.length,Qy.push({fontName:t,color:p,size:r,bold:s,italic:a,outline:o,shadow:n,strikeThrough:l,underline:m,verticalAlign:g,family:null!=h?h.toString():void 0})),b})(r)),a&&(p=(e=>{if(jy[e])return jy[e];let t=Xy.findIndex((t=>t.formatCode===e));return-1===t?(t=Xy.length+164,Xy.push({formatCode:e,numFmtId:t})):t=Xy[t].numFmtId,t})(a.format)),Yy[l]=tC.length,tC.push({alignment:t,borderId:d||0,fillId:c||0,fontId:u||0,numFmtId:p||0,protection:o,quotePrefix:n,xfId:0})))},rk=(e,t)=>Yy[ek(e,t)]||0,sk={getTemplate(e){const t=JC.getTemplate(Xy),i=QC.getTemplate(Qy.map((t=>({...t,size:null!=t.size?t.size:e})))),r=qC.getTemplate(Zy),s=OC.getTemplate(Jy),a=HC.getTemplate(eC),o=KC.getTemplate(tC),n=jC.getTemplate(iC);return tk(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,i,r,s,a,o,n,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},ak={getTemplate(e,t){const{name:i,columns:r,rowRange:s,displayName:a,showRowStripes:o,showColumnStripes:n,showFilterButtons:l,highlightFirstColumn:c,highlightLastColumn:d}=e||{},u=!s||s[0]-s[1]==0;if(!e||!i||!Array.isArray(r)||!r.length||u)return{name:"table"};const p=r.map(((e,t)=>({name:"filterColumn",properties:{rawMap:{colId:t.toString(),hiddenButton:l[t]?0:1}}}))),h=`A${s[0]}:${nC(r.length)}${s[1]}`,m=`${t+1}`;return{name:"table",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3",name:i,displayName:t?`${a}_${m}`:a,ref:h,totalsRowShown:0,id:m}},children:[{name:"autoFilter",properties:{rawMap:{ref:h}},children:p},{name:"tableColumns",properties:{rawMap:{count:r.length}},children:r.map(((e,t)=>({name:"tableColumn",properties:{rawMap:{id:(t+1).toString(),name:lC(e),dataCellStyle:"Normal"}}})))},{name:"tableStyleInfo",properties:{rawMap:{name:"TableStyleLight1",showFirstColumn:c?1:0,showLastColumn:d?1:0,showRowStripes:o?1:0,showColumnStripes:n?1:0}}}]}}},ok=ak,nk=e=>{const[t,i,r,s]=e;return{name:`a:${t}`,children:[{name:`a:${i}`,properties:{rawMap:{val:r,lastClr:s}}}]}},lk={getTemplate(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[nk(["dk1","sysClr","windowText","000000"]),nk(["lt1","sysClr","window","FFFFFF"]),nk(["dk2","srgbClr","44546A"]),nk(["lt2","srgbClr","E7E6E6"]),nk(["accent1","srgbClr","4472C4"]),nk(["accent2","srgbClr","ED7D31"]),nk(["accent3","srgbClr","A5A5A5"]),nk(["accent4","srgbClr","FFC000"]),nk(["accent5","srgbClr","5B9BD5"]),nk(["accent6","srgbClr","70AD47"]),nk(["hlink","srgbClr","0563C1"]),nk(["folHlink","srgbClr","954F72"])]}}},ck=e=>{const[t,i,r,s]=e;return{name:`a:${t}`,properties:{rawMap:{script:r,typeface:i,panose:s}}}},dk={getTemplate(){return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[ck(["latin","Calibri Light",void 0,"020F0302020204030204"]),ck(["ea",""]),ck(["cs",""]),ck(["font","游ゴシック Light","Jpan"]),ck(["font","맑은 고딕","Hang"]),ck(["font","等线 Light","Hans"]),ck(["font","新細明體","Hant"]),ck(["font","Times New Roman","Arab"]),ck(["font","Times New Roman","Hebr"]),ck(["font","Tahoma","Thai"]),ck(["font","Nyala","Ethi"]),ck(["font","Vrinda","Beng"]),ck(["font","Shruti","Gujr"]),ck(["font","MoolBoran","Khmr"]),ck(["font","Tunga","Knda"]),ck(["font","Raavi","Guru"]),ck(["font","Euphemia","Cans"]),ck(["font","Plantagenet Cherokee","Cher"]),ck(["font","Microsoft Yi Baiti","Yiii"]),ck(["font","Microsoft Himalaya","Tibt"]),ck(["font","MV Boli","Thaa"]),ck(["font","Mangal","Deva"]),ck(["font","Gautami","Telu"]),ck(["font","Latha","Taml"]),ck(["font","Estrangelo Edessa","Syrc"]),ck(["font","Kalinga","Orya"]),ck(["font","Kartika","Mlym"]),ck(["font","DokChampa","Laoo"]),ck(["font","Iskoola Pota","Sinh"]),ck(["font","Mongolian Baiti","Mong"]),ck(["font","Times New Roman","Viet"]),ck(["font","Microsoft Uighur","Uigh"]),ck(["font","Sylfaen","Geor"]),ck(["font","Arial","Armn"]),ck(["font","Leelawadee UI","Bugi"]),ck(["font","Microsoft JhengHei","Bopo"]),ck(["font","Javanese Text","Java"]),ck(["font","Segoe UI","Lisu"]),ck(["font","Myanmar Text","Mymr"]),ck(["font","Ebrima","Nkoo"]),ck(["font","Nirmala UI","Olck"]),ck(["font","Ebrima","Osma"]),ck(["font","Phagspa","Phag"]),ck(["font","Estrangelo Edessa","Syrn"]),ck(["font","Estrangelo Edessa","Syrj"]),ck(["font","Estrangelo Edessa","Syre"]),ck(["font","Nirmala UI","Sora"]),ck(["font","Microsoft Tai Le","Tale"]),ck(["font","Microsoft New Tai Lue","Talu"]),ck(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[ck(["latin","Calibri",void 0,"020F0502020204030204"]),ck(["ea",""]),ck(["cs",""]),ck(["font","游ゴシック","Jpan"]),ck(["font","맑은 고딕","Hang"]),ck(["font","等线","Hans"]),ck(["font","新細明體","Hant"]),ck(["font","Arial","Arab"]),ck(["font","Arial","Hebr"]),ck(["font","Tahoma","Thai"]),ck(["font","Nyala","Ethi"]),ck(["font","Vrinda","Beng"]),ck(["font","Shruti","Gujr"]),ck(["font","DaunPenh","Khmr"]),ck(["font","Tunga","Knda"]),ck(["font","Raavi","Guru"]),ck(["font","Euphemia","Cans"]),ck(["font","Plantagenet Cherokee","Cher"]),ck(["font","Microsoft Yi Baiti","Yiii"]),ck(["font","Microsoft Himalaya","Tibt"]),ck(["font","MV Boli","Thaa"]),ck(["font","Mangal","Deva"]),ck(["font","Gautami","Telu"]),ck(["font","Latha","Taml"]),ck(["font","Estrangelo Edessa","Syrc"]),ck(["font","Kalinga","Orya"]),ck(["font","Kartika","Mlym"]),ck(["font","DokChampa","Laoo"]),ck(["font","Iskoola Pota","Sinh"]),ck(["font","Mongolian Baiti","Mong"]),ck(["font","Arial","Viet"]),ck(["font","Microsoft Uighur","Uigh"]),ck(["font","Sylfaen","Geor"]),ck(["font","Arial","Armn"]),ck(["font","Leelawadee UI","Bugi"]),ck(["font","Microsoft JhengHei","Bopo"]),ck(["font","Javanese Text","Java"]),ck(["font","Segoe UI","Lisu"]),ck(["font","Myanmar Text","Mymr"]),ck(["font","Ebrima","Nkoo"]),ck(["font","Nirmala UI","Olck"]),ck(["font","Ebrima","Osma"]),ck(["font","Phagspa","Phag"]),ck(["font","Estrangelo Edessa","Syrn"]),ck(["font","Estrangelo Edessa","Syrj"]),ck(["font","Estrangelo Edessa","Syre"]),ck(["font","Nirmala UI","Sora"]),ck(["font","Microsoft Tai Le","Tale"]),ck(["font","Microsoft New Tai Lue","Talu"]),ck(["font","Ebrima","Tfng"])]}]}}},uk=(e,t,i)=>({name:`a:${e}`,properties:{rawMap:{val:t}},children:i}),pk=e=>{const[t,i,r,s,a,o]=e,n=[];return n.push(uk("satMod",r)),s&&n.push(uk("lumMod",s)),a&&n.push(uk("tint",a)),o&&n.push(uk("shade",o)),{name:"a:gs",properties:{rawMap:{pos:t}},children:[{name:"a:schemeClr",properties:{rawMap:{val:i}},children:n}]}},hk=(e,t)=>({name:"a:solidFill",children:[uk("schemeClr",e,t)]}),mk=e=>{const[t,i,r,s,a]=e,[o,n]=a;return{name:"a:gradFill",properties:{rawMap:{rotWithShape:t}},children:[{name:"a:gsLst",children:[pk(i),pk(r),pk(s)]},{name:"a:lin",properties:{rawMap:{ang:o,scaled:n}}}]}},gk=e=>{const[t,i,r,s]=e;return{name:"a:ln",properties:{rawMap:{w:t,cap:i,cmpd:r,algn:s}},children:[hk("phClr"),uk("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},bk=e=>{const t=[];if(e){const[i,r,s,a,o]=e;t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:i,dist:r,dir:s,algn:a,rotWithShape:o}},children:[uk("srgbClr","000000",[uk("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},fk={getTemplate(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[hk("phClr"),mk(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),mk(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[gk(["6350","flat","sng","ctr"]),gk(["12700","flat","sng","ctr"]),gk(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[bk(),bk(),bk(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[hk("phClr"),hk("phClr",[uk("tint","95000"),uk("satMod","170000")]),mk(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}}},vk={getTemplate(){return{name:"a:themeElements",children:[lk.getTemplate(),dk.getTemplate(),fk.getTemplate()]}}},yk={getTemplate(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[vk.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},Ck=e=>{const{aspectratio:t,rotation:i}=e||{},r={};return t&&(r.aspectratio="t"),i&&(r.rotation="t"),{name:"o:lock",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}],rawMap:r}}},kk=(e,t)=>{let i;const{recolor:r,brightness:s,contrast:a,id:o}=e;if(r&&(i={},"Washout"!==r&&"Grayscale"!==r||(i.gain="19661f",i.blacklevel="22938f"),"Black & White"!==r&&"Grayscale"!==r||(i.grayscale="t","Black & White"===r&&(i.bilevel="t"))),!r||"Grayscale"===r){if(i||(i={}),null!=a&&50!==a){let e="1";a>=0&&(a<50?e=String(a/50):a<100?e=String(50/(100-a)):100===a&&(e="2147483647f")),i.gain=e}null!=s&&50!==s&&(i.blacklevel=(n=s,0,100,-.5,.5,(n-0)/100*1-.5).toString())}var n;return{name:"v:imagedata",properties:{prefixedAttributes:[{prefix:"o:",map:{relid:`rId${t}`,title:o}}],rawMap:i}}},wk=e=>Math.floor(.74999943307122*(e??0)),Sk={getTemplate(e){const t=Zk.get(e.sheetIndex)||[];var i;return{name:"xml",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{v:"urn:schemas-microsoft-com:vml",o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel"}}]},children:[{name:"o:shapelayout",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}]},children:[{name:"o:idmap",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}],rawMap:{data:"1"}}}]},{name:"v:shapetype",properties:{prefixedAttributes:[{prefix:"o:",map:{spt:"75",preferrelative:"t"}}],rawMap:{coordsize:"21600,21600",filled:"f",id:"_x0000_t75",path:"m@4@5l@4@11@9@11@9@5xe",stroked:"f"}},children:[{name:"v:stroke",properties:{rawMap:{joinstyle:"miter"}}},(i=["if lineDrawn pixelLineWidth 0","sum @0 1 0","sum 0 0 @1","prod @2 1 2","prod @3 21600 pixelWidth","prod @3 21600 pixelHeight","sum @0 0 1","prod @6 1 2","prod @7 21600 pixelWidth","sum @8 21600 0","prod @7 21600 pixelHeight","sum @10 21600 0"],{name:"v:formulas",children:i.map((e=>({name:"v:f",properties:{rawMap:{eqn:e}}})))}),{name:"v:path",properties:{prefixedAttributes:[{prefix:"o:",map:{connecttype:"rect",extrusionok:"f"}}],rawMap:{gradientshapeok:"t"}}},Ck({aspectratio:!0})]},...t.map(((e,t)=>((e,t)=>{const{width:i=0,height:r=0,altText:s}=e,a=wk(i),o=wk(r);return{name:"v:shape",properties:{rawMap:{id:e.headerFooterPosition,"o:spid":"_x0000_s1025",style:`position: absolute; margin-left: 0; margin-top: 10in; margin-bottom: 0; margin-right: 0; width: ${a}pt; height: ${o}pt; z-index: ${t+1}`,type:"#_x0000_t75",alt:s}},children:[kk(e,t+1),Ck({rotation:!0})]}})(e,t)))]}}},xk={getTemplate(e,t){const i=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:i,"r:id":`rId${i}`}}}}},_k={getTemplate(e){return{name:"sheets",children:e.map(((e,t)=>xk.getTemplate(e,t)))}}},Ek={getTemplate(e,t){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[{name:"bookViews",children:[{name:"workbookView",properties:{rawMap:{activeTab:t}}}]},_k.getTemplate(e)]}}},Mk={getTemplate(e){const{min:t,max:i,outlineLevel:r,s:s,width:a,hidden:o,bestFit:n}=e;let l=1,c="0";return a>1&&(l=(e=>Math.ceil((e-12)/7+1))(a),c="1"),{name:"col",properties:{rawMap:{min:t,max:i,outlineLevel:null!=r?r:void 0,width:l,style:s,hidden:o?"1":"0",bestFit:n?"1":"0",customWidth:c}}}}},Tk={getTemplate(e){return{name:"mergeCell",properties:{rawMap:{ref:e}}}}},Pk={getTemplate(e,t,i){const{ref:r,data:s,styleId:a}=e,{type:o,value:n}=s||{type:"empty",value:null};let l=o;"f"===o?l="str":o.charAt(0)===o.charAt(0).toUpperCase()&&(l=(e=>{const t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t})(o));const c={name:"c",properties:{rawMap:{r:r,t:"empty"===l?void 0:l,s:a?rk(a,i):void 0}}};if("empty"===l)return c;let d;return d="str"===l&&"f"===o?[{name:"f",textNode:(0,Fy.BYN)(cC(n))}]:"inlineStr"===l?[{name:"is",children:[{name:"t",textNode:(0,Fy.BYN)(cC(n))}]}]:[{name:"v",textNode:n}],Object.assign({},c,{children:d})}},Ak=Pk,Dk=e=>""!==e.data?.value||void 0!==e.styleId,Ik={getTemplate(e,t,i){const{collapsed:r,hidden:s,height:a,outlineLevel:o,cells:n=[]}=e;return((e,t)=>{const i=[];let r=0;for(let t=0;t<e.length;t++){const s=e[t];s.mergeAcross&&(i.push({pos:t,excelPos:r}),r+=s.mergeAcross),r++}if(i.length)for(let r=i.length-1;r>=0;r--){const s=[],a=e[i[r].pos];for(let e=1;e<=a.mergeAcross;e++)s.push({ref:`${nC(i[r].excelPos+1+e)}${t+1}`,styleId:a.styleId,data:{type:"empty",value:null}});s.length&&e.splice(i[r].pos+1,0,...s)}})(n,t),{name:"row",properties:{rawMap:{r:t+1,collapsed:r?"1":"0",hidden:s?"1":"0",ht:a,customHeight:null!=a?"1":"0",spans:"1:1",outlineLevel:o||void 0}},children:n.filter(Dk).map(((e,t)=>Ak.getTemplate(e,t,i)))}}},Nk=e=>{if(null==e)return 1;const t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(e);return-1===t?1:t+1},Rk=(e,t,i)=>e.reduce(((e,r,s)=>{const a="Center"===(o=r.position)?"C":"Right"===o?"R":"L";var o;const n=(l=`${e}&amp;${a}`,(c=r.font)?(l+="&amp;&quot;",l+=c.fontName||"Calibri",c.bold!==c.italic?l+=c.bold?",Bold":",Italic":c.bold?l+=",Bold Italic":l+=",Regular",l+="&quot;",c.size&&(l+=`&amp;${c.size}`),c.strikeThrough&&(l+="&amp;S"),c.underline&&(l+="&amp;"+("Double"===c.underline?"E":"U")),c.color&&(l+=`&amp;K${c.color.replace("#","").toUpperCase()}`),l):l);var l,c;r.position||(r.position=["Left","Center","Right"][s]);const{image:d}=r;return"&[Picture]"===r.value&&d&&function(e,t){const i=Yk.length-1,r=e;r.headerFooterPosition=t,rw({imageToAdd:r,idx:i});let s=Zk.get(i);s||(s=[],Zk.set(i,s)),s.find((t=>t.id===e.id))||s.push(e)}(d,`${a}${t}${i}`),`${n}${(0,Fy.BYN)((e=>{const t={"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F","&[Picture]":"&G"};for(const i of Object.keys(t))e=e.replace(i,t[i]);return e})(r.value))}`}),""),Lk=e=>{const t=[];return["all","first","even"].forEach((i=>{const r=e[i],s="all"===i?"odd":i;if(r)for(const e of Object.keys(r)){const a=r[e],o=`${e.charAt(0).toUpperCase()}${e.slice(1)}`,n=e[0].toUpperCase();if(a){const e="all"===i?"":i.toUpperCase();t.push({name:`${s}${o}`,properties:{rawMap:{"xml:space":"preserve"}},textNode:Rk(a,n,e)})}}})),t},Fk=e=>t=>(e.length&&t.children.push({name:"cols",children:e.map((e=>Mk.getTemplate(e)))}),t),Ok=(e,t)=>i=>(e.length&&i.children.push({name:"sheetData",children:e.map(((e,i)=>Ik.getTemplate(e,i,t)))}),i),Bk=e=>t=>{const{top:i=.75,right:r=.7,bottom:s=.75,left:a=.7,header:o=.3,footer:n=.3}=e;return t.children.push({name:"pageMargins",properties:{rawMap:{bottom:s,footer:n,header:o,left:a,right:r,top:i}}}),t},zk=e=>t=>{var i;return e&&t.children.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:(i=e.orientation,!i||"Portrait"!==i&&"Landscape"!==i?"portrait":i.toLocaleLowerCase()),paperSize:Nk(e.pageSize)}}}),t},Vk=e=>t=>{if(!e)return t;const i=null!=e.first?1:0,r=null!=e.even?1:0;return t.children.push({name:"headerFooter",properties:{rawMap:{differentFirst:i,differentOddEven:r}},children:Lk(e)}),t},Gk=e=>t=>{const i=Qk.get(e);return i?.length&&t.children.push({name:"drawing",properties:{rawMap:{"r:id":"rId"+ ++t.rIdCounter}}}),t},Uk=e=>t=>(Zk.get(e)&&t.children.push({name:"legacyDrawingHF",properties:{rawMap:{"r:id":"rId"+ ++t.rIdCounter}}}),t),Hk=(e=0,t=0)=>{const i=e>0||t>0;return i?[{name:"pane",properties:{rawMap:{state:i?"frozen":void 0,topLeftCell:i?`${nC(e+1)}${t+1}`:void 0,xSplit:0===e?void 0:e,ySplit:0===t?void 0:t}}}]:void 0},Wk=(e=!1,t,i)=>r=>(r.children.push({name:"sheetViews",children:[{name:"sheetView",properties:{rawMap:{rightToLeft:!0===e?"1":"0",workbookViewId:"0"}},children:Hk(t,i)}]}),r),jk=e=>t=>{const i=e.reduce(((e,t)=>t.outlineLevel&&t.outlineLevel>e?t.outlineLevel:e),0);return t.children.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:i||void 0}}}),t},Kk={getTemplate(e){const{worksheet:t,currentSheet:i,config:r}=e,{margins:s={},pageSetup:a,headerFooterConfig:o,suppressColumnOutline:n,rightToLeft:l,frozenRowCount:c,frozenColumnCount:d}=r,{table:u}=t,{rows:p,columns:h}=u,m=h&&h.length?((e,t,i)=>{const r=[],s=[];e.forEach(((e,i)=>{const a=e.cells;let o,n=0;a.forEach(((e,a)=>{const l=a+n+1,c=nC(l),d=i+1;if(e.mergeAcross){n+=e.mergeAcross;const t=nC(a+n+1);r.push(`${c}${d}:${t}${d}`)}t[l-1]||(t[l-1]={});const{collapsibleRanges:u}=e;u&&u.forEach((e=>{s.push([l+e[0],l+e[1]])})),o=t[l-1],o.min=l,o.max=l,e.ref=`${c}${d}`}))})),s.sort(((e,t)=>e[0]!==t[0]?e[0]-t[0]:t[1]-e[1]));const a=new Map,o=new Map;return s.filter((e=>{const t=e.toString();return!a.get(t)&&(a.set(t,!0),!0)})).forEach((e=>{const r=t.find((t=>t.min==e[0]&&t.max==e[1])),s=o.get(e[0]);t.push({min:e[0],max:e[1],outlineLevel:i?void 0:s||1,width:(r||{width:100}).width}),o.set(e[0],(s||0)+1)})),r})(p,h,!!n):[],g=tw.get(i),{children:b}=[e=>(e.children.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),e),Wk(l,d,c),jk(p),Fk(h),Ok(p,i+1),(v=m,e=>(v.length&&e.children.push({name:"mergeCells",properties:{rawMap:{count:v.length}},children:v.map((e=>Tk.getTemplate(e)))}),e)),Bk(s),zk(a),Vk(o),Gk(i),Uk(i),(f=g,e=>(f&&e.children.push({name:"tableParts",properties:{rawMap:{count:"1"}},children:[{name:"tablePart",properties:{rawMap:{"r:id":"rId"+ ++e.rIdCounter}}}]}),e))].reduce(((e,t)=>t(e)),{children:[],rIdCounter:0});var f,v;return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:b}}},$k=Kk,qk=new Map,Yk=[],Xk=new Map,Qk=new Map,Zk=new Map,Jk=new Map,ew=new Map,tw=new Map,iw="SINGLE_SHEET";function rw(e){const{imageToAdd:t,idx:i}=e,r=Xk.get(t.id);if(r){const e=r.find((e=>e.sheetId===i));e?e.image.push(t):r.push({sheetId:i,image:[t]})}else Xk.set(t.id,[{sheetId:i,image:[t]}]),Jk.set(t.id,{type:t.imageType,index:Jk.size})}function sw(e){return qk.has(e)?qk.get(e):(qk.set(e,qk.size),qk.size-1)}function aw(){qk.clear(),Xk.clear(),Qk.clear(),Zk.clear(),Jk.clear(),ew.clear(),tw.clear(),Yk=[],iw="SINGLE_SHEET"}function ow({drawingIndex:e,vmlDrawingIndex:t,tableName:i}={}){if(void 0===e&&void 0===t&&void 0===i)return"";const r=[];null!=e&&r.push({Id:`rId${r.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/drawing${e+1}.xml`}),null!=t&&r.push({Id:`rId${r.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Target:`../drawings/vmlDrawing${t+1}.vml`}),null!=i&&r.push({Id:`rId${r.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table",Target:`../tables/${i}.xml`});const s=xC.getTemplate(r);return oC(s)}var nw=class extends Fy.WKU{constructor(e){super(e),this.mixedStyles={},this.mixedStyleCounter=0,this.rows=[],this.frozenRowCount=0,this.skipFrozenRows=!1,this.frozenColumnCount=0,this.skipFrozenColumns=!1,this.config=Object.assign({},e),this.stylesByIds={},this.config.baseExcelStyles.forEach((e=>{this.stylesByIds[e.id]=e})),this.excelStyles=[...this.config.baseExcelStyles,{id:"_quotePrefix",quotePrefix:1}]}addCustomContent(e){e.forEach((e=>{const t=this.rows.length+1;let i;this.config.suppressRowOutline||null==e.outlineLevel||(i=e.outlineLevel);const r={height:aC(t,e.height||this.config.rowHeight),cells:(e.cells||[]).map(((e,i)=>{const r=this.addImage(t,this.columnsToExport[i],e.data?.value);let s=null;e.styleId&&(s="string"==typeof e.styleId?[e.styleId]:e.styleId);const a=this.getStyleId(s);if(r)return this.createCell(a,this.getDataTypeForValue(r.value),null==r.value?"":r.value);const o=e.data?.value??"",n=this.getDataTypeForValue(o);return e.mergeAcross?this.createMergedCell(a,n,o,e.mergeAcross):this.createCell(a,n,o)})),outlineLevel:i};null!=e.collapsed&&(r.collapsed=e.collapsed),null!=e.hidden&&(r.hidden=e.hidden),this.rows.push(r)}))}onNewHeaderGroupingRow(){const e=[],{freezeRows:t,headerRowHeight:i}=this.config;return this.rows.push({cells:e,height:aC(this.rows.length+1,i)}),t&&this.frozenRowCount++,{onColumn:(t,i,r,s,a)=>{const o=this.config.styleLinker({rowType:"HEADER_GROUPING",rowIndex:1,value:`grouping-${i}`,columnGroup:t});e.push({...this.createMergedCell(this.getStyleId(o),this.getDataTypeForValue("string"),i,s),collapsibleRanges:a})}}}onNewHeaderRow(){const{freezeRows:e,headerRowHeight:t}=this.config;return e&&this.frozenRowCount++,this.onNewRow(this.onNewHeaderColumn,t)}onNewBodyRow(e){const{freezeRows:t,rowHeight:i}=this.config;this.skipFrozenRows||("headersAndPinnedRows"===t&&"top"===e?.rowPinned||"function"==typeof t&&t((0,Fy.OHk)(this.gos,{node:e}))?this.frozenRowCount++:this.skipFrozenRows=!0);const r=this.onNewRow(this.onNewBodyColumn,i);return e&&this.addRowOutlineIfNecessary(e),r}prepare(e){super.prepare(e),this.columnsToExport=[...e],this.cols=e.map(((e,t)=>this.convertColumnToExcel(e,t)))}parse(){const e=this.rows.reduce(((e,t)=>Math.max(e,t.cells.length)),0);for(;this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));const{config:t}=this;let i;if(null!=t.sheetName){const{sheetName:e}=t,r="function"==typeof e?e((0,Fy.OHk)(this.gos,{})):e;i=String(r).substring(0,31)}else i="ag-grid";const r={name:i,table:{columns:this.cols,rows:this.rows}};return this.createExcel(r)}addRowOutlineIfNecessary(e){const{gos:t,suppressRowOutline:i,rowGroupExpandState:r="expanded"}=this.config;if(t.get("groupHideOpenParents")||i||null==e.level)return;const s=e.footer?1:0,a=(0,Fy._O9)(this.rows),o=Math.min(e.level+s,7);if(a.outlineLevel=o,"expanded"===r)return;const n="collapsed"===r;if(e.isExpandable()){const t=!n&&e.expanded;a.collapsed=!t}a.hidden=!!e.parent&&-1!==e.parent.level&&(n||this.isAnyParentCollapsed(e.parent))}isAnyParentCollapsed(e){for(;e&&-1!==e.level;){if(!e.expanded)return!0;e=e.parent}return!1}convertColumnToExcel(e,t){const i=this.config.columnWidth,r=(e?this.extractHeaderValue(e):void 0)??"",s=!!e&&e.isFilterAllowed();if(i)return"number"==typeof i?{width:i,displayName:r,filterAllowed:s}:{width:i({column:e,index:t}),displayName:r,filterAllowed:s};if(e){const t=75;return{width:Math.max(e.getActualWidth(),t),displayName:r,filterAllowed:s}}return{displayName:r,filterAllowed:s}}onNewHeaderColumn(e,t){return i=>{const r=this.extractHeaderValue(i),s=this.config.styleLinker({rowType:"HEADER",rowIndex:e,value:r,column:i});t.push(this.createCell(this.getStyleId(s),this.getDataTypeForValue("string"),r))}}onNewBodyColumn(e,t){let i=0;const{freezeColumns:r,rightToLeft:s}=this.config;return(a,o,n)=>{if(i>0)return void(i-=1);if(!this.skipFrozenColumns){const e=a.getPinned();"pinned"===r&&e&&(!0===e||"left"===e)!==s||"function"==typeof r&&r((0,Fy.OHk)(this.gos,{column:a}))?this.frozenColumnCount++:this.skipFrozenColumns=!0}const{value:l,valueFormatted:c}=this.extractRowCellValue(a,o,e,"excel",n),d=this.config.styleLinker({rowType:"BODY",rowIndex:e,value:l,column:a,node:n}),u=this.getStyleId(d),p=a.getColSpan(n),h=this.addImage(e,a,l);h?t.push(this.createCell(u,this.getDataTypeForValue(h.value),null==h.value?"":h.value)):p>1?(i=p-1,t.push(this.createMergedCell(u,this.getDataTypeForValue(l),l,p-1))):t.push(this.createCell(u,this.getDataTypeForValue(l),l,c))}}onNewRow(e,t){const i=[];return this.rows.push({cells:i,height:aC(this.rows.length+1,t)}),{onColumn:e.bind(this,this.rows.length,i)()}}createExcel(e){const{excelStyles:t,config:i}=this;return this.frozenColumnCount&&(i.frozenColumnCount=this.frozenColumnCount),this.frozenRowCount&&(i.frozenRowCount=this.frozenRowCount),function(e,t,i){!function(e){const t=(0,Fy.BYN)(e.name)||"";let i="";for(;-1!==Yk.indexOf(`${t}${i}`);)if(""===i)i="_1";else{const e=parseInt(i.slice(1),10);i=`_${e+1}`}e.name=`${t}${i}`,Yk.push(e.name)}(t),((e,t)=>{1===(rC=t)&&tk(),e.forEach(ik)})(e,Yk.length);const r=Object.assign({},i);return i.exportAsExcelTable&&i.colModel.isPivotActive()&&((0,Fy.F5b)(163,{featureName:"pivot mode"}),r.exportAsExcelTable=!1),function(e,t){const{exportAsExcelTable:i,prependContent:r,appendContent:s,colModel:a}=t;if(!i)return;const o="boolean"==typeof i?{}:i,{name:n,showColumnStripes:l,showRowStripes:c,showFilterButton:d,highlightFirstColumn:u,highlightLastColumn:p}=o,h=(n||"AG-GRID-TABLE").replace(/^[^a-zA-Z_]+/,"_").replace(/\s/g,"_").replace(/[^a-zA-Z0-9_]/g,"_"),m=Yk.length-1,{table:g}=e,{rows:b,columns:f}=g,v=(0,Fy.XXh)(a),y=r?r.length:0,C=s?s.length:0,k=b.length,w=f.length,S=[],x=[];for(let e=0;e<w;e++){const t=f[e];S.push(t.displayName||""),x.push("match"===d||void 0===d?t.filterAllowed??!1:d)}S&&S.length&&k&&h?function(e,t){tw.has(e)?(0,Fy.F5b)(164):tw.set(e,t)}(m,{name:`table${tw.size+1}`,displayName:h,columns:S,showFilterButtons:x,rowRange:[v+y,v+(k-v)-C],showRowStripes:c??!0,showColumnStripes:l??!1,highlightFirstColumn:u??!1,highlightLastColumn:p??!1}):(0,Fy.F5b)(165)}(t,r),function(e,t){return oC($k.getTemplate({worksheet:e,currentSheet:Yk.length-1,config:t}))}(t,r)}(t,e,i)}getDataTypeForValue(e){return void 0===e?"empty":this.isNumerical(e)?"n":"s"}getTypeFromStyle(e,t){if(this.isFormula(t))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:(0,Fy.F5b)(162,{id:e.id,dataType:e.dataType})}return null}addImage(e,t,i){if(!this.config.addImageToCell)return;const r=this.config.addImageToCell(e,t,i);return r?(function(e,t,i,r,s){const a=Yk.length,{row:o,column:n}=e.position||{},l=e;r&&(null==t||null==i||o&&n||(e.position||(e.position={}),e.position=Object.assign({},e.position,{row:t,column:r.indexOf(i)+1})),((e,t)=>{const{colSpan:i,column:r}=e.position;if(e.width)if(i){const s=t.slice(r-1,r+i-1);let a=0;for(let t=0;t<s.length;t++){const i=s[t].getActualWidth();if(e.width<a+i){e.position.colSpan=t+1,e.totalWidth=e.width,e.width=e.totalWidth-a;break}a+=i}}else e.totalWidth=e.width})(l,r),((e,t)=>{const{rowSpan:i,row:r}=e.position;var s;if(e.height)if(i){let a=0,o=0;for(let n=r;n<r+i;n++){const i=(s=aC(n,t)||20,Math.round(96*s/72));if(e.height<a+i){e.position.rowSpan=o+1,e.totalHeight=e.height,e.height=e.totalHeight-a;break}a+=i,o++}}else e.totalHeight=e.height})(l,s)),rw({imageToAdd:l,idx:a});let c=ew.get(a);c||(c=new Map,ew.set(a,c));const d=Qk.get(a);d?d.push(l):Qk.set(a,[l]),c.get(e.id)||c.set(e.id,{index:c.size,type:e.imageType})}(r.image,e,t,this.columnsToExport,this.config.rowHeight),r):void 0}createCell(e,t,i,r){const s=this.getStyleById(e);s?.dataType||"s"!==t||null==r||(i=r);const a=this.getTypeFromStyle(s,i)||t,{value:o,escaped:n}=this.getCellValue(a,i),l=[];return s&&l.push(e),n&&l.push("_quotePrefix"),{styleId:e=this.getStyleId(l)||void 0,data:{type:a,value:o}}}createMergedCell(e,t,i,r){const s=null==i?"":i;return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:"s"===t?sw(s).toString():i},mergeAcross:r}}getCellValue(e,t){let i=!1;if(null==t||"s"===e&&""===t)return{value:"",escaped:!1};if("s"===e)t&&"'"===t[0]&&(i=!0,t=t.slice(1)),t=sw(t).toString();else if("f"===e)t=t.slice(1);else if("n"===e){const e=Number(t);isNaN(e)?t="":""!==t&&(t=e.toString())}return{value:t,escaped:i}}getStyleId(e){if(!e||!e.length)return null;if(1===e.length)return e[0];const t=e.join("-");return this.mixedStyles[t]||this.addNewMixedStyle(e),this.mixedStyles[t].excelID}deepCloneObject(e){return JSON.parse(JSON.stringify(e))}addNewMixedStyle(e){this.mixedStyleCounter+=1;const t=`mixedStyle${this.mixedStyleCounter}`,i={};for(const t of e)for(const e of this.excelStyles)e.id===t&&(0,Fy.zev)(i,this.deepCloneObject(e));i.id=t;const r=e.join("-");this.mixedStyles[r]={excelID:t,key:r,result:i},this.excelStyles.push(i),this.stylesByIds[t]=i}isFormula(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")}isNumerical(e){return"bigint"==typeof e||isFinite(e)&&""!==e&&!isNaN(parseFloat(e))}getStyleById(e){return null==e?null:this.stylesByIds[e]||null}};function lw(e,t){let i="";for(let r=0;r<t;r++)i+=String.fromCharCode(255&e),e>>>=8;return i}var cw=e=>e.length?(e=>{if(!e.length)return 0;let t=-1,i=0,r=0,s=0;for(let a=0;a<e.length;a++)i=e[a],r=255&(t^i),s=dw[r],t=t>>>8^s;return-1^t})("string"==typeof e?(new TextEncoder).encode(e):e):0,dw=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var uw=(e,t,i,r,s,a)=>{const{content:o,path:n,created:l}=e,c=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),d=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),u=cw(s),p=void 0!==a?a:r,h=function(e){const t=String.fromCharCode;function i(e,i){return t(e>>i&63|128)}function r(e){if(0==(4294967168&e))return t(e);let r="";return 0==(4294965248&e)?r=t(e>>6&31|192):0==(4294901760&e)?(function(e){if(e>=55296&&e<=57343)throw Error((0,Fy.Imk)(255,{point:e}))}(e),r=t(e>>12&15|224),r+=i(e,6)):0==(4292870144&e)&&(r=t(e>>18&7|240),r+=i(e,12),r+=i(e,6)),r+=t(63&e|128),r}const s=function(e){const t=[];if(!e)return[];const i=e.length;let r,s,a=0;for(;a<i;)r=e.charCodeAt(a++),r>=55296&&r<=56319&&a<i?(s=e.charCodeAt(a++),56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),a--)):t.push(r);return t}(e),a=s.length;let o,n=-1,l="";for(;++n<a;)o=s[n],l+=r(o);return l}(n),m=h!==n;let g="";if(m){const e=lw(1,1)+lw(cw(h),4)+h;g="up"+lw(e.length,2)+e}const b="\0"+(m?"\0\b":"\0\0")+lw(t?8:0,2)+lw(c,2)+lw(d,2)+lw(p?u:0,4)+lw(a??r,4)+lw(r,4)+lw(h.length,2)+lw(g.length,2),f="PK"+b+h+g,v="PK\0"+b+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\0\0\0")+lw(i,4)+h+g;return{localFileHeader:Uint8Array.from(f,(e=>e.charCodeAt(0))),centralDirectoryHeader:Uint8Array.from(v,(e=>e.charCodeAt(0)))}},pw=e=>{let t;if("string"==typeof e){const i=atob(e.split(";base64,")[1]);t=Uint8Array.from(i,(e=>e.charCodeAt(0)))}else t=e;return{size:t.length,content:t}},hw=async(e,t)=>{const{content:i}=e,{size:r,content:s}=i?pw(i):{size:0,content:Uint8Array.from([])};let a,o,n=!1;if("file"===e.type&&s&&r>0){const e=await(async e=>{const t=new Blob([e]),{size:i,content:r}=await(async e=>{let t=0;const i=[],r=new WritableStream({write:e=>{i.push(e),t+=e.length}}),s=new ReadableStream({start:t=>{const i=new FileReader;i.onload=e=>{e.target?.result&&t.enqueue(e.target.result),t.close()},i.readAsArrayBuffer(e)}}),a=new window.CompressionStream("deflate-raw");return await s.pipeThrough(a).pipeTo(r),{size:t,content:new Blob(i)}})(t);return{size:i,content:new Uint8Array(await r.arrayBuffer())}})(s);a=e.content,o=e.size,n=!0}return{...uw(e,n,t,r,s,o),content:a||s,isCompressed:n}},mw=(e,t)=>{const{content:i}=e,{content:r}=i?pw(i):{content:Uint8Array.from([])};return{...uw(e,!1,t,r.length,r,void 0),content:r,isCompressed:!1}},gw=class{constructor(){this.folders=[],this.files=[]}addFolders(e){e.forEach(this.addFolder.bind(this))}addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}addFile(e,t,i=!1){this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}async getZipFile(e="application/zip"){const t=await this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}getUncompressedZipFile(e="application/zip"){const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}clearStream(){this.folders=[],this.files=[]}packageFiles(e){let t=0,i=0;for(const r of e){const{localFileHeader:e,centralDirectoryHeader:s,content:a}=r;t+=e.length+a.length,i+=s.length}const r=new Uint8Array(t),s=new Uint8Array(i);let a=0,o=0;for(const t of e){const{localFileHeader:e,centralDirectoryHeader:i,content:n}=t;r.set(e,a),a+=e.length,r.set(n,a),a+=n.length,s.set(i,o),o+=i.length}const n=((e,t,i)=>{const r="PK\0\0\0\0"+lw(e,2)+lw(e,2)+lw(t,4)+lw(i,4)+"\0\0";return Uint8Array.from(r,(e=>e.charCodeAt(0)))})(e.length,i,t),l=new Uint8Array(r.length+s.length+n.length);return l.set(r),l.set(s,r.length),l.set(n,r.length+s.length),l}async buildCompressedFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const r of e){const e=await hw(r,i),{localFileHeader:s,content:a}=e;t.push(e),i+=s.length+a.length}return this.packageFiles(t)}buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const r of e){const e=mw(r,i),{localFileHeader:s,content:a}=e;t.push(e),i+=s.length+a.length}return this.packageFiles(t)}},bw=(e,t,i)=>{const r="xl/drawings",s=`${r}/drawing${i+1}.xml`,a=`${r}/_rels/drawing${i+1}.xml.rels`;e.addFile(a,function(e){const t=ew.get(e)||[],i=[];for(const[e,r]of t){const{index:t,type:s}=r;i.push({Id:`rId${t+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/image${Jk.get(e).index+1}.${pC(s)}`})}return oC(xC.getTemplate(i))}(t)),e.addFile(s,function(e){return oC(wC.getTemplate({sheetIndex:e}))}(t))},fw=(e,t,i)=>{const r="xl/drawings",s=`${r}/vmlDrawing${i+1}.vml`,a=`${r}/_rels/vmlDrawing${i+1}.vml.rels`;e.addFile(s,function(e){return oC(Sk.getTemplate({sheetIndex:e}),!0)}(t)),e.addFile(a,function(e){const t=Zk.get(e)||[],i=[];for(let e=0;e<t.length;e++){const r=t[e],s=Jk.get(r.id);if(!s)continue;const{index:a,type:o}=s;i.push({Id:`rId${e+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/image${a+1}.${pC(o)}`})}return oC(xC.getTemplate(i))}(t))},vw=(e,t,i={})=>{if(!t||0===t.length)return(0,Fy.F5b)(159),aw(),!1;const{fontSize:r=11,author:s="AG Grid",activeTab:a=0}=i,o=t.length,n=Math.max(Math.min(a,o-1),0);return(e=>{if(e.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),!Xk.size)return;e.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);let t=0;Xk.forEach((i=>{const r=i[0].image[0],{base64:s,imageType:a}=r;e.addFile(`xl/media/image${++t}.${pC(a)}`,s,!0)}))})(e),(e=>{const t=tw,i=Array.from(t.keys());for(let a=0;a<i.length;a++){const o=i[a],n=t.get(o);n&&e.addFile(`xl/tables/${n.name}.xml`,(r=n,s=a,oC(ok.getTemplate(r,s))))}var r,s})(e),((e,t)=>{let i=0,r=0;for(let s=0;s<t.length;s++){const a=t[s];e.addFile(`xl/worksheets/sheet${s+1}.xml`,a,!1);const o=Xk.size>0&&Qk.has(s),n=tw.size>0&&tw.get(s),l=Xk.size&&Zk.has(s);if(!o&&!n&&!l)continue;let c,d,u;o&&(bw(e,s,i),d=i,i++),l&&(fw(e,s,r),u=r,r++),n&&(c=n.name);const p=`xl/worksheets/_rels/sheet${s+1}.xml.rels`;e.addFile(p,ow({tableName:c,drawingIndex:d,vmlDrawingIndex:u}))}})(e,t),((e,t,i,r,s)=>{var a,o;e.addFile("xl/workbook.xml",(a=s,oC(Ek.getTemplate(Yk,a)))),e.addFile("xl/styles.xml",(o=t,oC(sk.getTemplate(o)))),e.addFile("xl/sharedStrings.xml",oC(_C.getTemplate(qk))),e.addFile("xl/theme/theme1.xml",oC(yk.getTemplate())),e.addFile("xl/_rels/workbook.xml.rels",function(e){const t=new Array(e).fill(void 0).map(((e,t)=>({Id:`rId${t+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:`worksheets/sheet${t+1}.xml`}))),i=xC.getTemplate([...t,{Id:`rId${e+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:`rId${e+2}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:`rId${e+3}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]);return oC(i)}(r)),e.addFile("docProps/core.xml",function(e){return oC(mC.getTemplate(e))}(i)),e.addFile("[Content_Types].xml",function(e){return oC(hC.getTemplate(e))}(r)),e.addFile("_rels/.rels",function(){const e=xC.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return oC(e)}())})(e,r,s,o,n),aw(),!0},yw=e=>{const{data:t,fontSize:i,author:r,activeSheetIndex:s}=e,a=e.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",o=new gw;return vw(o,t,{author:r,fontSize:i,activeTab:s})?o.getZipFile(a):Promise.resolve(void 0)},Cw=e=>{const{data:t,fontSize:i,author:r,activeSheetIndex:s}=e,a=e.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",o=new gw;if(vw(o,t,{author:r,fontSize:i,activeTab:s}))return o.getUncompressedZipFile(a)},kw=class extends Fy.z0n{constructor(){super(...arguments),this.beanName="excelCreator"}getMergedParams(e){const t=this.gos.get("defaultExcelExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void(0,Fy.F5b)(160);const t=this.getMergedParams(e),i={data:[this.getData(t)],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType};this.packageCompressedFile(i).then((e=>{if(e){const{fileName:i}=t,r="function"==typeof i?i((0,Fy.OHk)(this.gos,{})):i;(0,Fy.phZ)(this.getFileName(r),e)}}))}exportDataAsExcel(e){this.export(e)}getDataAsExcel(e){const t=this.getMergedParams(e),i={data:[this.getData(t)],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType};return this.packageFile(i)}setFactoryMode(e){!function(e){iw=e}(e)}getFactoryMode(){return iw}getSheetDataForExcel(e){const t=this.getMergedParams(e);return this.getData(t)}getMultipleSheetsAsExcel(e){return Cw(e)}exportMultipleSheetsAsExcel(e){(e=>{const{fileName:t="export.xlsx"}=e;yw(e).then((e=>{if(e){const i="function"==typeof t?t():t;(0,Fy.phZ)(i,e)}}))})(e)}getDefaultFileExtension(){return"xlsx"}createSerializingSession(e){const{colModel:t,colNames:i,rowGroupColsSvc:r,valueSvc:s,gos:a}=this.beans,o={...e,colModel:t,colNames:i,rowGroupColsSvc:r,valueSvc:s,gos:a,suppressRowOutline:e.suppressRowOutline||e.skipRowGroups,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:a.get("excelStyles")||[],rightToLeft:e.rightToLeft??a.get("enableRtl"),styleLinker:this.styleLinker.bind(this)};return new nw(o)}styleLinker(e){const{rowType:t,rowIndex:i,value:r,column:s,columnGroup:a,node:o}=e,n="HEADER"===t,l="HEADER_GROUPING"===t,c=n?s:a;let d=[];const{gos:u,cellStyles:p}=this.beans;if(n||l)return d.push("header"),l&&d.push("headerGroup"),c&&(d=d.concat((0,Fy.rYP)(c.getDefinition(),u,s||null,a||null))),d;const h=u.get("excelStyles"),m=["cell"];if(!h||!h.length)return m;const g=h.map((e=>e.id)),b=s.getDefinition();return p?.processAllCellClasses(b,(0,Fy.OHk)(u,{value:r,data:o.data,node:o,colDef:b,column:s,rowIndex:i}),(e=>{g.indexOf(e)>-1&&m.push(e)})),m.sort(((e,t)=>g.indexOf(e)<g.indexOf(t)?-1:1))}isExportSuppressed(){return this.gos.get("suppressExcelExport")}packageCompressedFile(e){return yw(e)}packageFile(e){return Cw(e)}},ww="33.3.2",Sw={moduleName:"EnterpriseCore",version:ww,beans:[Wy],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]},xw={ariaAdvancedFilterBuilderItem:e=>`${e[0]}. Level ${e[1]}. Press ENTER to edit`,ariaAdvancedFilterBuilderItemValidation:e=>`${e[0]}. Level ${e[1]}. ${e[2]} Press ENTER to edit`,ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:e=>`Expression has an error. ${e[0]} - ${e[1]}.`,advancedFilterValidationMessageAtEnd:e=>`Expression has an error. ${e[0]} at end of expression.`,advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."};function _w(e,t,i){if(!e)return"";const r=i-t;return r?e.slice(0,e.length-r):e}function Ew(e,t,i,r,s,a,o){const n=i+(!e.length||o?0:1);let l=0;return s&&(" "===e[n]?l=1:(r+=" ",a&&(r+='"'))),{updatedValue:e.slice(0,t)+r+e.slice(n),updatedPosition:t+r.length+l}}function Mw(e,t,i,r){let s=t,a=!1;for(;s<e.length;){const t=e[s];if("("===t){r&&" "===e[s-1]?a=!0:s-=1;break}if(" "===t||i&&")"===t){s-=1;break}s++}return{endPosition:s,isEmpty:a}}function Tw(e,t,i,r){i!==t&&(e.expression=Ew(e.expression,r-t.length+1,r,i).updatedValue)}var Pw=class{constructor(e,t){this.params=e,this.startPosition=t,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}parse(e,t){if(e!==Iw||this.colName)if(e===Nw&&this.hasStartChar){if(this.parseColumn(!1,t))return this.hasEndChar=!0,!1;this.colName+=e}else this.colName+=e;else this.hasStartChar=!0}getDisplayValue(){return(this.hasStartChar?Iw:"")+this.colName+(this.hasEndChar?Nw:"")}getColId(){return this.colId}complete(e){this.parseColumn(!0,e)}getValidationError(){return this.valid?null:{message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:this.endPosition??this.params.expression.length-1}}parseColumn(e,t){this.endPosition=t;const i=this.params.advFilterExpSvc.getColId(this.colName);return i&&this.hasStartChar&&(this.colId=i.colId,Tw(this.params,this.colName,i.columnName,t-1),this.colName=i.columnName,this.column=this.params.colModel.getColDefCol(this.colId),this.column)?(this.baseCellDataType=this.params.dataTypeSvc?.getBaseDataType(this.column)??"text",!0):(e&&(this.valid=!1),this.baseCellDataType="text",!1)}},Aw=class{constructor(e,t,i){this.params=e,this.startPosition=t,this.baseCellDataType=i,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}parse(e,t){if(" "===e||")"===e){if(this.parseOperator(!1,t-1))return!0;this.operator+=e}else this.operator+=e}complete(e){this.parseOperator(!0,e)}getValidationError(){return this.valid?null:{message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:this.endPosition??this.params.expression.length-1}}getDisplayValue(){return this.operator}getOperatorKey(){return this.parsedOperator}parseOperator(e,t){const i=this.params.advFilterExpSvc.getDataTypeExpressionOperator(this.baseCellDataType),r=i.findOperator(this.operator);if(this.endPosition=t,r){this.parsedOperator=r;const e=i.operators[r];this.expectedNumOperands=e.numOperands;const s=e.displayValue;return Tw(this.params,this.operator,s,t),this.operator=s,!0}return!e&&null===r||(this.valid=!1),!1}},Dw=class{constructor(e,t,i,r){this.params=e,this.startPosition=t,this.baseCellDataType=i,this.column=r,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null}parse(e,t){if(" "===e){if(!this.quotes)return this.parseOperand(!1,t),!0;this.operand+=e}else if(")"===e){if("number"===this.baseCellDataType||!this.quotes)return this.parseOperand(!1,t-1),!0;this.operand+=e}else if(this.operand||this.quotes||"'"!==e&&'"'!==e){if(this.quotes&&e===this.quotes)return this.parseOperand(!1,t),!1;this.operand+=e}else this.quotes=e}complete(e){this.parseOperand(!0,e)}getValidationError(){return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:this.endPosition??this.params.expression.length-1}:null}getRawValue(){return this.operand}getModelValue(){return this.modelValue}parseOperand(e,t){const{advFilterExpSvc:i}=this.params;if(this.endPosition=t,this.modelValue=this.operand,e&&this.quotes)this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationMissingQuote");else if(""===this.modelValue)this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationMissingValue");else{const e=i.getOperandModelValue(this.operand,this.baseCellDataType,this.column);switch(null!=e&&(this.modelValue=e),this.baseCellDataType){case"number":(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationNotANumber"));break;case"date":case"dateString":null==e&&(this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationInvalidDate"))}}}},Iw="[",Nw="]",Rw=class{constructor(e,t){this.params=e,this.startPosition=t,this.isAwaiting=!0}parseExpression(){let e=this.startPosition;const{expression:t}=this.params;for(;e<t.length;){const i=t[e];if(" "===i&&this.isAwaiting);else{if(this.isAwaiting=!1,!this.parser){let t;this.columnParser?this.operatorParser?(this.operandParser=new Dw(this.params,e,this.columnParser.baseCellDataType,this.columnParser.column),t=this.operandParser):(this.operatorParser=new Aw(this.params,e,this.columnParser.baseCellDataType),t=this.operatorParser):(this.columnParser=new Pw(this.params,e),t=this.columnParser),this.parser=t}const t=this.parser.parse(i,e);if(null!=t){if(this.isComplete())return this.returnEndPosition(t?e-1:e,!0);this.parser=void 0,this.isAwaiting=!0}}e++}return this.parser?.complete?.(e-1),this.returnEndPosition(e)}isValid(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)}getValidationError(){const e=this.columnParser?.getValidationError()??this.operatorParser?.getValidationError()??this.operandParser?.getValidationError();if(e)return e;const t=this.params.expression.length;let i;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(i="advancedFilterValidationMissingValue"):i="advancedFilterValidationMissingOption":i="advancedFilterValidationMissingColumn",i?{message:this.params.advFilterExpSvc.translate(i),startPosition:t,endPosition:t}:null}getFunctionString(e){return this.getFunctionCommon(e,((e,t,i,r)=>`params.operators[${t}].evaluator(expressionProxy.getValue('${i.replace(/(['"])/,"\\$1")}', node), node, params.evaluatorParams[${r}]${null==e?"":`, params.operands[${e}]`})`))}getFunctionParsed(e){return this.getFunctionCommon(e,((e,t,i,r)=>(s,a,o)=>o.operators[t].evaluator(s.getValue(i,a),a,o.evaluatorParams[r],null==e?void 0:o.operands[e])))}getAutocompleteListParams(e){return this.isColumnPosition(e)?this.getColumnAutocompleteListParams(e):this.isOperatorPosition(e)?this.getOperatorAutocompleteListParams(e):this.isBeyondEndPosition(e)?void 0:{enabled:!1}}updateExpression(e,t,i){const{expression:r}=this.params;if(this.isColumnPosition(e))return Ew(this.params.expression,this.startPosition,this.columnParser?.getColId()?this.columnParser.endPosition:Mw(r,e).endPosition,this.params.advFilterExpSvc.getColumnValue(t),!0);if(this.isOperatorPosition(e)){const s=this.getBaseCellDataTypeFromOperatorAutocompleteType(i),a=this.hasOperand(s,t.key),o=a&&this.doesOperandNeedQuotes(s);let n;if(null!=this.operatorParser?.startPosition&&e<this.operatorParser.startPosition)n=Ew(r,e,e,t.displayValue??t.key,a,o);else{let i,s=!1;if(this.operatorParser?.getOperatorKey())i=this.operatorParser.endPosition;else{const{endPosition:t,isEmpty:a}=Mw(r,e,!0,!0);i=t,s=a}n=Ew(r,function(e,t,i){let r=t;for(;r<i&&" "===e[r];)r++;return r}(r,this.columnParser.endPosition+1,i),i,t.displayValue??t.key,a,o,s)}return{...n,hideAutocomplete:!a}}return null}getModel(){const e=this.columnParser.getColId(),t={filterType:this.columnParser.baseCellDataType,colId:e,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(t.filter=this.operandParser.getModelValue()),t}getFunctionCommon(e,t){const i=this.columnParser.getColId(),r=this.operatorParser?.getOperatorKey(),{operators:s,evaluatorParams:a,operands:o}=e,n=this.params.advFilterExpSvc.getExpressionOperator(this.columnParser.baseCellDataType,r),l=this.addToListAndGetIndex(s,n),c=this.params.advFilterExpSvc.getExpressionEvaluatorParams(i),d=this.addToListAndGetIndex(a,c);return t(0===this.operatorParser?.expectedNumOperands?void 0:this.addToListAndGetIndex(o,this.getOperandValue()),l,i,d)}getOperandValue(){let e=this.operandParser.getRawValue();const{baseCellDataType:t,column:i}=this.columnParser;switch(t){case"number":e=Number(e);break;case"date":case"dateString":e=this.params.valueSvc.parseValue(i,null,e,void 0)}if("dateString"===t){const{dataTypeSvc:t}=this.params;return t?t.getDateParserFunction(i)(e):e}return e}isComplete(){return!(!this.operatorParser||!(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))}isColumnPosition(e){return!this.columnParser||null==this.columnParser.endPosition||e<=this.columnParser.endPosition+1}isOperatorPosition(e){return!this.operatorParser||null==this.operatorParser.endPosition||e<=this.operatorParser.endPosition+1}isBeyondEndPosition(e){return this.isComplete()&&null!=this.endPosition&&e>this.endPosition+1&&this.endPosition+1<this.params.expression.length}returnEndPosition(e,t){return this.endPosition=t?e:e-1,e}getColumnAutocompleteListParams(e){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(e))}getColumnSearchString(e){const t=this.columnParser?.getDisplayValue()??"",i=_w(t,e,null==this.columnParser?.endPosition?this.params.expression.length:this.columnParser.endPosition+1),r=this.columnParser?.hasStartChar&&i.length>0,s=this.columnParser?.hasEndChar&&i.length===t.length+2;return r?i.slice(1,s?-1:void 0):i}getOperatorAutocompleteListParams(e){const t=this.columnParser?.column;if(!t)return{enabled:!1};const i=this.columnParser.baseCellDataType,r=null!=this.operatorParser?.startPosition&&e<this.operatorParser.startPosition?"":_w(this.operatorParser?.getDisplayValue()??"",e,null==this.operatorParser?.endPosition?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getOperatorAutocompleteEntries(t,i),`operator-${i}`,r)}getBaseCellDataTypeFromOperatorAutocompleteType(e){return e?.replace("operator-","")}hasOperand(e,t){return!e||!t||(this.params.advFilterExpSvc.getExpressionOperator(e,t)?.numOperands??0)>0}doesOperandNeedQuotes(e){return"number"!==e}addToListAndGetIndex(e,t){const i=e.length;return e.push(t),i}};function Lw(e,t,i){let r=!1;const s=e.toLocaleLowerCase(),a=s+" ";return Object.keys(t).find((e=>{const o=t[e],n=i(o).toLocaleLowerCase();return n.startsWith(a)&&(r=!0),n===s}))||(r?null:void 0)}function Fw(e,t){return(t??Object.keys(e)).map((t=>({key:t,displayValue:e[t].displayValue})))}var Ow=class{constructor(e){this.params=e,this.initOperators()}getEntries(e){return Fw(this.operators,e)}findOperator(e){return Lw(e,this.operators,(({displayValue:e})=>e))}initOperators(){const{translate:e}=this.params;this.operators={contains:{displayValue:e("advancedFilterContains"),evaluator:(e,t,i,r)=>this.evaluateExpression(e,t,i,r,!1,((e,t)=>e.includes(t))),numOperands:1},notContains:{displayValue:e("advancedFilterNotContains"),evaluator:(e,t,i,r)=>this.evaluateExpression(e,t,i,r,!0,((e,t)=>!e.includes(t))),numOperands:1},equals:{displayValue:e("advancedFilterTextEquals"),evaluator:(e,t,i,r)=>this.evaluateExpression(e,t,i,r,!1,((e,t)=>e===t)),numOperands:1},notEqual:{displayValue:e("advancedFilterTextNotEqual"),evaluator:(e,t,i,r)=>this.evaluateExpression(e,t,i,r,!0,((e,t)=>e!=t)),numOperands:1},startsWith:{displayValue:e("advancedFilterStartsWith"),evaluator:(e,t,i,r)=>this.evaluateExpression(e,t,i,r,!1,((e,t)=>e.startsWith(t))),numOperands:1},endsWith:{displayValue:e("advancedFilterEndsWith"),evaluator:(e,t,i,r)=>this.evaluateExpression(e,t,i,r,!1,((e,t)=>e.endsWith(t))),numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:e=>null==e||"string"==typeof e&&0===e.trim().length,numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:e=>null!=e&&("string"!=typeof e||e.trim().length>0),numOperands:0}}}evaluateExpression(e,t,i,r,s,a){return null==e?s:i.caseSensitive?a(i.valueConverter(e,t),r):a(i.valueConverter(e,t).toLocaleLowerCase(),r.toLocaleLowerCase())}},Bw=class{constructor(e){this.params=e,this.initOperators()}getEntries(e){return Fw(this.operators,e)}findOperator(e){return Lw(e,this.operators,(({displayValue:e})=>e))}initOperators(){const{translate:e,equals:t}=this.params;this.operators={equals:{displayValue:e("advancedFilterEquals"),evaluator:(e,i,r,s)=>this.evaluateSingleOperandExpression(e,i,r,s,!!r.includeBlanksInEquals,t),numOperands:1},notEqual:{displayValue:e("advancedFilterNotEqual"),evaluator:(e,i,r,s)=>this.evaluateSingleOperandExpression(e,i,r,s,!!r.includeBlanksInEquals,((e,i)=>!t(e,i))),numOperands:1},greaterThan:{displayValue:e("advancedFilterGreaterThan"),evaluator:(e,t,i,r)=>this.evaluateSingleOperandExpression(e,t,i,r,!!i.includeBlanksInGreaterThan,((e,t)=>e>t)),numOperands:1},greaterThanOrEqual:{displayValue:e("advancedFilterGreaterThanOrEqual"),evaluator:(e,t,i,r)=>this.evaluateSingleOperandExpression(e,t,i,r,!!i.includeBlanksInGreaterThan,((e,t)=>e>=t)),numOperands:1},lessThan:{displayValue:e("advancedFilterLessThan"),evaluator:(e,t,i,r)=>this.evaluateSingleOperandExpression(e,t,i,r,!!i.includeBlanksInLessThan,((e,t)=>e<t)),numOperands:1},lessThanOrEqual:{displayValue:e("advancedFilterLessThanOrEqual"),evaluator:(e,t,i,r)=>this.evaluateSingleOperandExpression(e,t,i,r,!!i.includeBlanksInLessThan,((e,t)=>e<=t)),numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:e=>null==e,numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:e=>null!=e,numOperands:0}}}evaluateSingleOperandExpression(e,t,i,r,s,a){return null==e?s:a(i.valueConverter(e,t),r)}},zw=class{constructor(e){this.params=e,this.initOperators()}getEntries(e){return Fw(this.operators,e)}findOperator(e){return Lw(e,this.operators,(({displayValue:e})=>e))}initOperators(){const{translate:e}=this.params;this.operators={true:{displayValue:e("advancedFilterTrue"),evaluator:e=>!!e,numOperands:0},false:{displayValue:e("advancedFilterFalse"),evaluator:e=>!1===e,numOperands:0},blank:{displayValue:e("advancedFilterBlank"),evaluator:e=>null==e,numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:e=>null!=e,numOperands:0}}}},Vw=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="advFilterExpSvc",this.columnNameToIdMap={},this.columnAutocompleteEntries=null,this.expressionEvaluatorParams={}}wireBeans(e){this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.colNames=e.colNames,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()}parseJoinOperator(e){const{type:t}=e;return this.expressionJoinOperators[t]??t}getColumnDisplayValue(e){const{colId:t}=e,i=this.getColumnAutocompleteEntries().find((({key:e})=>e===t));let r;return i?(r=i.displayValue,this.columnNameToIdMap[r.toLocaleUpperCase()]={colId:t,columnName:r}):r=t,r}getOperatorDisplayValue(e){return this.getExpressionOperator(e.filterType,e.type)?.displayValue??e.type}getOperandModelValue(e,t,i){switch(t){case"number":return(0,Fy.fTC)(e)?Number(e):null;case"date":return(0,Fy.swd)(this.valueSvc.parseValue(i,null,e,void 0),!1);case"dateString":{const t=this.valueSvc.parseValue(i,null,e,void 0);return this.dataTypeSvc?(0,Fy.swd)(this.dataTypeSvc.getDateParserFunction(i)(t)??null,!1):t}}return e}getOperandDisplayValue(e,t){const{colId:i,filter:r}=e,s=this.colModel.getColDefCol(i);let a="";if(null!=r){let i;switch(e.filterType){case"number":i=(0,Fy.fGY)(r)??"";break;case"date":{const e=(0,Fy.xLt)(r);i=s?this.valueSvc.formatValue(s,null,e):null;break}case"dateString":{let e;if(this.dataTypeSvc){const t=(0,Fy.xLt)(r);e=s?this.dataTypeSvc?.getDateFormatterFunction(s)(t??void 0):null}else e=r;i=s?this.valueSvc.formatValue(s,null,e):null;break}}"number"!==e.filterType&&(i=i??(0,Fy.fGY)(r)??"",t||(i=`"${i}"`)),a=t?i:` ${i}`}return a}parseColumnFilterModel(e){return`[${this.getColumnDisplayValue(e)??""}] ${this.getOperatorDisplayValue(e)??""}${this.getOperandDisplayValue(e)}`}updateAutocompleteCache(e,t){if("column"===t){const{key:t,displayValue:i}=e;this.columnNameToIdMap[e.displayValue.toLocaleUpperCase()]={colId:t,columnName:i}}}translate(e,t){let i=xw[e];return"function"==typeof i&&(i=i(t)),this.getLocaleTextFunc()(e,i,t)}generateAutocompleteListParams(e,t,i){return{enabled:!0,type:t,searchString:i,entries:e}}getColumnAutocompleteEntries(){if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;const e=this.colModel.getColDefCols()??[],t=[],i=this.gos.get("includeHiddenColumnsInAdvancedFilter");return e.forEach((e=>{e.getColDef().filter&&(i||e.isVisible()||e.isRowGroupActive())&&t.push({key:e.getColId(),displayValue:this.colNames.getDisplayNameForColumn(e,"advancedFilter")})})),t.sort(((e,t)=>{const i=e.displayValue??"",r=t.displayValue??"";return i<r?-1:r>i?1:0})),t}getOperatorAutocompleteEntries(e,t){const i=this.getActiveOperators(e);return this.getDataTypeExpressionOperator(t).getEntries(i)}getJoinOperatorAutocompleteEntries(){return Object.entries(this.expressionJoinOperators).map((([e,t])=>({key:e,displayValue:t})))}getDefaultAutocompleteListParams(e){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",e)}getDataTypeExpressionOperator(e){return this.expressionOperators[e]}getExpressionOperator(e,t){return this.getDataTypeExpressionOperator(e)?.operators?.[t]}getExpressionJoinOperators(){return this.expressionJoinOperators}getColId(e){const t=e.toLocaleUpperCase(),i=this.columnNameToIdMap[t];if(i)return i;const r=this.getColumnAutocompleteEntries().find((({displayValue:e})=>e.toLocaleUpperCase()===t));if(r){const{key:e,displayValue:i}=r,s={colId:e,columnName:i};return this.columnNameToIdMap[t]=s,s}return null}getExpressionEvaluatorParams(e){let t=this.expressionEvaluatorParams[e];if(t)return t;const i=this.colModel.getColDefCol(e);if(!i)return{valueConverter:e=>e};const r=this.dataTypeSvc?.getBaseDataType(i);switch(r){case"dateString":t={valueConverter:this.dataTypeSvc?.getDateParserFunction(i)??(e=>e)};break;case"object":t=i.getColDef().filterValueGetter?{valueConverter:e=>e}:{valueConverter:(e,t)=>this.valueSvc.formatValue(i,t,e)??("function"==typeof e.toString?e.toString():"")};break;case"text":case void 0:t={valueConverter:e=>(0,Fy.fGY)(e)};break;default:t={valueConverter:e=>e}}const{filterParams:s}=i.getColDef();return s&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach((e=>{const i=s[e];i&&(t[e]=i)})),this.expressionEvaluatorParams[e]=t,t}getColumnDetails(e){const t=this.colModel.getColDefCol(e)??void 0;return{column:t,baseCellDataType:(t?this.dataTypeSvc?.getBaseDataType(t):void 0)??"text"}}generateExpressionOperators(){const e=(e,t)=>this.translate(e,t);return{text:new Ow({translate:e}),boolean:new zw({translate:e}),object:new Ow({translate:e}),number:new Bw({translate:e,equals:(e,t)=>e===t}),date:new Bw({translate:e,equals:(e,t)=>e.getTime()===t.getTime()}),dateString:new Bw({translate:e,equals:(e,t)=>e.getTime()===t.getTime()})}}getColumnValue({displayValue:e}){return`${Iw}${e}${Nw}`}generateExpressionJoinOperators(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}}getActiveOperators(e){const t=e.getColDef().filterParams?.filterOptions;if(t)return t.every((e=>"string"==typeof e))?t:void 0}resetColumnCaches(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}}},Gw=class extends Fy.wA2{constructor(e){super(function(e){const t=e.cssIdentifier||"default";return{tag:"div",cls:`ag-panel ag-${t}-panel`,attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eTitleBar",cls:`ag-panel-title-bar ag-${t}-panel-title-bar ag-unselectable`,children:[{tag:"span",ref:"eTitle",cls:`ag-panel-title-bar-title ag-${t}-panel-title-bar-title`},{tag:"div",ref:"eTitleBarButtons",cls:`ag-panel-title-bar-buttons ag-${t}-panel-title-bar-buttons`}]},{tag:"div",ref:"eContentWrapper",cls:`ag-panel-content-wrapper ag-${t}-panel-content-wrapper`}]}}(e)),this.config=e,this.closable=!0,this.eContentWrapper=Fy.CUI,this.eTitleBar=Fy.CUI,this.eTitleBarButtons=Fy.CUI,this.eTitle=Fy.CUI,this.registerCSS(".ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-panel-title-bar-text-color);cursor:default;display:flex;flex:none;font-weight:var(--ag-panel-title-bar-font-weight);height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-panel-title-bar-button{color:var(--ag-panel-title-bar-icon-color);cursor:pointer}:where(.ag-ltr) .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{flex:1 1 auto}.ag-panel-title-bar-buttons{display:flex}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}:where(.ag-dragging-fill-handle) .ag-dialog,:where(.ag-dragging-range-handle) .ag-dialog{opacity:.7;pointer-events:none}")}postConstruct(){const{component:e,closable:t,hideTitleBar:i,title:r,minWidth:s=250,width:a,minHeight:o=250,height:n,centered:l,popup:c,x:d,y:u}=this.config;this.positionableFeature=new Fy.Gxm(this.getGui(),{minWidth:s,width:a,minHeight:o,height:n,centered:l,x:d,y:u,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const p=this.getGui();e&&this.setBodyComponent(e),i?(0,Fy.DIH)(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(null!=t?t:this.closable)),this.addManagedElementListeners(this.eTitleBar,{mousedown:e=>{if(p.contains(e.relatedTarget)||p.contains((0,Fy.HB1)(this.beans))||this.eTitleBarButtons.contains(e.target))return void e.preventDefault();const t=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");t&&t.focus()}}),c&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const e=this.closeButtonComp=new Fy.wA2({tag:"div",cls:"ag-button"});this.createBean(e);const t=e.getGui(),i=(0,Fy.scM)("close",this.beans);i.classList.add("ag-panel-title-bar-button-icon"),t.appendChild(i),this.addTitleBarButton(e),e.addManagedElementListeners(t,{click:this.onBtClose.bind(this)})}else if(this.closeButtonComp){const e=this.closeButtonComp.getGui();e.parentElement.removeChild(e),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){const i=this.eTitleBarButtons,r=i.children,s=r.length;null==t&&(t=s),t=Math.max(0,Math.min(t,s)),e.addCss("ag-panel-title-bar-button");const a=e.getGui();0===t?i.insertAdjacentElement("afterbegin",a):t===s?i.insertAdjacentElement("beforeend",a):r[t-1].insertAdjacentElement("afterend",a),e.setParentComponent(this)}getBodyHeight(){return(0,Fy.laX)(this.eContentWrapper)}getBodyWidth(){return(0,Fy.lJf)(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&(0,Fy.Y4l)(e)&&this.close(),super.destroy()}},Uw=class extends Gw{constructor(e){super({...e,popup:!0}),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){const e=this.getGui(),{movable:t,resizable:i,maximizable:r,modal:s,postProcessPopupParams:a}=this.config;if(this.addCss("ag-dialog"),super.postConstruct(),a){const{type:t,eventSource:i,column:r,mouseEvent:s,rowNode:o}=a;this.popupSvc?.callPostProcessPopup(t,e,i,s,r,o)}if(this.tabGuardFeature=this.createManagedBean(new Fy.D19(this)),this.tabGuardFeature.initialiseTabGuard({isFocusableContainer:!0,onFocusIn:()=>{this.popupSvc?.bringPopupToFront(e)},onTabKeyDown:t=>{if(s)return;const i=t.shiftKey,r=(0,Fy.WEX)(this.beans,e,!1,i);r&&!this.tabGuardFeature.getTabGuardCtrl().isTabGuard(r)||(0,Fy.aPr)(this.beans,i)&&t.preventDefault()}}),t&&this.setMovable(t),r&&this.setMaximizable(r),i&&this.setResizable(i),!this.config.modal){const e=this.beans.ctrlsSvc.get("gridCtrl");e.addFocusableContainer(this),this.addDestroyFunc((()=>e.removeFocusableContainer(this)))}}setAllowFocus(e){this.tabGuardFeature.getTabGuardCtrl().setAllowFocus(e)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:i,title:r,afterGuiAttached:s}=this.config,a=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:r||a("ariaLabelDialog","Dialog"),afterGuiAttached:s});o&&(this.close=o.hideFunc)}onClosed(e){this.destroy(),this.config.closedCallback?.(e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:t,width:i,height:r}=this.lastPosition;this.setWidth(i),this.setHeight(r),this.positionableFeature.offsetElement(e,t)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){(0,Fy.DIH)(this.maximizeIcon,!this.isMaximized),(0,Fy.DIH)(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((e=>e())),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedElementListeners(i.getGui(),{click:this.toggleMaximize.bind(this)}),this.addTitleBarButton(i,0),this.maximizeListeners.push(...this.addManagedElementListeners(t,{dblclick:this.toggleMaximize.bind(this)})),[this.resizeListenerDestroy]=this.addManagedListeners(this.positionableFeature,{resize:()=>{this.isMaximized=!1,this.refreshMaximizeIcon()}})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new Fy.wA2({tag:"div",cls:"ag-dialog-button"})),t=e.getGui();return this.maximizeIcon=(0,Fy.scM)("maximize",this.beans),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=(0,Fy.scM)("minimize",this.beans),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}},Hw=class extends Fy.BxR{constructor(e){super(function(e){return{tag:"div",cls:`ag-virtual-list-viewport ag-${e}-virtual-list-viewport`,role:"presentation",children:[{tag:"div",ref:"eContainer",cls:`ag-virtual-list-container ag-${e}-virtual-list-container`}]}}(e?.cssIdentifier||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0,this.eContainer=Fy.CUI,this.awaitStableCallbacks=[];const{cssIdentifier:t="default",ariaRole:i="listbox",listName:r,moveItemCallback:s}=e||{};this.cssIdentifier=t,this.ariaRole=i,this.listName=r,this.moveItemCallback=s}wireBeans(e){this.environment=e.environment}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.refreshAriaProperties(),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)})}onGridStylesChanged(e){e.listItemHeightChanged&&(this.rowHeight=this.getItemHeight(),this.refresh())}refreshAriaProperties(){const e=this.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),t=this.eContainer;(0,Fy.Znd)(t,this.model?.getRowCount()>0?this.ariaRole:"presentation"),(0,Fy.xER)(t,e)}addResizeObserver(){const e=(0,Fy.OpL)(this.beans,this.getGui(),(()=>(0,Fy.i5X)(this.beans,(()=>this.drawVirtualRows()))));this.addDestroyFunc(e)}focusInnerElement(e){return this.focusRow(e?this.model.getRowCount()-1:0),!0}onFocusIn(e){const t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=(0,Fy.zRb)(t)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){const{key:t,shiftKey:i}=e;switch(t){case Fy.KeyCode.UP:case Fy.KeyCode.DOWN:{const r=t===Fy.KeyCode.UP;e.preventDefault(),i?this.moveItem(r):this.navigate(r)}break;case Fy.KeyCode.PAGE_HOME:case Fy.KeyCode.PAGE_END:case Fy.KeyCode.PAGE_UP:case Fy.KeyCode.PAGE_DOWN:null!==this.navigateToPage(t)&&e.preventDefault()}}onTabKeyDown(e){(0,Fy.yth)(e),this.forceFocusOutOfContainer(e.shiftKey)}getNextRow(e){if(null==this.lastFocusedRowIndex)return;const t=this.lastFocusedRowIndex+(e?-1:1);return t<0||t>=this.model.getRowCount()?void 0:t}moveItem(e){if(!this.moveItemCallback)return;const t=this.getComponentAt(this.lastFocusedRowIndex);t&&this.moveItemCallback(t,e)}navigate(e){const t=this.getNextRow(e);void 0!==t&&this.focusRow(t)}navigateToPage(e,t="focused"){let i=!1;"focused"===t&&(t=this.getLastFocusedRow(),i=!0);const r=this.model.getRowCount()-1;let s=-1;return e===Fy.KeyCode.PAGE_HOME?s=0:e===Fy.KeyCode.PAGE_END?s=r:e===Fy.KeyCode.PAGE_DOWN?s=Math.min(t+this.pageSize,r):e===Fy.KeyCode.PAGE_UP&&(s=Math.max(t-this.pageSize,0)),-1===s?null:(i?this.focusRow(s):this.ensureIndexVisible(s),s)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),(0,Fy.i5X)(this.beans,(()=>{if(this.isScrolling=!1,!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()})))}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach(((t,i)=>e(t.rowComponent,i)))}getItemHeight(){return this.isHeightFromTheme?this.environment.getDefaultListItemHeight():this.rowHeight}ensureIndexVisible(e,t=!0){const i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)return(0,Fy.F5b)(229,{index:e}),!1;const r=e*this.rowHeight,s=r+this.rowHeight,a=this.getGui(),o=a.scrollTop,n=a.offsetHeight,l=o+n,c=t?0:this.rowHeight,d=l<s-c;if(o>r+c)return a.scrollTop=r,!0;if(d){const e=s-n;return a.scrollTop=e,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",this.refreshAriaProperties(),this.awaitStable((()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))}))}awaitStable(e){if(this.awaitStableCallbacks.push(e),this.awaitStableCallbacks.length>1)return;const t=this.model.getRowCount();(0,Fy.naX)((()=>this.eContainer.clientHeight>=t*this.rowHeight),(()=>{if(!this.isAlive())return;const e=this.awaitStableCallbacks;this.awaitStableCallbacks=[],e.forEach((e=>e()))}))}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach(((e,t)=>this.removeRow(t)))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),i=t.scrollTop,r=i+t.offsetHeight;if(i===r)this.clearVirtualRows();else{const t=Math.floor(i/this.rowHeight),s=Math.floor(r/this.rowHeight);this.pageSize=Math.floor((r-i)/this.rowHeight),this.ensureRowsRendered(t,s,e)}}ensureRowsRendered(e,t,i){this.renderedRows.forEach(((i,r)=>{(r<e||r>t)&&r!==this.lastFocusedRowIndex&&this.removeRow(r)})),i&&this.refreshRows();for(let i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)}insertRow(e){const t=this.model.getRow(e),i="tree"===this.ariaRole?"treeitem":"option",r=(0,Fy.Xye)({tag:"div",cls:`ag-virtual-list-item ag-${this.cssIdentifier}-virtual-list-item`,role:i,attrs:{tabindex:"-1"}});(0,Fy.VzM)(r,this.model.getRowCount()),(0,Fy.Qnv)(r,e+1),r.style.height=`${this.rowHeight}px`,r.style.top=this.rowHeight*e+"px";const s=this.componentCreator(t,r);s.addGuiEventListener("focusin",(()=>this.lastFocusedRowIndex=e)),r.appendChild(s.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(e,{rowComponent:s,eDiv:r,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach(((t,i)=>{if(i>=e)this.removeRow(i);else{const e=this.model.getRow(i);this.model.areRowsEqual?.(t.value,e)?this.componentUpdater(e,t.rowComponent):this.removeRow(i)}}))}addScrollListener(){this.addGuiEventListener("scroll",(()=>this.drawVirtualRows()),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),this.awaitStableCallbacks.length=0,super.destroy())}},Ww={tag:"div",cls:"ag-autocomplete-row",role:"presentation",children:[{tag:"div",cls:"ag-autocomplete-row-label"}]},jw=class extends Fy.wA2{constructor(){super(Ww),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.toggleCss("ag-autocomplete-row-selected",e)}setSearchString(e){let t=!1;const{value:i}=this;if(i&&(0,Fy.fTC)(e)){const r=i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(r>=0){t=!0,this.hasHighlighting=!0;const s=r+e.length,a=this.getGui().lastElementChild;(0,Fy.wvc)(a),a.append(i.slice(0,r),(0,Fy.Xye)({tag:"b",children:i.slice(r,s)}),i.slice(s))}}!t&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){this.getGui().lastElementChild.textContent=this.value??" "}},Kw={tag:"div",cls:"ag-autocomplete-list-popup",children:[{tag:"div",ref:"eList",cls:"ag-autocomplete-list"}]},$w=class extends Fy.RXH{constructor(e){super(Kw),this.params=e,this.eList=Fy.CUI,this.searchString=""}postConstruct(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Hw({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:e=>this.autocompleteEntries[e]});const e=this.virtualList.getGui();this.addManagedListeners(e,{click:()=>this.params.onConfirmed(),mousemove:this.onMouseMove.bind(this),mousedown:e=>e.preventDefault()}),this.setSelectedValue(0)}onNavigationKeyDown(e,t){e.preventDefault();const i=this.autocompleteEntries.indexOf(this.selectedValue),r=t===Fy.KeyCode.UP?i-1:i+1;this.checkSetSelectedValue(r)}setSearch(e){this.searchString=e,(0,Fy.fTC)(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,t){let i,r=!1;const s=e.toLocaleLowerCase(),a=t.filter((e=>{const t=e.toLocaleLowerCase().indexOf(s),a=0===t,o=t>=0;return o&&(!i||!r&&a||r===a&&e.length<i.length)&&(i=e,r=a),o}));return!i&&a.length&&(i=a[0]),{topMatch:i,allMatches:a}}runSearch(){const{autocompleteEntries:e,useFuzzySearch:t,forceLastSelection:i}=this.params,r=e.map((e=>e.displayValue??e.key));let s,a;if(t)s=(0,Fy.CBg)({inputValue:this.searchString,allSuggestions:r,hideIrrelevant:!0}).values,a=s.length?s[0]:void 0;else{const e=this.runContainsSearch(this.searchString,r);s=e.allMatches,a=e.topMatch}let o=e.filter((({key:e,displayValue:t})=>s.includes(t??e)));if(!o.length&&this.selectedValue&&i?.(this.selectedValue,this.searchString)&&(o=[this.selectedValue]),this.autocompleteEntries=o,this.virtualList.refresh(),!a)return;const n=s.indexOf(a);this.checkSetSelectedValue(n)}updateSearchInList(){this.virtualList.forEachRenderedRow((e=>e.setSearchString(this.searchString)))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const t=this.autocompleteEntries[e];this.selectedValue!==t&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(((t,i)=>{t.updateSelected(e===i)})))}createRowComponent(e){const t=new jw;return this.createBean(t),t.setState(e.displayValue??e.key,e===this.selectedValue),t}onMouseMove(e){const t=this.virtualList,i=t.getGui().getBoundingClientRect(),r=t.getScrollTop(),s=e.clientY-i.top+r,a=Math.floor(s/t.getRowHeight());this.checkSetSelectedValue(a)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){return this.autocompleteEntries.length?this.selectedValue??null:null}},qw={tag:"div",cls:"ag-autocomplete",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eAutocompleteInput"}]},Yw={selector:"AG-AUTOCOMPLETE",component:class extends Fy.wA2{constructor(){super(qw,[Fy.jvp]),this.eAutocompleteInput=Fy.CUI,this.isListOpen=!1,this.lastPosition=0,this.valid=!0,this.registerCSS(".ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}")}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.eAutocompleteInput.onValueChange((e=>this.onValueChanged(e))),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc((()=>{this.destroyBean(this.autocompleteList)})),this.addGuiEventListener("focusout",(()=>this.onFocusOut()))}onValueChanged(e){const t=(0,Fy.wa4)(e);this.updateValue(t),this.updateAutocompleteList(t)}updateValue(e){this.updateLastPosition(),this.dispatchLocalEvent({type:"eventValueChanged",value:e}),this.validate(e)}updateAutocompleteList(e){const t=this.listGenerator?.(e,this.lastPosition)??{enabled:!1};t.type&&t.type===this.autocompleteListParams?.type||this.isListOpen&&this.closeList();const i=this.isListOpen;if(this.autocompleteListParams=t,t?.enabled){i||this.openList();const{searchString:e}=t;this.autocompleteList.setSearch(e??"")}else i&&this.closeList()}onKeyDown(e){const t=e.key;switch(this.updateLastPosition(),t){case Fy.KeyCode.ENTER:this.onEnterKeyDown(e);break;case Fy.KeyCode.TAB:this.onTabKeyDown(e);break;case Fy.KeyCode.DOWN:case Fy.KeyCode.UP:this.onUpDownKeyDown(e,t);break;case Fy.KeyCode.LEFT:case Fy.KeyCode.RIGHT:case Fy.KeyCode.PAGE_HOME:case Fy.KeyCode.PAGE_END:setTimeout((()=>{this.updatePositionAndList()}));break;case Fy.KeyCode.ESCAPE:this.onEscapeKeyDown(e);break;case Fy.KeyCode.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}}confirmSelection(){const e=this.autocompleteList?.getSelectedValue();e&&(this.closeList(),this.dispatchLocalEvent({type:"eventOptionSelected",value:this.getValue(),position:this.lastPosition,updateEntry:e,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,t){e.preventDefault(),this.isListOpen?this.autocompleteList?.onNavigationKeyDown(e,t):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){this.updateLastPosition(),this.updateAutocompleteList(this.eAutocompleteInput.getValue()??null)}setCaret(e,t){t&&(0,Fy.kAG)(this.beans)&&this.eAutocompleteInput.getFocusableElement().focus();const i=this.eAutocompleteInput.getInputElement();i.setSelectionRange(e,e),e===i.value.length&&(i.scrollLeft=i.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){this.lastPosition=this.eAutocompleteInput.getInputElement().selectionStart??0}validate(e){if(!this.validator)return;const t=this.validationMessage=this.validator(e);this.eAutocompleteInput.getInputElement().setCustomValidity(t??""),this.valid=!t,this.dispatchLocalEvent({type:"eventValidChanged",isValid:this.valid,validationMessage:t})}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new $w({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),t={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupSvc.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupSvc.positionPopupByComponent(t),ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchLocalEvent({type:"eventValueConfirmed",value:this.getValue(),isValid:this.isValid()})}getValue(){return(0,Fy.wa4)(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:t,position:i,silent:r,updateListOnlyIfOpen:s,restoreFocus:a}=e;this.eAutocompleteInput.setValue(t,!0),this.setCaret(i??this.lastPosition,a),r||this.updateValue(t),s&&!this.isListOpen||this.updateAutocompleteList(t)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}}},Xw={tag:"div",cls:"ag-advanced-filter",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"ag-autocomplete",ref:"eAutocomplete"},{tag:"button",ref:"eApplyFilterButton",cls:"ag-button ag-standard-button ag-advanced-filter-apply-button"},{tag:"button",ref:"eBuilderFilterButton",cls:"ag-button ag-advanced-filter-builder-button",children:[{tag:"span",ref:"eBuilderFilterButtonIcon",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eBuilderFilterButtonLabel",cls:"ag-advanced-filter-builder-button-label"}]}]},Qw=class extends Fy.wA2{constructor(){super(Xw,[Yw]),this.eAutocomplete=Fy.CUI,this.eApplyFilterButton=Fy.CUI,this.eBuilderFilterButton=Fy.CUI,this.eBuilderFilterButtonIcon=Fy.CUI,this.eBuilderFilterButtonLabel=Fy.CUI,this.expressionParser=null,this.isApplyDisabled=!0,this.builderOpen=!1}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc,this.advancedFilter=e.advancedFilter,this.filterManager=e.filterManager,this.registry=e.registry}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipShowDelayOverride:()=>1e3,getLocation:()=>"advancedFilter"})),this.eAutocomplete.setListGenerator(((e,t)=>this.generateAutocompleteListParams(t))).setValidator((()=>this.validateValue())).setForceLastSelection(((e,t)=>this.forceLastSelection(e,t))).setInputAriaLabel(this.advFilterExpSvc.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advFilterExpSvc.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListeners(this.eAutocomplete,{eventValueChanged:({value:e})=>this.onValueChanged(e),eventValueConfirmed:({isValid:e})=>this.onValueConfirmed(e),eventOptionSelected:({position:e,updateEntry:t,autocompleteType:i})=>this.onOptionSelected(e,t,i),eventValidChanged:({isValid:e,validationMessage:t})=>this.onValidChanged(e,t)}),this.setupApplyButton(),this.setupBuilderButton()}refresh(){const e=this.advancedFilter.getExpressionDisplayValue();this.eAutocomplete.setValue({value:e??"",position:e?.length,updateListOnlyIfOpen:!0})}setInputDisabled(e){this.eAutocomplete.setInputDisabled(e),(0,Fy.S5w)(this.eApplyFilterButton,e||this.isApplyDisabled)}setupApplyButton(){this.eApplyFilterButton.textContent=this.advFilterExpSvc.translate("advancedFilterApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedElementListeners(this.eApplyFilterButton,{click:()=>this.onValueConfirmed(this.eAutocomplete.isValid())}),(0,Fy.S5w)(this.eApplyFilterButton,this.isApplyDisabled)}setupBuilderButton(){this.eBuilderFilterButtonIcon.appendChild((0,Fy.scM)("advancedFilterBuilder",this.beans)),this.eBuilderFilterButtonLabel.textContent=this.advFilterExpSvc.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedElementListeners(this.eBuilderFilterButton,{click:()=>this.openBuilder()}),this.addManagedListeners(this.advancedFilter.getCtrl(),{advancedFilterBuilderClosed:()=>this.closeBuilder()})}onValueChanged(e){e=(0,Fy.wa4)(e),this.advancedFilter.setExpressionDisplayValue(e),this.expressionParser=this.advancedFilter.createExpressionParser(e);const t=this.expressionParser?.parseExpression();t&&t!==e&&this.eAutocomplete.setValue({value:t,silent:!0,restoreFocus:!0})}onValueConfirmed(e){e&&!this.isApplyDisabled&&((0,Fy.S5w)(this.eApplyFilterButton,!0),this.advancedFilter.applyExpression(),this.filterManager?.onFilterChanged({source:"advancedFilter"}))}onOptionSelected(e,t,i){const{updatedValue:r,updatedPosition:s,hideAutocomplete:a}=this.updateExpression(e,t,i);this.eAutocomplete.setValue({value:r,position:s,updateListOnlyIfOpen:a,restoreFocus:!0})}validateValue(){return this.expressionParser?.isValid()?null:this.expressionParser?.getValidationMessage()??null}onValidChanged(e,t){this.isApplyDisabled=!e||this.advancedFilter.isCurrentExpressionApplied(),(0,Fy.S5w)(this.eApplyFilterButton,this.isApplyDisabled),this.tooltipFeature?.setTooltipAndRefresh(t)}generateAutocompleteListParams(e){return this.expressionParser?this.expressionParser.getAutocompleteListParams(e):this.advFilterExpSvc.getDefaultAutocompleteListParams("")}updateExpression(e,t,i){return this.advFilterExpSvc.updateAutocompleteCache(t,i),this.expressionParser?.updateExpression(e,t,i)??this.advancedFilter.getDefaultExpression(t)}forceLastSelection({key:e,displayValue:t},i){return!!i.toLocaleLowerCase().match(`^${(t??e).toLocaleLowerCase()}\\s*$`)}openBuilder(){this.builderOpen||(this.builderOpen=!0,(0,Fy.S5w)(this.eBuilderFilterButton,!0),this.advancedFilter.getCtrl().toggleFilterBuilder({source:"ui",eventSource:this.eBuilderFilterButton}))}closeBuilder(){this.builderOpen&&(this.builderOpen=!1,(0,Fy.S5w)(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())}},Zw={tag:"div",cls:"ag-advanced-filter-header",role:"row"},Jw=class extends Fy.wA2{constructor(e){super(Zw),this.enabled=e}wireBeans(e){this.colModel=e.colModel,this.focusSvc=e.focusSvc,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.setupAdvancedFilter(this.enabled),this.addDestroyFunc((()=>this.destroyBean(this.eAdvancedFilter)));const e=()=>{this.enabled&&this.setEnabledHeight()};this.addManagedEventListeners({gridColumnsChanged:()=>this.onGridColumnsChanged(),columnHeaderHeightChanged:e,gridStylesChanged:e}),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addGuiEventListener("keydown",(e=>this.onKeyDown(e))),this.addGuiEventListener("focusout",(e=>{this.getFocusableElement().contains(e.relatedTarget)||this.focusSvc.clearAdvancedFilterColumn()}))}getFocusableElement(){return this.eAdvancedFilter?.getGui()??this.getGui()}setEnabled(e){e!==this.enabled&&this.setupAdvancedFilter(e)}refresh(){this.eAdvancedFilter?.refresh()}getHeight(){return this.height}setInputDisabled(e){this.eAdvancedFilter?.setInputDisabled(e)}setupAdvancedFilter(e){const t=this.getGui();if(e){this.eAdvancedFilter=this.createBean(new Qw);const e=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCss("ag-advanced-filter-header-cell"),this.setEnabledHeight(),this.setAriaRowIndex(),(0,Fy.Znd)(e,"gridcell"),(0,Fy._2c)(e,1),this.setAriaColumnCount(e),t.appendChild(e)}else(0,Fy.wvc)(t),this.destroyBean(this.eAdvancedFilter),this.height=0;(0,Fy.DIH)(t,e),this.enabled=e}setEnabledHeight(){const e=this.getGui();this.height=(0,Fy.JZY)(this.beans);const t=`${this.height}px`;e.style.height=t,e.style.minHeight=t}setAriaColumnCount(e){(0,Fy.UNj)(e,this.colModel.getCols().length)}setAriaRowIndex(){(0,Fy.Wnl)(this.getGui(),this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)}onGridColumnsChanged(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())}onKeyDown(e){switch(e.key){case Fy.KeyCode.ENTER:this.hasFocus()&&(0,Fy.exX)(this.getFocusableElement())&&e.preventDefault();break;case Fy.KeyCode.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case Fy.KeyCode.UP:this.navigateUpDown(!0,e);break;case Fy.KeyCode.DOWN:this.navigateUpDown(!1,e);break;case Fy.KeyCode.TAB:if(this.hasFocus())this.navigateLeftRight(e);else{const t=(0,Fy.WEX)(this.beans,this.getFocusableElement(),null,e.shiftKey);t?(e.preventDefault(),t.focus()):this.navigateLeftRight(e)}}}navigateUpDown(e,t){this.hasFocus()&&this.focusSvc.focusNextFromAdvancedFilter(e)&&t.preventDefault()}navigateLeftRight(e){(e.shiftKey?this.focusSvc.focusLastHeader():this.focusSvc.focusNextFromAdvancedFilter(!1,!0))&&e.preventDefault()}hasFocus(){return(0,Fy.HB1)(this.beans)===this.getFocusableElement()}},eS="ag-list-item-hovered",tS=class extends Fy.AS9{constructor(e,t,i){super(),this.comp=e,this.virtualList=t,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}wireBeans(e){this.dragAndDrop=e.dragAndDrop}postConstruct(){this.addManagedListeners(this.params.eventSource,{[this.params.listItemDragStartEvent]:this.listItemDragStart.bind(this),[this.params.listItemDragEndEvent]:this.listItemDragEnd.bind(this)}),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout((()=>{this.currentDragValue=null,this.moveBlocked=!1}),10)}createDropTarget(){const e={isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?"pinned":"move",getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave(),onDragCancel:()=>this.onDragCancel()};this.dragAndDrop?.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new Fy.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),i=this.virtualList.getComponentAt(t.rowIndex);if(!i)return;const r=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,(0,Fy.I1_)(r,eS),(0,Fy.I1_)(r,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(t).paddingTop),r=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(e.y-i+s)/r),o=this.params.getNumRows(this.comp)-1,n=0|Math.min(o,a);return{rowIndex:n,position:Math.round(a)>a||a>o?"bottom":"top",component:this.virtualList.getComponentAt(n)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearDragProperties())}onDragCancel(){this.clearDragProperties()}onDragLeave(){this.clearDragProperties()}clearDragProperties(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${eS}`).forEach((e=>{[eS,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((t=>{e.classList.remove(t)}))})),this.lastHoveredListItem=null}},iS=class extends Fy.AS9{constructor(e,t){super(),this.comp=e,this.virtualList=t}postConstruct(){this.createManagedBean(new tS(this.comp,this.virtualList,{dragSourceType:Fy.rvo.AdvancedFilterBuilder,listItemDragStartEvent:"advancedFilterBuilderDragStarted",listItemDragEndEvent:"advancedFilterBuilderDragEnded",eventSource:this,getCurrentDragValue:e=>this.getCurrentDragValue(e),isMoveBlocked:()=>!1,getNumRows:e=>e.getNumItems(),moveItem:(e,t)=>this.moveItem(e,t)}))}getCurrentDragValue(e){return e.item}moveItem(e,t){this.comp.moveItem(e,t)}},rS={tag:"div",cls:"ag-pill",role:"option",children:[{tag:"span",ref:"eText",cls:"ag-pill-text"},{tag:"span",ref:"eButton",cls:"ag-button ag-pill-button",role:"presentation"}]},sS=class extends Fy.wA2{constructor(e){super(rS),this.config=e,this.eText=Fy.CUI,this.eButton=Fy.CUI}postConstruct(){const{config:e,eButton:t}=this,{onKeyDown:i,onButtonClick:r}=e;this.getGui().setAttribute("tabindex",String(this.gos.get("tabIndex"))),this.addGuiEventListener("focus",(()=>{this.eButton.focus()})),i&&this.addGuiEventListener("keydown",i),r&&this.addManagedElementListeners(t,{click:r})}toggleCloseButtonClass(e,t){this.eButton.classList.toggle(e,t)}setText(e){this.eText.textContent=e}getText(){return this.eText.textContent}},aS={tag:"div",cls:"ag-pill-container"},oS=class extends Fy.wA2{constructor(){super(aS),this.pills=[]}init(e){this.params=e,this.refresh()}refresh(){this.clearPills();const{params:e,onPillKeyDown:t}=this;let i=e.getValue();if(!Array.isArray(i)){if(null==i)return;i=[i]}const r=e.valueFormatter??(e=>String(e)),s=i.length;(0,Fy.Znd)(this.getGui(),0===s?"presentation":"listbox");for(let a=0;a<s;a++){const o=i[a],n=this.createBean(new sS({onButtonClick:()=>this.onPillButtonClick(n),onKeyDown:t.bind(this)})),l=n.getGui();(0,Fy.Qnv)(l,a+1),(0,Fy.VzM)(l,s),e.onPillMouseDown&&n.addGuiEventListener("mousedown",e.onPillMouseDown),e.announceItemFocus&&n.addGuiEventListener("focus",e.announceItemFocus),n.setText(r(o)??""),n.toggleCloseButtonClass("ag-icon-cancel",!0),this.appendChild(l),this.pills.push(n)}}onNavigationKeyDown(e){const{key:t}=e;if(!this.pills.length||t!==Fy.KeyCode.LEFT&&t!==Fy.KeyCode.RIGHT)return;e.preventDefault();const{params:i,beans:r}=this,s=(0,Fy.HB1)(r),a=this.getGui();if(a.contains(s)){const e=(0,Fy.WEX)(r,a,!1,t===Fy.KeyCode.LEFT);e?e.focus():i.eWrapper&&i.eWrapper.focus()}else{const e=(0,Fy.H$b)(a);e.length>0&&e[t===Fy.KeyCode.RIGHT?0:e.length-1].focus()}}clearPills(){const e=this.getGui();e.contains((0,Fy.HB1)(this.beans))&&this.params.eWrapper&&this.params.eWrapper.focus(),(0,Fy.wvc)(e),this.destroyBeans(this.pills),this.pills=[]}onPillButtonClick(e){this.deletePill(e)}onPillKeyDown(e){const t=e.key;if(t!==Fy.KeyCode.DELETE&&t!==Fy.KeyCode.BACKSPACE)return;e.preventDefault();const i=(0,Fy.rtB)(this.beans),r=this.pills.findIndex((e=>e.getGui().contains(i.activeElement)));if(-1===r)return;const s=this.pills[r];s&&this.deletePill(s,r)}deletePill(e,t){const i=e.getText(),r=(this.params.getValue()||[]).filter((e=>e!==i));if(this.params.setValue(r),!r.length&&this.params.eWrapper)this.params.eWrapper.focus();else if(null!=t){const e=this.pills[Math.min(t,this.pills.length-1)];e&&e.getFocusableElement().focus()}}destroy(){this.clearPills(),super.destroy()}},nS={tag:"div",cls:"ag-rich-select-row",role:"presentation"},lS=class extends Fy.wA2{constructor(e){super(nS),this.params=e}wireBeans(e){this.userCompFactory=e.userCompFactory,this.registry=e.registry}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>this.shouldDisplayTooltip?.()??!0}))}setState(e){const{params:t}=this,i=t.valueFormatter?.(e)??"";this.populateWithRenderer(e,i)||this.populateWithoutRenderer(e,i),this.value=e}highlightString(e){const{parsedValue:t,params:i}=this;if(i.cellRenderer||!(0,Fy.fTC)(t))return;let r=(0,Fy.fTC)(e);if(r){const i=t?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){const r=i+e.length,s=this.getGui().querySelector("span");s&&((0,Fy.wvc)(s),s.append(t.slice(0,i),(0,Fy.Xye)({tag:"span",cls:"ag-rich-select-row-text-highlight",children:t.slice(i,r)}),t.slice(r)))}else r=!1}r||this.renderValueWithoutRenderer(t)}updateSelected(e){const t=this.getGui();(0,Fy.N41)(t.parentElement,e),this.toggleCss("ag-rich-select-row-selected",e)}getValue(){return this.value}toggleHighlighted(e){this.toggleCss("ag-rich-select-row-highlighted",e)}populateWithoutRenderer(e,t){const i=this.getGui(),r=(0,Fy.Xye)({tag:"span"});r.style.overflow="hidden",r.style.textOverflow="ellipsis";const s=(0,Fy.Z_J)((0,Fy.fTC)(t)?t:e);this.parsedValue=(0,Fy.fTC)(s)?s:null,i.appendChild(r),this.renderValueWithoutRenderer(s),this.shouldDisplayTooltip=(0,Fy.ckd)((()=>r)),this.tooltipFeature?.setTooltipAndRefresh(this.parsedValue)}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.textContent=(0,Fy.fTC)(e)?e:" ")}populateWithRenderer(e,t){let i,r;if(this.params.cellRenderer){const i=this.getParentComponent()?.getParentComponent();r=(0,Fy.khi)(this.userCompFactory,this.params,(0,Fy.OHk)(this.gos,{value:e,valueFormatted:t,getValue:()=>i?.getValue(),setValue:e=>{i?.setValue(e,!0)},setTooltip:(e,t)=>{this.gos.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=t,this.tooltipFeature?.setTooltipAndRefresh(e)}}))}return r&&(i=r.newAgStackInstance()),i&&mS(i,this.getGui()),!!i&&(i.then((e=>{this.addDestroyFunc((()=>{this.destroyBean(e)}))})),!0)}},cS="ag-rich-select-list",dS="ag-rich-select-row",uS=class extends Hw{constructor(e,t,i){super({cssIdentifier:"rich-select"}),this.params=e,this.richSelectWrapper=t,this.getSearchString=i,this.lastRowHovered=-1,this.selectedItems=new Set,this.params=e,this.setComponentCreator(this.createRowComponent.bind(this)),this.setComponentUpdater((()=>{}))}postConstruct(){super.postConstruct(),this.eLoading=(0,Fy.Xye)({tag:"div",cls:"ag-loading-text",children:this.getLocaleTextFunc()("loadingOoo","Loading...")});const{cellRowHeight:e,pickerAriaLabelKey:t,pickerAriaLabelValue:i}=this.params;e&&this.setRowHeight(e);const r=this.getGui(),s=this.getAriaElement();this.addManagedListeners(r,{mousemove:this.onMouseMove.bind(this),mouseout:this.onMouseOut.bind(this),mousedown:this.onMouseDown.bind(this),click:this.onClick.bind(this)}),r.classList.add(cS);const a=`${cS}-${this.getCompId()}`;s.setAttribute("id",a);const o=this.getLocaleTextFunc()(t,i);(0,Fy.xER)(s,o),(0,Fy.RXA)(this.richSelectWrapper,s)}navigateToPage(e){const t=super.navigateToPage(e,this.lastRowHovered);return null!=t&&(0,Fy.i5X)(this.beans,(()=>{if(!this.isAlive())return null;this.highlightIndex(t)})),t}drawVirtualRows(e){super.drawVirtualRows(e),this.refreshSelectedItems()}highlightFilterMatch(e){this.forEachRenderedRow((t=>{t.highlightString(e)}))}onNavigationKeyDown(e,t){(0,Fy.i5X)(this.beans,(()=>{if(!this.currentList||!this.isAlive())return;const i=this.currentList.length,r=this.lastRowHovered,s=e===Fy.KeyCode.DOWN?1:-1,a=Math.min(Math.max(-1===r?0:r+s,0),i-1);this.highlightIndex(a),t()}))}selectValue(e){if(!this.currentList)return this.eLoading&&this.appendChild(this.eLoading),!1;if(this.eLoading?.offsetParent&&this.eLoading.parentElement?.removeChild(this.eLoading),null==e)return!1;const t=this.getIndicesForValues(e),i=t.length>0;return i&&(this.refresh(),this.ensureIndexVisible(t[0]),this.refresh(!0)),this.selectListItems(Array.isArray(e)?e:[e]),i}selectListItems(e,t=!1){t||this.selectedItems.clear();for(let t=0;t<e.length;t++){const i=e[t];void 0===this.findItemInSelected(i)&&this.selectedItems.add(i)}this.refreshSelectedItems()}getCurrentList(){return this.currentList}setCurrentList(e){this.currentList=e,this.setModel({getRowCount:()=>e.length,getRow:t=>e[t],areRowsEqual:(e,t)=>e===t})}getSelectedItems(){return this.selectedItems}getLastItemHovered(){return this.currentList[this.lastRowHovered]}highlightIndex(e,t){this.currentList&&(e<0||e>=this.currentList.length?this.lastRowHovered=-1:(this.lastRowHovered=e,this.ensureIndexVisible(e,!t)&&!t&&this.refresh(!0)),this.forEachRenderedRow(((t,i)=>{const r=e===i;if(t.toggleHighlighted(r),r){const e=`${dS}-${t.getCompId()}`;(0,Fy.TTY)(this.richSelectWrapper,e),this.richSelectWrapper.setAttribute("data-active-option",e)}})))}getIndicesForValues(e){const{currentList:t}=this;if(!t||0===t.length||null==e)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const{valueFormatter:i}=this.params,r=[],s="object"==typeof e[0],a=t.map(i);for(const o of e){let e=-1;e=s?a.indexOf(i(o)):t.indexOf(o),e>=0&&r.push(e)}return r}toggleListItemSelection(e){const t=this.findItemInSelected(e);void 0!==t?this.selectedItems.delete(t):this.selectedItems.add(e),this.refreshSelectedItems(),this.dispatchValueSelected()}refreshSelectedItems(){this.forEachRenderedRow((e=>{const t=void 0!==this.findItemInSelected(e.getValue());e.updateSelected(t)}))}findItemInSelected(e){if("object"!=typeof e)return this.selectedItems.has(e)?e:void 0;{const t=this.params.valueFormatter,i=t(e);for(const e of this.selectedItems)if(t(e)===i)return e}}createRowComponent(e,t){const i=new lS(this.params);t.setAttribute("id",`${dS}-${i.getCompId()}`),i.setParentComponent(this),this.createBean(i),i.setState(e);const{highlightMatch:r,searchType:s="fuzzy"}=this.params;return r&&"fuzzy"!==s&&i.highlightString(this.getSearchString()),i}getRowForMouseEvent(e){const t=this.getGui().getBoundingClientRect(),i=this.getScrollTop(),r=e.clientY-t.top+i;return Math.min(Math.floor(r/this.getRowHeight()),this.model.getRowCount()-1)}onMouseMove(e){const t=this.getRowForMouseEvent(e);-1!==t&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.highlightIndex(t,!0))}onMouseDown(e){e.preventDefault()}onMouseOut(e){this.getGui().contains(e.relatedTarget)||this.highlightIndex(-1)}onClick(e){const{multiSelect:t}=this.params;if(!this.currentList)return;const i=this.getRowForMouseEvent(e),r=this.currentList[i];t?this.toggleListItemSelection(r):(this.selectListItems([r]),this.dispatchValueSelected())}dispatchValueSelected(){this.dispatchLocalEvent({type:"richSelectListRowSelected",fromEnterKey:!1,value:this.selectedItems})}destroy(){super.destroy(),this.eLoading=void 0}},pS={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed",children:[{tag:"span",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"span",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},hS=class extends Fy.MQo{constructor(e){super({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"richSelectOpen",ariaRole:"combobox",template:e?.template??pS,agComponents:[Fy.jvp],modalPicker:!1,...e,maxPickerHeight:e?.maxPickerHeight??"calc(var(--ag-row-height) * 6.5)"}),this.searchString="",this.searchStringCreator=null,this.eInput=Fy.CUI,this.eDeselect=Fy.CUI,this.skipWrapperAnnouncement=!1;const{value:t,valueList:i,searchStringCreator:r}=e||{};void 0!==t&&(this.value=t),r&&(this.searchStringCreator=r),null!=i&&this.setValues(i),this.registerCSS(".ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-picker-button-background-color);display:flex;height:100%;padding:var(--ag-spacing);:where(.ag-picker-field-display){overflow:hidden;text-overflow:ellipsis;&:where(.ag-display-as-placeholder){opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;:where(.ag-loading-text){padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;:where(.ag-input-field-input){border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}:where(.ag-ltr) .ag-rich-select-field-input{left:var(--ag-spacing)}:where(.ag-rtl) .ag-rich-select-field-input{right:var(--ag-spacing)}:where(.ag-popup-editor) .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap}.ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}:where(.ag-ltr) .ag-pill-button{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-pill-button{margin-right:var(--ag-spacing)}")}wireBeans(e){this.userCompFactory=e.userCompFactory,this.ariaAnnounce=e.ariaAnnounce,this.registry=e.registry}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>this.shouldDisplayTooltip?.()??!0})),super.postConstruct(),this.createListComponent(),this.eDeselect.appendChild((0,Fy.scM)("richSelectRemove",this.beans));const{allowTyping:e,placeholder:t,suppressDeselectAll:i}=this.config;this.eDeselect.classList.add("ag-hidden"),e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.setupAriaProperties();const{searchDebounceDelay:r=300}=this.config;this.clearSearchString=(0,Fy.eTz)(this,this.clearSearchString.bind(this),r),this.renderSelectedValue(),e&&this.eInput.onValueChange((e=>this.searchTextFromString(e))),this.addManagedElementListeners(this.eWrapper,{focus:this.onWrapperFocus.bind(this)}),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)}),i||this.addManagedElementListeners(this.eDeselect,{mousedown:this.onDeselectAllMouseDown.bind(this),click:this.onDeselectAllClick.bind(this)})}setupAriaProperties(){const{eWrapper:e,gos:t}=this;e.tabIndex=t.get("tabIndex");const i=this.getLocaleTextFunc();this.ariaDeleteSelection=i("ariaLabelRichSelectDeleteSelection","Press DELETE to deselect item"),this.ariaDeselectAllItems=i("ariaLabelRichSelectDeselectAllItems","Press DELETE to deselect all items"),this.ariaToggleSelection=i("ariaLabelRichSelectToggleSelection","Press SPACE to toggle selection")}createListComponent(){this.listComponent=this.createBean(new uS(this.config,this.eWrapper,(()=>this.searchString))),this.listComponent.setParentComponent(this),this.addManagedListeners(this.listComponent,{richSelectListRowSelected:e=>{this.onListValueSelected(e.value,e.fromEnterKey)}})}renderSelectedValue(){const{value:e,eDisplayField:t,config:i,gos:r}=this,{allowTyping:s,cellRenderer:a,initialInputValue:o,multiSelect:n,suppressDeselectAll:l,suppressMultiSelectPillRenderer:c}=i,d=i.valueFormatter?.(e)??String(e);if(s)return void this.eInput.setValue(o??d);if(n&&!l){const t=null==e||Array.isArray(e)&&0===e.length;this.eDeselect.classList.toggle("ag-hidden",t)}let u,p;if(!n||c)if(a&&(u=(0,Fy.khi)(this.userCompFactory,i,(0,Fy.OHk)(this.gos,{value:e,valueFormatted:d,getValue:()=>this.getValue(),setValue:e=>{this.setValue(e,!0)},setTooltip:(e,t)=>{r.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=t,this.tooltipFeature?.setTooltipAndRefresh(e)}}))),u&&(p=u.newAgStackInstance()),p)(0,Fy.wvc)(t),mS(p,t),p.then((e=>{this.addDestroyFunc((()=>this.destroyBean(e)))}));else{if((0,Fy.fTC)(this.value))t.innerText=d,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:e}=i;(0,Fy.fTC)(e)?(t.textContent=e,t.classList.add("ag-display-as-placeholder")):(0,Fy.wvc)(t)}this.shouldDisplayTooltip=(0,Fy.ckd)((()=>this.eDisplayField)),this.tooltipFeature?.setTooltipAndRefresh(d??null)}else this.createOrUpdatePillContainer(t)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:i}=e;this.listComponent&&this.listComponent.getCurrentList()!==t&&(this.listComponent.setCurrentList(t),i)&&(this.values?this.listComponent.refresh(!0):(this.setValues(t),this.isPickerDisplayed&&(this.listComponent.selectValue(this.value)||this.listComponent.refresh())),this.alignPickerToComponent())}setValues(e){this.values=e,this.searchStrings=this.getSearchStringsFromValues(e)}showPicker(){super.showPicker();const{listComponent:e,value:t}=this;if(!e)return;let i=null;e.selectValue(this.value),null!=this.value&&(i=e.getIndicesForValues(Array.isArray(t)?t:[t])[0]),null!=i?e.highlightIndex(i):e.refresh(),this.displayOrHidePicker()}beforeHidePicker(){super.beforeHidePicker()}createOrUpdatePillContainer(e){if(!this.pillContainer){const t=this.pillContainer=this.createBean(new oS);this.addDestroyFunc((()=>{this.destroyBean(this.pillContainer),this.pillContainer=null})),(0,Fy.wvc)(e),e.appendChild(t.getGui());const{config:i,eWrapper:r,ariaDeleteSelection:s}=this,{valueFormatter:a}=i;t.init({eWrapper:r,valueFormatter:a,onPillMouseDown:e=>{e.stopImmediatePropagation()},announceItemFocus:()=>{this.announceAriaValue(s)},getValue:()=>this.getValue(),setValue:e=>this.setValue(e,!0)})}this.doWhileBlockingAnnouncement((()=>this.pillContainer?.refresh()))}doWhileBlockingAnnouncement(e){this.skipWrapperAnnouncement=!0,e(),this.skipWrapperAnnouncement=!1}onWrapperFocus(){const{eInput:e,config:t}=this,{allowTyping:i,multiSelect:r,suppressDeselectAll:s}=t;if(i){const t=e.getFocusableElement();t.focus(),t.select()}else!r||s||this.skipWrapperAnnouncement||this.announceAriaValue(this.ariaDeselectAllItems)}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}onDeselectAllMouseDown(e){e.stopImmediatePropagation()}onDeselectAllClick(){this.setValue([],!0)}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===Fy.KeyCode.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!(0,Fy.aCc)(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){null==e&&(e=""),this.searchString=e,this.runSearch()}getSearchStringsFromValues(e){const{config:t}=this,{valueFormatter:i=(e=>String(e))}=t;return"object"==typeof e[0]&&this.searchStringCreator?this.searchStringCreator(e):e.map((e=>i(e)))}filterListModel(e){const{filterList:t}=this.config;t&&this.setValueList({valueList:e,refresh:!0})}runSearch(){if(!this.listComponent)return;const{values:e}=this,t=this.searchStrings;if(!t)return void this.listComponent.highlightIndex(-1);const{suggestions:i,filteredValues:r}=this.getSuggestionsAndFilteredValues(this.searchString,t),{filterList:s,highlightMatch:a,searchType:o="fuzzy"}=this.config,n=!(!s||""===this.searchString);this.filterListModel(n?r:e),this.highlightEmptyValue()||this.highlightListValue(i,r,n),a&&"fuzzy"!==o&&this.listComponent?.highlightFilterMatch(this.searchString),this.displayOrHidePicker()}highlightEmptyValue(){if(""===this.searchString){const e=this.searchStrings?.indexOf("");if(void 0!==e&&-1!==e)return this.listComponent?.highlightIndex(e),!0}return!1}highlightListValue(e,t,i){if(e.length){const t=i?0:this.searchStrings?.indexOf(e[0]);void 0!==t&&this.listComponent?.highlightIndex(t)}else if(this.listComponent?.highlightIndex(-1),!i||t.length)this.listComponent?.ensureIndexVisible(0);else if(i){this.getAriaElement().removeAttribute("data-active-option");const e=this.listComponent?.getAriaElement();e&&(0,Fy.TTY)(e,null)}}getSuggestionsAndFilteredValues(e,t){let i=[];const r=[];if(!e.length)return{suggestions:i,filteredValues:r};const{searchType:s="fuzzy",filterList:a}=this.config;if("fuzzy"===s){const s=(0,Fy.CBg)({inputValue:e,allSuggestions:t,hideIrrelevant:!0});i=s.values;const o=s.indices;if(a&&o.length)for(let e=0;e<o.length;e++)r.push(this.values[o[e]])}else i=t.filter(((e,t)=>{const i=e.toLocaleLowerCase(),o=this.searchString.toLocaleLowerCase(),n="match"===s?i.startsWith(o):-1!==i.indexOf(o);return a&&n&&r.push(this.values[t]),n}));return{suggestions:i,filteredValues:r}}displayOrHidePicker(){if(!this.listComponent)return;const e=this.listComponent.getGui(),t=this.listComponent.getCurrentList(),i=!!t&&0===t.length;e.classList.toggle("ag-hidden",i)}clearSearchString(){this.searchString=""}setValue(e,t,i,r){if(this.value===e)return this;const s=Array.isArray(e);if(null!=e){if(!s){const t=this.listComponent?.getCurrentList();if(-1===(t?t.indexOf(e):-1))return this}i||this.listComponent?.selectValue(e)}return super.setValue(e,t),r||this.renderSelectedValue(),this}onNavigationKeyDown(e,t,i){e.preventDefault();const r=t===Fy.KeyCode.DOWN;this.isPickerDisplayed||!r?this.listComponent?.onNavigationKeyDown(t,i):this.showPicker()}onEnterKeyDown(e){if(this.isPickerDisplayed&&(e.preventDefault(),this.listComponent?.getCurrentList())){const e=this.listComponent.getLastItemHovered();this.config.multiSelect||null==e?this.dispatchPickerEventAndHidePicker(this.value,!0):this.onListValueSelected(new Set([e]),!0)}}onDeleteKeyDown(e){const{eWrapper:t,beans:i}=this;(0,Fy.HB1)(i)===t&&(e.preventDefault(),this.setValue([],!0))}onTabKeyDown(){const{config:e,isPickerDisplayed:t,listComponent:i}=this,{multiSelect:r}=e;if(t&&i){if(r){const e=this.getValueFromSet(i.getSelectedItems());e&&this.setValue(e,!1,!0,!0)}else{const e=i.getLastItemHovered();e&&this.setValue(e,!1,!0)}this.hidePicker()}}getValueFromSet(e){const{multiSelect:t}=this.config;let i=null;for(const r of e){if(1===e.size&&!t){i=r;break}i||(i=[]),i.push(r)}return Array.isArray(i)&&i.sort(),i}onListValueSelected(e,t){const i=this.getValueFromSet(e);this.setValue(i,!1,!0),this.config.multiSelect||this.dispatchPickerEventAndHidePicker(i,t)}dispatchPickerEventAndHidePicker(e,t){const i={type:"fieldPickerValueSelected",fromEnterKey:t,value:e};this.dispatchLocalEvent(i),this.hidePicker()}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const{key:t}=e,{isPickerDisplayed:i,config:r,listComponent:s,pickerComponent:a}=this,{allowTyping:o,multiSelect:n,suppressDeselectAll:l}=r;switch(t){case Fy.KeyCode.LEFT:case Fy.KeyCode.RIGHT:o&&!this.pillContainer||(e.preventDefault(),this.pillContainer&&(this.listComponent?.highlightIndex(-1),this.pillContainer.onNavigationKeyDown(e)));break;case Fy.KeyCode.PAGE_HOME:case Fy.KeyCode.PAGE_END:if(o){e.preventDefault();const i=this.eInput.getInputElement(),r=t===Fy.KeyCode.PAGE_HOME?0:i.value.length;i.setSelectionRange(r,r);break}case Fy.KeyCode.PAGE_UP:case Fy.KeyCode.PAGE_DOWN:e.preventDefault(),a&&s?.navigateToPage(t);break;case Fy.KeyCode.DOWN:case Fy.KeyCode.UP:this.onNavigationKeyDown(e,t,(()=>{n&&(this.doWhileBlockingAnnouncement((()=>this.eWrapper.focus())),this.announceAriaValue(this.ariaToggleSelection))}));break;case Fy.KeyCode.ESCAPE:i&&((0,Fy.Y4l)(this.listComponent.getGui())&&(e.preventDefault(),(0,Fy.yth)(e)),this.hidePicker());break;case Fy.KeyCode.ENTER:this.onEnterKeyDown(e);break;case Fy.KeyCode.SPACE:if(e.preventDefault(),i&&n&&s){const e=s.getLastItemHovered();e&&s.toggleListItemSelection(e)}break;case Fy.KeyCode.TAB:this.onTabKeyDown();break;case Fy.KeyCode.DELETE:n&&!l&&this.onDeleteKeyDown(e);break;default:o||this.buildSearchStringFromKeyboardEvent(e)}}announceAriaValue(e){this.ariaAnnounce?.announceValue(e,"richSelect")}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),this.searchStrings=void 0,super.destroy()}};function mS(e,t){e.then((e=>{const i=e.getGui();null!=i&&t.appendChild(i)}))}var gS={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},bS=class extends hS{constructor(e){super({...e,template:gS,agComponents:[Fy.jvp]}),this.params=e}showPicker(){setTimeout((()=>super.showPicker()))}hidePicker(){setTimeout((()=>super.hidePicker()))}postConstruct(){super.postConstruct();const{wrapperClassName:e,ariaLabel:t}=this.params;(0,Fy.DIH)(this.eDisplayField,!1),e&&this.eWrapper.classList.add(e),(0,Fy._IQ)(this.eWrapper,""),(0,Fy.xER)(this.eWrapper,t)}onEnterKeyDown(e){(0,Fy.yth)(e),this.isPickerDisplayed?super.onEnterKeyDown(e):(e.preventDefault(),this.showPicker())}},fS=class extends Fy.AS9{constructor(e,t,i){super(),this.eGui=e,this.focusWrapper=t,this.eFocusableComp=i}postConstruct(){this.addManagedElementListeners(this.eGui,{keydown:e=>{switch(e.key){case Fy.KeyCode.TAB:e.defaultPrevented||(0,Fy.yth)(e);break;case Fy.KeyCode.UP:case Fy.KeyCode.DOWN:(0,Fy.yth)(e);break;case Fy.KeyCode.ESCAPE:if((0,Fy.p71)(e))return;this.eGui.contains((0,Fy.HB1)(this.beans))&&(e.preventDefault(),(0,Fy.yth)(e),this.focusWrapper.focus())}}});const e="ag-advanced-filter-builder-virtual-list-item-highlight";this.addManagedListeners(this.focusWrapper,{keydown:e=>{if(e.key===Fy.KeyCode.ENTER){if((0,Fy.p71)(e))return;(0,Fy.HB1)(this.beans)===this.focusWrapper&&(e.preventDefault(),(0,Fy.yth)(e),this.eFocusableComp.getFocusableElement().focus())}},focusin:()=>{this.focusWrapper.classList.add(e)},focusout:t=>{this.focusWrapper.contains(t.relatedTarget)||this.focusWrapper.classList.remove(e)}})}};function vS(e,t){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:e("advancedFilterBuilderAddCondition")},{key:"join",displayValue:e("advancedFilterBuilderAddJoin")}],valueFormatter:e=>null==e?"":e.displayValue??e.key,pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:`${t??120}px`,wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:e("advancedFilterBuilderAddButtonTooltip")}}var yS={tag:"div",cls:"ag-advanced-filter-builder-item-wrapper",role:"presentation",children:[{tag:"div",ref:"eItem",cls:"ag-advanced-filter-builder-item",role:"presentation",children:[{tag:"div",cls:"ag-advanced-filter-builder-item-tree-lines",attrs:{"aria-hidden":"true"},children:[{tag:"div",cls:"ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"}]}]}]},CS=class extends Fy.wA2{constructor(e,t){super(yS),this.item=e,this.focusWrapper=t,this.eItem=Fy.CUI}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc,this.registry=e.registry}postConstruct(){(0,Fy.icB)(this.focusWrapper,2);const e=vS((e=>this.advFilterExpSvc.translate(e)),this.gos.get("advancedFilterBuilderParams")?.addSelectWidth),t=this.createManagedBean(new bS(e));this.addManagedListeners(t,{fieldPickerValueSelected:({value:e})=>{this.dispatchLocalEvent({type:"advancedFilterBuilderAdded",item:this.item,isJoin:"join"===e.key})}}),this.eItem.appendChild(t.getGui()),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>t.getGui(),getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip")})),this.createManagedBean(new fS(this.getGui(),this.focusWrapper,t)),(0,Fy.xER)(this.focusWrapper,this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItem",[this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip"),`${this.item.level+1}`]))}afterAdd(){}},kS=class extends Fy.wA2{constructor(){super({tag:"div",cls:"ag-advanced-filter-builder-item-condition",role:"presentation"}),this.validationMessage=null}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc}init(e){const{item:t,createPill:i}=e;this.item=t,this.createPill=i,this.filterModel=t.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc((()=>this.destroyBeans([this.eColumnPill,this.eOperatorPill,this.eOperandPill])))}getDragName(){return this.filterModel.colId?this.advFilterExpSvc.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()}getAriaLabel(){return`${this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderFilterItem")} ${this.getDragName()}`}getValidationMessage(){return this.validationMessage}getFocusableElement(){return this.eColumnPill.getFocusableElement()}setupColumnCondition(e){const t=this.advFilterExpSvc.getColumnDetails(e.colId);this.baseCellDataType=t.baseCellDataType,this.column=t.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:this.getColumnDisplayValue()??this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:()=>({values:this.advFilterExpSvc.getColumnAutocompleteEntries()}),update:e=>this.setColumnKey(e),pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),(0,Fy.fTC)(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())}createOperatorPill(){this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:this.getOperatorDisplayValue()??this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:()=>({values:this.getOperatorAutocompleteEntries()}),update:e=>this.setOperatorKey(e),pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())}createOperandPill(){const{filter:e}=this.filterModel,t=("number"==typeof e?(0,Fy.fGY)(e):e)??"";this.eOperandPill=this.createPill({key:t,valueFormatter:e=>this.advFilterExpSvc.getOperandDisplayValue({...this.filterModel,filter:e},!0),baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:e=>this.setOperand(e),ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())}getColumnKey(){return this.filterModel.colId}getColumnDisplayValue(){return this.advFilterExpSvc.getColumnDisplayValue(this.filterModel)}getOperatorKey(){return this.filterModel.type}getOperatorDisplayValue(){return this.advFilterExpSvc.getOperatorDisplayValue(this.filterModel)}getOperandDisplayValue(){return this.advFilterExpSvc.getOperandDisplayValue(this.filterModel,!0)}hasOperand(){return this.numOperands>0}getOperatorAutocompleteEntries(){return this.column?this.advFilterExpSvc.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]}setColumnKey(e){this.eOperatorPill||this.createOperatorPill();const t=this.advFilterExpSvc.getColumnDetails(e);this.column=t.column;const i=t.baseCellDataType;this.baseCellDataType!==i&&(this.baseCellDataType=i,this.setOperatorKey(void 0),this.eOperatorPill&&((0,Fy.taW)(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=e,this.filterModel.filterType=this.baseCellDataType}setOperatorKey(e){const t=this.getNumOperands(e);t!==this.numOperands&&(this.numOperands=t,0===t?this.destroyOperandPill():(this.createOperandPill(),"number"!==this.baseCellDataType&&this.setOperand(""))),this.filterModel.type=e,this.validate()}setOperand(e){let t=e;"number"===this.baseCellDataType&&(t=(0,Fy.fTC)(e)?Number(e):""),this.filterModel.filter=t,this.validate()}getNumOperands(e){return this.advFilterExpSvc.getExpressionOperator(this.baseCellDataType,e)?.numOperands??0}destroyOperandPill(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0}validate(){let e=null;(0,Fy.fTC)(this.getColumnKey())?(0,Fy.fTC)(this.getOperatorKey())?this.numOperands>0&&!(0,Fy.fTC)(this.getOperandDisplayValue())&&(e=this.advFilterExpSvc.translate("advancedFilterBuilderValidationEnterValue")):e=this.advFilterExpSvc.translate("advancedFilterBuilderValidationSelectOption"):e=this.advFilterExpSvc.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!e,e!==this.validationMessage&&(this.validationMessage=e,this.dispatchLocalEvent({type:"advancedFilterBuilderValidChanged"}))}getDefaultColumnDisplayValue(){return this.advFilterExpSvc.translate("advancedFilterBuilderSelectColumn")}getDefaultOptionSelectValue(){return this.advFilterExpSvc.translate("advancedFilterBuilderSelectOption")}},wS={tag:"div",cls:"ag-advanced-filter-builder-pill-wrapper",role:"presentation",children:[{tag:"div",ref:"ePill",cls:"ag-advanced-filter-builder-pill",role:"button",children:[{tag:"span",ref:"eLabel",cls:"ag-advanced-filter-builder-pill-display"}]}]},SS=class extends Fy.wA2{constructor(e){super(wS),this.params=e,this.ePill=Fy.CUI,this.eLabel=Fy.CUI;const{value:t,valueFormatter:i}=e;this.value=t,this.displayValue=i(t)}wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc}postConstruct(){const{cssClass:e,ariaLabel:t}=this.params;this.ePill.classList.add(e),this.activateTabIndex([this.ePill]),this.eLabel.id=`${this.getCompId()}`,(0,Fy.ucE)(this.ePill,this.eLabel.id),(0,Fy.xER)(this.ePill,t),this.renderValue(),this.addManagedListeners(this.ePill,{click:e=>{e.preventDefault(),this.showEditor()},keydown:e=>{e.key===Fy.KeyCode.ENTER&&(e.preventDefault(),(0,Fy.yth)(e),this.showEditor())}}),this.addDestroyFunc((()=>this.destroyBean(this.eEditor)))}getFocusableElement(){return this.ePill}showEditor(){if(this.eEditor)return;(0,Fy.DIH)(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);const e=this.eEditor.getGui();this.eEditor.addManagedElementListeners(e,{keydown:e=>{switch(e.key){case Fy.KeyCode.ENTER:e.preventDefault(),(0,Fy.yth)(e),this.updateValue(!0);break;case Fy.KeyCode.ESCAPE:e.preventDefault(),(0,Fy.yth)(e),this.hideEditor(!0)}},focusout:()=>this.updateValue(!1)}),this.getGui().appendChild(e),this.eEditor.getFocusableElement().focus()}createEditorComp(e){let t;switch(e){case"text":t=new Fy.INo;break;case"number":t=new Fy.QKF;break;case"date":t=new Fy.KTj}return this.createBean(t)}hideEditor(e){const{eEditor:t}=this;t&&(this.eEditor=void 0,this.getGui().removeChild(t.getGui()),this.destroyBean(t),(0,Fy.DIH)(this.ePill,!0),e&&this.ePill.focus())}renderValue(){let e;const{displayValue:t,eLabel:i}=this,{classList:r}=i;r.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),(0,Fy.fTC)(t)?"number"===this.params.type?(e=t,r.add("ag-advanced-filter-builder-value-number")):(e=`"${t}"`,r.add("ag-advanced-filter-builder-value-text")):(e=this.advFilterExpSvc.translate("advancedFilterBuilderEnterValue"),r.add("ag-advanced-filter-builder-value-empty")),i.textContent=e}updateValue(e){if(!this.eEditor)return;const t=this.eEditor.getValue()??"";this.dispatchLocalEvent({type:"fieldValueChanged",value:t}),this.value=t,this.displayValue=this.params.valueFormatter(t),this.renderValue(),this.hideEditor(e)}},xS=class extends Fy.wA2{wireBeans(e){this.advFilterExpSvc=e.advFilterExpSvc}constructor(){super({tag:"div",cls:"ag-advanced-filter-builder-item-condition",role:"presentation"})}init(e){const{item:t,createPill:i}=e,r=t.filterModel;this.filterModel=r,this.ePill=i({key:r.type,displayValue:this.advFilterExpSvc.parseJoinOperator(r),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:()=>({values:this.advFilterExpSvc.getJoinOperatorAutocompleteEntries()}),update:e=>r.type=e,pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc((()=>this.destroyBean(this.ePill)))}getDragName(){return this.advFilterExpSvc.parseJoinOperator(this.filterModel)}getAriaLabel(){return`${this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderGroupItem")} ${this.getDragName()}`}getValidationMessage(){return null}getFocusableElement(){return this.ePill.getFocusableElement()}},_S={tag:"div",cls:"ag-picker-field ag-advanced-filter-builder-pill-wrapper",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display ag-advanced-filter-builder-pill-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},ES=class extends hS{constructor(e){super({...e,template:_S,agComponents:[Fy.jvp]}),this.params=e}getFocusableElement(){return this.eWrapper}showPicker(){setTimeout((()=>super.showPicker()))}hidePicker(){setTimeout((()=>super.hidePicker()))}postConstruct(){super.postConstruct();const{wrapperClassName:e,ariaLabel:t}=this.params;this.eWrapper.classList.add(e),(0,Fy._IQ)(this.eWrapper,""),(0,Fy.xER)(this.eWrapper,t)}createPickerComponent(){if(!this.values){const{values:e}=this.params.getEditorParams();this.values=e;const t=this.value.key,i=e.find((e=>e.key===t))??{key:t,displayValue:this.value.displayValue};this.value=i}return super.createPickerComponent()}onEnterKeyDown(e){(0,Fy.yth)(e),this.isPickerDisplayed?super.onEnterKeyDown(e):(e.preventDefault(),this.showPicker())}},MS={tag:"div",cls:"ag-advanced-filter-builder-item-wrapper",role:"presentation",children:[{tag:"div",cls:"ag-advanced-filter-builder-item",role:"presentation",children:[{tag:"div",ref:"eTreeLines",cls:"ag-advanced-filter-builder-item-tree-lines",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eValidation",cls:"ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid",attrs:{"aria-hidden":"true"}}]},{tag:"div",ref:"eButtons",cls:"ag-advanced-filter-builder-item-buttons",children:[{tag:"span",ref:"eMoveUpButton",cls:"ag-advanced-filter-builder-item-button",role:"button"},{tag:"span",ref:"eMoveDownButton",cls:"ag-advanced-filter-builder-item-button",role:"button"},{tag:"div",ref:"eAddButton",role:"presentation"},{tag:"span",ref:"eRemoveButton",cls:"ag-advanced-filter-builder-item-button",role:"button"}]}]},TS=class extends Fy.BxR{constructor(e,t,i){super(MS),this.item=e,this.dragFeature=t,this.focusWrapper=i,this.eTreeLines=Fy.CUI,this.eDragHandle=Fy.CUI,this.eButtons=Fy.CUI,this.eValidation=Fy.CUI,this.eMoveUpButton=Fy.CUI,this.eMoveDownButton=Fy.CUI,this.eAddButton=Fy.CUI,this.eRemoveButton=Fy.CUI,this.moveUpDisabled=!1,this.moveDownDisabled=!1}wireBeans(e){this.dragAndDrop=e.dragAndDrop,this.advFilterExpSvc=e.advFilterExpSvc,this.registry=e.registry}postConstruct(){const{filterModel:e,level:t,showMove:i}=this.item,r="join"===e.filterType;if(this.ePillWrapper=this.createManagedBean(r?new xS:new kS),this.ePillWrapper.init({item:this.item,createPill:e=>this.createPill(e)}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),0===t){const e=(0,Fy.Xye)({tag:"div",cls:"ag-advanced-filter-builder-item-tree-line-vertical-bottom ag-advanced-filter-builder-item-tree-line-root"});this.eTreeLines.appendChild(e),(0,Fy.DIH)(this.eDragHandle,!1),(0,Fy.DIH)(this.eButtons,!1),(0,Fy.mmg)(this.focusWrapper,!0)}else this.setupTreeLines(t),this.eDragHandle.appendChild((0,Fy.scM)("advancedFilterBuilderDrag",this.beans)),this.setupValidation(),this.setupMoveButtons(i),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();(0,Fy.icB)(this.focusWrapper,t+1),this.initialiseTabGuard({}),this.createManagedBean(new fS(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListeners(this.ePillWrapper,{advancedFilterBuilderValueChanged:()=>this.dispatchLocalEvent({type:"advancedFilterBuilderValueChanged"}),advancedFilterBuilderValidChanged:()=>this.updateValidity()})}setState(e){const{level:t}=this.item;if(0===t)return;const{showMove:i}=this.item,{disableMoveUp:r,disableMoveDown:s,treeLines:a,showStartTreeLine:o}=e;this.updateTreeLines(a,o),this.updateAriaExpanded(),i&&(this.moveUpDisabled=!!r,this.moveDownDisabled=!!s,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",r),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",s),(0,Fy.Key)(this.eMoveUpButton,!!r),(0,Fy.Key)(this.eMoveDownButton,!!s),this.moveUpTooltipFeature?.refreshTooltip(),this.moveDownTooltipFeature?.refreshTooltip())}focusMoveButton(e){(e?this.eMoveUpButton:this.eMoveDownButton).focus()}afterAdd(){this.ePillWrapper.getFocusableElement().focus()}setupTreeLines(e){for(let t=0;t<e;t++)this.eTreeLines.appendChild((0,Fy.Xye)({tag:"div"}))}updateTreeLines(e,t){const i=e.length-1,{children:r}=this.eTreeLines;for(let t=0;t<i;t++){const i=r.item(t);i&&i.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!e[t])}const s=r.item(i);if(s){s.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");const t=e[i];s.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",t),s.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!t)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",t)}setupValidation(){this.eValidation.appendChild((0,Fy.scM)("advancedFilterBuilderInvalid",this.beans)),this.validationTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eValidation,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.ePillWrapper.getValidationMessage(),getTooltipShowDelayOverride:()=>1e3})),this.updateValidity()}setupAddButton(){const e=vS((e=>this.advFilterExpSvc.translate(e)),this.gos.get("advancedFilterBuilderParams")?.addSelectWidth),t=this.createManagedBean(new bS(e));this.addManagedListeners(t,{fieldPickerValueSelected:({value:e})=>this.dispatchLocalEvent({type:"advancedFilterBuilderAdded",item:this.item,isJoin:"join"===e.key})}),this.eAddButton.appendChild(t.getGui()),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eAddButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip")}))}setupRemoveButton(){this.eRemoveButton.appendChild((0,Fy.scM)("advancedFilterBuilderRemove",this.beans)),this.addManagedListeners(this.eRemoveButton,{click:()=>this.removeItem(),keydown:e=>{e.key===Fy.KeyCode.ENTER&&(e.preventDefault(),(0,Fy.yth)(e),this.removeItem())}}),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eRemoveButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderRemoveButtonTooltip")})),(0,Fy.xER)(this.eRemoveButton,this.advFilterExpSvc.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])}setupMoveButtons(e){e?(this.eMoveUpButton.appendChild((0,Fy.scM)("advancedFilterBuilderMoveUp",this.beans)),this.addManagedListeners(this.eMoveUpButton,{click:()=>this.moveItem(!0),keydown:e=>{e.key===Fy.KeyCode.ENTER&&(e.preventDefault(),(0,Fy.yth)(e),this.moveItem(!0))}}),this.moveUpTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eMoveUpButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.moveUpDisabled?null:this.advFilterExpSvc.translate("advancedFilterBuilderMoveUpButtonTooltip")})),(0,Fy.xER)(this.eMoveUpButton,this.advFilterExpSvc.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild((0,Fy.scM)("advancedFilterBuilderMoveDown",this.beans)),this.addManagedListeners(this.eMoveDownButton,{click:()=>this.moveItem(!1),keydown:e=>{e.key===Fy.KeyCode.ENTER&&(e.preventDefault(),(0,Fy.yth)(e),this.moveItem(!1))}}),this.moveDownTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eMoveDownButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.moveDownDisabled?null:this.advFilterExpSvc.translate("advancedFilterBuilderMoveDownButtonTooltip")})),(0,Fy.xER)(this.eMoveDownButton,this.advFilterExpSvc.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):((0,Fy.DIH)(this.eMoveUpButton,!1),(0,Fy.DIH)(this.eMoveDownButton,!1))}updateValidity(){(0,Fy.KnI)(this.eValidation,!this.item.valid),this.validationTooltipFeature?.refreshTooltip(),this.updateAriaLabel()}createPill(e){const{key:t,cssClass:i,update:r,ariaLabel:s}=e,a=e=>{null!=e&&(r(e),this.dispatchLocalEvent({type:"advancedFilterBuilderValueChanged"}))};if(e.isSelect){const{getEditorParams:r,pickerAriaLabelKey:o,pickerAriaLabelValue:n,displayValue:l}=e,c=this.gos.get("advancedFilterBuilderParams"),d=`${c?.pillSelectMinWidth??140}px`,u=`${c?.pillSelectMaxWidth??200}px`,p=this.createBean(new ES({pickerAriaLabelKey:o,pickerAriaLabelValue:n,pickerType:"ag-list",value:{key:t,displayValue:l},valueFormatter:e=>null==e?"":e.displayValue??e.key,variableWidth:!0,minPickerWidth:d,maxPickerWidth:u,getEditorParams:r,wrapperClassName:i,ariaLabel:s,pickerIcon:"advancedFilterBuilderSelectOpen"}));return this.addManagedListeners(p,{fieldPickerValueSelected:({value:e})=>a(e?.key)}),p}{const{baseCellDataType:r,valueFormatter:o}=e,n=this.createBean(new SS({value:t,valueFormatter:o,cssClass:i,type:this.getInputType(r),ariaLabel:s}));return this.addManagedListeners(n,{fieldValueChanged:({value:e})=>a(e)}),n}}getInputType(e){switch(e){case"text":case"object":case"boolean":return"text";case"number":return"number";case"date":case"dateString":return"date"}}setupDragging(){const e={type:Fy.rvo.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:()=>this.ePillWrapper.getDragName(),getDefaultIconName:()=>"notAllowed",getDragItem:()=>({}),onDragStarted:()=>this.dragFeature.dispatchLocalEvent({type:"advancedFilterBuilderDragStarted",item:this.item}),onDragStopped:()=>this.dragFeature.dispatchLocalEvent({type:"advancedFilterBuilderDragEnded"})};this.dragAndDrop.addDragSource(e,!0),this.addDestroyFunc((()=>this.dragAndDrop.removeDragSource(e)))}updateAriaLabel(){const e=this.ePillWrapper.getAriaLabel(),t=`${this.item.level+1}`,i=this.ePillWrapper.getValidationMessage();let r;r=i?this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItemValidation",[e,t,i]):this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItem",[e,t]),(0,Fy.xER)(this.focusWrapper,r)}updateAriaExpanded(){(0,Fy.LRm)(this.focusWrapper);const{filterModel:e}=this.item;"join"===e?.filterType&&e.conditions.length&&(0,Fy.mmg)(this.focusWrapper,!0)}removeItem(){this.dispatchLocalEvent({type:"advancedFilterBuilderRemoved",item:this.item})}moveItem(e){this.dispatchLocalEvent({type:"advancedFilterBuilderMoved",item:this.item,backwards:e})}},PS={tag:"div",cls:"ag-advanced-filter-builder",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eList",cls:"ag-advanced-filter-builder-list",role:"presentation"},{tag:"div",cls:"ag-advanced-filter-builder-button-panel",role:"presentation",children:[{tag:"button",ref:"eApplyFilterButton",cls:"ag-button ag-standard-button ag-advanced-filter-builder-apply-button"},{tag:"button",ref:"eCancelFilterButton",cls:"ag-button ag-standard-button ag-advanced-filter-builder-cancel-button"}]}]},AS=class extends Fy.wA2{constructor(){super(PS),this.eList=Fy.CUI,this.eApplyFilterButton=Fy.CUI,this.eCancelFilterButton=Fy.CUI,this.validationMessage=null}wireBeans(e){this.filterManager=e.filterManager,this.advancedFilter=e.advancedFilter,this.advFilterExpSvc=e.advFilterExpSvc,this.registry=e.registry}postConstruct(){const{showMoveButtons:e}=this.gos.get("advancedFilterBuilderParams")??{};this.showMove=!!e,this.addManagedPropertyListener("advancedFilterBuilderParams",(({currentValue:e})=>{this.showMove=!!e?.showMoveButtons,this.refreshList(!1)})),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new iS(this,this.virtualList)),this.setupButtons()}refresh(){const e=this.virtualList;let t=e.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),null!=t&&(e.getComponentAt(t)||(t=0),e.focusRow(t))}getNumItems(){return this.items.length}moveItem(e,t){t&&e&&this.moveItemToIndex(e,t.rowIndex,t.position)}afterGuiAttached(){this.virtualList.awaitStable((()=>this.virtualList.focusRow(0)))}setupVirtualList(){const e=this.virtualList=this.createManagedBean(new Hw({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderList"),moveItemCallback:this.virtualListMoveItemCallback.bind(this)}));e.setComponentCreator(this.createItemComponent.bind(this)),e.setComponentUpdater(this.updateItemComponent.bind(this)),e.setRowHeight(40),this.eList.appendChild(e.getGui()),e.setModel({getRowCount:()=>this.items?.length||0,getRow:e=>this.items[e],areRowsEqual:(e,t)=>e===t}),this.buildList(),e.refresh()}setupButtons(){this.eApplyFilterButton.textContent=this.advFilterExpSvc.translate("advancedFilterBuilderApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedElementListeners(this.eApplyFilterButton,{click:()=>{this.advancedFilter.setModel(this.filterModel),this.filterManager?.onFilterChanged({source:"advancedFilter"}),this.close()}}),this.validationTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApplyFilterButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.validationMessage,getTooltipShowDelayOverride:()=>1e3})),this.validate();const e=e=>this.toggleCss("ag-advanced-filter-builder-validation",e);this.addManagedListeners(this.eApplyFilterButton,{mouseenter:()=>e(!0),mouseleave:()=>e(!1)}),this.eCancelFilterButton.textContent=this.advFilterExpSvc.translate("advancedFilterBuilderCancel"),this.activateTabIndex([this.eCancelFilterButton]),this.addManagedElementListeners(this.eCancelFilterButton,{click:()=>this.close()})}removeItemFromParent(e){const t=e.parent.conditions.indexOf(e.filterModel);return e.parent.conditions.splice(t,1),t}moveItemToIndex(e,t,i){const r=this.items[t],s="join"===r.filterModel?.filterType&&"bottom"===i,a=s?r.filterModel:r.parent;if(!a)return;if(this.isChildOrSelf(a,e.filterModel)||r===e)return;let o;this.removeItemFromParent(e),s?o=0:(o=a.conditions.indexOf(r.filterModel),-1===o?o=a.conditions.length:"bottom"===i&&(o+=1)),a.conditions.splice(o,0,e.filterModel),this.refreshList(!1)}isChildOrSelf(e,t){return e===t||"join"===t.filterType&&t.conditions.some((t=>this.isChildOrSelf(e,t)))}setupFilterModel(){const e=this.formatFilterModel(this.advancedFilter.getModel());return this.stringifiedModel=JSON.stringify(e),e}formatFilterModel(e){return"join"!==(e=e??{filterType:"join",type:"AND",conditions:[]}).filterType&&(e={filterType:"join",type:"AND",conditions:[e]}),e}buildList(){const e=(t,i,r,s)=>{i.push({filterModel:t,level:r,parent:s,valid:!0,showMove:this.showMove}),"join"===t.filterType&&(t.conditions.forEach((s=>e(s,i,r+1,t))),0===r&&i.push({filterModel:null,level:r+1,parent:t,valid:!0}))};this.items=[],e(this.filterModel,this.items,0)}refreshList(e){if(!e){const e=[];this.items.forEach((t=>{t.valid||e.push(t.filterModel)})),this.buildList(),e.length&&this.items.forEach((t=>{t.filterModel&&e.includes(t.filterModel)&&(t.valid=!1)}))}this.virtualList.refresh(e),this.validate()}updateItemComponent(e,t){const i=this.items.indexOf(e),r=(e,t)=>{const i=this.items.find((t=>t.filterModel===e)),s=i?.parent;if(s){const{conditions:i}=s;r(s,t),t.push(i[i.length-1]===e)}},s=[],{filterModel:a}=e;a&&(r(a,s),s[0]=!1);const o="join"===a?.filterType&&!!a.conditions.length;t.setState({disableMoveUp:1===i,disableMoveDown:!this.canMoveDown(e,i),treeLines:s,showStartTreeLine:o})}createItemComponent(e,t){const i=this.createBean(e.filterModel?new TS(e,this.dragFeature,t):new CS(e,t));return i.addManagedListeners(i,{advancedFilterBuilderRemoved:({item:e})=>this.removeItem(e),advancedFilterBuilderValueChanged:()=>this.validate(),advancedFilterBuilderAdded:({item:e,isJoin:t})=>this.addItem(e,t),advancedFilterBuilderMoved:({item:e,backwards:t})=>this.moveItemUpDown(e,t)}),i instanceof TS&&this.updateItemComponent(e,i),i}addItem(e,t){const{parent:i,level:r,filterModel:s}=e,a="join"===s?.filterType,o=t?{filterType:"join",type:"AND",conditions:[]}:{},n=a?s:i;let l=a?0:n.conditions.indexOf(s);l>=0?(a||(l+=1),n.conditions.splice(l,0,o)):n.conditions.push(o);let c=this.items.indexOf(e);const d=c>=0;if(d){e.filterModel&&c++;const i=[{filterModel:o,level:a?r+1:r,parent:n,valid:t,showMove:this.showMove}];this.items.splice(c,0,...i)}this.refreshList(d),d&&this.virtualList.getComponentAt(c)?.afterAdd()}removeItem(e){const t=e.parent,{filterModel:i}=e,r=t.conditions.indexOf(i);t.conditions.splice(r,1);const s="join"===e.filterModel?.filterType,a=this.items.indexOf(e),o=!s&&a>=0;o&&this.items.splice(a,1),this.refreshList(o),a>=0&&this.virtualList.focusRow(a)}moveItemUpDown(e,t,i){const r=this.items.indexOf(e),s=t?r-1:r+1;if(0===s||!t&&!this.canMoveDown(e,r))return;const a=this.items[s],o=this.removeItemFromParent(e),{level:n,filterModel:l,parent:c}=e,{level:d,filterModel:u,parent:p}=a;if(t)if(d===n&&"join"===u.filterType)u.conditions.push(l);else if(d<=n){const e=p.conditions.indexOf(u);p.conditions.splice(e,0,l)}else c.conditions[o-1].conditions.push(l);else if(d===n)if("join"===u.filterType)u.conditions.splice(0,0,l);else{const e=p.conditions.indexOf(u);p.conditions.splice(e+1,0,l)}else if(o<c.conditions.length)c.conditions.splice(o+1,0,l);else{const e=this.items.find((e=>e.filterModel===c)),t=e.parent.conditions.indexOf(e.filterModel)+1;e.parent.conditions.splice(t,0,l)}this.refreshList(!1);const h=this.items.findIndex((({filterModel:e})=>e===l));if(h<0)return;const m=this.virtualList.getComponentAt(h);m instanceof TS&&(i||m.focusMoveButton(t))}virtualListMoveItemCallback(e,t){const i=e.item,r=this.items.indexOf(i);r<=0||r===this.items.length-1||t&&1===r||!t&&!this.canMoveDown(i,r)||(this.moveItemUpDown(i,t,!0),this.virtualList.focusRow(r+(t?-1:1)))}canMoveDown(e,t){return!(1===e.level&&t===this.items.length-2||1===e.level&&e.parent.conditions[e.parent.conditions.length-1]===e.filterModel)}close(){this.advancedFilter.getCtrl().toggleFilterBuilder({source:"ui"})}validate(){let e=!this.items.every((({valid:e})=>e));e?this.validationMessage=this.advFilterExpSvc.translate("advancedFilterBuilderValidationIncomplete"):(e=JSON.stringify(this.filterModel)===this.stringifiedModel,this.validationMessage=e?this.advFilterExpSvc.translate("advancedFilterBuilderValidationAlreadyApplied"):null),(0,Fy.S5w)(this.eApplyFilterButton,e),this.validationTooltipFeature?.refreshTooltip()}validateItems(){const e=e=>{e.type=void 0},t=e=>{delete e.filter};this.items.forEach((i=>{if(!i.valid||!i.filterModel||"join"===i.filterModel.filterType)return;const{filterModel:r}=i,{colId:s}=r,a=this.advFilterExpSvc.getColumnAutocompleteEntries().find((({key:e})=>e===s)),o=this.advFilterExpSvc.getColumnDetails(r.colId);if(!a||!o.column)return i.valid=!1,r.colId=void 0,e(r),void t(r);const n=this.advFilterExpSvc.getDataTypeExpressionOperator(o.baseCellDataType).operators[r.type];if(!n)return i.valid=!1,e(r),void t(r);n.numOperands>0&&!(0,Fy.fTC)(r.filter)&&(i.valid=!1)}))}},DS=class extends Fy.AS9{constructor(e){super(),this.enabled=e}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.popupSvc=e.popupSvc,this.advFilterExpSvc=e.advFilterExpSvc,this.environment=e.environment}postConstruct(){this.hasAdvancedFilterParent=!!this.gos.get("advancedFilterParent"),this.ctrlsSvc.whenReady(this,(()=>this.setAdvancedFilterComp())),this.addManagedEventListeners({advancedFilterEnabledChanged:({enabled:e})=>this.onEnabledChanged(e)}),this.addManagedPropertyListener("advancedFilterParent",(()=>this.updateComps())),this.addDestroyFunc((()=>{this.destroyAdvancedFilterComp(),this.destroyBean(this.eBuilderComp),this.eBuilderDialog&&this.eBuilderDialog.isAlive()&&this.destroyBean(this.eBuilderDialog)}))}setupHeaderComp(e){this.eHeaderComp&&(this.eHeaderComp?.getGui().remove(),this.destroyBean(this.eHeaderComp)),this.eHeaderComp=this.createManagedBean(new Jw(this.enabled&&!this.hasAdvancedFilterParent)),e.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())}focusHeaderComp(){return!!this.eHeaderComp&&(this.eHeaderComp.getFocusableElement().focus(),!0)}refreshComp(){this.eFilterComp?.refresh(),this.eHeaderComp?.refresh()}refreshBuilderComp(){this.eBuilderComp?.refresh()}getHeaderHeight(){return this.eHeaderComp?.getHeight()??0}setInputDisabled(e){this.eFilterComp?.setInputDisabled(e),this.eHeaderComp?.setInputDisabled(e)}toggleFilterBuilder(e){const{source:t,force:i,eventSource:r}=e;if(i&&this.eBuilderDialog||!1===i&&!this.eBuilderDialog)return;if(this.eBuilderDialog)return this.builderDestroySource=t,void this.destroyBean(this.eBuilderDialog);this.setInputDisabled(!0);const{width:s,height:a,minWidth:o}=this.getBuilderDialogSize();this.eBuilderComp=this.createBean(new AS),this.eBuilderDialog=this.createBean(new Uw({title:this.advFilterExpSvc.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:s,height:a,resizable:!0,movable:!0,maximizable:!0,centered:!0,closable:!0,minWidth:o,afterGuiAttached:()=>this.eBuilderComp?.afterGuiAttached(),postProcessPopupParams:{type:"advancedFilterBuilder",eventSource:r}})),this.dispatchFilterBuilderVisibleChangedEvent(t,!0),this.eBuilderDialog.addEventListener("destroyed",(()=>{this.destroyBean(this.eBuilderComp),this.eBuilderComp=void 0,this.eBuilderDialog=void 0,this.setInputDisabled(!1),this.dispatchLocalEvent({type:"advancedFilterBuilderClosed"}),this.dispatchFilterBuilderVisibleChangedEvent(this.builderDestroySource??"ui",!1),this.builderDestroySource=void 0}))}dispatchFilterBuilderVisibleChangedEvent(e,t){this.eventSvc.dispatchEvent({type:"advancedFilterBuilderVisibleChanged",source:e,visible:t})}getBuilderDialogSize(){const e=this.gos.get("advancedFilterBuilderParams")?.minWidth??500,t=this.popupSvc.getPopupParent(),i=Math.round((0,Fy.z6m)(t))-2,r=Math.round(.75*(0,Fy.YWV)(t))-2;return{width:Math.min(Math.max(600,e),i),height:Math.min(600,r),minWidth:e}}onEnabledChanged(e){this.enabled=e,this.updateComps()}updateComps(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}setAdvancedFilterComp(){if(this.destroyAdvancedFilterComp(),!this.enabled)return;const e=this.gos.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!e,e){const t=this.createBean(new Qw),i=t.getGui();this.environment.applyThemeClasses(i),i.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),e.appendChild(i),this.eFilterComp=t}}setHeaderCompEnabled(){this.eHeaderComp?.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)}destroyAdvancedFilterComp(){this.eFilterComp&&((0,Fy.taW)(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))}},IS=class{constructor(e){this.params=e,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}parseExpression(e){this.operators.push(""),this.operatorStartPositions.push(e),this.operatorEndPositions.push(void 0);const{expression:t}=this.params;for(;e<t.length;){const i=t[e];if(" "===i){if(this.parseOperator(e-1))return this.activeOperator++,e-1;this.operators[this.activeOperator]+=i}else this.operators[this.activeOperator]+=i;e++}return this.parseOperator(e-1),e}isValid(){return!(this.validationError||this.operators.length&&!this.parsedOperator)}getValidationError(){return this.validationError}getFunction(){return"OR"===this.parsedOperator?"||":"&&"}getModel(){return"OR"===this.parsedOperator?"OR":"AND"}getAutocompleteListParams(e,t){let i;if(null==t)i="";else{const r=this.operators[t],s=this.operatorEndPositions[t];i=_w(r,e,null==s?this.params.expression.length:s+1)}let r=this.params.advFilterExpSvc.getJoinOperatorAutocompleteEntries();return(t||null==t&&this.activeOperator)&&(r=r.filter((({key:e})=>e===this.parsedOperator))),this.params.advFilterExpSvc.generateAutocompleteListParams(r,"join",i)}updateExpression(e,t,i){let{expression:r}=this.params;const s=t.displayValue??t.key;if(0===i)for(let e=this.operatorEndPositions.length-1;e>0;e--){const t=this.operatorEndPositions[e];null!=t&&(r=Ew(r,this.operatorStartPositions[e],t,s).updatedValue)}return Ew(r,this.operatorStartPositions.length>i?this.operatorStartPositions[i]:e,(this.operatorEndPositions.length>i?this.operatorEndPositions[i]:void 0)??Mw(r,e,!0).endPosition,s,!0)}getNumOperators(){return this.operators.length}getLastOperatorEndPosition(){return this.operatorEndPositions[this.operatorEndPositions.length-1]}parseOperator(e){const t=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",i=this.params.advFilterExpSvc.getExpressionJoinOperators(),r=Lw(t,i,(e=>e));if(r){this.operatorEndPositions[this.activeOperator]=e;const s=i[r];if(this.activeOperator){if(r!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advFilterExpSvc.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:e-t.length+1,endPosition:e}),!1}else this.parsedOperator=r;return t!==s&&(Tw(this.params,t,s,e),this.operators[this.activeOperator]=s),!0}return null!==r&&(this.validationError||(this.validationError={message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:e-t.length+1,endPosition:e}),!0)}},NS=class e{constructor(e,t){this.params=e,this.startPosition=t,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new IS(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}parseExpression(){let t=this.startPosition;const{expression:i}=this.params;for(;t<i.length;){const r=i[t];if("("!==r||this.expectingOperator){if(")"===r)return this.endPosition=t-1,0===this.startPosition&&(this.extraEndBracket=!0),t;if(" "===r);else if(this.expectingExpression){const e=new Rw(this.params,t);t=e.parseExpression(),this.expressionParsers.push(e),this.expectingExpression=!1,this.expectingOperator=!0}else this.expectingOperator&&(t=this.operatorParser.parseExpression(t),this.expectingOperator=!1,this.expectingExpression=!0)}else{const i=new e(this.params,t+1);t=i.parseExpression(),this.expressionParsers.push(i),this.expectingExpression=!1,this.expectingOperator=!0}t++}return this.startPosition>0&&(this.missingEndBracket=!0),t}isValid(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every((e=>e.isValid()))}getValidationError(){const e=this.operatorParser.getValidationError();for(let t=0;t<this.expressionParsers.length;t++){const i=this.expressionParsers[t].getValidationError();if(i)return e&&e.startPosition<i.startPosition?e:i}if(e)return e;if(this.extraEndBracket)return{message:this.params.advFilterExpSvc.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1};let t;return this.expressionParsers.length===this.operatorParser.getNumOperators()?t="advancedFilterValidationMissingCondition":this.missingEndBracket&&(t="advancedFilterValidationMissingEndBracket"),t?{message:this.params.advFilterExpSvc.translate(t),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null}getFunctionString(e){const t=this.expressionParsers.length>1,i=this.expressionParsers.map((t=>t.getFunctionString(e))).join(` ${this.operatorParser.getFunction()} `);return t?`(${i})`:i}getFunctionParsed(e){const t=this.operatorParser.getFunction(),i=this.expressionParsers.map((t=>t.getFunctionParsed(e))),r="&&"===t?"every":"some";return(e,t,s)=>i[r]((i=>i(e,t,s)))}getAutocompleteListParams(e){if(null!=this.endPosition&&e>this.endPosition+1)return;if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();const t=this.getExpressionParserIndex(e);if(null==t)return"("===this.params.expression[e]?{enabled:!1}:this.getColumnAutocompleteListParams();const i=this.expressionParsers[t].getAutocompleteListParams(e);if(!i){if(t<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(e,t);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){const t=this.operatorParser.getLastOperatorEndPosition();return null==t||e<=t+1?this.operatorParser.getAutocompleteListParams(e,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return")"===this.params.expression[e-1]?{enabled:!1}:this.operatorParser.getAutocompleteListParams(e)}return i}updateExpression(e,t,i){const r=this.params.expression,s=this.getExpressionParserIndex(e);if(null==s){const e="column"===i?this.params.advFilterExpSvc.getColumnValue(t):t.displayValue??t.key;return Ew(r,this.startPosition,this.startPosition,e,!0)}const a=this.expressionParsers[s].updateExpression(e,t,i);return null==a?"column"===i?Ew(r,e,r.length-1,this.params.advFilterExpSvc.getColumnValue(t),!0):null!=this.endPosition&&e>this.endPosition+1?null:this.operatorParser.updateExpression(e,t,s):a}getModel(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map((e=>e.getModel()))}:this.expressionParsers[0].getModel()}getColumnAutocompleteListParams(){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),"column","")}getExpressionParserIndex(e){let t;for(let i=0;i<this.expressionParsers.length&&!(this.expressionParsers[i].startPosition>e);i++)t=i;return t}},RS=class{constructor(e){this.params=e,this.valid=!1}parseExpression(){this.joinExpressionParser=new NS(this.params,0);const e=this.joinExpressionParser.parseExpression();return this.valid=e>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression}isValid(){return this.valid}getValidationMessage(){const e=this.joinExpressionParser.getValidationError();if(!e)return null;const{message:t,startPosition:i,endPosition:r}=e;return i<this.params.expression.length?this.params.advFilterExpSvc.translate("advancedFilterValidationMessage",[t,this.params.expression.slice(i,r+1).trim()]):this.params.advFilterExpSvc.translate("advancedFilterValidationMessageAtEnd",[t])}getFunctionString(){const e=this.createFunctionParams();return{functionString:`return ${this.joinExpressionParser.getFunctionString(e)};`,params:e}}getFunctionParsed(){const e=this.createFunctionParams();return{expressionFunction:this.joinExpressionParser.getFunctionParsed(e),params:e}}getAutocompleteListParams(e){return this.joinExpressionParser.getAutocompleteListParams(e)??{enabled:!1}}updateExpression(e,t,i){return this.joinExpressionParser.updateExpression(e,t,i)}getModel(){return this.isValid()?this.joinExpressionParser.getModel():null}createFunctionParams(){return{operands:[],operators:[],evaluatorParams:[]}}},LS=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="advancedFilter",this.appliedExpression=null,this.expression=null,this.isValid=!0}wireBeans(e){this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.dataTypeSvc=e.dataTypeSvc,this.advFilterExpSvc=e.advFilterExpSvc,this.filterValueSvc=e.filterValueSvc}postConstruct(){this.setEnabled(this.gos.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new DS(this.enabled)),this.expressionProxy={getValue:(e,t)=>{const i=this.colModel.getColDefCol(e);return i?this.filterValueSvc.getValue(i,t):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",(e=>this.setEnabled(!!e.currentValue))),this.addManagedEventListeners({newColumnsLoaded:e=>this.onNewColumnsLoaded(e)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",(()=>this.updateValidity()))}isEnabled(){return this.enabled}isFilterPresent(){return!!this.expressionFunction}doesFilterPass(e){return this.expressionFunction(this.expressionProxy,e,this.expressionParams)}getModel(){const e=this.createExpressionParser(this.appliedExpression);return e?.parseExpression(),e?.getModel()??null}setModel(e){const t=(e,i)=>{if("join"===e.filterType){const r=this.advFilterExpSvc.parseJoinOperator(e),s=e.conditions.map((e=>t(e))).filter((e=>(0,Fy.fTC)(e))).join(` ${r} `);return i||e.conditions.length<=1?s:`(${s})`}return this.advFilterExpSvc.parseColumnFilterModel(e)},i=e?t(e,!0):null;this.setExpressionDisplayValue(i),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()}getExpressionDisplayValue(){return this.expression}setExpressionDisplayValue(e){this.expression=e}isCurrentExpressionApplied(){return this.appliedExpression===this.expression}createExpressionParser(e){return e?new RS({expression:e,colModel:this.colModel,dataTypeSvc:this.dataTypeSvc,valueSvc:this.valueSvc,advFilterExpSvc:this.advFilterExpSvc}):null}getDefaultExpression(e){const t=this.advFilterExpSvc.getColumnValue(e)+" ";return{updatedValue:t,updatedPosition:t.length}}isHeaderActive(){return!this.gos.get("advancedFilterParent")}getCtrl(){return this.ctrl}setEnabled(e,t){const i=this.enabled,r=(0,Fy.qYz)(this.gos)||(0,Fy.jie)(this.gos);e&&!r&&(0,Fy.F5b)(123),this.enabled=e&&r,t||this.enabled===i||this.eventSvc.dispatchEvent({type:"advancedFilterEnabledChanged",enabled:this.enabled})}applyExpression(){const e=this.createExpressionParser(this.expression);e?.parseExpression(),this.applyExpressionFromParser(e)}applyExpressionFromParser(e){if(this.isValid=!e||e.isValid(),!e||!this.isValid)return this.expressionFunction=null,this.expressionParams=null,void(this.appliedExpression=null);const{expressionFunction:t,params:i}=this.getFunction(e);this.expressionFunction=t,this.expressionParams=i,this.appliedExpression=this.expression}getFunction(e){if(this.gos.get("suppressAdvancedFilterEval"))return e.getFunctionParsed();{const{functionString:t,params:i}=e.getFunctionString();return{expressionFunction:new Function("expressionProxy","node","params",t),params:i}}}updateValidity(){this.advFilterExpSvc.resetColumnCaches();const e=this.createExpressionParser(this.expression);e?.parseExpression();const t=(!e||e.isValid())!==this.isValid;return this.applyExpressionFromParser(e),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),t}onNewColumnsLoaded(e){if("gridInitializing"!==e.source||!this.dataTypeSvc?.isPendingInference)return;this.ctrl.setInputDisabled(!0);const[t]=this.addManagedEventListeners({dataTypesInferred:()=>{t?.(),this.ctrl.setInputDisabled(!1)}})}},FS={moduleName:"AdvancedFilter",version:ww,beans:[LS,Vw],icons:{advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",advancedFilterBuilderSelectOpen:"small-down",richSelectRemove:"cancel"},apiFunctions:{getAdvancedFilterModel:function(e){return e.filterManager?.getAdvFilterModel()??null},setAdvancedFilterModel:function(e,t){e.filterManager?.setAdvFilterModel(t)},showAdvancedFilterBuilder:function(e){e.filterManager?.toggleAdvFilterBuilder(!0,"api")},hideAdvancedFilterBuilder:function(e){e.filterManager?.toggleAdvFilterBuilder(!1,"api")}},dependsOn:[Sw,Fy.CKH,Fy.FRw,Fy.BNB,Fy.p9C],css:['.ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}:where(.ag-ltr) .ag-advanced-filter-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;padding:var(--ag-spacing);&:where(:not(:disabled)){cursor:pointer;&:hover{background-color:var(--ag-row-hover-color)}}}:where(.ag-ltr) .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-advanced-filter-builder-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-builder-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}:where(.ag-ltr) .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}:where(.ag-rtl) .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}:where(.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper) .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:"";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:1px solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative}:where(.ag-advanced-filter-builder-pill){.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;:where(.ag-advanced-filter-builder-pill-display){display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);:where(.ag-advanced-filter-builder-item-button){opacity:1}}}.ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color);cursor:default;margin:0 var(--ag-spacing)}:where(.ag-advanced-filter-builder-validation) .ag-advanced-filter-builder-invalid,:where(.ag-advanced-filter-builder-virtual-list-item-highlight) .ag-advanced-filter-builder-item-button:focus-visible{opacity:1}']};function OS(e,t){if(!t)return null;const i=(0,Fy.H$b)(e),r=i.indexOf(t);if(-1===r)return null;let s=-1;for(let e=r-1;e>=0;e--)if(i[e].classList.contains(Fy.zn.TAB_GUARD_TOP)){s=e;break}return s<=0?null:i[s-1]}function BS(e,t){if(!t)return!1;const i=e.querySelectorAll(`.${Fy.LVR}`);if(!i.length)return!1;for(let e=0;e<i.length;e++)if(i[e].contains(t))return!0;return!1}var zS={tag:"div",cls:"ag-side-button",role:"presentation",children:[{tag:"button",ref:"eToggleButton",cls:"ag-button ag-side-button-button",role:"tab",attrs:{type:"button",tabindex:"-1","aria-expanded":"false"},children:[{tag:"div",ref:"eIconWrapper",cls:"ag-side-button-icon-wrapper",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eLabel",cls:"ag-side-button-label"}]}]},VS=class extends Fy.wA2{constructor(e){super(),this.toolPanelDef=e,this.eToggleButton=Fy.CUI,this.eIconWrapper=Fy.CUI,this.eLabel=Fy.CUI}getToolPanelId(){return this.toolPanelDef.id}postConstruct(){this.setTemplate(zS,[]),this.setLabel(),this.setIcon(),this.addManagedElementListeners(this.eToggleButton,{click:this.onButtonPressed.bind(this)}),this.eToggleButton.setAttribute("id",`ag-${this.getCompId()}-button`)}setLabel(){const e=this.toolPanelDef,t=this.getLocaleTextFunc()(e.labelKey,e.labelDefault);this.eLabel.textContent=t}setIcon(){this.eIconWrapper.insertAdjacentElement("afterbegin",(0,Fy.scM)(this.toolPanelDef.iconKey,this.beans))}onButtonPressed(){this.dispatchLocalEvent({type:"toggleButtonClicked"})}setSelected(e){this.toggleCss("ag-selected",e),(0,Fy.mmg)(this.eToggleButton,e)}},GS={tag:"div",cls:"ag-side-buttons",role:"tablist"},US=class extends Fy.wA2{constructor(){super(GS),this.buttonComps=[]}postConstruct(){this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){e.key===Fy.KeyCode.TAB&&e.shiftKey&&((0,Fy.aPr)(this.beans,!0)?e.preventDefault():(0,Fy.yth)(e))}setActiveButton(e){this.buttonComps.forEach((t=>{t.setSelected(e===t.getToolPanelId())}))}addButtonComp(e){const t=this.createBean(new VS(e));return this.buttonComps.push(t),this.appendChild(t),t.addEventListener("toggleButtonClicked",(()=>{this.dispatchLocalEvent({type:"sideBarButtonClicked",toolPanelId:e.id})})),t}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps),(0,Fy.wvc)(this.getGui()),super.destroy()}destroy(){this.clearButtons(),super.destroy()}},HS={selector:"AG-SIDE-BAR-BUTTONS",component:US},WS={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columnsToolPanel",toolPanel:"agColumnsToolPanel"},jS={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filtersToolPanel",toolPanel:"agFiltersToolPanel"},KS={columns:WS,filters:jS};function $S(e){if(e){if(!0===e)return{toolPanels:[WS,jS],defaultToolPanel:"columns"};if("string"==typeof e)return $S([e]);if(Array.isArray(e)){const t=[];if(e.forEach((e=>{const i=KS[e];i?t.push(i):(0,Fy.F5b)(215,{key:e,defaultByKey:KS})})),0===t.length)return;return{toolPanels:t,defaultToolPanel:t[0].id}}return{toolPanels:qS(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}}function qS(e){const t=[];return e?(e.forEach((e=>{let i=null;if("string"==typeof e){const t=KS[e];if(!t)return void(0,Fy.F5b)(215,{key:e,defaultByKey:KS});i=t}else i=e;t.push(i)})),t):t}var YS=class extends Fy.wA2{constructor(){super({tag:"div",cls:"ag-tool-panel-horizontal-resize"}),this.minWidth=100,this.maxWidth=null}postConstruct(){const e=this.beans.horizontalResizeSvc.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.inverted=this.gos.get("enableRtl")}dispatchResizeEvent(e,t,i){this.eventSvc.dispatchEvent({type:"toolPanelSizeChanged",width:i,started:e,ended:t})}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)}onResizeEnd(e){return this.onResizing(e,!0)}onResizing(e,t=!1){const i=this.inverted?-1:1;let r=Math.max(this.minWidth,Math.floor(this.startingWidth-e*i));null!=this.maxWidth&&(r=Math.min(this.maxWidth,r)),this.elementToResize.style.width=`${r}px`,this.dispatchResizeEvent(!1,t,r)}},XS={name:"toolPanel",optionalMethods:["refresh","getState"]},QS={tag:"div",cls:"ag-tool-panel-wrapper",role:"tabpanel"},ZS=class extends Fy.wA2{constructor(){super(QS)}postConstruct(){const e=this.getGui(),t=this.resizeBar=this.createManagedBean(new YS);e.setAttribute("id",`ag-${this.getCompId()}`),t.elementToResize=e,this.appendChild(t)}getToolPanelId(){return this.toolPanelId}setToolPanelDef(e,t){const{id:i,minWidth:r,maxWidth:s,width:a}=e;this.toolPanelId=i,this.width=a;const o=function(e,t,i){return e.getCompDetails(t,XS,void 0,i,!0)}(this.beans.userCompFactory,e,t);if(null==o)return!1;const n=o.newAgStackInstance();this.params=o.params,n.then(this.setToolPanelComponent.bind(this));const l=this.resizeBar;return null!=r&&(l.minWidth=r),null!=s&&(l.maxWidth=s),!0}setToolPanelComponent(e){this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc((()=>{this.destroyBean(e)}));const t=this.width;t&&(this.getGui().style.width=`${t}px`)}getToolPanelInstance(){return this.toolPanelCompInstance}setResizerSizerSide(e){const t="left"===e,i=this.gos.get("enableRtl")?t:!t;this.resizeBar.inverted=i}refresh(){this.toolPanelCompInstance?.refresh(this.params)}},JS={tag:"div",cls:"ag-side-bar ag-unselectable",children:[{tag:"ag-side-bar-buttons",ref:"sideBarButtons"}]},ex=class extends Fy.wA2{constructor(){super(JS,[HS]),this.sideBarButtons=Fy.CUI,this.toolPanelWrappers=[],this.registerCSS('.ag-tool-panel-wrapper{display:flex;overflow:hidden auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-flow:row nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}:where(.ag-ltr) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{right:-3px}:where(.ag-rtl) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-ltr) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-rtl) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{background-color:var(--ag-side-button-bar-background-color);padding-top:var(--ag-side-button-bar-top-padding);position:relative}.ag-side-button{background-color:var(--ag-side-button-background-color);border-bottom:var(--ag-side-button-border);border-top:var(--ag-side-button-border);color:var(--ag-side-button-text-color);margin-top:-1px;position:relative;&:before{background-color:transparent;bottom:0;content:"";display:block;position:absolute;top:0;transition:background-color var(--ag-side-button-selected-underline-transition-duration);width:var(--ag-side-button-selected-underline-width)}&:hover{background-color:var(--ag-side-button-hover-background-color);color:var(--ag-side-button-hover-text-color)}&.ag-selected{background-color:var(--ag-side-button-selected-background-color);border-bottom:var(--ag-side-button-selected-border);border-top:var(--ag-side-button-selected-border);color:var(--ag-side-button-selected-text-color);&:before{background-color:var(--ag-side-button-selected-underline-color)}}}:where(.ag-ltr) .ag-side-button{&:before{left:0}}:where(.ag-rtl) .ag-side-button{&:before{right:0}}.ag-side-button-button{align-items:center;display:flex;flex-direction:column;gap:var(--ag-spacing);position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}:where(.ag-ltr) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding)}:where(.ag-rtl) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding)}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (resolution <= 1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}:where(.ag-ltr) .ag-side-button-label{transform:rotate(.05deg)}:where(.ag-rtl) .ag-side-button-label{transform:rotate(-.05deg)}}:where(.ag-ltr) .ag-side-bar-left,:where(.ag-rtl) .ag-side-bar-right{border-right:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-left:var(--ag-side-panel-border)}}:where(.ag-ltr) .ag-side-bar-right,:where(.ag-rtl) .ag-side-bar-left{border-left:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-right:var(--ag-side-panel-border)}}')}postConstruct(){this.sideBarButtons.addEventListener("sideBarButtonClicked",this.onToolPanelButtonClicked.bind(this));const{beans:e,gos:t}=this,{sideBar:i}=t.get("initialState")??{};this.setSideBarDef({sideBarDef:$S(t.get("sideBar")),sideBarState:i}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),e.sideBar.comp=this;const r=this.getFocusableElement();this.createManagedBean(new Fy.D_6(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),(0,Fy.yeK)(e,this,r)}onTabKeyDown(e){if(e.defaultPrevented)return;const{beans:t,sideBarButtons:i}=this,r=this.getGui(),s=i.getGui(),a=(0,Fy.HB1)(t),o=r.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),n=e.target,l=e.shiftKey;if(!o)return(0,Fy.aPr)(t,l)?(e.preventDefault(),!0):(0,Fy.aPr)(t,l,!0);if(s.contains(a))return void((0,Fy.exX)(o,l)&&e.preventDefault());if(!l)return;let c=null;o.contains(a)?c=(0,Fy.WEX)(t,o,void 0,!0):BS(o,n)&&l&&(c=OS(o,n)),c||(c=s.querySelector(".ag-selected button")),c&&c!==e.target&&(e.preventDefault(),c.focus())}handleKeyDown(e){const t=(0,Fy.HB1)(this.beans),i=this.sideBarButtons;if(!i.getGui().contains(t))return;const r=i.getGui(),s=Array.prototype.slice.call(r.querySelectorAll(".ag-side-button")),a=s.findIndex((e=>e.contains(t)));let o=null;switch(e.key){case Fy.KeyCode.LEFT:case Fy.KeyCode.UP:o=Math.max(0,a-1);break;case Fy.KeyCode.RIGHT:case Fy.KeyCode.DOWN:o=Math.min(a+1,s.length-1)}if(null===o)return;const n=s[o].querySelector("button");n&&(n.focus(),e.preventDefault())}onToolPanelButtonClicked(e){const t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(t,"sideBarButtonClicked")}clearDownUi(){this.sideBarButtons.clearButtons(),this.destroyToolPanelWrappers()}setSideBarDef({sideBarDef:e,sideBarState:t,existingToolPanelWrappers:i}){if(this.setDisplayed(!1),this.sideBar=e,e&&e.toolPanels){const r=e.toolPanels;if(this.createToolPanelsAndSideButtons(r,t,i),!this.toolPanelWrappers.length)return;const s=t?t.visible:!e.hiddenByDefault;if(this.setDisplayed(s),this.setSideBarPosition(t?t.position:e.position),s)if(t){const{openToolPanel:e}=t;e&&this.openToolPanel(e,"sideBarInitializing")}else this.openToolPanel(e.defaultToolPanel,"sideBarInitializing")}}getDef(){return this.sideBar}setSideBarPosition(e){e||(e="right"),this.position=e;const t="left"===e,i=t?"right":"left";return this.toggleCss("ag-side-bar-left",t),this.toggleCss("ag-side-bar-right",!t),this.toolPanelWrappers.forEach((e=>{e.setResizerSizerSide(i)})),this.dispatchSideBarUpdated(),this}setDisplayed(e,t){super.setDisplayed(e,t),this.dispatchSideBarUpdated()}getState(){const e={};return this.toolPanelWrappers.forEach((t=>{e[t.getToolPanelId()]=t.getToolPanelInstance()?.getState?.()})),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}}createToolPanelsAndSideButtons(e,t,i){for(const r of e)this.createToolPanelAndSideButton(r,t?.toolPanels?.[r.id],i?.[r.id])}validateDef(e){return null==e.id?((0,Fy.F5b)(212),!1):"agFiltersToolPanel"!==e.toolPanel||!this.beans.filterManager?.isAdvFilterEnabled()||((0,Fy.F5b)(213),!1)}createToolPanelAndSideButton(e,t,i){if(!this.validateDef(e))return;let r;if(i)r=i;else if(r=this.createBean(new ZS),!r.setToolPanelDef(e,(0,Fy.OHk)(this.gos,{initialState:t,onStateUpdated:()=>this.dispatchSideBarUpdated()})))return;r.setDisplayed(!1);const s=r.getGui();this.appendChild(s),this.toolPanelWrappers.push(r);const a=this.sideBarButtons.addButtonComp(e);(0,Fy.RXA)(a.eToggleButton,s)}refresh(){this.toolPanelWrappers.forEach((e=>e.refresh()))}openToolPanel(e,t="api"){const i=this.openedItem();i!==e&&(this.toolPanelWrappers.forEach((t=>{const i=e===t.getToolPanelId();t.setDisplayed(i)})),i!==this.openedItem()&&(this.sideBarButtons.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,i??void 0,t)))}getToolPanelInstance(e){const t=this.toolPanelWrappers.filter((t=>t.getToolPanelId()===e))[0];if(t)return t.getToolPanelInstance();(0,Fy.F5b)(214,{key:e})}raiseToolPanelVisibleEvent(e,t,i){const r=!!e&&!!t,s=this.eventSvc;t&&s.dispatchEvent({type:"toolPanelVisibleChanged",source:i,key:t,visible:!1,switchingToolPanel:r}),e&&s.dispatchEvent({type:"toolPanelVisibleChanged",source:i,key:e,visible:!0,switchingToolPanel:r})}close(e="api"){this.openToolPanel(void 0,e)}isToolPanelShowing(){return!!this.openedItem()}openedItem(){let e=null;return this.toolPanelWrappers.forEach((t=>{t.isDisplayed()&&(e=t.getToolPanelId())})),e}onSideBarUpdated(){const e=$S(this.gos.get("sideBar")),t={};e&&this.sideBar&&e.toolPanels?.forEach((e=>{const{id:i}=e;if(!i)return;const r=this.sideBar.toolPanels?.find((e=>e.id===i));if(!r||e.toolPanel!==r.toolPanel)return;const s=this.toolPanelWrappers.find((e=>e.getToolPanelId()===i));if(!s)return;const a=(0,Fy.OHk)(this.gos,{...e.toolPanelParams??{},onStateUpdated:()=>this.dispatchSideBarUpdated()}),o=s.getToolPanelInstance()?.refresh(a);!0===o&&(this.toolPanelWrappers=this.toolPanelWrappers.filter((e=>e!==s)),(0,Fy.taW)(s.getGui()),t[i]=s)})),this.clearDownUi(),this.setSideBarDef({sideBarDef:e,existingToolPanelWrappers:t})}dispatchSideBarUpdated(){this.eventSvc.dispatchEvent({type:"sideBarUpdated"})}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach((e=>{(0,Fy.taW)(e.getGui()),this.destroyBean(e)})),this.toolPanelWrappers.length=0}destroy(){this.destroyToolPanelWrappers(),super.destroy()}},tx={selector:"AG-SIDE-BAR",component:ex},ix=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="sideBar"}getSelector(){return tx}},rx={moduleName:"SideBar",version:ww,beans:[ix],apiFunctions:{isSideBarVisible:function(e){return e.sideBar?.comp.isDisplayed()??!1},setSideBarVisible:function(e,t){e.sideBar?.comp.setDisplayed(t)},setSideBarPosition:function(e,t){e.sideBar?.comp.setSideBarPosition(t)},openToolPanel:function(e,t){e.sideBar?.comp.openToolPanel(t,"api")},closeToolPanel:function(e){e.sideBar?.comp.close("api")},getOpenedToolPanel:function(e){return e.sideBar?.comp.openedItem()??null},refreshToolPanel:function(e){e.sideBar?.comp.refresh()},isToolPanelShowing:function(e){return e.sideBar?.comp.isToolPanelShowing()??!1},getToolPanelInstance:function(e,t){const i=e.sideBar?.comp.getToolPanelInstance(t);return(0,Fy.fKg)(i)},getSideBar:function(e){return e.sideBar?.comp.getDef()}},dependsOn:[Sw,Fy.ccW]},sx={tag:"div"},ax=class extends Fy.wA2{constructor(){super(sx)}init(e){this.params=e,this.cssClassPrefix=this.params.cssClassPrefix??"ag-menu-option",this.addAriaAttributes(),this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addAriaAttributes(){const{checked:e,subMenu:t}=this.params,i=this.getGui();e&&(0,Fy.lPr)(i,e),t&&(0,Fy.mmg)(i,!1)}addIcon(){if(this.params.isCompact)return;const e=(0,Fy.Xye)({tag:"span",ref:"eIcon",cls:`${this.getClassName("part")} ${this.getClassName("icon")}`,role:"presentation"}),{checked:t,icon:i}=this.params;t?e.appendChild((0,Fy.scM)("check",this.beans)):i&&((0,Fy.Iul)(i)?e.appendChild(i):"string"==typeof i?e.innerHTML=i:(0,Fy.F5b)(227)),this.getGui().appendChild(e)}addName(){const e=(0,Fy.Xye)({tag:"span",ref:"eName",cls:`${this.getClassName("part")} ${this.getClassName("text")}`,children:this.params.name||""});this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=(0,Fy.Xye)({tag:"span",ref:"eShortcut",cls:`${this.getClassName("part")} ${this.getClassName("shortcut")}`,children:this.params.shortcut||""});this.getGui().appendChild(e)}addSubMenu(){const e=(0,Fy.Xye)({tag:"span",ref:"ePopupPointer",cls:`${this.getClassName("part")} ${this.getClassName("popup-pointer")}`}),t=this.getGui();if(this.params.subMenu){const t=this.gos.get("enableRtl")?"subMenuOpenRtl":"subMenuOpen";e.appendChild((0,Fy.scM)(t,this.beans))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}},ox={moduleName:"MenuItem",version:ww,userComponents:{agMenuItem:ax},icons:{check:"tick",subMenuOpen:"small-right",subMenuOpenRtl:"small-left"},css:['.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option{cursor:pointer;font-weight:500}:where(.ag-ltr) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:right}:where(.ag-rtl) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:left}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-compact-menu-option-icon,:where(.ag-ltr) .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-compact-menu-option-icon,:where(.ag-rtl) .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-compact-menu-option-shortcut,:where(.ag-ltr) .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-shortcut,:where(.ag-rtl) .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}:where(.ag-ltr) .ag-compact-menu-option-popup-pointer,:where(.ag-ltr) .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-popup-pointer,:where(.ag-rtl) .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;:where(.ag-column-select){height:100%}}.ag-menu:where(.ag-tabs){min-width:290px}.ag-context-menu-loading-icon{pointer-events:none;position:absolute}']},nx={tag:"div",cls:"ag-column-select-header",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-column-select-header-icon"},{tag:"ag-checkbox",ref:"eSelect",cls:"ag-column-select-header-checkbox"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-column-select-header-filter-wrapper"}]},lx=class extends Fy.wA2{constructor(){super(nx,[Fy.I$4,Fy.jvp]),this.eExpand=Fy.CUI,this.eSelect=Fy.CUI,this.eFilterTextField=Fy.CUI}postConstruct(){this.createExpandIcons(),this.addManagedListeners(this.eExpand,{click:this.onExpandClicked.bind(this),keydown:e=>{e.key===Fy.KeyCode.SPACE&&(e.preventDefault(),this.onExpandClicked())}}),this.addManagedElementListeners(this.eSelect.getInputElement(),{click:this.onSelectClicked.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",(()=>this.onFunctionsReadOnlyPropChanged())),this.eFilterTextField.setAutoComplete(!1).onValueChange((()=>this.onFilterTextChanged())),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)});const e=this.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle All Columns Visibility")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])}onFunctionsReadOnlyPropChanged(){const e=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.toggleCss("ag-column-select-column-readonly",e)}init(e){this.params=e;const t=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(t),this.eSelect.toggleCss("ag-column-select-column-readonly",t),this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){const e=this.beans;this.eExpand.appendChild(this.eExpandChecked=(0,Fy.scM)("columnSelectOpen",e)),this.eExpand.appendChild(this.eExpandUnchecked=(0,Fy.scM)("columnSelectClosed",e)),this.eExpand.appendChild(this.eExpandIndeterminate=(0,Fy.scM)("columnSelectIndeterminate",e)),this.setExpandState(0)}showOrHideOptions(){const e=this.params,t=!e.suppressColumnFilter,i=!e.suppressColumnSelectAll,r=!e.suppressColumnExpandAll,s=!!this.beans.colModel.colDefCols?.treeDepth,a=this.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search...")),(0,Fy.DIH)(this.eFilterTextField.getGui(),t),(0,Fy.DIH)(this.eSelect.getGui(),i),(0,Fy.DIH)(this.eExpand,r&&s)}onFilterTextChanged(){this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=(0,Fy.eTz)(this,(()=>{const e=this.eFilterTextField.getValue();this.dispatchLocalEvent({type:"filterChanged",filterText:e})}),300)),this.onFilterTextChangedDebounced()}onSelectClicked(){this.dispatchLocalEvent({type:this.selectState?"unselectAll":"selectAll"})}onExpandClicked(){this.dispatchLocalEvent({type:0===this.expandState?"collapseAll":"expandAll"})}setExpandState(e){this.expandState=e,(0,Fy.DIH)(this.eExpandChecked,0===e),(0,Fy.DIH)(this.eExpandUnchecked,1===e),(0,Fy.DIH)(this.eExpandIndeterminate,2===e)}setSelectionState(e){this.selectState=e,this.eSelect.setValue(this.selectState)}},cx={selector:"AG-PRIMARY-COLS-HEADER",component:lx};function dx(e){return!!e&&void 0!==e.children}function ux(e){return dx(e)?e.groupId:e.colId}function px(e,t,i){if(!dx(e))return!0;const r=e,s=i;if(((e,t)=>{const i=e.children.map(ux).includes(ux(t)),r=(0,Fy._O9)(e.children),s=r&&ux(r)!==ux(t);return i&&s})(r,s))return r.children.push(s),!0;if(r.groupId===t&&!r.children.map(ux).includes(ux(s)))return r.children.push(s),!0;for(let e=r.children.length-1;e>=0&&!px(r.children[e],t,i);e--);return!1}function hx(e){const t=(e,i)=>{if(!dx(i))return e;const r=e,s=i;return s.children&&s.groupId&&px(r,s.groupId,s.children[0])||s.children.forEach((e=>t(r,e))),r},i=[];for(let a=1;a<=e.length;a++){const o=e[a-1],n=e[a];s=n,dx(r=o)&&dx(s)&&ux(r)===ux(s)?e[a]=t(o,n):i.push(o)}var r,s;return i}function mx(e,t){const i=[],r=(t,s)=>{if(dx(t)){const e=t,i=void 0!==e.groupId?e.groupId:e.headerName,a=new Fy.gr4(e,i,!1,s),o=[];return e.children.forEach((e=>{const t=r(e,s+1);t&&o.push(t)})),a.setChildren(o),a}{const r=t,s=r.colId?r.colId:r.field,a=e.getColDefCol(s);return a||i.push(r),a}},s=[];return t.forEach((e=>{const t=r(e,0);t&&s.push(t)})),i.length>0&&(0,Fy.F5b)(217,{invalidColIds:i}),s}function gx(e,t){const i=function(e){const t=(e,i)=>{let r;if((0,Fy.pAL)(e))if(e.isPadding())r=i;else{const t=Object.assign({},e.getColGroupDef());t.groupId=e.getGroupId(),t.children=[i],r=t}else{const t=Object.assign({},e.getColDef());t.colId=e.getColId(),r=t}const s=e.getOriginalParent();return s?t(s,r):r};return e.getCols().filter((e=>{const t=e.getColDef();return e.isPrimary()&&!t.showRowGroup})).map((e=>t(e,e.getColDef())))}(e);t(hx(i))}var bx=class{constructor(e,t,i,r=!1,s){this.displayName=e,this.depth=i,this.group=r,this.localEventService=new Fy.MSU,r?(this.columnGroup=t,this._expanded=s,this.children=[]):this.column=t}get expanded(){return!!this._expanded}set expanded(e){e!==this._expanded&&(this._expanded=e,this.localEventService.dispatchEvent({type:"expandedChanged"}))}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};function fx(e,t,i,r){const s=function(e){const t=[],i=e=>{e.forEach((e=>{e.passesFilter&&(e.group?i(e.children):t.push(e.column))}))};return i(e),t}(t);vx(e,s,i,r)}function vx(e,t,i,r){e.colModel.isPivotMode()?function(e,t,i,r){!function(e,t,i,r){const s=[],a=i?t=>{if(!t.isAnyFunctionActive())if(t.isAllowValue()){const i="string"==typeof t.getAggFunc()?t.getAggFunc():e.aggFuncSvc?.getDefaultAggFunc(t);s.push({colId:t.getId(),aggFunc:i})}else t.isAllowRowGroup()?s.push({colId:t.getId(),rowGroup:!0}):t.isAllowPivot()&&s.push({colId:t.getId(),pivot:!0})}:e=>{(e.isPivotActive()||e.isRowGroupActive()||e.isValueActive())&&s.push({colId:e.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};t.forEach(a),s.length>0&&(0,Fy.Kl8)(e,{state:s},r)}(e,t,i,r)}(e,t,i,r):function(e,t,i,r){const s=[];t.forEach((e=>{e.getColDef().lockVisible||e.isVisible()!=i&&s.push({colId:e.getId(),hide:!i})})),s.length>0&&(0,Fy.Kl8)(e,{state:s},r)}(e,t,i,r)}function yx(e,t){const{columns:i,visibleState:r,pivotState:s,eventType:a}=t,o=i.map((t=>{const i=t.getColId();if(e.colModel.isPivotMode()){const e=s?.[i];return{colId:i,pivot:e?.pivot,rowGroup:e?.rowGroup,aggFunc:e?.aggFunc}}return{colId:i,hide:!r?.[i]}}));(0,Fy.Kl8)(e,{state:o},a)}function Cx(e){return{pivot:e.isPivotActive(),rowGroup:e.isRowGroupActive(),aggFunc:e.isValueActive()?e.getAggFunc():void 0}}function kx(e,t,i,r){const s=t.getCol(i);e.groupData||(e.groupData={});const a=s.getColId(),o=e.groupData[a];o!==r&&(e.groupData[a]=r,e.dispatchCellChangedEvent(s,r,o))}function wx(e,t,i){e.group!==i&&(e.group&&!i&&(e.expanded=!1),e.group=i,e.updateHasChildren(),t.selectionSvc?.updateRowSelectable(e),e.dispatchRowEvent("groupChanged"))}function Sx(e,t){const{gos:i,rowGroupColsSvc:r}=t;if(!r||!e)return!1;const s=i.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===s)&&(-1===s||s>r.columns.findIndex((t=>t.getColId()===e.getColId())))}var xx=class extends Fy.BxR{constructor(e){super(),this.setTemplateFromElement(e.getGui(),void 0,void 0,!0)}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===Fy.KeyCode.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout((()=>e.getGui().focus()),0)}},_x={name:"menuItem",optionalMethods:["setActive","select","setExpanded","configureDefaults"]},Ex={tag:"div",cls:"ag-menu",role:"presentation"},Mx=class extends Fy.AS9{constructor(){super(...arguments),this.ACTIVATION_DELAY=80,this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory,this.registry=e.registry}init(e){const{menuItemDef:t,isAnotherSubMenuOpen:i,level:r,childComponent:s,contextParams:a}=e;this.params=e.menuItemDef,this.level=r,this.isAnotherSubMenuOpen=i,this.childComponent=s,this.contextParams=a,this.cssClassPrefix=this.params.menuItemParams?.cssClassPrefix??"ag-menu-option";const o=function(e,t,i){return e.getCompDetails(t,_x,"agMenuItem",i,!0)}(this.userCompFactory,this.params,(0,Fy.OHk)(this.gos,{...t,level:r,isAnotherSubMenuOpen:i,openSubMenu:e=>this.openSubMenu(e),closeSubMenu:()=>this.closeSubMenu(),closeMenu:e=>this.closeMenu(e),updateTooltip:(e,t)=>this.refreshTooltip(e,t),onItemActivated:()=>this.onItemActivated()}));return o?.newAgStackInstance().then((e=>{this.menuItemComp=e;const t=e.configureDefaults?.();t&&this.configureDefaults(!0===t?void 0:t)}))??Fy.j_S.resolve()}addListeners(e,t){t?.suppressClick||this.addManagedElementListeners(e,{click:e=>this.onItemSelected(e)}),t?.suppressKeyboardSelect||this.addManagedElementListeners(e,{keydown:e=>{e.key!==Fy.KeyCode.ENTER&&e.key!==Fy.KeyCode.SPACE||(e.preventDefault(),this.onItemSelected(e))}}),t?.suppressMouseDown||this.addManagedElementListeners(e,{mousedown:e=>{e.stopPropagation(),e.preventDefault()}}),t?.suppressMouseOver||this.addManagedElementListeners(e,{mouseenter:()=>this.onMouseEnter(),mouseleave:()=>this.onMouseLeave()})}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1,t){if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const i=(0,Fy.Xye)(Ex);let r;this.eSubMenuGui=i;let s=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const e=this.createBean(new xx(this.childComponent));e.setParentComponent(this);const t=e.getGui(),a="mouseenter",o=()=>this.cancelDeactivate();t.addEventListener(a,o),r=()=>{t.removeEventListener(a,o),this.destroyBean(e)},i.appendChild(t),this.childComponent.afterGuiAttached&&(s=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const t=this.createBean(new Tx(this.level+1,this.contextParams));t.setParentComponent(this),t.addMenuItems(this.params.subMenu),i.appendChild(t.getGui()),this.addManagedListeners(t,{closeMenu:e=>this.dispatchLocalEvent(e)}),t.addGuiEventListener("mouseenter",(()=>this.cancelDeactivate())),r=()=>this.destroyBean(t),e&&(s=()=>{t.activateFirstItem(),this.subMenuIsOpening=!1})}const{popupSvc:a}=this,o=this.getLocaleTextFunc(),n=a?.addPopup({modal:!0,eChild:i,positionCallback:()=>{const e=this.eGui,{column:r,node:s}=this.contextParams;a?.positionPopupForMenu({eventSource:e,ePopup:i,event:t instanceof MouseEvent?t:void 0,column:r,node:s})},anchorToElement:this.eGui,ariaLabel:o("ariaLabelSubMenu","SubMenu"),afterGuiAttached:s});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{n&&n.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),r(),this.menuItemComp.setExpanded?.(!1),this.eSubMenuGui=void 0},this.menuItemComp.setExpanded?.(!0)}setAriaExpanded(e){this.suppressAria||(0,Fy.mmg)(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e,t){this.cancelActivate(),this.params.disabled&&!t||(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),this.menuItemComp.setActive?.(!0),this.suppressFocus||(0,Fy.zlI)(this.beans,(()=>this.eGui.focus({preventScroll:!t}))),e&&this.params.subMenu&&window.setTimeout((()=>{this.isAlive()&&this.isActive&&this.openSubMenu()}),300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),this.menuItemComp.setActive?.(!1),this.isActive=!1,this.subMenuIsOpen&&this.closeSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){this.menuItemComp.select?.(),this.params.action?this.beans.frameworkOverrides.wrapOutgoing((()=>this.params.action((0,Fy.OHk)(this.gos,{...this.contextParams})))):this.openSubMenu(e&&"keydown"===e.type,e),this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect||this.closeMenu(e)}closeMenu(e){const t={type:"closeMenu"};e&&(e instanceof MouseEvent?t.mouseEvent=e:t.keyboardEvent=e),this.dispatchLocalEvent(t)}onItemActivated(){const e={type:"menuItemActivated",menuItem:this};this.dispatchLocalEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((()=>this.activate(!0)),this.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((()=>this.deactivate()),this.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){if(!this.menuItemComp)return void setTimeout((()=>this.configureDefaults(e)));let t=this.menuItemComp.getGui();const{suppressRootStyles:i,suppressTooltip:r,suppressAria:s,suppressTabIndex:a,suppressFocus:o}=e||{},n=this.menuItemComp.getRootElement?.();n&&(i||t.classList.add("ag-menu-option-custom"),t=n),this.eGui=t,this.suppressRootStyles=!!i,this.suppressRootStyles||(t.classList.add(this.cssClassPrefix),this.params.cssClasses?.forEach((e=>t.classList.add(e))),this.params.disabled&&t.classList.add(`${this.cssClassPrefix}-disabled`)),r||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!s,this.suppressAria||((0,Fy.Znd)(t,"menuitem"),this.params.subMenu&&(0,Fy.VAT)(t,this.params.subMenuRole??"menu"),this.params.disabled&&(0,Fy.Key)(t,!0)),a||t.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(t,e),this.suppressFocus=!!o}refreshTooltip(e,t){if(this.tooltip=e,this.tooltipFeature=this.destroyBean(this.tooltipFeature),!e||!this.menuItemComp)return;const i=this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:t});i&&(this.tooltipFeature=this.createBean(i))}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),this.menuItemComp?.destroy?.(),super.destroy()}},Tx=class extends Fy.BxR{constructor(e=0,t){super({tag:"div",cls:"ag-menu-list",role:"menu"}),this.level=e,this.menuItems=[],this.params=t??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>(0,Fy.zlI)(this.beans,(()=>this.handleKeyDown(e))),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const t=this.getParentComponent(),i=t?.getGui()?.classList.contains("ag-focus-managed");i||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case Fy.KeyCode.UP:case Fy.KeyCode.RIGHT:case Fy.KeyCode.DOWN:case Fy.KeyCode.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Fy.KeyCode.ESCAPE:this.closeIfIsChild()&&(0,Fy.yth)(e)}}handleFocusIn(e){const t=e.relatedTarget;(this.tabGuardFeature.getTabGuardCtrl().isTabGuard(t)||!this.getGui().contains(t)&&!this.activeMenuItem?.getSubMenuGui()?.contains(t))&&(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){const t=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(t)||this.activeMenuItem.getSubMenuGui()?.contains(t)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){null!=e&&Fy.j_S.all(e.map((e=>"separator"===e?Fy.j_S.resolve({eGui:this.createSeparator()}):"string"==typeof e?((0,Fy.F5b)(228,{menuItemOrString:e}),Fy.j_S.resolve({eGui:null})):this.addItem(e)))).then((e=>{(e??[]).forEach((e=>{e?.eGui&&(this.appendChild(e.eGui),e.comp&&this.menuItems.push(e.comp))}))}))}addItem(e){const t=this.createManagedBean(new Mx);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some((e=>e.isSubMenuOpen())),level:this.level,contextParams:this.params}).then((()=>(t.setParentComponent(this),this.addManagedListeners(t,{closeMenu:e=>{this.dispatchLocalEvent(e)},menuItemActivated:e=>{this.activeMenuItem&&this.activeMenuItem!==e.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=e.menuItem}}),{comp:t,eGui:t.getGui()})))}activateFirstItem(){const e=this.menuItems.filter((e=>!e.isDisabled()))[0];e&&e.activate()}createSeparator(){const e={tag:"div",cls:"ag-menu-separator-part"};return(0,Fy.Xye)({tag:"div",cls:"ag-menu-separator",attrs:{"aria-hidden":"true"},children:[e,e,e,e]})}handleNavKey(e){switch(e){case Fy.KeyCode.UP:case Fy.KeyCode.DOWN:{const t=this.findNextItem(e===Fy.KeyCode.UP);return void(t&&t!==this.activeMenuItem&&t.activate(!1,!0))}}e===(this.gos.get("enableRtl")?Fy.KeyCode.RIGHT:Fy.KeyCode.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return!!(t&&t instanceof Mx)&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=[...this.menuItems];if(!t.length)return;if(!this.activeMenuItem)return e?(0,Fy._O9)(t):t[0];let i;e&&t.reverse();let r=!1;for(const e of t){if(r){i=e;break}e===this.activeMenuItem&&(r=!0)}return r&&!i?t[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}},Px=class extends Fy.wA2{constructor(e,t,i){super({tag:"div",cls:"ag-menu"}),this.column=e,this.mouseEvent=t,this.parentEl=i,this.displayName=null}postConstruct(){const{column:e,beans:{colNames:t}}=this;let i;if(this.initializeProperties(e),i=(0,Fy.t3s)(e)?t.getDisplayNameForColumn(e,"columnToolPanel"):t.getDisplayNameForProvidedColumnGroup(null,e,"columnToolPanel"),this.displayName=i,this.buildMenuItemMap(),this.isActive()){this.mouseEvent.preventDefault();const e=this.getMappedMenuItems();if(0===e.length)return;this.displayContextMenu(e)}}initializeProperties(e){let t;t=(0,Fy.pAL)(e)?e.getLeafColumns():[e],this.columns=t;const i=this.beans.colModel.isPivotMode();this.allowScrollIntoView=!i&&t.some(this.isColumnValidForScrollIntoView),this.allowGrouping=t.some((e=>e.isPrimary()&&e.isAllowRowGroup())),this.allowValues=t.some((e=>e.isPrimary()&&e.isAllowValue())),this.allowPivoting=i&&t.some((e=>e.isPrimary()&&e.isAllowPivot()))}buildMenuItemMap(){const e=this.getLocaleTextFunc(),{beans:t,displayName:i}=this,{rowGroupColsSvc:r,valueColsSvc:s,pivotColsSvc:a,colModel:o}=t,n=new Map;this.menuItemMap=n;const l=o.isPivotMode();n.set("scrollIntoView",{allowedFunction:e=>!e.isPinned()&&!l&&this.isColumnValidForScrollIntoView(e),activeFunction:()=>!1,activateLabel:()=>e("scrollColumnIntoView",`Scroll ${i} into View`,[i]),activateFunction:()=>{const e=this.columns.find(this.isColumnValidForScrollIntoView);e&&this.beans.ctrlsSvc.getScrollFeature().ensureColumnVisible(e)},deActivateFunction:()=>{},addIcon:"ensureColumnVisible"}),n.set("rowGroup",{allowedFunction:e=>e.isPrimary()&&e.isAllowRowGroup()&&!Sx(e,t),activeFunction:e=>e.isRowGroupActive(),activateLabel:()=>`${e("groupBy","Group by")} ${i}`,deactivateLabel:()=>`${e("ungroupBy","Un-Group by")} ${i}`,activateFunction:()=>r?.setColumns(this.addColumnsToList(r.columns),"toolPanelUi"),deActivateFunction:()=>r?.setColumns(this.removeColumnsFromList(r.columns),"toolPanelUi"),addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),n.set("value",{allowedFunction:e=>e.isPrimary()&&e.isAllowValue(),activeFunction:e=>e.isValueActive(),activateLabel:()=>e("addToValues",`Add ${i} to values`,[i]),deactivateLabel:()=>e("removeFromValues",`Remove ${i} from values`,[i]),activateFunction:()=>s?.setColumns(this.addColumnsToList(s.columns),"toolPanelUi"),deActivateFunction:()=>s?.setColumns(this.removeColumnsFromList(s.columns),"toolPanelUi"),addIcon:"valuePanel",removeIcon:"valuePanel"}),n.set("pivot",{allowedFunction:e=>l&&e.isPrimary()&&e.isAllowPivot(),activeFunction:e=>e.isPivotActive(),activateLabel:()=>e("addToLabels",`Add ${i} to labels`,[i]),deactivateLabel:()=>e("removeFromLabels",`Remove ${i} from labels`,[i]),activateFunction:()=>a?.setColumns(this.addColumnsToList(a.columns),"toolPanelUi"),deActivateFunction:()=>a?.setColumns(this.removeColumnsFromList(a.columns),"toolPanelUi"),addIcon:"pivotPanel",removeIcon:"pivotPanel"})}isColumnValidForScrollIntoView(e){if(!e.isVisible())return!1;const t=e.getParent();return!t||-1!==t.getDisplayedChildren()?.indexOf(e)}addColumnsToList(e){return[...e].concat(this.columns.filter((t=>-1===e.indexOf(t))))}removeColumnsFromList(e){return e.filter((e=>-1===this.columns.indexOf(e)))}displayContextMenu(e){const t=this.getGui(),i=this.createBean(new Tx),r=this.getLocaleTextFunc();let s=()=>{};t.appendChild(i.getGui()),i.addMenuItems(e),i.addManagedListeners(i,{closeMenu:()=>{this.parentEl.focus(),s()}});const a=this.beans.popupSvc,o=a.addPopup({modal:!0,eChild:t,closeOnEsc:!0,afterGuiAttached:()=>(0,Fy.exX)(i.getGui()),ariaLabel:r("ariaLabelContextMenu","Context Menu"),closedCallback:e=>{e instanceof KeyboardEvent&&this.parentEl.focus(),this.destroyBean(i)}});o&&(s=o.hideFunc),a.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:t})}isActive(){return this.allowScrollIntoView||this.allowGrouping||this.allowValues||this.allowPivoting}getMappedMenuItems(){const e=[],{menuItemMap:t,columns:i,displayName:r,beans:s}=this;for(const a of t.values()){const t=i.some((e=>a.allowedFunction(e)&&!a.activeFunction(e))),o=i.some((e=>a.allowedFunction(e)&&a.activeFunction(e)));t&&e.push({name:a.activateLabel(r),icon:(0,Fy.scM)(a.addIcon,s,null),action:()=>a.activateFunction()}),o&&a.removeIcon&&a.deactivateLabel&&e.push({name:a.deactivateLabel(r),icon:(0,Fy.scM)(a.removeIcon,s,null),action:()=>a.deActivateFunction?.()})}return e}},Ax={tag:"div",cls:"ag-column-select-column-group",children:[{tag:"span",ref:"eColumnGroupIcons",cls:"ag-column-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-column-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-column-group-opened-icon"}]},{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},Dx=class extends Fy.wA2{constructor(e,t,i,r){super(),this.modelItem=e,this.allowDragging=t,this.eventType=i,this.focusWrapper=r,this.cbSelect=Fy.CUI,this.eLabel=Fy.CUI,this.eGroupOpenedIcon=Fy.CUI,this.eGroupClosedIcon=Fy.CUI,this.eColumnGroupIcons=Fy.CUI,this.processingColumnStateChange=!1;const{columnGroup:s,depth:a,displayName:o}=e;this.columnGroup=s,this.columnDepth=a,this.displayName=o}postConstruct(){this.setTemplate(Ax,[Fy.I$4]);const{beans:e,cbSelect:t,eLabel:i,displayName:r,columnDepth:s,modelItem:a,focusWrapper:o,columnGroup:n}=this,{registry:l,gos:c}=e,d=(0,Fy.scM)("columnDrag",e);this.eDragHandle=d,d.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");const u=t.getGui(),p=t.getInputElement();u.insertAdjacentElement("afterend",d),p.setAttribute("tabindex","-1"),i.textContent=r??"",this.setupExpandContract(),this.addCss("ag-column-select-indent-"+s),this.getGui().style.setProperty("--ag-indentation-level",String(s)),this.tooltipFeature=this.createOptionalManagedBean(l.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumnGroup",shouldDisplayTooltip:(0,Fy.wsu)(c,(()=>i))})),this.addManagedEventListeners({columnPivotModeChanged:this.onColumnStateChanged.bind(this)}),this.addManagedElementListeners(i,{click:this.onLabelClicked.bind(this)}),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedListeners(a,{expandedChanged:this.onExpandChanged.bind(this)}),this.addManagedListeners(o,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),(0,Fy.NuV)(n.getColGroupDef(),c,null,n).forEach((e=>this.toggleCss(e,!0)))}getColumns(){return this.columnGroup.getLeafColumns()}setupTooltip(){const e=this.columnGroup.getColGroupDef();if(!e)return;const t=()=>this.tooltipFeature?.setTooltipAndRefresh(e.headerTooltip);t(),this.addManagedEventListeners({newColumnsLoaded:t})}handleKeyDown(e){switch(e.key){case Fy.KeyCode.LEFT:e.preventDefault(),this.modelItem.expanded=!1;break;case Fy.KeyCode.RIGHT:e.preventDefault(),this.modelItem.expanded=!0;break;case Fy.KeyCode.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}}onContextMenu(e){const{columnGroup:t,gos:i}=this;if(i.get("functionsReadOnly"))return;const r=this.createBean(new Px(t,e,this.focusWrapper));this.addDestroyFunc((()=>{r.isAlive()&&this.destroyBean(r)}))}addVisibilityListenersToAllChildren(){const e=this.onColumnStateChanged.bind(this);this.columnGroup.getLeafColumns().forEach((t=>{this.addManagedListeners(t,{visibleChanged:e,columnValueChanged:e,columnPivotChanged:e,columnRowGroupChanged:e})}))}setupDragging(){if(!this.allowDragging)return void(0,Fy.DIH)(this.eDragHandle,!1);const e=this.beans,{gos:t,eventSvc:i,dragAndDrop:r}=e;let s=!t.get("suppressDragLeaveHidesColumns");const a={type:Fy.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>s?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{s=!t.get("suppressDragLeaveHidesColumns"),i.dispatchEvent({type:"columnPanelItemDragStart",column:this.columnGroup})},onDragStopped:()=>{i.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:t=>{s&&yx(e,{columns:this.columnGroup.getLeafColumns(),visibleState:t?.visibleState,pivotState:t?.pivotState,eventType:this.eventType})},onGridExit:()=>{s&&this.onChangeCommon(!1)}};r.addDragSource(a,!0),this.addDestroyFunc((()=>r.removeDragSource(a)))}createDragItem(){const e=this.columnGroup.getLeafColumns(),t={},i={};return e.forEach((e=>{const r=e.getId();t[r]=e.isVisible(),i[r]=Cx(e)})),{columns:e,visibleState:t,pivotState:i}}setupExpandContract(){const{beans:e,eGroupClosedIcon:t,eGroupOpenedIcon:i,eColumnGroupIcons:r}=this;t.appendChild((0,Fy.ucQ)("columnSelectClosed",e,null)),i.appendChild((0,Fy.ucQ)("columnSelectOpen",e,null));const s=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(t,{click:s}),this.addManagedElementListeners(i,{click:s});const a=new Fy.rwP(r,!0);this.addManagedListeners(a,{tap:s}),this.addDestroyFunc(a.destroy.bind(a))}onLabelClicked(){const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}getVisibleLeafColumns(){const e=[],t=i=>{i.forEach((i=>{i.passesFilter&&(i.group?t(i.children):e.push(i.column))}))};return t(this.modelItem.children),e}onChangeCommon(e){this.refreshAriaLabel(),this.processingColumnStateChange||fx(this.beans,this.modelItem.children,e,this.eventType)}refreshAriaLabel(){const{cbSelect:e,focusWrapper:t,displayName:i}=this,r=this.getLocaleTextFunc(),s=r("ariaColumnGroup","Column Group"),a=e.getValue(),o=void 0===a?r("ariaIndeterminate","indeterminate"):a?r("ariaVisible","visible"):r("ariaHidden","hidden"),n=r("ariaToggleVisibility","Press SPACE to toggle visibility");(0,Fy.xER)(t,`${i} ${s}`),e.setInputAriaLabel(`${n} (${o})`),(0,Fy.ucE)(t,e.getInputElement().id)}onColumnStateChanged(){const e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0;const i=this.cbSelect;i.setValue(e),i.setReadOnly(t),this.toggleCss("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1}workOutSelectedValue(){const e=this.beans.colModel.isPivotMode(),t=this.getVisibleLeafColumns();let i=0,r=0;if(t.forEach((t=>{!e&&t.getColDef().lockVisible||(this.isColumnChecked(t,e)?i++:r++)})),!(i>0&&r>0))return i>0}workOutReadOnlyValue(){const e=this.beans.colModel.isPivotMode();let t=0;return this.columnGroup.getLeafColumns().forEach((i=>{e?i.isAnyFunctionAllowed()&&t++:i.getColDef().lockVisible||t++})),0===t}isColumnChecked(e,t){if(t){const t=e.isPivotActive(),i=e.isRowGroupActive(),r=e.isValueActive();return t||i||r}return e.isVisible()}onExpandOrContractClicked(){const e=this.modelItem,t=e.expanded;e.expanded=!t}onExpandChanged(){this.setOpenClosedIcons(),this.refreshAriaExpanded()}setOpenClosedIcons(){const e=this.modelItem.expanded;(0,Fy.DIH)(this.eGroupClosedIcon,!e),(0,Fy.DIH)(this.eGroupOpenedIcon,e)}refreshAriaExpanded(){(0,Fy.mmg)(this.focusWrapper,this.modelItem.expanded)}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect,i=t.getValue();!t.isReadOnly()&&(e&&!i||!e&&i)&&t.toggle()}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}setSelected(e){this.cbSelect.setValue(e,!0)}},Ix=e=>(0,Fy.pAL)(e)?e.getLeafColumns():e?[e]:[],Nx=(e,t,i)=>!(!e.get("suppressMovableColumns")&&!t.colModel.isPivotMode())||!!i.find((({colDef:e})=>!!e.suppressMovable||!!e.lockPosition)),Rx=(e,t,i)=>{if(!i)return;const{component:r}=i;let s=null,a="top"===i.position;if(r instanceof Dx?(s=r.getColumns()[0],a=!0):r&&(s=r.column),!s)return;const o=((e,t,i,r)=>{if(!i||!t)return null;const s=e.colModel.getCols(),a=s.indexOf(i),o=r?a:a+1;return o-((e,t,i)=>{if(!t)return 0;const r=t[0],s=t.length;return e.indexOf(r)<i?s:0})(s,t,o)})(e,t,s,a);null!=o&&e.colMoves?.moveColumns(t,o,"toolPanelUi")},Lx={tag:"div",cls:"ag-column-select-column",children:[{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},Fx=class extends Fy.wA2{constructor(e,t,i,r){super(),this.modelItem=e,this.allowDragging=t,this.groupsExist=i,this.focusWrapper=r,this.eLabel=Fy.CUI,this.cbSelect=Fy.CUI,this.processingColumnStateChange=!1;const{column:s,depth:a,displayName:o}=e;this.column=s,this.columnDepth=a,this.displayName=o}postConstruct(){this.setTemplate(Lx,[Fy.I$4]);const{beans:e,cbSelect:t,displayName:i,eLabel:r,columnDepth:s,groupsExist:a,column:o,gos:n,focusWrapper:l}=this,c=(0,Fy.scM)("columnDrag",e);this.eDragHandle=c,c.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");const d=t.getGui(),u=t.getInputElement();d.insertAdjacentElement("afterend",c),u.setAttribute("tabindex","-1"),r.textContent=i,a&&this.addCss("ag-column-select-add-group-indent"),this.addCss(`ag-column-select-indent-${s}`),this.getGui().style.setProperty("--ag-indentation-level",String(s)),this.tooltipFeature=this.createOptionalManagedBean(e.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumn",getColDef:()=>o.getColDef(),shouldDisplayTooltip:(0,Fy.wsu)(n,(()=>r))})),this.setupDragging();const p=this.onColumnStateChanged.bind(this);this.addManagedEventListeners({columnPivotModeChanged:p}),this.addManagedListeners(o,{columnValueChanged:p,columnPivotChanged:p,columnRowGroupChanged:p,visibleChanged:p}),this.addManagedListeners(l,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedElementListeners(r,{click:this.onLabelClicked.bind(this)}),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),(0,Fy.NuV)(o.getColDef(),n,o,null).forEach((e=>this.toggleCss(e,!0)))}getColumn(){return this.column}setupTooltip(){const e=()=>this.tooltipFeature?.setTooltipAndRefresh(this.column.getColDef().headerTooltip);e(),this.addManagedEventListeners({newColumnsLoaded:e})}onContextMenu(e){const{column:t,gos:i}=this;if(i.get("functionsReadOnly"))return;const r=this.createBean(new Px(t,e,this.focusWrapper));this.addDestroyFunc((()=>{r.isAlive()&&this.destroyBean(r)}))}handleKeyDown(e){e.key===Fy.KeyCode.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))}onLabelClicked(){if(this.gos.get("functionsReadOnly"))return;const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}onChangeCommon(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||vx(this.beans,[this.column],e,"toolPanelUi"))}refreshAriaLabel(){const{cbSelect:e,focusWrapper:t,displayName:i}=this,r=this.getLocaleTextFunc(),s=r("ariaColumn","Column"),a=e.getValue()?r("ariaVisible","visible"):r("ariaHidden","hidden"),o=r("ariaToggleVisibility","Press SPACE to toggle visibility");(0,Fy.xER)(t,`${i} ${s}`),this.cbSelect.setInputAriaLabel(`${o} (${a})`),(0,Fy.ucE)(t,e.getInputElement().id)}setupDragging(){const e=this.eDragHandle;if(!this.allowDragging)return void(0,Fy.DIH)(e,!1);const t=this.beans,{gos:i,eventSvc:r,dragAndDrop:s}=t;let a=!i.get("suppressDragLeaveHidesColumns");const o={type:Fy.rvo.ToolPanel,eElement:e,dragItemName:this.displayName,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),r.dispatchEvent({type:"columnPanelItemDragStart",column:this.column})},onDragStopped:()=>{r.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:e=>{a&&yx(t,{columns:[this.column],visibleState:e?.visibleState,pivotState:e?.pivotState,eventType:"toolPanelUi"})},onGridExit:()=>{a&&this.onChangeCommon(!1)}};s.addDragSource(o,!0),this.addDestroyFunc((()=>s.removeDragSource(o)))}createDragItem(){const e=this.column.getColId(),t={[e]:this.column.isVisible()},i={[e]:Cx(this.column)};return{columns:[this.column],visibleState:t,pivotState:i}}onColumnStateChanged(){this.processingColumnStateChange=!0;const e=this.beans.colModel.isPivotMode();if(e){const e=this.column.isAnyFunctionActive();this.cbSelect.setValue(e)}else this.cbSelect.setValue(this.column.isVisible());let t=!0,i=!0;if(e){const e=this.gos.get("functionsReadOnly"),r=!this.column.isAnyFunctionAllowed();t=!e&&!r,i=t}else{const{enableRowGroup:e,enableValue:r,lockPosition:s,suppressMovable:a,lockVisible:o}=this.column.getColDef();t=!o,i=!!e||!!r||!(s||a)}this.cbSelect.setReadOnly(!t),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!i),this.toggleCss("ag-column-select-column-readonly",!i&&!t),this.cbSelect.setPassive(!1),this.processingColumnStateChange=!1}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect;e!==t.getValue()&&(t.isReadOnly()||t.toggle())}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}isExpandable(){return!1}setExpanded(e){(0,Fy.F5b)(158)}},Ox=class{constructor(e){this.items=e}getRowCount(){return this.items.length}getRow(e){return this.items[e]}},Bx=class extends Fy.wA2{constructor(){super({tag:"div",cls:"ag-column-select-list",role:"presentation"}),this.destroyColumnItemFuncs=[],this.hasLoadedInitialState=!1,this.isInitialState=!1,this.skipRefocus=!1}wireBeans(e){this.colModel=e.colModel}destroy(){this.destroyColumnTree(),super.destroy()}destroyColumnTree(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach((e=>e())),this.destroyColumnItemFuncs=[]}init(e,t,i){this.params=e;const{suppressSyncLayoutWithGrid:r,contractColumnSelection:s,suppressColumnMove:a}=e;this.allowDragging=t,this.eventType=i,r||this.addManagedEventListeners({columnMoved:this.onColumnsChanged.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.onColumnsChanged.bind(this)});const o=this.fireSelectionChangedEvent.bind(this);this.addManagedEventListeners({columnPivotChanged:o,columnPivotModeChanged:o,columnRowGroupChanged:o,columnValueChanged:o,columnVisible:o,newColumnsLoaded:o}),this.expandGroupsByDefault=!s;const n=a||r,l=this.createManagedBean(new Hw({cssIdentifier:"column-select",ariaRole:"tree",moveItemCallback:(e,t)=>{n||this.moveItems(e,t)}}));this.virtualList=l,this.appendChild(l.getGui()),l.setComponentCreator(((e,t)=>((0,Fy.icB)(t,e.depth+1),this.createComponentFromItem(e,t)))),this.colModel.ready&&this.onColumnsChanged(),n||this.createItemDragFeature()}createItemDragFeature(){const{gos:e,beans:t,eventSvc:i,virtualList:r}=this;this.createManagedBean(new tS(this,r,{dragSourceType:Fy.rvo.ToolPanel,listItemDragStartEvent:"columnPanelItemDragStart",listItemDragEndEvent:"columnPanelItemDragEnd",eventSource:i,getCurrentDragValue:e=>(e=>e.column)(e),isMoveBlocked:i=>Nx(e,t,Ix(i)),getNumRows:e=>e.getDisplayedColsList().length,moveItem:(e,i)=>Rx(t,Ix(e),i)}))}moveItems(e,t){const{gos:i,beans:r}=this,{modelItem:s}=e,{group:a,columnGroup:o,column:n,expanded:l}=s,c=Ix(a?o:n);if(Nx(i,r,c))return;const d=this.displayedColsList.indexOf(s),u=t?-1:1;let p=0;if(t){const t=e.columnDepth>0&&n.getParent()?.getChildren();t&&t.length&&n===t[0]&&(p=-1)}else a&&(p=l?s.children.length:0);const h=Math.min(Math.max(d+p+u,0),this.displayedColsList.length-1);this.skipRefocus=!0,Rx(r,c,{rowIndex:h,position:t?"top":"bottom",component:this.virtualList.getComponentAt(h)}),this.focusRowIfAlive(h-p).then((()=>{this.skipRefocus=!1}))}createComponentFromItem(e,t){const i=this.allowDragging;if(e.group){const r=new Dx(e,i,this.eventType,t);return this.createBean(r),r}const r=new Fx(e,i,this.groupsExist,t);return this.createBean(r),r}onColumnsChanged(){const e=this.params;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!e.initialState);const t=this.getExpandedStates(),i=this.colModel.isPivotMode();e.suppressSyncLayoutWithGrid||i?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1}getDisplayedColsList(){return this.displayedColsList}getExpandedStates(){const e={};if(this.isInitialState){const{expandedGroupIds:t}=this.params.initialState;return t.forEach((t=>{e[t]=!0})),e}return this.allColsTree?(this.forEachItem((t=>{if(!t.group)return;const i=t.columnGroup;i&&(e[i.getId()]=t.expanded)})),e):{}}setExpandedStates(e){if(!this.allColsTree)return;const{isInitialState:t}=this;this.forEachItem((i=>{if(!i.group)return;const r=i.columnGroup;if(r){const s=e[r.getId()];(null!=s||t)&&(i.expanded=!!s)}}))}buildTreeFromWhatGridIsDisplaying(){gx(this.colModel,this.setColumnLayout.bind(this))}setColumnLayout(e){const t=mx(this.colModel,e);this.buildListModel(t),this.groupsExist=e.some((e=>e&&void 0!==e.children)),this.markFilteredColumns(),this.flattenAndFilterModel()}buildTreeFromProvidedColumnDefs(){const e=this.colModel;this.buildListModel(e.getColDefColTree()),this.groupsExist=!!e.colDefCols?.treeDepth}buildListModel(e){const t=this.onColumnExpanded.bind(this),i=e=>{e.addEventListener("expandedChanged",t);const i=e.removeEventListener.bind(e,"expandedChanged",t);this.destroyColumnItemFuncs.push(i)},r=this.beans.colNames,s=(e,t,i)=>{e.forEach((e=>{(0,Fy.pAL)(e)?a(e,t,i):o(e,t,i)}))},a=(e,t,a)=>{const o=e.getColGroupDef();if(o&&o.suppressColumnsToolPanel)return;if(e.isPadding())return void s(e.getChildren(),t,a);const n=r.getDisplayNameForProvidedColumnGroup(null,e,"columnToolPanel"),l=new bx(n,e,t,!0,this.expandGroupsByDefault);a.push(l),i(l),s(e.getChildren(),t+1,l.children)},o=(e,t,i)=>{if(e.getColDef()&&e.getColDef().suppressColumnsToolPanel)return;const s=r.getDisplayNameForColumn(e,"columnToolPanel");i.push(new bx(s,e,t))};this.destroyColumnTree(),s(e,0,this.allColsTree)}onColumnExpanded(){this.flattenAndFilterModel()}flattenAndFilterModel(){this.displayedColsList=[];const e=t=>{t.passesFilter&&(this.displayedColsList.push(t),t.group&&t.expanded&&t.children.forEach(e))},t=this.virtualList;this.allColsTree.forEach(e),t.setModel(new Ox(this.displayedColsList));let i=null;this.skipRefocus||(i=t.getLastFocusedRow()),t.refresh(),null!=i&&this.focusRowIfAlive(i),this.notifyListeners(),this.refreshAriaLabel()}refreshAriaLabel(){const e=this.getLocaleTextFunc(),t=e("ariaColumnPanelList","Column List"),i=e("columns","Columns"),r=this.displayedColsList.length;(0,Fy.xER)(this.virtualList.getAriaElement(),`${t} ${r} ${i}`)}focusRowIfAlive(e){return-1===e?Promise.resolve():new Promise((t=>{window.setTimeout((()=>{this.isAlive()&&this.virtualList.focusRow(e),t()}),0)}))}forEachItem(e){const t=i=>{i.forEach((i=>{e(i),i.group&&t(i.children)}))},i=this.allColsTree;i&&t(i)}doSetExpandedAll(e){this.forEachItem((t=>{t.group&&(t.expanded=e)}))}setGroupsExpanded(e,t){if(!t)return void this.doSetExpandedAll(e);const i=[];this.forEachItem((r=>{if(!r.group)return;const s=r.columnGroup.getId();t.indexOf(s)>=0&&(r.expanded=e,i.push(s))}));const r=t.filter((e=>!i.includes(e)));r.length>0&&(0,Fy.F5b)(157,{unrecognisedGroupIds:r})}getExpandState(){let e=0,t=0;return this.forEachItem((i=>{i.group&&(i.expanded?e++:t++)})),e>0&&t>0?2:t>0?1:0}doSetSelectedAll(e){fx(this.beans,this.allColsTree,e,this.eventType)}getSelectionState(){let e=0,t=0;const i=this.colModel.isPivotMode();if(this.forEachItem((r=>{if(r.group)return;if(!r.passesFilter)return;const s=r.column,a=s.getColDef();let o;if(i){if(!s.isAllowPivot()&&!s.isAllowRowGroup()&&!s.isAllowValue())return;o=s.isValueActive()||s.isPivotActive()||s.isRowGroupActive()}else{if(a.lockVisible)return;o=s.isVisible()}o?e++:t++})),!(e>0&&t>0))return!(0===e||t>0)}setFilterText(e){this.filterText=(0,Fy.fTC)(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()}markFilteredColumns(){const e=e=>{if(!(0,Fy.fTC)(this.filterText))return!0;const t=e.displayName;return null==t||-1!==t.toLowerCase().indexOf(this.filterText)},t=(i,r)=>{let s=!1;if(i.group){const a=e(i);i.children.forEach((e=>{const i=t(e,a||r);i&&(s=i)}))}const a=!(!r&&!s)||e(i);return i.passesFilter=a,a};this.allColsTree.forEach((e=>t(e,!1)))}notifyListeners(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()}fireGroupExpandedEvent(){const e=this.getExpandState();this.dispatchLocalEvent({type:"groupExpanded",state:e})}fireSelectionChangedEvent(){if(!this.allColsTree)return;const e=this.getSelectionState();this.dispatchLocalEvent({type:"selectionChanged",state:e})}getExpandedGroups(){const e=[];return this.allColsTree?(this.forEachItem((t=>{t.group&&t.expanded&&e.push(t.columnGroup.getId())})),e):e}},zx={selector:"AG-PRIMARY-COLS-LIST",component:Bx},Vx={tag:"div",cls:"ag-column-select",children:[{tag:"ag-primary-cols-header",ref:"primaryColsHeaderPanel"},{tag:"ag-primary-cols-list",ref:"primaryColsListPanel"}]},Gx=class extends Fy.wA2{constructor(){super(Vx,[cx,zx]),this.primaryColsHeaderPanel=Fy.CUI,this.primaryColsListPanel=Fy.CUI,this.registerCSS(".ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{align-items:center;display:flex;flex:none;gap:var(--ag-widget-horizontal-spacing);height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding);position:relative}.ag-column-select-column,.ag-column-select-column-group{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);height:100%;position:relative;&:where(:not(:last-child)){margin-bottom:var(--ag-widget-vertical-spacing)}}:where(.ag-ltr) .ag-column-select-column,:where(.ag-ltr) .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}:where(.ag-rtl) .ag-column-select-column,:where(.ag-rtl) .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}:where(.ag-ltr) .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}:where(.ag-rtl) .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}")}init(e,t,i){const{primaryColsHeaderPanel:r,primaryColsListPanel:s}=this;r.init(t);const a=t.suppressColumnFilter,o=t.suppressColumnSelectAll;t.suppressColumnExpandAll&&a&&o&&r.setDisplayed(!1),this.addManagedListeners(s,{groupExpanded:e=>{r.setExpandState(e.state),t.onStateUpdated()},selectionChanged:e=>r.setSelectionState(e.state)}),s.init(t,e,i),this.addManagedListeners(r,{expandAll:s.doSetExpandedAll.bind(s,!0),collapseAll:s.doSetExpandedAll.bind(s,!1),selectAll:s.doSetSelectedAll.bind(s,!0),unselectAll:s.doSetSelectedAll.bind(s,!1),filterChanged:e=>s.setFilterText(e.filterText)}),this.positionableFeature=this.createManagedBean(new Fy.Gxm(this.getGui(),{minHeight:100}))}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})}expandGroups(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)}collapseGroups(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)}setColumnLayout(e){this.primaryColsListPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged()}getExpandedGroups(){return this.primaryColsListPanel.getExpandedGroups()}},Ux=class extends Fy.wA2{constructor(){super({tag:"div",cls:"ag-column-panel"}),this.initialised=!1,this.childDestroyFuncs=[],this.registerCSS(".ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}:where(.ag-ltr) .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border)}.ag-column-panel-column-select:where(:nth-child(n+2 of :not(.ag-hidden))){border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}")}wireBeans(e){this.colToolPanelFactory=e.colToolPanelFactory}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}init(e){const t={...(0,Fy.OHk)(this.gos,{suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1}),...e};this.params=t;const{childDestroyFuncs:i,colToolPanelFactory:r,gos:s}=this,a=s.isModuleRegistered("SharedPivot"),o=a||s.isModuleRegistered("SharedRowGrouping");!t.suppressPivotMode&&r&&a&&(this.pivotModePanel=r.createPivotModePanel(this,i));const n=this.createBean(new Gx);if(this.primaryColsPanel=n,i.push((()=>this.destroyBean(this.primaryColsPanel))),n.init(!0,t,"toolPanelUi"),n.addCss("ag-column-panel-column-select"),this.appendChild(n),r){!t.suppressRowGroups&&o&&(this.rowGroupDropZonePanel=r.createRowGroupPanel(this,i)),!t.suppressValues&&o&&(this.valuesDropZonePanel=r.createValuesPanel(this,i)),!t.suppressPivots&&a&&(this.pivotDropZonePanel=r.createPivotPanel(this,i)),this.setLastVisible();const[e]=this.addManagedEventListeners({columnPivotModeChanged:()=>{this.resetChildrenHeight(),this.setLastVisible()}});i.push((()=>e()))}this.initialised=!0}setPivotModeSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.pivotModePanel=t.setPanelVisible(this.pivotModePanel,e,t.createPivotModePanel.bind(t,this,this.childDestroyFuncs,!0)),this.setLastVisible())}setRowGroupsSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.rowGroupDropZonePanel=t.setPanelVisible(this.rowGroupDropZonePanel,e,t.createRowGroupPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setValuesSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.valuesDropZonePanel=t.setPanelVisible(this.valuesDropZonePanel,e,t.createValuesPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setPivotSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.pivotDropZonePanel=t.setPanelVisible(this.pivotDropZonePanel,e,t.createPivotPanel.bind(t,this,this.childDestroyFuncs)),this.pivotDropZonePanel?.setDisplayed(e),this.setLastVisible())}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach((e=>{if(!e)return;const t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))}))}setLastVisible(){const e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach((e=>e.classList.remove("ag-last-column-drop")));const t=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),i=(0,Fy._O9)(t);i&&i.classList.add("ag-last-column-drop"),this.setResizers()}resetChildrenHeight(){const e=this.getGui().children;for(let t=0;t<e.length;t++){const{style:i}=e[t];i.removeProperty("height"),i.removeProperty("flex")}}expandColumnGroups(e){this.primaryColsPanel.expandGroups(e)}collapseColumnGroups(e){this.primaryColsPanel.collapseGroups(e)}setColumnLayout(e){this.primaryColsPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid()}destroyChildren(){const e=this.childDestroyFuncs;e.forEach((e=>e())),e.length=0,(0,Fy.wvc)(this.getGui())}refresh(e){return this.destroyChildren(),this.init(e),!0}getState(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}}destroy(){this.destroyChildren(),super.destroy()}};function Hx(e,t,i){null!=e&&null!=t&&e.splice(i,0,...t)}var Wx={tag:"div",cls:"ag-unselectable",role:"presentation"},jx=class extends Fy.wA2{constructor(e){super(Wx),this.horizontal=e,this.state="notDragging",this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=(0,Fy.Xye)({tag:"div"}),this.addElementClasses(this.ePillDropList,"list"),this.registerCSS(".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:1px solid var(--ag-border-color)}")}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:t,dragSource:i}=e;return t.contains(i.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach((e=>e())),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,(0,Fy.wvc)(this.getGui()),(0,Fy.wvc)(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new Fy.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new Fy.Gxm(this.getGui()),this.createManagedBean(this.positionableFeature),this.refreshGui(),(0,Fy.xER)(this.ePillDropList,this.getAriaLabel())}onTabKeyDown(e){const t=(0,Fy.H$b)(this.getFocusableElement(),null,!0),i=t.length;if(0===i)return;const{shiftKey:r}=e,s=(0,Fy.HB1)(this.beans),a=s===t[0],o=s===(0,Fy._O9)(t);1===i||a&&r||o&&!r||t[r?0:i-1].focus()}onKeyDown(e){const{key:t}=e,i=!this.horizontal;let r=t===Fy.KeyCode.DOWN,s=t===Fy.KeyCode.UP;if(!i){const e=this.gos.get("enableRtl");r=!e&&t===Fy.KeyCode.RIGHT||e&&t===Fy.KeyCode.LEFT,s=!e&&t===Fy.KeyCode.LEFT||e&&t===Fy.KeyCode.RIGHT}if(r||s)if(e.preventDefault(),e.shiftKey)this.moveFocusedItem(s);else{const e=(0,Fy.WEX)(this.beans,this.getFocusableElement(),!1,s);e&&e.focus()}}moveFocusedItem(e){const t=this.getFocusedItem();if(-1===t)return;const i=e?-1:1;if(!this.normalizeAndUpdateInsertIndex(t,t+i))return;const r=this.childPillComponents[t];if(!r.isMovable())return;const s=r.getItem();this.focusItemAtIndex(this.insertIndex),this.rearrangeItems([s],!0)}addElementClasses(e,t){t=t?`-${t}`:"";const i=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${i}${t}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDrop?.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const t=this.getNewInsertIndex(e);return!(t<0)&&this.normalizeAndUpdateInsertIndex(this.insertIndex,t)}normalizeAndUpdateInsertIndex(e,t){const i=this.minimumAllowedNewInsertIndex(),r=Math.max(i,t),s=r!==e;return s&&(this.insertIndex=r),s}getNewInsertIndex(e){const t=e.event,i=this.horizontal?t.clientX:t.clientY,r=this.childPillComponents.map((e=>e.getGui().getBoundingClientRect())),s=r.findIndex((e=>this.horizontal?e.right>i&&e.left<i:e.top<i&&e.bottom>i));if(-1===s){const e=this.gos.get("enableRtl");return r.every((e=>i>(this.horizontal?e.right:e.bottom)))?e&&this.horizontal?0:this.childPillComponents.length:r.every((e=>i<(this.horizontal?e.left:e.top)))?e&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s}checkDragStartedBySelf(e){"notDragging"===this.state&&(this.state="rearrangeItems",this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const t=this.getItems(e.dragSource.getDragItem());this.state="newItemsIn";const i=t.filter((t=>this.isItemDroppable(t,e))),r=i.every((e=>-1!==this.childPillComponents.map((e=>e.getItem())).indexOf(e)));0!==i.length&&(this.potentialDndItems=i,r?this.state="notDragging":(this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()))}isPotentialDndItems(){return!!this.potentialDndItems?.length}handleDragLeaveEnd(e){}onDragLeave(e){if("rearrangeItems"===this.state){const t=this.getItems(e.dragSource.getDragItem());this.removeItems(t)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragCancel(e){this.isPotentialDndItems()&&("newItemsIn"===this.state&&this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragStop(){this.isPotentialDndItems()&&("newItemsIn"===this.state?this.addItems(this.potentialDndItems):this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}removeItems(e){const t=this.getExistingItems().filter((t=>!e.includes(t)));this.updateItems(t)}addItems(e){if(!e)return;const t=this.getExistingItems().slice(),i=e.filter((e=>t.indexOf(e)<0));Hx(t,i,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e,t){let i;return i=t?this.getExistingItems().filter((t=>-1===e.indexOf(t))):this.getNonGhostItems().slice(),Hx(i,e,this.insertIndex),!(0,Fy.Vgs)(i,this.getExistingItems())&&(this.updateItems(i),!0)}refreshGui(){let e=0;this.horizontal||(e=this.ePillDropList.scrollTop);const t=this.resizeEnabled,i=this.getFocusedItem(),{eGridDiv:r}=this.beans,s=(0,Fy.Qgp)();let a=null;s&&(a=(0,Fy.WEX)(this.beans,r)??(0,Fy.WEX)(this.beans,r,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),0!==e&&(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),s&&this.restoreFocus(i,a)}getFocusedItem(){const e=this.getGui(),t=(0,Fy.HB1)(this.beans);return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}focusItemAtIndex(e){const t=this.getGui(),i=Array.from(t.querySelectorAll(".ag-column-drop-cell"))[e];i&&i.focus({preventScroll:!0})}restoreFocus(e,t){const i=this.getGui(),r=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(-1===e)return;0===r.length&&t.focus();const s=r[Math.min(r.length-1,e)];s&&s.focus()}focusList(e){const t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter((e=>!this.potentialDndItems.includes(e))):e}addItemsToGui(){const e=this.getNonGhostItems().map((e=>this.createItemComponent(e,!1)));if(this.isPotentialDndItems()){const t=this.potentialDndItems.map((e=>this.createItemComponent(e,!0)));this.insertIndex>=e.length?e.push(...t):e.splice(this.insertIndex,0,...t)}this.appendChild(this.ePillDropList),e.forEach(((e,t)=>{t>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(e.getGui())})),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){const{childPillComponents:e,ePillDropList:t}=this,i=e.length;(0,Fy.Znd)(t,0===i?"presentation":"listbox");for(let t=0;t<i;t++){const r=e[t].getGui();(0,Fy.Qnv)(r,t+1),(0,Fy.VzM)(r,i)}}createItemComponent(e,t){const i=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return i.addEventListener("columnRemove",this.removeItems.bind(this,[e])),this.createBean(i),this.guiDestroyFunctions.push((()=>this.destroyBean(i))),t||this.childPillComponents.push(i),i}addIconAndTitleToGui(){const{title:e,icon:t}=this.params;if(!e||!t)return;const i=(0,Fy.Xye)({tag:"div"});if((0,Fy.OMQ)(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(t,"icon"),this.toggleCss("ag-column-drop-empty",this.isExistingItemsEmpty()),i.appendChild(t),!this.horizontal){const t=(0,Fy.Xye)({tag:"span"});this.addElementClasses(t,"title"),t.textContent=e,i.appendChild(t)}this.appendChild(i)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const t=(0,Fy.Xye)({tag:"span"});t.textContent=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){const t=this.gos.get("enableRtl"),i=(0,Fy.scM)(t?"panelDelimiterRtl":"panelDelimiter",this.beans);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}}},Kx={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},$x=class extends Fy.wA2{constructor(e,t,i,r,s){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=i,this.template=r,this.agComponents=s,this.eText=Fy.CUI,this.eDragHandle=Fy.CUI,this.eButton=Fy.CUI}postConstruct(){this.setTemplate(this.template??Kx,this.agComponents);const e=this.getGui(),{beans:t,eDragHandle:i,eText:r,eButton:s}=this;this.addElementClasses(e),this.addElementClasses(i,"drag-handle"),this.addElementClasses(r,"text"),this.addElementClasses(s,"button"),i.appendChild((0,Fy.scM)("columnDrag",t)),s.appendChild((0,Fy.scM)("cancel",t)),this.tooltipFeature=this.createOptionalManagedBean(t.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui()})),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),(0,Fy.xER)(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){const i=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(i)}}setupTooltip(){const e=()=>this.tooltipFeature?.setTooltipAndRefresh(this.getTooltip());e(),this.addManagedEventListeners({newColumnsLoaded:e})}getDragSourceId(){}getDefaultIconName(){return"notAllowed"}addDragSource(){const{beans:{dragAndDrop:e},eDragHandle:t}=this,i=this.createGetDragItem(),r=this.getDefaultIconName(),s={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>r,getDragItem:i,dragItemName:this.getDisplayName()};e?.addDragSource(s,!0),this.addDestroyFunc((()=>e?.removeDragSource(s)))}setupComponents(){this.eText.textContent=this.getDisplayValue(),this.setupRemove(),this.ghost&&this.addCss("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){(0,Fy.DIH)(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:"columnRemove"};this.addGuiEventListener("keydown",(e=>this.onKeyDown(e))),this.addManagedElementListeners(this.eButton,{click:t=>{this.dispatchLocalEvent(e),t.stopPropagation()}});const t=new Fy.rwP(this.eButton);this.addManagedListeners(t,{tap:()=>this.dispatchLocalEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}onKeyDown(e){e.key===Fy.KeyCode.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchLocalEvent({type:"columnRemove"}))}getDisplayValue(){return this.getDisplayName()}addElementClasses(e,t){t=t?`-${t}`:"";const i=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${i}-cell${t}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}},qx=class extends $x{constructor(e,t,i,r,s){super(t,i,s),this.column=e,this.dropZonePurpose=r,this.eSortIndicator=Fy.CUI,this.popupShowing=!1}postConstruct(){const{sortSvc:e,colNames:t}=this.beans;this.template={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:void 0,{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},e&&(this.agComponents=[e.getSortIndicatorSelector()]),this.displayName=t.getDisplayNameForColumn(this.column,"columnDrop"),super.postConstruct(),e&&(this.setupSort(),this.addManagedEventListeners({sortChanged:()=>{this.setupAria()}})),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",(()=>{this.refreshRemove(),this.refreshDraggable(),this.setupAria()}))}getItem(){return this.column}getDisplayName(){return this.displayName}getTooltip(){return this.column.getColDef().headerTooltip}addAdditionalAriaInstructions(e,t){const i=this.gos.get("rowGroupPanelSuppressSort"),r=this.gos.get("functionsReadOnly");if(this.isAggregationZone()&&!r){const i=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");e.push(i)}if(this.isGroupingZone()&&this.column.isSortable()&&!i){const i=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");e.push(i)}super.addAdditionalAriaInstructions(e,t)}isMovable(){return this.isDraggable()}isDraggable(){return this.isReadOnly()}isRemovable(){return this.isReadOnly()}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get("functionsReadOnly")}getAriaDisplayName(){const e=this.getLocaleTextFunc(),{name:t,aggFuncName:i}=this.getColumnAndAggFuncName(),r=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),s={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},a=this.column.getSort(),o=this.gos.get("rowGroupPanelSuppressSort");return[i&&`${i}${r}`,t,this.isGroupingZone()&&!o&&a&&`, ${s[a]}`].filter((e=>!!e)).join("")}getColumnAndAggFuncName(){const e=this.displayName;let t="";if(this.isAggregationZone()){const e=this.column.getAggFunc(),i="string"==typeof e?e:"agg";t=this.getLocaleTextFunc()(i,i)}return{name:e,aggFuncName:t}}setupSort(){if(this.column.isSortable()&&this.isGroupingZone()&&!this.gos.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const e=e=>{e.preventDefault(),this.beans.sortSvc.progressSortFromEvent(this.column,e)};this.addGuiEventListener("click",e),this.addGuiEventListener("keydown",(t=>{t.key===Fy.KeyCode.ENTER&&this.isGroupingZone()&&e(t)}))}}getDefaultIconName(){return"hide"}createGetDragItem(){const{column:e}=this;return()=>{const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}}setupComponents(){super.setupComponents(),this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}onKeyDown(e){super.onKeyDown(e),e.key===Fy.KeyCode.ENTER&&this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&(e.preventDefault(),this.onShowAggFuncSelection())}getDisplayValue(){const{name:e,aggFuncName:t}=this.getColumnAndAggFuncName();return this.isAggregationZone()?`${t}(${e})`:e}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const{aggFuncSvc:e,popupSvc:t}=this.beans,i=new Hw({cssIdentifier:"select-agg-func"}),r=e.getFuncNames(this.column),s=this.getGui(),a=i.getGui();i.setModel({getRow:function(e){return r[e]},getRowCount:function(){return r.length}}),this.createBean(i);const o=(0,Fy.Xye)({tag:"div",cls:"ag-select-agg-func-popup"});o.style.top="0px",o.style.left="0px",o.appendChild(a),o.style.width=`${s.clientWidth}px`;const[n]=this.addManagedElementListeners(o,{focusout:e=>{!o.contains(e.relatedTarget)&&c&&c.hideFunc()}}),l=this.getLocaleTextFunc(),c=t.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:e=>{this.destroyBean(i),this.popupShowing=!1,"Escape"===e?.key&&s.focus(),n&&n()},ariaLabel:l("ariaLabelAggregationFunction","Aggregation Function")});c&&i.setComponentCreator(this.createAggSelect.bind(this,c.hideFunc)),i.addGuiEventListener("keydown",(e=>{if(e.key===Fy.KeyCode.ENTER||e.key===Fy.KeyCode.SPACE){const e=i.getLastFocusedRow();if(null==e)return;const t=i.getComponentAt(e);t&&t.selectItem()}})),t.positionPopupByComponent({type:"aggFuncSelect",eventSource:s,ePopup:o,keepWithinBounds:!0,column:this.column,position:"under"}),i.refresh();let d=r.findIndex((e=>e===this.column.getAggFunc()));-1===d&&(d=0),i.focusRow(d)}createAggSelect(e,t){const i=this.getLocaleTextFunc(),r=t.toString(),s=i(r,r);return new Yx((()=>{e(),this.getGui().focus(),this.beans.valueColsSvc?.setColumnAggFunc?.(this.column,t,"toolPanelDragAndDrop")}),s)}isGroupingAndLocked(){return this.isGroupingZone()&&Sx(this.column,this.beans)}isAggregationZone(){return"aggregation"===this.dropZonePurpose}isGroupingZone(){return"rowGroup"===this.dropZonePurpose}getDragSourceType(){return Fy.rvo.ToolPanel}destroy(){super.destroy(),this.column=null}},Yx=class extends Fy.wA2{constructor(e,t){super({tag:"div",cls:"ag-select-agg-func-item",children:t}),this.selectItem=e,this.addGuiEventListener("click",this.selectItem)}},Xx=class extends jx{constructor(e,t){super(e),this.dropZonePurpose=t,this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase())}init(e){super.init(e),this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)}),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this))}getItems(e){return e.columns??[]}isInterestedIn(e){return e===Fy.rvo.HeaderCell||e===Fy.rvo.ToolPanel}minimumAllowedNewInsertIndex(){const{gos:e,rowGroupColsSvc:t}=this.beans,i=e.get("groupLockGroupColumns"),r=t?.columns.length??0;return-1===i?r:Math.min(i,r)}showOrHideColumnOnExit(e){return this.isRowGroupPanel()&&(0,Fy.V$I)(this.gos,!0)&&!e.fromNudge}handleDragEnterEnd(e){if(this.showOrHideColumnOnExit(e)){const t=e.dragSource.getDragItem().columns;this.setColumnsVisible(t,!1,"uiColumnDragged")}}handleDragLeaveEnd(e){if(this.showOrHideColumnOnExit(e)){const t=e.dragSource.getDragItem();this.setColumnsVisible(t.columns,!0,"uiColumnDragged")}}setColumnsVisible(e,t,i){if(e){const r=e.filter((e=>!e.getColDef().lockVisible));this.beans.colModel.setColsVisible(r,t,i)}}isRowGroupPanel(){return"rowGroup"===this.dropZonePurpose}createPillComponent(e,t,i,r){return new qx(e,t,i,this.dropZonePurpose,r)}},Qx=class extends Xx{constructor(e){super(e,"pivot")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),i=e("pivots","Column Labels");super.init({icon:(0,Fy.scM)("pivotPanel",this.beans,null),emptyMessage:t,title:i}),this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)}),this.refresh()}getAriaLabel(){return this.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const e=this.beans.colModel,t=e.isPivotMode();if(this.horizontal)switch(this.gos.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":{const i=e.isPivotActive();this.setDisplayed(t&&i);break}default:this.setDisplayed(!1)}else this.setDisplayed(t)}isItemDroppable(e,t){return!(this.gos.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(t))}updateItems(e){this.beans.pivotColsSvc?.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"pivot":"notAllowed"}getExistingItems(){return this.beans.pivotColsSvc?.columns??[]}},Zx=class extends Xx{constructor(e){super(e,"rowGroup")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=e("groups","Row Groups");super.init({icon:(0,Fy.scM)("rowGroupPanel",this.beans,null),emptyMessage:t,title:i}),this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}isItemDroppable(e,t){return!(this.gos.get("functionsReadOnly")||!e.isPrimary()||e.colDef.showRowGroup)&&e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(t))}updateItems(e){this.beans.rowGroupColsSvc?.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"group":"notAllowed"}getExistingItems(){return this.beans.rowGroupColsSvc?.columns??[]}},Jx=class extends Xx{constructor(e){super(e,"aggregation")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("valueColumnsEmptyMessage","Drag here to aggregate"),i=e("values","Values");super.init({icon:(0,Fy.scM)("valuePanel",this.beans,null),emptyMessage:t,title:i}),this.addManagedEventListeners({columnValueChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getIconName(){return this.isPotentialDndItems()?"aggregate":"notAllowed"}isItemDroppable(e,t){return!(this.gos.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(t))}updateItems(e){this.beans.valueColsSvc?.setColumns(e,"toolPanelUi")}getExistingItems(){return this.beans.valueColsSvc?.columns??[]}},e_={tag:"div",cls:"ag-pivot-mode-panel",children:[{tag:"ag-toggle-button",ref:"cbPivotMode",cls:"ag-pivot-mode-select"}]},t_=class extends Fy.wA2{constructor(){super(...arguments),this.cbPivotMode=Fy.CUI}postConstruct(){this.setTemplate(e_,[Fy.nTy]);const e=this.cbPivotMode,{colModel:t,ctrlsSvc:i,gos:r}=this.beans;e.setValue(t.isPivotMode());const s=this.getLocaleTextFunc();e.setLabel(s("pivotMode","Pivot Mode"));const a=()=>{const i=t.isPivotMode();e.setValue(i)};this.addManagedListeners(e,{fieldValueChanged:()=>{const s=!!e.getValue();s!==t.isPivotMode()&&(r.updateGridOptions({options:{pivotMode:s},source:"toolPanelUi"}),i.getHeaderRowContainerCtrls().forEach((e=>e.refresh())))}}),this.addManagedEventListeners({newColumnsLoaded:a,columnPivotModeChanged:a})}},i_=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="colToolPanelFactory"}setPanelVisible(e,t,i){return e?e.setDisplayed(t):t&&(e=i()),e}createRowGroupPanel(e,t){return this.createPanel(e,t,new Zx(!1))}createValuesPanel(e,t){return this.createPanel(e,t,new Jx(!1))}createPivotPanel(e,t){return this.createPanel(e,t,new Qx(!1))}createPivotModePanel(e,t,i){return this.createPanel(e,t,new t_,i)}createPanel(e,t,i,r){return i=e.createBean(i),t.push((()=>e.destroyBean(i))),r?e.prependChild(i):e.appendChild(i),i}},r_={moduleName:"ColumnsToolPanel",version:ww,beans:[i_],userComponents:{agColumnsToolPanel:Ux},icons:{ensureColumnVisible:"column-arrow",columnsToolPanel:"columns",menuAddRowGroup:"group",menuRemoveRowGroup:"group",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},dependsOn:[Sw,rx,Fy.nil,Fy.FRw,Fy.BNB,ox]},s_=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="chartMenuItemMapper"}getChartItems(e){const t=this.beans,i=t.chartSvc,r="pivotChart"===e;if(!i)return null;const s=this.getLocaleTextFunc.bind(this),a=r?new a_(t,i,s):new o_(t,i,s),o=i.isEnterprise();let n=a.getMenuItem();if(n&&n.subMenu&&!o){const e=t=>({...t,subMenu:t.subMenu?.filter((e=>!e._enterprise)).map((t=>e(t)))});n=e(n)}const l=this.gos.get("chartToolPanelsDef")?.settingsPanel?.chartGroupsDef;return l&&(n=this.filterAndOrderChartMenu(n,l,a.getConfigLookup())),this.cleanInternals(n)}cleanInternals(e){if(!e)return e;const t=e=>(delete e?._key,delete e?._enterprise,e?.subMenu?.forEach((e=>t(e))),e);return t(e)}buildLookup(e){const t={},i=e=>{t[e._key]=e,e.subMenu&&e.subMenu.forEach((e=>i(e)))};return i(e),t}filterAndOrderChartMenu(e,t,i){const r=this.buildLookup(e),s={...e,subMenu:[]};for(const e of Object.keys(t)){const a=t[e],o=i[e];if(null===o)continue;if(null==o){(0,Fy.F5b)(173,{group:e});continue}const n=r[o._key];if(n)if(n.subMenu){const t=a.map((t=>{const i=o[t];if(null!=i)return r[i];(0,Fy.F5b)(174,{group:e,chartType:t})})).filter((e=>void 0!==e));t.length>0&&(n.subMenu=t,s.subMenu?.push(n))}else s.subMenu?.push(n)}return 0==s.subMenu?.length?null:s}},a_=class{constructor(e,t,i){this.beans=e,this.chartSvc=t,this.getLocaleTextFunc=i}getMenuItem(){const e=this.getLocaleTextFunc(),t=(t,i,r,s,a=!1)=>({name:e(t,i+"‎"),action:()=>this.chartSvc.createPivotChart({chartType:r}),_key:s,_enterprise:a});return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped","groupedColumn","pivotGroupedColumn"),t("stackedColumn","Stacked","stackedColumn","pivotStackedColumn"),t("normalizedColumn","100% Stacked","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped","groupedBar","pivotGroupedBar"),t("stackedBar","Stacked","stackedBar","pivotStackedBar"),t("normalizedBar","100% Stacked","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[t("pie","Pie","pie","pivotPie"),t("donut","Donut","donut","pivotDonut")]},{_key:"pivotLineChart",name:e("lineChart","Line"),subMenu:[t("lineChart","Line","line","pivotLineChart"),t("stackedLine","Stacked","stackedLine","pivotStackedLine"),t("normalizedLine","100% Stacked","normalizedLine","pivotNormalizedLine")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[t("areaChart","Area","area","pivotArea"),t("stackedArea","Stacked","stackedArea","pivotStackedArea"),t("normalizedArea","100% Stacked","normalizedArea","pivotNormalizedArea")]},{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter","scatter","pivotScatter"),t("bubble","Bubble","bubble","pivotBubble")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:e("statisticalChart","Statistical"),subMenu:[t("histogramChart","Histogram","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:e("hierarchicalChart","Hierarchical"),subMenu:[t("treemapChart","Treemap","treemap","pivotTreemap",!0),t("sunburstChart","Sunburst","sunburst","pivotSunburst",!0)]},{_key:"pivotFunnel",name:e("funnel","Funnel"),subMenu:[t("funnel","Funnel","funnel","pivotFunnel"),t("coneFunnel","Cone Funnel","coneFunnel","pivotConeFunnel"),t("pyramid","Pyramid","pyramid","pivotPyramid")]},{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line","columnLineCombo","pivotColumnLineCombo"),t("AreaColumnCombo","Area & Column","areaColumnCombo","pivotAreaColumnCombo")]}],icon:(0,Fy.scM)("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart",stackedLine:"pivotStackedLine",normalizedLine:"pivotNormalizedLine"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},funnelGroup:{_key:"pivotFunnel",funnel:"pivotFunnel",coneFunnel:"pivotConeFunnel",pyramid:"pivotPyramid"},polarGroup:null,specializedGroup:null}}},o_=class{constructor(e,t,i){this.beans=e,this.chartSvc=t,this.getLocaleTextFunc=i}getMenuItem(){const e=this.getLocaleTextFunc(),t=(t,i,r,s,a=!1)=>({name:e(t,i),action:()=>this.chartSvc.createChartFromCurrentRange(r),_key:s,_enterprise:a});return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped","groupedColumn","rangeGroupedColumn"),t("stackedColumn","Stacked","stackedColumn","rangeStackedColumn"),t("normalizedColumn","100% Stacked","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped","groupedBar","rangeGroupedBar"),t("stackedBar","Stacked","stackedBar","rangeStackedBar"),t("normalizedBar","100% Stacked","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[t("pie","Pie","pie","rangePie"),t("donut","Donut","donut","rangeDonut")],_key:"rangePieChart"},{name:e("lineChart","Line"),subMenu:[t("lineChart","Line","line","rangeLineChart"),t("stackedLine","Stacked","stackedLine","rangeStackedLine"),t("normalizedLine","100% Stacked","normalizedLine","rangeNormalizedLine")],_key:"rangeLineChart"},{name:e("areaChart","Area"),subMenu:[t("areaChart","Area","area","rangeArea"),t("stackedArea","Stacked","stackedArea","rangeStackedArea"),t("normalizedArea","100% Stacked","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter","scatter","rangeScatter"),t("bubble","Bubble","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("polarChart","Polar"),subMenu:[t("radarLine","Radar Line","radarLine","rangeRadarLine"),t("radarArea","Radar Area","radarArea","rangeRadarArea"),t("nightingale","Nightingale","nightingale","rangeNightingale"),t("radialColumn","Radial Column","radialColumn","rangeRadialColumn"),t("radialBar","Radial Bar","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:e("statisticalChart","Statistical"),subMenu:[t("boxPlot","Box Plot","boxPlot","rangeBoxPlot",!0),t("histogramChart","Histogram","histogram","rangeHistogram",!1),t("rangeBar","Range Bar","rangeBar","rangeRangeBar",!0),t("rangeArea","Range Area","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:e("hierarchicalChart","Hierarchical"),subMenu:[t("treemap","Treemap","treemap","rangeTreemap"),t("sunburst","Sunburst","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:e("specializedChart","Specialized"),subMenu:[t("heatmap","Heatmap","heatmap","rangeHeatmap"),t("waterfall","Waterfall","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:e("funnel","Funnel"),subMenu:[t("funnel","Funnel","funnel","rangeFunnel"),t("coneFunnel","Cone Funnel","coneFunnel","rangeConeFunnel"),t("pyramid","Pyramid","pyramid","rangePyramid")],_key:"rangeFunnel",_enterprise:!0},{name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line","columnLineCombo","rangeColumnLineCombo"),t("AreaColumnCombo","Area & Column","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:(0,Fy.scM)("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart",stackedLine:"rangeStackedLine",normalizedLine:"rangeNormalizedLine"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},funnelGroup:{_key:"rangeFunnel",funnel:"rangeFunnel",coneFunnel:"rangeConeFunnel",pyramid:"rangePyramid"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}}},n_=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="colChooserFactory"}createColumnSelectPanel(e,t,i,r){const s=e.createManagedBean(new Gx),a=r??t?.getColDef().columnChooserParams??{},{contractColumnSelection:o,suppressColumnExpandAll:n,suppressColumnFilter:l,suppressColumnSelectAll:c,suppressSyncLayoutWithGrid:d,columnLayout:u}=a;return s.init(!!i,(0,Fy.OHk)(this.gos,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!o,suppressColumnExpandAll:!!n,suppressColumnFilter:!!l,suppressColumnSelectAll:!!c,suppressSyncLayoutWithGrid:!!u||!!d,onStateUpdated:()=>{}}),"columnMenu"),u&&s.setColumnLayout(u),s}showColumnChooser({column:e,chooserParams:t,eventSource:i,headerPosition:r}){this.hideActiveColumnChooser();const s=this.createColumnSelectPanel(this,e,!0,t),a=this.getLocaleTextFunc(),o=this.beans,{visibleCols:n,focusSvc:l,menuUtils:c}=o,d=n.allCols.indexOf(e),u=e?l.focusedHeader??r??null:null;this.activeColumnChooserDialog=this.createBean(new Uw({title:a("chooseColumns","Choose Columns"),component:s,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:()=>{(0,Fy.WEX)(o,s.getGui())?.focus({preventScroll:!0}),this.dispatchVisibleChangedEvent(!0,e)},closedCallback:t=>{const r=this.activeColumnChooser.getGui();this.destroyBean(this.activeColumnChooser),this.activeColumnChooser=void 0,this.activeColumnChooserDialog=void 0,this.dispatchVisibleChangedEvent(!1,e),e&&c.restoreFocusOnClose({column:e,headerPosition:u,columnIndex:d,eventSource:i},r,t,!0)},postProcessPopupParams:{type:"columnChooser",column:e,eventSource:i}})),this.activeColumnChooser=s}hideActiveColumnChooser(){this.destroyBean(this.activeColumnChooserDialog)}dispatchVisibleChangedEvent(e,t){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:"columnChooser",column:t??null})}},l_={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",pinRowSubMenu:"PinnedRow",pinBottom:"PinnedRow",pinTop:"PinnedRow",unpinRow:"PinnedRow",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},c_="separator";function d_(e,t){if(e)for(let i=e.length-2;i>=0;i--){const r=e[i]===t,s=e[i+1]===t;r&&s&&e.splice(i+1,1)}}var u_=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="menuItemMapper"}mapWithStockItems(e,t,i,r,s){if(!e)return[];const a=[],o=this.getLocaleTextFunc(),{beans:n,gos:l}=this,{pinnedCols:c,colAutosize:d,aggFuncSvc:u,rowGroupColsSvc:p,colNames:h,colModel:m,clipboardSvc:g,expansionSvc:b,focusSvc:f,csvCreator:v,excelCreator:y,menuSvc:C,colChooserFactory:k,sortSvc:w,chartMenuItemMapper:S,valueColsSvc:x,pinnedRowModel:_}=n;return e.forEach((e=>{let E;if(E="string"==typeof e?((e,t,r,s)=>{switch(function(e,t){const i=l_[t];i&&e.assertModuleRegistered(i,`menu item '${t}'`)}(l,e),e){case"pinSubMenu":return c&&t?{name:o("pinColumn","Pin Column"),icon:(0,Fy.scM)("menuPin",n,null),subMenu:["clearPinned","pinLeft","pinRight"]}:null;case"pinLeft":return c&&t?{name:o("pinLeft","Pin Left"),action:()=>c.setColsPinned([t],"left",s),checked:!!t&&t.isPinnedLeft()}:null;case"pinRight":return c&&t?{name:o("pinRight","Pin Right"),action:()=>c.setColsPinned([t],"right",s),checked:!!t&&t.isPinnedRight()}:null;case"clearPinned":return c&&t?{name:o("noPin","No Pin"),action:()=>c.setColsPinned([t],null,s),checked:!!t&&!t.isPinned()}:null;case"pinRowSubMenu":{const e=l.get("enableRowPinning"),r=[],s=i?.rowPinned??i?.pinnedSibling?.rowPinned;return s&&r.push("unpinRow"),e&&"bottom"!==e&&"top"!=s&&r.push("pinTop"),e&&"top"!==e&&"bottom"!=s&&r.push("pinBottom"),_?.isManual()?{name:o("pinRow","Pin Row"),icon:(0,Fy.scM)("rowPin",n,t),subMenu:r}:null}case"pinTop":return _?.isManual()?{name:o("pinTop","Pin to Top"),icon:(0,Fy.scM)("rowPinTop",n,t),action:({node:e,column:t})=>e&&_.pinRow(e,"top",t)}:null;case"pinBottom":return _?.isManual()?{name:o("pinBottom","Pin to Bottom"),icon:(0,Fy.scM)("rowPinBottom",n,t),action:({node:e,column:t})=>e&&_.pinRow(e,"bottom",t)}:null;case"unpinRow":return _?.isManual()?{name:o("unpinRow","Unpin Row"),icon:(0,Fy.scM)("rowUnpin",n,t),action:({node:e,column:t})=>e&&_.pinRow(e,null,t)}:null;case"valueAggSubMenu":return u&&x&&(t?.isPrimary()||t?.getColDef().pivotValueColumn)?{name:o("valueAggregation","Value Aggregation"),icon:(0,Fy.scM)("menuValue",n,null),subMenu:p_(t,u,x,o),disabled:l.get("functionsReadOnly")}:null;case"autoSizeThis":return d?{name:o("autosizeThisColumn","Autosize This Column"),action:()=>d.autoSizeColumn(t,s,l.get("skipHeaderOnAutoSize"))}:null;case"autoSizeAll":return d?{name:o("autosizeAllColumns","Autosize All Columns"),action:()=>d.autoSizeAllColumns(s,l.get("skipHeaderOnAutoSize"))}:null;case"rowGroup":return p?{name:o("groupBy","Group by")+" "+h.getDisplayNameForColumn(t,"header"),disabled:l.get("functionsReadOnly")||t?.isRowGroupActive()||!t?.getColDef().enableRowGroup,action:()=>p.addColumns([t],s),icon:(0,Fy.scM)("menuAddRowGroup",n,null)}:null;case"rowUnGroup":if(p&&l.isModuleRegistered("SharedRowGrouping")){const e=t?.getColDef().showRowGroup,i=l.get("groupLockGroupColumns");let r,a,c;if(!0===e)r=o("ungroupAll","Un-Group All"),a=l.get("functionsReadOnly")||-1===i||i>=(p.columns.length??0),c=()=>p.setColumns(p.columns.slice(0,i),s);else if("string"==typeof e){const t=m.getColDefCol(e),i=null!=t?h.getDisplayNameForColumn(t,"header"):e;r=o("ungroupBy","Un-Group by")+" "+i,a=l.get("functionsReadOnly")||Sx(t,n),c=()=>{p.removeColumns([e],s)}}else r=o("ungroupBy","Un-Group by")+" "+h.getDisplayNameForColumn(t,"header"),a=l.get("functionsReadOnly")||!t?.isRowGroupActive()||!t?.getColDef().enableRowGroup||Sx(t,n),c=()=>p.removeColumns([t],s);return{name:r,disabled:a,action:c,icon:(0,Fy.scM)("menuRemoveRowGroup",n,null)}}return null;case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:()=>(0,Fy.UQc)(n,s)};case"expandAll":return b?{name:o("expandAll","Expand All Row Groups"),action:()=>b.expandAll(!0)}:null;case"contractAll":return b?{name:o("collapseAll","Collapse All Row Groups"),action:()=>b.expandAll(!1)}:null;case"copy":return g?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:(0,Fy.scM)("clipboardCopy",n,null),action:()=>g.copyToClipboard()}:null;case"copyWithHeaders":return g?{name:o("copyWithHeaders","Copy with Headers"),icon:(0,Fy.scM)("clipboardCopy",n,null),action:()=>g.copyToClipboard({includeHeaders:!0})}:null;case"copyWithGroupHeaders":return g?{name:o("copyWithGroupHeaders","Copy with Group Headers"),icon:(0,Fy.scM)("clipboardCopy",n,null),action:()=>g.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}:null;case"cut":if(g){const e=f.getFocusedCell(),t=e?(0,Fy.vas)(n,e):null,i=!!t&&e?.column.isCellEditable(t);return{name:o("cut","Cut"),shortcut:o("ctrlX","Ctrl+X"),icon:(0,Fy.scM)("clipboardCut",n,null),disabled:!i||l.get("suppressCutToClipboard"),action:()=>g.cutToClipboard(void 0,"contextMenu")}}return null;case"paste":return g?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:(0,Fy.scM)("clipboardPaste",n,null),action:()=>g.pasteFromClipboard()}:null;case"export":{const e=[];return!l.get("suppressCsvExport")&&v&&e.push("csvExport"),!l.get("suppressExcelExport")&&y&&e.push("excelExport"),e.length?{name:o("export","Export"),subMenu:e,icon:(0,Fy.scM)("save",n,null)}:null}case"csvExport":return v?{name:o("csvExport","CSV Export"),icon:(0,Fy.scM)("csvExport",n,null),action:()=>v.exportDataAsCsv()}:null;case"excelExport":return y?{name:o("excelExport","Excel Export"),icon:(0,Fy.scM)("excelExport",n,null),action:()=>y.exportDataAsExcel()}:null;case"separator":return e;case"pivotChart":case"chartRange":return S.getChartItems(e);case"columnFilter":return C&&t?{name:o("columnFilter","Column Filter"),icon:(0,Fy.scM)("filter",n,null),action:()=>C.showFilterMenu({column:t,buttonElement:r(),containerType:"columnFilter",positionBy:"button"})}:null;case"columnChooser":{const e=f.focusedHeader;return k?{name:o("columnChooser","Choose Columns"),icon:(0,Fy.scM)("columns",n,null),action:()=>k.showColumnChooser({column:t,eventSource:r(),headerPosition:e})}:null}case"sortAscending":return w?{name:o("sortAscending","Sort Ascending"),icon:(0,Fy.scM)("sortAscending",n,null),action:()=>w.setSortForColumn(t,"asc",!1,s)}:null;case"sortDescending":return w?{name:o("sortDescending","Sort Descending"),icon:(0,Fy.scM)("sortDescending",n,null),action:()=>w.setSortForColumn(t,"desc",!1,s)}:null;case"sortUnSort":return w?{name:o("sortUnSort","Clear Sort"),icon:(0,Fy.scM)("sortUnSort",n,null),action:()=>w.setSortForColumn(t,null,!1,s)}:null;default:return(0,Fy.F5b)(176,{key:e}),null}})(e,t,r,s):{...e},!E)return;const M=E,{subMenu:T}=M;T&&T instanceof Array&&(M.subMenu=this.mapWithStockItems(T,t,i,r,s)),null!=E&&a.push(E)})),d_(a,c_),a}};function p_(e,t,i,r){let s;if(e.isPrimary())s=e;else{const t=e.getColDef().pivotValueColumn;s=(0,Fy.fTC)(t)?t:void 0}const a=[];if(s){const e=s.isValueActive(),o=t.getFuncNames(s);a.push({name:r("noAggregation","None"),action:()=>{i.removeColumns([s],"contextMenu"),i.setColumnAggFunc(s,void 0,"contextMenu")},checked:!e}),o.forEach((o=>{a.push({name:r(o,t.getDefaultFuncLabel(o)),action:()=>{i.setColumnAggFunc(s,o,"contextMenu"),i.addColumns([s],"contextMenu")},checked:e&&s.getAggFunc()===o})}))}return a}var h_=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="colMenuFactory"}createMenu(e,t,i,r){const s=e.createManagedBean(new Tx(0,{column:i??null,node:null,value:null})),a=this.beans.menuItemMapper.mapWithStockItems(t,i??null,null,r,"columnMenu");return s.addMenuItems(a),s}getMenuItems(e=null,t=null){const i=this.getDefaultMenuOptions(e);let r;const s=(e?.getColDef()??t?.getColGroupDef())?.mainMenuItems;if(Array.isArray(s))r=s;else if("function"==typeof s)r=s((0,Fy.OHk)(this.gos,{column:e,columnGroup:t,defaultItems:i}));else{const s=this.gos.getCallback("getMainMenuItems");r=s?s({column:e,columnGroup:t,defaultItems:i}):i}return d_(r,c_),r}getDefaultMenuOptions(e){const t=[],{beans:i,gos:r}=this,{colChooserFactory:s,rowGroupColsSvc:a,colModel:o,expansionSvc:n,sortSvc:l,menuSvc:c,pinnedCols:d,aggFuncSvc:u,colAutosize:p}=i,h=(0,Fy.hOE)(r),m=()=>{!h&&s&&t.push("columnChooser"),t.push("resetColumns")};if(!e)return m(),t;const{colDef:g}=e,b=d&&!g.lockPinned,f=a?.columns.length??0,v=f>0,y=e.isPrimary(),C=u&&y&&v&&e.isAllowValue()||!y;if(l&&!h&&e.isSortable()){const i=e.getSort();"asc"!==i&&t.push("sortAscending"),"desc"!==i&&t.push("sortDescending"),i&&t.push("sortUnSort"),t.push(c_)}if(c?.isFilterMenuItemEnabled(e)&&(t.push("columnFilter"),t.push(c_)),b&&t.push("pinSubMenu"),C&&t.push("valueAggSubMenu"),(b||C)&&t.push(c_),p&&(t.push("autoSizeThis"),t.push("autoSizeAll"),t.push(c_)),a&&r.isModuleRegistered("SharedRowGrouping")){const r=t.length;g.showRowGroup?t.push("rowUnGroup"):e.isAllowRowGroup()&&y&&(e.isRowGroupActive()?Sx(e,i)||t.push("rowUnGroup"):t.push("rowGroup")),t.length>r&&t.push(c_)}return m(),n&&(0,Fy.qYz)(r)&&(r.get("treeData")||f>(o.isPivotMode()?1:0))&&(t.push("expandAll"),t.push("contractAll")),t}},m_="ag-context-menu-open",g_=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="contextMenuSvc",this.destroyLoadingSpinner=null,this.lastPromise=0}hideActiveMenu(){this.destroyBean(this.activeMenu)}getMenuItems(e,t,i,r){const s=[],{clipboardSvc:a,chartSvc:o,csvCreator:n,excelCreator:l,colModel:c,rangeSvc:d,gos:u}=this.beans;if((0,Fy.fTC)(e)&&a&&t&&(u.get("suppressCutToClipboard")||s.push("cut"),s.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),u.get("enableCharts")&&o&&(c.isPivotMode()&&s.push("pivotChart"),d&&!d.isEmpty()&&s.push("chartRange")),(0,Fy.fTC)(e)){const t=u.get("enableRowPinning"),i=u.get("isRowPinnable"),r=u.get("grandTotalRow");if(t){const t=e.level>-1&&e.footer,a=-1===e.level&&e.footer;(a&&"pinnedBottom"!==r&&"pinnedTop"!==r||!a&&!t)&&(i?.(e)??1)&&s.push("pinRowSubMenu")}const a=u.get("suppressExcelExport")||!l,o=u.get("suppressCsvExport")||!n;!((0,Fy.PmN)()||a&&o)&&s.push("export")}const p=s.length?s:void 0,h=t?.getColDef().contextMenuItems;if(Array.isArray(h))return h;if("function"==typeof h)return h((0,Fy.OHk)(u,{column:t,node:e,value:i,defaultItems:p,event:r}));const m=u.getCallback("getContextMenuItems");return m?.({column:t,node:e,value:i,defaultItems:p,event:r})??s}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),r=this.getCellGui(i,t);if(!r)return{x:0,y:i?.getRowYPosition()??0};const s=r.getBoundingClientRect();return{x:s.x+s.width/2,y:s.y+s.height/2}}showContextMenu(e){const t=e.rowNode??null,i=e.column??null;let{anchorToElement:r,value:s,source:a}=e;t&&i&&null==s&&(s=this.beans.valueSvc.getValueForDisplay(i,t).value),null==r&&(r=this.getContextMenuAnchorElement(t,i)),this.beans.menuUtils.onContextMenu({mouseEvent:e.mouseEvent??null,touchEvent:e.touchEvent??null,showMenuCallback:e=>this.showMenu(t,i,s,e,r),source:a})}handleContextMenuMouseEvent(e,t,i,r){const s=r?.rowNode??i?.rowNode??null,a=r?.column??i?.findFullWidthInfoForEvent(e||t)?.column??null,{valueSvc:o,ctrlsSvc:n}=this.beans,l=a?o.getValue(a,s):null,c=n.getGridBodyCtrl(),d=r?r.eGui:c.eGridBody;this.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:s,column:a,value:l,anchorToElement:d,source:"ui"})}showMenu(e,t,i,r,s){const a=this.getMenuItems(e,t,i,r);if((0,Fy.UC4)(a)){const o=this.lastPromise+1;return this.lastPromise=o,this.destroyLoadingSpinner||this.createLoadingIcon(r),a.then((a=>{if(this.lastPromise!==o)return;const{target:n}=r,l=!n;a&&a.length&&(l||(0,Fy.Y4l)(n))&&!this.beans.overlays?.isExclusive()&&this.createContextMenu({menuItems:a,node:e,column:t,value:i,mouseEvent:r,anchorToElement:s}),this.destroyLoadingSpinner?.()})),!0}return!(void 0===a||!a?.length||(this.createContextMenu({menuItems:a,node:e,column:t,value:i,mouseEvent:r,anchorToElement:s}),0))}createLoadingIcon(e){const{beans:t}=this,i=this.getLocaleTextFunc(),r=(0,Fy.scM)("loadingMenuItems",t),s=(0,Fy.Xye)({tag:"div",cls:"ag-context-menu-loading-icon"});s.appendChild(r);const a=(0,Fy.g_$)(t),o=(0,Fy.SgB)(t);if(!o)return void(0,Fy.F5b)(54);o.appendChild(s),t.ariaAnnounce?.announceValue(i("ariaLabelLoadingContextMenu","Loading Context Menu"),"contextmenu"),t.environment.applyThemeClasses(s),(0,Fy.NwA)(s,e,t);const n=e=>{(0,Fy.NwA)(s,e,t)};a.addEventListener("mousemove",n),this.destroyLoadingSpinner=()=>{a.removeEventListener("mousemove",n),o.removeChild(s),this.destroyLoadingSpinner=null}}createContextMenu(e){const{menuItems:t,node:i,column:r,value:s,mouseEvent:a,anchorToElement:o}=e,{ctrlsSvc:n,focusSvc:l,popupSvc:c}=this.beans,d=n.getGridBodyCtrl().eGridBody,u=new b_(t,r,i,s);this.createBean(u);const p=u.getGui();r||l.clearFocusedCell();const h={column:r,rowNode:i,type:"contextMenu",mouseEvent:a,ePopup:p,nudgeY:1},m=this.getLocaleTextFunc(),g=c?.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:e=>{(0,Fy.zlI)(this.beans,(()=>{d.classList.remove(m_),this.destroyBean(u),this.dispatchVisibleChangedEvent(!1,void 0===e?"api":"ui")}))},click:a,positionCallback:()=>{const e=this.gos.get("enableRtl");c?.positionPopupUnderMouseEvent({...h,nudgeX:e?-1*(p.offsetWidth+1):1})},anchorToElement:o,ariaLabel:m("ariaLabelContextMenu","Context Menu")});g&&(d.classList.add(m_),u.afterGuiAttached({container:"contextMenu",hidePopup:g.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=u,u.addEventListener("destroyed",(()=>{this.activeMenu===u&&(this.activeMenu=null)})),g&&u.addEventListener("closeMenu",(e=>g.hideFunc({mouseEvent:e.mouseEvent??void 0,keyboardEvent:e.keyboardEvent??void 0,forceHide:!0})));const b=a&&a instanceof MouseEvent&&"mousedown"===a.type;this.dispatchVisibleChangedEvent(!0,b?"api":"ui")}dispatchVisibleChangedEvent(e,t="ui"){this.eventSvc.dispatchEvent({type:"contextMenuVisibleChanged",visible:e,source:t})}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.beans.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return i?.eGui||void 0}getContextMenuAnchorElement(e,t){const i=this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody,r=this.getRowCtrl(e);if(!r)return i;return this.getCellGui(r,t)||(r.isFullWidth()?r.getFullWidthElement():i)}destroy(){this.destroyLoadingSpinner?.(),super.destroy()}},b_=class extends Fy.wA2{constructor(e,t,i,r){super({tag:"div",cls:"ag-menu",role:"presentation"}),this.menuItems=e,this.column=t,this.node=i,this.value=r,this.menuList=null,this.focusedCell=null}postConstruct(){const e=this.createManagedBean(new Tx(0,{column:this.column,node:this.node,value:this.value})),t=this.beans.menuItemMapper.mapWithStockItems(this.menuItems,this.column,this.node,(()=>this.getGui()),"contextMenu");e.addMenuItems(t),this.appendChild(e),this.menuList=e,e.addEventListener("closeMenu",(e=>this.dispatchLocalEvent(e)))}afterGuiAttached({hidePopup:e}){e&&this.addDestroyFunc(e),this.focusedCell=this.beans.focusSvc.getFocusedCell();const t=this.menuList;t&&(0,Fy.zlI)(this.beans,(()=>(0,Fy.exX)(t.getGui())))}restoreFocusedCell(){const{beans:e,focusedCell:t}=this,i=e.focusSvc,r=i.getFocusedCell();if(r&&t&&(0,Fy.xEM)(r,t)){const{rowIndex:r,rowPinned:s,column:a}=t;(0,Fy.kAG)(e)&&i.setFocusedCell({rowIndex:r,column:a,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!(0,Fy.Qgp)()})}}destroy(){super.destroy(),this.restoreFocusedCell()}},f_=class extends Fy.BxR{constructor(e){var t;super({tag:"div",cls:`ag-tabs ${t=e.cssClass}`,children:[{tag:"div",ref:"eHeader"},{tag:"div",ref:"eBody",role:"presentation",cls:"ag-tabs-body "+(t?`${t}-body`:"")}]}),this.eHeader=Fy.CUI,this.eBody=Fy.CUI,this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach((e=>this.addItem(e))),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc((()=>this.activeItem?.tabbedItem?.afterDetachedCallback?.()))}setupHeader(){const{enableCloseButton:e,cssClass:t}=this.params,i=(e,i)=>{e.classList.add(`ag-tabs-${i}`),t&&e.classList.add(`${t}-${i}`)};e?(this.setupCloseButton(i),this.eTabHeader=(0,Fy.Xye)({tag:"div",role:"presentation"}),i(this.eHeader,"header-wrapper"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,(0,Fy.Znd)(this.eTabHeader,"tablist"),i(this.eTabHeader,"header")}setupCloseButton(e){const t=(0,Fy.Xye)({tag:"button"});e(t,"close-button");const i=(0,Fy.scM)("close",this.beans);(0,Fy.xER)(t,this.params.closeButtonAriaLabel),t.appendChild(i),this.addManagedElementListeners(t,{click:()=>this.params.onCloseClicked?.()});const r=(0,Fy.Xye)({tag:"div",role:"presentation"});e(r,"close-button-wrapper"),r.appendChild(t),this.eHeader.appendChild(r),this.eCloseButton=t}handleKeyDown(e){switch(e.key){case Fy.KeyCode.RIGHT:case Fy.KeyCode.LEFT:{if(!this.eTabHeader.contains((0,Fy.HB1)(this.beans)))return;const t=e.key===Fy.KeyCode.RIGHT,i=this.gos.get("enableRtl"),r=this.items.indexOf(this.activeItem),s=t!==i?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===s)return;e.preventDefault();const a=this.items[s];this.showItemWrapper(a),a.eHeaderButton.focus();break}case Fy.KeyCode.UP:case Fy.KeyCode.DOWN:e.stopPropagation()}}onTabKeyDown(e){if(e.defaultPrevented)return;const{beans:t,eHeader:i,eBody:r,activeItem:s,params:a}=this,{suppressTrapFocus:o,enableCloseButton:n}=a,l=(0,Fy.HB1)(t),c=e.target,d=e.shiftKey;if(i.contains(l))return e.preventDefault(),void(n&&d&&!this.eCloseButton?.contains(l)?this.eCloseButton?.focus():o&&d?OS((0,Fy.rtB)(t).body,c)?.focus():this.focusBody(e.shiftKey));let u=null;BS(r,c)&&(d&&(u=OS(r,c)),u||o||(u=s.eHeaderButton)),u||!r.contains(l)||(u=(0,Fy.WEX)(t,r,!1,d),u)?u&&(e.preventDefault(),u.focus()):o&&!d?this.forceFocusOutOfContainer(d):n&&!d?(e.preventDefault(),this.eCloseButton?.focus()):(e.preventDefault(),this.focusHeader())}focusInnerElement(e){return e?this.focusBody(!0):(this.focusHeader(),!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){return(0,Fy.exX)(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=(0,Fy.Xye)({tag:"span",cls:"ag-tab",role:"tab",attrs:{tabindex:"-1"}});t.appendChild(e.title),this.eTabHeader.appendChild(t),(0,Fy.xER)(t,e.titleLabel);const i={tabbedItem:e,eHeaderButton:t};this.items.push(i),t.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){const t=this.items.find((t=>t.tabbedItem===e));t&&this.showItemWrapper(t)}showItemWrapper(e){const{tabbedItem:t,eHeaderButton:i}=e;this.params.onItemClicked?.({item:t}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),(0,Fy.wvc)(this.eBody),t.bodyPromise.then((e=>{this.eBody.appendChild(e);const i=!(0,Fy.Qgp)();if(this.params.suppressFocusBodyOnOpen||(0,Fy.exX)(this.eBody,!1,i),t.afterAttachedCallback&&t.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const i=t.getScrollableContainer&&t.getScrollableContainer()||e;[this.lastScrollListener]=this.addManagedElementListeners(i,{scroll:()=>{this.tabbedItemScrollMap.set(t.name,i.scrollTop)}});const r=this.tabbedItemScrollMap.get(t.name);void 0!==r&&setTimeout((()=>{i.scrollTop=r}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),this.activeItem.tabbedItem.afterDetachedCallback?.()),i.classList.add("ag-tab-selected"),this.activeItem=e):this.params.onActiveItemClicked?.()}},v_="filterMenuTab",y_="generalMenuTab",C_="columnsMenuTab",k_=[y_,v_,C_],w_=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="enterpriseMenuFactory"}hideActiveMenu(){this.destroyBean(this.activeMenu)}showMenuAfterMouseEvent(e,t,i,r,s){const{column:a,columnGroup:o}=this.splitColumnOrGroup(e),n=s?"filterMenuTab":void 0;this.showMenu(a,o,(e=>{const r=e.getGui();this.beans.popupSvc.positionPopupUnderMouseEvent({type:i,column:a,mouseEvent:t,ePopup:r}),n&&e.showTab?.(n),this.dispatchVisibleChangedEvent(!0,!1,a,o,n)}),i,n,void 0,t.target,r)}splitColumnOrGroup(e){const t=e&&(0,Fy.t3s)(e);return{column:t?e:void 0,columnGroup:t?void 0:e}}showMenuAfterButtonClick(e,t,i,r,s){let a=-1,o="left";this.gos.get("enableRtl")&&(a=1,o="right");const n=s?"filterMenuTab":void 0,l=n?[n]:void 0,c=(0,Fy.hOE)(this.gos),d=(c?9:4)*a,u=c?-23:4,{column:p,columnGroup:h}=this.splitColumnOrGroup(e);this.showMenu(p,h,(e=>{const r=e.getGui();this.beans.popupSvc.positionPopupByComponent({type:i,column:p,eventSource:t,ePopup:r,alignSide:o,nudgeX:d,nudgeY:u,position:"under",keepWithinBounds:!0}),n&&e.showTab?.(n),this.dispatchVisibleChangedEvent(!0,!1,p,h,n)}),i,n,l,t,r)}showMenu(e,t,i,r,s,a,o,n){const l=this.getMenuParams(e,t,a,o);if(!l)return;const{menu:c,eMenuGui:d,anchorToElement:u,restoreFocusParams:p}=l,h=[],{menuUtils:m,popupSvc:g}=this.beans;h.push((t=>{const i=c.getGui();this.destroyBean(c),e&&((0,Fy.cU3)(e,!1,"contextMenu"),m.restoreFocusOnClose(p,i,t)),n?.()}));const b=this.getLocaleTextFunc();if(g.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:i=>{h.forEach((e=>e(i))),this.dispatchVisibleChangedEvent(!1,!1,e,t,s)},afterGuiAttached:e=>c.afterGuiAttached(Object.assign({},{container:r},e)),positionCallback:s?()=>i(c):void 0,ariaLabel:b("ariaLabelColumnMenu","Column Menu")}),s||(c.showTabBasedOnPreviousSelection?.(),i(c)),(0,Fy.wOL)(this.gos)){const t=g.setPopupPositionRelatedToElement(d,u);t&&e&&this.addStopAnchoring(t,e,h)}c.addEventListener("tabSelected",(t=>{this.dispatchVisibleChangedEvent(!1,!0,e),this.lastSelectedTab=t.key,this.dispatchVisibleChangedEvent(!0,!0,e)})),e&&(0,Fy.cU3)(e,!0,"contextMenu"),this.activeMenu=c,c.addEventListener("destroyed",(()=>{this.activeMenu===c&&(this.activeMenu=null)}))}addStopAnchoring(e,t,i){e.then((e=>{t.__addEventListener("leftChanged",e),t.__addEventListener("visibleChanged",e),i.push((()=>{t.__removeEventListener("leftChanged",e),t.__removeEventListener("visibleChanged",e)}))}))}getMenuParams(e,t,i,r){const{focusSvc:s,visibleCols:a,ctrlsSvc:o}=this.beans,n={column:e,headerPosition:s.focusedHeader,columnIndex:a.allCols.indexOf(e),eventSource:r},l=this.createMenu(e,t,n,i,r);return l?{menu:l,eMenuGui:l.getGui(),anchorToElement:r||o.getGridBodyCtrl().eGridBody,restoreFocusParams:n}:void 0}createMenu(e,t,i,r,s){if((0,Fy.hOE)(this.gos))return this.createBean(new S_(e,i,this.lastSelectedTab,r,s));{const r=this.beans.colMenuFactory.getMenuItems(e,t);return r.length?this.createBean(new x_(r,e,i,s)):void 0}}dispatchVisibleChangedEvent(e,t,i,r,s){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:t,key:this.lastSelectedTab??s??((0,Fy.hOE)(this.gos)?y_:"columnMenu"),column:i??null,columnGroup:r??null})}isMenuEnabled(e){if(!(0,Fy.hOE)(this.gos))return!0;const t=!this.beans.filterManager?.isFilterAllowed(e),i=e.getColDef().menuTabs??k_;return(t&&i.includes(v_)?i.length-1:i.length)>0}showMenuAfterContextMenuEvent(e,t,i){this.beans.menuUtils.onContextMenu({mouseEvent:t,touchEvent:i,source:"ui",showMenuCallback:t=>(this.showMenuAfterMouseEvent(e,t,"columnMenu"),!0)})}},S_=class extends Fy.AS9{constructor(e,t,i,r,s){super(),this.column=e,this.restoreFocusParams=t,this.initialSelection=i,this.restrictTo=r,this.sourceElement=s,this.tabFactories={},this.includeChecks={};const{tabFactories:a,includeChecks:o}=this;a[y_]=this.createMainPanel.bind(this),a[v_]=this.createFilterPanel.bind(this),a[C_]=this.createColumnsPanel.bind(this),o[y_]=()=>!0,o[v_]=()=>!!e&&!!this.beans.filterManager?.isFilterAllowed(e),o[C_]=()=>!0}postConstruct(){const e=this.getTabsToCreate().map((e=>this.createTab(e))),t=new f_({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)});this.tabbedLayout=this.createBean(t),this.mainMenuList?.setParentComponent(t),this.addDestroyFunc((()=>this.destroyBean(t)))}getTabsToCreate(){return this.restrictTo?this.restrictTo:(this.column?.getColDef().menuTabs??k_).filter((e=>this.isValidMenuTabItem(e)&&this.isNotSuppressed(e)))}isValidMenuTabItem(e){let t=!0,i=k_;return null!=this.restrictTo&&(t=this.restrictTo.indexOf(e)>-1,i=this.restrictTo),t=t&&k_.indexOf(e)>-1,t||(0,Fy.F5b)(175,{menuTabName:e,itemsToConsider:i}),t}isNotSuppressed(e){return this.includeChecks[e]()}createTab(e){return this.tabFactories[e]()}showTabBasedOnPreviousSelection(){this.showTab(this.initialSelection)}showTab(e){const{tabItemColumns:t,tabbedLayout:i,tabItemFilter:r,tabItemGeneral:s}=this;t&&e===C_?i.showItem(t):r&&e===v_?i.showItem(r):s&&e===y_?i.showItem(s):i.showFirstItem()}onTabItemClicked(e){let t=null;switch(e.item){case this.tabItemColumns:t=C_;break;case this.tabItemFilter:t=v_;break;case this.tabItemGeneral:t=y_}t&&this.activateTab(t)}activateTab(e){const t={type:"tabSelected",key:e};this.dispatchLocalEvent(t)}createMainPanel(){const{beans:e,column:t}=this,i=e.colMenuFactory,r=i.createMenu(this,i.getMenuItems(t),this.column,(()=>this.sourceElement??this.getGui()));this.mainMenuList=r,r.addEventListener("closeMenu",this.onHidePopup.bind(this));const s={title:(0,Fy.scM)("legacyMenu",e,t),titleLabel:y_.replace("MenuTab",""),bodyPromise:Fy.j_S.resolve(r.getGui()),name:y_};return this.tabItemGeneral=s,s}onHidePopup(e){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)}createFilterPanel(){const e=this.column?this.createBean(new Fy.yQX(this.column,"COLUMN_MENU")):null;return this.filterComp=e,e?.hasFilter()||(0,Fy.U0c)(119),this.tabItemFilter={title:(0,Fy.scM)("filterTab",this.beans,this.column),titleLabel:v_.replace("MenuTab",""),bodyPromise:Fy.j_S.resolve(e?.getGui()),afterAttachedCallback:t=>e?.afterGuiAttached(t),afterDetachedCallback:()=>e?.afterGuiDetached(),name:v_},this.tabItemFilter}createColumnsPanel(){const e=(0,Fy.Xye)({tag:"div",cls:"ag-menu-column-select-wrapper"}),{beans:t,column:i}=this,r=t.colChooserFactory.createColumnSelectPanel(this,i).getGui();r.classList.add("ag-menu-column-select"),e.appendChild(r);const s={title:(0,Fy.scM)("columns",t,i),titleLabel:C_.replace("MenuTab",""),bodyPromise:Fy.j_S.resolve(e),name:C_};return this.tabItemColumns=s,s}afterGuiAttached(e){const{container:t,hidePopup:i}=e;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:i}),i&&(this.hidePopupFunc=i,this.addDestroyFunc(i))}getGui(){return this.tabbedLayout.getGui()}destroy(){super.destroy(),this.destroyBean(this.filterComp)}},x_=class extends Fy.wA2{constructor(e,t,i,r){super({tag:"div",ref:"eColumnMenu",cls:"ag-menu ag-column-menu",role:"presentation"}),this.menuItems=e,this.column=t,this.restoreFocusParams=i,this.sourceElement=r,this.eColumnMenu=Fy.CUI}postConstruct(){const e=this.beans.colMenuFactory.createMenu(this,this.menuItems,this.column,(()=>this.sourceElement??this.getGui()));this.mainMenuList=e,e.addEventListener("closeMenu",this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(e.getGui())}onHidePopup(e){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)}afterGuiAttached({hidePopup:e}){e&&(this.hidePopupFunc=e,this.addDestroyFunc(e)),(0,Fy.exX)(this.mainMenuList.getGui())}},__=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="menuUtils"}restoreFocusOnClose(e,t,i,r){const{eventSource:s}=e,a=i instanceof KeyboardEvent;if(!r&&!a||!s)return;const o=(0,Fy.HB1)(this.beans);(t.contains(o)||(0,Fy.kAG)(this.beans))&&this.focusHeaderCell(e)}closePopupAndRestoreFocusOnSelect(e,t,i){let r;i&&i.keyboardEvent&&(r=i.keyboardEvent),e(r&&{keyboardEvent:r});const s=this.beans,a=s.focusSvc,o=a.getFocusedCell();if((0,Fy.kAG)(s))if(o){const{rowIndex:e,rowPinned:t,column:i}=o;a.setFocusedCell({rowIndex:e,column:i,rowPinned:t,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}else this.focusHeaderCell(t)}onContextMenu(e){const{mouseEvent:t,touchEvent:i,showMenuCallback:r,source:s}=e;if((this.gos.get("allowContextMenuWithControlKey")||!t||!t.ctrlKey&&!t.metaKey)&&(t&&this.blockMiddleClickScrollsIfNeeded(t),("ui"!==s||!this.gos.get("suppressContextMenu"))&&r(t??i.touches[0]))){const e=t??i;e&&e.cancelable&&e.preventDefault()}}async focusHeaderCell(e){const{column:t,columnIndex:i,headerPosition:r,eventSource:s}=e,{visibleCols:a,headerNavigation:o,focusSvc:n}=this.beans,l=await a.allCols.some((e=>e===t));if(this.isAlive())if(t?.isAlive()&&l&&s&&(0,Fy.Y4l)(s)){const e=(0,Fy.jdn)(s);e&&(o?.scrollToColumn(t),e.focus())}else if(r&&-1!==i){const e=a.allCols,t=e[i]||(0,Fy._O9)(e);t&&n.focusHeaderPosition({headerPosition:{headerRowIndex:r.headerRowIndex,column:t}})}}blockMiddleClickScrollsIfNeeded(e){this.gos.get("suppressMiddleClickScrolls")&&2===e.which&&e.preventDefault()}},E_={moduleName:"MenuCore",version:ww,beans:[u_,s_,__],icons:{chart:"chart",columns:"columns",loadingMenuItems:"loading",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",save:"save",csvExport:"csv",excelExport:"excel",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"},dependsOn:[Sw,Fy.BNB,Fy.GgH,ox]},M_={moduleName:"ColumnMenu",version:ww,beans:[w_,h_,n_],icons:{ensureColumnVisible:"column-arrow",legacyMenu:"menu",filterTab:"filter",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},apiFunctions:{showColumnChooser:function(e,t){e.colChooserFactory?.showColumnChooser({chooserParams:t})},hideColumnChooser:function(e){e.colChooserFactory?.hideActiveColumnChooser()}},dependsOn:[E_,Fy.FRw,Fy.nil]},T_={moduleName:"ContextMenu",version:ww,beans:[g_],apiFunctions:{showContextMenu:function(e,t){const{contextMenuSvc:i}=e;if(!i)return;const{rowNode:r,column:s,value:a,x:o,y:n}=t||{};let{x:l,y:c}=i.getContextMenuPosition(r,s);null!=o&&(l=o),null!=n&&(c=n),i.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:l,clientY:c}),rowNode:r,column:s,value:a,source:"api"})}},dependsOn:[E_]},P_=class extends Fy.RXH{constructor(){super({tag:"div",cls:"ag-cell-edit-wrapper"}),this.isAsync=!1}init(e){this.params=e;const{cellStartedEdit:t,values:i,eventKey:r}=e;(0,Fy.n92)(i)&&(0,Fy.F5b)(180);const{params:s,valuesPromise:a}=this.buildRichSelectParams(),o=this.createManagedBean(new hS(s));this.richSelect=o,o.addCss("ag-cell-editor"),this.appendChild(o),a&&(this.isAsync=!0,a.then((e=>{o.setValueList({valueList:e,refresh:!0});const t=this.getSearchStringCallback(e);t&&o.setSearchStringCreator(t),this.processEventKey(r)}))),this.addManagedListeners(o,{fieldPickerValueSelected:this.onEditorPickerValueSelected.bind(this)}),this.focusAfterAttached=t}onEditorPickerValueSelected(e){setTimeout((()=>this.params.stopEditing(!e.fromEnterKey)))}buildRichSelectParams(){const e=this.params,{cellRenderer:t,cellHeight:i,value:r,values:s,formatValue:a,searchDebounceDelay:o,valueListGap:n,valueListMaxHeight:l,valueListMaxWidth:c,allowTyping:d,filterList:u,searchType:p,highlightMatch:h,valuePlaceholder:m,eventKey:g,multiSelect:b,suppressDeselectAll:f,suppressMultiSelectPillRenderer:v}=e,y={value:r,cellRenderer:t,cellRowHeight:i,searchDebounceDelay:o,valueFormatter:a,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",pickerGap:n,allowTyping:d,filterList:u,searchType:p,highlightMatch:h,maxPickerHeight:l,maxPickerWidth:c,placeholder:m,initialInputValue:1===g?.length?g:void 0,multiSelect:b,suppressDeselectAll:f,suppressMultiSelectPillRenderer:v};let C,k;return C="function"==typeof s?s(e):s??[],Array.isArray(C)?(y.valueList=C,y.searchStringCreator=this.getSearchStringCallback(C)):k=C,b&&d&&(e.allowTyping=y.allowTyping=!1,(0,Fy.F5b)(181)),{params:y,valuesPromise:k}}getSearchStringCallback(e){if("object"!=typeof e[0])return;const t=this.params,{colDef:i,formatValue:r}=t;if(i.cellEditorParams?.formatValue)return e=>e.map(r);const{keyCreator:s}=i;if(s){(0,Fy.F5b)(266);const{column:e,node:r,data:a}=t;return t=>t.map((t=>{const o=(0,Fy.OHk)(this.gos,{value:t,colDef:i,column:e,node:r,data:a});return s(o)}))}return e=>e.map(r)}afterGuiAttached(){const{focusAfterAttached:e,params:t}=this;setTimeout((()=>{if(!this.isAlive())return;const i=this.richSelect,{allowTyping:r,eventKey:s}=t;if(e){const e=i.getFocusableElement();e.focus(),!r||s&&1===s.length||e.select()}i.showPicker(),this.isAsync||this.processEventKey(s)}))}processEventKey(e){e&&1===e?.length&&this.richSelect.searchTextFromString(e)}focusIn(){this.richSelect.getFocusableElement().focus()}getValue(){const{params:e}=this,t=this.richSelect.getValue();return e.parseValue?.(t)??t}isPopup(){return!1}},A_={moduleName:"RichSelect",version:ww,beans:[],userComponents:{agRichSelect:P_,agRichSelectCellEditor:P_},icons:{richSelectOpen:"small-down",richSelectRemove:"cancel"},dependsOn:[Sw,Fy.$7A]},D_="__AG_SELECT_ALL__",I_="__AG_ADD_SELECTION_TO_FILTER__",N_={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."},R_={tag:"div",cls:"ag-set-filter-item",attrs:{"aria-hidden":"true"},children:[{tag:"span",cls:"ag-set-filter-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-set-filter-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-set-filter-group-opened-icon"},{tag:"span",ref:"eGroupIndeterminateIcon",cls:"ag-set-filter-group-indeterminate-icon"}]},{tag:"ag-checkbox",ref:"eCheckbox",cls:"ag-set-filter-item-checkbox"}]},L_={tag:"div",cls:"ag-set-filter-item",children:[{tag:"ag-checkbox",ref:"eCheckbox",cls:"ag-set-filter-item-checkbox"}]},F_=class extends Fy.wA2{constructor(e){super(e.isGroup?R_:L_,[Fy.I$4]),this.eCheckbox=Fy.CUI,this.eGroupOpenedIcon=Fy.CUI,this.eGroupClosedIcon=Fy.CUI,this.eGroupIndeterminateIcon=Fy.CUI,this.formattedValue=null,this.focusWrapper=e.focusWrapper,this.value=e.value,this.params=e.params,this.translate=e.translate,this.valueFormatter=e.valueFormatter,this.item=e.item,this.isSelected=e.isSelected,this.isTree=e.isTree,this.depth=e.depth??0,this.isGroup=e.isGroup,this.groupsExist=e.groupsExist,this.isExpanded=e.isExpanded,this.hasIndeterminateExpandState=e.hasIndeterminateExpandState}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getColDef:()=>this.params.colDef,getColumn:()=>this.params.column,getLocation:()=>"setFilterValue",shouldDisplayTooltip:()=>this.shouldDisplayTooltip?.()??!0,getValueFormatted:()=>this.formattedValue,getAdditionalParams:()=>this.isTree?{level:this.depth}:{}})),this.addDestroyFunc((()=>this.destroyCellRendererComponent?.())),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&(this.addCss("ag-set-filter-indent-"+this.depth),this.getGui().style.setProperty("--ag-indentation-level",String(this.depth))),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCss("ag-set-filter-add-group-indent"),(0,Fy.icB)(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),this.params.readOnly||this.eCheckbox.onValueChange((e=>this.onCheckboxChanged(!!e)))}getFocusableElement(){return this.focusWrapper}setupExpansion(){const{eGroupClosedIcon:e,eGroupOpenedIcon:t,eGroupIndeterminateIcon:i,hasIndeterminateExpandState:r,beans:s}=this;e.appendChild((0,Fy.ucQ)("setFilterGroupClosed",s,null)),t.appendChild((0,Fy.ucQ)("setFilterGroupOpen",s,null));const a=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(e,{click:a}),this.addManagedElementListeners(t,{click:a}),r&&(i.appendChild((0,Fy.ucQ)("setFilterGroupIndeterminate",s,null)),this.addManagedElementListeners(i,{click:a})),this.setExpandedIcons(),this.refreshAriaExpanded()}onExpandOrContractClicked(){this.setExpanded(!this.isExpanded)}setExpanded(e,t){if(this.isGroup&&e!==this.isExpanded){this.isExpanded=e;const i={type:"expandedChanged",isExpanded:!!e,item:this.item};t||this.dispatchLocalEvent(i),this.setExpandedIcons(),this.refreshAriaExpanded()}}setExpandedIcons(){const{isExpanded:e,hasIndeterminateExpandState:t,eGroupClosedIcon:i,eGroupOpenedIcon:r,eGroupIndeterminateIcon:s}=this;(0,Fy.DIH)(i,t?!1===e:!e),(0,Fy.DIH)(r,!0===e),t&&(0,Fy.DIH)(s,void 0===e)}onCheckboxChanged(e){this.isSelected=e;const t={type:"selectionChanged",isSelected:e,item:this.item};this.dispatchLocalEvent(t),this.refreshVariableAriaLabels(),this.refreshAriaChecked()}toggleSelected(){this.params.readOnly||this.setSelected(!this.isSelected)}setSelected(e,t){this.isSelected=e,this.eCheckbox.setValue(e,t),this.refreshAriaChecked()}refreshVariableAriaLabels(){if(!this.isTree)return;const e=this.getLocaleTextFunc(),t=this.eCheckbox.getValue(),i=void 0===t?e("ariaIndeterminate","indeterminate"):t?e("ariaVisible","visible"):e("ariaHidden","hidden"),r=e("ariaToggleVisibility","Press SPACE to toggle visibility");(0,Fy._IQ)(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(`${r} (${i})`)}setupFixedAriaLabels(e){if(!this.isTree)return;const t=this.getLocaleTextFunc()("ariaFilterValue","Filter Value"),i=this.getAriaElement();(0,Fy.xER)(i,`${e} ${t}`),(0,Fy.ucE)(i,this.eCheckbox.getInputElement().id)}refreshAriaChecked(){const e=this.getAriaElement();(0,Fy.lPr)(e,this.eCheckbox.getValue())}refreshAriaExpanded(){(0,Fy.mmg)(this.getAriaElement(),!!this.isExpanded)}refresh(e,t,i){this.item=e,t!==this.isSelected&&this.setSelected(t,!0),this.setExpanded(i,!0);const{cellRendererComponent:r,cellRendererParams:s,beans:a,params:o}=this;if(this.valueFunction){const e=this.valueFunction();this.setTooltipAndCellRendererParams(e,e),r||this.renderCellWithoutCellRenderer()}if(r){const e=(0,Fy.dhl)(a.userCompFactory,o,s),t=r.refresh?.(e?.params??s);if(!t){const e=r;this.renderCell(),this.destroyBean(e)}}}render(){const{params:{column:e}}=this;let{value:t}=this,i=null;"function"==typeof t?(this.valueFunction=t,i=this.valueFunction(),t=i):i=this.isTree?(0,Fy.fGY)(t):this.getFormattedValue(e,t),this.formattedValue=i,this.setTooltipAndCellRendererParams(t,i),this.renderCell()}setTooltipAndCellRendererParams(e,t){const i=this.gos;if(this.params.showTooltips&&(!(0,Fy.djA)(i)||!this.params.cellRenderer)){const r=null!=t?t:(0,Fy.fGY)(e);this.shouldDisplayTooltip=(0,Fy.wsu)(i,(()=>this.eCheckbox.getGui().querySelector(".ag-label"))),this.tooltipFeature?.setTooltipAndRefresh(r)}this.cellRendererParams=(0,Fy.OHk)(i,{value:e,valueFormatted:t,colDef:this.params.colDef,column:this.params.column,setTooltip:(e,t)=>{i.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=t,this.tooltipFeature?.setTooltipAndRefresh(e)}})}getFormattedValue(e,t){return this.beans.valueSvc.formatValue(e,null,t,this.valueFormatter,!1)}renderCell(){const e=(0,Fy.dhl)(this.beans.userCompFactory,this.params,this.cellRendererParams),t=e?.newAgStackInstance();null!=t?t.then((e=>{e&&(this.cellRendererComponent=e,this.eCheckbox.setLabel(e.getGui()),this.destroyCellRendererComponent=()=>this.destroyBean(e))})):this.renderCellWithoutCellRenderer()}renderCellWithoutCellRenderer(){const{valueFormatted:e,value:t}=this.cellRendererParams;let i=(null==e?t:e)??this.translate("blanks");"string"!=typeof i&&((0,Fy.F5b)(208),i=""),this.eCheckbox.setLabel(i),this.setupFixedAriaLabels(i)}getComponentHolder(){return this.params.column.getColDef()}},O_=class{getModelAsString(e,t){const{values:i}=e||t.getModel()||{},r=t.getValueModel();if(null==i||null==r)return"";const s=i.filter((e=>r.isKeyAvailable(e))),a=s.length;return`(${a}) ${s.slice(0,10).map((e=>t.getFormattedValue(e))).join(",")}${a>10?",...":""}`}};function B_(e,t,i){let r=e;return r?(r=r.map((e=>(0,Fy.fGY)((0,Fy.wa4)(e)))),!t&&i&&r.some((e=>null==e))?null==(0,Fy._O9)(r)?null:r.filter((e=>null!=e)):r):null}var z_=class{constructor(e,t,i,r,s,a,o,n,l,c){this.rowModel=e,this.filterParams=t,this.createKey=i,this.caseFormat=r,this.valueSvc=s,this.treeDataOrGrouping=a,this.treeData=o,this.groupAllowUnbalanced=n,this.addManagedEventListeners=l,this.rowGroupColsSvc=c}extractUniqueValuesAsync(e,t){return new Fy.j_S((i=>{if(this.rowModel.isRowDataLoaded())i(this.extractUniqueValues(e,t));else{const[r]=this.addManagedEventListeners({rowCountReady:()=>{r?.(),i(this.extractUniqueValues(e,t))}})}}))}extractUniqueValues(e,t){const i=new Map,r=this.extractExistingFormattedKeys(t),s=new Set,a=this.treeData,o=this.rowGroupColsSvc?.columns,n=(e,a)=>{const o=this.caseFormat(e);if(!s.has(o)){s.add(o);let n=e,l=(0,Fy.wa4)(a);const c=r?.get(o);null!=c&&(n=c,l=t.get(c)),i.set(n,l)}};return this.rowModel.forEachLeafNode((t=>{if(!t.data||!e(t))return;if(this.treeDataOrGrouping)return void this.addValueForTreeDataOrGrouping(t,a,o,n);const i=this.getValue(t);null!=i&&Array.isArray(i)?(i.forEach((e=>{n(this.createKey(e,t),e)})),0===i.length&&n(null,null)):n(this.createKey(i,t),i)})),i}addValueForTreeDataOrGrouping(e,t,i=[],r){let s;if(t){if(e.childrenAfterGroup?.length)return;s=e.getRoute()??[e.key??e.id]}else s=i.map((t=>this.valueSvc.getKeyForNode(t,e))),s.push(this.getValue(e));const a=B_(s,t,this.groupAllowUnbalanced);r(this.createKey(a),a)}getValue(e){return this.filterParams.getValue(e)}extractExistingFormattedKeys(e){if(!e)return null;const t=new Map;return e.forEach(((e,i)=>{t.set(this.caseFormat(i),i)})),t}},V_=class{constructor({caseFormat:e}){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}allFilteringKeys(){return this.filteringKeys}allFilteringKeysCaseFormatted(){return this.filteringKeysCaseFormatted}setFilteringKeys(e){this.filteringKeys=new Set(e),this.hasNoAppliedFilteringKeys=!this.filteringKeys||0===this.filteringKeys.size,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach((e=>this.filteringKeysCaseFormatted.add(this.caseFormat(e))))}addFilteringKey(e){null==this.filteringKeys&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(e),this.filteringKeysCaseFormatted.add(this.caseFormat(e)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)}hasCaseFormattedFilteringKey(e){return this.filteringKeysCaseFormatted.has(this.caseFormat(e))}hasFilteringKey(e){return this.filteringKeys.has(e)}reset(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1}},G_=class{constructor(e,t,i,r){this.valueSvc=e,this.valueFormatter=t,this.formatter=i,this.column=r,this.displayedKeys=[]}updateDisplayedValuesToAllAvailable(e,t,i){this.displayedKeys=Array.from(i)}updateDisplayedValuesToMatchMiniFilter(e,t,i,r,s){this.displayedKeys=[];for(const t of i)if(null==t)s&&this.displayedKeys.push(t);else{const i=e(t),s=this.valueSvc.formatValue(this.column,null,i,this.valueFormatter,!1);r(this.formatter(s))&&this.displayedKeys.push(t)}}getDisplayedValueCount(){return this.displayedKeys.length}getDisplayedItem(e){return this.displayedKeys[e]}getSelectAllItem(){return D_}getAddSelectionToFilterItem(){return I_}getDisplayedKeys(){return this.displayedKeys}forEachDisplayedKey(e){this.displayedKeys.forEach(e)}someDisplayedKey(e){return this.displayedKeys.some(e)}hasGroups(){return!1}refresh(){}},U_=e=>(0,Fy.n92)(e)?null:e instanceof Date&&!isNaN(e.getTime())?[String(e.getFullYear()),String(e.getMonth()+1),String(e.getDate())]:["NaN"],H_=class{constructor(e,t,i,r){this.formatter=e,this.treeListPathGetter=t,this.treeListFormatter=i,this.treeDataOrGrouping=r,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:D_,children:this.allDisplayedItemsTree,expanded:!0,key:D_,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:I_,expanded:!0,key:I_,parentTreeKeys:[]}}updateOnParamsChange(e){this.treeListFormatter=e}updateDisplayedValuesToAllAvailable(e,t,i,r){"reload"===r?this.generateItemTree(e,t,i):"otherFilter"===r?(this.updateAvailable(i),this.updateExpandAll()):"miniFilter"===r&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()}updateDisplayedValuesToMatchMiniFilter(e,t,i,r,s,a){"reload"===a?this.generateItemTree(e,t,i):"otherFilter"===a&&this.updateAvailable(i),this.updateFilter(r,s),this.updateExpandAll(),this.flattenItems()}generateItemTree(e,t,i){this.allDisplayedItemsTree=[],this.groupsExist=!1;const r=this.getTreeListPathGetter(e,i);for(const s of t){const t=r(e(s))??[null];t.length>1&&(this.groupsExist=!0);const a=i.has(s);let o,n=this.allDisplayedItemsTree,l=[];t.forEach(((e,i)=>{n||(n=[],o.children=n),o=n.find((t=>t.treeKey?.toUpperCase()===e?.toUpperCase())),o||(o={treeKey:e,depth:i,filterPasses:!0,expanded:!1,available:a,parentTreeKeys:l},i===t.length-1&&(o.key=s),n.push(o)),n=o.children,l=[...l,e]}))}this.updateAvailable(i),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1}getTreeListPathGetter(e,t){if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return e=>e;let i=!1;for(const r of t){const t=e(r);if(t instanceof Date){i=!0;break}if(null!=t)break}return i?U_:((0,Fy.F5b)(211),e=>[String(e)])}flattenItems(){this.activeDisplayedItemsFlat=[];const e=t=>{t.forEach((t=>{t.filterPasses&&t.available&&(this.activeDisplayedItemsFlat.push(t),t.children&&t.expanded&&e(t.children))}))};e(this.allDisplayedItemsTree)}resetFilter(){const e=t=>{t.children&&t.children.forEach((t=>{e(t)})),t.filterPasses=!0};this.allDisplayedItemsTree.forEach((t=>e(t)))}updateFilter(e,t){const i=i=>!!i.available&&(null==i.treeKey?t:e(this.formatter(this.treeListFormatter?this.treeListFormatter(i.treeKey,i.depth,i.parentTreeKeys):i.treeKey)));this.allDisplayedItemsTree.forEach((e=>this.recursiveItemCheck(e,!1,i,"filterPasses")))}getDisplayedValueCount(){return this.activeDisplayedItemsFlat.length}getDisplayedItem(e){return this.activeDisplayedItemsFlat[e]}getSelectAllItem(){return this.selectAllItem}getAddSelectionToFilterItem(){return this.addSelectionToFilterItem}getDisplayedKeys(){const e=[];return this.forEachDisplayedKey((t=>e.push(t))),e}forEachDisplayedKey(e){const t=(i,r)=>{i.children?i.expanded&&r||i.children.forEach((e=>{e.filterPasses&&t(e,!1)})):e(i.key)};this.activeDisplayedItemsFlat.forEach((e=>t(e,!0)))}someDisplayedKey(e){const t=(i,r)=>i.children?(!i.expanded||!r)&&i.children.some((e=>!!e.filterPasses&&t(e,!1))):e(i.key);return this.activeDisplayedItemsFlat.some((e=>t(e,!0)))}hasGroups(){return this.groupsExist}refresh(){this.updateExpandAll(),this.flattenItems()}updateExpandAll(){const e=(t,i,r)=>{for(const s of t){if(!s.filterPasses||!s.available||!s.children)continue;if(i=i||!!s.expanded,r=r||!s.expanded,i&&r)return;const t=e(s.children,i,r);if(void 0===t)return;t?i=!0:r=!0}return i&&r?void 0:i},t=this.getSelectAllItem();t.expanded=e(t.children,!1,!1)}recursiveItemCheck(e,t,i,r){let s=!1;e.children&&e.children.forEach((a=>{const o=this.recursiveItemCheck(a,t||i(e),i,r);s=s||o}));const a=t||s||i(e);return e[r]=a,a}updateAvailable(e){const t=t=>e.has(t.key);this.allDisplayedItemsTree.forEach((e=>this.recursiveItemCheck(e,!1,t,"available")))}},W_=class{constructor(e){this.localEventService=new Fy.MSU,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;const{usingComplexObjects:t,rowGroupColsSvc:i,valueSvc:r,treeDataTreeList:s,groupingTreeList:a,filterParams:o,gos:n,valueFormatter:l,addManagedEventListeners:c}=e,{column:d,colDef:u,textFormatter:p,doesRowPassOtherFilter:h,suppressSorting:m,comparator:g,rowModel:b,values:f,caseSensitive:v,treeList:y,treeListPathGetter:C,treeListFormatter:k}=o;this.filterParams=o,this.gos=n,this.setIsLoading=e.setIsLoading,this.translate=e.translate,this.caseFormat=e.caseFormat,this.createKey=e.createKey,this.usingComplexObjects=!!e.usingComplexObjects,this.formatter=p??(e=>e??null),this.doesRowPassOtherFilters=h,this.suppressSorting=m||!1,this.filteringKeys=new V_({caseFormat:this.caseFormat});const w=g??u.comparator,S=!!s||!!a;this.compareByValue=!!(t&&w||S||y&&!C),this.entryComparator=S&&!w?this.createTreeDataOrGroupingComparator():!y||C||w?([e,t],[i,r])=>w(t,r):([e,t],[i,r])=>(0,Fy.EbN)(t,r),this.keyComparator=w??Fy.EbN,this.caseSensitive=!!v;const x=n.get("groupAllowUnbalanced");(0,Fy.qYz)(n,b)&&(this.clientSideValuesExtractor=new z_(b,this.filterParams,this.createKey,this.caseFormat,r,S,!!s,x,c,i)),null==f?this.valuesType=2:(this.valuesType=Array.isArray(f)?0:1,this.providedValues=f),this.displayValueModel=y?new H_(this.formatter,C,k,s||a):new G_(r,l,this.formatter,d),this.updateAllValues().then((e=>this.resetSelectionState(e||[])))}addEventListener(e,t,i){this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService.removeEventListener(e,t,i)}updateOnParamsChange(e){return new Fy.j_S((t=>{const{values:i,textFormatter:r,suppressSorting:s,treeListFormatter:a}=e,o=this.providedValues,n=this.suppressSorting;if(this.filterParams=e,this.formatter=r??(e=>e??null),this.suppressSorting=s||!1,this.providedValues=i??null,this.displayValueModel instanceof H_&&this.displayValueModel.updateOnParamsChange(a),this.providedValues!==o||this.suppressSorting!==n){i&&0!==i.length?this.valuesType=Array.isArray(i)?0:1:(this.valuesType=2,this.providedValues=null);const e=this.getModel();this.updateAllValues().then((()=>{this.setModel(e).then((()=>t()))}))}else t()}))}refreshValues(){return new Fy.j_S((e=>{this.allValuesPromise.then((()=>{const t=this.getModel();this.updateAllValues(),this.setModel(t).then((()=>e()))}))}))}overrideValues(e){return new Fy.j_S((t=>{this.allValuesPromise.then((()=>{this.valuesType=0,this.providedValues=e,this.refreshValues().then((()=>t()))}))}))}refreshAfterAnyFilterChanged(){return this.showAvailableOnly()?this.allValuesPromise.then((e=>(this.updateAvailableKeys(e??[],"otherFilter"),!0))):Fy.j_S.resolve(!1)}isInitialised(){return this.initialised}updateAllValues(){return this.allValuesPromise=new Fy.j_S((e=>{switch(this.valuesType){case 2:this.getValuesFromRowsAsync(!1).then((t=>e(this.processAllValues(t))));break;case 0:e(this.processAllValues(this.uniqueValues(this.validateProvidedValues(this.providedValues))));break;case 1:{this.setIsLoading(!0);const t=this.providedValues,{column:i,colDef:r}=this.filterParams,s=(0,Fy.OHk)(this.gos,{success:t=>{this.setIsLoading(!1),e(this.processAllValues(this.uniqueValues(this.validateProvidedValues(t))))},colDef:r,column:i});window.setTimeout((()=>t(s)),0);break}}})),this.allValuesPromise.then((e=>this.updateAvailableKeys(e||[],"reload"))).then((()=>this.initialised=!0)),this.allValuesPromise}processAllValues(e){const t=this.sortKeys(e);return this.allValues=e??new Map,t}validateProvidedValues(e){if(this.usingComplexObjects&&e?.length){const t=e[0];t&&"object"!=typeof t&&"function"!=typeof t&&(null==this.createKey(t)?(0,Fy.F5b)(209):(0,Fy.F5b)(210))}return e}setValuesType(e){this.valuesType=e}getValuesType(){return this.valuesType}isKeyAvailable(e){return this.availableKeys.has(e)}showAvailableOnly(){return 2===this.valuesType}updateAvailableKeys(e,t){const i=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):e;this.availableKeys=new Set(i),this.localEventService.dispatchEvent({type:"availableValuesChanged"}),this.updateDisplayedValues(t,e)}sortKeys(e){const t=e??new Map;if(this.suppressSorting)return Array.from(t.keys());let i;return i=this.compareByValue?Array.from(t.entries()).sort(this.entryComparator).map((([e])=>e)):Array.from(t.keys()).sort(this.keyComparator),this.filterParams.excelMode&&t.has(null)&&(i=i.filter((e=>null!=e)),i.push(null)),i}getParamsForValuesFromRows(e=!1){return this.clientSideValuesExtractor?{predicate:t=>!e||this.doesRowPassOtherFilters(t),existingValues:e&&!this.caseSensitive?this.allValues:void 0}:((0,Fy.U0c)(113),null)}getValuesFromRows(e=!1){const t=this.getParamsForValuesFromRows(e);return t?this.clientSideValuesExtractor.extractUniqueValues(t.predicate,t.existingValues):null}getValuesFromRowsAsync(e=!1){const t=this.getParamsForValuesFromRows(e);return t?this.clientSideValuesExtractor.extractUniqueValuesAsync(t.predicate,t.existingValues):Fy.j_S.resolve(null)}setMiniFilter(e){return e=(0,Fy.wa4)(e),this.miniFilterText!==e&&(null===e&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=e,this.updateDisplayedValues("miniFilter"),!0)}getMiniFilter(){return this.miniFilterText}updateDisplayedValues(e,t){if("expansion"===e)return void this.displayValueModel.refresh();if(null==this.miniFilterText)return void this.displayValueModel.updateDisplayedValuesToAllAvailable((e=>this.getValue(e)),t,this.availableKeys,e);const i=this.caseFormat(this.formatter(this.miniFilterText)||""),r=e=>null!=e&&this.caseFormat(e).indexOf(i)>=0,s=!!this.filterParams.excelMode&&r(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter((e=>this.getValue(e)),t,this.availableKeys,r,s,e)}getDisplayedValueCount(){return this.displayValueModel.getDisplayedValueCount()}getDisplayedItem(e){return this.displayValueModel.getDisplayedItem(e)}getSelectAllItem(){return this.displayValueModel.getSelectAllItem()}getAddSelectionToFilterItem(){return this.displayValueModel.getAddSelectionToFilterItem()}hasSelections(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size}getKeys(){return Array.from(this.allValues.keys())}getValues(){return Array.from(this.allValues.values())}getValue(e){return this.allValues.get(e)}setAddCurrentSelectionToFilter(e){this.addCurrentSelectionToFilter=e}isInWindowsExcelMode(){return"windows"===this.filterParams.excelMode}isAddCurrentSelectionToFilterChecked(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter}showAddCurrentSelectionToFilter(){return this.isInWindowsExcelMode()&&(0,Fy.fTC)(this.miniFilterText)&&this.miniFilterText.length>0}selectAllMatchingMiniFilter(e=!1){null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(e&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey((e=>this.selectedKeys.add(e))))}deselectAllMatchingMiniFilter(){null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey((e=>this.selectedKeys.delete(e)))}selectKey(e){this.selectedKeys.add(e)}deselectKey(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(e)}isKeySelected(e){return this.selectedKeys.has(e)}isEverythingVisibleSelected(){return!this.displayValueModel.someDisplayedKey((e=>!this.isKeySelected(e)))}isNothingVisibleSelected(){return!this.displayValueModel.someDisplayedKey((e=>this.isKeySelected(e)))}getModel(){if(!this.hasSelections())return null;const e=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(e&&e.size>0){if(this.selectedKeys){const t=new Set([...Array.from(e),...Array.from(this.selectedKeys).filter((t=>!e.has(t)))]);return Array.from(t)}return Array.from(e)}return Array.from(this.selectedKeys)}setModel(e){return this.allValuesPromise.then((t=>{if(null==e)this.resetSelectionState(t??[]);else{this.selectedKeys.clear();const t=new Map;this.allValues.forEach(((e,i)=>{t.set(this.caseFormat(i),i)})),e.forEach((e=>{const i=this.caseFormat((0,Fy.wa4)(e)),r=t.get(i);void 0!==r&&this.selectKey(r)}))}}))}uniqueValues(e){const t=new Map,i=new Set;return(e??[]).forEach((e=>{const r=(0,Fy.wa4)(e),s=this.createKey(r),a=this.caseFormat(s);i.has(a)||(i.add(a),t.set(s,r))})),t}resetSelectionState(e){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(e)}hasGroups(){return this.displayValueModel.hasGroups()}createTreeDataOrGroupingComparator(){return([e,t],[i,r])=>{if(null==t)return null==r?0:-1;if(null==r)return 1;for(let e=0;e<t.length;e++){if(e>=r.length)return 1;const i=(0,Fy.EbN)(t[e],r[e]);if(0!==i)return i}return 0}}setAppliedModelKeys(e){this.filteringKeys.setFilteringKeys(e)}addToAppliedModelKeys(e){this.filteringKeys.addFilteringKey(e)}getAppliedModelKeys(){return this.filteringKeys.allFilteringKeys()}getCaseFormattedAppliedModelKeys(){return this.filteringKeys.allFilteringKeysCaseFormatted()}hasAppliedModelKey(e){return this.filteringKeys.hasCaseFormattedFilteringKey(e)}hasAnyAppliedModelKey(){return!this.filteringKeys.hasNoAppliedFilteringKeys}},j_=class extends Fy.AGU{constructor(){super("setFilter"),this.filterType="set",this.eMiniFilter=Fy.CUI,this.eFilterLoading=Fy.CUI,this.eFilterLoadingIcon=Fy.CUI,this.eSetFilterList=Fy.CUI,this.eFilterNoMatches=Fy.CUI,this.caseSensitive=!1,this.treeDataTreeList=!1,this.groupingTreeList=!1,this.hardRefreshVirtualList=!1,this.noValueFormatterSupplied=!1,this.filterModelFormatter=new O_,this.updateSetFilterOnParamsChange=e=>{this.setFilterParams=e,this.caseSensitive=!!e.caseSensitive;const t=e.keyCreator??e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,t,!!e.treeList,!!e.colDef.refData);const i=e.column.getId().startsWith(Fy.eHy);this.treeDataTreeList=this.gos.get("treeData")&&!!e.treeList&&i,this.groupingTreeList=!!this.rowGroupColsSvc?.columns.length&&!!e.treeList&&i,this.createKey=this.generateCreateKey(t,this.treeDataTreeList||this.groupingTreeList)}}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){super.postConstruct()}updateUiVisibility(){}createBodyTemplate(){return{tag:"div",cls:"ag-set-filter",children:[{tag:"div",ref:"eFilterLoading",cls:"ag-filter-loading ag-loading ag-hidden",children:[{tag:"span",ref:"eFilterLoadingIcon",cls:"ag-loading-icon"},{tag:"span",cls:"ag-loading-text",children:this.translateForSetFilter("loadingOoo")}]},{tag:"ag-input-text-field",ref:"eMiniFilter",cls:"ag-mini-filter"},{tag:"div",ref:"eFilterNoMatches",cls:"ag-filter-no-matches ag-hidden",children:this.translateForSetFilter("noMatches")},{tag:"div",ref:"eSetFilterList",cls:"ag-set-filter-list",role:"presentation"}]}}getAgComponents(){return[Fy.jvp]}handleKeyDown(e){if(super.handleKeyDown(e),!e.defaultPrevented)switch(e.key){case Fy.KeyCode.SPACE:this.handleKeySpace(e);break;case Fy.KeyCode.ENTER:this.handleKeyEnter(e);break;case Fy.KeyCode.LEFT:this.handleKeyLeft(e);break;case Fy.KeyCode.RIGHT:this.handleKeyRight(e)}}handleKeySpace(e){this.getComponentForKeyEvent(e)?.toggleSelected()}handleKeyEnter(e){const{excelMode:t,readOnly:i}=this.setFilterParams;t&&!i&&(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}handleKeyLeft(e){this.getComponentForKeyEvent(e)?.setExpanded(!1)}handleKeyRight(e){this.getComponentForKeyEvent(e)?.setExpanded(!0)}getComponentForKeyEvent(e){if(!this.eSetFilterList.contains((0,Fy.HB1)(this.beans)))return;const t=this.virtualList.getLastFocusedRow();if(null==t)return;const i=this.virtualList.getComponentAt(t);if(null==i)return;e.preventDefault();const{readOnly:r}=this.setFilterParams;return r?void 0:i}getCssIdentifier(){return"set-filter"}setModel(e){return null==e&&null==this.valueModel.getModel()?(this.setMiniFilter(null),Fy.j_S.resolve()):super.setModel(e)}refresh(e){if(this.applyExcelModeOptions(e),!super.refresh(e))return!1;const t=this.setFilterParams;return!["treeList","treeListPathGetter","caseSensitive","comparator","excelMode"].some((i=>e[i]!==t?.[i]))&&!this.haveColDefParamsChanged(e)&&(super.updateParams(e),this.updateSetFilterOnParamsChange(e),this.updateMiniFilter(),e.suppressSelectAll!==t?.suppressSelectAll&&this.createVirtualListModel(e),this.valueModel.updateOnParamsChange(e).then((()=>{this.isAlive()&&this.refreshFilterValues()})),!0)}haveColDefParamsChanged(e){const{colDef:t,keyCreator:i}=e,{colDef:r,keyCreator:s}=this.setFilterParams,a=i??t.keyCreator,o=s??r?.keyCreator,n=t.filterValueGetter!==r?.filterValueGetter,l=a!==o,c=!!this.dataTypeSvc&&!!a&&this.dataTypeSvc.getFormatValue(t.cellDataType)===a&&t.valueFormatter!==r?.valueFormatter;return n||l||c}setModelAndRefresh(e){return this.valueModel.setModel(e).then((()=>{this.isAlive()&&this.checkAndRefreshVirtualList()}))}resetUiToDefaults(){return this.setMiniFilter(null),this.setModelAndRefresh(null)}setModelIntoUi(e){this.setMiniFilter(null);const t=null==e?null:e.values;return this.setModelAndRefresh(t)}getModelFromUi(){const e=this.valueModel.getModel();return e?{values:e,filterType:this.filterType}:null}getValueModel(){return this.valueModel}areModelsEqual(e,t){return null==e&&null==t||null!=e&&null!=t&&(0,Fy.Vgs)(e.values,t.values)}setParams(e){this.applyExcelModeOptions(e),super.setParams(e),this.updateSetFilterOnParamsChange(e);const t=e.keyCreator??e.colDef.keyCreator;this.valueModel=new W_({filterParams:e,setIsLoading:e=>this.setIsLoading(e),translate:e=>this.translateForSetFilter(e),caseFormat:e=>this.caseFormat(e),createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!t,gos:this.gos,rowGroupColsSvc:this.rowGroupColsSvc,valueSvc:this.valueSvc,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList,addManagedEventListeners:e=>this.addManagedEventListeners(e)}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()}onAddCurrentSelectionToFilterChange(e){this.valueModel.setAddCurrentSelectionToFilter(e)}setValueFormatter(e,t,i,r){let s=e;if(!s){if(t&&!i)return void(0,Fy.U0c)(249);this.noValueFormatterSupplied=!0,r||(s=e=>(0,Fy.fGY)(e.value))}this.valueFormatter=s}generateCreateKey(e,t){return t&&!e?((0,Fy.U0c)(250),()=>null):e?(t,i=null)=>{const r=this.getKeyCreatorParams(t,i);return(0,Fy.wa4)(e(r))}:e=>(0,Fy.wa4)((0,Fy.fGY)(e))}getFormattedValue(e){let t=this.valueModel.getValue(e);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(t)&&(t=(0,Fy._O9)(t));const i=this.valueSvc.formatValue(this.setFilterParams.column,null,t,this.valueFormatter,!1);return(null==i?(0,Fy.fGY)(t):i)??this.translateForSetFilter("blanks")}applyExcelModeOptions(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,(0,Fy.F5b)(207))}addEventListenersForDataChanges(){if(!this.isValuesTakenFromGrid())return;this.addManagedPropertyListeners(["groupAllowUnbalanced"],(()=>{this.syncAfterDataChange()}));const e=(0,Fy.eTz)(this,this.syncAfterDataChange.bind(this),0);this.addManagedEventListeners({cellValueChanged:t=>{t.column===this.setFilterParams.column&&e()}})}syncAfterDataChange(){const e=!this.applyActive||this.areModelsEqual(this.getModel(),this.getModelFromUi());return this.valueModel.refreshValues().then((()=>{this.isAlive()&&(this.checkAndRefreshVirtualList(),e&&this.onBtApply(!1,!0))}))}setIsLoading(e){(0,Fy.DIH)(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)}initialiseFilterBodyUi(){this.initVirtualList(),this.initMiniFilter(),this.initLoading()}initLoading(){const e=(0,Fy.scM)("setFilterLoading",this.beans,this.setFilterParams.column);e&&this.eFilterLoadingIcon.appendChild(e)}initVirtualList(){const e=this.getLocaleTextFunc()("ariaFilterList","Filter List"),t=!!this.setFilterParams.treeList,i=this.virtualList=this.createBean(new Hw({cssIdentifier:"filter",ariaRole:t?"tree":"listbox",listName:e})),r=this.eSetFilterList;t&&r.classList.add("ag-set-filter-tree-list"),r&&r.appendChild(i.getGui());const{cellHeight:s}=this.setFilterParams;null!=s&&i.setRowHeight(s),i.setComponentCreator(((e,i)=>this.createSetListItem(e,t,i))),i.setComponentUpdater(((e,t)=>this.updateSetListItem(e,t))),this.createVirtualListModel(this.setFilterParams)}createVirtualListModel(e){let t;t=e.suppressSelectAll?new K_(this.valueModel):new $_(this.valueModel,(()=>this.isSelectAllSelected())),e.treeList&&(t=new q_(t)),this.virtualList.setModel(t)}getSelectAllLabel(){const e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)}getAddSelectionToFilterLabel(){return this.translateForSetFilter("addCurrentSelectionToFilter")}createSetListItem(e,t,i){const r=this.valueModel.hasGroups(),{isSelected:s,isExpanded:a}=this.isSelectedExpanded(e),{value:o,depth:n,isGroup:l,hasIndeterminateExpandState:c,selectedListener:d,expandedListener:u}=this.newSetListItemAttributes(e),p={focusWrapper:i,value:o,params:this.setFilterParams,translate:e=>this.translateForSetFilter(e),valueFormatter:this.valueFormatter,item:e,isSelected:s,isTree:t,depth:n,groupsExist:r,isGroup:l,isExpanded:a,hasIndeterminateExpandState:c},h=this.createBean(new F_(p));return h.addEventListener("selectionChanged",d),u&&h.addEventListener("expandedChanged",u),h}newSetTreeItemAttributes(e){const t=this.valueModel.hasGroups();return e.key===D_?{value:()=>this.getSelectAllLabel(),isGroup:t,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:e=>this.onSelectAll(e.isSelected),expandedListener:e=>this.onExpandAll(e.item,e.isExpanded)}:e.key===I_?{value:()=>this.getAddSelectionToFilterLabel(),depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:e=>{this.onAddCurrentSelectionToFilterChange(e.isSelected)}}:e.children?{value:this.setFilterParams.treeListFormatter?.(e.treeKey,e.depth,e.parentTreeKeys)??e.treeKey,depth:e.depth,isGroup:!0,selectedListener:e=>this.onGroupItemSelected(e.item,e.isSelected),expandedListener:e=>this.onExpandedChanged(e.item,e.isExpanded)}:{value:this.setFilterParams.treeListFormatter?.(e.treeKey,e.depth,e.parentTreeKeys)??e.treeKey,depth:e.depth,selectedListener:e=>this.onItemSelected(e.item.key,e.isSelected)}}newSetListItemAttributes(e){return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e):e===D_?{value:()=>this.getSelectAllLabel(),selectedListener:e=>this.onSelectAll(e.isSelected)}:e===I_?{value:()=>this.getAddSelectionToFilterLabel(),selectedListener:e=>{this.onAddCurrentSelectionToFilterChange(e.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:e=>this.onItemSelected(e.item,e.isSelected)}}updateSetListItem(e,t){const{isSelected:i,isExpanded:r}=this.isSelectedExpanded(e);t.refresh(e,i,r)}isSelectedExpanded(e){let t,i;return this.isSetFilterModelTreeItem(e)?(i=e.expanded,t=e.key===D_?this.isSelectAllSelected():e.key===I_?this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?this.areAllChildrenSelected(e):this.valueModel.isKeySelected(e.key)):t=e===D_?this.isSelectAllSelected():e===I_?this.valueModel.isAddCurrentSelectionToFilterChecked():this.valueModel.isKeySelected(e),{isSelected:t,isExpanded:i}}isSetFilterModelTreeItem(e){return void 0!==e?.treeKey}initMiniFilter(){const{eMiniFilter:e}=this,t=this.getLocaleTextFunc();e.setDisplayed(!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange((()=>this.onMiniFilterInput())),e.setInputAriaLabel(t("ariaSearchFilterValues","Search filter values")),this.addManagedElementListeners(e.getInputElement(),{keydown:e=>this.onMiniFilterKeyDown(e)})}updateMiniFilter(){const{eMiniFilter:e}=this;e.isDisplayed()!==!this.setFilterParams.suppressMiniFilter&&e.setDisplayed(!this.setFilterParams.suppressMiniFilter);const t=this.valueModel.getMiniFilter();e.getValue()!==t&&e.setValue(t)}afterGuiAttached(e){super.afterGuiAttached(e),this.resetExpansion(),this.refreshVirtualList();const{eMiniFilter:t}=this;t.setInputPlaceholder(this.translateForSetFilter("searchOoo")),e&&e.suppressFocus||(t.isDisplayed()?t.getFocusableElement().focus():this.virtualList.awaitStable((()=>this.virtualList.focusRow(0))))}afterGuiDetached(){super.afterGuiDetached(),this.setFilterParams.excelMode&&this.resetMiniFilter();const e=this.getModel();!this.setFilterParams.excelMode&&this.areModelsEqual(e,this.getModelFromUi())||(this.resetUiToActiveModel(e),this.showOrHideResults())}applyModel(e="api"){this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();const t=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(t&&!this.getModel())return!1;const i=super.applyModel(e),r=this.getModel();return r?(t||this.valueModel.setAppliedModelKeys(new Set),r.values.forEach((e=>{this.valueModel.addToAppliedModelKeys(e)}))):t||this.valueModel.setAppliedModelKeys(null),i}isModelValid(e){return!this.setFilterParams.excelMode||null==e||e.values.length>0}doesFilterPass(e){if(!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;const{node:t}=e;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(t);if(this.groupingTreeList)return this.doesFilterPassForGrouping(t);const i=this.getValueFromNode(t);return null!=i&&Array.isArray(i)?0===i.length?this.valueModel.hasAppliedModelKey(null):i.some((e=>this.isInAppliedModel(this.createKey(e,t)))):this.isInAppliedModel(this.createKey(i,t))}doesFilterPassForTreeData(e){return!e.childrenAfterGroup?.length&&this.isInAppliedModel(this.createKey(B_(e.getRoute()??[e.key??e.id],!0,this.gos.get("groupAllowUnbalanced"))))}doesFilterPassForGrouping(e){const t=(this.rowGroupColsSvc?.columns??[]).map((t=>this.valueSvc.getKeyForNode(t,e)));return t.push(this.getValueFromNode(e)),this.isInAppliedModel(this.createKey(B_(t,!1,this.gos.get("groupAllowUnbalanced"))))}isInAppliedModel(e){return this.valueModel.hasAppliedModelKey(e)}getValueFromNode(e){return this.setFilterParams.getValue(e)}getKeyCreatorParams(e,t=null){const{colDef:i,column:r,api:s,context:a}=this.setFilterParams;return{value:e,colDef:i,column:r,node:t,data:t?.data,api:s,context:a}}onNewRowsLoaded(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()}isValuesTakenFromGrid(){return 2===this.valueModel.getValuesType()}setFilterValues(e){this.valueModel.overrideValues(e).then((()=>{this.isAlive()&&(this.checkAndRefreshVirtualList(),this.onUiChanged())}))}resetFilterValues(){this.valueModel.setValuesType(2),this.syncAfterDataChange()}refreshFilterValues(){this.valueModel.isInitialised()&&this.valueModel.refreshValues().then((()=>{this.isAlive()&&(this.hardRefreshVirtualList=!0,this.checkAndRefreshVirtualList(),this.onUiChanged())}))}onAnyFilterChanged(){setTimeout((()=>{this.isAlive()&&this.valueModel.refreshAfterAnyFilterChanged().then((e=>{e&&this.isAlive()&&(this.checkAndRefreshVirtualList(),this.showOrHideResults())}))}),0)}onMiniFilterInput(){if(!this.valueModel.setMiniFilter(this.eMiniFilter.getValue()))return;const{applyMiniFilterWhileTyping:e,readOnly:t}=this.setFilterParams;!t&&e?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}updateUiAfterMiniFilterChange(){const{excelMode:e,readOnly:t}=this.setFilterParams;null==e||t?this.checkAndRefreshVirtualList():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged()),this.showOrHideResults()}showOrHideResults(){const e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;(0,Fy.DIH)(this.eFilterNoMatches,e),(0,Fy.DIH)(this.eSetFilterList,!e)}resetMiniFilter(){this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null)}resetUiToActiveModel(e,t){this.setModelAndRefresh(null==e?null:e.values).then((()=>{this.isAlive()&&(this.onUiChanged(!1,"prevent"),t?.())}))}handleCancelEnd(e){this.setMiniFilter(null),super.handleCancelEnd(e)}onMiniFilterKeyDown(e){const{excelMode:t,readOnly:i}=this.setFilterParams;e.key!==Fy.KeyCode.ENTER||t||i||this.filterOnAllVisibleValues()}filterOnAllVisibleValues(e=!0){this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()}focusRowIfAlive(e){return null==e?Promise.resolve():new Promise((t=>{window.setTimeout((()=>{this.isAlive()&&this.virtualList.focusRow(e),t()}),0)}))}onSelectAll(e){e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()}onGroupItemSelected(e,t){const i=e=>{e.filterPasses&&(e.children?e.children.forEach((e=>i(e))):this.selectItem(e.key,t))};i(e),this.refreshAfterSelection()}onItemSelected(e,t){this.selectItem(e,t),this.refreshAfterSelection()}selectItem(e,t){t?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)}onExpandAll(e,t){const i=e=>{e.filterPasses&&e.available&&e.children&&(e.children.forEach((e=>i(e))),e.expanded=t)};i(e),this.refreshAfterExpansion()}onExpandedChanged(e,t){e.expanded=t,this.refreshAfterExpansion()}refreshAfterExpansion(){const e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(e)}refreshAfterSelection(){const e=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(e)}setMiniFilter(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()}getMiniFilter(){return this.valueModel.getMiniFilter()}checkAndRefreshVirtualList(){this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)}getFilterKeys(){return this.valueModel.getKeys()}getFilterValues(){return this.valueModel.getValues()}getValues(){return this.getFilterKeys()}refreshVirtualList(){this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.checkAndRefreshVirtualList()}translateForSetFilter(e){return this.getLocaleTextFunc()(e,N_[e])}isSelectAllSelected(){if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}}areAllChildrenSelected(e){const t=e=>{if(e.children){let i=!1,r=!1;return e.children.some((e=>{if(!e.filterPasses||!e.available)return!1;const s=t(e);return void 0===s||(s?i=!0:r=!0,i&&r)}))?void 0:i}return this.valueModel.isKeySelected(e.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&t(e):t(e)}destroy(){this.virtualList=this.destroyBean(this.virtualList),super.destroy()}caseFormat(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()}resetExpansion(){if(!this.setFilterParams.treeList)return;const e=this.valueModel.getSelectAllItem();if(this.isSetFilterModelTreeItem(e)){const t=e=>{e.children&&(e.children.forEach((e=>t(e))),e.expanded=!1)};t(e),this.valueModel.updateDisplayedValues("expansion")}}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e,this)}getPositionableElement(){return this.eSetFilterList}},K_=class{constructor(e){this.model=e}getRowCount(){return this.model.getDisplayedValueCount()}getRow(e){return this.model.getDisplayedItem(e)}areRowsEqual(e,t){return e===t}},$_=class{constructor(e,t){this.model=e,this.isSelectAllSelected=t}getRowCount(){const e=this.model.showAddCurrentSelectionToFilter()?2:1;return this.model.getDisplayedValueCount()+e}getRow(e){if(0===e)return this.model.getSelectAllItem();const t=this.model.showAddCurrentSelectionToFilter(),i=t?2:1;return 1===e&&t?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(e-i)}areRowsEqual(e,t){return e===t}},q_=class{constructor(e){this.model=e}getRowCount(){return this.model.getRowCount()}getRow(e){return this.model.getRow(e)}areRowsEqual(e,t){return null==e&&null==t||null!=e&&null!=t&&e.treeKey===t.treeKey&&e.depth===t.depth}},Y_={tag:"div",cls:"ag-floating-filter-input ag-set-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},X_=class extends Fy.wA2{constructor(){super(Y_,[Fy.jvp]),this.eFloatingFilterText=Fy.CUI,this.availableValuesListenerAdded=!1,this.filterModelFormatter=new O_}wireBeans(e){this.colNames=e.colNames}init(e){this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",(()=>this.params.showParentFilter())),this.setParams(e)}setParams(e){const t=this.colNames.getDisplayNameForColumn(e.column,"header",!0),i=this.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}refresh(e){this.params=e,this.setParams(e)}onParentModelChanged(e){this.updateFloatingFilterText(e)}parentSetFilterInstance(e){this.params.parentFilterInstance((t=>{t instanceof j_?e(t):(0,Fy.U0c)(248)}))}addAvailableValuesListener(){this.parentSetFilterInstance((e=>{const t=e.getValueModel();t&&this.addManagedListeners(t,{availableValuesChanged:()=>this.updateFloatingFilterText()})})),this.availableValuesListenerAdded=!0}updateFloatingFilterText(e){this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance((t=>{this.eFloatingFilterText.setValue(this.filterModelFormatter.getModelAsString(e,t))}))}},Q_={moduleName:"SetFilter",version:ww,userComponents:{agSetColumnFilter:j_,agSetColumnFloatingFilter:X_},icons:{setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",setFilterLoading:"loading"},dependsOn:[Sw,Fy.Tpu]},Z_={name:"statusPanel",optionalMethods:["refresh"]},J_={tag:"div",cls:"ag-status-bar",children:[{tag:"div",ref:"eStatusBarLeft",cls:"ag-status-bar-left",role:"status"},{tag:"div",ref:"eStatusBarCenter",cls:"ag-status-bar-center",role:"status"},{tag:"div",ref:"eStatusBarRight",cls:"ag-status-bar-right",role:"status"}]},eE={selector:"AG-STATUS-BAR",component:class extends Fy.wA2{constructor(){super(J_),this.updateQueued=!1,this.panelsPromise=Fy.j_S.resolve(),this.eStatusBarLeft=Fy.CUI,this.eStatusBarCenter=Fy.CUI,this.eStatusBarRight=Fy.CUI,this.compDestroyFunctions={},this.registerCSS(".ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel,:where(.ag-status-panel.ag-status-panel-aggregations .ag-status-name-value){display:inline-flex}.ag-status-name-value{color:var(--ag-status-bar-label-color);font-weight:var(--ag-status-bar-label-font-weight);margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding);white-space:nowrap}.ag-status-name-value-value{color:var(--ag-status-bar-value-color);font-weight:var(--ag-status-bar-value-font-weight)}.ag-status-bar-left{display:inline-flex}.ag-status-bar-center{display:inline-flex;text-align:center}.ag-status-bar-right{display:inline-flex}")}wireBeans(e){this.userCompFactory=e.userCompFactory,this.statusBarSvc=e.statusBarSvc}postConstruct(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))}processStatusPanels(e){const t=this.gos.get("statusBar")?.statusPanels;if(t){const i=t.filter((e=>"left"===e.align)),r=t.filter((e=>"center"===e.align)),s=t.filter((e=>!e.align||"right"===e.align));this.panelsPromise=Fy.j_S.all([this.createAndRenderComponents(i,this.eStatusBarLeft,e),this.createAndRenderComponents(r,this.eStatusBarCenter,e),this.createAndRenderComponents(s,this.eStatusBarRight,e)])}else this.setDisplayed(!1)}handleStatusBarChanged(){this.updateQueued||(this.updateQueued=!0,this.panelsPromise.then((()=>{this.updateStatusBar(),this.updateQueued=!1})))}updateStatusBar(){const e=this.gos.get("statusBar")?.statusPanels,t=Array.isArray(e)&&e.length>0;this.setDisplayed(t);const i=new Map;t&&e.forEach((e=>{const t=e.key??e.statusPanel,r=this.statusBarSvc.getStatusPanel(t);if(r?.refresh){const s=(0,Fy.OHk)(this.gos,{...e.statusPanelParams??{},key:t});r.refresh(s)&&(i.set(t,r),delete this.compDestroyFunctions[t],(0,Fy.taW)(r.getGui()))}})),this.resetStatusBar(),t&&this.processStatusPanels(i)}resetStatusBar(){(0,Fy.wvc)(this.eStatusBarLeft),(0,Fy.wvc)(this.eStatusBarCenter),(0,Fy.wvc)(this.eStatusBarRight),this.destroyComponents(),this.statusBarSvc.unregisterAllComponents()}destroy(){this.destroyComponents(),super.destroy()}destroyComponents(){Object.values(this.compDestroyFunctions).forEach((e=>e())),this.compDestroyFunctions={}}createAndRenderComponents(e,t,i){const r=[];return e.forEach((e=>{const t=e.key||e.statusPanel,s=i.get(t);let a;if(s)a=Fy.j_S.resolve(s);else{const i=(o=this.userCompFactory,n=e,l=(0,Fy.OHk)(this.gos,{key:t}),o.getCompDetails(n,Z_,void 0,l,!0));if(null==i)return;a=i.newAgStackInstance()}var o,n,l;r.push({key:t,promise:a})})),Fy.j_S.all(r.map((e=>e.promise))).then((()=>{r.forEach((e=>{e.promise.then((i=>{const r=()=>{this.destroyBean(i)};this.isAlive()?(this.statusBarSvc.registerStatusPanel(e.key,i),t.appendChild(i.getGui()),this.compDestroyFunctions[e.key]=r):r()}))}))}))}}},tE={tag:"div",cls:"ag-status-name-value",children:[{tag:"span",ref:"eLabel"},": ",{tag:"span",ref:"eValue",cls:"ag-status-name-value-value"}]},iE=class extends Fy.wA2{constructor(){super(tE),this.eLabel=Fy.CUI,this.eValue=Fy.CUI}setLabel(e,t){this.setDisplayed(!1),this.eLabel.textContent=this.getLocaleTextFunc()(e,t)}setValue(e,t){this.eValue.textContent=this.valueFormatter((0,Fy.OHk)(this.gos,{value:e,totalRows:t,key:this.key}))}},rE={selector:"AG-NAME-VALUE",component:iE},sE=e=>{let t=0;return e.forEachNodeAfterFilter((e=>{e.data&&t++})),t},aE=e=>{let t=0;return e.forEachNode((e=>{e.data&&t++})),t},oE={tag:"div",cls:"ag-status-panel ag-status-panel-aggregations",children:[{tag:"ag-name-value",ref:"avgAggregationComp"},{tag:"ag-name-value",ref:"countAggregationComp"},{tag:"ag-name-value",ref:"minAggregationComp"},{tag:"ag-name-value",ref:"maxAggregationComp"},{tag:"ag-name-value",ref:"sumAggregationComp"}]},nE=class extends Fy.wA2{constructor(){super(oE,[rE]),this.sumAggregationComp=Fy.CUI,this.countAggregationComp=Fy.CUI,this.minAggregationComp=Fy.CUI,this.maxAggregationComp=Fy.CUI,this.avgAggregationComp=Fy.CUI}postConstruct(){(0,Fy.qYz)(this.gos)||(0,Fy.jie)(this.gos)?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedEventListeners({cellSelectionChanged:this.onCellSelectionChanged.bind(this),modelUpdated:this.onCellSelectionChanged.bind(this)})):(0,Fy.F5b)(221)}init(e){this.refresh(e)}refresh(e){this.params=e;const t=e.valueFormatter??(({value:e})=>function(e,t){return"number"!=typeof e?"":(0,Fy.cM1)(Math.round(100*e)/100,t)}(e,this.getLocaleTextFunc.bind(this))),i=["avg","count","min","max","sum"];for(const e of i){const i=this.getAllowedAggregationValueComponent(e);i&&(i.key=e,i.valueFormatter=t.bind(this))}return this.onCellSelectionChanged(),!0}setAggregationComponentValue(e,t,i){const r=this.getAllowedAggregationValueComponent(e),s=aE(this.beans.rowModel);(0,Fy.fTC)(r)&&r?(r.setValue(t,s),r.setDisplayed(i)):this.getAggregationValueComponent(e)?.setDisplayed(!1)}getAllowedAggregationValueComponent(e){const{aggFuncs:t}=this.params;return!t||t.includes(e)?this.getAggregationValueComponent(e):null}getAggregationValueComponent(e){return this[`${e}AggregationComp`]}onCellSelectionChanged(){const e=this.beans,{rangeSvc:t,valueSvc:i}=e,r=t?.getCellRanges();let s=0,a=0,o=0,n=null,l=null;const c={};if(r?.length&&t)for(let d=0;d<r.length;d++){const u=r[d];let p=t.getRangeStartRow(u);const h=t.getRangeEndRow(u);for(;!(0,Fy.n92)(p)&&p&&!(0,Fy.ud3)(h,p)&&p&&u.columns;)u.columns.forEach((t=>{if(null===p)return;const r=(0,Fy.E6p)({rowPinned:p.rowPinned,column:t,rowIndex:p.rowIndex});if(c[r])return;c[r]=!0;const d=(0,Fy.vas)(e,p);if((0,Fy.n92)(d))return;let u=i.getValue(t,d);(0,Fy.n92)(u)||""===u||(a++,"object"==typeof u&&"value"in u&&(u=u.value,""===u)||("string"==typeof u&&(u=Number(u)),"number"!=typeof u||isNaN(u)||(s+=u,(null===l||u>l)&&(l=u),(null===n||u<n)&&(n=u),o++)))})),p=(0,Fy.okx)(e,p)}const d=a>1,u=o>1;this.setAggregationComponentValue("count",a,d),this.setAggregationComponentValue("sum",s,u),this.setAggregationComponentValue("min",n,u),this.setAggregationComponentValue("max",l,u),this.setAggregationComponentValue("avg",s/o,u)}},lE=class extends Fy.AS9{constructor(){super(),this.beanName="statusBarSvc",this.comps=new Map}registerStatusPanel(e,t){this.comps.set(e,t)}unregisterStatusPanel(e){this.comps.delete(e)}unregisterAllComponents(){this.comps.clear()}getStatusPanel(e){return this.comps.get(e)}destroy(){this.unregisterAllComponents(),super.destroy()}},cE={moduleName:"StatusBar",version:ww,beans:[lE],userComponents:{agAggregationComponent:nE,agTotalRowCountComponent:class extends iE{postConstruct(){this.setLabel("totalRows","Total Rows"),(0,Fy.qYz)(this.gos)?(this.addCss("ag-status-panel"),this.addCss("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)})):(0,Fy.F5b)(225)}onDataChanged(){const e=aE(this.beans.rowModel);this.setValue(e,e)}init(e){this.refresh(e),this.onDataChanged()}updateValueFormatter(e){this.valueFormatter=e??(({value:e})=>(0,Fy.cM1)(e,this.getLocaleTextFunc.bind(this)))}refresh(e){const{key:t,valueFormatter:i}=e;return this.key=t,this.updateValueFormatter(i),!0}},agFilteredRowCountComponent:class extends iE{postConstruct(){if(this.setLabel("filteredRows","Filtered"),!(0,Fy.qYz)(this.gos))return void(0,Fy.F5b)(222);this.addCss("ag-status-panel"),this.addCss("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);const e=this.onDataChanged.bind(this);this.addManagedEventListeners({modelUpdated:e})}onDataChanged(){const{rowModel:e}=this.beans,t=aE(e),i=sE(e);this.setValue(i,t),this.setDisplayed(t!==i)}init(e){this.refresh(e),this.onDataChanged()}updateValueFormatter(e){this.valueFormatter=e??(({value:e})=>(0,Fy.cM1)(e,this.getLocaleTextFunc.bind(this)))}refresh(e){const{key:t,valueFormatter:i}=e;return this.key=t,this.updateValueFormatter(i),!0}},agTotalAndFilteredRowCountComponent:class extends iE{postConstruct(){(0,Fy.qYz)(this.gos)?(this.setLabel("totalAndFilteredRows","Rows"),this.addCss("ag-status-panel"),this.addCss("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)})):(0,Fy.F5b)(224)}onDataChanged(){const{rowModel:e}=this.beans,t=sE(e),i=aE(e);this.setValue(t,i)}init(e){this.refresh(e),this.onDataChanged()}updateValueFormatter(e){this.valueFormatter=e??(({value:e,totalRows:t})=>{const i=this.getLocaleTextFunc.bind(this),r=(0,Fy.cM1)(e,i),s=(0,Fy.cM1)(t??e,i);return e===t?r:`${r} ${i()("of","of")} ${s}`})}refresh(e){const{key:t,valueFormatter:i}=e;return this.key=t,this.updateValueFormatter(i),!0}},agSelectedRowCountComponent:class extends iE{postConstruct(){const e=this.gos;if(!(0,Fy.qYz)(e)&&!(0,Fy.jie)(e))return void(0,Fy.F5b)(223);this.setLabel("selectedRows","Selected"),this.addCss("ag-status-panel"),this.addCss("ag-status-panel-selected-row-count");const t=this.onRowSelectionChanged.bind(this);this.addManagedEventListeners({modelUpdated:t,selectionChanged:t})}onRowSelectionChanged(){const{selectionSvc:e,rowModel:t}=this.beans,i=e?.getSelectionCount()??0,r=aE(t);this.setValue(i,r),i<0?this.setDisplayed(!0):this.setDisplayed(i>0)}init(e){this.refresh(e),this.onRowSelectionChanged()}updateValueFormatter(e){this.valueFormatter=e??(({value:e})=>null==e||e>=0?(0,Fy.cM1)(e,this.getLocaleTextFunc.bind(this)):this.getLocaleTextFunc()("statusBarLastRowUnknown","?"))}refresh(e){const{key:t,valueFormatter:i}=e;return this.key=t,this.updateValueFormatter(i),!0}}},selectors:[eE],apiFunctions:{getStatusPanel:function(e,t){const i=e.statusBarSvc?.getStatusPanel(t);return(0,Fy.fKg)(i)}},dependsOn:[Sw,Fy.pz4]};function dE(e){return"MULTI_SHEET"!==e.excelCreator?.getFactoryMode()||((0,Fy.F5b)(161),!1)}var uE={moduleName:"ExcelExport",version:ww,beans:[kw],apiFunctions:{getDataAsExcel:function(e,t){if(dE(e))return e.excelCreator?.getDataAsExcel(t)},exportDataAsExcel:function(e,t){dE(e)&&e.excelCreator?.exportDataAsExcel(t)},getSheetDataForExcel:function(e,t){return e.excelCreator?.setFactoryMode("MULTI_SHEET"),e.excelCreator?.getSheetDataForExcel(t)},getMultipleSheetsAsExcel:function(e,t){return e.excelCreator?.getMultipleSheetsAsExcel(t)},exportMultipleSheetsAsExcel:function(e,t){e.excelCreator?.exportMultipleSheetsAsExcel(t)}},dependsOn:[Fy.r2F,Sw]},pE=class extends Fy.wA2{constructor(e={}){super(function(e){const t=e.cssIdentifier||"default";return{tag:"div",cls:`ag-group ag-${t}-group`,role:"presentation",children:[{tag:"div",ref:"eToolbar",cls:`ag-group-toolbar ag-${t}-group-toolbar`,children:[{tag:"ag-checkbox",ref:"cbGroupEnabled"}]},{tag:"div",ref:"eContainer",cls:`ag-group-container ag-group-container-${e.direction||"vertical"} ag-${t}-group-container`}]}}(e),[Fy.I$4]),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1,this.eToolbar=Fy.CUI,this.cbGroupEnabled=Fy.CUI,this.eContainer=Fy.CUI;const{enabled:t,items:i,suppressEnabledCheckbox:r,expanded:s,suppressToggleExpandOnEnableChange:a,useToggle:o}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=null==t||t,this.items=i||[],this.useToggle=o??!1,this.alignItems=e.alignItems||"center",this.expanded=null==s||s,null!=r&&(this.suppressEnabledCheckbox=r),null!=a&&(this.suppressToggleExpandOnEnableChange=a)}postConstruct(){if(this.setupTitleBar(),this.items.length){const e=this.items;this.items=[],this.addItems(e)}const e=this.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:t,onExpandedChange:i,suppressOpenCloseIcons:r}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(r??!1),this.refreshChildDisplay(),(0,Fy.DIH)(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange((e=>{this.setEnabled(e,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(e)})),null!=t&&this.onEnableChange(t),null!=i&&this.onExpandedChange(i)}refreshChildDisplay(){(0,Fy.DIH)(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),this.eTitleBar?.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCss(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const t=`ag-group-item-alignment-${this.alignItems}`;return this.addCss(t),this}toggleGroupExpand(e,t){if(this.eTitleBar?.isSuppressCollapse()&&!this.useToggle)e=!0,t=!0;else if(e=null!=e?e:!this.expanded,this.expanded===e)return this;return this.expanded=e,this.refreshChildDisplay(),(0,Fy.DIH)(this.eContainer,e),t||this.dispatchLocalEvent({type:e?"expanded":"collapsed"}),this}addItems(e){e.forEach((e=>this.addItem(e)))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,t){const i=this.eContainer,r=e instanceof Fy.wA2?e.getGui():e;r.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),t?(i.insertAdjacentElement("afterbegin",r),this.items.unshift(r)):(i.appendChild(r),this.items.push(r))}hideItem(e,t){const i=this.items[t];(0,Fy.DIH)(i,!e)}getItemIndex(e){const t=e instanceof Fy.wA2?e.getGui():e;return this.items.indexOf(t)}setTitle(e){return this.eTitleBar?.setTitle(e),this}addTitleBarWidget(e){return this.eTitleBar?.addWidget(e),this}addCssClassToTitleBar(e){this.eTitleBar?.addCss(e)}dispatchEnableChangeEvent(e){const t={type:"enableChange",enabled:e};this.dispatchLocalEvent(t)}setEnabled(e,t,i){return this.enabled=e,this.refreshDisabledStyles(),i||this.toggleGroupExpand(e),t||(this.cbGroupEnabled.setValue(e),this.eToggle?.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListeners(this,{enableChange:t=>e(t.enabled)}),this}onExpandedChange(e){return this.addManagedListeners(this,{expanded:()=>e(!0),collapsed:()=>e(!1)}),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){return this.eTitleBar?.hideOpenCloseIcons(e),this}refreshDisabledStyles(){const e=!this.enabled;this.eContainer.classList.toggle("ag-disabled",e),this.eTitleBar?.refreshDisabledStyles(this.suppressEnabledCheckbox&&e),this.eContainer.classList.toggle("ag-disabled-group-container",e)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new mE(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListeners(e,{expandedChanged:e=>this.toggleGroupExpand(e.expanded)}),e}createToggleTitleBar(){const e=this.createManagedBean(new Fy.nN0({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:e=>{this.setEnabled(e,!0),this.dispatchEnableChangeEvent(e)}}));return e.addCss("ag-group-title-bar"),e.addCss(`ag-${this.params.cssIdentifier??"default"}-group-title-bar ag-unselectable`),this.eToggle=e,this.toggleGroupExpand(this.enabled),e}},hE="ag-disabled-group-title-bar",mE=class extends Fy.wA2{constructor(e={}){super(function(e){const t=e.cssIdentifier??"default";return{tag:"div",cls:`ag-group-title-bar ag-${t}-group-title-bar ag-unselectable`,role:e.suppressKeyboardNavigation?"presentation":"role",children:[{tag:"span",ref:"eGroupOpenedIcon",cls:`ag-group-title-bar-icon ag-${t}-group-title-bar-icon`,role:"presentation"},{tag:"span",ref:"eGroupClosedIcon",cls:`ag-group-title-bar-icon ag-${t}-group-title-bar-icon`,role:"presentation"},{tag:"span",ref:"eTitle",cls:`ag-group-title ag-${t}-group-title`}]}}(e)),this.suppressOpenCloseIcons=!1,this.suppressKeyboardNavigation=!1,this.eGroupOpenedIcon=Fy.CUI,this.eGroupClosedIcon=Fy.CUI,this.eTitle=Fy.CUI;const{title:t,suppressOpenCloseIcons:i,suppressKeyboardNavigation:r}=e;t&&t.length>0&&(this.title=t),null!=i&&(this.suppressOpenCloseIcons=i),this.suppressKeyboardNavigation=r??!1}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild((0,Fy.ucQ)("accordionClosed",this.beans,null)),this.eGroupOpenedIcon.appendChild((0,Fy.ucQ)("accordionOpen",this.beans,null)),this.addManagedElementListeners(this.getGui(),{click:()=>this.dispatchExpandChanged(),keydown:e=>{switch(e.key){case Fy.KeyCode.ENTER:case Fy.KeyCode.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case Fy.KeyCode.RIGHT:case Fy.KeyCode.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===Fy.KeyCode.RIGHT)}}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||(0,Fy.mmg)(this.getGui(),e)}refreshOpenCloseIcons(e){const t=!this.suppressOpenCloseIcons;(0,Fy.DIH)(this.eGroupOpenedIcon,t&&e),(0,Fy.DIH)(this.eGroupClosedIcon,t&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){const t={type:"expandedChanged",expanded:e};this.dispatchLocalEvent(t)}setTitle(e){const t=this.getGui(),i=!!e&&e.length>0;e=i?e:void 0,this.eTitle.textContent=e??"",(0,Fy.DIH)(t,i),e!==this.title&&(this.title=e);const r=t.classList.contains(hE);return this.refreshDisabledStyles(r),this}addWidget(e){return this.getGui().appendChild(e),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const t=this.getGui();e?(t.classList.add(hE),t.removeAttribute("tabindex")):(t.classList.remove(hE),"string"!=typeof this.title||this.suppressKeyboardNavigation?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0"))}},gE={selector:"AG-GROUP-COMPONENT",component:pE};function bE(e){const{filters:t}=e;return t&&t.length>0?t:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]}function fE(e,t){if(null!=e)for(let i=e.length-1;i>=0;i--)t(e[i],i)}var vE=class extends Fy.BxR{constructor(){super({tag:"div",cls:"ag-multi-filter ag-menu-list-compact"}),this.filterType="multi",this.filterDefs=[],this.filters=[],this.guiDestroyFuncs=[],this.filterGuis=[],this.activeFilterIndices=[],this.lastActivatedMenuItem=null,this.afterFiltersReadyFuncs=[]}postConstruct(){this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e)})}init(e){this.params=e,this.filterDefs=bE(e);const{column:t,filterChangedCallback:i}=e;this.column=t,this.filterChangedCallback=i;const r=[];return this.filterDefs.forEach(((e,t)=>{const i=this.createFilter(e,t);null!=i&&r.push(i)})),new Fy.j_S((e=>{Fy.j_S.all(r).then((t=>{this.filters=t,this.refreshGui("columnMenu").then((()=>{e()}))}))})).then((()=>{this.afterFiltersReadyFuncs.forEach((e=>e())),this.afterFiltersReadyFuncs.length=0}))}refreshGui(e){return e===this.lastOpenedInContainer?Fy.j_S.resolve():(this.tabGuardFeature.removeAllChildrenExceptTabGuards(),this.destroyChildren(),Fy.j_S.all(this.filters.map(((t,i)=>{const r=this.filterDefs[i],s=function(e,t){return null!=t.title?t.title:e instanceof Fy.AGU?e.getFilterTitle():"Filter"}(t,r);let a;if("subMenu"===r.display&&"toolPanel"!==e)a=this.insertFilterMenu(t,s).then((e=>e.getGui()));else if("subMenu"===r.display||"accordion"===r.display){const e=this.insertFilterGroup(t,s);a=Fy.j_S.resolve(e.getGui())}else a=Fy.j_S.resolve(t.getGui());return a}))).then((t=>{t.forEach(((e,t)=>{t>0&&this.appendChild((0,Fy.Xye)({tag:"div",cls:"ag-filter-separator"})),this.appendChild(e)})),this.filterGuis=t,this.lastOpenedInContainer=e})))}destroyChildren(){this.guiDestroyFuncs.forEach((e=>e())),this.guiDestroyFuncs.length=0,this.filterGuis.length=0}insertFilterMenu(e,t){const i=this.createBean(new Mx);return i.init({menuItemDef:{name:t,subMenu:[],subMenuRole:"dialog",cssClasses:["ag-multi-filter-menu-item"],menuItem:ax,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:()=>!1,childComponent:e,contextParams:{column:null,node:null,value:null}}).then((()=>{i.setParentComponent(this),this.guiDestroyFuncs.push((()=>this.destroyBean(i))),this.addManagedListeners(i,{menuItemActivated:e=>{this.lastActivatedMenuItem&&this.lastActivatedMenuItem!==e.menuItem&&this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=e.menuItem}});const e=i.getGui();return i.addManagedElementListeners(e,{keydown:e=>{const{key:t}=e;switch(t){case Fy.KeyCode.UP:case Fy.KeyCode.RIGHT:case Fy.KeyCode.DOWN:case Fy.KeyCode.LEFT:e.preventDefault(),t===Fy.KeyCode.RIGHT&&i.openSubMenu(!0)}},focusin:()=>i.activate(),focusout:()=>{i.isSubMenuOpen()||i.isSubMenuOpening()||i.deactivate()}}),i}))}insertFilterGroup(e,t){const i=this.createBean(new pE({title:t,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push((()=>this.destroyBean(i))),i.addItem(e.getGui()),i.toggleGroupExpand(!1),e.afterGuiAttached&&i.addManagedListeners(i,{expanded:()=>e.afterGuiAttached({container:this.lastOpenedInContainer,suppressFocus:!0,hidePopup:this.hidePopup})}),i}isFilterActive(){return this.filters.some((e=>e.isFilterActive()))}getLastActiveFilterIndex(){const e=this.activeFilterIndices;return e.length>0?e[e.length-1]:null}doesFilterPass(e,t){let i=!0;return this.filters.forEach((r=>{i&&r!==t&&r.isFilterActive()&&(i=r.doesFilterPass(e))})),i}getModelFromUi(){const e={filterType:this.filterType,filterModels:this.filters.map((e=>{const t=e;return"function"==typeof t.getModelFromUi?t.getModelFromUi():null}))};return e}getModel(){if(!this.isFilterActive())return null;const e={filterType:this.filterType,filterModels:this.filters.map((e=>e.isFilterActive()?e.getModel():null))};return e}setModel(e){const t=(e,t)=>new Fy.j_S((i=>{const r=e.setModel(t);r?r.then((()=>i())):i()}));let i=[];return null==e?i=this.filters.map(((e,i)=>t(e,null).then((()=>{this.updateActiveList(i)})))):this.filters.forEach(((r,s)=>{const a=e.filterModels.length>s?e.filterModels[s]:null,o=t(r,a).then((()=>{this.updateActiveList(s)}));i.push(o)})),Fy.j_S.all(i).then((()=>{}))}applyModel(e="api"){let t=!1;return this.filters.forEach((i=>{i instanceof Fy.AGU&&(t=i.applyModel(e)||t)})),t}getChildFilterInstance(e){return this.filters[e]}afterGuiAttached(e){let t;e?(this.hidePopup=e.hidePopup,t=this.refreshGui(e.container)):(this.hidePopup=void 0,t=Fy.j_S.resolve());const i=e?.suppressFocus;t.then((()=>{const{filterDefs:t,filters:r,filterGuis:s,beans:a}=this;let o=!!i;t&&fE(t,((t,a)=>{const n=0===a,l=t.display&&"inline"!==t.display,c=i||!n||l,d={...e??{},suppressFocus:c},u=r?.[a];if(u&&(this.executeFunctionIfExistsOnFilter(u,"afterGuiAttached",d),n&&!c&&(o=!0)),!i&&n&&l){const e=s[a];e&&((0,Fy.exX)(e)||e.focus({preventScroll:!0}),o=!0)}}));const n=(0,Fy.HB1)(a);o||!(0,Fy.kAG)(a)&&!this.getGui().contains(n)||this.forceFocusOutOfContainer(!0)}))}afterGuiDetached(){this.executeFunctionIfExists("afterGuiDetached")}onAnyFilterChanged(){this.executeFunctionIfExists("onAnyFilterChanged")}onNewRowsLoaded(){this.executeFunctionIfExists("onNewRowsLoaded")}destroy(){this.filters.forEach((e=>this.destroyBean(e))),this.filters.length=0,this.destroyChildren(),this.hidePopup=void 0,super.destroy()}executeFunctionIfExists(e,...t){fE(this.filters,(i=>{this.executeFunctionIfExistsOnFilter(i,e,t)}))}executeFunctionIfExistsOnFilter(e,t,...i){const r=e[t];"function"==typeof r&&r.apply(e,i)}createFilter(e,t){const{filterModifiedCallback:i,doesRowPassOtherFilter:r}=this.params,{filterManager:s,userCompFactory:a}=this.beans;let o;const n={...s.createFilterParams(this.column,this.column.getColDef()),filterModifiedCallback:i,filterChangedCallback:e=>{this.executeWhenAllFiltersReady((()=>this.filterChanged(t,e)))},doesRowPassOtherFilter:e=>r(e)&&this.doesFilterPass({node:e,data:e.data},o)},l=(0,Fy.AAJ)(a,e,n,"agTextColumnFilter");if(!l)return null;const c=l.newAgStackInstance();return c.then((t=>{if(t&&(o=t,"subMenu"===e.display)){const e=t.getGui();(0,Fy.Znd)(e,"dialog")}})),c}executeWhenAllFiltersReady(e){(this.filters?.length??0)>0?e():this.afterFiltersReadyFuncs.push(e)}updateActiveList(e){const{filters:t,activeFilterIndices:i}=this,r=t[e];(0,Fy.Pi9)(i,e),r.isFilterActive()&&i.push(e)}filterChanged(e,t){this.updateActiveList(e),this.filterChangedCallback(t);const i=this.filters[e];this.filters.forEach((e=>{e!==i&&"function"==typeof e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}onFocusIn(e){const t=this.lastActivatedMenuItem;null==t||t.getGui().contains(e.target)||(t.deactivate(),this.lastActivatedMenuItem=null)}getModelAsString(e){if(!this.filters||!e?.filterModels?.length)return"";const t=this.getLastActiveFilterIndex()??0,i=this.filters[t];return i.getModelAsString?.(e.filterModels[t])??""}},yE={tag:"div",cls:"ag-multi-floating-filter ag-floating-filter-input"},CE=class extends Fy.wA2{constructor(){super(yE),this.floatingFilters=[],this.compDetailsList=[]}init(e){this.params=e;const{compDetailsList:t}=this.getCompDetailsList(e);return this.setParams(t)}setParams(e){const t=[];return e.forEach((e=>{const i=e?.newAgStackInstance();null!=i&&(this.compDetailsList.push(e),t.push(i))})),Fy.j_S.all(t).then((e=>{e.forEach(((e,t)=>{this.floatingFilters.push(e);const i=e.getGui();this.appendChild(i),t>0&&(0,Fy.DIH)(i,!1)}))}))}refresh(e){this.params=e;const{compDetailsList:t,floatingFilterParamsList:i}=this.getCompDetailsList(e);t.length===this.compDetailsList.length&&t.every(((e,t)=>!this.beans.filterManager?.areFilterCompsDifferent(this.compDetailsList[t],e)))?i.forEach(((e,t)=>{const i=this.floatingFilters[t];i.refresh?.(e)})):((0,Fy.wvc)(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(t))}getCompDetailsList(e){const t=[],i=[],r=e.filterParams,s=e.currentParentModel;return bE(r).forEach(((r,a)=>{const o={...e,parentFilterInstance:e=>{this.parentMultiFilterInstance((t=>{const i=t.getChildFilterInstance(a);null!=i&&e(i)}))},currentParentModel:()=>s()?.filterModels?.[a]??null};(0,Fy.zev)(o.filterParams,r.filterParams);const n=this.getCompDetails(r,o);n&&(t.push(n),i.push(o))})),{compDetailsList:t,floatingFilterParamsList:i}}onParentModelChanged(e,t){t&&t.afterFloatingFilter||this.parentMultiFilterInstance((i=>{if(null==e)this.floatingFilters.forEach(((e,i)=>{e.onParentModelChanged(null,t),(0,Fy.DIH)(e.getGui(),0===i)}));else{const r=i.getLastActiveFilterIndex();this.floatingFilters.forEach(((i,s)=>{const a=e.filterModels.length>s?e.filterModels[s]:null;i.onParentModelChanged(a,t);const o=null==r?0===s:s===r;(0,Fy.DIH)(i.getGui(),o)}))}}))}destroy(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,super.destroy()}getCompDetails(e,t){const{filterManager:i,frameworkOverrides:r,userCompFactory:s}=this.beans,a=(0,Fy.Haw)(r,e,(()=>i.getDefaultFloatingFilter(this.params.column)))??"agReadOnlyFloatingFilter";return(0,Fy.HVR)(s,e,t,a)}parentMultiFilterInstance(e){this.params.parentFilterInstance((t=>{t instanceof vE||(0,Fy.U0c)(120),e(t)}))}},kE={moduleName:"MultiFilter",version:ww,userComponents:{agMultiColumnFilter:vE,agMultiColumnFloatingFilter:CE},dependsOn:[Sw,Fy.Tpu,ox]},wE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="aggColNameSvc"}getHeaderName(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const{valueColsSvc:i,colModel:r,rowGroupColsSvc:s}=this.beans,a=e.getColDef().pivotValueColumn;let o,n=null;if((0,Fy.fTC)(a)){const r=i?.columns??[],s=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===r.length,l=void 0!==e.getColDef().pivotTotalColumnIds;if(s&&!l)return t;n=a?a.getAggFunc():null,o=!0}else{const t=e.isValueActive(),i=r.isPivotMode()||0!==s?.columns.length;t&&i?(n=e.getAggFunc(),o=!0):o=!1}if(o){const e="string"==typeof n?n:"func";return`${this.getLocaleTextFunc()(e,e)}(${t})`}return t}},SE={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},xE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="aggFuncSvc",this.aggFuncsMap={},this.initialised=!1}postConstruct(){this.init()}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gos.get("aggFuncs")))}initialiseWithDefaultAggregations(){const e=this.aggFuncsMap;e.sum=_E,e.first=EE,e.last=ME,e.min=TE,e.max=PE,e.count=AE,e.avg=DE,this.initialised=!0}isAggFuncPossible(e,t){const i=this.getFuncNames(e).includes(t),r=(0,Fy.fTC)(this.aggFuncsMap[t]);return i&&r}getDefaultFuncLabel(e){return SE[e]??e}getDefaultAggFunc(e){const t=e.getColDef().defaultAggFunc;if((0,Fy.fTC)(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,"sum"))return"sum";const i=this.getFuncNames(e);return i?.length?i[0]:null}addAggFuncs(e){if(this.init(),e)for(const t of Object.keys(e))this.aggFuncsMap[t]=e[t]}getAggFunc(e){return this.init(),this.aggFuncsMap[e]}getFuncNames(e){const t=e.getColDef().allowedAggFuncs;return null==t?Object.keys(this.aggFuncsMap).sort():t}clear(){this.aggFuncsMap={}}};function _E(e){const{values:t}=e;let i=null;for(let e=0;e<t.length;e++){const r=t[e];"number"==typeof r?null===i?i=r:i+="number"==typeof i?r:BigInt(r):"bigint"==typeof r&&(i=null===i?r:("bigint"==typeof i?i:BigInt(i))+r)}return i}function EE(e){return e.values.length>0?e.values[0]:null}function ME(e){return e.values.length>0?(0,Fy._O9)(e.values):null}function TE(e){const{values:t}=e;let i=null;for(let e=0;e<t.length;e++){const r=t[e];"number"!=typeof r&&"bigint"!=typeof r||!(null===i||i>r)||(i=r)}return i}function PE(e){const{values:t}=e;let i=null;for(let e=0;e<t.length;e++){const r=t[e];"number"!=typeof r&&"bigint"!=typeof r||!(null===i||i<r)||(i=r)}return i}function AE(e){const{values:t}=e;let i=0;for(let e=0;e<t.length;e++){const r=t[e];i+=null!=r&&"number"==typeof r.value?r.value:1}const r=e.rowNode?.aggData?.[e.column.getColId()];return r&&r.value===i?r:{value:i,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function DE(e){const{values:t}=e;let i=0,r=0;for(let e=0;e<t.length;e++){const s=t[e];let a=null;"number"==typeof s||"bigint"==typeof s?(a=s,r++):null==s||"number"!=typeof s.value&&"bigint"!=typeof s.value||"number"!=typeof s.count||(a=s.value*("number"==typeof s.value?s.count:BigInt(s.count)),r+=s.count),"number"==typeof a?i+="number"==typeof i?a:BigInt(a):"bigint"==typeof a&&(i=("bigint"==typeof i?i:BigInt(i))+a)}let s=null;r>0&&(s=i/("number"==typeof i?r:BigInt(r)));const a=e.rowNode?.aggData?.[e.column?.getColId()];return a&&a.count===r&&a.value===s?a:{count:r,value:s,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}function IE(e,t,i,r,s,a){const o="string"==typeof i?e.aggFuncSvc.getAggFunc(i):i;return"function"!=typeof o?((0,Fy.U0c)(109,{aggFuncOrString:i}),null):o((0,Fy.OHk)(e.gos,{values:t,column:r,colDef:r.colDef,pivotResultColumn:a,rowNode:s,data:s?.data}))}var NE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="aggStage",this.refreshProps=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","suppressAggFilteredOnly","grandTotalRow"]),this.step="aggregate"}wireBeans(e){this.colModel=e.colModel,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.pivotResultCols=e.pivotResultCols,this.valueSvc=e.valueSvc}execute(e){const t=!this.valueColsSvc?.columns?.length,i=!this.gos.getCallback("getGroupRowAgg");if(t&&i&&e.changedPath?.active)return;const r=this.createAggDetails(e);this.recursivelyCreateAggData(r)}createAggDetails(e){const t=this.colModel.isPivotActive(),i=this.valueColsSvc?.columns,r=t&&this.pivotColsSvc?this.pivotColsSvc.columns:[];return{alwaysAggregateAtRootLevel:this.gos.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:!!(0,Fy.dhi)(this.gos),changedPath:e.changedPath,valueColumns:i??[],pivotColumns:r,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gos.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return void 0!==(0,Fy.vI4)(this.gos)||this.gos.get("suppressAggFilteredOnly")}recursivelyCreateAggData(e){e.changedPath.forEachChangedNodeDepthFirst((t=>{if(t.hasChildren()){if(-1===t.level&&!e.groupIncludeTotalFooter){const i=!this.colModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&i)return void this.setAggData(t,null)}this.aggregateRowNode(t,e)}else t.aggData&&this.setAggData(t,null)}),!0)}aggregateRowNode(e,t){const i=0===t.valueColumns.length,r=0===t.pivotColumns.length;let s;s=t.userAggFunc?t.userAggFunc({nodes:e.childrenAfterFilter}):i?null:r?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e),this.setAggData(e,s),e.sibling&&this.setAggData(e.sibling,s)}aggregateRowNodeUsingValuesAndPivot(e){const t={},i=this.pivotResultCols?.getPivotResultCols()?.list??[];let r=!0;const s=this.beans;for(let a=0;a<i.length;a++){const o=i[a],n=o.getColDef();if(null!=n.pivotTotalColumnIds){r=!1;continue}const l=n.pivotKeys??[];let c;c=e.leafGroup?this.getValuesFromMappedSet(e.childrenMapped,l,n.pivotValueColumn):this.getValuesPivotNonLeaf(e,n.colId),t[n.colId]=IE(s,c,n.pivotValueColumn.getAggFunc(),n.pivotValueColumn,e,o)}if(!r)for(let r=0;r<i.length;r++){const a=i[r],o=a.getColDef();if(null==o.pivotTotalColumnIds||!o.pivotTotalColumnIds.length)continue;const n=o.pivotTotalColumnIds.map((e=>t[e]));t[o.colId]=IE(s,n,o.pivotValueColumn.getAggFunc(),o.pivotValueColumn,e,a)}return t}aggregateRowNodeUsingValuesOnly(e,t){const i={},{changedPath:r,valueColumns:s,filteredOnly:a}=t,o=r.active?r.getValueColumnsForNode(e,s):s,n=r.active?r.getNotValueColumnsForNode(e,s):null,l=this.getValuesNormal(e,o,a),c=e.aggData,d=this.beans;return o.forEach(((t,r)=>{i[t.getId()]=IE(d,l[r],t.getAggFunc(),t,e)})),n&&c&&n.forEach((e=>{i[e.getId()]=c[e.getId()]})),i}getValuesPivotNonLeaf(e,t){return e.childrenAfterFilter.map((e=>e.aggData[t]))}getValuesFromMappedSet(e,t,i){let r=e;for(let e=0;e<t.length;e++){const i=t[e];r=r?r[i]:null}return r?r.map((e=>this.valueSvc.getValue(i,e))):[]}getValuesNormal(e,t,i){const r=[];t.forEach((()=>r.push([])));const s=t.length,a=i?e.childrenAfterFilter:e.childrenAfterGroup,o=a.length;for(let e=0;e<o;e++){const i=a[e];for(let e=0;e<s;e++){const s=t[e],a=this.valueSvc.getValue(s,i);r[e].push(a)}}return r}setAggData(e,t){const i=e.aggData;if(e.aggData=t,e.__localEventService){const r=t=>{const r=e.aggData?e.aggData[t]:void 0,s=i?i[t]:void 0;if(r===s)return;const a=this.colModel.getColById(t);a&&e.dispatchCellChangedEvent(a,r,s)};if(i)for(const e of Object.keys(i))r(e);if(t)for(const e of Object.keys(t))i&&e in i||r(e)}}},RE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="filterAggStage",this.refreshProps=new Set([]),this.step="filter_aggregates"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const t=this.beans.colModel.isPivotMode(),i=this.filterManager?.isAggregateFilterPresent()||this.filterManager?.isAggregateQuickFilterPresent(),r=(0,Fy.vI4)(this.gos)||(t?e=>e.node.leafGroup:e=>!e.node.group),{changedPath:s}=e,a=(e,t=!1)=>{e.childrenAfterFilter&&(e.childrenAfterAggFilter=e.childrenAfterFilter,t&&e.childrenAfterAggFilter.forEach((e=>a(e,t))),this.setAllChildrenCount(e)),e.sibling&&(e.sibling.childrenAfterAggFilter=e.childrenAfterAggFilter)};s.forEachChangedNodeDepthFirst(i?e=>{e.childrenAfterAggFilter=e.childrenAfterFilter?.filter((e=>{if(r({node:e})&&this.filterManager.doesRowPassAggregateFilters({rowNode:e}))return a(e,!0),!0;const t=e.childrenAfterAggFilter?.length;return t}))||null,this.setAllChildrenCount(e),e.sibling&&(e.sibling.childrenAfterAggFilter=e.childrenAfterAggFilter)}:a,!0)}setAllChildrenCountTreeData(e){const t=e.childrenAfterAggFilter;let i=0;if(t){const e=t.length;i=e;for(let r=0;r<e;++r)i+=t[r].allChildrenCount??0}e.setAllChildrenCount(0===i&&e.level>=0?null:i)}setAllChildrenCountGridGrouping(e){let t=0;e.childrenAfterAggFilter.forEach((e=>{e.group?t+=e.allChildrenCount:t++})),e.setAllChildrenCount(t)}setAllChildrenCount(e){e.hasChildren()?this.gos.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)}};function LE(e,t){if(e.sibling)return;const i=(0,Fy.F0d)(e,t);i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+e.id,i.sibling=e,e.sibling=i}function FE(e){e.sibling&&(e.sibling.setRowTop(null),e.sibling.setRowIndex(null),e.sibling=void 0)}var OE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="footerSvc"}addTotalRows(e,t,i,r,s,a){let o=e;if(s)return function(e,t){switch(t){case"top":case"pinnedTop":return"top"===e;case"bottom":case"pinnedBottom":return"bottom"===e;default:return!1}}(a,r&&(0,Fy.dhi)(this.gos))&&(LE(t,this.beans),i(t.sibling,o++)),o;const n=(0,Fy.CaV)(this.gos);return(r&&n({node:t}))===a&&(LE(t,this.beans),i(t.sibling,o++)),o}getTopDisplayIndex(e,t,i,r){let s=t;if(e[0].footer){if(0===t)return 0;s-=1}const a=e[e.length-1],o=s>=i.length;return a.footer&&o?a.rowIndex:r(s)}doesCellShowTotalPrefix(e,t){return!(!e.footer||!t?.getColDef().showRowGroup)&&(!!this.gos.get("treeData")||(-1===e.level?this.beans.showRowGroupCols?.getShowRowGroupCols()[0]===t:!!e.rowGroupColumn&&t&&t.isRowGroupDisplayed(e.rowGroupColumn.getId())))}applyTotalPrefix(e,t,i,r){const s=r.getColDef().cellRendererParams?.totalValueGetter;if(s){const a=(0,Fy.OHk)(this.gos,{column:r,node:i,value:e,formattedValue:t});if("function"==typeof s)return s(a);if("string"==typeof s)return this.beans.expressionSvc?.evaluate(s,a);(0,Fy.F5b)(179)}return-1===i.level?this.getLocaleTextFunc()("footerTotal","Total")+" ":this.getTotalValue(t??e)??""}getTotalValue(e){return this.getLocaleTextFunc()("footerTotal","Total")+" "+(e??"")}},BE=class extends Fy.YSA{constructor(){super(...arguments),this.beanName="valueColsSvc",this.eventName="columnValueChanged",this.columnProcessors={set:(e,t,i)=>this.setValueActive(t,e,i),add:(e,t,i)=>this.setValueActive(!0,e,i),remove:(e,t,i)=>this.setValueActive(!1,e,i)},this.columnExtractors={setFlagFunc:(e,t,i)=>this.setColValueActive(e,t,i),getIndexFunc:()=>{},getInitialIndexFunc:()=>{},getValueFunc:e=>{const t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0},getInitialValueFunc:e=>null!=e.initialAggFunc&&""!=e.initialAggFunc},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>(0,Fy.Pi9)(this.columns,e)}}extractCols(e,t){return this.columns=super.extractCols(e,t),this.columns.forEach((e=>{const t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?this.setColAggFunc(e,t.aggFunc):e.getAggFunc()||this.setColAggFunc(e,t.initialAggFunc)})),this.columns}setColumnAggFunc(e,t,i){if(!e)return;const r=this.colModel.getColDefCol(e);r&&(this.setColAggFunc(r,t),this.dispatchColumnChangedEvent(this.eventSvc,this.eventName,[r],i))}syncColumnWithState(e,t,i){const r=i("aggFunc").value1;void 0!==r&&("string"==typeof r?(this.setColAggFunc(e,r),e.isValueActive()||(this.setColValueActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e))):((0,Fy.fTC)(r)&&(0,Fy.F5b)(33),e.isValueActive()&&(this.setColValueActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e))))}setValueActive(e,t,i){if(e!==t.isValueActive()&&(this.setColValueActive(t,e,i),e&&!t.getAggFunc()&&this.aggFuncSvc)){const e=this.aggFuncSvc.getDefaultAggFunc(t);this.setColAggFunc(t,e)}}setColAggFunc(e,t){e.aggFunc=t,e.dispatchStateUpdatedEvent("aggFunc")}setColValueActive(e,t,i){e.aggregationActive!==t&&(e.aggregationActive=t,e.dispatchColEvent("columnValueChanged",i))}},zE={moduleName:"SharedAggregation",version:ww,beans:[xE,wE,OE,BE],apiFunctions:{addAggFuncs:function(e,t){e.aggFuncSvc&&e.aggFuncSvc.addAggFuncs(t)},clearAggFuncs:function(e){e.aggFuncSvc&&e.aggFuncSvc.clear()},setColumnAggFunc:function(e,t,i){e.valueColsSvc?.setColumnAggFunc?.(t,i,"api")}},dependsOn:[Sw]},VE={moduleName:"Aggregation",version:ww,beans:[NE,RE],rowModels:["clientSide"],dependsOn:[zE]},GE=class extends Fy.YSA{constructor(){super(...arguments),this.beanName="pivotColsSvc",this.eventName="columnPivotChanged",this.columnProcessors={set:(e,t,i)=>this.setColPivotActive(e,t,i),add:(e,t,i)=>this.setColPivotActive(e,!0,i),remove:(e,t,i)=>this.setColPivotActive(e,!1,i)},this.columnOrdering={enableProp:"pivot",initialEnableProp:"initialPivot",indexProp:"pivotIndex",initialIndexProp:"initialPivotIndex"},this.columnExtractors={setFlagFunc:(e,t,i)=>this.setColPivotActive(e,t,i),getIndexFunc:e=>e.pivotIndex,getInitialIndexFunc:e=>e.initialPivotIndex,getValueFunc:e=>e.pivot,getInitialValueFunc:e=>e.initialPivot},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>(0,Fy.Pi9)(this.columns,e)}}syncColumnWithState(e,t,i,r){const{value1:s,value2:a}=i("pivot","pivotIndex");void 0===s&&void 0===a||("number"==typeof a||s?(e.isPivotActive()||(this.setColPivotActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),r&&"number"==typeof a&&(r[e.getId()]=a)):e.isPivotActive()&&(this.setColPivotActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setColPivotActive(e,t,i){e.pivotActive!==t&&(e.pivotActive=t,e.dispatchColEvent("columnPivotChanged",i)),e.dispatchStateUpdatedEvent("pivot")}},UE=class extends Fy.YSA{constructor(){super(...arguments),this.beanName="rowGroupColsSvc",this.eventName="columnRowGroupChanged",this.columnProcessors={set:(e,t,i)=>this.setActive(t,e,i),add:(e,t,i)=>this.setActive(!0,e,i),remove:(e,t,i)=>this.setActive(!1,e,i)},this.columnOrdering={enableProp:"rowGroup",initialEnableProp:"initialRowGroup",indexProp:"rowGroupIndex",initialIndexProp:"initialRowGroupIndex"},this.columnExtractors={setFlagFunc:(e,t,i)=>this.setColRowGroupActive(e,t,i),getIndexFunc:e=>e.rowGroupIndex,getInitialIndexFunc:e=>e.initialRowGroupIndex,getValueFunc:e=>e.rowGroup,getInitialValueFunc:e=>e.initialRowGroup},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>(0,Fy.Pi9)(this.columns,e)}}moveColumn(e,t,i){if(0===this.columns.length)return;const r=this.columns[e],s=this.columns.slice(e,t);this.columns.splice(e,1),this.columns.splice(t,0,r),this.updateIndexMap(),this.eventSvc.dispatchEvent({type:this.eventName,columns:s,column:1===s.length?s[0]:null,source:i})}syncColumnWithState(e,t,i,r){const{value1:s,value2:a}=i("rowGroup","rowGroupIndex");void 0===s&&void 0===a||("number"==typeof a||s?(e.isRowGroupActive()||(this.setColRowGroupActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),r&&"number"==typeof a&&(r[e.getId()]=a)):e.isRowGroupActive()&&(this.setColRowGroupActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setActive(e,t,i){e!==t.isRowGroupActive()&&(this.setColRowGroupActive(t,e,i),(0,Fy.V$I)(this.gos,e)&&this.colModel.setColsVisible([t],!e,i))}setColRowGroupActive(e,t,i){e.rowGroupActive!==t&&(e.rowGroupActive=t,e.dispatchColEvent("columnRowGroupChanged",i)),e.dispatchStateUpdatedEvent("rowGroup")}},HE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="autoColSvc"}postConstruct(){this.addManagedPropertyListener("autoGroupColumnDef",this.updateColumns.bind(this))}addColumns(e){null!=this.columns&&(e.list=this.columns.list.concat(e.list),e.tree=this.columns.tree.concat(e.tree),(0,Fy.w8W)(e))}createColumns(e,t){const i=this.beans,{colModel:r,gos:s,rowGroupColsSvc:a,colGroupSvc:o}=i,n=r.isPivotMode(),l=(0,Fy.I21)(s,n),c=n?s.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),d=a?.columns,u=()=>{this.columns&&((0,Fy.uPZ)(i,this.columns.tree),this.columns=null)};if(!(d&&d.length>0||s.get("treeData"))||c||l)return void u();const p=this.generateAutoCols(d),h=(0,Fy.vMX)(p,this.columns?.list||null),m=e.treeDepth,g=this.columns?this.columns.treeDepth:-1;if(h&&g==m)return;u();const b=o?.findDepth(e.tree)??0,f=o?.balanceTreeForAutoCols(p,b)??[];this.columns={list:p,tree:f,treeDepth:b,map:{}},t((e=>{if(!e)return null;const t=e.filter((e=>!(0,Fy.B$o)(e)));return[...p,...t]}))}updateColumns(e){const t=(0,Fy.ZvS)(e.source);this.columns?.list.forEach(((e,i)=>this.updateOneAutoCol(e,i,t)))}getColumn(e){return this.columns?.list.find((t=>(0,Fy.Vw6)(t,e)))??null}getColumns(){return this.columns?.list??null}generateAutoCols(e=[]){const t=[],i=this.gos.get("treeData");let r=(0,Fy.niL)(this.gos);return i&&r&&((0,Fy.F5b)(182),r=!1),r?e.forEach(((e,i)=>{t.push(this.createOneAutoCol(e,i))})):t.push(this.createOneAutoCol()),t}isSuppressAutoCol(){const e=this.gos;return"custom"===e.get("groupDisplayType")||"custom"===e.get("treeDataDisplayType")}createOneAutoCol(e,t){let i;i=e?`${Fy.eHy}-${e.getId()}`:Fy.eHy;const r=this.createAutoColDef(i,e,t);r.colId=i;const s=new Fy.x1i(r,null,i,!0);return this.createBean(s),s}updateOneAutoCol(e,t,i){const r=e.getColDef(),s="string"==typeof r.showRowGroup?r.showRowGroup:void 0,a=this.beans,o=null!=s?a.colModel.getColDefCol(s):void 0,n=e.getId(),l=this.createAutoColDef(n,o??void 0,t);e.setColDef(l,null,i),(0,Fy.Kl8)(a,{state:[{colId:n,...l}]},i)}createAutoColDef(e,t,i){let r=this.createBaseColDef(t);const s=this.gos.get("autoGroupColumnDef");(0,Fy.zev)(r,s),r=(0,Fy.QMs)(this.beans,r,e,!0),this.gos.get("treeData")||(0,Fy.n92)(r.field)&&(0,Fy.n92)(r.valueGetter)&&(0,Fy.n92)(r.filterValueGetter)&&"agGroupColumnFilter"!==r.filter&&(r.filter=!1),i&&i>0&&(r.headerCheckboxSelection=!1);const a=(0,Fy.XOf)(this.gos),o=r.valueGetter||null!=r.field;return a&&!o&&(r.sortIndex=void 0,r.initialSort=void 0),r}createBaseColDef(e){const t=this.gos.get("autoGroupColumnDef"),i={headerName:this.getLocaleTextFunc()("group","Group"),showRowGroup:e?.getColId()??!0};return t&&(t.cellRenderer||t.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e&&(i.headerName=this.beans.colNames.getDisplayNameForColumn(e,"header")??void 0,i.headerValueGetter=e.colDef.headerValueGetter),i}destroy(){(0,Fy.uPZ)(this.beans,this.columns?.tree),super.destroy()}},WE=class extends Fy.AS9{addExpandedCss(e,t){t.isExpandable()&&(e.push("ag-row-group"),e.push(t.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(e){const{rowNode:t}=e,i=this.updateExpandedCss.bind(this,e,t);return{expandedChanged:i,hasChildrenChanged:i}}setExpanded(e,t,i,r){if(e.expanded===t)return;e.expanded=t,e.dispatchRowEvent("expandedChanged");const s={...(0,Fy.Wcg)(e,this.gos,"rowGroupOpened"),expanded:t,event:i||null};this.dispatchExpandedEvent(s,r)}isExpandable(e){return!e.footer&&(this.beans.colModel.isPivotMode()?e.hasChildren()&&!e.leafGroup:e.hasChildren()||e.master)}updateExpandedCss(e,t){const i=t.isExpandable(),r=1==t.expanded;e.forEachGui(void 0,(e=>{const t=e.rowComp;t.toggleCss("ag-row-group",i),t.toggleCss("ag-row-group-expanded",i&&r),t.toggleCss("ag-row-group-contracted",i&&!r),(0,Fy.mmg)(e.element,i&&r)}))}};function jE(e){let t=e.get("groupHideParentOfSingleChild");return t||(t=e.get("groupRemoveSingleChildren"),!t&&e.get("groupRemoveLowestSingleChildren")&&(t="leafGroupsOnly")),{groupHideParentOfSingleChild:t,isGroupMultiAutoColumn:(0,Fy.niL)(e),hideOpenParents:e.get("groupHideOpenParents"),grandTotalRow:(0,Fy.dhi)(e),groupTotalRow:(0,Fy.CaV)(e)}}function KE(e,t,i){return!0===e.groupHideParentOfSingleChild&&i&&1===t.childrenAfterGroup.length}function $E(e,t,i){return"leafGroupsOnly"===e.groupHideParentOfSingleChild&&i&&t.leafGroup&&1===t.childrenAfterGroup.length}function qE(e,t,i,r,s,a){const o=r&&!i,n=r&&t.leafGroup,l=e.hideOpenParents&&t.expanded&&!t.master&&!n;return!(o||l||s||a)}var YE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="flattenStage",this.refreshProps=new Set(["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]),this.step="map"}execute(e){const t=e.rowNode,i=[],r=this.beans.colModel.isPivotMode(),s=r&&t.leafGroup&&t.aggData,a=s?[t]:t.childrenAfterSort,o=jE(this.gos);this.recursivelyAddToRowsToDisplay(o,a,i,r,0);const n=i.length>0,l=o.grandTotalRow;if(!s&&n&&l)if(LE(t,this.beans),"pinnedBottom"===l||"pinnedTop"===l)this.beans.pinnedRowModel?.setGrandTotalPinned("pinnedBottom"===l?"bottom":"top");else{const e="top"===l;this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,e)}return i}recursivelyAddToRowsToDisplay(e,t,i,r,s){if(t?.length)for(let a=0;a<t.length;a++){const o=t[a],n=o.hasChildren(),l=KE(e,o,n),c=$E(e,o,n);if(qE(e,o,n,r,l,c)&&this.addRowNodeToRowsToDisplay(e,o,i,s),!r||!o.leafGroup)if(n){const t=l||c;if(o.expanded||t){const a=e.groupTotalRow({node:o});a||FE(o);const n=t?s:s+1;"top"===a&&(LE(o,this.beans),this.addRowNodeToRowsToDisplay(e,o.sibling,i,n)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,r,n),"bottom"===a&&(LE(o,this.beans),this.addRowNodeToRowsToDisplay(e,o.sibling,i,n))}}else{const t=this.beans.masterDetailSvc?.getDetail(o);t&&this.addRowNodeToRowsToDisplay(e,t,i,s)}}}addRowNodeToRowsToDisplay(e,t,i,r,s){s?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:r)}},XE=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="groupStage",this.refreshProps=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType","treeData","treeDataChildrenField","treeDataParentIdField"]),this.step="group",this.approach=null,this.strategy=void 0}destroy(){super.destroy(),this.strategy=void 0,this.approach=null}createStrategy(){const{beans:e,approach:t}=this;let i;switch(t){case"treeSelfRef":i="treeParentIdStrategy";break;case"group":i="groupStrategy"}if(i){const t=e.registry.createDynamicBean(i,!1);return this.createOptionalManagedBean(t),t}}execute(e){let t=this.strategy;const i=(0,Fy.LXo)(this.gos);return this.approach!==i&&(this.approach=i,this.destroyBean(t),t&&"treeNested"!==this.approach&&"treePath"!==this.approach&&QE(e.rowNode),t=this.createStrategy(),this.strategy=t),t?.execute(e),!!t}},QE=e=>{const t=e.allLeafChildren,i=e.sibling;e.treeNodeFlags=0,e.childrenAfterGroup=t,e.childrenMapped=null,e.groupData=null,i&&(i.childrenAfterGroup=e.childrenAfterGroup,i.childrenAfterAggFilter=e.childrenAfterAggFilter,i.childrenAfterFilter=e.childrenAfterFilter,i.childrenAfterSort=e.childrenAfterSort,i.childrenMapped=null,i.groupData=null);for(const i of t){const t=i.sibling;ZE(i),t&&ZE(t),i.parent=e,i.level=0,i.key=null,i.treeNodeFlags=0,(i.group||i.hasChildren())&&(i.group=!1,i.updateHasChildren())}e.updateHasChildren()},ZE=e=>{e.allLeafChildren=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.groupData&&(e.groupData=null)};function JE(e,t,i){let r=e;const s=r.level-t.level;if(s<=0)return!1;if(!i.get("groupHideOpenParents"))return!1;for(let e=0;e<s;e++){if(r.parent?.getFirstChild()!==r)return!1;r=r.parent}return r===t}var eM=class extends Fy.AS9{constructor(){super(...arguments),this.indentClass=null}init(e,t,i,r,s,a,o){this.params=o,this.eGui=t,this.eCheckbox=i,this.eExpanded=r,this.eContracted=s,this.comp=e,this.compClass=a;const{node:n,column:l}=o;this.node=n,this.displayedNode=n,this.isEmbeddedRowMismatch()||(n.footer?this.initFooterCell():l?(this.displayedNode=this.beans.showRowGroupColValueSvc?.getDisplayedNode(n,l)??this.node,this.setupExpand(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()):this.initFullWidthCell())}initFooterCell(){const{node:e}=this.params;this.addGroupValue(),this.setupIndent(),-1===e.level||this.comp.toggleCss("ag-row-group-leaf-indent",!0)}initFullWidthCell(){this.setupExpand(),(()=>{const{rowDragSvc:e}=this.beans;if(!this.params.rowDrag||!e)return;const t=e.createRowDragComp((()=>this.params.value),this.params.node);this.createManagedBean(t),this.eGui.insertAdjacentElement("afterbegin",t.getGui())})(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}getCellAriaRole(){const e=this.params.colDef?.cellAriaRole,t=this.params.column?.getColDef().cellAriaRole;return e||t||"gridcell"}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const{visibleCols:e}=this.beans,t="left"===this.params.pinned,i="right"===this.params.pinned,r=!t&&!i;return this.gos.get("enableRtl")?e.isPinningLeft()?!i:!r:e.isPinningLeft()?!t:!r}addGroupValue(){const{params:{value:e,valueFormatted:t}}=this,i=this.getInnerCompDetails();this.comp.setInnerRenderer(i,t??e??null)}setupExpand(){const{colModel:e}=this.beans,{eGridCell:t,column:i,suppressDoubleClickExpand:r}=this.params,s=(e,t)=>{const i=(0,Fy.scM)(e,this.beans,null);i&&(t.appendChild(i),this.addDestroyFunc((()=>t.removeChild(i))))};s("groupExpanded",this.eExpanded),s("groupContracted",this.eContracted);const a=this.comp,o=()=>{if(!this.isExpandable())return;const e=this.displayedNode.expanded;a.setExpandedDisplayed(e),a.setContractedDisplayed(!e),(0,Fy.mmg)(t,!!this.displayedNode.expanded)},n=()=>{const i=this.isExpandable();a.toggleCss("ag-cell-expandable",i),a.toggleCss("ag-row-group",i);const r=!i&&e.isPivotMode();a.toggleCss("ag-pivot-leaf-group",r);const s=!(e.isPivotMode()||this.displayedNode.footer&&-1===this.displayedNode.level);a.toggleCss("ag-row-group-leaf-indent",!i&&s);const n=this.getChildCount(),l=n>0?`(${n})`:"";a.setChildCount(l),i?o():(a.setExpandedDisplayed(!1),a.setContractedDisplayed(!1),(0,Fy.LRm)(t))};(()=>{i?.isCellEditable(this.displayedNode)&&this.gos.get("enableGroupEdit")||r||this.addManagedListeners(t,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(this.displayedNode,{allChildrenCountChanged:n,masterChanged:n,groupChanged:n,hasChildrenChanged:n,expandedChanged:o})})(),n()}getInnerCompDetails(){const{userCompFactory:e,findSvc:t}=this.beans,i=this.params;if(i.fullWidth){const r=this.gos.get("groupRowRendererParams");return(0,Fy.za0)(e,r,i)||(t?.isMatch(i.node,null)?(0,Fy.za0)(e,{...r,innerRenderer:"agFindCellRenderer"},i):void 0)}const r=e=>e&&e.componentClass==this.compClass,s=(0,Fy.za0)(e,i,i);if(s&&!r(s))return s;const{displayedNode:{rowGroupColumn:a}}=this,o=a?.colDef,n=a&&i.column?.isRowGroupDisplayed(a.getId());if(o&&n){const t=(0,Fy.dhl)(e,o,i);if(t){if(!r(t))return t;if(o?.cellRendererParams?.innerRenderer)return(0,Fy.za0)(e,o.cellRendererParams,i)}}return t?.isMatch(i.node,i.column)?(0,Fy.dhl)(e,{...o??i.colDef,cellRenderer:"agFindCellRenderer"},i):void 0}getChildCount(){const{column:e,suppressCount:t}=this.params;if(t)return 0;const{allChildrenCount:i,rowGroupColumn:r}=this.displayedNode;return!((i??0)>0)||r&&e&&!e?.isRowGroupDisplayed(r.getId())||this.gos.get("showOpenedGroup")&&this.displayedNode!==this.node&&!JE(this.node,this.displayedNode,this.gos)?0:i??0}isExpandable(){const{node:e,column:t,colDef:i}=this.params;if(!this.displayedNode.isExpandable())return!1;if(e.rowPinned)return!1;if(!t)return!0;if(e.hasChildren()&&i){const{showRowGroup:e}=i;if(!e)return!1;if(!0===e)return!0}if(e===this.displayedNode){if(e.rowGroupColumn){const i=t?.isRowGroupDisplayed(e.rowGroupColumn.getId());if(i)return!0}return!!e.master&&(!0===i?.showRowGroup||null==i?.showRowGroup)}return JE(this.node,this.displayedNode,this.gos)}setupIndent(){const{suppressPadding:e,node:t,colDef:i}=this.params;if(e)return;const r=()=>{let e=0;e=i&&!0!==i.showRowGroup?0:t.uiLevel;const r="ag-row-group-indent-"+e;r!==this.indentClass&&(this.indentClass&&this.comp.toggleCss(this.indentClass,!1),this.indentClass=r,this.comp.toggleCss(r,!0),this.eGui.style.setProperty("--ag-indentation-level",String(e)))};this.addManagedListeners(t,{uiLevelChanged:r.bind(this)}),r()}setupCheckbox(){const{node:e}=this.params;!e.footer&&!e.rowPinned&&!e.detail&&(this.addManagedPropertyListener("rowSelection",(({currentValue:e,previousValue:t})=>{const i="object"==typeof e?e:void 0,r="object"==typeof t?t:void 0;i?.checkboxLocation!==r?.checkboxLocation&&(this.destroyCheckbox(),this.addCheckbox())})),this.addCheckbox())}addCheckbox(){const{selectionSvc:e}=this.beans;if(!e||!(0,Fy.hel)(this.gos))return;const{node:t,column:i}=this.params,r=this.gos.get("rowSelection"),s=(0,Fy.K96)(r);if("selectionColumn"===s)return;if("autoGroupColumn"===s){const e=null!=i?.getColDef().showRowGroup,r=!i&&t.group;if(!e&&!r)return}const a="object"==typeof r?(0,Fy.Q8N)(r):this.params.checkbox;if("function"!=typeof a&&!0!==a)return;if("string"==typeof i?.getColDef().showRowGroup&&!this.isExpandable())return void this.comp.setCheckboxSpacing(!0);const o=e.createCheckboxSelectionComponent();this.cbComp=o,this.createBean(o),o.init({rowNode:t,column:i,overrides:{isVisible:a,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.comp.setCheckboxVisible(!0)}destroyCheckbox(){this.comp.setCheckboxSpacing(!1),this.comp.setCheckboxVisible(!1),this.cbComp&&this.eCheckbox.removeChild(this.cbComp.getGui()),this.cbComp=this.destroyBean(this.cbComp)}onExpandClicked(e){(0,Fy.p71)(e)||((0,Fy.yth)(e),this.onExpandOrContract(e))}onKeyDown(e){e.key!==Fy.KeyCode.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){(0,Fy.p71)(e)||(0,Fy.WU1)(this.eExpanded,e)||(0,Fy.WU1)(this.eContracted,e)||this.onExpandOrContract(e)}onExpandOrContract(e){if(!this.isExpandable())return;const t=this.displayedNode,i=!t.expanded;!i&&t.sticky&&this.beans.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop),t.setExpanded(i,e)}destroy(){super.destroy(),this.destroyCheckbox()}},tM={tag:"span",cls:"ag-cell-wrapper",children:[{tag:"span",ref:"eExpanded",cls:"ag-group-expanded ag-hidden"},{tag:"span",ref:"eContracted",cls:"ag-group-contracted ag-hidden"},{tag:"span",ref:"eCheckbox",cls:"ag-group-checkbox ag-invisible"},{tag:"span",ref:"eValue",cls:"ag-group-value"},{tag:"span",ref:"eChildCount",cls:"ag-group-child-count"}]},iM=class extends Fy.wA2{constructor(){super(tM),this.eExpanded=Fy.CUI,this.eContracted=Fy.CUI,this.eCheckbox=Fy.CUI,this.eValue=Fy.CUI,this.eChildCount=Fy.CUI}init(e){const t={setInnerRenderer:(e,t)=>this.setRenderDetails(e,t),setChildCount:e=>this.eChildCount.textContent=e,toggleCss:(e,t)=>this.toggleCss(e,t),setContractedDisplayed:e=>(0,Fy.DIH)(this.eContracted,e),setExpandedDisplayed:e=>(0,Fy.DIH)(this.eExpanded,e),setCheckboxVisible:e=>this.eCheckbox.classList.toggle("ag-invisible",!e),setCheckboxSpacing:e=>this.eCheckbox.classList.toggle("ag-group-checkbox-spacing",e)},i=this.createManagedBean(new eM),r=!e.colDef,s=this.getGui();i.init(t,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),r&&(0,Fy.Znd)(s,i.getCellAriaRole())}setRenderDetails(e,t){e?e.newAgStackInstance().then((e=>{if(!e)return;const t=()=>this.destroyBean(e);this.isAlive()?(this.eValue.appendChild(e.getGui()),this.addDestroyFunc(t)):t()})):this.eValue.innerText=t}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}},rM=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="showRowGroupColValueSvc"}getGroupValue(e,t){if(!t)return e.group?{displayedNode:e,value:e.groupValue}:null;const i=this.beans.valueSvc,r=t.colDef.showRowGroup;if(!r)return null;if(-1===e.level&&e.footer)return{displayedNode:e,value:null};if("string"==typeof r){if((this.beans.rowGroupColsSvc?.getColumnIndex(r)??-1)>e.level)return null;const s=this.getDisplayedNode(e,t,!0);if(s)return{displayedNode:s,value:i.getValue(t,s)}}const s=i.getValue(t,e);if(null==s){const r=this.getDisplayedNode(e,t);if(r)return{displayedNode:r,value:i.getValue(t,r)}}return{displayedNode:e,value:s}}formatAndPrefixGroupColValue(e,t,i=!1){const r=this.formatGroupColValue(e,t,i),{value:s,displayedNode:a}=e,o=this.beans.footerSvc;return o?.doesCellShowTotalPrefix(a,t)?o.applyTotalPrefix(s,r,a,t):a.footer&&-1===a.level?null:r}formatGroupColValue(e,t,i=!1){const r=this.beans.valueSvc,{displayedNode:s,value:a}=e,o=s.rowGroupColumn,n=s.group&&!t;if(o&&(n||t?.isRowGroupDisplayed(o.colId))){if(i&&!1===o.colDef.useValueFormatterForExport)return null;const e=r.formatValue(o,s,a);return null==e&&""===s.key?this.getLocaleTextFunc()("blanks","(Blanks)"):e}return!t||s.group||i&&!1===t.colDef.useValueFormatterForExport?null:r.formatValue(t,s,a)}getDisplayedNode(e,t,i=!1){const r=this.gos,s=r.get("groupHideOpenParents"),a=r.get("showOpenedGroup")&&!i;if(!s&&!a)return;const o=t.colDef.showRowGroup;if(!0===o){if(e.group)return;return e.parent??void 0}let n=e;for(;n&&n.rowGroupColumn?.getId()!=o;){const e=n===n.parent?.getFirstChild();if(!a&&!e)return;n=n.parent}return n!==e?n??void 0:void 0}},sM=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="showRowGroupCols"}refresh(){this.showRowGroupCols=[],this.showRowGroupColsMap={};const{colModel:e,rowGroupColsSvc:t}=this.beans;e.getCols().forEach((e=>{const i=e.getColDef().showRowGroup,r="string"==typeof i;(r||!0===i)&&(this.showRowGroupCols.push(e),r?this.showRowGroupColsMap[i]=e:t&&t.columns.forEach((t=>{this.showRowGroupColsMap[t.getId()]=e})))}))}getShowRowGroupCols(){return this.showRowGroupCols}getShowRowGroupCol(e){return this.showRowGroupColsMap[e]}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;const{rowGroupColsSvc:i,colModel:r}=this.beans;if(!0===t&&i)return i.columns.slice(0);const s=r.getColDefCol(t);return s?[s]:null}isRowGroupDisplayed(e,t){const{colDef:i}=e;if(null==i?.showRowGroup)return!1;const r=!0===i.showRowGroup,s=i.showRowGroup===t;return r||s}},aM=class extends Fy.AS9{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=(0,Fy.qYz)(this.gos),this.beans.ctrlsSvc.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl})),this.resetStickyContainers()}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(e){return this.isClientSide?function(e){if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master&&t.detailNode)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=(0,Fy._O9)(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}(e):function(e){if(e.isExpandable()||e.footer){if(e.master&&e.detailNode)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.childStore?.getStoreBounds();return e.footer&&(t=e.sibling.childStore?.getStoreBounds()),(t?.heightPx??0)+(t?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}updateStickyRows(e){const t="top"===e;let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const{rowModel:r,rowRenderer:s,pinnedRowModel:a}=this.beans,o=t?s.firstVisibleVPixel-this.extraTopHeight:s.lastVisibleVPixel-this.extraTopHeight,n=new Set,l=e=>{if(n.add(e),t){const t=this.getLastPixelOfGroup(e),r=o+i+e.rowHeight;e.stickyRowTop=t<r?i+(t-r):i}else{const t=this.getFirstPixelOfGroup(e),r=o-(i+e.rowHeight);e.stickyRowTop=t>r?i-(t-r):i}i=0,n.forEach((e=>{const t=e.stickyRowTop+e.rowHeight;i<t&&(i=t)}))},c=this.areFooterRowsStickySuppressed(),d=this.gos.get("suppressGroupRowsSticky"),u=t=>{if(!t.displayed)return!1;if(t.footer){if(!0===c)return!1;if("grand"===c&&-1===t.level)return!1;if("group"===c&&t.level>-1)return!1;const i=!!t.sibling.rowIndex&&t.sibling.rowIndex+1===t.rowIndex;return("bottom"!==e||!i)&&((-1!==t.level||!a?.getGrandTotalPinned())&&!n.has(t))}return!!t.isExpandable()&&(!0!==d&&("bottom"!==e&&(!n.has(t)&&t.expanded)))};for(let e=0;e<100;e++){let e=o+i;t||(e=o-i);const s=r.getRowIndexAtPixel(e),a=r.getRow(s);if(null==a)break;const n=this.getStickyAncestors(a).find((e=>(t?e.rowIndex<s:e.rowIndex>s)&&u(e)));if(n)l(n);else{if(!(t?a.rowTop<e:a.rowTop+a.rowHeight>e)||!u(a))break;l(a)}}return t||n.forEach((e=>{e.stickyRowTop=i-(e.stickyRowTop+e.rowHeight)})),this.refreshNodesAndContainerHeight(e,n,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t="group"===e,i="grand"===e;return!(!t||!i)||(i?"grand":!!t&&"group")}canRowsBeSticky(){const e=(0,Fy.y_i)(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some((t=>t.rowNode===e))){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const r=this.stickyTopRowCtrls[i].rowNode;r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const r=this.stickyBottomRowCtrls[i].rowNode;r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,i){const r="top"===e,s=r?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,a={},o=[];for(let e=0;e<s.length;e++){const i=s[e].rowNode;t.has(i)?o.push(s[e]):(a[i.id]=s[e],i.sticky=!1)}const n=new Set;for(let e=0;e<o.length;e++)n.add(o[e].rowNode);const l=[];t.forEach((e=>{n.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))}));let c=!!l.length||o.length!==s.length;r?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(a,!1);const d=[...o,...l];d.sort(((e,t)=>t.rowNode.rowIndex-e.rowNode.rowIndex)),r||d.reverse(),d.forEach((e=>e.setRowTop(e.rowNode.stickyRowTop)));const u=this.beans.pageBounds;let p=0;return r?(t.forEach((e=>{e.rowIndex<u.getFirstRow()&&(p+=e.rowHeight)})),p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)):(t.forEach((e=>{e.rowIndex>u.getLastRow()&&(p+=e.rowHeight)})),p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)),!!c&&(r?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0)}ensureRowHeightsValid(){let e=!1;const t=t=>{const i=t.rowNode;if(i.rowHeightEstimated){const t=(0,Fy.ibk)(this.beans,i);i.setRowHeight(t.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},oM=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(e,t,i){const r=this.gos;if((0,Fy.y_i)(r)&&(0,Fy.qYz)(r)||(0,Fy.jie)(r))return e.createManagedBean(new aM(t,i))}},nM={moduleName:"GroupCellRenderer",version:ww,userComponents:{agGroupRowRenderer:iM,agGroupCellRenderer:iM},dynamicBeans:{groupCellRendererCtrl:eM},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},css:[".ag-group-checkbox-spacing{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-group-checkbox-spacing{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-checkbox-spacing{margin-left:var(--ag-cell-widget-spacing)}"],dependsOn:[Sw]},lM={moduleName:"GroupColumn",version:ww,beans:[HE,sM,rM,UE,GE,BE],dependsOn:[Sw,nM]},cM={moduleName:"ClientSideRowModelHierarchy",version:ww,rowModels:["clientSide"],beans:[XE,YE,class extends WE{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=[]}wireBeans(e){this.rowModel=e.rowModel}expandRows(e){const t=new Set(e);this.rowModel.forEachNode((e=>{e.id&&t.has(e.id)&&(e.expanded=!0)})),this.onGroupExpandedOrCollapsed()}expandAll(e){const{gos:t,colModel:i,eventSvc:r}=this.beans,s=this.rowModel,a=t.get("treeData"),o=i.isPivotActive(),n=t=>{t&&t.forEach((t=>{const i=()=>{t.expanded=e,n(t.childrenAfterGroup)};a?(0,Fy.fTC)(t.childrenAfterGroup)&&i():o?!t.leafGroup&&i():t.group&&i()}))},l=s.rootNode;l&&n(l.childrenAfterGroup),s.refreshModel({step:"map"}),r.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.rowModel.refreshModel({step:"map"})}dispatchExpandedEvent(e,t){this.events.push(e);const i=()=>{this.rowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventSvc.dispatchEvent(e)));const e=this.events.map((e=>e.node));this.beans.rowRenderer.refreshCells({rowNodes:e}),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.debounce(i)),this.dispatchExpandedDebounced())}debounce(e){const t=this.beans.animationFrameSvc;if(!t)return()=>window.setTimeout(e,0);let i=!1;return()=>{t.active?i||(i=!0,t.addDestroyTask((()=>{i=!1,e()}))):window.setTimeout(e,0)}}}],dependsOn:[Sw]},dM={moduleName:"StickyRow",version:ww,beans:[oM]},uM={selector:"AG-GRID-HEADER-DROP-ZONES",component:class extends Fy.wA2{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel());const e=this.onRowGroupChanged.bind(this);this.addManagedEventListeners({columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedPropertyListener("rowGroupPanelShow",e),this.addManagedPropertyListener("pivotPanelShow",(()=>this.onPivotPanelShow())),this.onRowGroupChanged()}createNorthPanel(){const e=(0,Fy.Xye)({tag:"div",cls:"ag-column-drop-wrapper",role:"presentation"}),t=new Zx(!0);this.rowGroupComp=this.createManagedBean(t);const i=new Qx(!0);this.pivotComp=this.createManagedBean(i),e.appendChild(t.getGui()),e.appendChild(i.getGui());const r=this.onDropPanelVisible.bind(this);return this.addManagedListeners(t,{displayChanged:r}),this.addManagedListeners(i,{displayChanged:r}),this.onDropPanelVisible(),e}onDropPanelVisible(){const{rowGroupComp:e,pivotComp:t}=this,i=e.isDisplayed()&&t.isDisplayed(),r="ag-column-drop-horizontal-half-width";e.toggleCss(r,i),t.toggleCss(r,i)}onRowGroupChanged(){const e=this.rowGroupComp;if(!e)return;const t=this.gos.get("rowGroupPanelShow");if("always"===t)e.setDisplayed(!0);else if("onlyWhenGrouping"===t){const t=0!==this.beans.rowGroupColsSvc?.columns?.length;e.setDisplayed(t)}else e.setDisplayed(!1)}onPivotPanelShow(){const e=this.pivotComp;if(!e)return;const t=this.gos.get("pivotPanelShow");if("always"===t)e.setDisplayed(!0);else if("onlyWhenPivoting"===t){const t=this.beans.colModel.isPivotActive();e.setDisplayed(t)}else e.setDisplayed(!1)}}},pM={tag:"div",cls:"ag-group-filter",children:[{tag:"div",ref:"eGroupField"},{tag:"div",ref:"eUnderlyingFilter"}]},hM=class extends Fy.BxR{constructor(){super(pM),this.filterType="group",this.eGroupField=Fy.CUI,this.eUnderlyingFilter=Fy.CUI}wireBeans(e){this.filterManager=e.filterManager,this.showRowGroupCols=e.showRowGroupCols}postConstruct(){this.initialiseTabGuard({})}init(e){return this.updateParams(e).then((()=>{this.addManagedEventListeners({columnRowGroupChanged:()=>this.onColumnRowGroupChanged(),filterDestroyed:e=>this.onFilterDestroyed(e)})}))}refresh(e){return this.updateParams(e),!0}updateParams(e){return this.params=e,this.validateParams(),this.updateGroups()}validateParams(){const{colDef:e}=this.params;e.field&&(0,Fy.F5b)(234),e.filterValueGetter&&(0,Fy.F5b)(235),e.filterParams&&(0,Fy.F5b)(236)}updateGroups(){const e=this.updateGroupField();return this.getUnderlyingFilters(e)}getSourceColumns(){if(this.groupColumn=this.params.column,this.gos.get("treeData"))return(0,Fy.F5b)(237),[];const e=this.showRowGroupCols?.getSourceColumnsForGroupColumn(this.groupColumn);return e||((0,Fy.F5b)(183),[])}updateGroupField(){const e=this.eGroupField;(0,Fy.wvc)(e),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);const t=this.getSourceColumns(),i=t.filter((e=>e.isFilterAllowed()));return i.length?(1===t.length?(this.selectedColumn=i[0],(0,Fy.DIH)(e,!1)):(this.selectedColumn&&i.some((e=>e.getId()===this.selectedColumn.getId()))||(this.selectedColumn=i[0]),this.createGroupFieldSelectElement(i),e.appendChild(this.eGroupFieldSelect.getGui()),e.appendChild((0,Fy.Xye)({tag:"div",cls:"ag-filter-separator"})),(0,Fy.DIH)(e,!0)),i):(this.selectedColumn=void 0,(0,Fy.DIH)(e,!1),null)}createGroupFieldSelectElement(e){const t=this.createManagedBean(new Fy.wGv);this.eGroupFieldSelect=t;const i=this.getLocaleTextFunc();t.setLabel(i("groupFilterSelect","Select field:")),t.setLabelAlignment("top"),t.addOptions(e.map((e=>({value:e.getId(),text:this.beans.colNames.getDisplayNameForColumn(e,"groupFilter",!1)??void 0})))),t.setValue(this.selectedColumn.getId()),t.onValueChange((e=>this.updateSelectedColumn(e))),t.addCss("ag-group-filter-field-select-wrapper"),1===e.length&&t.setDisabled(!0)}getUnderlyingFilters(e){if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.beans.colFilter?.setColFilterActive(this.groupColumn,!1,"columnRowGroupChanged"),Fy.j_S.resolve();const t=[],i=[];return e.forEach((e=>{const r=this.filterManager.getOrCreateFilterWrapper(e);r?.filterPromise&&t.push(r.filterPromise.then((t=>(t&&i.push({filter:t,column:e}),e.getId()===this.selectedColumn.getId()&&(this.selectedFilter=t??void 0),t))))})),Fy.j_S.all(t).then((()=>{this.filterColumnPairs=i,this.beans.colFilter?.setColFilterActive(this.groupColumn,this.isFilterActive(),"columnRowGroupChanged")}))}addUnderlyingFilterElement(){if((0,Fy.wvc)(this.eUnderlyingFilter),!this.selectedColumn)return Fy.j_S.resolve();const e=this.createManagedBean(new Fy.yQX(this.selectedColumn,"COLUMN_MENU"));return this.filterWrapperComp=e,e.hasFilter()?(this.eUnderlyingFilter.appendChild(e.getGui()),e.getFilter()?.then((()=>{e.afterGuiAttached?.(this.afterGuiAttachedParams),this.afterGuiAttachedParams?.suppressFocus||!this.eGroupFieldSelect||this.eGroupFieldSelect.isDisabled()||this.eGroupFieldSelect.getFocusableElement().focus()}))??Fy.j_S.resolve()):Fy.j_S.resolve()}updateSelectedColumn(e){if(!e)return;this.filterWrapperComp?.afterGuiDetached(),this.destroyBean(this.filterWrapperComp);const t=this.getFilterColumnPair(e);this.selectedColumn=t?.column,this.selectedFilter=t?.filter,this.dispatchLocalEvent({type:"selectedColumnChanged"}),this.addUnderlyingFilterElement()}isFilterActive(){return!!this.filterColumnPairs?.some((({filter:e})=>e.isFilterActive()))}doesFilterPass(){return!0}getModel(){return null}setModel(){return Fy.j_S.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()}afterGuiDetached(){(0,Fy.wvc)(this.eUnderlyingFilter),this.selectedFilter?.afterGuiDetached?.()}onColumnRowGroupChanged(){this.updateGroups().then((()=>{this.dispatchLocalEvent({type:"columnRowGroupChanged"})}))}onFilterDestroyed({column:e,source:t}){if("gridDestroyed"===t)return;const i=e.getColId();this.filterColumnPairs?.some((({column:e})=>e.getColId()===i))&&setTimeout((()=>{this.isAlive()&&this.updateGroups()}))}getFilterColumnPair(e){if(e)return this.filterColumnPairs?.find((({column:t})=>t.getId()===e))}getSelectedFilter(){return this.selectedFilter}getSelectedColumn(){return this.selectedColumn}isFilterAllowed(){return!!this.selectedColumn}},mM={tag:"div",ref:"eFloatingFilter",cls:"ag-group-floating-filter ag-floating-filter-input",role:"presentation"},gM=class extends Fy.wA2{constructor(){super(mM),this.eFloatingFilter=Fy.CUI,this.haveAddedColumnListeners=!1}wireBeans(e){this.filterManager=e.filterManager}init(e){this.params=e;const t=(0,Fy.niL)(this.gos);return new Fy.j_S((e=>{this.params.parentFilterInstance((i=>{this.parentFilterInstance=i,t?this.setupUnderlyingFloatingFilterElement().then((()=>e())):(this.setupReadOnlyFloatingFilterElement(),e())}))})).then((()=>{const e=this.onColChange.bind(this);this.addManagedListeners(this.parentFilterInstance,{selectedColumnChanged:e,columnRowGroupChanged:e})}))}refresh(e){this.params=e,this.setParams()}setParams(){const e=this.beans.colNames.getDisplayNameForColumn(this.params.column,"header",!0),t=this.getLocaleTextFunc();this.eFloatingFilterText?.setInputAriaLabel(`${e} ${t("ariaFilterInput","Filter Input")}`)}setupReadOnlyFloatingFilterElement(){this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new Fy.INo),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",(()=>this.params.showParentFilter())),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())}setupUnderlyingFloatingFilterElement(){this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,(0,Fy.wvc)(this.eFloatingFilter);const e=this.parentFilterInstance.getSelectedColumn();if(e&&!e.isVisible()){const t=this.filterManager.getFloatingFilterCompDetails(e,this.params.showParentFilter);if(t)return this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListeners(e,{visibleChanged:this.onColumnVisibleChanged.bind(this),colDefChanged:this.onColDefChanged.bind(this)})),t.newAgStackInstance().then((e=>{this.underlyingFloatingFilter=e,this.underlyingFloatingFilter?.onParentModelChanged(this.parentFilterInstance.getSelectedFilter()?.getModel()),this.appendChild(e.getGui()),this.showingUnderlyingFloatingFilter=!0}))}return this.setupReadOnlyFloatingFilterElement(),Fy.j_S.resolve()}onColumnVisibleChanged(){this.setupUnderlyingFloatingFilterElement()}onColDefChanged(e){if(!e.column)return;const t=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);t&&this.underlyingFloatingFilter?.refresh?.(t.params)}onParentModelChanged(e,t){this.showingUnderlyingFloatingFilter?this.underlyingFloatingFilter?.onParentModelChanged(this.parentFilterInstance.getSelectedFilter()?.getModel(),t):this.updateDisplayedValue()}updateDisplayedValue(){const{eFloatingFilterText:e,parentFilterInstance:t}=this;if(!t||!e)return;const i=t.getSelectedFilter();if(!i)return e.setValue(""),void e.setDisplayed(!1);if(e.setDisplayed(!0),i.getModelAsString){const t=i.getModel();e.setValue(null==t?"":i.getModelAsString(t))}else e.setValue("")}onColChange(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}},bM=class{constructor(){this.allSets=new Map}removeFromChildrenAfterGroup(e,t){const i=this.getSet(e);(i.fromChildrenAfterGroup??(i.fromChildrenAfterGroup=new Set)).add(t)}isRemoveFromAllLeafChildren(e,t){return!!this.allSets.get(e)?.fromAllLeafChildren?.has(t)}preventRemoveFromAllLeafChildren(e,t){this.allSets.get(e)?.fromAllLeafChildren?.delete(t)}removeFromAllLeafChildren(e,t){const i=this.getSet(e);(i.fromAllLeafChildren??(i.fromAllLeafChildren=new Set)).add(t)}getSet(e){let t=this.allSets.get(e);return t||(t={fromChildrenAfterGroup:null,fromAllLeafChildren:null},this.allSets.set(e,t)),t}getAllParents(){return Array.from(this.allSets.keys())}flush(){const e=this.allSets;for(const t of e.keys()){const i=e.get(t);if(i){const{fromChildrenAfterGroup:e,fromAllLeafChildren:r}=i,{childrenAfterGroup:s,allLeafChildren:a}=t;s&&e&&(fM(s,e),t.updateHasChildren()),a&&r&&fM(a,r)}}e.clear()}};function fM(e,t){let i=0;for(let r=0,s=e.length;r<s;++r){const s=e[r];t.has(s)||(e[i++]=s)}e.length=i}function vM(e,t){const i=e.sourceRowIndex,r=t.sourceRowIndex,s=i>=0,a=r>=0;return s&&a?i-r:s||a?s?1:-1:e.__objectId-t.__objectId}var yM=class extends Fy.AS9{wireBeans(e){this.colModel=e.colModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc,this.selectionSvc=e.selectionSvc,this.showRowGroupCols=e.showRowGroupCols}execute(e){const t=this.createGroupingDetails(e),i=e.changedRowNodes;i?this.handleDeltaUpdate(t,i):this.shotgunResetEverything(t,!!e.afterColumnsChanged);const r=e.changedPath;this.positionLeafsAndGroups(r),this.orderGroups(t),this.selectionSvc?.updateSelectableAfterGrouping(r)}positionLeafsAndGroups(e){e.forEachChangedNodeDepthFirst((e=>{if(e.childrenAfterGroup){const t=[],i=[];let r;e.childrenAfterGroup.forEach((e=>{e.childrenAfterGroup?.length?""!==e.key||r?i.push(e):r=e:t.push(e)})),r&&i.push(r),e.childrenAfterGroup=[...t,...i]}}),!1)}createGroupingDetails(e){const{rowNode:t,changedPath:i,rowNodesOrderChanged:r}=e,s=this.rowGroupColsSvc?.columns;return{expandByDefault:this.gos.get("groupDefaultExpanded"),groupedCols:s,rootNode:t,pivotMode:this.colModel.isPivotMode(),groupedColCount:s?.length??0,rowNodesOrderChanged:!!r,changedPath:i,groupAllowUnbalanced:this.gos.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gos.getCallback("initialGroupOrderComparator"),keyCreators:s?.map((e=>e.getColDef().keyCreator))??[]}}handleDeltaUpdate(e,{removals:t,updates:i,adds:r}){const s=new bM;t.size&&this.removeNodes(t,e,s);for(const t of i)this.moveNodeInWrongPath(t,e,s);const a=e.changedPath;for(const t of r)this.insertOneNode(t,e),a.active&&a.addParentNode(t.parent);const o=s.getAllParents();s.flush(),this.removeEmptyGroups(o,e),e.rowNodesOrderChanged&&this.sortChildren(e)}sortChildren(e){e.changedPath.forEachChangedNodeDepthFirst((t=>{(function(e){if(!e)return!1;const t=e.length;if(t<2)return!1;let i=!1;for(let r=1;r<t;r++)if(vM(e[r-1],e[r])>0){i=!0;break}return!!i&&(e.sort(vM),!0)})(t.childrenAfterGroup)&&e.changedPath.addParentNode(t)}),!1,!0)}orderGroups(e){const t=e.initialGroupOrderComparator;(0,Fy.fTC)(t)&&function e(i){(0,Fy.fTC)(i.childrenAfterGroup)&&!i.leafGroup&&(i.childrenAfterGroup.sort(((e,i)=>t({nodeA:e,nodeB:i}))),i.childrenAfterGroup.forEach((t=>e(t))))}(e.rootNode)}getExistingPathForNode(e,t){const i=[];let r=e.parent;for(;r&&r!==t.rootNode;)i.push({key:r.key,rowGroupColumn:r.rowGroupColumn,field:r.field}),r=r.parent;return i.reverse(),i}moveNodeInWrongPath(e,t,i){t.changedPath.active&&t.changedPath.addParentNode(e.parent);const r=e=>e.key,s=this.getExistingPathForNode(e,t).map(r),a=this.getGroupInfo(e,t).map(r);(0,Fy.Vgs)(s,a)||this.moveNode(e,t,i)}moveNode(e,t,i){if(this.removeNodesFromParents([e],t,i),this.insertOneNode(e,t,i),e.setData(e.data),t.changedPath.active){const i=e.parent;t.changedPath.addParentNode(i)}}removeNodes(e,t,i){if(this.removeNodesFromParents(e,t,i),t.changedPath.active)for(const i of e)t.changedPath.addParentNode(i.parent)}forEachParentGroup(e,t,i){let r=t;for(;r&&r!==e.rootNode;)i(r),r=r.parent}removeNodesFromParents(e,t,i){const r=null==i,s=i||new bM;for(const i of e)this.removeFromParent(i,s),this.forEachParentGroup(t,i.parent,(e=>{s.removeFromAllLeafChildren(e,i)}));r&&s.flush()}removeEmptyGroups(e,t){let i=!0;const r=e=>{const t=this.getChildrenMappedKey(e.key,e.rowGroupColumn),i=e.parent;return!(!i?.childrenMapped||!i.childrenMapped[t]||!e.group||0!==(e.childrenAfterGroup?.length??0))};for(;i;){i=!1;const s=new bM;e.forEach((e=>{this.forEachParentGroup(t,e,(e=>{r(e)&&(i=!0,this.removeFromParent(e,s),this.selectionSvc?.setNodesSelected({nodes:[e],newValue:!1,source:"rowGroupChanged"}))}))})),s.flush()}}removeFromParent(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):((0,Fy.Pi9)(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));const i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent?.childrenMapped&&delete e.parent.childrenMapped[i],e.setRowTop(null),e.setRowIndex(null)}addToParent(e,t){const i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t?.childrenMapped&&t.childrenMapped[i]!==e&&(t.childrenMapped[i]=e,t.childrenAfterGroup.push(e),wx(t,this.beans,!0))}areGroupColsEqual(e,t){return null!=e&&null!=t&&e.pivotMode===t.pivotMode&&(0,Fy.Vgs)(e.groupedCols,t.groupedCols)&&(0,Fy.Vgs)(e.keyCreators,t.keyCreators)}checkAllGroupDataAfterColsChanged(e){const t=e=>{e&&e.forEach((e=>{if(!e.group)return;const i={field:e.field,key:e.key,rowGroupColumn:e.rowGroupColumn,leafNode:e.allLeafChildren?.[0]};this.setGroupData(e,i),t(e.childrenAfterGroup)}))};t(e.rootNode.childrenAfterGroup)}shotgunResetEverything(e,t){if(this.noChangeInGroupingColumns(e,t))return;this.selectionSvc?.filterFromSelection?.((e=>!e.group));const{groupedCols:i}=e,r=e.rootNode;r.leafGroup=0===i.length,r.childrenAfterGroup=[],r.childrenMapped={},r.updateHasChildren();const s=r.sibling;s&&(s.childrenAfterGroup=r.childrenAfterGroup,s.childrenMapped=r.childrenMapped),this.insertNodes(r.allLeafChildren,e)}noChangeInGroupingColumns(e,t){let i=!1;const r=this.showRowGroupCols.getShowRowGroupCols(),s=r?r.map((e=>e.getId())).join("-"):"";return t&&(i=this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==s&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=s,i}insertNodes(e,t){e.forEach((e=>{this.insertOneNode(e,t),t.changedPath.active&&t.changedPath.addParentNode(e.parent)}))}insertOneNode(e,t,i){const r=this.getGroupInfo(e,t),s=this.findParentForNode(e,r,t,i);s.group||(0,Fy.F5b)(184,{parentGroupData:s.data,childNodeData:e.data}),e.parent=s,e.level=r.length,s.childrenAfterGroup.push(e),s.updateHasChildren()}findParentForNode(e,t,i,r){let s=i.rootNode;return t.forEach(((t,a)=>{s=this.getOrCreateNextNode(s,t,a,i),r?.isRemoveFromAllLeafChildren(s,e)?r?.preventRemoveFromAllLeafChildren(s,e):s.allLeafChildren.push(e)})),s}getOrCreateNextNode(e,t,i,r){const s=this.getChildrenMappedKey(t.key,t.rowGroupColumn);let a=e?.childrenMapped?.[s];return a||(a=this.createGroup(t,e,i,r),this.addToParent(a,e)),a}createGroup(e,t,i,r){const s=new Fy.Fxk(this.beans);return s.group=!0,s.field=e.field,s.rowGroupColumn=e.rowGroupColumn,this.setGroupData(s,e),s.key=e.key,s.id=this.createGroupId(s,t,i),s.level=i,s.leafGroup=i===r.groupedColCount-1,s.allLeafChildren=[],s.setAllChildrenCount(0),s.rowGroupIndex=i,s.childrenAfterGroup=[],s.childrenMapped={},s.updateHasChildren(),s.parent=t,this.setExpandedInitialValue(r,s),s}createGroupId(e,t,i){const r=(e,t)=>{if(!e.rowGroupColumn)return null;const i=t?r(t,t.parent,0):null;return`${null==i?"":i+"-"}${e.rowGroupColumn.getColId()}-${e.key}`};return Fy.r9r+r(e,t,i)}setGroupData(e,t){const i=t.rowGroupColumn;i&&t.leafNode&&(e.groupValue=this.valueSvc.getValue(i,t.leafNode)),e.groupData={},this.showRowGroupCols.getShowRowGroupCols().forEach((i=>{const r=e.rowGroupColumn;null!==r&&i.isRowGroupDisplayed(r.getId())&&(e.groupData[i.getColId()]=this.valueSvc.getValue(r,t.leafNode))}))}getChildrenMappedKey(e,t){return t?t.getId()+"-"+e:e}setExpandedInitialValue(e,t){if(e.pivotMode&&t.leafGroup)return void(t.expanded=!1);const i=e.isGroupOpenByDefault;if(i){const e={rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn};t.expanded=1==i(e)}else-1!==e.expandByDefault?t.expanded=t.level<e.expandByDefault:t.expanded=!0}getGroupInfo(e,t){const i=[];return t.groupedCols.forEach((r=>{let s=this.valueSvc.getKeyForNode(r,e),a=null!=s&&""!==s;if((t.pivotMode||!t.groupAllowUnbalanced)&&!a&&(s="",a=!0),a){const t={key:s,field:r.getColDef().field,rowGroupColumn:r,leafNode:e};i.push(t)}})),i}},CM={moduleName:"SharedRowGrouping",version:ww,apiFunctions:{setRowGroupColumns:function(e,t){e.rowGroupColsSvc?.setColumns(t,"api")},removeRowGroupColumns:function(e,t){e.rowGroupColsSvc?.removeColumns(t,"api")},addRowGroupColumns:function(e,t){e.rowGroupColsSvc?.addColumns(t,"api")},getRowGroupColumns:function(e){return e.rowGroupColsSvc?.columns??[]},moveRowGroupColumn:function(e,t,i){e.rowGroupColsSvc?.moveColumn?.(t,i,"api")}},dependsOn:[Sw,zE,lM,dM]},kM={moduleName:"RowGrouping",version:ww,dynamicBeans:{groupStrategy:yM},rowModels:["clientSide"],dependsOn:[CM,VE,cM]},wM={moduleName:"RowGroupingPanel",version:ww,selectors:[uM],icons:{pivotPanel:"pivot",rowGroupPanel:"group",panelDelimiter:"small-right",panelDelimiterRtl:"small-left"},dependsOn:[Sw,Fy.BNB]},SM={moduleName:"GroupFilter",version:ww,userComponents:{agGroupColumnFilter:hM,agGroupColumnFloatingFilter:gM},dependsOn:[Sw,Fy.Tpu]},xM=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="rowModel",this.firstRow=-1,this.lastRow=-1,this.rowCount=-1,this.rowNodesByIndex={}}ensureRowHeightsValid(e,t,i,r){return!1}postConstruct(){const e=this.beans;this.rowHeight=(0,Fy.$Wo)(e),this.addManagedEventListeners({viewportChanged:this.onViewportChanged.bind(this)}),this.addManagedPropertyListener("viewportDatasource",(()=>this.updateDatasource())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=(0,Fy.$Wo)(e),this.updateRowHeights()}))}start(){this.updateDatasource()}isLastRowIndexKnown(){return!0}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){const e=this.datasource;e&&(e.destroy?.(),this.beans.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)}updateDatasource(){const e=this.gos.get("viewportDatasource");e&&this.setViewportDatasource(e)}getPageSize(){return this.gos.get("viewportRowModelPageSize")}getBufferSize(){return this.gos.get("viewportRowModelBufferSize")}calculateFirstRow(e){const t=this.getBufferSize(),i=this.getPageSize(),r=e-t;return r<0?0:Math.floor(r/i)*i}calculateLastRow(e){if(-1===e)return e;const t=this.getBufferSize(),i=this.getPageSize(),r=e+t,s=Math.ceil(r/i)*i,a=this.rowCount-1;return Math.min(s,a)}onViewportChanged(e){const t=this.calculateFirstRow(e.firstRow),i=this.calculateLastRow(e.lastRow);this.firstRow===t&&this.lastRow===i||(this.firstRow=t,this.lastRow=i,this.purgeRowsNotInViewport(),this.datasource?.setViewportRange(this.firstRow,this.lastRow))}purgeRowsNotInViewport(){const e=this.rowNodesByIndex;Object.keys(e).forEach((t=>{const i=parseInt(t,10);if(i<this.firstRow||i>this.lastRow){if(this.isRowFocused(i))return;delete e[i]}}))}isRowFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();return!!t&&(null==t.rowPinned&&t.rowIndex===e)}setViewportDatasource(e){this.destroyDatasource(),this.datasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):(0,Fy.F5b)(226)}getType(){return"viewport"}getRow(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]}getRowNode(e){let t;return this.forEachNode((i=>{i.id===e&&(t=i)})),t}getRowCount(){return-1===this.rowCount?0:this.rowCount}getRowIndexAtPixel(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0}getRowBounds(e){const t=this.rowHeight;return{rowHeight:t,rowTop:t*e}}updateRowHeights(){const e=this.rowHeight;this.forEachNode((t=>{t.setRowHeight(e),t.setRowTop(e*t.rowIndex)})),this.eventSvc.dispatchEvent({type:"modelUpdated",newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1})}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}isEmpty(){return this.rowCount>0}isRowsToRender(){return this.rowCount>0}getNodesInRangeForSelection(e,t){const i=e.rowIndex,r=t.rowIndex,s=i<this.firstRow||i>this.lastRow,a=r<this.firstRow||r>this.lastRow;if(s||a)return[];const o=[],n=i<=r?r:i;for(let e=i<=r?i:r;e<=n;e++)o.push(this.rowNodesByIndex[e]);return o}forEachNode(e){let t=0;Object.keys(this.rowNodesByIndex).forEach((i=>{const r=parseInt(i,10),s=this.rowNodesByIndex[r];e(s,t),t++}))}setRowData(e){const t=this.rowNodesByIndex;for(const i of Object.keys(e)){const r=e[i],s=parseInt(i,10);if(s>=this.firstRow&&s<=this.lastRow){let e=t[s];(0,Fy.n92)(e)&&(e=this.createBlankRowNode(s),t[s]=e),e.setDataAndId(r,s.toString())}}}createBlankRowNode(e){const t=new Fy.Fxk(this.beans),i=this.rowHeight;return t.setRowHeight(i),t.setRowTop(i*e),t.setRowIndex(e),t}setRowCount(e,t=!1){if(e===this.rowCount)return;this.rowCount=e;const i=this.eventSvc;i.dispatchEventOnce({type:"rowCountReady"}),i.dispatchEvent({type:"modelUpdated",newData:!1,newPage:!1,keepRenderedRows:t,animate:!1})}isRowPresent(e){return!!this.getRowNode(e.id)}},_M={moduleName:"ViewportRowModel",version:ww,rowModels:["viewport"],beans:[xM],dependsOn:[Sw]},EM="paste",MM="dragCopy",TM="clipboard",PM=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="clipboardSvc",this.clientSideRowModel=null,this.gridCtrl=null,this.lastPasteOperationTime=0,this.navigatorApiFailed=!1}postConstruct(){const{gos:e,rowModel:t,ctrlsSvc:i}=this.beans;(0,Fy.qYz)(e,t)&&(this.clientSideRowModel=t),i.whenReady(this,(e=>{this.gridCtrl=e.gridCtrl}))}destroy(){super.destroy(),this.clientSideRowModel=null,this.gridCtrl=null}pasteFromClipboard(){!this.gos.get("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch((e=>{(0,Fy.F5b)(40,{e:e,method:"readText"}),this.navigatorApiFailed=!0,this.pasteFromClipboardLegacy()})):this.pasteFromClipboardLegacy()}pasteFromClipboardLegacy(){let e=!1;const t=t=>{const i=Date.now();i-this.lastPasteOperationTime<50&&(e=!0,t.preventDefault()),this.lastPasteOperationTime=i};this.executeOnTempElement((e=>{e.addEventListener("paste",t),e.focus({preventScroll:!0})}),(i=>{const r=i.value;e?this.refocusLastFocusedCell():this.processClipboardData(r),i.removeEventListener("paste",t)}))}refocusLastFocusedCell(){const{focusSvc:e}=this.beans,t=e.getFocusedCell();t&&e.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0})}getClipboardDelimiter(){const e=this.gos.get("clipboardDelimiter");return(0,Fy.fTC)(e)?e:"\t"}processClipboardData(e){if(null==e)return;let t=function(e,t=","){const i=[],r=e=>"\r"===e||"\n"===e;let s=!1;if(""===e)return[[""]];for(let a=0,o=0,n=0;n<e.length;n++){const l=e[n-1],c=e[n],d=e[n+1],u=()=>{i[a]||(i[a]=[]),i[a][o]||(i[a][o]="")};if(u(),'"'===c&&(s?'"'===d?(i[a][o]+='"',n++):s=!1:(void 0===l||l===t||r(l))&&(s=!0)),!s&&'"'!==c){if(c===t){o++,u();continue}if(r(c)){o=0,a++,u(),"\r"===c&&"\n"===d&&n++;continue}}i[a][o]+=c}return i}(e,this.getClipboardDelimiter());const i=this.gos.getCallback("processDataFromClipboard");if(i&&(t=i({data:t})),null==t)return;this.gos.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(t);const{rangeSvc:r}=this.beans;this.doPasteOperation(((e,i,s,a)=>{const o=r?.isMoreThanOneCell();o&&!this.hasOnlyOneValueToPaste(t)?this.pasteIntoActiveRange(r,t,e,i,a):this.pasteStartingFromFocusedCell(t,e,i,s,a)}))}doPasteOperation(e){const t="clipboard",{eventSvc:i,focusSvc:r,rowRenderer:s,gos:a}=this.beans;i.dispatchEvent({type:"pasteStart",source:t});const{clientSideRowModel:o}=this,n=o?.rootNode,l=n&&new Fy.Dkq(a.get("aggregateOnlyChangedColumns"),n),c={},d=[];e(c,d,r.getFocusedCell(),l);const u=[...d];l&&(o.doAggregate(l),l.forEachChangedNodeDepthFirst((e=>{u.push(e)}))),s.refreshCells({rowNodes:u}),this.dispatchFlashCells(c),this.fireRowChanged(d),this.refocusLastFocusedCell(),i.dispatchEvent({type:"pasteEnd",source:t})}pasteIntoActiveRange(e,t,i,r,s){const a=this.getRangeSize(e)%t.length!=0;let o=0,n=0;this.iterateActiveRanges(!1,((e,l,c,d)=>{if(d-o>=t.length){if(a)return;o+=n,n=0}const u=t[d-o];r.push(l);const p=this.gos.getCallback("processCellFromClipboard");c.forEach(((t,r)=>{if(!t.isCellEditable(l)||t.isSuppressPaste(l))return;r>=u.length&&(r%=u.length);const a=this.processCell(l,t,u[r],MM,p,!0);l.setDataValue(t,a,EM),s&&s.addParentNode(l.parent,[t]);const{rowIndex:o,rowPinned:n}=e,c=(0,Fy.E6p)({rowIndex:o,column:t,rowPinned:n});i[c]=!0})),n++}))}getDisplayedColumnsStartingAt(e){let t=e;const i=[],r=this.beans.visibleCols;for(;null!=t;)i.push(t),t=r.getColAfter(t);return i}pasteStartingFromFocusedCell(e,t,i,r,s){if(!r)return;const a={rowIndex:r.rowIndex,rowPinned:r.rowPinned},o=this.getDisplayedColumnsStartingAt(r.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,i,t,s):this.pasteMultipleValues(e,a,i,o,t,TM,s)}isPasteSingleValueIntoRange(e){const t=this.beans.rangeSvc;return this.hasOnlyOneValueToPaste(e)&&!!t&&!t.isEmpty()}pasteSingleValueIntoRange(e,t,i,r){const s=e[0][0];this.iterateActiveRanges(!1,((e,a,o)=>{t.push(a),o.forEach((e=>this.updateCellValue(a,e,s,i,TM,r)))}))}hasOnlyOneValueToPaste(e){return 1===e.length&&1===e[0].length}copyRangeDown(){const{rangeSvc:e,gos:t,valueSvc:i}=this.beans;if(!e||e.isEmpty())return;const r=[];this.doPasteOperation(((e,s,a,o)=>{const n=t.getCallback("processCellForClipboard"),l=t.getCallback("processCellFromClipboard");this.iterateActiveRanges(!0,((t,a,c)=>{r.length?(s.push(a),c.forEach(((i,s)=>{if(!i.isCellEditable(a)||i.isSuppressPaste(a))return;const n=this.processCell(a,i,r[s],MM,l,!0);a.setDataValue(i,n,EM),o&&o.addParentNode(a.parent,[i]);const{rowIndex:c,rowPinned:d}=t,u=(0,Fy.E6p)({rowIndex:c,column:i,rowPinned:d});e[u]=!0}))):c.forEach((e=>{const t=this.processCell(a,e,i.getValue(e,a),MM,n,!1,!0);r.push(t)}))}))}))}removeLastLineIfBlank(e){const t=(0,Fy._O9)(e);if(t&&1===t.length&&""===t[0]){if(1===e.length)return;(0,Fy.Pi9)(e,t)}}fireRowChanged(e){"fullRow"===this.gos.get("editType")&&e.forEach((e=>{this.eventSvc.dispatchEvent({type:"rowValueChanged",node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}))}pasteMultipleValues(e,t,i,r,s,a,o){let n=t;const l=this.beans,{gos:c}=l,d=null!=this.clientSideRowModel&&!c.get("enableGroupEdit")&&!c.get("treeData");e.forEach((e=>{const t=(()=>{for(;;){if(!n)return null;const e=(0,Fy.vas)(l,n);if(n=(0,Fy.okx)(l,{rowPinned:n.rowPinned,rowIndex:n.rowIndex}),null==e)return null;if(!(e.detail||e.footer||d&&e.group))return e}})();t&&(e.forEach(((e,i)=>this.updateCellValue(t,r[i],e,s,a,o))),i.push(t))}))}updateCellValue(e,t,i,r,s,a){if(!e||!t||!t.isCellEditable(e)||t.isSuppressPaste(e))return;const o=this.processCell(e,t,i,s,this.gos.getCallback("processCellFromClipboard"),!0);e.setDataValue(t,o,EM);const{rowIndex:n,rowPinned:l}=e;r[(0,Fy.E6p)({rowIndex:n,column:t,rowPinned:l})]=!0,a&&a.addParentNode(e.parent,[t])}copyToClipboard(e={}){this.copyOrCutToClipboard(e)}cutToClipboard(e={},t="api"){this.gos.get("suppressCutToClipboard")||(this.eventSvc.dispatchEvent({type:"cutStart",source:t}),this.copyOrCutToClipboard(e,!0),this.eventSvc.dispatchEvent({type:"cutEnd",source:t}))}copyOrCutToClipboard(e,t){let{includeHeaders:i,includeGroupHeaders:r}=e;const{gos:s,focusSvc:a}=this.beans;null==i&&(i=s.get("copyHeadersToClipboard")),null==r&&(r=s.get("copyGroupHeadersToClipboard"));const o={includeHeaders:i,includeGroupHeaders:r},n=s.get("rowSelection"),l=s.get("cellSelection");let c=null;this.shouldCopyCells(l,n)?(this.copySelectedRangeToClipboard(o),c=0):this.shouldCopyRows(n)?(this.copySelectedRowsToClipboard(o),c=1):a.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(o),c=2),t&&null!==c&&this.clearCellsAfterCopy(c)}shouldCopyCells(e,t){const{rangeSvc:i,selectionSvc:r,gos:s}=this.beans;if(!i||i.isEmpty())return!1;if(e)return!("object"==typeof t&&t.copySelectedRows&&!r?.isEmpty());{const e=s.get("suppressCopySingleCellRanges");return!(!i.isMoreThanOneCell()&&e)}}shouldCopyRows(e){const{selectionSvc:t,gos:i}=this.beans;return!(t?.isEmpty()??1)&&(e&&"string"!=typeof e?e.copySelectedRows??!1:!i.get("suppressCopyRowsToClipboard"))}clearCellsAfterCopy(e){const t=this.beans,{rangeSvc:i,focusSvc:r,eventSvc:s}=t;if(s.dispatchEvent({type:"keyShortcutChangedCellStart"}),0===e)i.clearCellRangeCellValues({cellEventSource:"clipboardSvc"});else if(1===e)this.clearSelectedRows();else{const e=r.getFocusedCell();if(null==e)return;const i=(0,Fy.vas)(t,e);i&&this.clearCellValue(i,e.column)}s.dispatchEvent({type:"keyShortcutChangedCellEnd"})}clearSelectedRows(){const{selectionSvc:e,visibleCols:t}=this.beans,i=e?.getSelectedNodes()??[],r=t.allCols;for(const e of i)for(const t of r)this.clearCellValue(e,t)}clearCellValue(e,t){if(!t.isCellEditable(e))return;const i=this.beans.valueSvc.getDeleteValue(t,e);e.setDataValue(t,i,"clipboardSvc")}iterateActiveRanges(e,t,i){const r=this.beans.rangeSvc;if(!r||r.isEmpty())return;const s=r.getCellRanges();e?this.iterateActiveRange(s[0],t,i,!0):s.forEach(((e,r)=>this.iterateActiveRange(e,t,i,r===s.length-1)))}iterateActiveRange(e,t,i,r){const{beans:s}=this,{rangeSvc:a}=s;if(!a)return;let o=a.getRangeStartRow(e);const n=a.getRangeEndRow(e);i&&e.columns&&i(e.columns);let l=0,c=!1;for(;!c&&null!=o;){const i=(0,Fy.vas)(s,o);c=(0,Fy.ujL)(o,n),t(o,i,e.columns,l++,c&&r),o=(0,Fy.okx)(s,o)}}copySelectedRangeToClipboard(e={}){const t=this.beans.rangeSvc;if(!t||t.isEmpty())return;const i=t.areAllRangesAbleToMerge(),{data:r,cellsToFlash:s}=i?this.buildDataFromMergedRanges(t,e):this.buildDataFromRanges(t,e);this.copyDataToClipboard(r),this.dispatchFlashCells(s)}buildDataFromMergedRanges(e,t){const i=new Set,r=e.getCellRanges(),s=new Map,a=[],o={};r.forEach((t=>{t.columns.forEach((e=>i.add(e)));const{rowPositions:r,cellsToFlash:n}=this.getRangeRowPositionsAndCellsToFlash(e,t);r.forEach((e=>{const t=`${e.rowIndex}-${e.rowPinned||"null"}`;s.get(t)||(s.set(t,!0),a.push(e))})),Object.assign(o,n)}));const n=this.beans.visibleCols.allCols,l=Array.from(i);return l.sort(((e,t)=>n.indexOf(e)-n.indexOf(t))),{data:this.buildExportParams({columns:l,rowPositions:a,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}),cellsToFlash:o}}buildDataFromRanges(e,t){const i=e.getCellRanges(),r=[],s={};return i.forEach((i=>{const{rowPositions:a,cellsToFlash:o}=this.getRangeRowPositionsAndCellsToFlash(e,i);Object.assign(s,o),r.push(this.buildExportParams({columns:i.columns,rowPositions:a,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}))})),{data:r.join("\n"),cellsToFlash:s}}getRangeRowPositionsAndCellsToFlash(e,t){const i=[],r={},s=e.getRangeStartRow(t),a=e.getRangeEndRow(t);let o=s;for(;o&&(i.push(o),t.columns.forEach((e=>{const{rowIndex:t,rowPinned:i}=o,s=(0,Fy.E6p)({rowIndex:t,column:e,rowPinned:i});r[s]=!0})),!(0,Fy.ujL)(o,a));)o=(0,Fy.okx)(this.beans,o);return{rowPositions:i,cellsToFlash:r}}getCellsToFlashFromRowNodes(e){const t=this.beans.visibleCols.allCols,i={};for(let r=0;r<e.length;r++){const{level:s,rowIndex:a,rowPinned:o,sibling:n}=e[r],l=-1===s?n.rowIndex:a;if(null!=l)for(let e=0;e<t.length;e++){const r=t[e];i[(0,Fy.E6p)({rowIndex:l,column:r,rowPinned:o})]=!0}}return i}copyFocusedCellToClipboard(e={}){let t=this.beans.focusSvc.getFocusedCell();if(null==t)return;t=this.beans.rowSpanSvc?.getCellStart(t)??t;const i=(0,Fy.E6p)(t),r={rowPinned:t.rowPinned,rowIndex:t.rowIndex},s=t.column,a=this.buildExportParams({columns:[s],rowPositions:[r],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(a),this.dispatchFlashCells({[i]:!0})}copySelectedRowsToClipboard(e={}){const{columnKeys:t,includeHeaders:i,includeGroupHeaders:r}=e,s=this.buildExportParams({columns:t,includeHeaders:i,includeGroupHeaders:r});this.copyDataToClipboard(s);const a=this.beans.selectionSvc?.getSelectedNodes()||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(a))}buildExportParams(e){const{columns:t,rowPositions:i,includeHeaders:r=!1,includeGroupHeaders:s=!1}=e,{gos:a,csvCreator:o}=this.beans,n={columnKeys:t,rowPositions:i,skipColumnHeaders:!r,skipColumnGroupHeaders:!s,suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!i,processCellCallback:a.getCallback("processCellForClipboard"),processRowGroupCallback:({node:e,column:t})=>{const{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(t,e,!0);return r??i??""},processHeaderCallback:a.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:a.getCallback("processGroupHeaderForClipboard")};return o.getDataAsCsv(n,!0)}dispatchFlashCells(e){window.setTimeout((()=>{this.eventSvc.dispatchEvent({type:"flashCells",cells:e})}),0)}processCell(e,t,i,r,s,a,o){const n=this.beans.valueSvc;return s?s({column:t,node:e,value:i,type:r,formatValue:i=>n.formatValue(t,e??null,i)??i,parseValue:i=>n.parseValue(t,e??null,i,n.getValue(t,e))}):a&&!1!==t.getColDef().useValueParserForImport?n.parseValue(t,e??null,i,n.getValue(t,e)):o&&!1!==t.getColDef().useValueFormatterForExport?n.formatValue(t,e??null,i)??i:i}copyDataToClipboard(e){const t=this.gos.getCallback("sendToClipboard");t?t({data:e}):!this.gos.get("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(e).catch((t=>{(0,Fy.F5b)(40,{e:t,method:"writeText"}),this.copyDataToClipboardLegacy(e)})):this.copyDataToClipboardLegacy(e)}copyDataToClipboardLegacy(e){this.executeOnTempElement((t=>{const i=(0,Fy.rtB)(this.beans),r=(0,Fy.HB1)(this.beans);t.value=e||" ",t.select(),t.focus({preventScroll:!0}),i.execCommand("copy")||(0,Fy.F5b)(41),null!=r&&null!=r.focus&&r.focus({preventScroll:!0})}))}executeOnTempElement(e,t){if(!this.gridCtrl)return;const i=(0,Fy.rtB)(this.beans),r=i.createElement("textarea"),s=r.style;s.width="1px",s.height="1px";const a=i.documentElement;s.top=a.scrollTop+"px",s.left=a.scrollLeft+"px",s.position="absolute",s.opacity="0";const o=this.gridCtrl.getGui();o.appendChild(r);try{e(r)}catch(e){(0,Fy.F5b)(42)}t?window.setTimeout((()=>{t(r),o.removeChild(r)}),100):o.removeChild(r)}getRangeSize(e){const t=e.getCellRanges();let i=0,r=0;return t.length>0&&(i=e.getRangeStartRow(t[0]).rowIndex,r=e.getRangeEndRow(t[0]).rowIndex),i-r+1}},AM={moduleName:"Clipboard",version:ww,beans:[PM],apiFunctions:{copyToClipboard:function(e,t){e.clipboardSvc?.copyToClipboard(t)},cutToClipboard:function(e,t){e.clipboardSvc?.cutToClipboard(t)},copySelectedRowsToClipboard:function(e,t){e.clipboardSvc?.copySelectedRowsToClipboard(t)},copySelectedRangeToClipboard:function(e,t){e.clipboardSvc?.copySelectedRangeToClipboard(t)},copySelectedRangeDown:function(e){e.clipboardSvc?.copyRangeDown()},pasteFromClipboard:function(e){e.clipboardSvc?.pasteFromClipboard()}},dependsOn:[Sw,Fy.jMC,Fy.pz4,Fy.teH]},DM={tag:"div",cls:"ag-row-numbers-resizer"},IM=class extends Fy.wA2{constructor(e){super(DM),this.cellCtrl=e,this.initialYPosition=-1,this.dragging=!1}postConstruct(){const{beans:e,cellCtrl:t}=this,{dragSvc:i,environment:r}=e;this.defaultRowHeight=r.getDefaultRowHeight(),i.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this)});const s=t.getRowPosition();this.node=(0,Fy.vas)(this.beans,s)}onDragStart(e){this.node&&(this.dragging=!0,this.initialHeight=this.node.rowHeight,this.beans.eventSvc.dispatchEvent({type:"rowResizeStarted",node:this.node,event:e,rowHeight:this.initialHeight}))}onDragging(e){const{clientY:t}=e;if(-1===this.initialYPosition||!this.dragging)return void(this.initialYPosition=t);const{beans:i,initialHeight:r,initialYPosition:s,defaultRowHeight:a,node:o}=this;if(null==r)return;const n=o?.rowHeight,l=Math.max(r-(s-t),a);if(n===l)return;o?.setRowHeight(l);const{rowRenderer:c,rowModel:d,pinnedRowModel:u}=i,p=!!o?.rowPinned;p&&c.redraw({afterScroll:!0}),p&&!u?.isManual()||d.onRowHeightChanged({animate:!1})}onDragStop(e){this.beans.eventSvc.dispatchEvent({type:"rowResizeEnded",node:this.node,event:e,rowHeight:this.node?.rowHeight}),this.clearDragDetails()}onDragCancel(){this.clearDragDetails()}clearDragDetails(){this.initialYPosition=-1,this.initialHeight=null,this.dragging=!1}destroy(){this.clearDragDetails(),this.node=void 0,super.destroy()}};function NM(e){const t=e.get("rowNumbers");return!(!t||"object"!=typeof t||!t.enableRowResizer)}var RM=class{constructor(e,t){this.beans=e,this.cellCtrl=t}refreshRowResizer(){NM(this.beans.gos)&&this.isRowResizeSupported(this.cellCtrl.rowNode)?this.addResizerToCellComp():this.removeRowResizerFromCellComp()}isRowResizeSupported(e){const{pinnedRowModel:t,rowModel:i,visibleCols:r}=this.beans,s=!!i.onRowHeightChanged;return r.autoHeightCols.length?((0,Fy.F5b)(276),!1):null!=e.rowPinned&&!t?.isManual()||s}addResizerToCellComp(){const{beans:e,cellCtrl:t}=this,{eGui:i}=t;let{rowResizer:r}=this;if(!r){if(r=e.registry.createDynamicBean("rowNumberRowResizer",!1,t),!r)return;this.rowResizer=e.context.createBean(r)}i.appendChild(r.getGui())}removeRowResizerFromCellComp(){if(!this.rowResizer)return;const{eGui:e}=this.cellCtrl;e.removeChild(this.rowResizer.getGui()),this.rowResizer=this.beans.context.destroyBean(this.rowResizer)}destroy(){this.removeRowResizerFromCellComp()}},LM=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="rowNumbersSvc",this.isIntegratedWithSelection=!1}postConstruct(){const e=(0,Fy.eTz)(this,this.refreshCells.bind(this,!1,!0),10);this.addManagedEventListeners({modelUpdated:e,rangeSelectionChanged:()=>this.refreshCells(!0),pinnedRowsChanged:e}),this.addManagedPropertyListeners(["rowNumbers","cellSelection"],(e=>{this.refreshSelectionIntegration(),this.updateColumns(e)})),this.refreshSelectionIntegration()}addColumns(e){null!=this.columns&&(e.list=this.columns.list.concat(e.list),e.tree=this.columns.tree.concat(e.tree),(0,Fy.w8W)(e))}createColumns(e,t){if(!this.gos.get("rowNumbers"))return;const i=e.treeDepth,r=(this.columns?.treeDepth??-1)==i,s=this.generateRowNumberCols();if((0,Fy.vMX)(s,this.columns?.list??[])&&r)return;(()=>{(0,Fy.uPZ)(this.beans,this.columns?.tree),this.columns=null})();const{colGroupSvc:a}=this.beans,o=a?.findDepth(e.tree)??0,n=a?.balanceTreeForAutoCols(s,o)??[];this.columns={list:s,tree:n,treeDepth:o,map:{}},t((e=>{if(!e)return null;const t=e.filter((e=>!(0,Fy.CAR)(e)));return[...s,...t]}))}handleMouseDownOnCell(e,t){return!(!this.isIntegratedWithSelection||t.target.classList.contains("ag-row-numbers-resizer")||(t.shiftKey||setTimeout((()=>{this.focusFirstRenderedCellAtRowPosition(e)})),0))}updateColumns(e){const t=(0,Fy.ZvS)(e.source);this.refreshSelectionIntegration(),this.columns?.list.forEach((e=>{const i=this.createRowNumbersColDef();e.setColDef(i,null,t),(0,Fy.Kl8)(this.beans,{state:[{colId:e.getColId(),...i}]},t)}))}getColumn(){return this.columns?.list.find(Fy.CAR)??null}getColumns(){return this.columns?.list??null}setupForHeader(e){const{column:t,eGridHeader:i}=e.params;(0,Fy.CAR)(t)&&((0,Fy.xER)(i,"Row Number"),this.addManagedElementListeners(i,{click:this.onHeaderClick.bind(this),keydown:this.onHeaderKeyDown.bind(this),focus:this.onHeaderFocus.bind(this)}))}createRowNumbersRowResizerFeature(e,t){if(NM(this.gos))return new RM(e,t)}refreshSelectionIntegration(){const{beans:e}=this,{gos:t,rangeSvc:i}=e,r=t.get("cellSelection");this.refreshRowNumberOverrides(),this.isIntegratedWithSelection=!!i&&!!r&&!this.isSuppressCellSelectionIntegration}refreshRowNumberOverrides(){const e=this.gos.get("rowNumbers");if(this.rowNumberOverrides={},!e||"object"!=typeof e)return;e.suppressCellSelectionIntegration&&(this.isSuppressCellSelectionIntegration=!0);const t=["contextMenuItems","context","onCellClicked","onCellContextMenu","onCellDoubleClicked","headerTooltip","headerStyle","headerComponent","headerComponentParams","suppressHeaderKeyboardEvent","tooltipField","tooltipValueGetter","tooltipComponent","tooltipComponentParams","valueGetter","valueFormatter","width","maxWidth","minWidth","resizable"];for(const i of t)null!=e[i]&&(this.rowNumberOverrides[i]=e[i])}onHeaderFocus(){this.beans.ariaAnnounce?.announceValue("Press Space to select all cells","ariaSelectAllCells")}onHeaderKeyDown(e){this.isIntegratedWithSelection&&e.key===Fy.KeyCode.SPACE&&(0,Fy.yi7)(this.beans)}onHeaderClick(){this.isIntegratedWithSelection&&(0,Fy.yi7)(this.beans)}refreshCells(e,t){const i=this.getColumn();if(i){if(t){const e=this.beans.autoWidthCalc?.getPreferredWidthForElements([this.createDummyElement(i)],2);null!=e&&this.beans.colResize?.setColumnWidths([{key:i,newWidth:e}],!1,!0,"rowNumbersService")}this.beans.rowRenderer.refreshCells({columns:[i],force:e})}}createDummyElement(e){const t=(0,Fy.Xye)({tag:"div",cls:"ag-cell-value ag-cell"});let i=String(this.beans.rowModel.getRowCount()+1);if("function"==typeof this.rowNumberOverrides.valueFormatter){const t=(0,Fy.OHk)(this.beans.gos,{data:void 0,value:i,node:null,column:e,colDef:e.colDef});i=this.rowNumberOverrides.valueFormatter(t)}return t.textContent=i,t}createRowNumbersColDef(){const{gos:e,contextMenuSvc:t}=this.beans,i=e.get("enableRtl");return{minWidth:60,width:60,resizable:!1,valueGetter:this.valueGetter,contextMenuItems:this.isIntegratedWithSelection||!t?void 0:()=>[],...this.rowNumberOverrides,colId:Fy.bok,chartDataType:"excluded",suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPinned:!0,pinned:i?"right":"left",lockPosition:i?"right":"left",editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,suppressSizeToFit:!0,suppressHeaderContextMenu:!0,suppressNavigable:!0,headerClass:this.getHeaderClass(),cellClass:this.getCellClass.bind(this),cellAriaRole:"rowheader"}}valueGetter(e){const t=e.node;if(t?.rowPinned&&t.pinnedSibling){const{rowIndex:e}=t.pinnedSibling;return`${null==e?"-":e+1}`}return String((t?.rowIndex||0)+1)}getHeaderClass(){const e=["ag-row-number-header"];return this.isIntegratedWithSelection&&e.push("ag-row-number-selection-enabled"),e}getCellClass(e){const{beans:t}=this,{rangeSvc:i,gos:r}=t,{node:s}=e,a=["ag-row-number-cell"],o=r.get("cellSelection");if(!i||!o)return a;this.isIntegratedWithSelection&&a.push("ag-row-number-selection-enabled");const n=i.getCellRanges();if(!n.length)return a;const l=this.beans.visibleCols.allCols.length-1,c="object"==typeof o&&o.enableHeaderHighlight;for(const e of n)i.isRowInRange(s.rowIndex,s.rowPinned,e)&&(c&&a.push("ag-row-number-range-highlight"),e.columns.length===l&&a.push("ag-row-number-range-selected"));return a}generateRowNumberCols(){const{gos:e}=this;if(!e.get("rowNumbers"))return[];const t=this.createRowNumbersColDef(),i=t.colId;e.validateColDef(t,i,!0);const r=new Fy.x1i(t,null,i,!1);return this.createBean(r),[r]}focusFirstRenderedCellAtRowPosition(e){const{beans:t,gos:i}=this,{visibleCols:r,colViewport:s}=t,a=i.get("enableRtl")?r.rightCols:r.leftCols;let o;if(1==a.length){const i=(0,Fy.vas)(t,e);if(!i)return;o=s.getColsWithinViewport(i)}else o=a;const n=o.find((e=>!(0,Fy.CAR)(e)));if(!n)return;const{rowPinned:l,rowIndex:c}=e;t.focusSvc.setFocusedCell({rowIndex:c,rowPinned:l,column:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}destroy(){(0,Fy.uPZ)(this.beans,this.columns?.tree),this.rowNumberOverrides=null,super.destroy()}},FM={moduleName:"RowNumbers",version:ww,beans:[LM],dynamicBeans:{rowNumberRowResizer:IM},dependsOn:[Sw,Fy.imY,Fy.FRw],css:['.ag-row-number-cell{background-color:var(--ag-header-background-color);border:none;color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;width:100%}:where(.ag-ltr) .ag-row-number-cell{text-align:right}:where(.ag-rtl) .ag-row-number-cell{text-align:left}.ag-row-numbers-resizer{bottom:-2px;cursor:ns-resize;height:4px;position:absolute;width:100%}:where(.ag-ltr) .ag-row-numbers-resizer{left:0}:where(.ag-rtl) .ag-row-numbers-resizer{right:0}:where(.ag-row-number-header.ag-row-number-selection-enabled){cursor:cell}.ag-row-number-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-row-number-range-selected{background-color:var(--ag-row-numbers-selected-color)}:where(.ag-ltr){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-last-left-pinned){border-right:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik0zLjQ0NSA4LjkxMVY3LjQwOUg5Ljc1VjYuMDE0bDIuNTM1IDIuMTQ2LTIuNTM1IDIuMTQ2VjguOTExeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+"),auto}}:where(.ag-rtl){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-first-right-pinned){border-left:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik01Ljk3OSA4LjkxMXYxLjM5NUwzLjQ0NSA4LjE2bDIuNTM0LTIuMTQ2djEuMzk1aDYuMzA2djEuNTAyeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+"),auto}}']},OM={tag:"div",cls:"ag-filter-toolpanel-search",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-filter-toolpanel-expand"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-filter-toolpanel-search-input"}]},BM=class extends Fy.wA2{constructor(){super(...arguments),this.eExpand=Fy.CUI,this.eFilterTextField=Fy.CUI}postConstruct(){this.setTemplate(OM,[Fy.jvp]);const e=this.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(0),this.addManagedElementListeners(this.eExpand,{click:this.onExpandClicked.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)})}init(e){this.params=e,this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){const{eExpand:e,beans:t}=this;e.appendChild(this.eExpandChecked=(0,Fy.scM)("accordionOpen",t)),e.appendChild(this.eExpandUnchecked=(0,Fy.scM)("accordionClosed",t)),e.appendChild(this.eExpandIndeterminate=(0,Fy.scM)("accordionIndeterminate",t))}showOrHideOptions(){const{params:e,eFilterTextField:t}=this,i=!e.suppressFilterSearch,r=!e.suppressExpandAll,s=this.getLocaleTextFunc();t.setInputPlaceholder(s("searchOoo","Search..."));const a=this.beans.colModel.getCols().some((e=>e.getOriginalParent()&&e.isFilterAllowed()));(0,Fy.DIH)(t.getGui(),i),(0,Fy.DIH)(this.eExpand,r&&a)}onSearchTextChanged(){this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=(0,Fy.eTz)(this,(()=>this.dispatchLocalEvent({type:"searchChanged",searchText:this.eFilterTextField.getValue()})),300)),this.onSearchTextChangedDebounced()}onExpandClicked(){const e=0===this.currentExpandState?{type:"collapseAll"}:{type:"expandAll"};this.dispatchLocalEvent(e)}setExpandState(e){this.currentExpandState=e,(0,Fy.DIH)(this.eExpandChecked,0===e),(0,Fy.DIH)(this.eExpandUnchecked,1===e),(0,Fy.DIH)(this.eExpandIndeterminate,2===e)}},zM={selector:"AG-FILTERS-TOOL-PANEL-HEADER",component:BM},VM={tag:"div",cls:"ag-filter-toolpanel-instance",children:[{tag:"div",ref:"eFilterToolPanelHeader",cls:"ag-filter-toolpanel-header ag-filter-toolpanel-instance-header",role:"button",attrs:{"aria-expanded":"false"},children:[{tag:"div",ref:"eExpand",cls:"ag-filter-toolpanel-expand"},{tag:"span",ref:"eFilterName",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilterIcon",cls:"ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon",attrs:{"aria-hidden":"true"}}]},{tag:"div",ref:"agFilterToolPanelBody",cls:"ag-filter-toolpanel-instance-body ag-filter"}]},GM=class extends Fy.wA2{constructor(e,t){super(VM),this.hideHeader=e,this.expandedCallback=t,this.eFilterToolPanelHeader=Fy.CUI,this.eFilterName=Fy.CUI,this.agFilterToolPanelBody=Fy.CUI,this.eFilterIcon=Fy.CUI,this.eExpand=Fy.CUI,this.expanded=!1}postConstruct(){const{beans:e,eExpand:t}=this,i=(0,Fy.scM)("accordionOpen",e);this.eExpandChecked=i;const r=(0,Fy.scM)("accordionClosed",e);this.eExpandUnchecked=r,t.appendChild(i),t.appendChild(r)}setColumn(e){this.column=e;const{beans:t,eFilterToolPanelHeader:i,eFilterIcon:r,eExpandChecked:s,hideHeader:a}=this;this.eFilterName.innerText=t.colNames.getDisplayNameForColumn(e,"filterToolPanel",!1)||"",this.addManagedListeners(i,{click:this.toggleExpanded.bind(this),keydown:this.onKeyDown.bind(this)}),this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)}),this.addInIcon("filterActive",r,e),(0,Fy.DIH)(r,this.isFilterActive(),{skipAriaHidden:!0}),(0,Fy.DIH)(s,!1),a?((0,Fy.DIH)(i,!1),i.removeAttribute("tabindex")):i.setAttribute("tabindex","0"),this.addManagedListeners(e,{filterChanged:this.onFilterChanged.bind(this)})}onKeyDown(e){const{key:t}=e,{ENTER:i,SPACE:r,LEFT:s,RIGHT:a}=Fy.KeyCode;t!==i&&t!==r&&t!==s&&t!==a||(e.preventDefault(),t===i||t===r?this.toggleExpanded():t===Fy.KeyCode.LEFT?this.collapse():this.expand())}getColumn(){return this.column}getColumnFilterName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"filterToolPanel",!1)}addCssClassToTitleBar(e){this.eFilterToolPanelHeader.classList.add(e)}addInIcon(e,t,i){if(null==t)return;const r=(0,Fy.scM)(e,this.beans,i);t.appendChild(r)}isFilterActive(){return!!this.beans.filterManager?.isFilterActive(this.column)}onFilterChanged(){(0,Fy.DIH)(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchLocalEvent({type:"filterChanged"})}toggleExpanded(){this.expanded?this.collapse():this.expand()}expand(){this.expanded||(this.expanded=!0,(0,Fy.mmg)(this.eFilterToolPanelHeader,!0),(0,Fy.DIH)(this.eExpandChecked,!0),(0,Fy.DIH)(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())}addFilterElement(e){const t=(0,Fy.Xye)({tag:"div",cls:"ag-filter-toolpanel-instance-filter"}),i=this.createManagedBean(new Fy.yQX(this.column,"TOOLBAR"));this.filterWrapperComp=i,i.hasFilter()&&i.getFilter()?.then((r=>{this.underlyingFilter=r,r&&(t.appendChild(i.getGui()),this.agFilterToolPanelBody.appendChild(t),i.afterGuiAttached({container:"toolPanel",suppressFocus:e}))}))}collapse(){if(!this.expanded)return;this.expanded=!1,(0,Fy.mmg)(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),(0,Fy.DIH)(this.eExpandChecked,!1),(0,Fy.DIH)(this.eExpandUnchecked,!0);const e=this.filterWrapperComp;e?.afterGuiDetached(),this.destroyBean(e),this.expandedCallback()}removeFilterElement(){(0,Fy.wvc)(this.agFilterToolPanelBody)}isExpanded(){return this.expanded}refreshFilter(e){if(!this.expanded)return;const t=this.underlyingFilter;t&&(e?"function"==typeof t.refreshVirtualList&&t.refreshVirtualList():t.afterGuiDetached?.())}onFilterOpened(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()}},UM=class e extends Fy.wA2{constructor(e,t,i,r,s){super(),this.columnGroup=e,this.childFilterComps=t,this.expandedCallback=i,this.depth=r,this.showingColumn=s,this.filterGroupComp=Fy.CUI}postConstruct(){this.setTemplate({tag:"div",cls:"ag-filter-toolpanel-group-wrapper",children:[{tag:"ag-group-component",ref:"filterGroupComp"}]},[gE],{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}}),this.setGroupTitle();const{filterGroupComp:e,depth:t,childFilterComps:i,gos:r}=this;e.setAlignItems("stretch"),e.addCss(`ag-filter-toolpanel-group-level-${t}`),e.getGui().style.setProperty("--ag-indentation-level",String(t)),e.addCssClassToTitleBar(`ag-filter-toolpanel-group-level-${t}-header`),i.forEach((i=>{e.addItem(i),i.addCssClassToTitleBar(`ag-filter-toolpanel-group-level-${t+1}-header`),i.getGui().style.setProperty("--ag-indentation-level",String(t+1))})),this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"filterToolPanelColumnGroup",shouldDisplayTooltip:(0,Fy.wsu)(r,(()=>e.getGui().querySelector(".ag-group-title")))})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip(),this.addInIcon("filterActive")}setupTooltip(){if(!this.showingColumn)return;const e=()=>{this.tooltipFeature?.setTooltipAndRefresh(this.columnGroup.getColDef().headerTooltip)};e(),this.addManagedEventListeners({newColumnsLoaded:e})}addCssClassToTitleBar(e){this.filterGroupComp.addCssClassToTitleBar(e)}refreshFilters(t){this.childFilterComps.forEach((i=>{i instanceof e?i.refreshFilters(t):i.refreshFilter(t)}))}isColumnGroup(){return(0,Fy.pAL)(this.columnGroup)}isExpanded(){return this.filterGroupComp.isExpanded()}getChildren(){return this.childFilterComps}getFilterGroupName(){return this.filterGroupName??""}getFilterGroupId(){return this.columnGroup.getId()}hideGroupItem(e,t){this.filterGroupComp.hideItem(e,t)}hideGroup(e){this.setDisplayed(!e)}addInIcon(e){const t=(0,Fy.scM)(e,this.beans);t&&t.classList.add("ag-filter-toolpanel-group-instance-header-icon"),this.filterGroupComp.addTitleBarWidget(t)}forEachToolPanelFilterChild(e){this.childFilterComps.forEach((t=>{t instanceof GM&&e(t)}))}addExpandCollapseListeners(){const e=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild((e=>e.expand())),t=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild((e=>e.collapse()));this.addManagedListeners(this.filterGroupComp,{expanded:e,collapsed:t})}getColumns(){return(0,Fy.pAL)(this.columnGroup)?this.columnGroup.getLeafColumns():[this.columnGroup]}addFilterChangedListeners(){this.getColumns().forEach((e=>{this.addManagedListeners(e,{filterChanged:()=>this.refreshFilterClass()})})),(0,Fy.pAL)(this.columnGroup)||this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)})}refreshFilterClass(){const e=this.getColumns();this.filterGroupComp.toggleCss("ag-has-filter",e.some((e=>e.isFilterActive())))}onFilterOpened(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()}expand(){this.filterGroupComp.toggleGroupExpand(!0)}collapse(){this.filterGroupComp.toggleGroupExpand(!1)}setGroupTitle(){const e=this.columnGroup,t=(0,Fy.pAL)(e)?this.getColumnGroupName(e):this.getColumnName(e);this.filterGroupName=t,this.filterGroupComp.setTitle(t||"")}getColumnGroupName(e){return this.beans.colNames.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")}getColumnName(e){return this.beans.colNames.getDisplayNameForColumn(e,"filterToolPanel",!1)}destroyFilters(){this.childFilterComps=this.destroyBeans(this.childFilterComps),(0,Fy.wvc)(this.getGui())}destroy(){this.destroyFilters(),super.destroy()}},HM=class extends Fy.wA2{constructor(){super({tag:"div",cls:"ag-filter-list-panel"}),this.initialised=!1,this.hasLoadedInitialState=!1,this.isInitialState=!1,this.filterGroupComps=[],this.suppressOnColumnsChanged=!1,this.onColumnsChangedPending=!1}wireBeans(e){this.colModel=e.colModel}init(e){this.initialised=!0;const t=(0,Fy.OHk)(this.gos,{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});(0,Fy.zev)(t,e),this.params=t,t.suppressSyncLayoutWithGrid||this.addManagedEventListeners({columnMoved:()=>this.onColumnsChanged()}),this.addManagedEventListeners({newColumnsLoaded:()=>this.onColumnsChanged(),toolPanelVisibleChanged:e=>{"filters"===e.key&&this.refreshFilters(e.visible)},dragStarted:()=>{this.suppressOnColumnsChanged=!0},dragStopped:()=>{this.suppressOnColumnsChanged=!1,this.onColumnsChangedPending&&(this.onColumnsChangedPending=!1,this.onColumnsChanged())}}),this.colModel.ready&&this.onColumnsChanged()}onColumnsChanged(){if(this.suppressOnColumnsChanged)return void(this.onColumnsChangedPending=!0);const e=this.colModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout(),this.refreshAriaLabel()}syncFilterLayout(){gx(this.colModel,this.setFiltersLayout.bind(this)),this.refreshAriaLabel()}buildTreeFromProvidedColumnDefs(){const e=this.colModel.getColDefColTree();this.recreateFilters(e)}setFiltersLayout(e){const t=mx(this.colModel,e);this.recreateFilters(t)}recreateFilters(e){const t=(0,Fy.HB1)(this.beans);this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);const i=this.getExpansionState();this.destroyFilters();const r=this.recursivelyAddComps(e,0,i);this.filterGroupComps=r;const s=r.length;s&&(r.forEach((e=>this.appendChild(e))),this.setFirstAndLastVisible(0,s-1));const a=this.searchFilterText;(0,Fy.fTC)(a)&&this.searchFilters(a),this.fireExpandedEvent(),this.getGui().contains(t)&&t.focus(),this.isInitialState=!1,this.refreshAriaLabel()}recursivelyAddComps(e,t,i){return e.map((e=>{if((0,Fy.pAL)(e))return this.recursivelyAddFilterGroupComps(e,t,i)?.flatMap((e=>e))??[];const r=e;if(!this.shouldDisplayFilter(r))return[];const s=new GM(0===t,(()=>this.onFilterExpanded()));if(this.createBean(s),s.setColumn(r),i.get(r.getId())&&s.expand(),t>0)return s;const a=this.createBean(new UM(r,[s],this.onGroupExpanded.bind(this),t,!0));return a.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.get(a.getFilterGroupId())||a.collapse(),a})).flatMap((e=>e))}refreshAriaLabel(){const e=this.getLocaleTextFunc(),t=e("ariaFilterPanelList","Filter List"),i=e("filters","Filters"),r=this.getGui().querySelectorAll(".ag-filter-toolpanel-group-item:not(.ag-filter-toolpanel-group-wrapper, .ag-hidden)").length;(0,Fy.xER)(this.getAriaElement(),`${t} ${r} ${i}`)}recursivelyAddFilterGroupComps(e,t,i){if(!this.filtersExistInChildren(e.getChildren()))return;const r=e.getColGroupDef();if(r&&r.suppressFiltersToolPanel)return[];const s=e.isPadding()?t:t+1,a=this.recursivelyAddComps(e.getChildren(),s,i).flatMap((e=>e));if(e.isPadding())return a;const o=new UM(e,a,this.onGroupExpanded.bind(this),t,!1);this.createBean(o),o.addCssClassToTitleBar("ag-filter-toolpanel-header");const n=i.get(o.getFilterGroupId());return(this.isInitialState&&!n||!1===n)&&o.collapse(),[o]}filtersExistInChildren(e){return e.some((e=>(0,Fy.pAL)(e)?this.filtersExistInChildren(e.getChildren()):this.shouldDisplayFilter(e)))}shouldDisplayFilter(e){const t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t}getExpansionState(){const e=new Map;if(this.isInitialState){const{expandedColIds:t,expandedGroupIds:i}=this.params.initialState;return t.forEach((t=>e.set(t,!0))),i.forEach((t=>e.set(t,!0))),e}const t=i=>{e.set(i.getFilterGroupId(),i.isExpanded()),i.getChildren().forEach((i=>{i instanceof UM?t(i):e.set(i.getColumn().getId(),i.isExpanded())}))};return this.filterGroupComps.forEach(t),e}refresh(){}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}expandFilterGroups(e,t){const i=[],r=s=>{const a=s.getFilterGroupId();(!t||t.includes(a))&&(e&&s.isColumnGroup()?s.expand():s.collapse(),i.push(a)),s.getChildren().forEach((e=>{e instanceof UM&&r(e)}))};if(this.filterGroupComps.forEach(r),this.onGroupExpanded(),t){const e=t.filter((e=>i.indexOf(e)<0));e.length>0&&(0,Fy.F5b)(166,{unrecognisedGroupIds:e})}}expandFilters(e,t){const i=[],r=s=>{if(s instanceof UM){let t=!1;return s.getChildren().forEach((i=>{r(i)&&(e?(s.expand(),t=!0):s.isColumnGroup()||s.collapse())})),t}const a=s.getColumn().getColId(),o=!t||t.includes(a);return o&&(e?s.expand():s.collapse(),i.push(a)),o};if(this.filterGroupComps.forEach(r),this.onGroupExpanded(),t){const e=t.filter((e=>i.indexOf(e)<0));e.length>0&&(0,Fy.F5b)(167,{unrecognisedColIds:e})}}onGroupExpanded(){this.fireExpandedEvent()}onFilterExpanded(){this.dispatchLocalEvent({type:"filterExpanded"})}fireExpandedEvent(){let e=0,t=0;const i=r=>{r.isColumnGroup()&&(r.isExpanded()?e++:t++,r.getChildren().forEach((e=>{e instanceof UM&&i(e)})))};let r;this.filterGroupComps.forEach(i),r=e>0&&t>0?2:t>0?1:0,this.dispatchLocalEvent({type:"groupExpanded",state:r})}performFilterSearch(e){this.searchFilterText=(0,Fy.fTC)(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)}searchFilters(e){const t=t=>!(0,Fy.fTC)(e)||-1!==t.toLowerCase().indexOf(e),i=(e,r)=>{if(!(e instanceof UM))return t(e.getColumnFilterName()||"");const s=e.getChildren(),a=t(e.getFilterGroupName()),o=r||a;if(o){e.hideGroup(!1);for(let t=0;t<s.length;t++)i(s[t],o),e.hideGroupItem(!1,t);return!0}let n=!1;return s.forEach(((t,s)=>{const a=i(t,r);e.hideGroupItem(!a,s),a&&(n=!0)})),e.hideGroup(!n),n};let r,s;this.filterGroupComps.forEach(((e,t)=>{i(e,!1);const a=e.getGui()?.classList.contains("ag-hidden");void 0===r?a||(r=t,s=t):a||s===t||(s=t)})),this.setFirstAndLastVisible(r,s),this.refreshAriaLabel()}setFirstAndLastVisible(e,t){this.filterGroupComps.forEach(((i,r)=>{i.removeCss("ag-first-group-visible"),i.removeCss("ag-last-group-visible"),r===e&&i.addCss("ag-first-group-visible"),r===t&&i.addCss("ag-last-group-visible")}))}refreshFilters(e){this.filterGroupComps.forEach((t=>t.refreshFilters(e)))}getExpandedFiltersAndGroups(){const e=[],t=new Set,i=r=>{if(r instanceof UM){r.getChildren().forEach((e=>i(e)));const s=r.getFilterGroupId();r.isExpanded()&&!t.has(s)&&e.push(s)}else r.isExpanded()&&t.add(r.getColumn().getColId())};return this.filterGroupComps.forEach(i),{expandedGroupIds:e,expandedColIds:Array.from(t)}}destroyFilters(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),(0,Fy.wvc)(this.getGui())}destroy(){this.destroyFilters(),super.destroy()}},WM={selector:"AG-FILTERS-TOOL-PANEL-LIST",component:HM},jM={tag:"div",cls:"ag-filter-toolpanel",children:[{tag:"ag-filters-tool-panel-header",ref:"filtersToolPanelHeaderPanel"},{tag:"ag-filters-tool-panel-list",ref:"filtersToolPanelListPanel"}]},KM=class extends Fy.wA2{constructor(){super(jM,[zM,WM]),this.filtersToolPanelHeaderPanel=Fy.CUI,this.filtersToolPanelListPanel=Fy.CUI,this.initialised=!1,this.listenerDestroyFuncs=[],this.registerCSS(".ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;color:var(--ag-header-text-color);display:flex;font-weight:var(--ag-header-font-weight);padding:0 var(--ag-spacing);>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing);position:relative;&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}:where(.ag-ltr) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-ltr) .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-rtl) .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-search{min-height:var(--ag-header-height);padding-bottom:var(--ag-spacing);padding-top:var(--ag-widget-container-vertical-padding)}:where(.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar) .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}:where(.ag-ltr) .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar,:where(.ag-ltr) .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar,:where(.ag-rtl) .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-ltr) .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}:where(.ag-rtl) .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}")}init(e){this.initialised&&(this.listenerDestroyFuncs.forEach((e=>e())),this.listenerDestroyFuncs=[]),this.initialised=!0;const t={...(0,Fy.OHk)(this.gos,{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1}),...e};this.params=t;const{filtersToolPanelHeaderPanel:i,filtersToolPanelListPanel:r}=this;i.init(t),r.init(t);const s=t.suppressExpandAll,a=t.suppressFilterSearch;s&&a&&i.setDisplayed(!1),this.listenerDestroyFuncs.push(...this.addManagedListeners(i,{expandAll:()=>r.expandFilterGroups(!0),collapseAll:()=>r.expandFilterGroups(!1),searchChanged:e=>r.performFilterSearch(e.searchText)}),...this.addManagedListeners(r,{filterExpanded:t.onStateUpdated,groupExpanded:e=>{i.setExpandState(e.state),t.onStateUpdated()}}))}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}setFilterLayout(e){this.filtersToolPanelListPanel.setFiltersLayout(e)}expandFilterGroups(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)}collapseFilterGroups(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)}expandFilters(e){this.filtersToolPanelListPanel.expandFilters(!0,e)}collapseFilters(e){this.filtersToolPanelListPanel.expandFilters(!1,e)}syncLayoutWithGrid(){this.filtersToolPanelListPanel.syncFilterLayout()}refresh(e){return this.init(e),!0}getState(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()}},$M={moduleName:"FiltersToolPanel",version:ww,userComponents:{agFiltersToolPanel:KM},icons:{filtersToolPanel:"filter"},dependsOn:[rx,Sw,Fy.Tpu]},qM=class extends Fy.AS9{constructor(){super(...arguments),this.loadRowDataVersion=0}wireBeans(e){this.environment=e.environment}init(e,t){this.params=t,this.comp=e,null!=t.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.createDetailGrid(),this.loadRowData(),this.addManagedEventListeners({fullWidthRowFocused:this.onFullWidthRowFocused.bind(this)}))}onFullWidthRowFocused(e){const t=this.params,i={rowIndex:t.node.rowIndex,rowPinned:t.node.rowPinned},r={rowIndex:e.rowIndex,rowPinned:e.rowPinned};(0,Fy.ujL)(i,r)&&(0,Fy.exX)(this.comp.getGui(),e.fromBelow)}setAutoHeightClasses(){const e=this.gos.get("detailRowAutoHeight"),t=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",i=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height",r=this.comp;r.toggleCss(t,!0),r.toggleDetailGridCss(i,!0)}setupRefreshStrategy(){const e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&(0,Fy.F5b)(170,{providedStrategy:e}),this.refreshStrategy="rows")}createDetailGrid(){const{params:e,gos:t}=this;if((0,Fy.n92)(e.detailGridOptions))return void(0,Fy.F5b)(171);const i=t.get("theme"),r=e.detailGridOptions.theme;r&&r!==i&&(0,Fy.F5b)(267);const s={themeStyleContainer:this.environment.eStyleContainer,...e.detailGridOptions,theme:i};t.get("detailRowAutoHeight")&&(s.domLayout="autoHeight"),this.comp.setDetailGrid(s)}registerDetailWithMaster(e){const{params:t,beans:{selectionSvc:i,findSvc:r}}=this,s=t.node.id,a=t.api,o={id:s,api:e},n=t.node;if(a.isDestroyed())return;a.addDetailGridInfo(s,o),n.detailGridInfo=o;const l=n.parent;function c(){l&&i?.refreshMasterNodeState(l)}function d({node:r,source:s}){r!==l||"masterDetail"===s||e.isDestroyed()||i?.setDetailSelectionState(l,t.detailGridOptions,e)}r?.registerDetailGrid(n,e),e.addEventListener("firstDataRendered",(()=>{e.isDestroyed()||a.isDestroyed()||(i?.setDetailSelectionState(l,t.detailGridOptions,e),e.addEventListener("selectionChanged",c),a.addEventListener("rowSelected",d))})),this.addDestroyFunc((()=>{n.detailGridInfo===o&&(a.isDestroyed()||a.removeDetailGridInfo(s),n.detailGridInfo=null)}))}loadRowData(){this.loadRowDataVersion++;const e=this.loadRowDataVersion,t=this.params;if("serverSide"===t.detailGridOptions?.rowModelType){const e=t.node;return void e.detailGridInfo?.api?.refreshServerSide({purge:!0})}const i=t.getDetailRowData;i?i({node:t.node,data:t.node.data,successCallback:t=>{this.loadRowDataVersion===e&&this.comp.setRowData(t)},context:(0,Fy.OHk)(this.gos,{}).context}):(0,Fy.F5b)(172)}refresh(){switch(this.refreshStrategy){case"nothing":return!0;case"everything":return!1}return this.loadRowData(),!0}},YM=class{constructor(e){this.parentWrapper=e}wrap(e,t,i,r){return this.parentWrapper.wrap(e,t,i,r)}},XM={tag:"div",cls:"ag-details-row"},QM={tag:"div",cls:"ag-details-row",role:"gridcell",children:[{tag:"div",ref:"eDetailGrid",cls:"ag-details-grid",role:"presentation"}]},ZM=class extends Fy.wA2{constructor(){super(...arguments),this.eDetailGrid=Fy.CUI}wireBeans(e){this.context=e.context}init(e){this.params=e,this.selectAndSetTemplate();const t={toggleCss:(e,t)=>this.toggleCss(e,t),toggleDetailGridCss:(e,t)=>this.eDetailGrid.classList.toggle(e,t),setDetailGrid:e=>this.setDetailGrid(e),setRowData:e=>this.setRowData(e),getGui:()=>this.eDetailGrid};this.ctrl=this.createManagedBean(new qM),this.ctrl.init(t,e)}refresh(){return this.ctrl?.refresh()??!1}selectAndSetTemplate(){const e=this.params;if(e.pinned)return void this.setTemplate(XM);const t=()=>{this.setTemplate(QM)};if((0,Fy.n92)(e.template))t();else if("string"==typeof e.template)this.setTemplate(e.template,[]);else if("function"==typeof e.template){const t=(0,e.template)(e);this.setTemplate(t,[])}else(0,Fy.F5b)(168),t();null==this.eDetailGrid&&(0,Fy.F5b)(169)}setDetailGrid(e){if(!this.eDetailGrid)return;const t=this.context.getBean("frameworkCompWrapper"),i=new YM(t),{frameworkOverrides:r}=this.beans,s=(0,Fy.uIV)(this.eDetailGrid,e,{frameworkOverrides:r,providedBeanInstances:{frameworkCompWrapper:i},modules:(0,Fy.$4t)(this.params.api.getGridId(),e.rowModelType??"clientSide")});this.detailApi=s,this.ctrl?.registerDetailWithMaster(s),this.addDestroyFunc((()=>{s.destroy()}))}setRowData(e){this.detailApi?.setGridOption("rowData",e)}};function JM(e,t){const i=e.masterDetailSvc?.store;return i?t(i):void 0}var eT=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="masterDetailSvc",this.store={}}isEnabled(){const e=this.gos;return e.get("masterDetail")&&!e.get("treeData")}postConstruct(){(0,Fy.qYz)(this.gos)&&(this.enabled=this.isEnabled(),this.addManagedEventListeners({beforeRefreshModel:this.beforeRefreshModel.bind(this)}))}beforeRefreshModel({params:e}){if(e.changedProps){const e=this.isEnabled();if(this.enabled!==e)return void this.setMasters(null)}e.rowDataUpdated&&this.setMasters(e.changedRowNodes)}setMasters(e){const t=this.isEnabled();this.enabled=t;const i=this.gos,r=i.get("isRowMaster"),s=i.get("groupDefaultExpanded"),a=(e,i,a)=>{const o=e.master;let n=t;if(t)if(i||a){if(r){const t=e.data;n=!!t&&!!r(t)}}else n=o;if(n&&i)if(-1===s)e.expanded=!0;else{const t=this.beans.rowGroupColsSvc?.columns.length??0;e.expanded=t<s}else!n&&o&&(e.expanded=!1);n!==o&&(e.master=n,e.dispatchRowEvent("masterChanged"))};if(e){for(const t of e.updates)a(t,!1,!0);for(const t of e.adds)a(t,!0,!1)}else{const e=(0,Fy.V65)(this.beans)?.rootNode?.allLeafChildren;if(e)for(let t=0,i=e.length;t<i;++t)a(e[t],!0,!1)}}getDetail(e){if(!e.master||!e.expanded)return null;let t=e.detailNode;return t||(t=new Fy.Fxk(this.beans),t.detail=!0,t.selectable=!1,t.parent=e,(0,Fy.fTC)(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t)}setupDetailRowAutoHeight(e,t){const{gos:i,beans:r}=this;if(!i.get("detailRowAutoHeight"))return;const s=()=>{const r=t.clientHeight;if(null!=r&&r>0){const t=()=>{const{rowModel:t}=this.beans,{rowNode:s}=e;s.setRowHeight(r),((0,Fy.qYz)(i,t)||(0,Fy.jie)(i,t))&&t.onRowHeightChanged()};window.setTimeout(t,0)}},a=(0,Fy.OpL)(r,t,s);e.addDestroyFunc(a),s()}destroy(){this.store={},super.destroy()}},tT={moduleName:"SharedMasterDetail",version:ww,beans:[eT],userComponents:{agDetailCellRenderer:ZM},dynamicBeans:{detailCellRendererCtrl:qM},apiFunctions:{addDetailGridInfo:function(e,t,i){JM(e,(e=>{e[t]=i}))},removeDetailGridInfo:function(e,t){JM(e,(e=>{delete e[t]}))},getDetailGridInfo:function(e,t){return JM(e,(e=>e[t]))},forEachDetailGridInfo:function(e,t){JM(e,(e=>{let i=0;Object.values(e).forEach((e=>{e&&t(e,i++)}))}))}},dependsOn:[Sw,nM,dM],css:[".ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}"]},iT={moduleName:"MasterDetail",version:ww,dependsOn:[tT,cM,Fy.DiN]},rT=class extends Fy.wA2{constructor(){super(...arguments),this.changedCalculatedValues=!1,this.dragging=!1,this.shouldDestroyOnEndDragging=!1}postConstruct(){const{dragSvc:e,rangeSvc:t}=this.beans;e.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:e=>{this.dragging=!0,t.autoScrollService.check(e),this.changedCalculatedValues&&(this.onDrag(e),this.changedCalculatedValues=!1)},onDragStop:e=>{this.dragging=!1,this.onDragEnd(e),this.clearDragProperties(),this.shouldDestroyOnEndDragging&&this.destroy()},onDragCancel:()=>{this.dragging=!1,this.onDragCancel(),this.clearDragProperties()}}),this.addManagedElementListeners(this.getGui(),{mousedown:this.preventRangeExtension.bind(this)})}getLastCellHovered(){return this.lastCellHovered}preventRangeExtension(e){e.stopPropagation()}onDragStart(e){[this.cellHoverListener]=this.addManagedElementListeners(this.beans.ctrlsSvc.get("gridCtrl").getGui(),{mousemove:this.updateValuesOnMove.bind(this)}),document.body.classList.add(this.getDraggingCssClass())}getDraggingCssClass(){return`ag-dragging-${0===this.type?"fill":"range"}-handle`}updateValuesOnMove(e){const t=(0,Fy.dsR)(this.gos,e);!t||this.shouldSkipCell(t)||this.lastCellHovered&&(0,Fy.xEM)(t,this.lastCellHovered)||(this.lastCellHovered=t,this.changedCalculatedValues=!0)}clearDragProperties(){this.clearValues(),this.beans.rangeSvc.autoScrollService.ensureCleared(),document.body.classList.remove(this.getDraggingCssClass())}getType(){return this.type}refresh(e){const t=this.cellCtrl,i=this.getGui(),r=(0,Fy._O9)(this.beans.rangeSvc.getCellRanges()),s=r.startRow,a=r.endRow;if(s&&a&&((0,Fy.ud3)(a,s)?(this.rangeStartRow=a,this.rangeEndRow=s):(this.rangeStartRow=s,this.rangeEndRow=a)),t!==e||!(0,Fy.Y4l)(i)){this.cellCtrl=e;const t=e.comp.getParentOfValue();t&&t.appendChild(i)}this.cellRange=r}clearValues(){this.lastCellHovered=void 0,this.removeListeners()}removeListeners(){const e=this.cellHoverListener;e&&(e(),this.cellHoverListener=void 0)}destroy(){if(!this.shouldDestroyOnEndDragging&&this.dragging)return(0,Fy.DIH)(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,super.destroy(),this.removeListeners();const e=this.getGui();e.parentElement?.removeChild(e)}};function sT(e){const t=e.length;let i=0;if(t<=1)return e;for(let t=0;t<e.length;t++){const r=e[t],s=r.toString().split("e-");s.length>1?i=Math.max(i,parseInt(s[1],10)):Math.floor(r)!==r&&(i=Math.max(i,r.toString().split(".")[1].length))}let r=0,s=0,a=0,o=0,n=0;for(let i=0;i<t;i++)n=e[i],r+=i,s+=n,o+=i*i,a+=i*n;const l=(t*a-r*s)/(t*o-r*r),c=s/t-l*r/t,d=[];for(let e=0;e<=t;e++)d.push(parseFloat((e*l+c).toFixed(i)));return d}var aT={tag:"div",cls:"ag-fill-handle"};function oT(e){e.rangeSvc?.removeAllCellRanges()}var nT="ag-cell-range-selected";function lT(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&"fill"===t.handle?.mode:e.get("enableFillHandle")}var cT=class{constructor(e,t){this.beans=e,this.cellCtrl=t,this.rangeSvc=e.rangeSvc}setComp(e){this.cellComp=e,this.eGui=this.cellCtrl.eGui,this.onCellSelectionChanged()}onCellSelectionChanged(){const e=this.cellComp;if(!e)return;const{rangeSvc:t,cellCtrl:i,eGui:r}=this,s=t.getCellRangeCount(i.cellPosition);this.rangeCount=s;const a=this.getHasChartRange();this.hasChartRange=a,e.toggleCss(nT,0!==s),e.toggleCss(`${nT}-1`,1===s),e.toggleCss(`${nT}-2`,2===s),e.toggleCss(`${nT}-3`,3===s),e.toggleCss(`${nT}-4`,s>=4),e.toggleCss("ag-cell-range-chart",a),(0,Fy.N41)(r,s>0||void 0),e.toggleCss("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle()}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,r=!t&&e.right,s=!t&&e.bottom,a=!t&&e.left,o=this.cellComp;o.toggleCss("ag-cell-range-top",i),o.toggleCss("ag-cell-range-right",r),o.toggleCss("ag-cell-range-bottom",s),o.toggleCss("ag-cell-range-left",a)}isSingleCell(){const{rangeSvc:e}=this;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeSvc:e}=this;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every((e=>[Fy.StC.DIMENSION,Fy.StC.VALUE].includes(e.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,r=!1,s=!1;const{rangeSvc:a,beans:{visibleCols:o},cellCtrl:{cellPosition:n}}=this,l=n.column,c=a.getCellRanges().filter((e=>a.isCellInSpecificRange(n,e)));if(!c.length)return{top:t,right:i,bottom:r,left:s};let d,u;e?(d=o.getColAfter(l),u=o.getColBefore(l)):(d=o.getColBefore(l),u=o.getColAfter(l)),d||(s=!0),u||(i=!0);for(let e=0;e<c.length&&!(t&&i&&r&&s);e++){const o=c[e],l=a.getRangeStartRow(o),p=a.getRangeEndRow(o);!t&&(0,Fy.ujL)(l,n)&&(t=!0),!r&&(0,Fy.ujL)(p,n)&&(r=!0),!s&&d&&o.columns.indexOf(d)<0&&(s=!0),!i&&u&&o.columns.indexOf(u)<0&&(i=!0)}return{top:t,right:i,bottom:r,left:s}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.toggleCss("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeSvc,i=t.getCellRanges(),r=i.length;if(this.rangeCount<1||r<1)return!1;const s=(0,Fy._O9)(i),{cellPosition:a}=this.cellCtrl,o=lT(e)&&!this.cellCtrl.column.isSuppressFillHandle(),n=function(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!=typeof t&&"range"===t.handle?.mode:e.get("enableRangeHandle")}(e);let l=1===r&&!this.cellCtrl.editing&&(o||n);if(this.hasChartRange){const e=i[0].type===Fy.StC.DIMENSION&&t.isCellInSpecificRange(a,i[0]);this.cellComp.toggleCss("ag-cell-range-chart-category",e),l=s.type===Fy.StC.VALUE}return l&&null!=s.endRow&&t.isContiguousRange(s)&&t.isBottomRightCell(s,a)}addSelectionHandle(){const{beans:e,rangeSvc:t}=this,i=(0,Fy._O9)(t.getCellRanges()).type,r=lT(e.gos)&&(0,Fy.n92)(i)?0:1;if(this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=e.context.destroyBean(this.selectionHandle)),!this.selectionHandle){const t=e.registry.createDynamicBean(0===r?"fillHandle":"rangeHandle",!1);t&&(this.selectionHandle=e.context.createBean(t))}this.selectionHandle?.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},dT=class extends Fy.AS9{constructor(e){super(),this.eContainer=e}postConstruct(){const{beans:e,gos:t,eContainer:i}=this,r=e.rangeSvc,s={eElement:i,onDragStart:r.onDragStart.bind(r),onDragStop:r.onDragStop.bind(r),onDragging:r.onDragging.bind(r)},a=e.dragSvc,o=a.addDragSource.bind(a,s),n=a.removeDragSource.bind(a,s);this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{(0,Fy.Pyn)(t)?o():n()})),this.addDestroyFunc(n),(0,Fy.Pyn)(t)&&o()}},uT=class extends Fy.AS9{constructor(e,t){super(),this.column=e,this.comp=t,this.columnMap=new Map,this.isActive=!1,this.resetColumnMap()}postConstruct(){this.addManagedPropertyListener("cellSelection",(()=>{this.refreshActive()})),this.refreshActive(),this.setupRangeHeaderHighlight()}resetColumnMap(){let e;this.columnMap.clear(),e=this.column.isColumn?[this.column]:this.column.getDisplayedLeafColumns();for(const t of e)this.columnMap.set(t,!1)}refreshActive(){const{gos:e,rangeSvc:t}=this.beans,i=e.get("cellSelection");this.isActive=!!(i&&t&&"object"==typeof i&&i.enableHeaderHighlight)}setupRangeHeaderHighlight(){const e=this.onRangeSelectionChanged.bind(this);this.addManagedEventListeners({rangeSelectionChanged:e,columnPinned:e,columnMoved:e,columnGroupOpened:e}),e()}onRangeSelectionChanged(){if(!this.isActive)return;this.resetColumnMap();const e=this.beans.rangeSvc.getCellRanges();let t=!1,i=!0;for(const i of e){if(t)break;for(const e of i.columns)this.columnMap.has(e)&&(this.columnMap.set(e,!0),t||(t=!0))}for(const e of Array.from(this.columnMap.values()))if(!1===e){i=!1;break}this.comp.toggleCss("ag-header-range-highlight",t&&i)}destroy(){super.destroy(),this.comp=null,this.column=null}},pT=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="rangeSvc",this.cellRanges=[],this.bodyScrollListener=this.onBodyScroll.bind(this),this.dragging=!1,this.intersectionRange=!1}wireBeans(e){this.rowModel=e.rowModel,this.dragSvc=e.dragSvc,this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.cellNavigation=e.cellNavigation,this.ctrlsSvc=e.ctrlsSvc,this.valueSvc=e.valueSvc}postConstruct(){const e=this.onColumnsChanged.bind(this),t=()=>this.removeAllCellRanges(),i=this.refreshLastRangeStart.bind(this);this.addManagedEventListeners({newColumnsLoaded:e,columnVisible:e,columnValueChanged:e,columnPivotModeChanged:t,columnRowGroupChanged:t,columnPivotChanged:t,columnGroupOpened:i,columnMoved:i,columnPinned:i}),this.ctrlsSvc.whenReady(this,(e=>{const t=e.gridBodyCtrl;this.autoScrollService=new Fy.Cvn({scrollContainer:t.eBodyViewport,scrollAxis:"xy",getVerticalPosition:()=>t.scrollFeature.getVScrollPosition().top,setVerticalPosition:e=>t.scrollFeature.setVerticalScrollPosition(e),getHorizontalPosition:()=>t.scrollFeature.getHScrollPosition().left,setHorizontalPosition:e=>t.scrollFeature.setHorizontalScrollPosition(e),shouldSkipVerticalScroll:()=>!(0,Fy.Na_)(this.gos,"normal"),shouldSkipHorizontalScroll:()=>!t.scrollFeature.isHorizontalScrollShowing()})}))}onDragStart(e){if(!(0,Fy.Pyn)(this.gos))return;const{ctrlKey:t,metaKey:i,shiftKey:r}=e,s=t||i,a=!(0,Fy.FK9)(this.gos)&&s,o=r&&!!this.cellRanges?.length;a||o&&!(0,Fy.fTC)((0,Fy._O9)(this.cellRanges).type)||this.removeAllCellRanges(!0);const n=this.dragSvc.startTarget;if(n&&this.updateValuesOnMove(n),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=a&&this.getCellRangeCount(this.lastCellHovered)>1,o||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=(0,Fy._O9)(this.cellRanges);else{const e={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned},t=this.getColumnsFromModel([this.lastCellHovered.column]);if(!t||!t.length)return;this.draggingRange={startRow:e,endRow:e,columns:t,startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.addEventListener("scroll",this.bodyScrollListener,{passive:!0}),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}onDragging(e){const{dragging:t,lastCellHovered:i,newestRangeStartCell:r,autoScrollService:s,cellHasChanged:a}=this;if(!t||!e)return;this.updateValuesOnMove(e.target),this.lastMouseEvent=e;const o=e=>i&&i.rowPinned===e&&r.rowPinned===e,n=o("top")||o("bottom");if(s.check(e,n),!a||!i)return;const l=r?.column,c=i?.column,d=this.calculateColumnsBetween(l,c);if(!d)return;const{rowIndex:u,rowPinned:p}=i;this.draggingRange.endRow={rowIndex:u,rowPinned:p},this.draggingRange.columns=d,this.dispatchChangedEvent(!1,!1,this.draggingRange.id)}onDragStop(){if(!this.dragging)return;const{id:e}=this.draggingRange;this.autoScrollService.ensureCleared(),this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.removeEventListener("scroll",this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}onColumnsChanged(){this.refreshLastRangeStart();const e=this.visibleCols.allCols;this.cellRanges.forEach((t=>{const i=t.columns;t.columns=t.columns.filter((t=>t.isVisible()&&-1!==e.indexOf(t))),!(0,Fy.Vgs)(i,t.columns)&&this.dispatchChangedEvent(!1,!0,t.id)}));const t=this.cellRanges.length;this.cellRanges=this.cellRanges.filter((e=>e.columns.length>0)),t>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)}refreshLastRangeStart(){const e=(0,Fy._O9)(this.cellRanges);e&&this.refreshRangeStart(e)}isContiguousRange(e){const t=e.columns;if(!t.length)return!1;const i=this.visibleCols.allCols,r=t.map((e=>i.indexOf(e))).sort(((e,t)=>e-t));return(0,Fy._O9)(r)-r[0]+1===t.length}getRangeStartRow(e){return e.startRow&&e.endRow?(0,Fy.ud3)(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:(this.beans.pinnedRowModel?.getPinnedTopRowCount()??0)>0?"top":null}}getRangeEndRow(e){if(e.startRow&&e.endRow)return(0,Fy.ud3)(e.startRow,e.endRow)?e.endRow:e.startRow;const t=this.beans.pinnedRowModel?.getPinnedBottomRowCount()??0;return t>0?{rowIndex:t-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}}setRangeToCell(e,t=!1){const{gos:i}=this;if(!(0,Fy.Pyn)(i))return;const r=i.get("rowNumbers"),s=(0,Fy.CAR)(e.column);r&&this.setSelectionMode(s);const a=this.calculateColumnsBetween(e.column,e.column);if(!a)return;((0,Fy.FK9)(this.gos)||!t||(0,Fy.n92)(this.cellRanges))&&this.removeAllCellRanges(!0);const o={rowIndex:e.rowIndex,rowPinned:e.rowPinned},n={startRow:o,endRow:o,columns:a,startColumn:e.column};this.cellRanges.push(n),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}extendLatestRangeToCell(e){if(this.isEmpty()||!this.newestRangeStartCell)return;const t=(0,Fy._O9)(this.cellRanges);this.setSelectionMode((0,Fy.CAR)(e.column)),this.updateRangeEnd(t,e)}updateRangeEnd(e,t,i=!1){const r=t.column,s=this.calculateColumnsBetween(e.startColumn,r);s&&!this.isLastCellOfRange(e,t)&&(e.columns=s,e.endRow={rowIndex:t.rowIndex,rowPinned:t.rowPinned},i||this.dispatchChangedEvent(!0,!0,e.id))}getRangeEdgeColumns(e){const t=this.visibleCols.allCols,i=e.columns.map((e=>t.indexOf(e))).filter((e=>e>-1)).sort(((e,t)=>e-t));return{left:t[i[0]],right:t[(0,Fy._O9)(i)]}}extendLatestRangeInDirection(e){if(this.isEmpty()||!this.newestRangeStartCell)return;const t=e.key,i=e.ctrlKey||e.metaKey,r=(0,Fy._O9)(this.cellRanges),s=this.newestRangeStartCell,a=r.columns[0],o=(0,Fy._O9)(r.columns),n=r.endRow.rowIndex,l=r.endRow.rowPinned,c={column:s.column===a?o:a,rowIndex:n,rowPinned:l},d=this.cellNavigation.getNextCellToFocus(t,c,i);return d?(this.setCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:d.rowIndex,rowEndPinned:d.rowPinned,columnStart:s.column,columnEnd:d.column}),d):void 0}setCellRange(e){(0,Fy.Pyn)(this.gos)&&(this.removeAllCellRanges(!0),this.addCellRange(e))}setCellRanges(e){if(!(0,Fy.Vgs)(this.cellRanges,e)&&this.verifyCellRanges(this.gos)){this.removeAllCellRanges(!0);for(const t of e){if(t.columns&&t.startRow){const e=this.getColumnsFromModel(t.columns);if(!e||0===e.length)continue;t.columns=e;const{startRow:i}=t;this.setNewestRangeStartCell({rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:t.columns[0]})}this.cellRanges.push(t)}this.dispatchChangedEvent(!1,!0)}}clearCellRangeCellValues(e){const{beans:t,valueSvc:i,eventSvc:r}=this,{cellEventSource:s="rangeSvc",dispatchWrapperEvents:a,wrapperEventSource:o="deleteKey"}=e;let{cellRanges:n}=e;a&&(r.dispatchEvent({type:"cellSelectionDeleteStart",source:o}),r.dispatchEvent({type:"rangeDeleteStart",source:o})),n||(n=this.cellRanges),n.forEach((e=>{this.forEachRowInRange(e,(r=>{const a=(0,Fy.vas)(t,r);if(a)for(let t=0;t<e.columns.length;t++){const r=this.getColumnFromModel(e.columns[t]);if(!r||!r.isCellEditable(a))continue;const o=i.getDeleteValue(r,a);a.setDataValue(r,o,s)}}))})),a&&(r.dispatchEvent({type:"cellSelectionDeleteEnd",source:o}),r.dispatchEvent({type:"rangeDeleteEnd",source:o}))}createCellRangeFromCellRangeParams(e){return this.createPartialCellRangeFromRangeParams(e,!1)}createPartialCellRangeFromRangeParams(e,t){const{columns:i,columnStart:r,columnEnd:s,rowStartIndex:a,rowStartPinned:o,rowEndIndex:n,rowEndPinned:l}=e,c=this.getColumnsFromParams(i,r,s);if(!c||!t&&0===c.columns.length)return;const{columns:d,startsOnTheRight:u}=c;return{startRow:this.createRowPosition(a,o),endRow:this.createRowPosition(n,l),columns:d,startColumn:this.getColumnFromModel(r)??(u?(0,Fy._O9)(d):d[0])}}addCellRange(e){const t=this.gos;if(!(0,Fy.Pyn)(t)||!this.verifyCellRanges(t))return;this.setSelectionMode(!1);const i=this.createCellRangeFromCellRangeParams(e);i&&(i.startRow&&this.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.startColumn}),this.cellRanges.push(i),this.dispatchChangedEvent(!1,!0,i.id))}getCellRanges(){return this.cellRanges}isEmpty(){return 0===this.cellRanges.length}isMoreThanOneCell(){const e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;const t=this.cellRanges[0],i=this.getRangeStartRow(t),r=this.getRangeEndRow(t);return i.rowPinned!==r.rowPinned||i.rowIndex!==r.rowIndex||1!==t.columns.length}areAllRangesAbleToMerge(){const e=new Map;if(this.cellRanges.length<=1)return!0;let t;this.cellRanges.forEach((t=>{this.forEachRowInRange(t,(i=>{const r=`${i.rowPinned||"normal"}_${i.rowIndex}`,s=e.get(r),a=t.columns.map((e=>e.getId()));if(s){const e=a.filter((e=>-1===s.indexOf(e)));s.push(...e)}else e.set(r,a)}))}));for(const i of e.values()){const e=i.sort().join();if(void 0!==t){if(t!==e)return!1}else t=e}return!0}removeAllCellRanges(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))}isCellInAnyRange(e){return this.getCellRangeCount(e)>0}isCellInSpecificRange(e,t){const i=null!==t.columns&&t.columns.includes(e.column),r=this.isRowInRange(e.rowIndex,e.rowPinned,t);return i&&r}isBottomRightCell(e,t){const i=this.visibleCols.allCols,r=e.columns.map((e=>i.indexOf(e))).sort(((e,t)=>e-t)),{startRow:s,endRow:a}=e,o=(0,Fy.ud3)(s,a)?a:s,n=i.indexOf(t.column)===(0,Fy._O9)(r),l=t.rowIndex===o.rowIndex&&(0,Fy.wa4)(t.rowPinned)===(0,Fy.wa4)(o.rowPinned);return n&&l}getCellRangeCount(e){return this.isEmpty()?0:this.cellRanges.filter((t=>this.isCellInSpecificRange(e,t))).length}isRowInRange(e,t,i){const r=this.getRangeStartRow(i),s=this.getRangeEndRow(i),a={rowIndex:e,rowPinned:t||null},o=a.rowIndex===r.rowIndex&&a.rowPinned==r.rowPinned,n=a.rowIndex===s.rowIndex&&a.rowPinned==s.rowPinned;if(o||n)return!0;const l=!(0,Fy.ud3)(a,r),c=(0,Fy.ud3)(a,s);return l&&c}intersectLastRange(e){if(e&&this.dragging)return;if((0,Fy.FK9)(this.gos))return;if(this.isEmpty())return;const t=(0,Fy._O9)(this.cellRanges),i=this.getRangeStartRow(t),r=this.getRangeEndRow(t),s=[];this.cellRanges.slice(0,-1).forEach((e=>{const a=this.getRangeStartRow(e),o=this.getRangeEndRow(e),n=e.columns,l=n.filter((e=>-1===t.columns.indexOf(e)));if(l.length===n.length)return void s.push(e);if((0,Fy.ud3)(r,a)||(0,Fy.ud3)(o,i))return void s.push(e);const c=s.length;if((0,Fy.ud3)(a,i)){const e={columns:[...n],startColumn:t.startColumn,startRow:{...a},endRow:(0,Fy.BHt)(this.beans,i)};s.push(e)}if(l.length>0){const e={columns:l,startColumn:l.includes(t.startColumn)?t.startColumn:l[0],startRow:this.rowMax([{...i},{...a}]),endRow:this.rowMin([{...r},{...o}])};s.push(e)}(0,Fy.ud3)(r,o)&&s.push({columns:[...n],startColumn:t.startColumn,startRow:(0,Fy.okx)(this.beans,r),endRow:{...o}}),s.length-c==1&&(s[s.length-1].id=e.id)})),this.cellRanges=s,e&&this.dispatchChangedEvent(!1,!0)}createRangeHighlightFeature(e,t,i){e.createManagedBean(new uT(t,i))}setSelectionMode(e){this.selectionMode=e?1:0}refreshRangeStart(e){const{startColumn:t,columns:i}=e,r=(t,i)=>{const r=e.columns.filter((e=>e!==t));t?(e.startColumn=t,e.columns=i?[t,...r]:[...r,t]):e.columns=r},{left:s,right:a}=this.getRangeEdgeColumns(e);t!==i[0]||t===s?t===(0,Fy._O9)(i)&&t===a&&r(a,!1):r(s,!0)}setNewestRangeStartCell(e){this.newestRangeStartCell=e}getColumnsFromParams(e,t,i){const r=!e&&!t&&!i;let s,a=!1;return r||e?s=this.getColumnsFromModel(r?void 0:e):t&&i&&(s=this.calculateColumnsBetween(t,i),s&&s.length&&(a=s[0]!==this.getColumnFromModel(t))),s?{columns:s,startsOnTheRight:a}:void 0}createRowPosition(e,t){return null!=e?{rowIndex:e,rowPinned:t}:void 0}verifyCellRanges(e){const t=(0,Fy.I5E)(e)&&(0,Fy.FK9)(e)&&this.cellRanges.length>1;return t&&(0,Fy.F5b)(93),!t}forEachRowInRange(e,t){const i=this.getRangeStartRow(e),r=this.getRangeEndRow(e);let s=i;for(;s&&(t(s),!(0,Fy.ujL)(s,r));)s=(0,Fy.okx)(this.beans,s)}onBodyScroll(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)}isLastCellOfRange(e,t){const{startRow:i,endRow:r}=e,s=(0,Fy.ud3)(i,r)?r:i,a=t.rowIndex===s.rowIndex&&t.rowPinned===s.rowPinned,o=e.columns[0],n=(0,Fy._O9)(e.columns),l=e.startColumn===o?n:o;return t.column===l&&a}rowMax(e){let t;return e.forEach((e=>{(void 0===t||(0,Fy.ud3)(t,e))&&(t=e)})),t}rowMin(e){let t;return e.forEach((e=>{(void 0===t||(0,Fy.ud3)(e,t))&&(t=e)})),t}updateValuesOnMove(e){const t=(0,Fy.xbw)(this.gos,e),i=t?.cellPosition;this.cellHasChanged=!1,!i||this.lastCellHovered&&(0,Fy.xEM)(i,this.lastCellHovered)||(t?.editing?this.dragSvc.cancelDrag(e):(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=i))}shouldSkipCurrentColumn(e){return(0,Fy.CAR)(e)}dispatchChangedEvent(e,t,i){this.eventSvc.dispatchEvent({type:"cellSelectionChanged",started:e,finished:t,id:i}),this.eventSvc.dispatchEvent({type:"rangeSelectionChanged",started:e,finished:t,id:i})}getColumnFromModel(e){return"string"==typeof e?this.colModel.getCol(e):e}getColumnsFromModel(e){const{gos:t,visibleCols:i}=this,r=t.get("rowNumbers");e&&1!==this.selectionMode||(e=i.allCols);const s=[];for(const t of e){const e=this.getColumnFromModel(t);!e||r&&this.shouldSkipCurrentColumn(e)||s.push(e)}return s.length?s:void 0}calculateColumnsBetween(e,t){const i=this.visibleCols.allCols,r=this.getColumnFromModel(e),s=this.getColumnFromModel(t),a=r===s,o=i.indexOf(r);if(o<0)return void(0,Fy.F5b)(178,{colId:r.getId()});const n=a?o:i.indexOf(s);if(n<0)return void(0,Fy.F5b)(178,{colId:s.getId()});if(a||1===this.selectionMode)return this.getColumnsFromModel([r]);const l=Math.min(o,n),c=l===o?n:o,d=[];for(let e=l;e<=c;e++)d.push(i[e]);return this.getColumnsFromModel(d)}createDragListenerFeature(e){return new dT(e)}createCellRangeFeature(e,t){return new cT(e,t)}},hT={moduleName:"CellSelection",version:ww,beans:[pT],dynamicBeans:{fillHandle:class extends rT{constructor(){super(aT),this.markedCells=[],this.cellValues=[],this.isUp=!1,this.isLeft=!1,this.isReduce=!1,this.type=0}updateValuesOnMove(e){super.updateValuesOnMove(e),this.initialXY||(this.initialXY=(0,Fy.BYW)(this.beans,e));const{x:t,y:i}=this.initialXY,{x:r,y:s}=(0,Fy.BYW)(this.beans,e),a=Math.abs(t-r),o=Math.abs(i-s),n=this.getFillHandleDirection();let l;l="xy"===n?a>o?"x":"y":n,l!==this.dragAxis&&(this.dragAxis=l,this.changedCalculatedValues=!0)}shouldSkipCell(e){return(0,Fy.CAR)(e.column)}onDrag(e){if(!this.initialPosition){const e=this.cellCtrl;if(!e)return;this.initialPosition=e.cellPosition}const t=this.getLastCellHovered();t&&this.markPathFrom(this.initialPosition,t)}onDragEnd(e){if(this.initialXY=null,!this.markedCells.length)return;const t="x"===this.dragAxis,{cellRange:i,rangeStartRow:r,rangeEndRow:s,beans:a}=this,o=i.columns.length;let n;const{rangeSvc:l,eventSvc:c}=a;if(this.isUp||this.isLeft){const e=t?r:this.lastCellMarked;n=l.createCellRangeFromCellRangeParams({rowStartIndex:e.rowIndex,rowStartPinned:e.rowPinned,columnStart:t?this.lastCellMarked.column:i.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:i.columns[o-1]})}else n=l.createCellRangeFromCellRangeParams({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,columnStart:i.columns[0],rowEndIndex:t?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:t?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:t?this.lastCellMarked.column:i.columns[o-1]});n&&(c.dispatchEvent({type:"fillStart"}),this.handleValueChanged(i,n,e),l.setCellRanges([n]),c.dispatchEvent({type:"fillEnd",initialRange:i,finalRange:n}))}onDragCancel(){this.initialXY=null,this.markedCells.length&&this.clearMarkedPath()}getFillHandleDirection(){const e=(0,Fy.aRn)(this.gos)?.direction;return e?"x"!==e&&"y"!==e&&"xy"!==e?((0,Fy.F5b)(177),"xy"):e:"xy"}handleValueChanged(e,t,i){const{beans:r}=this,{rangeSvc:s,gos:a,valueSvc:o}=r,n=s.getRangeEndRow(e),l=s.getRangeStartRow(e),c=s.getRangeEndRow(t),d=s.getRangeStartRow(t),u="y"===this.dragAxis;if(this.isReduce&&!(0,Fy.aRn)(a)?.suppressClearOnFillReduction){const i=u?e.columns:e.columns.filter((e=>t.columns.indexOf(e)<0)),s=u?(0,Fy.okx)(r,c):d;return void(s&&this.clearCellsInRange(s,n,i))}const p=[],h=[],m=[],g=[];let b=!0,f=0;const v=()=>{p.length=0,h.length=0,m.length=0,g.length=0,f=0},y=(t,i)=>{let s=this.isUp?n:l,a=!1;for(u&&(b=!0,v());!a&&s;){const o=(0,Fy.vas)(r,s);if(!o)break;u&&t?C(p,t,o,(()=>!(0,Fy.ujL)(s,this.isUp?l:n))):i&&(b=!0,v(),i.forEach((t=>C(p,t,o,(()=>t!==(this.isLeft?e.columns[0]:(0,Fy._O9)(e.columns))))))),a=(0,Fy.ujL)(s,this.isUp?d:c),s=this.isUp?(0,Fy.BHt)(this.beans,s):(0,Fy.okx)(r,s)}},C=(e,t,r,s)=>{let a,n=!1;if(b)a=o.getValue(t,r),h.push(a),m.push(o.getValue(t,r,!0)),g.push(o.formatValue(t,r,a)),b=s();else{const{value:s,fromUserFunction:l,sourceCol:c,sourceRowNode:d}=this.processValues({event:i,values:e,initialValues:h,initialNonAggregatedValues:m,initialFormattedValues:g,col:t,rowNode:r,idx:f++});if(a=s,t.isCellEditable(r)){const e=o.getValue(t,r);if(!l){if(c){const e=c.getColDef();if(!1!==e.useValueFormatterForExport&&e.valueFormatter){const e=o.formatValue(c,d,a);null!=e&&(a=e)}}!1!==t.getColDef().useValueParserForImport&&(a=o.parseValue(t,r,c?a:(0,Fy.fGY)(a),e))}l&&e===a?n=!0:r.setDataValue(t,a,"rangeSvc")}}n||e.push({value:a,column:t,rowNode:r})};if(u)e.columns.forEach((e=>{y(e)}));else{const e=this.isLeft?[...t.columns].reverse():t.columns;y(void 0,e)}}clearCellsInRange(e,t,i){const r={startRow:e,endRow:t,columns:i,startColumn:i[0]};this.beans.rangeSvc.clearCellRangeCellValues({cellRanges:[r]})}processValues(e){const{event:t,values:i,initialValues:r,initialNonAggregatedValues:s,initialFormattedValues:a,col:o,rowNode:n,idx:l}=e,c=(0,Fy.aRn)(this.gos)?.setFillValue;let d;if(d="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",c){const e=c((0,Fy.OHk)(this.gos,{event:t,values:i.map((({value:e})=>e)),initialValues:r,initialNonAggregatedValues:s,initialFormattedValues:a,currentIndex:l,currentCellValue:this.beans.valueSvc.getValue(o,n),direction:d,column:o,rowNode:n}));if(!1!==e)return{value:e,fromUserFunction:!0}}const u=!i.some((({value:e})=>{const t=parseFloat(e);return isNaN(t)||t.toString()!==e.toString()}));if(t.altKey||!u){if(u&&1===r.length){const e=this.isUp||this.isLeft?-1:1;return{value:parseFloat((0,Fy._O9)(i).value)+1*e,fromUserFunction:!1}}const{value:e,column:t,rowNode:s}=i[l%i.length];return{value:e,fromUserFunction:!1,sourceCol:t,sourceRowNode:s}}return{value:(0,Fy._O9)(sT(i.map((({value:e})=>Number(e))))),fromUserFunction:!1}}clearValues(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,super.clearValues()}clearMarkedPath(){this.markedCells.forEach((e=>{if(!e.isAlive())return;const{comp:t}=e;t.toggleCss("ag-selection-fill-top",!1),t.toggleCss("ag-selection-fill-right",!1),t.toggleCss("ag-selection-fill-bottom",!1),t.toggleCss("ag-selection-fill-left",!1)})),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1}clearCellValues(){this.cellValues.length=0}markPathFrom(e,t){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if((0,Fy.ujL)(t,e))return;const i=(0,Fy.ud3)(t,e),{rangeStartRow:r,rangeEndRow:s}=this;i&&(t.rowPinned==r.rowPinned&&t.rowIndex>=r.rowIndex||r.rowPinned!=s.rowPinned&&t.rowPinned==s.rowPinned&&t.rowIndex<=s.rowIndex)?(this.reduceVertical(e,t),this.isReduce=!0):(this.extendVertical(e,t,i),this.isReduce=!1)}else{const i=e.column,r=t.column;if(i===r)return;const s=this.beans.visibleCols.allCols,a=s.indexOf(i),o=s.indexOf(r);o<=a&&o>=s.indexOf(this.cellRange.columns[0])?(this.reduceHorizontal(e,t),this.isReduce=!0):(this.extendHorizontal(e,t,o<a),this.isReduce=!1)}this.lastCellMarked=t}extendVertical(e,t,i){const r=this.beans,{rangeSvc:s}=r;let a=e;do{const o=this.cellRange,n=o.columns.length;for(let l=0;l<n;l++){const c=o.columns[l],d={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:c},u=s.isCellInSpecificRange(d,o),p=(0,Fy.ujL)(a,e);if(i&&(this.isUp=!0),!p){const e=(0,Fy.JTN)(r,d);if(e){this.markedCells.push(e);const r=e.comp;u||(r.toggleCss("ag-selection-fill-left",0===l),r.toggleCss("ag-selection-fill-right",l===n-1)),r.toggleCss(i?"ag-selection-fill-top":"ag-selection-fill-bottom",(0,Fy.ujL)(a,t))}}}if((0,Fy.ujL)(a,t))break}while(a=i?(0,Fy.BHt)(this.beans,a):(0,Fy.okx)(r,a))}reduceVertical(e,t){let i=e;const r=this.beans;do{const e=this.cellRange,s=e.columns.length,a=(0,Fy.ujL)(i,t);for(let a=0;a<s;a++){const s={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:e.columns[a]},o=(0,Fy.JTN)(r,s);o&&(this.markedCells.push(o),o.comp.toggleCss("ag-selection-fill-bottom",(0,Fy.ujL)(i,t)))}if(a)break}while(i=(0,Fy.BHt)(r,i))}extendHorizontal(e,t,i){const r=this.beans,{visibleCols:s}=r,a=s.allCols,o=a.indexOf(i?t.column:e.column),n=a.indexOf(i?this.cellRange.columns[0]:t.column),l=i?0:1,c=a.slice(o+l,n+l),{rangeStartRow:d,rangeEndRow:u}=this;c.forEach((e=>{let t=d,s=!1;do{s=(0,Fy.ujL)(t,u);const a=(0,Fy.JTN)(r,{rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(a){this.markedCells.push(a);const r=a.comp;r.toggleCss("ag-selection-fill-top",(0,Fy.ujL)(t,d)),r.toggleCss("ag-selection-fill-bottom",(0,Fy.ujL)(t,u)),i?(this.isLeft=!0,r.toggleCss("ag-selection-fill-left",e===c[0])):r.toggleCss("ag-selection-fill-right",e===(0,Fy._O9)(c))}t=(0,Fy.okx)(r,t)}while(!s)}))}reduceHorizontal(e,t){const i=this.beans,{visibleCols:r}=i,s=r.allCols,a=s.indexOf(t.column),o=s.indexOf(e.column),n=s.slice(a,o),{rangeStartRow:l,rangeEndRow:c}=this;n.forEach((e=>{let t=l,r=!1;do{r=(0,Fy.ujL)(t,c);const s=(0,Fy.JTN)(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});s&&(this.markedCells.push(s),s.comp.toggleCss("ag-selection-fill-right",e===n[0])),t=(0,Fy.okx)(i,t)}while(!r)}))}refresh(e){const t=this.beans.rangeSvc.getCellRanges()[0];t.startRow&&t.endRow?super.refresh(e):this.destroy()}},rangeHandle:class extends rT{constructor(){super({tag:"div",cls:"ag-range-handle"}),this.type=1,this.rangeFixed=!1}onDrag(e){const t=this.getLastCellHovered();if(!t)return;const i=this.beans.rangeSvc,r=i.getCellRanges(),s=(0,Fy._O9)(r);this.rangeFixed||(this.fixRangeStartEnd(s),this.rangeFixed=!0),this.endPosition={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column},2===r.length&&r[0].type===Fy.StC.DIMENSION&&s.type===Fy.StC.VALUE&&!(0,Fy.ujL)(this.endPosition,i.getRangeEndRow(s))&&i.updateRangeEnd(r[0],{...this.endPosition,column:r[0].columns[0]},!0),i.extendLatestRangeToCell(this.endPosition)}shouldSkipCell(e){return!1}onDragEnd(e){const t=(0,Fy._O9)(this.beans.rangeSvc.getCellRanges());this.fixRangeStartEnd(t),this.rangeFixed=!1}onDragCancel(){this.rangeFixed=!1}fixRangeStartEnd(e){const t=this.beans.rangeSvc,i=t.getRangeStartRow(e),r=t.getRangeEndRow(e),s=e.columns[0];e.startRow=i,e.endRow=r,e.startColumn=s}}},apiFunctions:{getCellRanges:function(e){return e.rangeSvc?.getCellRanges()??null},addCellRange:function(e,t){e.rangeSvc?.addCellRange(t)},clearRangeSelection:oT,clearCellSelection:oT},dependsOn:[Sw,Fy.pz4,Fy.tje],css:[".ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected.ag-cell-range-chart,.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1.ag-cell-range-chart,.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2.ag-cell-range-chart,.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3.ag-cell-range-chart,.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4.ag-cell-range-chart,.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-right,:where(.ag-ltr) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-right,:where(.ag-rtl) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-left,:where(.ag-ltr) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-left,:where(.ag-rtl) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}:where(.ag-ltr) .ag-fill-handle,:where(.ag-ltr) .ag-range-handle{right:-1px}:where(.ag-rtl) .ag-fill-handle,:where(.ag-rtl) .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}:where(.ag-ltr) .ag-range-handle{cursor:nwse-resize}:where(.ag-rtl) .ag-range-handle{cursor:nesw-resize}"]},mT={tag:"div",cls:"ag-loading",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},gT=class extends Fy.wA2{constructor(){super(mT),this.eLoadingIcon=Fy.CUI,this.eLoadingText=Fy.CUI}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){this.eLoadingText.textContent=this.getLocaleTextFunc()("loadingError","ERR")}setupLoading(){const e=(0,Fy.scM)("groupLoading",this.beans,null);e&&this.eLoadingIcon.appendChild(e),this.eLoadingText.textContent=this.getLocaleTextFunc()("loadingOoo","Loading")}refresh(e){return!1}},bT={tag:"div",cls:"ag-skeleton-container"},fT=class extends Fy.wA2{constructor(){super(bT)}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc((()=>(0,Fy._IQ)(e.eParentOfValue))),(0,Fy._IQ)(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.getLocaleTextFunc();this.getGui().textContent=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");(0,Fy.xER)(this.getGui(),t)}setupLoading(e){const t=(0,Fy.Xye)({tag:"div",cls:"ag-skeleton-effect"}),i=e.node.rowIndex;if(null!=i){const e=75+25*(i%2==0?Math.sin(i):Math.cos(i));t.style.width=`${e}%`}this.getGui().appendChild(t);const r=this.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");(0,Fy.xER)(this.getGui(),r)}refresh(e){return!1}},vT={moduleName:"LoadingCellRenderer",version:ww,userComponents:{agLoadingCellRenderer:gT},icons:{groupLoading:"loading"},dependsOn:[Sw]},yT={moduleName:"SkeletonCellRenderer",version:ww,userComponents:{agSkeletonCellRenderer:fT},dependsOn:[Sw]},CT="PivotRowTotal_",kT=({headerName:e},{headerName:t})=>e&&!t?1:!e&&t?-1:e||t?e<t?-1:e>t?1:0:0,wT=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="pivotColDefSvc"}wireBeans(e){this.colModel=e.colModel,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.colNames=e.colNames}postConstruct(){const e=()=>this.gos.get("serverSidePivotResultFieldSeparator")??"_";this.fieldSeparator=e(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",(()=>{this.fieldSeparator=e()}));const t=()=>this.gos.get("pivotDefaultExpanded");this.pivotDefaultExpanded=t(),this.addManagedPropertyListener("pivotDefaultExpanded",(()=>{this.pivotDefaultExpanded=t()}))}createPivotColumnDefs(e){const t=this.createPivotColumnsFromUniqueValues(e),i=function e(t,i=[]){return t.forEach((t=>{void 0!==t.children?e(t.children,i):i.push(t)})),i}(t);return this.addRowGroupTotals(t,i),this.addExpandablePivotGroups(t,i),this.addPivotTotalsToGroups(t,i),{pivotColumnGroupDefs:t,pivotColumnDefs:i.map((e=>({...e})))}}createPivotColumnsFromUniqueValues(e){const t=this.pivotColsSvc?.columns??[],i=t.length;return this.recursivelyBuildGroup(0,e,[],i,t)}recursivelyBuildGroup(e,t,i,r,s){if(e>=r)return this.buildMeasureCols(i);const{pivotComparator:a}=s[e].getColDef(),o=a?(e=>(t,i)=>e(t.headerName,i.headerName))(a):kT,n=this.valueColsSvc?.columns;if(1===n?.length&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&e===r-1){const e=[];for(const r of t.keys()){const t=[...i,r],s=this.createColDef(n[0],r,t);s.columnGroupShow="open",e.push(s)}return e.sort(o),e}const l=[];for(const a of t.keys()){const o=-1===this.pivotDefaultExpanded||e<this.pivotDefaultExpanded,n=[...i,a];l.push({children:this.recursivelyBuildGroup(e+1,t.get(a),n,r,s),headerName:a,pivotKeys:n,columnGroupShow:"open",openByDefault:o,groupId:this.generateColumnGroupId(n)})}return l.sort(o),l}buildMeasureCols(e){const t=this.valueColsSvc?.columns??[];return 0===t.length?[this.createColDef(null,"-",e)]:t.map((t=>{const i=this.colNames.getDisplayNameForColumn(t,"header");return{...this.createColDef(t,i,e),columnGroupShow:"open"}}))}addExpandablePivotGroups(e,t){const i=this.gos.get("suppressExpandablePivotGroups");if(i||this.gos.get("pivotColumnGroupTotals"))return;const r=(e,t,s)=>{if("children"in e){const{valueColsSvc:a}=this,{columns:o=[]}=a??{},n=new Map;e.children.forEach((e=>{r(e,t,n)}));const l=!e.children.some((e=>e.children)),c=l&&1===o.length&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn");return o.forEach((r=>{const s=this.colNames.getDisplayNameForColumn(r,"header"),a=this.createColDef(r,s,e.pivotKeys);a.pivotTotalColumnIds=n.get(r.getColId()),a.columnGroupShow=i?"open":"closed",a.aggFunc=r.getAggFunc(),(!l||c)&&(e.children.push(a),t.push(a))})),void this.merge(s,n)}if(!e.pivotValueColumn)return;const a=e.pivotValueColumn.getColId();s.has(a)?s.get(a).push(e.colId):s.set(a,[e.colId])};e.forEach((e=>{r(e,t,new Map)}))}addPivotTotalsToGroups(e,t){if(!this.gos.get("pivotColumnGroupTotals"))return;const i="after"===this.gos.get("pivotColumnGroupTotals"),r=this.valueColsSvc?.columns,s=r?.map((e=>e.getAggFunc()));if(s&&!(s.length<1)&&this.sameAggFuncs(s)&&r){const s=r[0];e.forEach((e=>{this.recursivelyAddPivotTotal(e,t,s,i)}))}}recursivelyAddPivotTotal(e,t,i,r){const s=e;if(!s.children){const t=e;return t.colId?[t.colId]:null}let a=[];if(s.children.forEach((e=>{const s=this.recursivelyAddPivotTotal(e,t,i,r);s&&(a=a.concat(s))})),s.children.length>1){const s=this.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),o=this.createColDef(i,s,e.pivotKeys,!0);o.pivotTotalColumnIds=a,o.aggFunc=i.getAggFunc(),o.columnGroupShow=this.gos.get("suppressExpandablePivotGroups")?"open":void 0;const n=e.children;r?n.push(o):n.unshift(o),t.push(o)}return a}addRowGroupTotals(e,t){if(!this.gos.get("pivotRowTotals"))return;const i="after"===this.gos.get("pivotRowTotals"),r=(this.valueColsSvc?.columns??[]).slice();i||r.reverse();const s=r.length>1||!this.gos.get("removePivotHeaderRowWhenSingleValueColumn");for(let a=0;a<r.length;a++){const o=r[a],n=this.colNames.getDisplayNameForColumn(o,"header"),l=this.createColDef(o,n,[]),c=[];for(let e=0;e<t.length;e++){const i=t[e];i.pivotValueColumn===o&&c.push(i.colId)}l.pivotTotalColumnIds=c,l.colId=CT+l.colId;const d=s?{children:[l],pivotKeys:[],groupId:`${CT}_pivotGroup_${o.getColId()}`}:l;t.push(l),i?e.push(d):e.unshift(d)}}createColDef(e,t,i,r=!1){const s={};if(e){const t=e.getColDef();Object.assign(s,t),s.hide=!1}return s.headerName=t,s.colId=this.generateColumnId(i||[],e&&!r?e.getColId():""),s.field=s.colId,s.valueGetter=e=>e.data?.[e.colDef.field],s.pivotKeys=i,s.pivotValueColumn=e,!0===s.filter&&(s.filter="agNumberColumnFilter"),s}sameAggFuncs(e){if(1==e.length)return!0;for(let t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0}merge(e,t){t.forEach(((t,i)=>{const r=[...e.has(i)?e.get(i):[],...t];e.set(i,r)}))}generateColumnGroupId(e){return`pivotGroup_${(this.pivotColsSvc?.columns??[]).map((e=>e.getColId())).join("-")}_${e.join("-")}`}generateColumnId(e,t){return`pivot_${(this.pivotColsSvc?.columns??[]).map((e=>e.getColId())).join("-")}_${e.join("-")}_${t}`}createColDefsFromFields(e){const t=new Map;for(let i=0;i<e.length;i++){const r=e[i].split(this.fieldSeparator);let s=t;for(let e=0;e<r.length;e++){const t=r[e];let i=s.get(t);i||(i=new Map,s.set(t,i)),s=i}}const i=(e,t,r,s)=>{const a=[];for(const[t,o]of r){const r=i(`${e}${this.fieldSeparator}${t}`,t,o,s+1);a.push(r)}if(0===a.length){const i=this.colModel.getColDefCol(t);if(i){const r=this.colNames.getDisplayNameForColumn(i,"header")??t,s=this.createColDef(i,r,void 0,!1);return s.colId=e,s.aggFunc=i.getAggFunc(),s.valueGetter=t=>t.data?.[e],s}return{colId:e,headerName:t,valueGetter:t=>t.data?.[e]}}return this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===a.length&&"colId"in a[0]?(a[0].headerName=t,a[0]):{openByDefault:-1===this.pivotDefaultExpanded||s<this.pivotDefaultExpanded,groupId:e,headerName:t,children:a}},r=[];for(const[e,s]of t){const t=i(e,e,s,0);r.push(t)}return r}},ST=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="pivotResultCols"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols}destroy(){(0,Fy.uPZ)(this.beans,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const i=this.colModel.getColDefCol(t);let r=null;return this.pivotResultCols.list.forEach((t=>{const s=t.getColDef().pivotKeys,a=t.getColDef().pivotValueColumn;(0,Fy.Vgs)(s,e)&&a===i&&(r=t)})),r}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.colModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.colModel.ready&&(null!=e||null!=this.pivotResultCols)){if(e){this.processPivotResultColDef(e);const i=("api"===t?Fy.p5t:Fy.U8j)(this.beans,e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);(0,Fy.uPZ)(this.beans,this.pivotResultCols?.tree,i.columnTree);const r=i.columnTree,s=i.treeDepth,a=(0,Fy._D7)(r),o={};this.pivotResultCols={tree:r,treeDepth:s,list:a,map:o},this.pivotResultCols.list.forEach((e=>this.pivotResultCols.map[e.getId()]=e));const n=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.colModel.refreshCols(!n)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.colModel.refreshCols(!1);this.visibleCols.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const r=e=>{e.forEach((e=>{if((0,Fy.fTC)(e.children)){const t=e;i&&i(t),r(t.children)}else t&&t(e)}))};e&&r(e)}},xT="Exceeded maximum allowed pivot column count.",_T=e=>{const t={};return e.forEach(((e,i)=>t[i]=e instanceof Map?_T(e):e)),t},ET=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="pivotStage",this.refreshProps=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),this.step="pivot",this.uniqueValues=new Map,this.lastTimeFailed=!1,this.maxUniqueValues=-1,this.currentUniqueCount=0}wireBeans(e){this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.pivotResultCols=e.pivotResultCols,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueColsSvc=e.valueColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.pivotColDefSvc=e.pivotColDefSvc}execute(e){const t=e.changedPath;this.colModel.isPivotActive()?this.executePivotOn(t):this.executePivotOff(t)}executePivotOff(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues=new Map,this.pivotResultCols.isPivotResultColsPresent()&&(this.pivotResultCols.setPivotResultCols(null,"rowModelUpdated"),e&&(e.active=!1))}executePivotOn(e){const t=this.valueColsSvc?.columns.length??1,i=this.gos.get("pivotMaxGeneratedColumns");let r;this.maxUniqueValues=-1===i?-1:i/t;try{r=this.bucketUpRowNodes(e)}catch(e){if(e.message===xT)return this.pivotResultCols.setPivotResultCols([],"rowModelUpdated"),this.eventSvc.dispatchEvent({type:"pivotMaxColumnsExceeded",message:e.message}),void(this.lastTimeFailed=!0);throw e}const s=this.setUniqueValues(r),a=this.valueColsSvc?.columns??[],o=a.map((e=>`${e.getId()}-${e.getColDef().headerName}`)).join("#"),n=a.map((e=>e.getAggFunc().toString())).join("#"),l=this.aggregationColumnsHashLastTime!==o,c=this.aggregationFuncsHashLastTime!==n;this.aggregationColumnsHashLastTime=o,this.aggregationFuncsHashLastTime=n;const d=(this.rowGroupColsSvc?.columns??[]).map((e=>e.getId())).join("#"),u=d!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=d;const p=this.gos.get("pivotRowTotals"),h=this.gos.get("pivotColumnGroupTotals"),m=this.gos.get("suppressExpandablePivotGroups"),g=this.gos.get("removePivotHeaderRowWhenSingleValueColumn"),b=p!==this.pivotRowTotalsLastTime||h!==this.pivotColumnGroupTotalsLastTime||m!==this.suppressExpandablePivotGroupsLastTime||g!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=p,this.pivotColumnGroupTotalsLastTime=h,this.suppressExpandablePivotGroupsLastTime=m,this.removePivotHeaderRowWhenSingleValueColumnLastTime=g,this.lastTimeFailed||s||l||u||c||b){const{pivotColumnGroupDefs:t,pivotColumnDefs:i}=this.pivotColDefSvc.createPivotColumnDefs(this.uniqueValues);this.pivotColumnDefs=i,this.pivotResultCols.setPivotResultCols(t,"rowModelUpdated"),e&&(e.active=!1)}this.lastTimeFailed=!1}setUniqueValues(e){return!(JSON.stringify(_T(this.uniqueValues))===JSON.stringify(_T(e))||(this.uniqueValues=e,0))}bucketUpRowNodes(e){this.currentUniqueCount=0;const t=new Map;e.forEachChangedNodeDepthFirst((e=>{e.leafGroup&&(e.childrenMapped=null)}));const i=e=>{e.leafGroup?this.bucketRowNode(e,t):e.childrenAfterFilter?.forEach(i)};return e.executeFromRootNode(i),t}bucketRowNode(e,t){const i=this.pivotColsSvc?.columns;e.childrenMapped=0===i?.length?null:_T(this.bucketChildren(e.childrenAfterFilter,i,0,t)),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)}bucketChildren(e,t=[],i,r){const s=new Map,a=t[i];if(e.forEach((e=>{let t=this.valueSvc.getKeyForNode(a,e);if((0,Fy.n92)(t)&&(t=""),!r.get(t)){this.currentUniqueCount+=1,r.set(t,new Map);const e=-1!==this.maxUniqueValues,i=this.currentUniqueCount>this.maxUniqueValues;if(e&&i)throw Error(xT)}s.has(t)||s.set(t,[]),s.get(t).push(e)})),i===t.length-1)return s;const o=new Map;for(const e of s.keys())o.set(e,this.bucketChildren(s.get(e),t,i+1,r.get(e)));return o}getPivotColumnDefs(){return this.pivotColumnDefs}},MT={moduleName:"SharedPivot",version:ww,beans:[ST,wT,GE],apiFunctions:{isPivotMode:function(e){return e.colModel.isPivotMode()},getPivotResultColumn:function(e,t,i){return e.pivotResultCols?.lookupPivotResultCol(t,i)??null},setValueColumns:function(e,t){e.valueColsSvc?.setColumns(t,"api")},getValueColumns:function(e){return e.valueColsSvc?.columns??[]},removeValueColumns:function(e,t){e.valueColsSvc?.removeColumns(t,"api")},addValueColumns:function(e,t){e.valueColsSvc?.addColumns(t,"api")},setPivotColumns:function(e,t){e.pivotColsSvc?.setColumns(t,"api")},removePivotColumns:function(e,t){e.pivotColsSvc?.removeColumns(t,"api")},addPivotColumns:function(e,t){e.pivotColsSvc?.addColumns(t,"api")},getPivotColumns:function(e){return e.pivotColsSvc?.columns??[]},setPivotResultColumns:function(e,t){e.pivotResultCols?.setPivotResultCols(t,"api")},getPivotResultColumns:function(e){const t=e.pivotResultCols?.getPivotResultCols();return t?t.list:null}},dependsOn:[CM,Fy.Kmr]},TT={moduleName:"Pivot",version:ww,rowModels:["clientSide"],beans:[ET],dependsOn:[MT,kM,cM]},PT=(e,t)=>e.treeNode.sourceIdx-t.treeNode.sourceIdx,AT=Fy.Sv0.values(),DT=class e{constructor(e,t){this.parent=e,this.key=t,this.children=null,this.invalidatedHead=null,this.invalidatedNext=void 0,this.row=null,this.oldRow=null,this.duplicateRows=null,this.childrenAfterGroup=Fy.Sv0,this.allLeafChildren=null,this.childrenChanged=!1,this.leafChildrenChanged=!1,this.sourceIdx=-1}get size(){return this.children?.size??0}isEmptyFillerNode(){return!this.row?.data&&!this.children?.size}enumChildren(){return this.children?.values()??AT}upsertKey(t){"string"!=typeof t&&(t=String(t));let i=this.children?.get(t);return i||(i=new e(this,t),(this.children??(this.children=new Map))?.set(i.key,i)),i}appendKey(t){const i=this.children;"string"!=typeof t&&(t=String(t));let r=i?.get(t);return r?(i.delete(t),i.set(t,r)):(r=new e(this,t),(this.children??(this.children=new Map))?.set(r.key,r)),r}destroy(){const{row:e,parent:t}=this;null!==e&&e.treeNode===this&&(e.treeNode=null),null!==t&&(this.parent=null,t.children?.delete(this.key))}setRow(e){const t=this.row;return t!==e&&(null!==t&&(t.treeNode=null),null!==e&&(e.treeNode=this),this.row=e,!0)}removeRow(e){const{row:t,duplicateRows:i}=this;if(t===e){if(this.row=null,null!==i)for(const e of i){this.row=e,i.delete(e);break}}else if(!i?.delete(e))return!1;return 0===i?.size&&(this.duplicateRows=null),e.treeNode=null,!0}addDuplicateRow(e){let t=this.duplicateRows;if(null===t)t=new Set,this.duplicateRows=t;else if(t.has(e))return!1;return t.add(e),e.treeNode=this,e.childrenAfterGroup=Fy.Sv0,e.allLeafChildren=null,!0}sortFirstDuplicateRow(){const e=this.duplicateRows,t=this.row;if(!t||!e)return t;let i=t;for(const t of e)t.sourceRowIndex<i.sourceRowIndex&&(i=t);return i!==t&&(e.delete(i),e.add(t),this.row=i),i}dequeueInvalidated(){for(;;){const e=this.invalidatedHead;if(!e)return null;if(this.invalidatedHead=e.invalidatedNext??null,e.parent===this)return e.invalidatedNext=void 0,e}}invalidate(){let e=this,t=this.parent;for(;null!==t&&void 0===e.invalidatedNext;)e.invalidatedNext=t.invalidatedHead,t.invalidatedHead=e,e=t,t=e.parent}invalidateOrder(){const e=this.parent;e&&!e.childrenChanged&&((e.children?.size??0)>1||(this.children?.size??0)>1||!e.row?.data)&&(e.childrenChanged=!0,e.invalidate())}getNewSourceIdx(){const e=this.row;return e?.data?e.sourceRowIndex:this.childrenAfterGroup[0]?.treeNode?.sourceIdx??this.sourceIdx}updateChildrenAfterGroup(e,t){this.childrenChanged=!1;const i=e&&this.children?.size;if(!i)return 0!==this.childrenAfterGroup.length&&(this.childrenAfterGroup=t?[]:Fy.Sv0,this.leafChildrenChanged=!0,!0);let r=!1,s=this.childrenAfterGroup;s===Fy.Sv0?(s=new Array(i),this.childrenAfterGroup=s,r=!0):s.length!==i&&(s.length=i,r=!0);let a=0,o=-1,n=!1;for(const e of this.enumChildren()){const t=e.getNewSourceIdx();t<o&&(n=!0),o=t,e.sourceIdx=t;const i=e.row;s[a]!==i&&(s[a]=i,r=!0),++a}return r&&(this.leafChildrenChanged=!0),n&&this.reorderChildrenList(s),r||n}reorderChildrenList(e){const t=e.length,i=this.children;e.sort(PT),i.clear();for(let r=0;r<t;++r){const t=e[r].treeNode;i.set(t.key,t)}}updateAllLeafChildren(){const{parent:e,childrenAfterGroup:t}=this;this.leafChildrenChanged=!1;let i=!1;const r=t.length;if(0===r)this.allLeafChildren&&(i||(i=0!==this.allLeafChildren.length),this.allLeafChildren=null);else{const e=this.allLeafChildren??(this.allLeafChildren=[]),s=e.length;let a=0;for(let o=0;o<r;++o){const r=t[o],n=r.treeNode?.allLeafChildren,l=n?.length;if(r.data&&((a>=s||e[a]!==r)&&(e[a]=r,i=!0),++a),l)for(let t=0;t<l;++t){const r=n[t];(a>=s||e[a]!==r)&&(e[a]=r,i=!0),++a}}s!==a&&(e.length=a,i=!0)}i&&e&&(e.leafChildrenChanged=!0)}},IT=e=>0!=(2&e.treeNodeFlags),NT=e=>0!=(4&e.treeNodeFlags),RT=e=>0!=(16&e.treeNodeFlags),LT=(e,t)=>{t?e.treeNodeFlags|=2:e.treeNodeFlags&=-3},FT=e=>{e&&(e.treeNodeFlags|=16)},OT=e=>{const t=e.level<0,i=e.treeNodeFlags,r=0!=(1&i);if(e.treeNodeFlags=1|-29&i,!r||t){const t=e.childrenAfterGroup;e.childrenAfterFilter=t,e.childrenAfterAggFilter=t,e.childrenAfterSort=t}if(t){const t=e.sibling;t&&(t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped)}},BT=e=>{e.treeNodeFlags=0},zT=class extends Fy.KZA{constructor(){super(...arguments),this.oldGroupDisplayColIds="",this.rowsPendingDestruction=null,this.treeCommitPending=!0,this.treeRoot=null}activate(e){super.activate(e),this.treeSetRootNode(e),this.treeCommitPending=!0}treeSetRootNode(e){let t=this.treeRoot;t||(t=new DT(null,""),t.childrenChanged=!0,this.treeRoot=t),t.row=e,e.treeNode=t}destroy(){super.destroy(),this.treeRoot=null,this.rowsPendingDestruction=null,this.oldGroupDisplayColIds=""}deactivate(){const{treeRoot:e,rootNode:t}=this;e&&(t&&e.removeRow(t),this.treeDestroy(e),e.destroy()),t&&BT(t),this.commitDestroyedRows(),super.deactivate(),this.treeRoot=null,this.oldGroupDisplayColIds=""}treeSetRow(e,t,i){const r=e.row;if(e===this.treeRoot)return!1;let s=!1;if(r!==t){const i=t.treeNode;null!==i&&i!==e&&(i.removeRow(t),i.invalidate()),null===r?(e.setRow(t),s=!0):r.data?e.addDuplicateRow(t)&&(s=!0):(e.setRow(t),this.destroyRow(r,!0),s=!0)}return i||NT(t)||((e=>{const t=e.treeNodeFlags;0!=(1&t)&&(e.treeNodeFlags=4|t)})(t),s=!0),s&&e.invalidate(),this.rowsPendingDestruction?.delete(t),s}treeRemove(e,t){if(e===this.treeRoot)return;let i=!1;if(e.removeRow(t)){const r=e.parent;r&&(r.childrenChanged=!0),this.destroyRow(t,!t.data),i=!0}i&&e.invalidate()}treeCommit(e){const{treeRoot:t,rootNode:i}=this;if(!t||!i)return;this.treeCommitPending=!1;const r=this.treeData,s=e?.active?e:null,a={rootNode:i,activeChangedPath:s,treeData:r,expandByDefault:this.gos.get("groupDefaultExpanded"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault")};this.treeCommitChildren(a,t,!1,0);const o=t.row;o&&(r&&(o.leafGroup=!1),t.childrenChanged&&t.updateChildrenAfterGroup(r,!0)&&FT(o),!r&&s||(o.childrenAfterGroup=t.childrenAfterGroup),s&&RT(o)&&s.addParentNode(o),OT(o),o.updateHasChildren()),this.commitDestroyedRows(),r&&this.beans.selectionSvc?.updateSelectableAfterGrouping(e)}treeCommitChildren(e,t,i,r){for(;;){const s=t.dequeueInvalidated();if(null===s)break;s.parent===t&&this.treeCommitChild(e,s,i||!(t.row?.expanded??1),r)}t.childrenChanged||(t.childrenChanged=(e.treeData?t.size:0)!==t.row.childrenAfterGroup?.length)}treeCommitChild(e,t,i,r){t.isEmptyFillerNode()?this.treeClear(t):(this.treeCommitPreOrder(e,t,r),this.treeCommitChildren(e,t,i,r+1),t.isEmptyFillerNode()?this.treeClear(t):this.treeCommitPostOrder(e,t,i))}treeCommitPreOrder(e,t,i){let r=t.row;if(null===r?(r=this.createFillerRow(t,i),t.setRow(r)):(r=t.sortFirstDuplicateRow(),void 0===r.allChildrenCount&&(r.allChildrenCount=null)),e.treeData){if(r.level=i,r.parent=t.parent.row,t.oldRow!==r)for(const e of t.enumChildren()){const t=e.row;null!==t&&(t.parent=r)}const e=t.key;r.key!==e?(r.key=e,(e=>{const t=e.treeNodeFlags;0!=(1&t)&&(e.treeNodeFlags=12|t)})(r),this.setGroupData(r,e)):r.groupData||this.setGroupData(r,e)}else e.activeChangedPath||(r.level=0,r.parent=e.rootNode,r.key=t.key)}treeCommitPostOrder(e,t,i){const r=t.parent,s=t.row,a=t.oldRow,o=s.group;if(t.childrenChanged&&t.updateChildrenAfterGroup(e.treeData,!1)&&FT(s),t.leafChildrenChanged&&t.updateAllLeafChildren(),e.treeData||!e.activeChangedPath){s.childrenAfterGroup=t.childrenAfterGroup,s.allLeafChildren=t.allLeafChildren;const i=t.childrenAfterGroup.length>0,n=i||!s.data;o!==n?(FT(s),wx(s,this.beans,n),n||s.expanded||LT(s,!1)):s.hasChildren()!==i&&(FT(s),s.updateHasChildren()),n&&!IT(s)&&(s.expanded=((e,t,i)=>{if(t!==i&&null!==t&&t.group&&IT(t)&&!e.isGroupOpenByDefault)return t.expanded;const r=e.isGroupOpenByDefault;return r?1==r({rowNode:i,field:i.field,key:i.key,level:i.level,rowGroupColumn:i.rowGroupColumn}):-1===e.expandByDefault||i.level<e.expandByDefault})(e,a,s),LT(s,!0)),NT(s)&&(FT(r.row),(e=>0!=(8&e.treeNodeFlags))(s)&&s.setData(s.data))}a!==s&&(t.oldRow=s,null===a||!o&&0===t.size||FT(s),r.childrenChanged=!0,FT(r.row)),RT(s)&&(this.treeData?e.activeChangedPath?.addParentNode(s):FT(e.rootNode)),OT(s),t.duplicateRows?.size&&!t.duplicateRowsWarned&&(t.duplicateRowsWarned=!0,(0,Fy.F5b)(186,{rowId:s.id,rowData:s.data,duplicateRowsData:Array.from(t.duplicateRows).map((e=>e.data))})),i&&null!==s.rowIndex&&s.clearRowTopAndRowIndex();const n=t.getNewSourceIdx(),l=t.sourceIdx;l!==n&&(t.sourceIdx=n,-1!==l&&(r.childrenChanged=!0))}createFillerRow(e,t){const i=new Fy.Fxk(this.beans);i.key=e.key,i.group=!0,i.field=null,i.leafGroup=!1,i.rowGroupIndex=null,i.allChildrenCount=null;let r=t+"-"+e.key,s=e.parent;for(;null!==s;){const e=s.parent;if(null===e)break;r=`${--t}-${s.key}-${r}`,s=e}return i.id=Fy.r9r+r,i}setGroupData(e,t){e.groupValue=t;const i={};e.groupData=i;const r=this.beans.showRowGroupCols?.getShowRowGroupCols();if(r)for(const e of r)i[e.getColId()]=t}treeClear(e){const{parent:t,oldRow:i}=e;if(null!==t&&null!==i&&(t.childrenChanged=!0,null!==t.row&&FT(t.row)),e!==this.treeRoot){let t=e.row;for(;null!==t&&e.removeRow(t);)this.destroyRow(t,!t.data),t=e.row}for(const t of e.enumChildren())this.treeClear(t);e.destroy()}treeDestroy(e){const{row:t,duplicateRows:i}=e;if(t&&(e===this.treeRoot||t.data?BT(t):this.destroyRow(t,!0)),i)for(const t of i)e===this.treeRoot||t.data?BT(t):this.destroyRow(t,!0);for(const t of e.enumChildren())this.treeDestroy(t);e.destroy()}destroyRow(e,t){if(e.isSelected())t=!1;else if(!(e=>0!=(1&e.treeNodeFlags))(e))return void BT(e);t?(BT(e),e.clearRowTopAndRowIndex(),e.groupData=null):(this.rowsPendingDestruction??(this.rowsPendingDestruction=new Set)).add(e)}commitDestroyedRows(){const{rowsPendingDestruction:e}=this;let t=null;if(null!==e){for(const i of e)this.destroyRow(i,!0),i.isSelected()&&(t??(t=[])).push(i);this.rowsPendingDestruction=null}t&&this.deselectNodes(t)}refreshModel(e,t){if(t&&this.treeCommitPending&&this.treeCommit(e.changedPath),e.afterColumnsChanged)if(this.treeData){const e=this.beans.showRowGroupCols?.getShowRowGroupCols()?.map((e=>e.getId())).join("-")??"";if(this.oldGroupDisplayColIds!==e){this.oldGroupDisplayColIds=e;const t=this.rootNode?.childrenAfterGroup;if(t)for(let e=0,i=t.length??0;e<i;++e){const i=t[e],r=i.treeNode;r&&this.setGroupData(i,r.key)}}}else this.oldGroupDisplayColIds=""}},VT=e=>{const t=(e=>{if("string"!=typeof e||!e.length)return[];const t=e.split(".");return t.includes("__proto__")?[]:t})(e);let i=null;const r=t.length-1;return i=0===r?t=>t?.[e]:r>0?e=>{let i=e;for(let e=0;e<=r&&null!=i;++e)if(i=i[t[e]],e<r&&"object"!=typeof i&&void 0!==i)return null;return i}:()=>{},i.path=e,i},GT=2147483648,UT=1073741824,HT=536870912,WT=536870911,jT=class extends Fy.AS9{constructor(){super(...arguments),this.parentIdGetter=null,this.oldGroupDisplayColIds=null}destroy(){super.destroy(),this.parentIdGetter=null,this.oldGroupDisplayColIds=null}execute(e){const t=e.rowNode;let i=!e.changedRowNodes,r=t.childrenAfterGroup;r&&r!==t.allLeafChildren||(i=!0,t.childrenAfterGroup=r=[]);let s=!1;(e.afterColumnsChanged||null===this.oldGroupDisplayColIds)&&(s=this.updateGroupDisplayColsIds());let a=this.parentIdGetter;const o=this.gos.get("treeDataParentIdField");a&&a.path===o||(a=VT(o));const n=!this.gos.get("getRowId");n||QT(this.beans.rowModel,e,a,i),r.length=t.treeNodeFlags&WT,t.treeNodeFlags=0;const l=this.gos.get("groupDefaultExpanded"),c=this.gos.getCallback("isGroupOpenByDefault"),d=e.changedPath?.active?e.changedPath:void 0;let u=0;const p=(e,t)=>{++u;let r=e.treeNodeFlags;const a=e.childrenAfterGroup??(e.childrenAfterGroup=Fy.Sv0),o=r&WT;let n=0!=(r&UT);a.length!==o&&(a.length=o,n=!0);let h=n||0!=(r&GT),m=n;e.treeNodeFlags=r&HT,e.level=t++;let g=0;for(let e=0;e<o;++e){const i=a[e];p(i,t)&&(m=!0),g+=(i.allLeafChildren?.length??0)+1}let b=e.allLeafChildren;b!==a&&void 0!==b||(b=e.allLeafChildren=null),(m||(b?.length??0)!==g)&&(m=YT(e,b,g));const f=e.id;e.key===f&&e.groupData&&!s||(h=!0,e.key=f,this.setGroupData(e,f));const v=o>0;return e.group!==v?(h=!0,wx(e,this.beans,v),v||e.expanded||(r=e.treeNodeFlags&=-536870913)):e.hasChildren()!==v&&(h=!0,e.updateHasChildren()),v&&0==(r&HT)&&(e.treeNodeFlags|=HT,e.expanded=XT(c,l,e)),(n||m||i)&&qT(e,a),h&&d?.addParentNode(e),m};for(let e=0,t=r.length;e<t;++e)p(r[e],0);i&&$T(t,r),u===t.allLeafChildren.length||n||KT(t,p)}updateGroupDisplayColsIds(){const e=this.beans.showRowGroupCols?.getShowRowGroupCols()?.map((e=>e.getId())).join("-")??"";return this.oldGroupDisplayColIds!==e&&(this.oldGroupDisplayColIds=e,!0)}setGroupData(e,t){const i={};e.groupData=i;const r=this.beans.showRowGroupCols?.getShowRowGroupCols();if(r)for(const e of r)i[e.getColId()]=t}},KT=(e,t)=>{const i=new Set,r=e=>{i.add(e);for(const t of e.childrenAfterGroup)r(t)};r(e);const s=e.childrenAfterGroup;s.length=0;for(const a of e.allLeafChildren)if(i.has(a))a.parent===e&&s.push(a);else{const i=a.parent;(0,Fy.F5b)(270,{id:a.id,parentId:i.id}),i.childrenAfterGroup=i.childrenAfterGroup.filter((e=>e!==a)),i.treeNodeFlags=i.treeNodeFlags-1|UT|GT,a.parent=e,t(a,0),r(a),s.push(a)}},$T=(e,t)=>{e.childrenAfterFilter=t,e.childrenAfterAggFilter=t,e.childrenAfterSort=t;const i=e.sibling;i&&(i.childrenAfterGroup=e.childrenAfterGroup,i.childrenAfterAggFilter=e.childrenAfterAggFilter,i.childrenAfterSort=e.childrenAfterSort)},qT=(e,t)=>{e.allLeafChildren??(e.allLeafChildren=null),e.childrenAfterFilter??(e.childrenAfterFilter=t),e.childrenAfterAggFilter??(e.childrenAfterAggFilter=t),e.childrenAfterSort??(e.childrenAfterSort=t);const i=e.sibling;i&&(i.allLeafChildren=e.allLeafChildren,i.childrenAfterGroup=e.childrenAfterGroup,i.childrenAfterAggFilter=e.childrenAfterAggFilter,i.childrenAfterFilter=e.childrenAfterFilter,i.childrenAfterSort=e.childrenAfterSort)},YT=(e,t,i)=>{if(0===i)return!!t&&(e.allLeafChildren=null,!!t?.length);let r=!1;t?t.length!==i&&(t.length=i,r=!0):(t=e.allLeafChildren=new Array(i),r=!0);let s=0;const a=e.childrenAfterGroup;if(a)for(const e of a){r||(r=t[s]!==e),t[s++]=e;const i=e.allLeafChildren;if(i)for(const e of i)r||(r=t[s]!==e),t[s++]=e}return r},XT=(e,t,i)=>e?1==e({rowNode:i,field:i.field,key:i.key,level:i.level,rowGroupColumn:i.rowGroupColumn}):-1===t||i.level<t,QT=(e,{rowNode:t,changedRowNodes:i},r,s)=>{const a=i?.updates,o=i?.adds,n=t.allLeafChildren;for(let i=0,l=n.length;i<l;++i){const l=n[i],c=a?.has(l)||o?.has(l),d=l.parent;let u;if(c||s){const i=r(l.data);null==i?u=t:(u=e.getRowNode(i),u||((0,Fy.F5b)(271,{id:l.id,parentId:i}),u=t))}else u=l.parent??t;let p=u.treeNodeFlags;const h=p&WT;p=-536870912&p|h+1;let m=u.childrenAfterGroup;m&&m!==Fy.Sv0||(u.childrenAfterGroup=m=[]),(m.length<=h||m[h]!==l)&&(m[h]=l,p|=UT),(c||l.parent!==u)&&(l.parent=u,p|=GT,d!==u&&null!==d&&(d.treeNodeFlags|=GT)),u.treeNodeFlags=p}},ZT={moduleName:"SharedTreeData",version:ww,dependsOn:[Sw,zE,lM,dM]},JT={moduleName:"TreeData",version:ww,beans:[class extends zT{constructor(){super(...arguments),this.beanName="csrmPathTreeNodeSvc"}loadNewRowData(e){const t=this.rootNode,i=this.treeRoot;this.treeClear(i),this.treeSetRootNode(t),super.loadNewRowData(e);const r=t.allLeafChildren,s=this.gos.get("getDataPath");for(let e=0,t=r.length;e<t;++e)this.addOrUpdateRow(s,r[e],!0);this.treeCommitPending=!0}get treeData(){const e=this.gos;return e.get("treeData")&&!!e.get("getDataPath")}refreshModel(e,t){const i=e.changedRowNodes;i&&this.executeTransactions(i,e.rowNodesOrderChanged),super.refreshModel(e,t)}executeTransactions(e,t){const i=this.treeRoot;if(!i)return;this.treeSetRootNode(this.rootNode);for(const t of e.removals){const e=t.treeNode;e&&this.treeRemove(e,t)}const r=this.gos.get("getDataPath");for(const t of e.updates)this.addOrUpdateRow(r,t,!1);for(const t of e.adds)this.addOrUpdateRow(r,t,!0);const s=i.row?.allLeafChildren;if(t&&s)for(let e=0,t=s.length;e<t;++e){const t=s[e].treeNode;t&&t.sourceIdx!==e&&t.invalidateOrder()}this.treeCommitPending=!0}addOrUpdateRow(e,t,i){const r=this.treeRoot;if(!this.treeData)return void this.treeSetRow(r.upsertKey(t.id),t,i);const s=e?.(t.data),a=s?.length;if(a){let e=0,o=r;do{o=o.upsertKey(s[e++])}while(e<a);this.treeSetRow(o,t,i)}else(0,Fy.F5b)(185,{data:t.data})}},class extends zT{constructor(){super(...arguments),this.beanName="csrmChildrenTreeNodeSvc",this.childrenGetter=null}get treeData(){return this.gos.get("treeData")}extractRowData(){const e=this.treeRoot;return e&&Array.from(e.enumChildren(),(e=>e.row.data))}destroy(){super.destroy(),this.childrenGetter=null}activate(e){const t=this.childrenGetter,i=this.gos.get("treeDataChildrenField");t&&t.path===i||(this.childrenGetter=VT(i)),super.activate(e)}updateRowData(e,t){return(0,Fy.F5b)(268),{changedRowNodes:t,rowNodeTransaction:{add:[],remove:[],update:[]},rowsInserted:!1}}loadNewRowData(e){const t=this.treeRoot,i=this.rootNode,r=this.childrenGetter,s=new Map,a=[];i.allLeafChildren=a,this.treeClear(t),this.treeSetRootNode(i);const o=(e,t)=>{let i=s.get(t);if(void 0!==i)return void(0,Fy.U0c)(2,{nodeId:i.id});i=this.createRowNode(t,a.length),s.set(t,i),a.push(i),e=e.upsertKey(i.id),this.treeSetRow(e,i,!0);const n=r?.(t);if(n)for(let t=0,i=n.length;t<i;++t)o(e,n[t])};for(let i=0,r=e.length;i<r;++i)o(t,e[i]);this.treeCommitPending=!0}setImmutableRowData(e,t){this.dispatchRowDataUpdateStartedEvent(t);const i=this.gos,r=this.treeRoot,s=this.rootNode,a=this.childrenGetter,o=(0,Fy.WWV)(i),n=!i.get("suppressMaintainUnsortedOrder"),l=new Map,c=new Fy.Dkq(!1,s);e.changedPath=c;const d=e.changedRowNodes,u=s.allLeafChildren,p=[],h=[];let m=!1,g=!1;const b=n?(e,t,i)=>{const r=t?.length;let s=!0,a=-1;for(let o=0;o<r;++o){const r=f(e,t[o],i);r>=0&&(r<a&&(s=!1),a=r)}s||(m=!0,e.childrenChanged||(e.childrenChanged=!0,e.invalidate()))}:(e,t,i)=>{for(let r=0,s=t.length;r<s;++r)f(e,t[r],i)},f=(e,t,i)=>{let r=l.get(t);if(void 0!==r)return(0,Fy.F5b)(2,{nodeId:r.id}),-1;const s=o({data:t,level:i});let c,u,m=!1;r=this.getRowNode(s),r?r.data!==t&&(d.update(r),r.updateData(t),!r.selectable&&r.isSelected()&&h.push(r)):(r=this.createRowNode(t,-1),d.add(r),m=!0),l.set(t,r),n?(u=e.appendKey(r.id),c=r.sourceRowIndex,r.sourceRowIndex=p.push(r)-1):(u=e.upsertKey(r.id),c=-1),this.treeSetRow(u,r,m)&&(g=!0);const f=a?.(t);return f&&b(u,f,i+1),c};if(b(r,t,0),u)for(let e=0,t=u.length;e<t;++e){const t=u[e],i=t.treeNode;if(i){const e=t.data;e&&!l.has(e)&&(t.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(t.pinnedSibling,null),d.remove(t),this.treeRemove(i,t))}}if(!n){const e=t=>{for(const i of t.enumChildren()){const t=i.row;t&&(t.sourceRowIndex=p.push(t)-1,e(i))}};e(r)}s.allLeafChildren=p,r.allLeafChildren=p,h.length&&this.deselectNodes(h),this.treeCommitPending=!0;const v=s.sibling;v&&(v.allLeafChildren=p),(g||m)&&(e.rowDataUpdated=!0,e.rowNodesOrderChanged||(e.rowNodesOrderChanged=m))}refreshModel(e,t){const i=this.rootNode;if(i&&e.changedProps?.has("treeData")&&!e.newData){this.treeSetRootNode(i);const e=this.treeRoot,t=i.allLeafChildren;if(t)for(let e=0,i=t.length;e<i;++e){const i=t[e];i.groupData=null,i.treeNode?.invalidate()}e.childrenChanged=!0,this.treeCommitPending=!0}super.refreshModel(e,t)}}],dynamicBeans:{treeParentIdStrategy:jT},rowModels:["clientSide"],dependsOn:[ZT,VE,cM]},eP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmBlockUtils"}wireBeans(e){this.valueSvc=e.valueSvc,this.showRowGroupCols=e.showRowGroupCols,this.nodeManager=e.ssrmNodeManager,this.expansionSvc=e.expansionSvc,this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}createRowNode(e){const t=new Fy.Fxk(this.beans),i=null!=e.rowHeight?e.rowHeight:(0,Fy.$Wo)(this.beans);return t.setRowHeight(i),t.group=e.group,t.leafGroup=e.leafGroup,t.level=e.level,t.uiLevel=e.level,t.parent=e.parent,t.stub=!0,t.__needsRefreshWhenVisible=!1,t.group&&(t.expanded=!1,t.field=e.field,t.rowGroupColumn=e.rowGroupColumn,t.rowGroupIndex=e.level),t}destroyRowNode(e,t=!1){e.childStore&&!t&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)}setTreeGroupInfo(e){e.updateHasChildren();const t=this.gos.get("getServerSideGroupKey"),i=e.hasChildren();i&&null!=t&&(e.key=t(e.data)),i||null==e.childStore||(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)}setRowGroupInfo(e){if(e.key=this.valueSvc.getValue(e.rowGroupColumn,e),null!==e.key&&void 0!==e.key||(0,Fy.qX8)((()=>{(0,Fy.F5b)(190,{rowGroupId:e.rowGroupColumn?.getId(),data:e.data})}),"SSBlock-BadKey"),this.gos.get("groupAllowUnbalanced")&&""===e.key){const t=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(t,e))}(0,Fy.CaV)(this.beans.gos)({node:e})&&(LE(e,this.beans),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))}setMasterDetailInfo(e){const t=this.gos.get("isRowMaster");e.master=null==t||t(e.data)}updateDataIntoRowNode(e,t){e.updateData(t),this.gos.get("treeData")?(this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e),this.updateRowFooter(e)):e.group?(this.setChildCountIntoRowNode(e),this.updateRowFooter(e)):this.gos.get("masterDetail")}updateRowFooter(e){if(!e.footer){if(e.group&&(0,Fy.CaV)(this.beans.gos)({node:e})&&!e.sibling)return void LE(e,this.beans);e.sibling&&FE(e)}}setDataIntoRowNode(e,t,i,r){e.stub=!1;const s=this.gos.get("treeData");e.setDataAndId(t,i),s?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.gos.get("masterDetail")&&this.setMasterDetailInfo(e),(s||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),(0,Fy.fTC)(t)&&(e.setRowHeight((0,Fy.ibk)(this.beans,e,!1,r).height),e.sibling?.setRowHeight((0,Fy.ibk)(this.beans,e.sibling,!1,r).height))}setChildCountIntoRowNode(e){const t=this.gos.get("getChildCount");t&&e.setAllChildrenCount(t(e.data))}setGroupDataIntoRowNode(e){e.groupValue=e.key;const t=this.showRowGroupCols?.getShowRowGroupCols()??[],i=this.gos.get("treeData");t.forEach((t=>{if(null==e.groupData&&(e.groupData={}),i)e.groupData[t.getColId()]=e.key;else if(t.isRowGroupDisplayed(e.rowGroupColumn.getId())){const i=this.valueSvc.getValue(e.rowGroupColumn,e);e.groupData[t.getColId()]=i}}))}clearDisplayIndex(e){e.clearRowTopAndRowIndex(),e.hasChildren()&&e.childStore&&e.childStore?.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode?.clearRowTopAndRowIndex()}setDisplayIndex(e,t,i,r){const s=this.gos.get("groupAllowUnbalanced")&&e.group&&""===e.key;if(this.gos.get("groupHideOpenParents")&&e.group&&e.expanded||s?(e.setRowIndex(null),e.setRowTop(null)):(e.setRowIndex(t.value++),e.setRowTop(i.value),i.value+=e.rowHeight),e.setUiLevel(r),!e.footer&&(e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(t.value++),e.detailNode.setRowTop(i.value),i.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.hasChildren()&&e.childStore)){const a=e.childStore;e.expanded||s?a.setDisplayIndexes(t,i,s?r:r+1):a.clearDisplayIndexes()}}extractRowBounds(e,t){const i=e=>({rowHeight:e.rowHeight,rowTop:e.rowTop});if(e.rowIndex===t)return i(e);if(e.hasChildren()&&e.expanded&&e.childStore){const i=e.childStore;if(i.isDisplayIndexInStore(t))return i.getRowBounds(t)}else if(e.master&&e.expanded&&e.detailNode&&e.detailNode.rowIndex===t)return i(e.detailNode)}isPixelInNodeRange(e,t){return!(!(0,Fy.fTC)(e.rowTop)||!(0,Fy.fTC)(e.rowHeight))&&t>=e.rowTop&&t<e.rowTop+e.rowHeight}getIndexAtPixel(e,t){if(this.isPixelInNodeRange(e,t))return e.rowIndex;const i=e.master&&e.expanded,r=e.detailNode;if(i&&r&&this.isPixelInNodeRange(r,t))return r.rowIndex;if(e.hasChildren()&&e.expanded&&e.childStore){const i=e.childStore;if(i.isPixelInRange(t))return i.getRowIndexAtPixel(t)}return null}createNodeIdPrefix(e){const t=[];let i=e;for(;i&&i.level>=0;)""===i.key?t.push("ag-Grid-MissingKey"):t.push(i.key),i=i.parent;if(t.length>0)return t.reverse().join("-")}checkOpenByDefault(e){return this.expansionSvc?.checkOpenByDefault(e)}},tP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmExpandListener"}wireBeans(e){this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}postConstruct(){(0,Fy.jie)(this.gos)&&this.addManagedEventListeners({rowGroupOpened:this.onRowGroupOpened.bind(this)})}onRowGroupOpened(e){const t=e.node;if(t.expanded){if(t.master)this.createDetailNode(t);else if((0,Fy.n92)(t.childStore)){const e=this.serverSideRowModel.getParams();t.childStore=this.createBean(this.storeFactory.createStore(e,t))}}else this.gos.get("purgeClosedRowNodes")&&(0,Fy.fTC)(t.childStore)&&(t.childStore=this.destroyBean(t.childStore));this.eventSvc.dispatchEvent({type:"storeUpdated"})}createDetailNode(e){if((0,Fy.fTC)(e.detailNode))return e.detailNode;const t=new Fy.Fxk(this.beans);t.detail=!0,t.selectable=!1,t.parent=e,(0,Fy.fTC)(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;const i=(0,Fy.ibk)(this.beans,t).height;return t.rowHeight=i||200,e.detailNode=t,t}},iP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmFilterListener"}wireBeans(e){this.serverSideRowModel=e.rowModel,this.filterManager=e.filterManager,this.listenerUtils=e.ssrmListenerUtils}postConstruct(){(0,Fy.jie)(this.gos)&&this.addManagedEventListeners({advancedFilterEnabledChanged:()=>this.onFilterChanged(!0),filterChanged:()=>this.onFilterChanged()})}onFilterChanged(e){const t=this.serverSideRowModel.getParams();if(!t)return;const i=t.filterModel;let r,s;if(this.filterManager?.isAdvFilterEnabled()){r=this.filterManager.getAdvFilterModel();const t=e?Object.keys(i??{}):this.getAdvancedFilterColumns(i),a=this.getAdvancedFilterColumns(r);t.forEach((e=>a.add(e))),s=Array.from(a)}else if(r=this.filterManager?.getFilterModel()??{},e){const e=this.getAdvancedFilterColumns(i);Object.keys(r).forEach((t=>e.add(t))),s=Array.from(e)}else s=this.findChangedColumns(i,r);const a={valueColChanged:this.listenerUtils.isSortingWithValueColumn(s),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(s),changedColumns:s};this.serverSideRowModel.refreshAfterFilter(r,a)}findChangedColumns(e,t){const i={};Object.keys(e).forEach((e=>i[e]=!0)),Object.keys(t).forEach((e=>i[e]=!0));const r=[];return Object.keys(i).forEach((i=>{JSON.stringify(e[i])!=JSON.stringify(t[i])&&r.push(i)})),r}getAdvancedFilterColumns(e){const t=new Set;if(!e)return t;const i=e=>{"join"===e.filterType?e.conditions.forEach((e=>i(e))):t.add(e.colId)};return i(e),t}},rP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmListenerUtils"}wireBeans(e){this.pivotResultCols=e.pivotResultCols,this.valueColsSvc=e.valueColsSvc}isSortingWithValueColumn(e){const t=(this.valueColsSvc?.columns??[]).map((e=>e.getColId()));for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return!0;return!1}isSortingWithSecondaryColumn(e){const t=this.pivotResultCols?.getPivotResultCols();if(!t)return!1;const i=t.list.map((e=>e.getColId()));for(let t=0;t<e.length;t++)if(i.indexOf(e[t])>-1)return!0;return!1}},sP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmSortSvc"}wireBeans(e){this.sortSvc=e.sortSvc,this.serverSideRowModel=e.rowModel,this.listenerUtils=e.ssrmListenerUtils}postConstruct(){(0,Fy.jie)(this.gos)&&this.addManagedEventListeners({sortChanged:this.onSortChanged.bind(this)})}onSortChanged(){const e=this.serverSideRowModel.getParams();if(!e)return;const t=this.sortSvc.getSortModel(),i=e.sortModel,r=this.findChangedColumnsInSort(t,i),s={valueColChanged:this.listenerUtils.isSortingWithValueColumn(r),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(r),changedColumns:r};this.serverSideRowModel.refreshAfterSort(t,s)}findChangedColumnsInSort(e,t){let i=[];return[e,t].forEach((e=>{if(e){const t=e.map((e=>e.colId));i=i.concat(t)}})),i.filter((i=>{const r=t.find((e=>e.colId===i)),s=e.find((e=>e.colId===i));return((e,t)=>(e?e.sort:null)!==(t?t.sort:null))(r,s)||((i,r)=>(i?t.indexOf(i):-1)!==(r?e.indexOf(r):-1))(r,s)}))}},aP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmNodeManager",this.rowNodes=new Map}addRowNode(e){const t=e.id;this.rowNodes.has(t)&&(0,Fy.F5b)(187,{rowId:t,firstData:this.rowNodes.get(t).data,secondData:e.data}),this.rowNodes.set(t,e)}removeNode(e){const t=e.id;this.rowNodes.delete(t)}destroy(){this.clear(),super.destroy()}clear(){this.rowNodes.clear(),super.destroy()}},oP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="rowModel",this.pauseStoreUpdateListening=!1,this.started=!1,this.managingPivotResultColumns=!1,this.onRowHeightChanged_debounced=(0,Fy.eTz)(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.pivotResultCols=e.pivotResultCols,this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.filterManager=e.filterManager,this.sortSvc=e.sortSvc,this.rowRenderer=e.rowRenderer,this.nodeManager=e.ssrmNodeManager,this.storeFactory=e.ssrmStoreFactory,this.pivotColDefSvc=e.pivotColDefSvc}ensureRowHeightsValid(){return!1}start(){this.started=!0,this.updateDatasource()}destroyDatasource(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)}postConstruct(){const e=this.resetRootStore.bind(this);this.addManagedEventListeners({newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onStoreUpdated.bind(this),columnValueChanged:e,columnPivotChanged:e,columnRowGroupChanged:e,columnPivotModeChanged:e}),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","cacheBlockSize"],e),this.addManagedPropertyListeners(["groupAllowUnbalanced","groupTotalRow"],(()=>this.onStoreUpdated())),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights())),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",(()=>this.updateDatasource()))}updateDatasource(){const e=this.gos.get("serverSideDatasource");e&&this.setDatasource(e)}verifyProps(){(0,Fy.hel)(this.gos)&&!this.gos.exists("getRowId")&&(0,Fy.F5b)(188)}setDatasource(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())}applyRowData(e,t,i){const r=this.getRootStore();if(!r)return;const s=r.getChildStore(i);s&&s.applyRowData(e,t,e.rowData.length)}isLastRowIndexKnown(){const e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()}onColumnEverything(){if(!this.storeParams)return void this.resetRootStore();const e=this.columnsToValueObjects(this.rowGroupColsSvc?.columns),t=this.columnsToValueObjects(this.valueColsSvc?.columns),i=this.columnsToValueObjects(this.pivotColsSvc?.columns),r=e=>{const t={};e.oldCols.forEach((e=>t[e.id]=e));const i=e.newCols.every((e=>{const i=t[e.id];return i&&delete t[e.id],i&&i.field===e.field&&i.aggFunc===e.aggFunc})),r=!e.allowRemovedColumns&&!!Object.values(t).length;return i&&!r},s=!(0,Fy.jHe)(this.storeParams.sortModel,this.sortSvc?.getSortModel()??[]),a=!r({oldCols:this.storeParams.rowGroupCols,newCols:e}),o=!r({oldCols:this.storeParams.pivotCols,newCols:i}),n=!!e?.length&&!r({oldCols:this.storeParams.valueCols,newCols:t,allowRemovedColumns:!0});if(s||a||o||n)this.resetRootStore();else{const e=this.createStoreParams();this.storeParams.rowGroupCols=e.rowGroupCols,this.storeParams.pivotCols=e.pivotCols,this.storeParams.valueCols=e.valueCols}}destroyRootStore(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())}refreshAfterSort(e,t){this.storeParams&&(this.storeParams.sortModel=e);const i=this.getRootStore();i&&(i.refreshAfterSort(t),this.onStoreUpdated())}generateSecondaryColumns(e){if(!this.pivotColDefSvc)return void this.gos.assertModuleRegistered("SharedPivot",2);const t=this.pivotColDefSvc.createColDefsFromFields(e);this.managingPivotResultColumns=!0,this.pivotResultCols?.setPivotResultCols(t,"rowModelUpdated")}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes(),t=(0,Fy.ibk)(this.beans,this.rootNode);if(this.rootNode.setRowHeight(t.height,t.estimated),this.rootNode.sibling){const e=(0,Fy.ibk)(this.beans,this.rootNode.sibling);this.rootNode.sibling.setRowHeight(e.height,e.estimated)}e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode((t=>{const i=(0,Fy.ibk)(this.beans,t);t.setRowHeight(i.height,i.estimated);const r=t.detailNode;if(r){const e=(0,Fy.ibk)(this.beans,r);r.setRowHeight(e.height,e.estimated)}if(t.sibling){const e=(0,Fy.ibk)(this.beans,t.sibling);r?.setRowHeight(e.height,e.estimated)}e=!0})),e}resetRootStore(){this.destroyRootStore(),this.rootNode=new Fy.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&(this.pivotResultCols?.setPivotResultCols(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)}columnsToValueObjects(e=[]){return e.map((e=>({id:e.getId(),aggFunc:e.getAggFunc(),displayName:this.colNames.getDisplayNameForColumn(e,"model"),field:e.getColDef().field})))}createStoreParams(){const e=this.columnsToValueObjects(this.rowGroupColsSvc?.columns),t=this.columnsToValueObjects(this.valueColsSvc?.columns),i=this.columnsToValueObjects(this.pivotColsSvc?.columns),r=(0,Fy.CUk)(this.gos);return{valueCols:t,rowGroupCols:e,pivotCols:i,pivotMode:this.colModel.isPivotMode(),filterModel:this.filterManager?.isAdvFilterEnabled()?this.filterManager?.getAdvFilterModel():this.filterManager?.getFilterModel()??{},sortModel:this.sortSvc?.getSortModel()??[],datasource:this.datasource,lastAccessedSequence:{value:0},dynamicRowHeight:r}}getParams(){return this.storeParams}dispatchModelUpdated(e=!1){this.eventSvc.dispatchEvent({type:"modelUpdated",animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})}onStoreUpdated(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())}onRowHeightChanged(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()}updateRowIndexesAndBounds(){const e=this.getRootStore();e&&e.setDisplayIndexes({value:0},{value:0},0)}retryLoads(){const e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())}getRow(e){const t=this.getRootStore();if(t)return t.getRowUsingDisplayIndex(e)}setPaused(e){this.pauseStoreUpdateListening=e}expandAll(e){this.pauseStoreUpdateListening=!0,this.forEachNode((t=>{t.stub||t.hasChildren()&&t.setExpanded(e)})),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()}refreshAfterFilter(e,t){this.storeParams&&(this.storeParams.filterModel=e);const i=this.getRootStore();i&&(i.refreshAfterFilter(t),this.onStoreUpdated())}getRootStore(){return this.rootNode?.childStore}getRowCount(){const e=this.getRootStore();return e?e.getDisplayIndexEnd():0}getTopLevelRowCount(){const e=this.getRootStore();return e?e.getRowCount():1}getTopLevelRowDisplayedIndex(e){const t=this.getRootStore();return t?t.getTopLevelRowDisplayedIndex(e):e}getRowBounds(e){const t=this.getRootStore();return t?t.getRowBounds(e):{rowTop:0,rowHeight:(0,Fy.$Wo)(this.beans)}}getBlockStates(){const e=this.getRootStore();if(!e)return;const t={};return e.forEachStoreDeep((e=>{const i=e.getBlockStates();for(const e of Object.keys(i))t[e]=i[e]})),t}getRowIndexAtPixel(e){const t=this.getRootStore();return e<=0||!t?0:t.getRowIndexAtPixel(e)}isEmpty(){return!1}isRowsToRender(){return null!=this.getRootStore()&&this.getRowCount()>0}getType(){return"serverSide"}forEachNode(e){const t=this.getRootStore();t&&t.forEachNodeDeep(e)}forEachDisplayedNode(e){this.forEachNode(((t,i)=>{!t.stub&&t.displayed&&e(t,i)}))}forEachNodeAfterFilterAndSort(e,t=!1){const i=this.getRootStore();i&&i.forEachNodeDeepAfterFilterAndSort(e,void 0,t)}executeOnStore(e,t){if(!this.started)return!1;const i=this.getRootStore();if(!i)return!0;const r=i.getChildStore(e);return r&&t(r),!0}refreshStore(e={}){const t=e.route?e.route:[];this.executeOnStore(t,(t=>t.refreshStore(1==e.purge)))}getStoreState(){const e=[],t=this.getRootStore();return t&&t.addStoreStates(e),e}getNodesInRangeForSelection(e,t){const i=e.rowIndex,r=t.rowIndex;if(null===i&&null===r)return[];if(null===r)return e?[e]:[];if(null===i)return[t];const s=[],[a,o]=[i,r].sort(((e,t)=>e-t));return this.forEachNode((e=>{const t=e.rowIndex;null==t||e.stub||t>=a&&t<=o&&s.push(e)})),s.length!==o-a+1?null:s}getRowNode(e){let t;return this.forEachNode((i=>{i.id===e&&(t=i),i.detailNode&&i.detailNode.id===e&&(t=i.detailNode)})),t}isRowPresent(e){return!!this.getRowNode(e.id)}setRowCount(e,t){const i=this.getRootStore();i&&i.setRowCount(e,t)}destroy(){this.destroyDatasource(),this.destroyRootStore(),super.destroy()}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},nP=class extends Fy.AS9{constructor(e){super(),this.selectionCtx=e,this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectAllUsed=!1,this.selectedNodes={}}getSelectedState(){return{selectAll:this.selectedState.selectAll,toggledNodes:[...this.selectedState.toggledNodes]}}setSelectedState(e){if("object"!=typeof e)return void(0,Fy.U0c)(116);if(!("selectAll"in e))return void(0,Fy.U0c)(116);if("boolean"!=typeof e.selectAll)return void(0,Fy.U0c)(117);if(!("toggledNodes"in e)||!Array.isArray(e.toggledNodes))return(0,Fy.F5b)(197);const t={selectAll:e.selectAll,toggledNodes:new Set};e.toggledNodes.forEach((e=>{"string"==typeof e?t.toggledNodes.add(e):(0,Fy.F5b)(196,{key:e})}));const i=t.selectAll||t.toggledNodes.size>1;(0,Fy.Bvh)(this.gos)&&!(0,Fy.wkq)(this.gos)&&i?(0,Fy.F5b)(130):this.selectedState=t}deleteSelectionStateFromParent(e,t){if(0===this.selectedState.toggledNodes.size)return!1;let i=!1;return t.forEach((e=>{this.selectedState.toggledNodes.delete(e)&&(i=!0)})),i}setNodesSelected(e){const{nodes:t,clearSelection:i,newValue:r,source:s}=e;if(0===t.length)return 0;const a=i&&r;if(!(0,Fy.wkq)(this.gos)||a){if(t.length>1)return(0,Fy.U0c)(130),0;const e=t[0],i=e.footer?e.sibling:e;return r&&i.selectable?(this.selectedNodes={[i.id]:i},this.selectedState={selectAll:!1,toggledNodes:new Set([i.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),1}const o=(e,t=r)=>{const i=e.footer?e.sibling:e;t&&i.selectable?this.selectedNodes[i.id]=i:delete this.selectedNodes[i.id],t!==this.selectedState.selectAll&&i.selectable?this.selectedState.toggledNodes.add(i.id):this.selectedState.toggledNodes.delete(i.id)};return t.forEach((e=>o(e))),1===t.length&&"api"===s&&this.selectionCtx.setRoot(t[0].footer?t[0].sibling:t[0]),1}processNewRow(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)}isNodeSelected(e){const t=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!t:t}getSelectedNodes(e=!1,t=!0){const{selectedState:{selectAll:i},selectedNodes:r,selectAllUsed:s}=this;return t&&s&&(0,Fy.F5b)(199),e&&i?null:Object.values(r)}getSelectedRows(){return(this.getSelectedNodes()??[]).map((e=>e.data))}getSelectionCount(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size}isEmpty(){return!this.selectedState.selectAll&&!this.selectedState.toggledNodes?.size}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(e){this.selectedState={selectAll:e,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed||(this.selectAllUsed=e)}getSelectAllState(){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null}},lP=class extends Fy.AS9{constructor(e){super(),this.selectionCtx=e,this.selectedState={selectAllChildren:!1,toggledNodes:new Map}}wireBeans(e){this.rowModel=e.rowModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.filterManager=e.filterManager,this.selectionSvc=e.selectionSvc}postConstruct(){this.addManagedEventListeners({modelUpdated:()=>this.removeRedundantState(),columnRowGroupChanged:()=>this.selectionSvc.reset("rowGroupChanged")})}getSelectedState(){const{gos:e,rowGroupColsSvc:t,selectedState:i}=this,r=e.get("treeData"),s=(e,i,a)=>{const o={nodeId:a};if((r||t&&i<=t.columns.length)&&(o.selectAllChildren=e.selectAllChildren),e.toggledNodes.size){const t=[];e.toggledNodes.forEach(((e,r)=>{const a=s(e,i+1,r);t.push(a)})),o.toggledNodes=t}return o};return s(i,0)}setSelectedState(e){if("selectAll"in e)return void(0,Fy.U0c)(111);const t=(e,i)=>{if("object"!=typeof e)throw(0,Fy.U0c)(243),new Error;if("selectAllChildren"in e&&"boolean"!=typeof e.selectAllChildren)throw(0,Fy.U0c)(244),new Error;if("toggledNodes"in e){if(!Array.isArray(e.toggledNodes))throw(0,Fy.U0c)(245),new Error;if(!e.toggledNodes.every((e=>"object"==typeof e&&"nodeId"in e&&"string"==typeof e.nodeId)))throw(0,Fy.U0c)(246),new Error}const r=e.selectAllChildren??!i,s=e.toggledNodes?.map((e=>[e.nodeId,t(e,r)])),a=s?.some((([,e])=>r===e.selectAllChildren&&0===e.toggledNodes.size));if(a)throw(0,Fy.U0c)(247),new Error;return{selectAllChildren:r,toggledNodes:new Map(s)}};try{this.selectedState=t(e,!!e.selectAllChildren)}catch(e){}}deleteSelectionStateFromParent(e,t){let i=this.selectedState;const r=[...e];for(;i&&r.length;)i=i.toggledNodes.get(r.pop());if(!i)return!1;let s=!1;return t.forEach((e=>{i?.toggledNodes.delete(e)&&(s=!0)})),s&&this.removeRedundantState(),s}setNodesSelected({nodes:e,newValue:t,clearSelection:i,source:r}){if(0===e.length)return 0;const s=i&&t;if(!(0,Fy.wkq)(this.gos)||s){if(e.length>1)return(0,Fy.U0c)(130),0;this.deselectAllRowNodes()}return e.forEach((e=>{const i=e.footer?e.sibling:e,r=this.getRouteToNode(i);this.recursivelySelectNode(r,this.selectedState,t)})),this.removeRedundantState(),1===e.length&&"api"===r&&this.selectionCtx.setRoot(e[0].footer?e[0].sibling:e[0]),1}isNodeSelected(e){const t=this.getRouteToNode(e);return this.isNodePathSelected(t,this.selectedState)}isNodePathSelected([e,...t],i){if(0===t.length){const t=i.toggledNodes.has(e.id);if(e.hasChildren()){const t=i.toggledNodes.get(e.id);if(t&&t.toggledNodes.size)return}return i.selectAllChildren?!t:t}if(i.toggledNodes.has(e.id)){const r=i.toggledNodes.get(e.id);if(r)return this.isNodePathSelected(t,r)}return i.selectAllChildren}getRouteToNode(e){const t=[];let i=e;for(;i.parent;)t.push(i),i=i.parent;return t.reverse()}removeRedundantState(){if(this.filterManager?.isAnyFilterPresent())return;const e=(t=this.selectedState,i,r)=>{if(t.toggledNodes.forEach(((i,r)=>{e(i,r,t)})),i){const e=this.rowModel.getRowNode(i),r=e?.childStore,s=r?.isLastRowIndexKnown();if(s&&t.toggledNodes.size>=r.getRowCount()){for(const e of t.toggledNodes.entries()){const[t,i]=e;if(i.toggledNodes.size>0)return;if(!this.rowModel.getRowNode(t))return}t.selectAllChildren=!t.selectAllChildren,t.toggledNodes.clear()}}const s=0===t.toggledNodes.size,a=r?.selectAllChildren===t.selectAllChildren;s&&a&&r?.toggledNodes.delete(i)};e()}recursivelySelectNode([e,...t],i,r){if(!e)return;if(!t.length){const t=e.selectable;if(i.selectAllChildren===r||!t)return void i.toggledNodes.delete(e.id);const s={selectAllChildren:r,toggledNodes:new Map};return void i.toggledNodes.set(e.id,s)}const s=i.toggledNodes.has(e.id),a=i.toggledNodes.get(e.id)??{selectAllChildren:i.selectAllChildren,toggledNodes:new Map};s||i.toggledNodes.set(e.id,a),this.recursivelySelectNode(t,a,r),i.selectAllChildren===a.selectAllChildren&&0===a.toggledNodes.size&&i.toggledNodes.delete(e.id)}getSelectedNodes(e=!1){if((0,Fy.F5b)(202),this.selectedState.selectAllChildren&&e)return null;const t=[];return this.rowModel.forEachNode((e=>{e.isSelected()&&t.push(e)})),t}processNewRow(){}getSelectedRows(){return this.getSelectedNodes()?.map((e=>e.data))??[]}getSelectionCount(){return-1}isEmpty(){return!this.selectedState.selectAllChildren&&!this.selectedState.toggledNodes?.size}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(e){this.selectedState={selectAllChildren:e,toggledNodes:new Map}}getSelectAllState(){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null}},cP=class extends Fy.Yi8{constructor(){super(...arguments),this.beanName="selectionSvc"}postConstruct(){super.postConstruct(),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{const e=(0,Fy.sB)(this.gos),t=e&&this.selectionStrategy instanceof nP?lP:!e&&this.selectionStrategy instanceof lP?nP:void 0;t&&(this.destroyBean(this.selectionStrategy),this.selectionStrategy=this.createManagedBean(new t(this.selectionCtx)),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))})),this.addManagedPropertyListeners(["rowSelection"],(()=>{const e=(0,Fy.Xp4)(this.gos);e!==this.selectionMode&&(this.selectionMode=e,this.deselectAllRowNodes({source:"api"}))})),this.selectionMode=(0,Fy.Xp4)(this.gos);const e=(0,Fy.sB)(this.gos)?lP:nP;this.selectionStrategy=this.createManagedBean(new e(this.selectionCtx))}handleSelectionEvent(e,t,i){if(this.isRowSelectionBlocked(t))return 0;let r=0;const s=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,i);return null==s?0:(this.selectionCtx.selectAll=!1,"select"in s?(s.reset?this.selectionStrategy.deselectAllRowNodes({source:"api"}):this.selectionStrategy.setNodesSelected({nodes:s.deselect,newValue:!1,source:i}),r=this.selectionStrategy.setNodesSelected({nodes:s.select,newValue:!0,source:i})):r=this.selectionStrategy.setNodesSelected({nodes:[s.node],newValue:s.newValue,clearSelection:s.clearSelection,event:e,source:i}),this.shotgunResetNodeSelectionState(i),this.dispatchSelectionChanged(i),r)}getSelectionState(){return this.selectionStrategy.getSelectedState()}setSelectionState(e,t){(0,Fy.hel)(this.gos)?Array.isArray(e)||(this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged(t)):(0,Fy.F5b)(132)}setNodesSelected(e){if(!(0,Fy.hel)(this.gos)&&e.newValue)return(0,Fy.F5b)(132),0;const{nodes:t,...i}=e;if(t.length>1&&"multiRow"!==this.selectionMode)return(0,Fy.F5b)(130),0;const r={nodes:t.filter((e=>e.selectable)),...i};if(!r.nodes.length)return 0;const s=this.selectionStrategy.setNodesSelected(r);return this.shotgunResetNodeSelectionState(r.source),this.dispatchSelectionChanged(r.source),s}deleteSelectionStateFromParent(e,t){this.selectionStrategy.deleteSelectionStateFromParent(e,t)&&(this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))}shotgunResetNodeSelectionState(e){this.beans.rowModel.forEachNode((t=>{if(t.stub)return;const i=this.selectionStrategy.isNodeSelected(t);i!==t.isSelected()&&this.selectRowNode(t,i,void 0,e)}))}getSelectedNodes(){return this.selectionStrategy.getSelectedNodes()??[]}getSelectedRows(){return this.selectionStrategy.getSelectedRows()}getSelectionCount(){return this.selectionStrategy.getSelectionCount()}syncInRowNode(e){this.selectionStrategy.processNewRow(e);const t=this.selectionStrategy.isNodeSelected(e);if(0!=t&&!e.selectable)return this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState(),void this.dispatchSelectionChanged("api");e.__selected=t}reset(){this.selectionStrategy.deselectAllRowNodes({source:"api"}),this.selectionCtx.reset()}isEmpty(){return this.selectionStrategy.isEmpty()}hasNodesToSelect(){return!0}selectAllRowNodes(e){if((0,Fy.hel)(this.gos)){if(dP(e),(0,Fy.Bvh)(this.gos)&&!(0,Fy.wkq)(this.gos))return(0,Fy.F5b)(130);this.selectionStrategy.selectAllRowNodes(e),this.selectionCtx.selectAll=!0,this.beans.rowModel.forEachNode((t=>{t.stub||this.selectRowNode(t,!0,void 0,e.source)})),this.dispatchSelectionChanged(e.source)}else(0,Fy.F5b)(132)}deselectAllRowNodes(e){dP(e),this.selectionStrategy.deselectAllRowNodes(e),this.selectionCtx.selectAll=!1,this.beans.rowModel.forEachNode((t=>{t.stub||this.selectRowNode(t,!1,void 0,e.source)})),this.dispatchSelectionChanged(e.source)}getSelectAllState(e){return this.selectionStrategy.getSelectAllState(e)}getBestCostNodeSelection(){return(0,Fy.F5b)(194,{method:"getBestCostNodeSelection"})}updateSelectable(){if(!(0,Fy.hel)(this.gos))return;const e=[];this.beans.rowModel.forEachNode((t=>{!this.updateRowSelectable(t,!0)&&t.isSelected()&&e.push(t)})),e.length&&this.setNodesSelected({nodes:e,newValue:!1,source:"selectableChanged"})}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.selectionStrategy instanceof lP?null:this.selectionStrategy.getSelectedNodes(!0,!1),serverSideState:this.getSelectionState()})}updateSelectableAfterGrouping(){return(0,Fy.U0c)(194,{method:"updateSelectableAfterGrouping"})}refreshMasterNodeState(){}setDetailSelectionState(){}};function dP({selectAll:e}){"filtered"!==e&&"currentPage"!==e||(0,Fy.F5b)(195,{justCurrentPage:"currentPage"===e})}var uP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="rowChildrenSvc"}getHasChildrenValue(e){const t=this.gos.get("treeData"),i=this.gos.get("isServerSideGroup");return!e.stub&&!e.footer&&(t?!!i&&i(e.data):!!e.group)}},pP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="lazyBlockLoadingSvc",this.outboundRequests=0,this.cacheLoadingNodesMap=new Map,this.isCheckQueued=!1,this.nextBlockToLoad=void 0}wireBeans(e){this.rowRenderer=e.rowRenderer,this.rowModel=e.rowModel}postConstruct(){this.maxOutboundRequests=(0,Fy.rfS)(this.gos)}subscribe(e){this.cacheLoadingNodesMap.set(e,new Set)}unsubscribe(e){this.cacheLoadingNodesMap.delete(e)}queueLoadCheck(){this.isCheckQueued||(this.isCheckQueued=!0,setTimeout((()=>{this.queueLoadAction(),this.isCheckQueued=!1})))}onLoadComplete(){this.outboundRequests-=1,this.queueLoadCheck()}hasAvailableLoadBandwidth(){return void 0===this.maxOutboundRequests||this.outboundRequests<this.maxOutboundRequests}queueLoadAction(){const e=this.getBlockToLoad();if(!e)return;const t=this.nextBlockToLoad&&this.nextBlockToLoad.cache===e.cache&&this.nextBlockToLoad.index===e.index;if(!(t||this.nextBlockToLoad&&t)){this.nextBlockToLoad=e,window.clearTimeout(this.loaderTimeout);const t=Number(this.nextBlockToLoad.index),i=this.nextBlockToLoad.cache,r=e.index+e.cache.getBlockSize();this.loaderTimeout=window.setTimeout((()=>{i.isAlive()&&(this.loaderTimeout=void 0,this.attemptLoad(i,t,r),this.nextBlockToLoad=void 0)}),this.gos.get("blockLoadDebounceMillis"))}}attemptLoad(e,t,i){this.hasAvailableLoadBandwidth()&&(this.executeLoad(e,t,i),this.queueLoadCheck())}executeLoad(e,t,i){const r=e.getSsrmParams(),s={startRow:t,endRow:i,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:e.store.getParentNode().getRoute()??[],filterModel:r.filterModel,sortModel:r.sortModel},a=this.cacheLoadingNodesMap.get(e),o=()=>{for(let e=0;e<i-t;e++)a.delete(t+e)},n=(0,Fy.OHk)(this.gos,{request:s,success:r=>{this.onLoadComplete(),e.onLoadSuccess(t,i-t,r),o()},fail:()=>{this.onLoadComplete(),e.onLoadFailed(t,i-t),o()},parentNode:e.store.getParentNode()});(()=>{for(let e=0;e<i-t;e++)a.add(t+e)})(),this.outboundRequests+=1,e.getSsrmParams().datasource?.getRows(n)}getBlockToLoad(){const e=this.rowRenderer.firstRenderedRow,t=this.rowRenderer.lastRenderedRow;for(let i=e;i<=t;i++){const e=this.rowModel.getRow(i);if(!e)continue;const t=e.parent?.childStore;if(!t)continue;const r=t.getCache(),s=r.getNodes().getBy("node",e);if(!s)continue;const a=this.cacheLoadingNodesMap.get(r);if(!a?.has(s.index)&&(e.__needsRefreshWhenVisible||e.stub&&!e.failedLoad))return{cache:r,index:r.getBlockStartIndex(s.index)}}let i=null,r=null,s=Number.MAX_SAFE_INTEGER;for(const a of this.cacheLoadingNodesMap.keys())a.getNodesToRefresh().forEach((o=>{if(null==o.rowIndex)return r=o,void(i=a);const n=a.getNodes().getBy("node",o);if(!n)return;const l=this.cacheLoadingNodesMap.get(a);if(l?.has(n.index))return;const c=Math.abs(e-o.rowIndex),d=Math.abs(o.rowIndex-t);c<s&&(r=o,s=c,i=a),d<s&&(r=o,s=d,i=a)}));if(!i)return;const a=i,o=a.getNodes().getBy("node",r)?.index;return null==o?void 0:{cache:a,index:a.getBlockStartIndex(o)}}isRowLoading(e,t){return this.cacheLoadingNodesMap.get(e)?.has(t)??!1}},hP=class{constructor(...e){this.indexes=e,this.maps=new Map(this.indexes.map((e=>[e,new Map])))}getSize(){return this.maps.get(this.indexes[0]).size}getBy(e,t){return this.maps.get(e).get(t)}set(e){this.indexes.forEach((t=>{this.maps.get(t).set(e[t],e)}))}delete(e){this.indexes.forEach((t=>{this.maps.get(t).delete(e[t])}))}clear(){this.maps.forEach((e=>e.clear()))}getIterator(e){return this.maps.get(e).values()}forEach(e){const t=this.getIterator(this.indexes[0]);let i;for(;(i=t.next())&&!i.done;)e(i.value)}find(e){const t=this.getIterator(this.indexes[0]);let i;for(;(i=t.next())&&!i.done;)if(e(i.value))return i.value}filter(e){const t=this.getIterator(this.indexes[0]);let i;const r=[];for(;(i=t.next())&&!i.done;)e(i.value)&&r.push(i.value);return r}},mP=class extends Fy.AS9{constructor(e,t,i,r){super(),this.live=!0,this.removedNodeCache=new Map,this.store=e,this.numberOfRows=t,this.isLastRowKnown=i,this.storeParams=r}wireBeans(e){this.rowRenderer=e.rowRenderer,this.blockUtils=e.ssrmBlockUtils,this.focusSvc=e.focusSvc,this.nodeManager=e.ssrmNodeManager,this.serverSideRowModel=e.rowModel,this.rowNodeSorter=e.rowNodeSorter,this.sortSvc=e.sortSvc,this.lazyBlockLoadingSvc=e.lazyBlockLoadingSvc,this.colModel=e.colModel}postConstruct(){this.lazyBlockLoadingSvc.subscribe(this),this.nodeMap=new hP("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.getRowIdFunc=(0,Fy.WWV)(this.gos),this.isMasterDetail=this.gos.get("masterDetail")}destroy(){this.lazyBlockLoadingSvc.unsubscribe(this),this.numberOfRows=0,this.nodeMap.forEach((e=>this.blockUtils.destroyRowNode(e.node))),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1,super.destroy()}getRowByDisplayIndex(e){if(!this.store.isDisplayIndexInStore(e))return;const t=this.nodeDisplayIndexMap.get(e);if(t)return(t.stub||t.__needsRefreshWhenVisible)&&this.lazyBlockLoadingSvc.queueLoadCheck(),t;if(this.gos.get("groupHideOpenParents")||this.gos.get("groupAllowUnbalanced")){const t=this.nodeMap.find((t=>!!t.node.childStore?.isDisplayIndexInStore(e)));if(t)return t.node.childStore?.getRowUsingDisplayIndex(e)}if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);const i=this.nodeDisplayIndexMap.get(e-1);if(i){if(this.isMasterDetail&&i.master&&i.expanded)return i.detailNode;if(i.expanded&&i.childStore?.isDisplayIndexInStore(e))return i.childStore?.getRowUsingDisplayIndex(e);const t=this.nodeMap.getBy("node",i);return this.createStubNode(t.index+1,e)}const r=this.getSurroundingNodesByDisplayIndex(e);if(null==r){const t=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(t,e)}const{previousNode:s,nextNode:a}=r;if(s&&s.node.expanded&&s.node.childStore?.isDisplayIndexInStore(e))return s.node.childStore?.getRowUsingDisplayIndex(e);if(a){const t=a.node.rowIndex-e,i=a.index-t;return this.createStubNode(i,e)}const o=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(o,e)}createStubNode(e,t){const i=this.store.getRowBounds(t),r=this.createRowAtIndex(e,null,(e=>{e.setRowIndex(t),e.setRowTop(i.rowTop),this.nodeDisplayIndexMap.set(t,e)}));if(0===e&&this.gos.get("groupHideOpenParents")){const e=this.store.getParentNode().groupData;if(e)for(const t of Object.keys(e))kx(r,this.colModel,t,e[t])}return this.lazyBlockLoadingSvc.queueLoadCheck(),r}getRowByStoreIndex(e){return this.nodeMap.getBy("index",e)?.node}skipDisplayIndexes(e,t,i){if(0===e)return;const r=(0,Fy.$Wo)(this.beans);t.value+=e,i.value+=e*r}setDisplayIndexes(e,t,i){this.nodeDisplayIndexMap.clear();const r={};this.nodeMap.forEach((e=>{r[e.index]=e.node}));let s=-1;for(const a of Object.keys(r)){const o=r[a],n=Number(a),l=n-1-s;this.skipDisplayIndexes(l,e,t);const c=0===n;if(o.setFirstChild(c),c&&this.gos.get("groupHideOpenParents")){const e=this.store.getParentNode().groupData;if(e)for(const t of Object.keys(e))kx(o,this.colModel,t,c?e[t]:void 0)}this.blockUtils.setDisplayIndex(o,e,t,i),null!=o.rowIndex&&this.nodeDisplayIndexMap.set(o.rowIndex,o),s=n}const a=this.numberOfRows-1-s;this.skipDisplayIndexes(a,e,t),this.purgeExcessRows()}getRowCount(){return this.numberOfRows}setRowCount(e,t){this.numberOfRows=e,null!=t&&(this.isLastRowKnown=t,!1===t&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()}getNodes(){return this.nodeMap}getNodeCachedByDisplayIndex(e){return this.nodeDisplayIndexMap.get(e)??null}getNodesToRefresh(){return this.nodesToRefresh}getSurroundingNodesByDisplayIndex(e){let t,i;return this.nodeMap.forEach((r=>{e>r.node.rowIndex?(null==i||i.node.rowIndex<r.node.rowIndex)&&(i=r):(null==t||t.node.rowIndex>r.node.rowIndex)&&(t=r)})),i||t?{previousNode:i,nextNode:t}:null}getDisplayIndexFromStoreIndex(e){const t=this.nodeMap.getBy("index",e);if(t)return t.node.rowIndex;let i,r;if(this.nodeMap.forEach((t=>{e>t.index?(null==r||r.index<t.index)&&(r=t):(null==i||i.index>t.index)&&(i=t)})),!i)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!r)return this.store.getDisplayIndexStart()+e;const s=e-r.index;return(r.node.childStore?.getDisplayIndexEnd()??r.node.rowIndex)+s}createRowAtIndex(e,t,i){const r=this.nodeMap.getBy("index",e);if(r){const{node:i}=r;if(i.__needsRefreshWhenVisible=!1,this.doesNodeMatch(t,i))return this.blockUtils.updateDataIntoRowNode(i,t),this.nodesToRefresh.delete(i),i;if(null==this.getRowIdFunc&&i.hasChildren()&&i.expanded)return this.nodesToRefresh.delete(i),i;this.destroyRowAtIndex(e)}if(t&&null!=this.getRowIdFunc){const i=this.getRowId(t),r=i&&this.removedNodeCache?.get(i);if(r)return this.removedNodeCache?.delete(i),this.blockUtils.updateDataIntoRowNode(r,t),this.nodeMap.set({id:r.id,node:r,index:e}),this.nodesToRefresh.delete(r),r.__needsRefreshWhenVisible=!1,r;const s=this.nodeMap.getBy("id",i);if(s){this.nodeMap.delete(s);const{node:i,index:r}=s;return this.blockUtils.updateDataIntoRowNode(i,t),this.nodeMap.set({id:i.id,node:i,index:e}),this.nodesToRefresh.delete(i),i.__needsRefreshWhenVisible=!1,this.getBlockStartIndex(r)===this.getBlockStartIndex(e)||this.markBlockForVerify(r),i}}const s=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=t){const e=this.getPrefixedId(this.store.getIdSequence().value++);this.blockUtils.setDataIntoRowNode(s,t,e,void 0),this.serverSideRowModel.setPaused(!0),this.blockUtils.checkOpenByDefault(s),this.serverSideRowModel.setPaused(!1),this.nodeManager.addRowNode(s)}return this.nodeMap.set({id:s.id,node:s,index:e}),i&&i(s),s}getBlockStates(){const e={},t={};this.nodeMap.forEach((({node:i,index:r})=>{const s=this.getBlockStartIndex(r);i.stub||i.failedLoad||(e[s]=(e[s]??0)+1);let a="loaded";i.failedLoad?a="failed":this.lazyBlockLoadingSvc.isRowLoading(this,s)?a="loading":(this.nodesToRefresh.has(i)||i.stub)&&(a="needsLoading"),t[s]||(t[s]=new Set),t[s].add(a)}));const i={loading:4,failed:3,needsLoading:2,loaded:1},r=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};for(const a of Object.keys(t)){const o=[...t[a]].sort(((e,t)=>(i[e]??0)-(i[t]??0))),n=o[0],l=Number(a)/this.getBlockSize();s[r?`${r}-${l}`:String(l)]={blockNumber:l,startRow:Number(a),endRow:Number(a)+this.getBlockSize(),pageStatus:n,loadedRowCount:e[a]??0}}return s}destroyRowAtIndex(e){const t=this.nodeMap.getBy("index",e);t&&(this.nodeMap.delete(t),this.nodeDisplayIndexMap.delete(t.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(t.node.id,t.node):this.blockUtils.destroyRowNode(t.node),this.nodesToRefresh.delete(t.node))}getSsrmParams(){return this.store.getSsrmParams()}getPrefixedId(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()}markBlockForVerify(e){const[t,i]=this.getBlockBounds(e);this.nodeMap.filter((e=>e.index>=t&&e.index<i)).forEach((({node:e})=>{e.__needsRefreshWhenVisible=!0}))}doesNodeMatch(e,t){if(t.stub)return!1;const i=this.getRowId(e);return null===i?t.data===e:t.id===i}purgeStubsOutsideOfViewport(){const{firstRenderedRow:e,lastRenderedRow:t}=this.rowRenderer,i=this.getBlockStartIndex(e),[,r]=this.getBlockBounds(t);this.nodeMap.forEach((e=>{this.lazyBlockLoadingSvc.isRowLoading(this,e.index)||e.node.failedLoad||e.node.stub&&(e.index<i||e.index>r)&&this.destroyRowAtIndex(e.index)}))}getBlocksDistanceFromRow(e,t){const i={};return e.forEach((({node:e,index:r})=>{const[s,a]=this.getBlockBounds(r);if(s in i)return;const o=Math.abs(e.rowIndex-t);let n;const l=this.nodeMap.getBy("index",[a-1]);l&&(n=Math.abs(l.node.rowIndex-t));const c=null==n||o<n?o:n;i[s]=c})),Object.entries(i)}purgeExcessRows(){if(this.purgeStubsOutsideOfViewport(),null==this.store.getDisplayIndexEnd()||null==this.storeParams.maxBlocksInCache)return;const{firstRenderedRow:e,lastRenderedRow:t}=this.rowRenderer,i=new Set,r=new Set;this.nodeMap.forEach((({index:s,node:a})=>{const o=this.getBlockStartIndex(s);i.add(o),a.rowIndex>=e&&a.rowIndex<=t&&r.add(o)}));const s=Math.max(r.size,this.storeParams.maxBlocksInCache??0),a=i.size-s;if(a<=0)return;let o=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;r.forEach((e=>{o>e&&(o=e),n<e&&(n=e)}));const l=this.nodeMap.filter((({node:e,index:t})=>{const i=this.getBlockStartIndex(t);return!(i>=o&&i<=n||this.isNodeCached(e))}));if(0===l.length)return;const c=e+(t-e)/2,d=this.getBlocksDistanceFromRow(l,c),u=this.getBlockSize();d.sort(((e,t)=>Math.sign(t[1]-e[1])));for(let e=0;e<Math.min(a,d.length);e++){const t=Number(d[e][0]);for(let e=t;e<t+u;e++){const t=this.nodeMap.getBy("index",e);t&&!this.isNodeCached(t.node)&&this.destroyRowAtIndex(e)}}}isNodeFocused(e){const t=this.focusSvc.getFocusCellToUseAfterRefresh();return!!t&&(null==t.rowPinned&&t.rowIndex===e.rowIndex)}isNodeCached(e){const t=this.gos.get("groupAllowUnbalanced")&&""===e.key;return e.isExpandable()&&e.expanded||this.isNodeFocused(e)||t}extractDuplicateIds(e){if(null==this.getRowIdFunc)return[];const t=new Set,i=new Set;return e.forEach((e=>{const r=this.getRowId(e);t.has(r)?i.add(r):t.add(r)})),[...i]}onLoadSuccess(e,t,i){if(!this.live)return;const r=i.groupLevelInfo;if(this.store.setStoreInfo(r),null!=this.getRowIdFunc){const r=this.extractDuplicateIds(i.rowData);if(r.length>0){const i=r.join(", ");return(0,Fy.F5b)(205,{duplicateIdText:i}),void this.onLoadFailed(e,t)}}i.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(i.pivotResultFields);const s=this.nodesToRefresh.size>0;if(i.rowData.forEach(((t,i)=>{const r=e+i,s=this.nodeMap.getBy("index",r);if(!s?.node?.stub)return s&&this.doesNodeMatch(t,s.node)?(this.blockUtils.updateDataIntoRowNode(s.node,t),this.nodesToRefresh.delete(s.node),void(s.node.__needsRefreshWhenVisible=!1)):void this.createRowAtIndex(r,t);this.createRowAtIndex(r,t)})),null!=i.rowCount&&-1!==i.rowCount)this.numberOfRows=i.rowCount,this.isLastRowKnown=!0;else if(t>i.rowData.length)this.numberOfRows=e+i.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){const t=e+i.rowData.length+1;t>this.numberOfRows&&(this.numberOfRows=t)}this.isLastRowKnown&&this.nodeMap.filter((e=>e.index>=this.numberOfRows)).forEach((e=>this.destroyRowAtIndex(e.index))),this.fireStoreUpdatedEvent();const a=0===this.nodesToRefresh.size;s&&a&&this.fireRefreshFinishedEvent()}fireRefreshFinishedEvent(){0===this.nodesToRefresh.size&&(this.removedNodeCache.forEach((e=>{this.blockUtils.destroyRowNode(e)})),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())}isStoreFullyLoaded(){const e=this.isLastRowKnown,t=this.nodeMap.getSize()===this.numberOfRows;if(!e||!t)return;if(this.nodesToRefresh.size>0)return;let i=-1;return null==this.nodeMap.find((e=>(i+=1,e.index!==i||!!e.node.__needsRefreshWhenVisible||!!e.node.stub)))}isLastRowIndexKnown(){return this.isLastRowKnown}onLoadFailed(e,t){if(!this.live)return;const i=this.nodesToRefresh.size>0;for(let i=e;i<e+t&&i<this.getRowCount();i++){let{node:e}=this.nodeMap.getBy("index",i)??{};e&&this.nodesToRefresh.delete(e),e&&e.stub||(e&&!e.stub&&this.destroyRowAtIndex(i),e=this.createRowAtIndex(i)),e.__needsRefreshWhenVisible=!1,e.failedLoad=!0}const r=0===this.nodesToRefresh.size;i&&r&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}markNodesForRefresh(){this.nodeMap.forEach((e=>{e.node.stub&&!e.node.failedLoad||this.nodesToRefresh.add(e.node)})),this.lazyBlockLoadingSvc.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())}isNodeInCache(e){return!!this.nodeMap.getBy("id",e)}fireStoreUpdatedEvent(){this.live&&this.store.fireStoreUpdatedEvent()}getRowId(e){if(null==this.getRowIdFunc)return null;const{level:t}=this.store.getRowDetails(),i=this.store.getParentNode().getRoute()??[];return this.getRowIdFunc({data:e,parentKeys:i.length>0?i:void 0,level:t})}getOrderedNodeMap(){const e={};return this.nodeMap.forEach((t=>e[t.index]=t)),e}clearDisplayIndexes(){this.nodeDisplayIndexMap.clear()}clientSideSortRows(){const e=this.sortSvc?.getSortOptions()??[];if(!e.some((e=>null!=e.sort))||!this.rowNodeSorter)return;const t=new Array(this.nodeMap.getSize());this.nodeMap.forEach((e=>t[e.index]=e.node)),this.nodeMap.clear(),this.rowNodeSorter.doFullSort(t,e).forEach(((e,t)=>{this.nodeMap.set({id:e.id,node:e,index:t})}))}updateRowNodes(e){const t=[];return e.forEach((e=>{const i=this.getRowId(e),r=this.nodeMap.getBy("id",i);r&&(this.blockUtils.updateDataIntoRowNode(r.node,e),t.push(r.node))})),t}insertRowNodes(e,t){const i=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),r=null==t&&this.isLastRowKnown?i:t;if(null==r||i<r)return[];const s={};e.forEach((e=>{const t=this.getRowId(e);t&&this.isNodeInCache(t)||(s[t]=e)}));const a=Object.values(s),o=a.length;if(0===o)return[];const n=this.nodeMap.filter((e=>e.index>=r));return n.forEach((e=>this.nodeMap.delete(e))),n.forEach((e=>{this.nodeMap.set({node:e.node,index:e.index+o,id:e.id})})),this.numberOfRows+=o,a.map(((e,t)=>this.createRowAtIndex(r+t,e)))}removeRowNodes(e){const t=[],i=[];let r=0;const s=[...e],a=this.getOrderedNodeMap();let o=-1;for(const e of Object.keys(a)){o+=1;const n=a[e],l=s.findIndex((e=>e===n.id));if(-1!==l){s.splice(l,1),this.destroyRowAtIndex(Number(e)),t.push(n.node),r+=1;continue}if(0===r)continue;const c=Number(e);o!==c&&i.push(n.node),this.nodeMap.delete(n),this.nodeMap.set({id:n.id,node:n.node,index:c-r})}return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:r,s.length>0&&i.length>0&&(i.forEach((e=>e.__needsRefreshWhenVisible=!0)),this.lazyBlockLoadingSvc.queueLoadCheck()),t}getBlockSize(){return this.storeParams.cacheBlockSize||100}getBlockStartIndex(e){return e-e%this.getBlockSize()}getBlockBounds(e){const t=this.getBlockStartIndex(e);return[t,t+this.getBlockSize()]}},gP=class extends Fy.AS9{constructor(e,t,i){super(),this.idSequence={value:0},this.ssrmParams=e,this.parentRowNode=i,this.storeParams=t,this.level=i.level+1,this.group=!!e.rowGroupCols&&this.level<e.rowGroupCols.length,this.leafGroup=!!e.rowGroupCols&&this.level===e.rowGroupCols.length-1,this.info={}}wireBeans(e){this.blockUtils=e.ssrmBlockUtils,this.storeUtils=e.ssrmStoreUtils,this.selectionSvc=e.selectionSvc,this.rowGroupColsSvc=e.rowGroupColsSvc}postConstruct(){let e=1;if(0===this.level&&(e=this.storeUtils.getServerSideInitialRowCount()??1,this.eventSvc.dispatchEventOnce({type:"rowCountReady"})),this.cache=this.createManagedBean(new mP(this,e,!1,this.storeParams)),!this.gos.get("treeData")&&this.group&&this.rowGroupColsSvc){const e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.rowGroupColsSvc.columns[this.level]}}destroy(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache),super.destroy()}applyRowData(e,t,i){this.cache.onLoadSuccess(t,i,e)}applyTransaction(e){const t=(0,Fy.WWV)(this.gos);if(!t)return(0,Fy.F5b)(206),{status:Fy.Qk6.Cancelled};const i=this.gos.getCallback("isApplyServerSideTransaction");if(i&&!i({transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info}))return{status:Fy.Qk6.Cancelled};const r=this.cache.isStoreFullyLoaded();let s,a,o;if(e.update?.length&&(s=this.cache.updateRowNodes(e.update)),e.add?.length){let t=e.addIndex;null!=t&&t<0&&(t=void 0),a=this.cache.insertRowNodes(e.add,t)}if(e.remove?.length){const i=e.remove.map((e=>t({level:this.level,parentKeys:this.parentRowNode.getRoute()??[],data:e}))),r=[...new Set(i)];o=this.cache.removeRowNodes(r)}const n=this.gos.get("serverSideEnableClientSideSort");return r&&n&&(s?.length||a?.length)&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(s,o),{status:Fy.Qk6.Applied,update:s,add:a,remove:o}}updateSelectionAfterTransaction(e,t){if(!this.selectionSvc)return;const i=[];e?.forEach((e=>{e.isSelected()&&!e.selectable&&i.push(e)})),t?.forEach((e=>{e.isSelected()&&i.push(e)})),i.length&&this.selectionSvc.setNodesSelected({newValue:!1,clearSelection:!1,nodes:i,source:"rowDataChanged"})}clearDisplayIndexes(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach((e=>this.blockUtils.clearDisplayIndex(e.node))),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()}getDisplayIndexStart(){return this.displayIndexStart}getDisplayIndexEnd(){return this.displayIndexEnd}getRowCount(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()}setRowCount(e,t){this.cache.setRowCount(e,t)}isDisplayIndexInStore(e){return 0!==this.cache.getRowCount()&&this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()}setDisplayIndexes(e,t,i){this.displayIndexStart=e.value,this.topPx=t.value;const r=this.parentRowNode.level>-1&&(0,Fy.CaV)(this.gos)({node:this.parentRowNode});r||FE(this.parentRowNode),"top"===r&&(LE(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,t,i)),this.cache.setDisplayIndexes(e,t,i),"bottom"===r&&(LE(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,t,i)),this.displayIndexEnd=e.value,this.heightPx=t.value-this.topPx}forEachStoreDeep(e,t={value:0}){e(this,t.value++),this.cache.getNodes().forEach((i=>{const r=i.node.childStore;r&&r.forEachStoreDeep(e,t)}))}forEachNodeDeep(e,t={value:0}){this.cache.getNodes().forEach((i=>{e(i.node,t.value++);const r=i.node.childStore;r&&r.forEachNodeDeep(e,t)}))}forEachNodeDeepAfterFilterAndSort(e,t={value:0},i=!1){const r=this.parentRowNode.level>-1&&(0,Fy.CaV)(this.gos)({node:this.parentRowNode});"top"===r&&e(this.parentRowNode.sibling,t.value++);const s=this.cache.getOrderedNodeMap();for(const r of Object.values(s)){e(r.node,t.value++);const s=r.node.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,t,i)}"bottom"===r&&e(this.parentRowNode.sibling,t.value++)}retryLoads(){this.cache.getNodes().forEach((({node:e})=>{e.failedLoad&&(e.failedLoad=!1,e.__needsRefreshWhenVisible=!0,e.stub=!0)})),this.forEachChildStoreShallow((e=>e.retryLoads())),this.fireStoreUpdatedEvent()}getRowUsingDisplayIndex(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)}getRowBounds(e){if(!this.isDisplayIndexInStore(e))return null;const t=this.cache.getNodeCachedByDisplayIndex(e);if(t){const i=this.blockUtils.extractRowBounds(t,e);if(i)return i}const{previousNode:i,nextNode:r}=this.cache.getSurroundingNodesByDisplayIndex(e)??{};if(i){const t=this.blockUtils.extractRowBounds(i.node,e);if(null!=t)return t}const s=(0,Fy.$Wo)(this.beans);if(r){const t=(r.node.rowIndex-e)*s;return{rowTop:r.node.rowTop-t,rowHeight:s}}return{rowTop:this.topPx+this.heightPx-(this.getDisplayIndexEnd()-e)*s,rowHeight:s}}isPixelInRange(e){return e>=this.topPx&&e<this.topPx+this.heightPx}getRowIndexAtPixel(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;if(this.parentRowNode.sibling&&e>this.parentRowNode.sibling.rowTop&&e<this.parentRowNode.sibling.rowTop+this.parentRowNode.sibling.rowHeight)return this.parentRowNode.sibling.rowIndex;let t=Number.MAX_SAFE_INTEGER,i=null,r=Number.MAX_SAFE_INTEGER,s=null;if(this.cache.getNodes().forEach((({node:a})=>{const o=Math.abs(e-a.rowTop);a.rowTop<e?o<t&&(t=o,i=a):o<r&&(r=o,s=a)})),i){const t=this.blockUtils.getIndexAtPixel(i,e);if(null!=t)return t}const a=(0,Fy.$Wo)(this.beans);if(s){const t=s.rowTop,i=Math.ceil((t-e)/a);return s.rowIndex-i}const o=this.topPx+this.heightPx,n=Math.floor((o-e)/a);return this.getDisplayIndexEnd()-n}getChildStore(e){return this.storeUtils.getChildStore(e,this,(e=>{const t=this.cache.getNodes().find((t=>t.node.key==e));return t?t.node:null}))}forEachChildStoreShallow(e){this.cache.getNodes().forEach((({node:t})=>{t.childStore&&e(t.childStore)}))}refreshAfterSort(e){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){const e=this.cache.isStoreFullyLoaded(),t=this.gos.get("serverSideEnableClientSideSort");if(!e||!t){const e=this.cache.getRowCount(),t=this.cache.isLastRowIndexKnown();return this.destroyBean(this.cache),void(this.cache=this.createManagedBean(new mP(this,e,t,this.storeParams)))}this.cache.clientSideSortRows()}this.forEachChildStoreShallow((t=>t.refreshAfterSort(e)))}refreshAfterFilter(e){!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.refreshStore(!0):this.forEachChildStoreShallow((t=>t.refreshAfterFilter(e)))}refreshStore(e){if(e)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new mP(this,1,!1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()}getTopLevelRowDisplayedIndex(e){return this.cache.getDisplayIndexFromStoreIndex(e)??e}isLastRowIndexKnown(){return this.cache.isLastRowIndexKnown()}getRowNodesInRange(e,t){return this.cache.getNodes().filter((({node:i})=>i.rowIndex>=e.rowIndex&&i.rowIndex<=t.rowIndex)).map((({node:e})=>e))}addStoreStates(e){e.push({route:this.parentRowNode.getRoute()??[],rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow((t=>t.addStoreStates(e)))}getIdSequence(){return this.idSequence}getParentNode(){return this.parentRowNode}getRowDetails(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}}getSsrmParams(){return this.ssrmParams}setStoreInfo(e){e&&Object.assign(this.info,e)}fireStoreUpdatedEvent(){this.eventSvc.dispatchEvent({type:"storeUpdated"})}fireRefreshFinishedEvent(){this.eventSvc.dispatchEvent({type:"storeRefreshed",route:this.parentRowNode.getRoute()})}getBlockStates(){return this.cache.getBlockStates()}getStoreBounds(){return{topPx:this.topPx,heightPx:this.heightPx}}getCache(){return this.cache}getFirstNode(){const e=this.cache.getNodes().getBy("index",0);return e?.node??null}},bP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmStoreFactory"}wireBeans(e){this.colModel=e.colModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.rowAutoHeight=e.rowAutoHeight}createStore(e,t){const i=this.getStoreParams(e,t);return new gP(e,i,t)}getStoreParams(e,t){const i=this.getLevelSpecificParams(t);return{cacheBlockSize:this.getBlockSize(i),maxBlocksInCache:this.getMaxBlocksInCache(e,i)}}getMaxBlocksInCache(e,t){const i=t&&null!=t.maxBlocksInCache?t.maxBlocksInCache:this.gos.get("maxBlocksInCache");if(null!=i&&i>=0)if(e.dynamicRowHeight)(0,Fy.F5b)(203);else{if(!this.rowAutoHeight?.active)return i;(0,Fy.F5b)(204)}}getBlockSize(e){const t=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gos.get("cacheBlockSize");return null!=t&&t>0?t:100}getLevelSpecificParams(e){const t=this.gos.getCallback("getServerSideGroupLevelParams");if(t)return t({level:e.level+1,parentRowNode:e.level>=0?e:void 0,rowGroupColumns:this.rowGroupColsSvc?.columns??[],pivotColumns:this.pivotColsSvc?.columns??[],pivotMode:this.colModel.isPivotMode()})}},fP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmStoreUtils"}wireBeans(e){this.colModel=e.colModel,this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}getChildStore(e,t,i){if(!e?.length)return t;const r=i(e[0]);if(r){if(1===e.length&&!r.childStore){const e=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(e,r))}const t=e.slice(1,e.length),i=r.childStore;return i?i.getChildStore(t):null}return null}isServerRefreshNeeded(e,t,i){if(i.valueColChanged||i.secondaryColChanged)return!0;const r=e.level+1;if(!(r<t.length))return!0;const s=t[r].id;return i.changedColumns.indexOf(s)>-1||this.colModel.getCols().filter((e=>e.getColDef().showRowGroup&&i.changedColumns.includes(e.getId()))).map((e=>e.getColDef().showRowGroup)).some((e=>!0===e||e===s))}getServerSideInitialRowCount(){return this.gos.get("serverSideInitialRowCount")}isServerSideSortAllLevels(){return this.gos.get("serverSideSortAllLevels")&&(0,Fy.jie)(this.gos)}isServerSideOnlyRefreshFilteredGroups(){return this.gos.get("serverSideOnlyRefreshFilteredGroups")&&(0,Fy.jie)(this.gos)}},vP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="ssrmTxnManager",this.asyncTransactions=[]}wireBeans(e){this.valueCache=e.valueCache,this.serverSideRowModel=e.rowModel,this.selectionSvc=e.selectionSvc}postConstruct(){(0,Fy.jie)(this.gos)}applyTransactionAsync(e,t){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:t})}scheduleExecuteAsync(){const e=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimeout=window.setTimeout((()=>{this.executeAsyncTransactions()}),e)}executeAsyncTransactions(){if(!this.asyncTransactions)return;const e=[],t=[],i=[];let r=!1;this.asyncTransactions.forEach((s=>{let a;this.serverSideRowModel.executeOnStore(s.transaction.route,(e=>{a=e.applyTransaction(s.transaction)}))?null==a&&(a={status:Fy.Qk6.StoreNotFound}):a={status:Fy.Qk6.StoreNotStarted},t.push(a),a.status==Fy.Qk6.StoreLoading?i.push(s):(s.callback&&e.push((()=>s.callback(a))),a.status===Fy.Qk6.Applied&&(r=!0))})),e.length>0&&window.setTimeout((()=>{e.forEach((e=>e()))}),0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=i,r&&(this.valueCache?.onDataChanged(),this.eventSvc.dispatchEvent({type:"storeUpdated"})),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t})}flushAsyncTransactions(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()}applyTransaction(e){let t;if(this.serverSideRowModel.executeOnStore(e.route,(i=>{t=i.applyTransaction(e)}))){if(t){if(this.valueCache?.onDataChanged(),t.remove&&this.selectionSvc){const i=t.remove.map((e=>e.id));this.selectionSvc.deleteSelectionStateFromParent(e.route||[],i)}return this.eventSvc.dispatchEvent({type:"storeUpdated"}),t}return{status:Fy.Qk6.StoreNotFound}}return{status:Fy.Qk6.StoreNotStarted}}},yP={moduleName:"ServerSideRowModel",version:ww,rowModels:["serverSide"],beans:[oP,tP,fP,eP,aP,vP,iP,bP,rP,cP,pP,uP,class extends WE{constructor(){super(...arguments),this.beanName="expansionSvc",this.queuedRowIds=new Set}wireBeans(e){this.serverSideRowModel=e.rowModel}postConstruct(){this.addManagedEventListeners({columnRowGroupChanged:()=>{this.queuedRowIds.clear()}})}checkOpenByDefault(e){if(!e.isExpandable())return;if(this.queuedRowIds.has(e.id))return this.queuedRowIds.delete(e.id),void e.setExpanded(!0);const t=this.gos.getCallback("isServerSideGroupOpenByDefault");t&&t({data:e.data,rowNode:e})&&e.setExpanded(!0)}expandRows(e){e.forEach((e=>{const t=this.serverSideRowModel.getRowNode(e);t?t.setExpanded(!0):this.queuedRowIds.add(e)}))}expandAll(e){this.serverSideRowModel.expandAll(e)}onGroupExpandedOrCollapsed(){}dispatchExpandedEvent(e){this.eventSvc.dispatchEvent(e),this.beans.rowRenderer.refreshCells({rowNodes:[e.node]})}},sP],dependsOn:[Sw,Fy.Reu,Fy.oGN,MT,ZT,vT,yT]},CP={moduleName:"ServerSideRowModelApi",version:ww,apiFunctions:{getServerSideSelectionState:function(e){return e.selectionSvc?.getSelectionState()??null},setServerSideSelectionState:function(e,t){e.selectionSvc?.setSelectionState(t,"api")},applyServerSideTransaction:function(e,t){return e.ssrmTxnManager?.applyTransaction(t)},applyServerSideTransactionAsync:function(e,t,i){return e.ssrmTxnManager?.applyTransactionAsync(t,i)},applyServerSideRowData:function(e,t){const i=t.startRow??0,r=t.route??[];i<0?(0,Fy.F5b)(189,{startRow:i}):(0,Fy.F7D)(e)?.applyRowData(t.successParams,i,r)},retryServerSideLoads:function(e){(0,Fy.F7D)(e)?.retryLoads()},flushServerSideAsyncTransactions:function(e){return e.ssrmTxnManager?.flushAsyncTransactions()},refreshServerSide:function(e,t){(0,Fy.F7D)(e)?.refreshStore(t)},getServerSideGroupLevelState:function(e){return(0,Fy.F7D)(e)?.getStoreState()??[]}},dependsOn:[Sw,Fy.GR0,Fy.Z0d]},kP=Symbol("WrappedFunctionMarker"),wP=(e,t)=>{if(e[kP])return e;const i=(...i)=>t(e,...i);return i[kP]=kP,i};function SP(e){return{content:`${e.xValue} ${e.yValue}`}}function xP(e){return{content:`${e.yValue}`}}var _P=class extends Fy.wA2{constructor(){super({tag:"div",cls:"ag-sparkline-wrapper",children:[{tag:"span",ref:"eSparkline"}]}),this.eSparkline=Fy.CUI,this.cachedWidth=0,this.cachedHeight=0,this.dataRef=[],this.processedData=[]}postConstruct(){this.env=this.beans.environment,this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes","styleNonce"],(()=>this.refresh(this.params)))}createListener(e=!0){return()=>this.updateSize(this.params?.column?.getActualWidth()??0,(this.params?.node.rowHeight??0)-2,e)}initGridObserver(){const e=this.createListener(),t=this.createListener(!1),i=this.params?.column,r=this.params?.node;i.__addEventListener("columnStateUpdated",e),r.__addEventListener("heightChanged",e),this.addDestroyFunc((()=>{i.__removeEventListener("columnStateUpdated",e),r.__removeEventListener("heightChanged",e)})),t()}updateSize(e,t,i=!0){if((e-=this.env.getCellPadding())!==this.cachedWidth||t!==this.cachedHeight){this.cachedWidth=e,this.cachedHeight=t;const r=this.refresh.bind(this);i?(0,Fy.Ubm)((()=>this.isAlive()&&r())):r()}}init(e){this.params=e,this.initGridObserver()}refresh(e=this.params){var t;this.params=e;const i=this.cachedWidth,r=this.cachedHeight,s=this.gos.get("styleNonce");if(!this.sparklineInstance&&e&&i>0&&r>0){if(this.sparklineOptions={container:this.eSparkline,width:i,height:r,...e.sparklineOptions,...s?{styleNonce:s}:{},data:this.processData(e.value)},(t=this.sparklineOptions).type??(t.type="line"),this.sparklineOptions.tooltip?.renderer)this.wrapTooltipRenderer();else{const e=this.getDefaultTooltipRenderer();this.sparklineOptions.tooltip={...this.sparklineOptions.tooltip,renderer:e}}const a=this.sparklineOptions?.theme;return"bar"===this.sparklineOptions.type&&this.sparklineOptions.itemStyler?this.wrapItemStyler(this.sparklineOptions):a?.overrides?.bar?.series?.itemStyler&&this.wrapItemStyler(a.overrides.bar.series),this.sparklineInstance=e.createSparkline(this.sparklineOptions),!0}return!!this.sparklineInstance&&(this.sparklineInstance.update({...this.sparklineOptions,data:this.processData(e?.value),width:i,height:r,...s?{styleNonce:s}:{}}),!0)}processData(e=[]){return 0===e.length?e:(this.dataRef!==e&&(this.dataRef=e,this.processedData=Array.isArray(e[0])?e.filter((e=>null!=e)):e),this.processedData)}createContext(){return{data:this.params?.data,cellData:this.params?.value}}getDefaultTooltipRenderer(e){const t=e?.title,i=this.sparklineOptions.xKey,r=Array.isArray(this.sparklineOptions.data?.[0]);return t||!i&&!r?xP:SP}wrapItemStyler(e){e.itemStyler=wP(e.itemStyler,((e,t)=>e({...t,context:this.createContext()})))}wrapTooltipRenderer(){this.sparklineOptions.tooltip={...this.sparklineOptions.tooltip,renderer:wP(this.sparklineOptions.tooltip.renderer,((e,t)=>{const i=e({...t,context:this.createContext()});return"string"==typeof i?i:{...this.getDefaultTooltipRenderer(i)(t),...i}}))}}destroy(){super.destroy(),this.sparklineInstance?.destroy()}},EP=e=>(e.setup(),{moduleName:"Sparklines",version:ww,dependsOn:[Sw],css:[".ag-sparkline-wrapper{height:100%;line-height:normal;position:absolute;top:0;width:100%}"],userComponents:{agSparklineCellRenderer:{classImp:_P,params:{createSparkline:e.createSparkline}}},validate:()=>({isValid:!0})}),MP={tag:"span",cls:"ag-find-cell"},TP=class extends Fy.wA2{constructor(){super(MP)}init(e){this.refresh(e)}refresh(e){const{node:t,column:i}=e,{findSvc:r,valueSvc:s}=this.beans,{value:a,valueFormatted:o}=s.getValueForDisplay(i,t,!0),n=o??a??"",l=this.getGui();(0,Fy.wvc)(l);const c=r?.getParts({value:n,node:t,column:i??null});if(!c)return l.textContent=(0,Fy.Z_J)(n)??"",l.classList.remove("ag-find-cell-active-match"),!0;let d=!1;for(const{value:e,match:t,activeMatch:i}of c){const r=(0,Fy.Z_J)(e)??"";if(t){const e=(0,Fy.Xye)({tag:"mark",cls:"ag-find-match"});e.textContent=r,i&&(e.classList.add("ag-find-active-match"),d=!0),l.appendChild(e)}else l.appendChild(document.createTextNode(r))}return l.classList.toggle("ag-find-cell-active-match",d),!0}};function PP(e){return e?.toLocaleLowerCase()}function AP(e,t,i){const r=t((0,Fy.Z_J)(i));let s=0;if(r?.length){let t=-1;for(;t=r.indexOf(e,t+1),-1!=t;)s++}return s}var DP=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="findSvc",this.active=!1,this.topMatches=new Map,this.topNodes=[],this.topNumMatches=0,this.centerMatches=new Map,this.centerNodes=[],this.centerNumMatches=0,this.bottomMatches=new Map,this.bottomNodes=[],this.caseFormat=PP,this.scrollOnRefresh=!1,this.totalMatches=0}postConstruct(){if(!(0,Fy.qYz)(this.gos))return;const e=this.refresh.bind(this,!1),t=this.refresh.bind(this,!0),i=(0,Fy.eTz)(this,(()=>{this.isAlive()&&t()}),0);this.refreshDebounced=i,this.addManagedPropertyListener("findSearchValue",e),this.addManagedPropertyListener("findOptions",(({currentValue:t,previousValue:i})=>{(0,Fy.jHe)(t,i)||e()})),this.addManagedPropertyListeners(["groupSuppressBlankHeader","showOpenedGroup"],t),this.addManagedEventListeners({modelUpdated:t,displayedColumnsChanged:t,pinnedRowDataChanged:t,cellValueChanged:i,rowNodeDataChanged:i});const r=this.beans.rowSpanSvc;r&&this.addManagedListeners(r,{spannedCellsUpdated:i}),e()}next(){this.findAcrossContainers(!1,["top",null,"bottom"],1,1)}previous(){this.findAcrossContainers(!0,["bottom",null,"top"],this.totalMatches,-1)}goTo(e,t){if(!t&&e===this.activeMatch?.numOverall)return;const{topMatches:i,topNumMatches:r,centerMatches:s,centerNumMatches:a,bottomMatches:o}=this;e<=r?this.goToInContainer(i,e,0):e<=a?this.goToInContainer(s,e,r):this.goToInContainer(o,e,r+a)}clearActive(){this.activeMatch&&this.setActive(void 0)}isMatch(e,t){return this.active&&!!this.getMatches(e.rowPinned).get(e)?.some((([e])=>e===t))}getNumMatches(e,t){return this.getMatches(e.rowPinned).get(e)?.find((([e])=>e===t))?.[1]??0}getParts(e){const{value:t,node:i,column:r,precedingNumMatches:s}=e,a=this.findSearchValue,o=(0,Fy.Z_J)(t)??"";if((0,Fy.n92)(a))return[{value:o}];const n=this.caseFormat(o)??"",l=this.getActiveMatchNum(i,r)-(s??0);let c=0,d=0;const u=a.length,p=[];for(;;){const e=n.indexOf(a,c);if(-1==e)return c<o.length&&p.push({value:o.slice(c)}),p;{d++,e>c&&p.push({value:o.slice(c,e)});const t=e+u;p.push({value:o.slice(e,t),match:!0,activeMatch:d===l}),c=t}}}registerDetailGrid(e,t){const i=this.gos;if(!(0,Fy.qYz)(i))return;const r=()=>i.get("findOptions")?.searchDetail,s=t=>{const i=this.centerMatches.get(e)?.[0];t!==(i?.[1]??0)&&this.refreshDebounced()};t.addEventListener("findChanged",(e=>{!t.isDestroyed()&&this.isAlive()&&this.active&&r()&&s(e.totalMatches)})),t.addEventListener("gridPreDestroyed",(()=>{if(!this.isAlive()||!this.active||!r())return;const t=e.parent,a=this.findSearchValue;if(!t||!a)return;const o=i.get("detailCellRendererParams")?.getFindMatches?.({node:t,data:t.data,findSearchValue:i.get("findSearchValue"),updateMatches:this.refreshDebounced,getMatchesForValue:e=>AP(a,this.caseFormat,e)})??0;s(o)})),r()&&t.setGridOption("findSearchValue",i.get("findSearchValue"))}refresh(e){const t=new Set([...this.topNodes,...this.centerNodes,...this.bottomNodes]);this.topNodes=[],this.centerNodes=[],this.bottomNodes=[];const{topNodes:i,topMatches:r,centerMatches:s,centerNodes:a,bottomNodes:o,bottomMatches:n,beans:{gos:l,visibleCols:c,rowModel:d,valueSvc:u,pinnedRowModel:p,pagination:h,rowSpanSvc:m,masterDetailSvc:g,colModel:b},findSearchValue:f}=this,v=l.get("findOptions"),y=v?.caseSensitive?e=>e??void 0:PP;this.caseFormat=y;const C=l.get("findSearchValue"),k=y(C?.trim());this.findSearchValue=k,r.clear(),s.clear(),n.clear();const w=e?this.activeMatch:void 0;this.activeMatch=void 0;const S=l.get("masterDetail")&&v?.searchDetail&&g;if((0,Fy.n92)(k)){if(this.active=!1,this.topNumMatches=0,this.centerNumMatches=0,this.totalMatches=0,this.refreshRows(t),S){const e=g.store;for(const t of Object.keys(e))e[t]?.api?.findClearActive()}return void((0,Fy.n92)(f)||this.dispatchFindChanged())}const x=c.allCols,_=l.getCallback("isFullWidthRow"),E=l.get("detailCellRendererParams"),M=l.get("fullWidthCellRendererParams"),T=l.get("groupRowRendererParams"),P=jE(l),A=b.isPivotMode();let D,I,N=0,R=!1;const L=(e,i,r,s)=>{if(!r)return;let a=D.get(e);a||(a=[],D.set(e,a),I.push(e),s||t.add(e)),a.push([i,r]),N+=r},F=e=>{if(R){let t=e.rowIndex,i=e.parent;for(;null==t&&i;)t=i.rowIndex,i=i.parent;if(null==t||!h.isRowInPage(t))return}const t=e.hasChildren();if(!qE(P,e,t,A,KE(P,e,t),$E(P,e,t)))return;const i=e.data;if(_?.({rowNode:e})){if(M){const t=M.getFindMatches?.({node:e,data:i,findSearchValue:C,updateMatches:this.refreshDebounced,getMatchesForValue:e=>AP(k,y,e)})??0;L(e,null,t)}return}if((0,Fy.y3G)(l,e,A)){let t;const r=T?.getFindText;if(r){const s=u.getValueForDisplay(void 0,e).value;t=r((0,Fy.OHk)(l,{value:s,node:e,data:i,column:null,colDef:null,getValueFormatted:()=>{const{valueFormatted:t}=u.getValueForDisplay(void 0,e,!0);return t}}))}else{const{value:i,valueFormatted:r}=u.getValueForDisplay(void 0,e,!0);t=r??i}const s=AP(k,y,t);return void L(e,null,s)}const r=e.level>0&&l.get("groupHideOpenParents")&&e.parent?.getFirstChild()===e&&!e.parent?.expanded;for(const t of x){if((0,Fy.CAR)(t)||(0,Fy.Y9R)(t))continue;const s=m?.getCellSpan(t,e);if(s&&s.firstNode!==e)continue;if(t.colDef.showRowGroup&&r)continue;let a;const o=t.colDef,n=o.getFindText;if(n){const r=u.getValueForDisplay(t,e).value;a=n((0,Fy.OHk)(l,{value:r,node:e,data:i,column:t,colDef:o,getValueFormatted:()=>{const{valueFormatted:i}=u.getValueForDisplay(t,e,!0);return i}}))}else{const{value:i,valueFormatted:r}=u.getValueForDisplay(t,e,!0);a=r??i}const c=AP(k,y,a);L(e,t,c)}if(e.master&&S){const t=e.detailNode;if(t){const e=t.detailGridInfo?.api;if(e){e.setGridOption("findSearchValue",C);const i=e.findGetTotalMatches();return void L(t,null,i)}}if(E){const r=E.getFindMatches?.({node:e,data:i,findSearchValue:C,updateMatches:this.refreshDebounced,getMatchesForValue:e=>AP(k,y,e)})??0;L(t??{parent:e,dummy:!0},null,r,!t)}}};D=r,I=i,p?.forEachPinnedRow("top",F),this.topNumMatches=N;let O=N;D=s,I=a,N=0,R=!!h&&!!v?.currentPageOnly,d.forEachNodeAfterFilterAndSort(F,!0),this.centerNumMatches=N,O+=N,D=n,I=o,N=0,R=!1,p?.forEachPinnedRow("bottom",F),O+=N,this.totalMatches=O,this.active=!0,this.refreshRows(t),w&&this.resetActiveMatch(w),this.dispatchFindChanged()}resetActiveMatch(e){const{column:t,numInMatch:i}=e;let r=e.node;if(r.dummy){const e=r.parent?.detailNode;if(!e)return;r=e}const s=r.rowPinned??null,a=this.getMatches(s)?.get(r)?.some((([e,r])=>e===t&&r>=i));if(!a)return;let o=0;null==s?o=this.topNumMatches:"bottom"===s&&(o=this.topNumMatches+this.centerNumMatches),(()=>{const e=this.getMatches(s);for(const s of e.keys()){const a=s===r,n=e.get(s);for(const[e,r]of n){if(a&&e===t)return void(o+=i);o+=r}}})();const n={...e,node:r,numOverall:o};this.activeMatch=n,this.refreshRows(new Set([r]),null==t?void 0:new Set([t])),this.scrollOnRefresh&&(this.scrollOnRefresh=!1,this.scrollToActive(n)),this.setDetailActive(n)}refreshRows(e,t){e.size&&this.beans.rowRenderer.refreshCells({rowNodes:[...e],columns:t?[...t]:void 0,force:!0,suppressFlash:!0})}findAcrossContainers(e,t,i,r){if(!this.totalMatches)return void this.setActive();const s=this.activeMatch;let a=t;if(s){const{column:i,node:o,numInMatch:n,numOverall:l}=s,c=o.rowPinned??null,d=l+r;if(this.findInContainer(c,e,d,o,i,n))return;const u=t.indexOf(c),p=t.length;if(t.slice(u+1,p).some((t=>this.findInContainer(t,e,d))))return;a=t.slice(0,u+1)}a.some((t=>this.findInContainer(t,e,i)))}findInContainer(e,t,i,r,s,a){const o=this.getMatches(e),n=this.getRowNodes(e),l=t?-1:1;if(null!=r){const e=o.get(r),n=e?.findIndex((([e])=>e===s));if(null!=n&&-1!=n){const[s,o]=e[n];if(t?a>1:a<o)return this.setActive({column:s,node:r,numInMatch:a+l,numOverall:i}),!0}const c=null!=n&&-1!=n?e?.[n+l]:void 0;if(c){const[e,s]=c;return this.setActive({column:e,node:r,numInMatch:t?s:1,numOverall:i}),!0}}let c;if(null==r)c=n[t?n.length-1:0];else{const e=n.findIndex((e=>e===r));c=n[e+l]}if(null==c)return!1;const d=o.get(c),u=d?.[t?d.length-1:0];if(u){const[e,r]=u;return this.setActive({column:e,node:c,numInMatch:t?r:1,numOverall:i}),!0}return!1}dispatchFindChanged(){const{eventSvc:e,activeMatch:t,totalMatches:i,findSearchValue:r}=this;e.dispatchEvent({type:"findChanged",activeMatch:t,totalMatches:i,findSearchValue:r})}setActive(e){if(e&&null==e.node.rowIndex){const t=e.node;let i=t.footer?t.sibling:t.parent;for(;i&&-1!==i.level;)i.expanded=!0,i=i.parent;return this.activeMatch=e,this.scrollOnRefresh=!0,void this.beans.expansionSvc?.onGroupExpandedOrCollapsed()}const t=this.activeMatch;this.activeMatch=e,this.refreshAndScrollToActive(e,t),e&&this.setDetailActive(e),this.dispatchFindChanged()}setDetailActive({node:e,numInMatch:t}){e.detail&&e.detailGridInfo?.api?.findGoTo(t)}refreshAndScrollToActive(e,t){if(e||t){const i=new Set,r=new Set;let s=!1;const a=e=>{if(!e)return;const{node:t,column:a}=e;i.add(t),null==a?s=!0:r.add(a)};a(e),a(t),this.refreshRows(i,s?void 0:r)}e&&this.scrollToActive(e)}scrollToActive({node:{rowPinned:e,rowIndex:t},column:i}){const{ctrlsSvc:r,pagination:s,gos:a}=this.beans,o=r.getScrollFeature();null==e&&null!=t&&(!s||a.get("findOptions")?.currentPageOnly||s.isRowInPage(t)||s.goToPageWithIndex(t),o.ensureIndexVisible(t)),o.ensureColumnVisible(i)}goToInContainer(e,t,i){let r=i;for(const i of e.keys()){const s=e.get(i);for(const[e,a]of s){if(t<=r+a)return void this.setActive({column:e,node:i,numInMatch:t-r,numOverall:t});r+=a}}}getMatches(e){return"top"===e?this.topMatches:"bottom"===e?this.bottomMatches:this.centerMatches}getRowNodes(e){return"top"===e?this.topNodes:"bottom"===e?this.bottomNodes:this.centerNodes}getActiveMatchNum(e,t){const i=this.activeMatch;return null!=i&&i.node===e&&i.column===t?i.numInMatch:0}destroy(){this.topMatches.clear(),this.topNodes.length=0,this.centerMatches.clear(),this.centerNodes.length=0,this.bottomMatches.clear(),this.bottomNodes.length=0,this.activeMatch=void 0,super.destroy()}},IP={moduleName:"Find",version:ww,apiFunctions:{findGetTotalMatches:function(e){return e.findSvc?.totalMatches??0},findGoTo:function(e,t,i){e.findSvc?.goTo(t,i)},findNext:function(e){e.findSvc?.next()},findPrevious:function(e){e.findSvc?.previous()},findGetActiveMatch:function(e){return e.findSvc?.activeMatch},findGetNumMatches:function(e,t){const{node:i,column:r}=t;return e.findSvc?.getNumMatches(i,r)??0},findGetParts:function(e,t){return e.findSvc?.getParts(t)??[]},findClearActive:function(e){e.findSvc?.clearActive()},findRefresh:function(e){return e.findSvc?.refresh(!0)}},dependsOn:[{moduleName:"FindCore",version:ww,rowModels:["clientSide"],beans:[DP],userComponents:{agFindCellRenderer:TP},css:[".ag-find-cell{display:block;overflow:hidden;text-overflow:ellipsis}.ag-find-match{background-color:var(--ag-find-match-background-color);color:var(--ag-find-match-color)}.ag-find-active-match{background-color:var(--ag-find-active-match-background-color);color:var(--ag-find-active-match-color)}"]}]},NP=class extends Fy.AS9{constructor(e){super(),this.beanName="agChartsExports",this.isEnterprise=!1,this.create=e.create,this._Theme=e._Theme,this._Scene=e._Scene,this.isEnterprise=e.isEnterprise,this._Util=e._Util}};function RP(e){return null!=e.chart?e.chart:e}function LP(e,t,i){if(null==e)return i;const r=t.split(".");let s=e;for(;r.length>1;)if(s=s[r.shift()],null==s)return i;const a=s[r[0]];return null!=a?a:i}var FP={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",stackedLine:"line",normalizedLine:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall",funnel:"funnel",coneFunnel:"cone-funnel",pyramid:"pyramid"},OP=new Set(["columnLineCombo","areaColumnCombo","customCombo"]),BP=["grouped","stacked","normalized"],zP={area:{isCartesian:!0,canInvert:!0},bar:{isCartesian:!0,canInvert:!0},histogram:{isCartesian:!0},line:{isCartesian:!0,canInvert:!0},pie:{isPie:!0},donut:{isPie:!0,canInvert:!0},scatter:{isCartesian:!0},bubble:{isCartesian:!0},"radial-column":{isPolar:!0,isEnterprise:!0,isRadial:!0,canInvert:!0},"radial-bar":{isPolar:!0,isEnterprise:!0,isRadial:!0,canInvert:!0},"radar-line":{isPolar:!0,isEnterprise:!0,canInvert:!0},"radar-area":{isPolar:!0,isEnterprise:!0,canInvert:!0},nightingale:{isPolar:!0,isEnterprise:!0,canInvert:!0},"range-bar":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},"range-area":{isCartesian:!0,isEnterprise:!0},"box-plot":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},treemap:{isEnterprise:!0,isHierarchical:!0},sunburst:{isEnterprise:!0,isHierarchical:!0},heatmap:{isCartesian:!0,isEnterprise:!0},waterfall:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},funnel:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},"cone-funnel":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},pyramid:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0}};function VP(e){return OP.has(e)}function GP(e,t){return!!zP[e]?.[t]}var UP=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function HP(e){return GP(e,"isCartesian")}function WP(e){return"funnel"===e||"cone-funnel"===e||"pyramid"===e}function jP(e){return GP(e,"isPolar")}function KP(e){return GP(e,"isHierarchical")}function $P(e){return"doughnut"===e?"donut":e}function qP(e){return FP[e]}function YP(e){return qP(e)??"line"}function XP(e){return GP(e,"isPie")}function QP(e){return KP(YP(e))?void 0:1}function ZP(e){return KP(YP(e))?2:function(e){return"pie"===e||"waterfall"===e||"histogram"===e||"funnel"===e||"coneFunnel"===e||"pyramid"===e}(e)?1:void 0}function JP(e){return!VP(e)&&GP(YP(e),"canInvert")}function eA(e){switch(e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":case"stackedLine":case"normalizedLine":case"stackedArea":case"normalizedArea":return`${e}Full`;case"doughnut":return"donut";case"areaColumnCombo":return"AreaColumnCombo";default:return e}}var tA=["number","category","grouped-category","log","time"];function iA(e,t){return Object.keys(t.themes).includes(e)}var rA=tA.reduce(((e,t)=>({...e,[t]:{title:{_enabledFromTheme:!0}}})),{});function sA(e,t,i){const r=e.getExtraPaddingDirections();return{common:{...t?{animation:{duration:500}}:void 0,axes:rA,padding:{top:!i&&r.includes("top")?40:20,right:r.includes("right")?30:20,bottom:r.includes("bottom")?40:20,left:r.includes("left")?30:20}}}}function aA(e,t){const{customChartThemes:i}=e,r=i&&i[t];return r||(0,Fy.F5b)(140,{name:t}),r}var oA=class{constructor(e){this.chartProxyParams=e,this.clearThemeOverrides=!1,this.agChartsExports=e.agChartsExports,this.chart=e.chartInstance,this.chartType=e.chartType,this.crossFiltering=e.crossFiltering,this.crossFilterCallback=e.crossFilterCallback,this.standaloneChartType=YP(this.chartType),null==this.chart?this.chart=e.agChartsExports.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}crossFilteringReset(){}update(e){this.getChartRef().update(this.getUpdateOptions(e,this.getCommonChartOptions(e.updatedOverrides)))}updateThemeOverrides(e){this.getChartRef().updateDelta({theme:{overrides:e}})}getChart(){return RP(this.chart)}getChartRef(){return this.chart}downloadChart(e,t,i){const{chart:r}=this,s=RP(r),a=t||(s.title?s.title.text:"chart"),{width:o,height:n}=e||{};r.download({width:o,height:n,fileName:a,fileFormat:i})}getChartImageDataURL(e){return this.getChart().getCanvasDataURL(e)}getChartOptions(){return this.chart.getOptions()}getChartThemeOverrides(){return this.getChartOptions().theme.overrides??{}}getChartPalette(){return this.agChartsExports._Theme.getChartTheme(this.getChartOptions().theme).palette}setPaired(e){const t=YP(this.chartProxyParams.chartType);this.chart.updateDelta({theme:{overrides:{[t]:{paired:e}}}})}isPaired(){const e=YP(this.chartProxyParams.chartType);return LP(this.getChartThemeOverrides(),`${e}.paired`,!0)}lookupCustomChartTheme(e){return aA(this.chartProxyParams,e)}getSeriesGroupType(){}transformCategoryData(e,t){return e.map(((e,i)=>{const r=e[t],s=r&&r.toString?r.toString():"",a={...e};return a[t]={id:i,value:r,toString:()=>s},a}))}getCommonChartOptions(e){const t=this.clearThemeOverrides?{}:this.chart?.getOptions()??{},i=null!=this.chart?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;const r=this.chartProxyParams.styleNonce,s=function(e,t,i,r,s){const{chartOptionsToRestore:a,chartPaletteToRestore:o,chartThemeToRestore:n,agChartsExports:l}=e,c=function(e){let t=e.getChartThemeName();const i=e.getChartThemes();return i.includes(t)||(t=i[0]),t}(e),d=iA(c,l._Theme),u=d?{baseTheme:c}:aA(e,c)??{},p=e.getGridOptionsChartThemeOverrides(),h=e.apiChartThemeOverrides,m=YP(e.chartType),g=e.crossFiltering?function(e,t,i){const r={listeners:{legendItemClick:t=>{const i=e.getChart(),r=[t.seriesId,`${t.seriesId}-filtered-out`];i.series.filter((e=>r.includes(e.id))).forEach((e=>e.toggleSeriesItem(void 0,"category",t.itemId,void 0)))}}},s={tooltip:{delay:500},legend:r,listeners:{click:e=>t.crossFilterCallback(e,!0)}};if("pie"===i||"donut"===i)return{[i]:{series:{fills:{$if:[{$eq:[{$value:"$index"},0]},{$map:[{$mix:[{$value:"$1"},{$ref:"backgroundColor"},.7]},{$palette:"fills"}]},{$palette:"fills"}]},strokes:{$if:[{$eq:[{$value:"$index"},0]},{$map:[{$mix:[{$value:"$1"},{$ref:"backgroundColor"},.7]},{$palette:"strokes"}]},{$palette:"strokes"}]}},...s}};const a={};return"line"!==i&&(a.fill={$if:[{$isEven:[{$value:"$index"}]},{$palette:"fill"},{$mix:[{$path:["../$prevIndex/fill",{$palette:"fill"}]},{$ref:"backgroundColor"},.7]}]}),{[i]:{series:{stroke:{$if:[{$isEven:[{$value:"$index"}]},{$palette:"stroke"},{$mix:[{$path:["../$prevIndex/fill",{$palette:"stroke"}]},{$ref:"backgroundColor"},.7]}]},...a},...s}}}(t,e,m):void 0,b=[d?sA(e,i,(()=>{const e=e=>!!e&&Object.keys(e).some((t=>LP(e[t],"title.enabled",!1)));return e(p)||e(h)})()):void 0,{pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}},r,g,p,h,{...a??{}},s].filter((e=>!!e)).reduce(((e,t)=>({baseTheme:e,overrides:t})),u);return o&&c===n&&(function(e,t){const i=(e,t)=>e===t||e?.length===t?.length&&(e?.every(((e,i)=>e===t?.[i]))??!1);return i(e.fills,t.fills)&&i(e.strokes,t.strokes)}(o,e.agChartsExports._Theme.getChartTheme(u).palette)||(b.palette=o)),b}(this.chartProxyParams,this,this.agChartsExports.isEnterprise,this.getChartThemeDefaults(),e??i),a={...t,mode:"integrated",...r?{styleNonce:r}:{}};return void 0!==this.chartProxyParams.suppressFieldDotNotation&&(a.suppressFieldDotNotation=this.chartProxyParams.suppressFieldDotNotation),a.theme=s,a.container=this.chartProxyParams.parentElement,a}getChartThemeDefaults(){const e=this.getSeriesChartThemeDefaults(),t=e?{[this.standaloneChartType]:e}:{},i={enabled:!0,snap:!0,label:{enabled:!1}},r=this.agChartsExports.isEnterprise?{zoom:{enabled:!0},animation:{enabled:!0,duration:500},axes:{number:{crosshair:i},category:{crosshair:i},log:{crosshair:i},time:{crosshair:i}}}:{};return r.minHeight=0,r.minWidth=0,r.navigator={enabled:!1},{common:r,...t}}getSeriesChartThemeDefaults(){}getActiveFormattingPanelOverrides(){if(this.clearThemeOverrides)return{};const e=this.chart?.getOptions().theme;return e?.overrides??{}}destroy({keepChartInstance:e=!1}={}){if(e)return this.chart.resetAnimations(),this.chart;this.destroyChart()}destroyChart(){this.chart&&(this.chart.destroy(),this.chart=void 0)}},nA=class extends oA{constructor(){super(...arguments),this.crossFilteringAllPoints=new Set,this.crossFilteringSelectedPoints=[]}getUpdateOptions(e,t){const i=this.getAxes(e,t);return{...t,data:this.getData(e,i),axes:i,series:this.getSeries(e)}}getData(e,t){const i=["area","line"].includes(this.standaloneChartType);return this.crossFiltering&&i?this.getCrossFilterData(e):this.getDataTransformedData(e,t)}getDataTransformedData(e,t){const i=t[0].type,{categories:r,data:s}=e,[a]=r;switch(i){case"category":return this.transformCategoryData(s,a.id);case"time":return this.transformTimeData(s,a.id);default:return s}}getXAxisType(e){return e.grouping?"grouped-category":this.isXAxisOfType(e,"time",(e=>e instanceof Date))?"time":this.isXAxisOfType(e,"number")?"number":"category"}isXAxisOfType(e,t,i){const[r]=e.categories;if(r?.chartDataType)return r.chartDataType===t;if(!i)return!1;const s=e.data[0];return!!s&&i(s[r.id])}transformTimeData(e,t){const i=e[0]?.[t];return i instanceof Date?e:e.map((e=>{const i=e[t];return"string"==typeof i?{...e,[t]:new Date(i)}:e}))}crossFilteringReset(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()}crossFilteringPointSelected(e){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(e)}crossFilteringDeselectedPoints(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length}extractLineAreaCrossFilterSeries(e,t){const[i]=t.categories,r=e=>"area"===this.standaloneChartType?t.getCrossFilteringContext().lastSelectedChartId===t.chartId?e+"-total":e:e+"-total";return e.map((e=>(e.yKey=r(e.yKey),e.listeners={nodeClick:t=>{const i=t.datum[e.xKey],r=t.event.metaKey||t.event.ctrlKey;this.crossFilteringAddSelectedPoint(r,i),this.crossFilterCallback(t)}},e.marker={itemStyler:e=>{const t=e.datum[i.id];return{fill:e.highlighted?"yellow":e.fill,size:e.highlighted?14:this.crossFilteringPointSelected(t)?8:0}}},"area"===this.standaloneChartType&&(e.fillOpacity=this.crossFilteringDeselectedPoints()?.3:1),"line"===this.standaloneChartType&&(e.strokeOpacity=this.crossFilteringDeselectedPoints()?.3:1),e)))}getCrossFilterData(e){this.crossFilteringAllPoints.clear();const[t]=e.categories,i=e.fields[0].colId,r=`${i}-filtered-out`,s=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map((a=>{const o=a[t.id];this.crossFilteringAllPoints.add(o);const n=this.crossFilteringPointSelected(o);return"area"===this.standaloneChartType&&s===e.chartId&&(a[`${i}-total`]=n?a[i]:a[i]+a[r]),"line"===this.standaloneChartType&&(a[`${i}-total`]=n?a[i]:a[i]+a[r]),a}))}crossFilteringAddSelectedPoint(e,t){e?this.crossFilteringSelectedPoints.push(t):this.crossFilteringSelectedPoints=[t]}isHorizontal(e){const t=this.standaloneChartType;if("waterfall"!==t&&"box-plot"!==t&&"range-bar"!==t)return!1;const i=e.theme,r=e=>{const i=e?.overrides?.[t]?.series?.direction;return null!=i?"horizontal"===i:"object"==typeof e?.baseTheme&&r(e.baseTheme)};return r(i)}},lA=class extends nA{getSeries(e){const t=e.fields[0];return[{type:this.standaloneChartType,xKey:t.colId,xName:t.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]}getAxes(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]}},cA=class extends nA{getAxes(e,t){return[{type:this.getXAxisType(e),position:this.isHorizontal(t)?"left":"bottom"},{type:"number",position:this.isHorizontal(t)?"bottom":"left"}]}getSeries(e){const[t]=e.categories,[i]=e.fields;return[{type:this.standaloneChartType,xKey:t.id,xName:t.name,yKey:i.colId,yName:i.displayName??void 0}]}},dA=class extends oA{getUpdateOptions(e,t){return{...t,data:this.transformFunnelCategories(e),series:this.getSeries(e)}}transformFunnelCategories(e){const{data:t}=e,[{id:i}]=e.categories;return t.map(((e,t)=>({...e,[i]:{name:e[i],id:t,toString:()=>e[i]}})))}getSeriesChartThemeDefaults(){const e={crosshair:{enabled:!1}};return{zoom:{enabled:!1},..."pyramid"!==this.chartType&&{axes:{category:e,number:e}}}}getSeries(e){const[{id:t}]=e.categories,[{colId:i}]=e.fields;return[{type:this.standaloneChartType,stageKey:t,valueKey:i}]}},uA="AG-GRID-DEFAULT-LABEL-KEY";function pA(e,t=null,i){const{depth:r,rootValues:s,value:a,children:o}=e;if(s)return s.map((e=>({[uA]:t,...e})));if(0===r)return[{[uA]:t,...a}];const n=[];for(const[e,t]of o.entries())n.push(...pA(t,e,!0));return i?[{[uA]:t,children:n,...a??{}}]:n}function hA(e,t,i){const r={depth:0,children:new Map};return e.forEach((e=>{s(e,t(e),i,0,r)})),r;function s(e,t,i,r,a){if(r===t)return 0===r?(a.rootValues||(a.rootValues=[]),a.rootValues.push(e)):a.value=e,a;{const o=i(e,r),n=s(e,t,i,r+1,a.children.get(o)||{depth:0,children:new Map});return a.children.set(o,n),a.depth=Math.max(1+n.depth,a.depth),a}}}var mA=class extends oA{getUpdateOptions(e,t){const{fields:i}=e,[r,s]=i;return{...t,series:this.getSeries(r,s),data:this.getData(e,r,s)}}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:"right"}}}getSeries(e,t){return[{type:this.standaloneChartType,labelKey:uA,sizeKey:e?.colId,sizeName:e?.displayName??void 0,colorKey:t?.colId,colorName:t?.displayName??void 0}]}getData(e,t,i){const{categories:r,data:s,groupData:a,grouping:o}=e;if(o)return function(e,t){return pA(hA(e,(function(e){return t(e)?.length??0}),(function(e,i){const r=t(e);return r?r[r.length-1-i]:null})))}(i?s.concat(a?.map((e=>{const i={...e};return delete i[t.colId],i}))??[]):s,(e=>e[Fy.eHy]?.labels??null));{const e=r.map((({id:e})=>e));return function(e,t){return pA(hA(e,(function(e){return t.length}),(function(e,i){return null==(r=e[t[i]])?null:String(r);var r})))}(s,e)}}},gA=class extends oA{getAxes(e){const t="radial-bar"===this.standaloneChartType;return[{type:t?"angle-number":"angle-category"},{type:t?"radius-category":"radius-number"}]}getSeries(e){const{fields:t,categories:i,seriesGroupType:r}=e,[s]=i,a="radial-bar"===this.standaloneChartType,o=this.getSeriesGroupTypeOptions(r);return t.map((e=>({type:this.standaloneChartType,angleKey:a?e.colId:s.id,angleName:a?e.displayName??void 0:s.name,radiusKey:a?s.id:e.colId,radiusName:a?s.name:e.displayName??void 0,...o})))}getSeriesGroupType(){const e=this.standaloneChartType;if(!["nightingale","radial-bar","radial-column"].includes(e))return;const t=this.getChart().series?.[0]?.properties.toJson(),i=()=>t.normalizedTo?"normalized":"stacked";return"nightingale"===e?t.grouped?"grouped":i():t.stacked?i():"grouped"}getUpdateOptions(e,t){const i=this.getAxes(e);return{...t,data:this.getData(e,i),axes:i,series:this.getSeries(e)}}getData(e,t){if(t.some((e=>"angle-category"===e.type||"radius-category"===e.type))){const[t]=e.categories;return this.transformCategoryData(e.data,t.id)}return e.data}getSeriesGroupTypeOptions(e){return e?{grouped:"grouped"===e||void 0,stacked:"grouped"!==e||void 0,normalizedTo:"normalized"===e?100:void 0}:{}}},bA=class extends oA{getUpdateOptions(e,t){const i="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",r="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY",s="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY";return{...t,series:this.getSeries(e,i,r,s),data:this.getData(e,i,r,s)}}getSeries(e,t,i,r){const[s]=e.categories;return[{type:this.standaloneChartType,yKey:r,xKey:t,colorKey:i,yName:s.name,xName:void 0,colorName:void 0}]}getData(e,t,i,r){const[s]=e.categories;return function(a,o){return a.reduce(((a,o,n,l)=>a.concat(((a,o)=>{const n=a[s.id],l=null==n?"":String(n),c={id:o,value:n,toString:()=>l};return e.fields.map((({colId:e,displayName:s})=>({...a,[t]:s,[i]:a[e],[r]:c})))})(o,n))),new Array)}(e.data)}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:"right"},series:{tooltip:{renderer:fA}}}}};function fA(e){const{xKey:t,yKey:i,colorKey:r,yName:s,datum:a}=e;return{title:"",data:[{label:s,value:a[i]},{label:a[t],value:r&&a[r]}].map((({label:e,value:t})=>({label:String(e),value:String(t)})))}}var vA=class extends Fy.AS9{wireBeans(e){this.sortSvc=e.sortSvc,this.gridRowModel=e.rowModel,this.colModel=e.colModel,this.valueSvc=e.valueSvc,this.pivotResultCols=e.pivotResultCols,this.rowNodeSorter=e.rowNodeSorter}getData(e){if(e.crossFiltering){if(e.grouping)return(0,Fy.F5b)(141),{chartData:[],colNames:{}};if(!(0,Fy.qYz)(this.gos))return(0,Fy.F5b)(142),{chartData:[],colNames:{}}}(0,Fy.jie)(this.gos)&&e.pivoting&&this.updatePivotKeysForSSRM();const t=this.extractRowsFromGridRowModel(e);return t.chartData=this.aggregateRowsByDimension(e,t.chartData),t}extractRowsFromGridRowModel(e){const{crossFiltering:t,startRow:i,endRow:r,valueCols:s,dimensionCols:a,grouping:o}=e;let n=[];const l={},c={},d={};let u,p={},h=[];if(t)p=this.getFilteredRowNodes(),h=this.getAllRowNodes(),u=h.length;else{const e=this.gridRowModel.getRowCount()-1;u=i===r&&0===i&&0===a.length&&0===s.length?0:(r>=0?Math.min(r,e):e)-i+1}u>0&&s.forEach((e=>{let t=[];const i=e.getColDef().pivotKeys;i&&(t=i.slice());const r=e.getColDef().headerName;r&&t.push(r),t.length>0&&(l[e.getId()]=t)}));let m=0,g=0;const b={};for(let r=0;r<u;r++){const l=t?h[r]:this.gridRowModel.getRow(r+i);if(l.footer||l.detail){m++;continue}const u={};a.forEach((e=>{const t=e.colId,i=this.colModel.getCol(t);if(i){const e=this.valueSvc.getValue(i,l);if(o){const i=e?.toString?String(e.toString()):" ",s=this.getGroupLabels(l,i),a=s.slice().reverse(),o={value:a,id:g++,toString:()=>a.filter(Boolean).join(" - ")},n=o.toString(),p=b[n];u[t]=p||(b[n]=o),l.group&&(c[s.toString()]=r-m);const h=s.slice(1,s.length).toString();h&&(d[h]=c[h])}else u[t]=e}else u[wA]=r+1})),s.forEach((i=>{const r=i.getColId();if(t){const t=r+"-filtered-out",s=this.valueSvc.getValue(i,l);let a=s;null!=s&&("function"==typeof s.toNumber?a=s.toNumber():"number"==typeof s.value&&(a=s.value)),p[l.id]?(u[r]=a,u[t]=e.aggFunc||e.isScatter?void 0:0):(u[r]=e.aggFunc||e.isScatter?void 0:0,u[t]=a)}else{let e=this.valueSvc.getValue(i,l);e&&"number"==typeof e.value&&(e=e.value),e&&Object.prototype.hasOwnProperty.call(e,"toString")&&(e=parseFloat(e.toString())),u[r]=null!=e&&"function"==typeof e.toNumber?e.toNumber():e}})),n.push(u)}let f;if(o){const e=Object.values(d),t=n;n=[],f=[];for(let i=0;i<t.length;i++)(e.includes(i)?f:n).push(t[i])}return{chartData:n,colNames:l,groupChartData:f}}aggregateRowsByDimension(e,t){const i=e.dimensionCols;if(!e.aggFunc||0===i.length)return t;const r=(0,Fy._O9)(i),s=r&&r.colId,a={},o=[];return t.forEach((e=>{let t=a;i.forEach((r=>{const a=r.colId,n=e[a];if(a===s){let r=t[n];r||(r={__children:[]},i.forEach((t=>{const i=t.colId;r[i]=e[i]})),t[n]=r,o.push(r)),r.__children.push(e)}else t[n]||(t[n]={}),t=t[n]}))})),this.gos.assertModuleRegistered("SharedAggregation",1)&&o.forEach((t=>e.valueCols.forEach((i=>{const r=i.getColId();if(e.crossFiltering){const s=t.__children.filter((e=>void 0!==e[r])).map((e=>e[r])),a=IE(this.beans,s,e.aggFunc,i);t[r]=a&&void 0!==a.value?a.value:a;const o=`${r}-filtered-out`,n=t.__children.filter((e=>void 0!==e[o])).map((e=>e[o])),l=IE(this.beans,n,e.aggFunc,i);t[o]=l&&void 0!==l.value?l.value:l}else{const s=t.__children.map((e=>e[r])),a=IE(this.beans,s,e.aggFunc,i);t[r]=a&&void 0!==a.value?a.value:a}})))),o}updatePivotKeysForSSRM(){const e=this.pivotResultCols?.getPivotResultCols()?.list;if(!e)return;const t=this.extractPivotKeySeparator(e);e.forEach((e=>{if(""===t)e.getColDef().pivotKeys=[];else{const i=e.getColId().split(t);e.getColDef().pivotKeys=i.slice(0,i.length-1)}}))}extractPivotKeySeparator(e){if(0===e.length)return"";const t=(e,i)=>{const r=e.getGroupId();return e.getParent()?t(e.getParent(),r):i.split(r)[1][0]},i=e[0];return null==i.getParent()?"":t(i.getParent(),i.getColId())}getGroupLabels(e,t){const i=[t];for(;e&&0!==e.level;)if(e=e.parent)if(e.group){const t=this.colModel.getCol(Fy.eHy);if(t){const r=this.valueSvc.getValue(t,e),s=r?.toString?String(r.toString()):" ";i.push(s)}}else i.push(e.key);return i}getFilteredRowNodes(){const e={};return this.gridRowModel.forEachNodeAfterFilterAndSort((t=>{e[t.id]=t})),e}getAllRowNodes(){const e=[];return this.gridRowModel.forEachNode((t=>{e.push(t)})),this.sortRowNodes(e)}sortRowNodes(e){const t=this.sortSvc?.getSortOptions();return t&&0!=t.length&&this.rowNodeSorter?this.rowNodeSorter.doFullSort(e,t):e}},yA=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="chartColSvc",this.valueColsWithoutSeriesType=new Set}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.valueSvc=e.valueSvc}postConstruct(){const e=()=>this.valueColsWithoutSeriesType.clear();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e})}getColumn(e){return this.colModel.getColDefCol(e)}getAllDisplayedColumns(){return this.beans.visibleCols.allCols}getColDisplayName(e,t){const i="chart",r=this.colNames.getDisplayNameForColumn(e,i);if(t){const t=[r],s=e=>{if(!e)return;const r=this.colNames.getDisplayNameForColumnGroup(e,i);r?.length&&(t.unshift(r),s(e.getParent()))};return s(e.getParent()),t.join(" - ")}return r}getRowGroupColumns(){return this.beans.rowGroupColsSvc?.columns??[]}getGroupDisplayColumns(){return this.beans.showRowGroupCols?.getShowRowGroupCols()??[]}isPivotMode(){return this.colModel.isPivotMode()}isPivotActive(){return this.colModel.isPivotActive()}getChartColumns(){const e=this.colModel.getCols(),t=new Set,i=new Set;return e.forEach((e=>{const r=e.getColDef(),s=r.chartDataType;if(s)switch(s){case"category":case"time":return void t.add(e);case"series":return void i.add(e);case"excluded":return;default:(0,Fy.F5b)(153,{chartDataType:s})}"ag-Grid-AutoColumn"!==r.colId?e.isPrimary()?(this.isInferredValueCol(e)?i:t).add(e):i.add(e):t.add(e)})),{dimensionCols:t,valueCols:i}}isInferredValueCol(e){const t=e.getColId();if("ag-Grid-AutoColumn"===t)return!1;const i=(0,Fy.vas)(this.beans,{rowIndex:0,rowPinned:null});if(!i)return this.valueColsWithoutSeriesType.has(t);let r=this.valueSvc.getValue(e,i);null==r&&(r=this.extractLeafData(i,e)),null!=r&&("function"==typeof r.toNumber?r=r.toNumber():"number"==typeof r.value&&(r=r.value));const s="number"==typeof r||"number"===e.colDef.cellDataType||["series","time"].includes(e.colDef.chartDataType);return s?this.valueColsWithoutSeriesType.add(t):null==r&&"number"!==e.colDef.cellDataType&&(0,Fy.F5b)(265,{colId:t}),s}extractLeafData(e,t){if(!e.allLeafChildren)return null;for(let i=0;i<e.allLeafChildren.length;i++){const r=e.allLeafChildren[i],s=this.valueSvc.getValue(t,r);if(null!=s)return s}return null}destroy(){this.valueColsWithoutSeriesType.clear(),super.destroy()}},CA=new Set(["line","groupedColumn","stackedColumn","area","stackedArea"]),kA=class extends Fy.AS9{constructor(e){super(),this.suppressComboChartWarnings=!1,this.chartDataModel=e,this.seriesChartTypes=e.params.seriesChartTypes??[]}postConstruct(){this.initComboCharts()}update(e){this.seriesChartTypes=e??this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()}initComboCharts(){const e=this.seriesChartTypes&&this.seriesChartTypes.length>0;("customCombo"===this.chartDataModel.chartType||e)&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])}updateSeriesChartTypes(){this.chartDataModel.isComboChart()&&(this.seriesChartTypes=this.seriesChartTypes.map((e=>{const t=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!t&&e.secondaryAxis,e})),"customCombo"!==this.chartDataModel.chartType?this.updateChartSeriesTypesForBuiltInCombos():this.updateSeriesChartTypesForCustomCombo())}updateSeriesChartTypesForCustomCombo(){this.seriesChartTypes&&this.seriesChartTypes.length>0||this.suppressComboChartWarnings||(0,Fy.F5b)(150),this.seriesChartTypes=this.seriesChartTypes.map((e=>(CA.has(e.chartType)||((0,Fy.F5b)(151,{chartType:e.chartType}),e.chartType="line"),e)));const e=this.chartDataModel.valueColState.map((e=>{this.savedCustomSeriesChartTypes&&0!==this.savedCustomSeriesChartTypes.length||(this.savedCustomSeriesChartTypes=this.seriesChartTypes);return this.savedCustomSeriesChartTypes.find((t=>t.colId===e.colId))||(e.selected&&!this.suppressComboChartWarnings&&(0,Fy.F5b)(152,{colId:e.colId}),{colId:e.colId,chartType:"line",secondaryAxis:!1})}));this.seriesChartTypes=e,this.savedCustomSeriesChartTypes=e,this.suppressComboChartWarnings=!0}updateChartSeriesTypesForBuiltInCombos(){const{chartType:e,valueColState:t}=this.chartDataModel,i="columnLineCombo"===e?"groupedColumn":"stackedArea",r="columnLineCombo"===e?"line":"groupedColumn",s=t.filter((e=>e.selected)),a=Math.ceil(s.length/2);this.seriesChartTypes=s.map(((e,t)=>{const s=t>=a?r:i;return{colId:e.colId,chartType:s,secondaryAxis:!1}}))}},wA="AG-GRID-DEFAULT-CATEGORY",SA=class extends Fy.AS9{constructor(e){super(),this.unlinked=!1,this.chartData=[],this.valueColState=[],this.dimensionColState=[],this.colNames={},this.crossFiltering=!1,this.grouping=!1,this.params=e,this.chartId=e.chartId,this.setParams(e)}wireBeans(e){this.rangeSvc=e.rangeSvc,this.chartTranslation=e.chartTranslation}setParams(e){const{chartType:t,pivotChart:i,chartThemeName:r,switchCategorySeries:s,aggFunc:a,cellRange:o,suppressChartRanges:n,unlinkChart:l,crossFiltering:c,seriesGroupType:d}=e;this.chartType=t,this.pivotChart=i??!1,this.chartThemeName=r,this.switchCategorySeries=!!s,this.aggFunc=a,this.referenceCellRange=o,this.suppliedCellRange=o,this.suppressChartRanges=n??!1,this.unlinked=!!l,this.crossFiltering=!!c,this.seriesGroupType=d}postConstruct(){this.datasource=this.createManagedBean(new vA),this.chartColSvc=this.createManagedBean(new yA),this.comboChartModel=this.createManagedBean(new kA(this)),this.updateCellRanges({setColsFromRange:!0}),this.updateData()}updateModel(e){const{cellRange:t,seriesChartTypes:i}=e;t!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.setParams(e),this.updateSelectedDimensions(t?.columns),this.updateCellRanges({setColsFromRange:!0}),(this.isComboChart()||i)&&this.comboChartModel.update(i),this.unlinked||this.updateData()}updateCellRanges(e){const{updatedColState:t,resetOrder:i,maintainColState:r,setColsFromRange:s}=e??{};this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);const{dimensionCols:a,valueCols:o}=this.chartColSvc.getChartColumns(),n=this.getAllColumnsFromRanges();t&&this.updateColumnState(t,i),this.setDimensionCellRange(a,n,t),this.setValueCellRange(o,n,s),t||r||(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()}updateData(){const{startRow:e,endRow:t}=this.getRowIndexes();this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();const i={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:e,endRow:t,isScatter:["scatter","bubble"].includes(this.chartType)},{chartData:r,colNames:s,groupChartData:a}=this.datasource.getData(i);this.chartData=r,this.groupChartData=a,this.colNames=s,this.categoryAxisType=void 0}isGrouping(){const e=this.gos.get("treeData"),t=e?null:this.chartColSvc.getRowGroupColumns(),i=e||t&&t.length>0,r=this.getSelectedDimensions().map((({colId:e})=>e)),s=this.chartColSvc.getGroupDisplayColumns().map((e=>e.getColId())).some((e=>r.includes(e)));return!!i&&s}getSelectedValueCols(){return this.valueColState.filter((e=>e.selected)).map((e=>e.column))}getSelectedDimensions(){return this.dimensionColState.filter((e=>e.selected))}getColDisplayName(e,t){return this.chartColSvc.getColDisplayName(e,t)}isPivotMode(){return this.chartColSvc.isPivotMode()}getChartDataType(e){const t=this.chartColSvc.getColumn(e);return t?t.getColDef().chartDataType:void 0}isPivotActive(){return this.chartColSvc.isPivotActive()}createCellRange(e,...t){return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:t,startColumn:e===Fy.StC.DIMENSION||null==this.referenceCellRange.startColumn?t[0]:this.referenceCellRange.startColumn,type:e}}getAllColumnsFromRanges(){if(this.pivotChart)return new Set(this.chartColSvc.getAllDisplayedColumns());const e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push(...this.dimensionCellRange.columns),this.valueCellRange&&e.push(...this.valueCellRange.columns),new Set(e)}getRowIndexes(){let e=0,t=0;const{rangeSvc:i,valueCellRange:r,dimensionCellRange:s}=this,a=r||s;if(i&&a){e=i.getRangeStartRow(a).rowIndex;const r=i.getRangeEndRow(a);t="bottom"===r.rowPinned?-1:r.rowIndex}return{startRow:e,endRow:t}}resetColumnState(){const{dimensionCols:e,valueCols:t}=this.chartColSvc.getChartColumns(),i=this.getAllColumnsFromRanges(),r=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];const s=KP(YP(this.chartType));let a=!1,o=1;const n=this.suppliedCellRange.columns[0];e.forEach((e=>{const t="ag-Grid-AutoColumn"===e.getColId();let r=!1;this.crossFiltering&&this.aggFunc?n.getColId()===e.getColId()&&(r=!0):r=!!t||(!a||s)&&i.has(e),this.dimensionColState.push({column:e,colId:e.getColId(),displayName:this.getColDisplayName(e),selected:r,order:o++}),r&&(a=!0)}));const l={colId:wA,displayName:this.chartTranslation.translate("defaultCategory"),selected:!a,order:0};this.dimensionColState.unshift(l);const c=this.referenceCellRange.columns.filter((e=>t.has(e)));t.forEach((e=>{r&&this.referenceCellRange.columns.includes(e)&&(e=c.shift()),this.valueColState.push({column:e,colId:e.getColId(),displayName:this.getColDisplayName(e),selected:i.has(e),order:o++})}))}updateColumnState(e,t){const i=t=>t.colId===e.colId,{dimensionColState:r,valueColState:s}=this,a=r.find(i),o=s.find(i);if(a)if(KP(YP(this.chartType)))a.selected=e.selected;else{const t=e.selected?a:r.filter((e=>e!==a)).find((({selected:e})=>e));r.forEach((e=>e.selected=e===t))}else o&&(o.selected=e.selected);const n=[...r,...s],l=[];t||(n.forEach(((t,i)=>{i===e.order&&l.push(e.colId),t.colId!==e.colId&&l.push(t.colId)})),n.forEach((e=>{const t=l.indexOf(e.colId);e.order=t>=0?l.indexOf(e.colId):n.length-1}))),this.reorderColState()}reorderColState(){const e=(e,t)=>e.order-t.order;this.dimensionColState.sort(e),this.valueColState.sort(e)}setDimensionCellRange(e,t,i){this.dimensionCellRange=void 0;const r=KP(YP(this.chartType));if(!i&&!this.dimensionColState.length){const i=new Array;return e.forEach((e=>{i.length>0&&!r||!t.has(e)||i.push(e)})),void(i.length>0&&(this.dimensionCellRange=this.createCellRange(Fy.StC.DIMENSION,...i)))}let s=i?[i]:[];if(this.crossFiltering&&this.aggFunc){const e=this.suppliedCellRange.columns[0];s=this.dimensionColState.filter((t=>t.colId===e.getColId()))}else(r||0===s.length||s.some((({column:t})=>!t||!e.has(t))))&&(s=this.dimensionColState.filter((e=>e.selected)));const a=1===s.length&&s[0].colId===wA,o=s.map((({column:e})=>e)).filter((e=>null!=e));o.length>0&&!a&&(this.dimensionCellRange=this.createCellRange(Fy.StC.DIMENSION,...o))}setValueCellRange(e,t,i){this.valueCellRange=void 0;const r=[],s=ZP(this.chartType);let a=0;if(e.forEach((e=>{i?(null==s||a<s)&&t.has(e)&&(r.push(e),a++):this.valueColState.some((t=>t.selected&&t.colId===e.getColId()))&&r.push(e)})),r.length>0){let e=[];this.valueColState.length>0?e=this.valueColState.map((e=>e.colId)):t.forEach((t=>e.push(t.getColId()))),r.sort(((t,i)=>e.indexOf(t.getColId())-e.indexOf(i.getColId()))),this.valueCellRange=this.createCellRange(Fy.StC.VALUE,...r)}}resetCellRanges(e,t){if(!e&&!t)return;const{dimensionCols:i,valueCols:r}=this.chartColSvc.getChartColumns(),s=this.getAllColumnsFromRanges();e&&this.setDimensionCellRange(i,s),t&&this.setValueCellRange(r,s)}updateSelectedDimensions(e){const t=new Set(e.map((e=>e.getColId())));if(KP(YP(this.chartType))){const e=this.dimensionColState.filter((e=>t.has(e.colId))),i=new Set(e.map((e=>e.colId)));this.dimensionColState=this.dimensionColState.map((e=>({...e,selected:i.has(e.colId)})))}else{const e=(this.dimensionColState.find((e=>t.has(e.colId)))||this.dimensionColState[0]).colId;this.dimensionColState=this.dimensionColState.map((t=>({...t,selected:t.colId===e})))}}syncDimensionCellRange(){const e=this.getSelectedDimensions();if(0===e.length)return;const t=e.map((({column:e})=>e)).filter((e=>null!=e));t.length>0&&(this.dimensionCellRange=this.createCellRange(Fy.StC.DIMENSION,...t))}isComboChart(e){return VP(e??this.chartType)}},xA=class extends nA{getAxes(e,t){return[{type:this.getXAxisType(e),position:this.isHorizontal(t)?"left":"bottom"},{type:"number",position:this.isHorizontal(t)?"bottom":"left"}]}computeSeriesStatistics(e,t){const{data:i,fields:r}=e,[s]=e.categories,a=s.id||wA,o=this.groupDataByCategory(a,i);return Array.from(o).map((([e,i])=>{const a={[s.id]:e};return r.forEach(((e,r)=>{const s=i.map((t=>t[e.colId])).filter((e=>"number"==typeof e&&!isNaN(e))),o=t(s);for(const e of Object.keys(o))a[`${e}:${r}`]=s.length>0?o[e]:null})),a}))}groupDataByCategory(e,t){return t.reduce(((t,i)=>{const r=(t=>{if(e===wA)return 1;const i=t[e];return null==i?"":i instanceof Date?i.getTime():i})(i),s=t.get(r);return s?s.push(i):t.set(r,[i]),t}),new Map)}},_A=class extends xA{getSeries(e){const[t]=e.categories;return e.fields.map(((e,i)=>({type:this.standaloneChartType,xKey:t.id,xName:t.name,yName:e.displayName??void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:`min:${i}`,q1Key:`q1:${i}`,medianKey:`median:${i}`,q3Key:`q3:${i}`,maxKey:`max:${i}`})))}getData(e){return this.computeSeriesStatistics(e,(e=>{const t=e.sort(((e,t)=>e-t));return{min:t[0],q1:this.quantile(t,.25),median:this.quantile(t,.5),q3:this.quantile(t,.75),max:t[t.length-1]}}))}quantile(e,t){const i=(e.length-1)*t,r=Math.floor(i),s=i-r;return void 0!==e[r+1]?e[r]+s*(e[r+1]-e[r]):e[r]}},EA=class extends xA{getSeries(e){const[t]=e.categories;return e.fields.map(((e,i)=>({type:this.standaloneChartType,xKey:t.id,xName:t.name,yName:e.displayName??void 0,yLowName:"Min",yHighName:"Max",yLowKey:`min:${i}`,yHighKey:`max:${i}`})))}getData(e){return this.computeSeriesStatistics(e,(e=>({min:Math.min(...e),max:Math.max(...e)})))}},MA=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="enterpriseChartProxyFactory"}createChartProxy(e){switch(e.chartType){case"histogram":return new lA(e);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new gA(e);case"rangeBar":case"rangeArea":return new EA(e);case"boxPlot":return new _A(e);case"treemap":case"sunburst":return new mA(e);case"heatmap":return new bA(e);case"waterfall":return new cA(e);case"funnel":case"coneFunnel":case"pyramid":return new dA(e)}}},TA=class extends Fy.AS9{constructor(e,t,i,r){super(),this.chartController=e,this.eGui=t,this.cssClass=i,this.createPanels=r,this.panels=[]}postConstruct(){this.addManagedListeners(this.chartController,{chartUpdated:()=>this.refreshPanels(!0),chartApiUpdate:()=>this.refreshPanels(!1)})}addComponent(e){this.createBean(e),this.panels.push(e),e.addCss(this.cssClass),this.eGui.appendChild(e.getGui())}refreshPanels(e){const t=this.chartController.getChartType(),i=this.chartController.isGrouping(),r=YP(t);e&&t===this.chartType&&i===this.isGrouping||(this.destroyPanels(),this.createPanels(t,r),this.chartType=t,this.isGrouping=i)}destroyPanels(){this.panels.forEach((e=>{(0,Fy.taW)(e.getGui()),this.destroyBean(e)})),this.panels=[]}destroy(){this.destroyPanels(),super.destroy()}},PA=class extends Fy.wA2{constructor(e){super(),this.chartMenuParamsFactory=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("animation.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("animation"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultNumberInputParams("animation.duration","durationMillis",{min:0});this.setTemplate('<div>\n            <ag-group-component data-ref="animationGroup">\n                <ag-input-number-field data-ref="animationHeightInput"></ag-input>\n            </ag-group-component>\n        </div>',[gE,Fy.wXw],{animationGroup:e,animationHeightInput:t})}},AA={tag:"div",cls:"ag-color-input",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:"input",ref:"eInput",cls:"ag-input-field-input"},{tag:"div",ref:"eColor",cls:"ag-color-input-color"}]}]},DA=class extends Fy.INo{constructor(){super({template:AA}),this.eColor=Fy.CUI}wireBeans(e){this.chartTranslation=e.chartTranslation,this.color=e.agChartsExports._Util.Color}setColor(e){const t=e.toRgbaString();this.setValue(this.color.fromString(t).toHexString().toUpperCase(),!0),this.eColor.style.backgroundColor=t}setValue(e,t){const i=this.color.validColorString(e??"");return this.eInput.setCustomValidity(i?"":this.chartTranslation.translate("invalidColor")),super.setValue(e,t),i&&!t&&this.dispatchLocalEvent({type:"colorChanged"}),this}onColorChanged(e){this.addManagedListeners(this,{colorChanged:()=>e(this.color.fromString(this.value))})}},IA={selector:"AG-COLOR-INPUT",component:DA},NA=[],RA=class extends Fy.wA2{constructor(e){super('<div class="ag-color-panel" tabindex="-1">\n            <div data-ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div data-ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div data-ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div data-ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div data-ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div data-ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div data-ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <ag-color-input data-ref="colorInput"></ag-color-input>\n                <div data-ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',[IA]),this.H=1,this.S=1,this.B=1,this.A=1,this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1,this.colorChanged=!1,this.spectrumColor=Fy.CUI,this.spectrumVal=Fy.CUI,this.spectrumDragger=Fy.CUI,this.spectrumHue=Fy.CUI,this.spectrumHueSlider=Fy.CUI,this.spectrumAlpha=Fy.CUI,this.spectrumAlphaSlider=Fy.CUI,this.colorInput=Fy.CUI,this.recentColors=Fy.CUI,this.picker=e.picker}wireBeans(e){this._Color=e.agChartsExports._Util.Color}postConstruct(){this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",(()=>this.spectrumColor.focus())),this.addGuiEventListener("keydown",(e=>{e.key!==Fy.KeyCode.ENTER||e.defaultPrevented||this.destroy()})),this.addManagedListeners(this.spectrumColor,{keydown:e=>this.moveDragger(e)}),this.addManagedListeners(this.spectrumAlphaSlider,{keydown:e=>this.moveAlphaSlider(e)}),this.addManagedListeners(this.spectrumHueSlider,{keydown:e=>this.moveHueSlider(e)}),this.addManagedListeners(this.spectrumVal,{mousedown:this.onSpectrumDraggerDown.bind(this)}),this.addManagedListeners(this.spectrumHue,{mousedown:this.onSpectrumHueDown.bind(this)}),this.addManagedListeners(this.spectrumAlpha,{mousedown:this.onSpectrumAlphaDown.bind(this)}),this.addGuiEventListener("mousemove",(e=>{this.onSpectrumDraggerMove(e),this.onSpectrumHueMove(e),this.onSpectrumAlphaMove(e)})),this.addManagedListeners(document,{mouseup:this.onMouseUp.bind(this)}),this.colorInput.onColorChanged(this.setColor.bind(this)),this.addManagedListeners(this.recentColors,{click:this.onRecentColorClick.bind(this),keydown:e=>{e.key!==Fy.KeyCode.ENTER&&e.key!==Fy.KeyCode.SPACE||(e.preventDefault(),this.onRecentColorClick(e))}})}initTabIndex(){const e=this.tabIndex=this.gos.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",e),this.spectrumHueSlider.setAttribute("tabindex",e),this.spectrumAlphaSlider.setAttribute("tabindex",e)}refreshSpectrumRect(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()}refreshHueRect(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()}refreshAlphaRect(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()}onSpectrumDraggerDown(e){e.preventDefault(),this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)}onSpectrumDraggerMove(e){this.isSpectrumDragging&&this.moveDragger(e)}onSpectrumHueDown(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)}onSpectrumHueMove(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)}onSpectrumAlphaDown(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)}onSpectrumAlphaMove(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)}onMouseUp(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1}moveDragger(e){const t=this.spectrumValRect;if(!t)return;let i,r;if(e instanceof MouseEvent)i=e.clientX-t.left,r=e.clientY-t.top;else{const t=e.key===Fy.KeyCode.LEFT,s=e.key===Fy.KeyCode.RIGHT,a=e.key===Fy.KeyCode.UP,o=e.key===Fy.KeyCode.DOWN,n=a||o,l=t||s;if(!n&&!l)return;e.preventDefault();const{x:c,y:d}=this.getSpectrumValue();i=c+(l?t?-5:5:0),r=d+(n?a?-5:5:0)}i=Math.max(i,0),i=Math.min(i,t.width),r=Math.max(r,0),r=Math.min(r,t.height),this.setSpectrumValue(i/t.width,1-r/t.height)}moveHueSlider(e){const t=this.spectrumHueRect;if(!t)return;const i=this.moveSlider(this.spectrumHueSlider,e);null!=i&&(this.H=1-i/t.width,this.update())}moveAlphaSlider(e){const t=this.spectrumAlphaRect;if(!t)return;const i=this.moveSlider(this.spectrumAlphaSlider,e);null!=i&&(this.A=i/t.width,this.update())}moveSlider(e,t){const i=e.getBoundingClientRect(),r=e.parentElement?.getBoundingClientRect();if(!e||!r)return null;const s=i.width/2;let a;if(t instanceof MouseEvent)a=Math.floor(t.clientX-r.left);else{const i=t.key===Fy.KeyCode.LEFT,r=t.key===Fy.KeyCode.RIGHT;if(!i&&!r)return null;t.preventDefault();const o=i?-5:5;a=parseFloat(e.style.left)+s+o}return a=Math.max(a,0),a=Math.min(a,r.width),e.style.left=a-s+"px",a}update(e){const{A:t,S:i,B:r,H:s,_Color:a}=this,o=360*s,n=a.fromHSB(o,i,r,t),l=n.toRgbaString(),c=a.fromHSB(o,i,r).toRgbaString(),d=a.fromHSB(o,1,1).toRgbaString(),u=this.picker;a.fromString(u.getValue()).toRgbaString()!==l&&(this.colorChanged=!0),u.setValue(l),this.spectrumColor.style.backgroundColor=d,this.spectrumDragger.style.backgroundColor=c,this.spectrumHueSlider.style.backgroundColor=d,this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color-from",a.fromHSB(o,i,r,0).toRgbaString()),this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color-to",c),this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color",l),e||this.colorInput.setColor(n)}setSpectrumValue(e,t,i){const r=this.spectrumValRect||this.refreshSpectrumRect();if(null==r)return;const s=this.spectrumDragger,a=s.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,s.style.left=e*r.width-a.width/2+"px",s.style.top=(1-t)*r.height-a.height/2+"px",this.update(i)}getSpectrumValue(){const e=this.spectrumDragger,t=e.getBoundingClientRect();return{x:parseFloat(e.style.left)+t.width/2,y:parseFloat(e.style.top)+t.height/2}}initRecentColors(){const e=NA,t=e.map(((e,t)=>`<div class="ag-recent-color" id=${t} style="background-color: ${e}; width: 15px; height: 15px;" recent-color="${e}" tabIndex="${this.tabIndex}"></div>`));this.recentColors.innerHTML=t.join(""),(0,Fy.DIH)(this.recentColors,!!e.length)}setValue(e){const t=this._Color.fromString(e);this.setColor(t,!0)}setColor(e,t){const[i,r,s]=e.toHSB();this.H=(isNaN(i)?0:i)/360,this.A=e.a;const a=this.spectrumHueRect||this.refreshHueRect(),o=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-a.width-this.spectrumHueSlider.getBoundingClientRect().width/2+"px",this.spectrumAlphaSlider.style.left=this.A*o.width-this.spectrumAlphaSlider.getBoundingClientRect().width/2+"px",this.setSpectrumValue(r,s,!t)}onRecentColorClick(e){const t=e.target;if(!(0,Fy.fTC)(t.id))return;const i=parseInt(t.id,10);this.setValue(NA[i]),this.destroy()}addRecentColor(){const e=this._Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString();let t=NA;this.colorChanged&&t[0]!==e&&(t=t.filter((t=>t!=e)),t=[e].concat(t),t.length>8&&(t=t.slice(0,8)),NA=t)}destroy(){this.addRecentColor(),super.destroy()}},LA=class extends Fy.MQo{constructor(e){super({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"chartsColorPicker",...e})}postConstruct(){this.eDisplayFieldColor=(0,Fy.Xye)({tag:"span",cls:"ag-color-picker-color"}),this.eDisplayFieldText=(0,Fy.Xye)({tag:"span",cls:"ag-color-picker-value"}),this.eDisplayField.append(this.eDisplayFieldColor,this.eDisplayFieldText),super.postConstruct(),this.value&&this.setValue(this.value)}createPickerComponent(){const e=this.eWrapper.getBoundingClientRect(),t=this.beans.popupSvc.getParentRect();return this.createBean(new Uw({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-t.left-190,y:e.top-t.top-250-(this.config.pickerGap??0),postProcessPopupParams:{type:"colorPicker",eventSource:this.eWrapper}}))}renderAndPositionPicker(){const e=this.pickerComponent,t=this.createBean(new RA({picker:this}));return e.addCss("ag-color-dialog"),t.addDestroyFunc((()=>{e.isAlive()&&this.destroyBean(e)})),e.setParentComponent(this),e.setBodyComponent(t),t.setValue(this.getValue()),t.getGui().focus(),e.addDestroyFunc((()=>{this.isDestroyingPicker?this.isDestroyingPicker=!1:(this.beforeHidePicker(),this.isDestroyingPicker=!0,t.isAlive()&&this.destroyBean(t),this.isAlive()&&this.getFocusableElement().focus())})),()=>this.pickerComponent?.close()}setValue(e){return this.value===e?this:(this.eDisplayFieldColor.style.backgroundColor=e,this.eDisplayFieldText.textContent=this.beans.agChartsExports._Util.Color.fromString(e).toHexString().toUpperCase(),super.setValue(e))}getValue(){return this.value}},FA={selector:"AG-COLOR-PICKER",component:LA},OA=class extends Fy.wA2{constructor(e){super(),this.chartMenuParamsFactory=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("crosshair.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("crosshair"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultCheckboxParams("crosshair.label.enabled","crosshairLabel"),i=this.chartMenuParamsFactory.getDefaultCheckboxParams("crosshair.snap","crosshairSnap"),r=this.chartMenuParamsFactory.getDefaultColorPickerParams("crosshair.stroke","color");this.setTemplate('<div>\n            <ag-group-component data-ref="crosshairGroup">\n                <ag-checkbox data-ref="crosshairLabelCheckbox"></ag-checkbox>\n                <ag-checkbox data-ref="crosshairSnapCheckbox"></ag-checkbox>\n                <ag-color-picker data-ref="crosshairStrokeColorPicker"></ag-color-picker>\n            </ag-group-component>\n        </div>',[gE,Fy.I$4,FA],{crosshairGroup:e,crosshairLabelCheckbox:t,crosshairSnapCheckbox:i,crosshairStrokeColorPicker:r})}},BA=class extends Fy.FyK{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:i}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>{const t=e.target.value;this.setValue(t)}})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());const i=super.setValue(e,t);return this.eInput.value=e,i}},zA={selector:"AG-INPUT-RANGE",component:BA},VA=class extends Fy.ZST{constructor(e){super(e,'<div class="ag-slider">\n            <label data-ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range data-ref="eSlider"></ag-input-range>\n                <ag-input-number-field data-ref="eText"></ag-input-number-field>\n            </div>\n        </div>',[zA,Fy.wXw]),this.eLabel=Fy.CUI,this.eSlider=Fy.CUI,this.eText=Fy.CUI,this.labelAlignment="top"}postConstruct(){super.postConstruct(),this.eSlider.addCss("ag-slider-field");const{minValue:e,maxValue:t,textFieldWidth:i,step:r,value:s,onValueChange:a}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),null!=i&&this.setTextFieldWidth(i),null!=r&&this.setStep(r),null!=s&&this.setValue(s),null!=a&&this.onValueChange(a)}onValueChange(e){return this.addManagedListeners(this.eText,{fieldValueChanged:()=>{const t=parseFloat(this.eText.getValue());this.eSlider.setValue(t.toString(),!0),e(t||0)}}),this.addManagedListeners(this.eSlider,{fieldValueChanged:()=>{const t=this.eSlider.getValue();this.eText.setValue(t,!0),e(parseFloat(t))}}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,t){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}},GA={selector:"AG-SLIDER",component:VA},UA=class extends Fy.wA2{constructor(e){super(),this.chartMenuParamsFactory=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("navigator.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("navigator"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultSliderParams("navigator.height","height",60);t.minValue=10;const i=this.chartMenuParamsFactory.getDefaultCheckboxParams("navigator.miniChart.enabled","miniChart");this.setTemplate('<div>\n            <ag-group-component data-ref="navigatorGroup">\n                <ag-slider data-ref="navigatorHeightSlider"></ag-slider>\n                <ag-checkbox data-ref="navigatorMiniChartCheckbox"></ag-checkbox>\n            </ag-group-component>\n        </div>',[gE,GA,Fy.I$4],{navigatorGroup:e,navigatorHeightSlider:t,navigatorMiniChartCheckbox:i})}},HA=class extends Fy.wA2{constructor(e){super(),this.chartMenuParamsFactory=e,this.zoomScrollingStepInput=Fy.CUI}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuParamsFactory.addEnableParams("zoom.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("zoom"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuParamsFactory.getDefaultCheckboxParams("zoom.enableScrolling","scrollingZoom"),i=this.chartMenuParamsFactory.getDefaultSliderParams("zoom.scrollingStep","scrollingStep",1);i.step=.01,i.minValue=i.step;const r=this.chartMenuParamsFactory.getDefaultCheckboxParams("zoom.enableSelecting","selectingZoom");t.onValueChange=(e=>t=>{e&&(e(t),this.zoomScrollingStepInput.setDisabled(!t))})(t.onValueChange),this.setTemplate('<div>\n            <ag-group-component data-ref="zoomGroup">\n                <ag-checkbox data-ref="zoomSelectingCheckbox"></ag-checkbox>\n                <ag-checkbox data-ref="zoomScrollingCheckbox"></ag-checkbox>\n                <ag-slider data-ref="zoomScrollingStepInput"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,Fy.I$4,GA],{zoomGroup:e,zoomScrollingCheckbox:t,zoomScrollingStepInput:i,zoomSelectingCheckbox:r}),this.zoomScrollingStepInput.setDisabled(!t.value)}},WA=["navigator","zoom","animation","crosshair"],jA=class extends Fy.wA2{constructor(e){super('<div class="ag-chart-advanced-settings-wrapper"></div>'),this.chartMenuContext=e}postConstruct(){this.chartPanelFeature=this.createManagedBean(new TA(this.chartMenuContext.chartController,this.getGui(),"ag-chart-advanced-settings-section",((e,t)=>this.createPanels(e,t)))),this.chartPanelFeature.refreshPanels()}createPanels(e,t){WA.forEach((e=>{if(!this.isGroupPanelShownForSeries(e,t))return;const i=this.createPanel(e);this.chartPanelFeature.addComponent(i)}))}isGroupPanelShownForSeries(e,t){return"animation"===e||HP(t)&&!WP(t)}createPanel(e){const{chartMenuParamsFactory:t,chartAxisMenuParamsFactory:i}=this.chartMenuContext;switch(e){case"navigator":return new UA(t);case"zoom":return new HA(t);case"animation":return new PA(t);case"crosshair":return new OA(i)}}},KA=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="advSettingsMenuFactory"}showMenu(e,t){this.hideMenu();const i=this.createBean(new $A(e));this.activeDialog=this.createBean(new Uw({title:this.beans.chartTranslation.translate("advancedSettings"),component:i,width:300,height:400,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:()=>{(0,Fy.H$b)(i.getGui())[0]?.focus()},closedCallback:()=>{this.activeMenu=this.destroyBean(this.activeMenu),this.activeDialog=void 0,t?.focus({preventScroll:!0})}})),this.activeMenu=i}hideMenu(){this.activeDialog&&this.destroyBean(this.activeDialog)}destroy(){this.activeMenu=this.destroyBean(this.activeMenu),this.activeDialog=this.destroyBean(this.activeDialog),super.destroy()}},$A=class extends Fy.BxR{constructor(e){super('<div class="ag-chart-advanced-settings"></div>'),this.chartMenuContext=e}postConstruct(){this.advancedSettingsPanel=this.createManagedBean(new jA(this.chartMenuContext)),this.getGui().appendChild(this.advancedSettingsPanel.getGui()),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),focusTrapActive:!0})}onTabKeyDown(e){if(e.defaultPrevented)return;e.preventDefault();const t=e.shiftKey,i=this.advancedSettingsPanel.getGui(),r=(0,Fy.WEX)(this.beans,i,!1,t);if(r)r.focus();else{const e=(0,Fy.H$b)(i);e.length&&e[t?e.length-1:0].focus()}}},qA=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="chartMenuListFactory"}wireBeans(e){this.popupSvc=e.popupSvc,this.chartMenuSvc=e.chartMenuSvc,this.chartTranslation=e.chartTranslation}showMenuList(e){const{eventSource:t,showMenu:i,chartMenuContext:r}=e,s=this.chartMenuSvc.doChartToolPanelsExist(r.chartController),a=this.mapWithStockItems(this.getMenuItems(r.chartController,s),r,i,t,s);if(!a.length)return;const o=this.createBean(new YA(a));this.activeChartMenuList=o;let n=-1,l="left";this.gos.get("enableRtl")&&(n=1,l="right");const c=o.getGui();this.popupSvc.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:()=>{this.destroyBean(o),this.activeChartMenuList=void 0,(0,Fy.kAG)(this.beans)&&t.focus({preventScroll:!0})},afterGuiAttached:e=>o.afterGuiAttached(e),positionCallback:()=>{this.popupSvc.positionPopupByComponent({type:"chartMenu",eventSource:t,ePopup:c,alignSide:l,nudgeX:4*n,nudgeY:4,position:"under",keepWithinBounds:!0})},ariaLabel:"Chart Menu"})}getMenuItems(e,t){const i=[...t?["chartEdit"]:[],...e.isEnterprise()?["chartAdvancedSettings"]:[],e.isChartLinked()?"chartUnlink":"chartLink","chartDownload"],r=this.gos.get("chartMenuItems");return r?Array.isArray(r)?r:r((0,Fy.OHk)(this.gos,{defaultItems:i})):i}mapWithStockItems(e,t,i,r,s){if(!e)return[];const a=[];return e.forEach((e=>{let o;if(o="string"==typeof e?this.getStockMenuItem(e,t,i,r,s):{...e},!o)return;const{subMenu:n}=o;Array.isArray(n)&&(o.subMenu=this.mapWithStockItems(n,t,i,r,s)),a.push(o)})),a}getStockMenuItem(e,t,i,r,s){switch(e){case"chartEdit":return s?this.createMenuItem(this.chartTranslation.translate("chartEdit"),"chartsMenuEdit",i):null;case"chartAdvancedSettings":return this.createMenuItem(this.chartTranslation.translate("chartAdvancedSettings"),"chartsMenuAdvancedSettings",(()=>this.chartMenuSvc.openAdvancedSettings(t,r)));case"chartUnlink":return t.chartController.isChartLinked()?this.createMenuItem(this.chartTranslation.translate("chartUnlink"),"unlinked",(()=>this.chartMenuSvc.toggleLinked(t))):null;case"chartLink":return t.chartController.isChartLinked()?null:this.createMenuItem(this.chartTranslation.translate("chartLink"),"linked",(()=>this.chartMenuSvc.toggleLinked(t)));case"chartDownload":return this.createMenuItem(this.chartTranslation.translate("chartDownload"),"chartsDownload",(()=>this.chartMenuSvc.downloadChart(t)))}return null}createMenuItem(e,t,i){return{name:e,icon:(0,Fy.scM)(t,this.beans,null),action:i}}destroy(){this.destroyBean(this.activeChartMenuList),super.destroy()}},YA=class extends Fy.wA2{constructor(e){super('\n            <div data-ref="eChartsMenu" role="presentation" class="ag-menu ag-chart-menu-popup"></div>\n        '),this.menuItems=e,this.eChartsMenu=Fy.CUI}postConstruct(){this.mainMenuList=this.createManagedBean(new Tx(0)),this.mainMenuList.addMenuItems(this.menuItems),this.mainMenuList.addEventListener("closeMenu",this.onHidePopup.bind(this)),this.eChartsMenu.appendChild(this.mainMenuList.getGui())}onHidePopup(){this.hidePopupFunc?.()}afterGuiAttached({hidePopup:e}){e&&(this.hidePopupFunc=e,this.addDestroyFunc(e)),(0,Fy.exX)(this.mainMenuList.getGui())}},XA=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="chartCrossFilterSvc"}wireBeans(e){this.colModel=e.colModel,this.valueSvc=e.valueSvc,this.filterManager=e.filterManager,(0,Fy.qYz)(this.gos,e.rowModel)&&(this.clientSideRowModel=e.rowModel)}filter(e,t=!1){const i=this.filterManager?.getFilterModel()??{};if(t)return void this.resetFilters(i);const r=this.extractFilterColId(e);this.isValidColumnFilter(r)?this.updateFilters(i,e,r):(0,Fy.F5b)(154,{colId:r})}resetFilters(e){Object.keys(e).length>0&&(this.filterManager?.setFilterModel(null),this.filterManager?.onFilterChanged({source:"api"}))}updateFilters(e,t,i){const r=this.extractFilterColId(t),s=t.datum[r];if(void 0===s)return;const a=s.toString();if(t.event.metaKey||t.event.ctrlKey){const t=this.getCurrentGridValuesForCategory(i);let r;t.includes(a)?r=t.filter((e=>e!==a)):(r=t,r.push(a)),e[i]=this.getUpdatedFilterModel(i,r)}else{const t=[a];e={[i]:this.getUpdatedFilterModel(i,t)}}this.filterManager?.setFilterModel(e)}getUpdatedFilterModel(e,t){return"agMultiColumnFilter"===this.getColumnFilterType(e)?{filterType:"multi",filterModels:[null,{filterType:"set",values:t}]}:{filterType:"set",values:t}}getCurrentGridValuesForCategory(e){const t=[],i=this.getColumnById(e);return this.clientSideRowModel?.forEachNodeAfterFilter((e=>{if(i&&!e.group){const r=this.valueSvc.getValue(i,e)+"";t.includes(r)||t.push(r)}})),t}extractFilterColId(e){return e.xKey||e.calloutLabelKey}isValidColumnFilter(e){e.indexOf("-filtered-out")&&(e=e.replace("-filtered-out",""));const t=this.getColumnFilterType(e);return"boolean"==typeof t?t:["agSetColumnFilter","agMultiColumnFilter"].includes(t)}getColumnFilterType(e){const t=this.getColumnById(e);if(t)return t.getColDef().filter}getColumnById(e){return this.colModel.getCol(e)}},QA=["chartUnlink","chartLink","chartDownload","chartMenu"],ZA={settings:"chartSettings",data:"chartData",format:"chartFormat"},JA=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="chartMenuSvc"}wireBeans(e){this.advSettingsMenuFactory=e.advSettingsMenuFactory}downloadChart(e,t,i,r){e.chartController.getChartProxy().downloadChart(t,i,r)}toggleLinked(e){e.chartController.detachChartRange()}openAdvancedSettings(e,t){this.advSettingsMenuFactory?.showMenu(e,t)}hideAdvancedSettings(){this.advSettingsMenuFactory?.hideMenu()}getChartToolbarOptions(){const e=["chartMenu"],t=this.gos.getCallback("getChartToolbarItems");return t?t({defaultItems:e}).filter((e=>!!QA.includes(e)||((0,Fy.F5b)(155,{option:e}),!1))):e}getChartToolPanels(e){const t=this.gos.get("chartToolPanelsDef"),i=t?.panels?.map((e=>{const t=ZA[e];return t||(0,Fy.F5b)(156,{panel:e}),t})).filter((e=>Boolean(e)));let r=i??Object.values(ZA);e.isPivotChart()&&(r=r.filter((e=>"chartData"!==e)));const s=t?.defaultToolPanel;return{panels:r,defaultPanel:s&&ZA[s]||r[0]}}doesChartToolbarExist(){return this.getChartToolbarOptions().length>0}doChartToolPanelsExist(e){const{panels:t}=this.getChartToolPanels(e);return t.length>0}},eD={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Chart",data:"Set Up",format:"Customize",categories:"Categories",defaultCategory:"(None)",series:"Series",switchCategorySeries:"Switch Category / Series",categoryValues:"Category Values",seriesLabels:"Series Labels",aggregate:"Aggregate",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",xAxis:"Horizontal Axis",yAxis:"Vertical Axis",polarAxis:"Polar Axis",radiusAxis:"Radius Axis",navigator:"Navigator",zoom:"Zoom",animation:"Animation",crosshair:"Crosshair",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",axisType:"Axis Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",timeFormat:"Time Format",autoRotate:"Auto Rotate",labelRotation:"Rotation",circle:"Circle",polygon:"Polygon",square:"Square",cross:"Cross",diamond:"Diamond",plus:"Plus",triangle:"Triangle",heart:"Heart",orientation:"Orientation",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",gridLines:"Grid Lines",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chartStyle:"Chart Style",title:"Title",chartTitles:"Titles",chartTitle:"Chart Title",chartSubtitle:"Subtitle",horizontalAxisTitle:"Horizontal Axis Title",verticalAxisTitle:"Vertical Axis Title",polarAxisTitle:"Polar Axis Title",titlePlaceholder:"Chart Title",background:"Background",font:"Font",weight:"Weight",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",scrollingZoom:"Scrolling",scrollingStep:"Scrolling Step",selectingZoom:"Selecting",durationMillis:"Duration (ms)",crosshairLabel:"Label",crosshairSnap:"Snap to Node",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",miniChart:"Mini-Chart",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",stackedLineTooltip:"Stacked",normalizedLineTooltip:"100% Stacked",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",waterfallTooltip:"Waterfall",heatmapTooltip:"Heatmap",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",chartMenuToolbarTooltip:"Menu",chartEdit:"Edit Chart",chartAdvancedSettings:"Advanced Settings",chartLink:"Link to Grid",chartUnlink:"Unlink from Grid",chartDownload:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis",seriesAdd:"Add a series",categoryAdd:"Add a category",bar:"Bar",column:"Column",histogram:"Histogram",advancedSettings:"Advanced Settings",direction:"Direction",horizontal:"Horizontal",vertical:"Vertical",seriesGroupType:"Group Type",groupedSeriesGroupType:"Grouped",stackedSeriesGroupType:"Stacked",normalizedSeriesGroupType:"100% Stacked",legendEnabled:"Enabled",invalidColor:"Color value is invalid",groupedColumnFull:"Grouped Column",stackedColumnFull:"Stacked Column",normalizedColumnFull:"100% Stacked Column",groupedBarFull:"Grouped Bar",stackedBarFull:"Stacked Bar",normalizedBarFull:"100% Stacked Bar",stackedAreaFull:"Stacked Area",normalizedAreaFull:"100% Stacked Area",stackedLineFull:"Stacked Line",normalizedLineFull:"100% Stacked Line",customCombo:"Custom Combination",funnel:"Funnel",coneFunnel:"Cone Funnel",pyramid:"Pyramid",funnelGroup:"Funnel",funnelTooltip:"Funnel",coneFunnelTooltip:"Cone Funnel",pyramidTooltip:"Pyramid",dropOff:"Drop-Off",stageLabels:"Stage Labels",reverse:"Reverse",groupedColumn:"Grouped",stackedColumn:"Stacked",pie:"Pie",donut:"Donut",line:"Line",scatter:"Scatter",bubble:"Bubble",area:"Area",stackedArea:"Stacked",radarLine:"Radar Line",radarArea:"Radar Area",nightingale:"Nightingale",radialColumn:"Radial Column",radialBar:"Radial Bar",boxPlot:"Box Plot",rangeBar:"Range Bar",rangeArea:"Range Area",treemap:"Treemap",sunburst:"Sunburst",waterfall:"Waterfall",heatmap:"Heatmap",columnLineCombo:"Column & Line",AreaColumnCombo:"Area & Column",ariaChartMenuClose:"Close Chart Edit Menu",ariaChartSelected:"Selected",group:"Group",timeFormatSlashesDDMMYYYY:"DD/MM/YYYY",timeFormatSlashesMMDDYYYY:"MM/DD/YYYY",timeFormatSlashesDDMMYY:"DD/MM/YY",timeFormatSlashesMMDDYY:"MM/DD/YY",timeFormatDotsDDMYY:"DD.M.YY",timeFormatDotsMDDYY:"M.DD.YY",timeFormatDashesYYYYMMDD:"YYYY-MM-DD",timeFormatSpacesDDMMMMYYYY:"DD MMMM YYYY",timeFormatHHMMSS:"HH:MM:SS",timeFormatHHMMSSAmPm:"HH:MM:SS AM/PM",sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},tD=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="chartTranslation"}translate(e){return this.getLocaleTextFunc()(e,eD[e])}},iD=e=>t=>null==t||e(t),rD=e=>"string"==typeof e,sD=e=>"boolean"==typeof e,aD=e=>"object"==typeof e,oD=(e,t)=>i=>`AG Grid - unable to update chart as invalid params supplied:  \`${e}: ${i}\`, expected ${t}.`,nD=e=>`${e} is not supported in AG Charts Community ('ag-charts-enterprise' hasn't been loaded). See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`,lD=["doughnut"],cD=["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"],dD=iD((e=>{if(qP(t=e)||VP(t))return!0;var t;if(function(e){return lD.includes(e)}(e)){const t=$P(e);return(0,Fy.Brh)(`The chart type '${e}' has been deprecated. Please use '${t}' instead.`),t}return!1})),uD=iD((e=>"object"==typeof e)),pD=iD((e=>"object"==typeof e)),hD=iD((e=>"string"==typeof e||"function"==typeof e)),mD=e=>({property:"chartType",validationFn:iD((t=>e||!t||!function(e){return GP(YP(e),"isEnterprise")}(t))),warnMessage:e=>nD(`The '${e}' chart type`)}),gD=e=>({property:"switchCategorySeries",validationFn:iD((t=>{if(!t||e)return!0})),warnMessage:()=>nD("'switchCategorySeries' has been ignored as it"),warnIfFixed:!0}),bD=()=>[{property:"chartId",validationFn:rD,warnMessage:oD("chartId","string")},{property:"chartType",validationFn:dD,warnMessage:oD("chartType","ChartType")},{property:"chartThemeName",validationFn:rD,warnMessage:oD("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:uD,warnMessage:oD("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:sD,warnMessage:oD("unlinkChart","boolean")}],fD=e=>[{property:"cellRange",validationFn:pD,warnMessage:oD("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:sD,warnMessage:oD("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:hD,warnMessage:oD("aggFunc","string or IAggFunc")},gD(e)];function vD(e,t,i,r){let s;for(const i of t){const{property:t,validationFn:r,warnMessage:a,warnIfFixed:o}=i;if(t in e){const i=e[t],n=r(i);if(!0===n)continue;if(!1===n)return(0,Fy.Brh)(a(i)),!1;s=s||{...e},s[t]=n,o&&(0,Fy.Brh)(a(i))}}if(i)for(const t of Object.keys(e))if(!i.includes(t))return(0,Fy.Brh)(`Unexpected property supplied. ${r} does not contain: \`${t}\`.`),!1;return s||!0}var yD=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"],CD=class extends Fy.AS9{constructor(e){super(),this.model=e,this.isEnterprise=()=>this.agChartsExports.isEnterprise}wireBeans(e){this.rangeSvc=e.rangeSvc,this.agChartsExports=e.agChartsExports}postConstruct(){this.setChartRange(),this.model.unlinked&&this.rangeSvc&&this.rangeSvc.setCellRanges([]);const e=this.updateForGridChange.bind(this,{});this.addManagedEventListeners({cellSelectionChanged:e=>{e.id&&e.id===this.model.chartId&&this.updateForRangeChange()},columnMoved:e,columnPinned:e,columnVisible:e,columnRowGroupChanged:e,modelUpdated:e,cellValueChanged:this.updateForDataChange.bind(this)})}update(e){if(!this.validUpdateType(e))return!1;const t=function(e,t){switch(e.type){case"rangeChartUpdate":return function(e,t){return vD(e,[...bD(),mD(t),...fD(t),{property:"seriesChartTypes",validationFn:e=>void 0===e||Array.isArray(e)&&e.every(aD),warnMessage:oD("seriesChartTypes","Array of SeriesChartType")}],[...cD,"cellRange","suppressChartRanges","switchCategorySeries","aggFunc","seriesChartTypes","seriesGroupType"],"UpdateRangeChartParams")}(e,t);case"pivotChartUpdate":return function(e){return vD(e,[...bD()],[...cD],"UpdatePivotChartParams")}(e);case"crossFilterChartUpdate":return function(e,t){return vD(e,[...bD(),...fD(t)],[...cD,"cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")}(e,t);default:return(0,Fy.Brh)(`Invalid value supplied for 'type': ${e.type}. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.`),!1}}(e,this.agChartsExports.isEnterprise);if(!t)return!1;const i=!0===t?e:t;return this.applyValidatedChartParams(i),!0}applyValidatedChartParams(e){const{chartId:t,chartType:i,chartThemeName:r,unlinkChart:s}=e,a={chartId:t,pivotChart:this.model.pivotChart,chartType:i??this.model.chartType,chartThemeName:r??this.model.chartThemeName,unlinkChart:s??this.model.unlinked,cellRange:this.model.suppliedCellRange,switchCategorySeries:this.model.switchCategorySeries,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1};switch(e.type){case"rangeChartUpdate":a.cellRange=this.createCellRange(e)??this.model.suppliedCellRange,a.switchCategorySeries=e.switchCategorySeries??this.model.switchCategorySeries,a.aggFunc=e.aggFunc??this.model.aggFunc,a.seriesChartTypes=e.seriesChartTypes,a.suppressChartRanges=e.suppressChartRanges??this.model.suppressChartRanges,a.seriesGroupType=e.seriesGroupType??this.model.seriesGroupType;break;case"crossFilterChartUpdate":a.cellRange=this.createCellRange(e)??this.model.suppliedCellRange,a.switchCategorySeries=!1,a.aggFunc=e.aggFunc??this.model.aggFunc,a.crossFiltering=!0,a.suppressChartRanges=e.suppressChartRanges??this.model.suppressChartRanges;break;case"pivotChartUpdate":a.switchCategorySeries=!1}this.model.updateModel(a),a.unlinkChart||a.suppressChartRanges?this.rangeSvc?.setCellRanges([]):this.setChartRange()}updateForGridChange(e){if(this.model.unlinked)return;const{maintainColState:t,setColsFromRange:i}=e??{};this.model.updateCellRanges({maintainColState:t,setColsFromRange:i}),this.model.updateData(),this.setChartRange()}updateForDataChange(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())}updateForRangeChange(){this.updateForGridChange({setColsFromRange:!0}),this.raiseChartRangeSelectionChangedEvent()}updateForPanelChange(e){this.model.updateCellRanges(e),this.model.updateData(),e.skipAnimation&&this.getChartProxy().getChartRef().skipAnimations(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()}updateThemeOverrides(e){this.chartProxy.updateThemeOverrides(e)}getChartUpdateParams(e){const t=this.getSelectedValueColState().map((e=>({colId:e.colId,displayName:e.displayName}))),i=this.getChartData(),r=this.getSelectedDimensions(),s={data:i,groupData:this.model.groupChartData,grouping:this.isGrouping(),categories:r.map((e=>({id:e.colId,name:e.displayName,chartDataType:this.model.categoryAxisType??this.model.getChartDataType(e.colId)}))),fields:t,chartId:this.getChartId(),getCrossFilteringContext:()=>({lastSelectedChartId:"xxx"}),seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:e,seriesGroupType:this.model.seriesGroupType};return this.isCategorySeriesSwitched()?this.invertCategorySeriesParams(s):s}invertCategorySeriesParams(e){const[t]=e.categories,i=[{id:wA,name:""}],r=e.data.map(((e,i)=>{const r=`${t.id}:${i}`,s=e[t.id];return{colId:r,displayName:null==s?"":String(s)}})),s=e.fields.map((i=>{const r={[wA]:i.displayName};for(const[s,a]of e.data.entries()){const e=`${t.id}:${s}`,o=a[i.colId];r[e]=o}return r}));return{...e,categories:i,fields:r,data:s}}getChartModel(){const e=this.model.pivotChart?"pivot":"range",t=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy?.getChartThemeOverrides(),chartPalette:this.chartProxy?.getChartPalette(),cellRange:this.getCellRangeParams(),switchCategorySeries:this.model.switchCategorySeries,suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:t,seriesGroupType:this.model.seriesGroupType}}getChartId(){return this.model.chartId}getChartData(){return this.model.chartData}getChartType(){return this.model.chartType}setChartType(e){this.updateMultiSeriesAndCategory(this.model.chartType,e),this.model.chartType=e,this.model.comboChartModel.updateSeriesChartTypes(),this.model.switchCategorySeries=!1,this.model.categoryAxisType=void 0,this.model.seriesGroupType=void 0,this.raiseChartModelUpdateEvent()}isCategorySeriesSwitched(){return this.model.switchCategorySeries&&!this.model.isGrouping()}switchCategorySeries(e){JP(this.getChartType())&&(this.model.switchCategorySeries=e,this.raiseChartModelUpdateEvent())}getAggFunc(){return this.model.aggFunc}setAggFunc(e,t){this.model.aggFunc!==e&&(this.model.aggFunc=e,t||(this.model.updateData(),this.raiseChartModelUpdateEvent()))}updateMultiSeriesAndCategory(e,t){const i=(e,t)=>{let i=0;for(const r of e)r.selected&&(i>=t?r.selected=!1:i++);0===i&&(e[0].selected=!0)},r=QP(t),s=ZP(t),a=null!=r&&(QP(e)??100)>(r??100),o=null!=s&&(ZP(e)??100)>(s??100);a&&i(this.model.dimensionColState,r),o&&i(this.model.valueColState,s),(a||o)&&(this.model.resetCellRanges(a,o),this.setChartRange(!0))}setChartThemeName(e,t){this.model.chartThemeName=e,t||this.raiseChartModelUpdateEvent()}getChartThemeName(){return this.model.chartThemeName}isPivotChart(){return this.model.pivotChart}isPivotMode(){return this.model.isPivotMode()}isGrouping(){return this.model.isGrouping()}isCrossFilterChart(){return this.model.crossFiltering}getThemeNames(){return this.gos.get("chartThemes")||yD}getThemes(){return this.getThemeNames().map((e=>{const t=iA(e,this.agChartsExports._Theme)?e:this.chartProxy.lookupCustomChartTheme(e);return this.agChartsExports._Theme.getChartTheme(t)}))}getPalettes(){return this.getThemes().map((e=>e.palette))}getValueColState(){return this.model.valueColState.map(this.displayNameMapper.bind(this))}getSelectedValueColState(){return this.getValueColState().filter((e=>e.selected))}getSelectedDimensions(){return this.model.getSelectedDimensions()}displayNameMapper(e){const{column:t}=e;if(t)e.displayName=this.model.getColDisplayName(t,this.model.isPivotMode());else{const i=this.model.colNames[e.colId];e.displayName=i?i.join(" - "):this.model.getColDisplayName(t)}return e}getColStateForMenu(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}}setChartRange(e=!1){!this.rangeSvc||this.model.suppressChartRanges||this.model.unlinked||this.rangeSvc.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()}detachChartRange(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeSvc&&this.rangeSvc.setCellRanges([]):this.updateForGridChange(),this.dispatchLocalEvent({type:"chartLinkedChanged"})}setChartProxy(e){this.chartProxy=e}getChartProxy(){return this.chartProxy}isActiveXYChart(){return["scatter","bubble"].includes(this.getChartType())}isChartLinked(){return!this.model.unlinked}customComboExists(){const e=this.model.comboChartModel.savedCustomSeriesChartTypes;return e&&e.length>0}getSeriesChartTypes(){return this.model.comboChartModel.seriesChartTypes}isComboChart(e){return this.model.isComboChart(e)}updateSeriesChartType(e,t,i){const r=this.model.comboChartModel.seriesChartTypes.find((t=>t.colId===e));if(r){const e="customCombo"!==this.model.chartType;e&&(this.model.chartType="customCombo");const s=r.chartType;null!=t&&(r.chartType=t),null!=i&&(r.secondaryAxis=i),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),e&&this.dispatchLocalEvent({type:"chartTypeChanged"}),s!==t&&this.dispatchLocalEvent({type:"chartSeriesChartTypeChanged"}),this.raiseChartOptionsChangedEvent()}}getActiveSeriesChartTypes(){const e=this.getSelectedValueColState().map((e=>e.colId));return this.getSeriesChartTypes().filter((t=>e.includes(t.colId)))}getChartSeriesTypes(e){const t=e??this.getChartType();return this.isComboChart(t)?["line","bar","area"]:[YP(t)]}getChartSeriesType(){const e=this.getSeriesChartTypes();if(0===e.length)return"bar";const t=e[0].chartType;return"columnLineCombo"===t?"bar":"areaColumnCombo"===t?"area":YP(t)}getCellRanges(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter((e=>e))}createCellRange(e){return e.cellRange&&this.rangeSvc?.createPartialCellRangeFromRangeParams(e.cellRange,!0)}validUpdateType(e){if(!e.type)return(0,Fy.F5b)(136),!1;const t={"Range Chart":()=>!this.isPivotChart()&&!this.isCrossFilterChart(),"Pivot Chart":()=>this.isPivotChart(),"Cross Filter Chart":()=>this.isCrossFilterChart()},i=Object.keys(t).find((e=>t[e]()))??"Range Chart",r=e.type===`${i[0].toLowerCase()}${i.slice(1).replace(/ /g,"")}Update`;return r||(0,Fy.F5b)(137,{currentChartType:i,type:e.type}),r}getCellRangeParams(){const e=this.getCellRanges(),t=e[0],i=t&&t.startRow||null,r=t&&t.endRow||null;return{rowStartIndex:i&&i.rowIndex,rowStartPinned:i&&i.rowPinned,rowEndIndex:r&&r.rowIndex,rowEndPinned:r&&r.rowPinned,columns:e.reduce(((e,t)=>e.concat(t.columns.map((e=>e.getId())))),[])}}setCategoryAxisType(e){this.model.categoryAxisType=e,this.raiseChartModelUpdateEvent()}getSeriesGroupType(){return this.model.seriesGroupType??this.chartProxy.getSeriesGroupType()}setSeriesGroupType(e){this.model.seriesGroupType=e,this.raiseChartModelUpdateEvent()}raiseChartModelUpdateEvent(){this.dispatchLocalEvent({type:"chartModelUpdate"}),this.raiseChartOptionsChangedEvent()}raiseChartUpdatedEvent(){this.dispatchLocalEvent({type:"chartUpdated"})}raiseChartApiUpdateEvent(){this.dispatchLocalEvent({type:"chartApiUpdate"})}raiseChartOptionsChangedEvent(){const{chartId:e,chartType:t}=this.getChartModel();this.eventSvc.dispatchEvent({type:"chartOptionsChanged",chartId:e,chartType:t,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy?.getChartThemeOverrides()})}raiseChartRangeSelectionChangedEvent(){this.eventSvc.dispatchEvent({type:"chartRangeSelectionChanged",id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()})}destroy(){super.destroy(),this.rangeSvc&&this.rangeSvc.setCellRanges([])}},kD=class extends nA{getAxes(e){const t=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){const e=t[1];e.label={...e.label,formatter:e=>Math.round(e.value)+"%"}}return t}getSeries(e){const[t]=e.categories,i=e.fields.map((e=>({type:this.standaloneChartType,xKey:t.id,xName:t.name,yKey:e.colId,yName:e.displayName,normalizedTo:"normalizedArea"===this.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(this.chartType)})));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(i,e):i}isNormalised(){return!this.crossFiltering&&"normalizedArea"===this.chartType}},wD=new Set(["bar","groupedBar","stackedBar","normalizedBar"]),SD=class extends nA{getAxes(e){const t=[{type:this.getXAxisType(e),position:this.isHorizontal()?"left":"bottom"},{type:"number",position:this.isHorizontal()?"bottom":"left"}];if(this.isNormalised()){const e=t[1];e.label={...e.label,formatter:e=>Math.round(e.value)+"%"}}return t}getSeries(e){const[t]=e.categories,i=e.fields.map((e=>{return{type:this.standaloneChartType,direction:this.isHorizontal()?"horizontal":"vertical",stacked:this.crossFiltering||(i=this.chartType,UP.has(i)),normalizedTo:this.isNormalised()?100:void 0,xKey:t.id,xName:t.name,yKey:e.colId,yName:e.displayName};var i}));return this.crossFiltering?this.extractCrossFilterSeries(i):i}extractCrossFilterSeries(e){const t=[];for(let i=0;i<e.length;i++){const r={...e[i],listeners:{nodeClick:this.crossFilterCallback}},s={...r,yKey:`${r.yKey}-filtered-out`,showInLegend:!1};t.push(r),t.push(s)}return t}isNormalised(){return!this.crossFiltering&&["normalizedColumn","normalizedBar"].includes(this.chartType)}isHorizontal(){return wD.has(this.chartType)}},xD=class extends nA{getAxes(e){const t=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){const e=t[1];e.label={...e.label,formatter:e=>Math.round(e.value)+"%"}}return t}getSeries(e){const[t]=e.categories,i=["normalizedLine","stackedLine"].includes(this.chartType),r=e.fields.map((e=>({type:this.standaloneChartType,xKey:t.id,xName:t.name,yKey:e.colId,yName:e.displayName,normalizedTo:i&&this.isNormalised()?100:void 0,stacked:i})));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(r,e):r}isNormalised(){return!this.crossFiltering&&["normalizedLine"].includes(this.chartType)}},_D=class extends nA{getAxes(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]}getSeries(e){const[t]=e.categories,i=this.isPaired(),r=this.getSeriesDefinitions(e.fields,i),s=t.id===wA?void 0:t,a=r.map((e=>e?.sizeField?{type:"bubble",xKey:e.xField.colId,xName:e.xField.displayName??void 0,yKey:e.yField.colId,yName:e.yField.displayName??void 0,title:`${e.yField.displayName} vs ${e.xField.displayName}`,sizeKey:e.sizeField.colId,sizeName:e.sizeField.displayName??"",labelKey:s?s.id:e.yField.colId,labelName:s?s.name:void 0}:{type:"scatter",xKey:e.xField.colId,xName:e.xField.displayName??void 0,yKey:e.yField.colId,yName:e.yField.displayName??void 0,title:`${e.yField.displayName} vs ${e.xField.displayName}`,labelKey:s?s.id:e.yField.colId,labelName:s?s.name:void 0}));return this.crossFiltering?this.extractCrossFilterSeries(a,e):a}extractCrossFilterSeries(e,t){const{data:i}=t,r=e=>`${e}-filtered-out`,s=e.map((e=>{let t;if("bubble"===e.type){const{sizeKey:s}=e;t=((e,t)=>{const i=[1/0,-1/0];if(null!=t)for(const s of e){const e=s[t]??s[r(t)];e<i[0]&&(i[0]=e),e>i[1]&&(i[1]=e)}if(i[0]<=i[1])return i})(i,s)}return{...e,domain:t,highlightStyle:{item:{fill:"yellow"}},listeners:{...e.listeners,nodeClick:this.crossFilterCallback}}}));return[...s,...s.map((e=>{const{yKey:t,xKey:i}=e;let s={};return"bubble"===e.type&&(s={sizeKey:r(e.sizeKey)}),{...e,...s,yKey:r(t),xKey:r(i),showInLegend:!1,listeners:{...e.listeners,nodeClick:e=>{const t=e.datum[r(i)],s={...e,xKey:i,datum:{...e.datum,[i]:t}};this.crossFilterCallback(s)}}}}))]}getSeriesDefinitions(e,t){if(e.length<2)return[];const i="bubble"===this.chartType;if(t)return i?e.map(((t,i)=>i%3==0?{xField:t,yField:e[i+1],sizeField:e[i+2]}:null)).filter((e=>e&&e.yField&&e.sizeField)):e.map(((t,i)=>i%2==0?{xField:t,yField:e[i+1]}:null)).filter((e=>e&&e.yField));const r=e[0];return i?e.map(((t,i)=>i%2==1?{xField:r,yField:t,sizeField:e[i+1]}:null)).filter((e=>e&&e.sizeField)):e.filter(((e,t)=>t>0)).map((e=>({xField:r,yField:e})))}},ED=class extends nA{getAxes(e){const t=e?e.fields:[],i=new Map(t.map((e=>[e.colId,e]))),{primaryYKeys:r,secondaryYKeys:s}=this.getYKeys(t,e.seriesChartTypes),a=[{type:this.getXAxisType(e),position:"bottom"}];return r.length>0&&a.push({type:"number",keys:r,position:"left"}),s.length>0&&s.forEach((e=>{const t=i.get(e);if(!t||t.colId!==e)return;const r={type:"number",keys:[e],position:"right"};a.push(r)})),a}getSeries(e){const{fields:t,seriesChartTypes:i}=e,[r]=e.categories;return t.map((e=>{const t=i.find((t=>t.colId===e.colId));if(t){const i=t.chartType,s=["groupedColumn","groupedBar"].includes(i)?{grouped:!0}:{};return{type:YP(i),xKey:r.id,yKey:e.colId,yName:e.displayName,stacked:["stackedArea","stackedColumn"].includes(i),...s}}}))}getYKeys(e,t){const i=[],r=[];return e.forEach((e=>{const s=e.colId,a=t.find((e=>e.colId===s));a&&(a.secondaryAxis?r.push(s):i.push(s))})),{primaryYKeys:i,secondaryYKeys:r}}},MD=class extends oA{getUpdateOptions(e,t){return{...t,data:this.crossFiltering?this.getCrossFilterData(e):e.data,series:this.getSeries(e)}}getSeries(e){const[t]=e.categories,i=e.fields.length,r={currentOffset:0,offsetAmount:i>1?20:40},s=this.getFields(e).map((e=>{const s={type:this.standaloneChartType,angleKey:e.colId,angleName:e.displayName,sectorLabelKey:e.colId,calloutLabelName:t.name,calloutLabelKey:t.id};if("donut"===this.chartType||"doughnut"===this.chartType){const{outerRadiusOffset:t,innerRadiusOffset:a}=function(e){const t=e.currentOffset;e.currentOffset-=e.offsetAmount;const i=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:t,innerRadiusOffset:i}}(r),o=e.displayName?{title:{text:e.displayName,showInLegend:i>1}}:void 0;return{...s,type:"donut",outerRadiusOffset:t,innerRadiusOffset:a,...o}}return s}));return this.crossFiltering?this.extractCrossFilterSeries(s):s}getCrossFilterData(e){const t=e.fields[0].colId,i=`${t}-filtered-out`;return e.data.map((e=>{const r=e[t]+e[i];return e[`${t}-total`]=r,e[i]=1,e[t]=e[t]/r,e}))}extractCrossFilterSeries(e){const t=e[0],i=t.angleKey,r={...t,radiusMin:0,radiusMax:1,listeners:{nodeClick:this.crossFilterCallback},legendItemKey:t.calloutLabelKey,angleKey:`${i}-total`},s={...r,radiusKey:i,sectorLabelKey:`${i}-total`};return[{...r,radiusKey:`${i}-filtered-out`,showInLegend:!1},s]}getFields(e){return"pie"===this.chartType?e.fields.slice(0,1):e.fields}},TD=class extends Fy.wA2{constructor(){super('<div class="ag-chart-menu" data-ref="eMenu"></div>'),this.eMenu=Fy.CUI,this.buttonListenersDestroyFuncs=[]}wireBeans(e){this.chartTranslation=e.chartTranslation}updateParams(e){const{buttons:t}=e;this.createButtons(t)}createButtons(e){this.buttonListenersDestroyFuncs.forEach((e=>e?.())),this.buttonListenersDestroyFuncs=[];const t=this.eMenu;(0,Fy.wvc)(t),e.forEach((e=>{const{buttonName:i,iconName:r,callback:s}=e,a=this.createButton(r),o=this.chartTranslation.translate(i+"ToolbarTooltip");o&&a instanceof HTMLElement&&(a.title=o),this.buttonListenersDestroyFuncs.push(...this.addManagedElementListeners(a,{click:e=>s(e.currentTarget)})),t.appendChild(a)}))}createButton(e){const t=(0,Fy.scM)(e,this.beans);t.classList.add("ag-chart-menu-icon");const i=(0,Fy.Xye)({tag:"button",attrs:{type:"button"},cls:"ag-chart-menu-toolbar-button"});return i.appendChild(t),i}destroy(){this.buttonListenersDestroyFuncs=[],super.destroy()}},PD=class extends Fy.wA2{constructor(e){super('<div class="ag-pill-select" role="presentation"></div>'),this.config=e??{};const{selectedValueList:t,valueFormatter:i,valueList:r}=this.config;this.selectedValues=t??[],this.valueList=r??[],this.valueFormatter=i??(e=>(0,Fy.BYN)(e)),this.registerCSS(".ag-pill-select{display:flex;flex-direction:column}:where(.ag-pill-select){.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer;font-weight:500}.ag-picker-field-display,.ag-picker-field-icon{color:var(--ag-chart-menu-label-color)}}")}postConstruct(){const{ariaLabel:e,onValuesChange:t,dragSourceId:i}=this.config;this.dropZonePanel=this.createManagedBean(new DD({getValues:()=>this.selectedValues,setValues:e=>this.updateValues(e),isDraggable:()=>this.selectedValues.length>1},(e=>this.valueFormatter(e)),e,i)),this.getGui().appendChild(this.dropZonePanel.getGui()),this.initSelect(),null!=t&&(this.onValuesChange=t)}setValues(e,t){const{added:i,removed:r,updated:s}=this.getChanges(this.valueList,e);let a=!1;return(i.length||r.length||s.length)&&(a=!0),this.valueList=e,this.updateValues(t,a,!0),this}setValueFormatter(e){return this.valueFormatter=e,this}initSelect(){const e=this.createSelectOptions();if(!e.length)return!1;const{selectPlaceholder:t}=this.config;return this.eSelect=this.createBean(new Fy.wGv({options:e,placeholder:t,onValueChange:e=>this.addValue(e),pickerIcon:"chartsMenuAdd"})),this.getGui().appendChild(this.eSelect.getGui()),!0}createSelectOptions(){const e=[],{maxSelection:t}=this.config;return t&&this.selectedValues.length>=t||this.valueList.forEach((t=>{this.selectedValues.includes(t)||e.push({value:t,text:this.valueFormatter(t)})})),e}addValue(e){this.dropZonePanel.addItem(e)}updateValues(e,t,i){const r=this.selectedValues;this.selectedValues=e;const s=this.getChanges(r,e),a=t||s.added.length||s.removed.length,o=(0,Fy.HB1)(this.beans),n=this.eSelect?.getGui().contains(o),l=this.dropZonePanel?.getGui().contains(o);i||this.onValuesChange?.(s);const c=!!a&&!this.refreshSelect();this.dropZonePanel.refreshGui(),a&&n&&(c?this.dropZonePanel.focusList(!0):this.eSelect?.getFocusableElement().focus()),l&&!e.length&&this.eSelect?.getFocusableElement().focus()}getChanges(e,t){return{added:t.filter((t=>!e.includes(t))),removed:e.filter((e=>!t.includes(e))),updated:t.filter(((t,i)=>e[i]!==t)),selected:t}}refreshSelect(){if(!this.eSelect)return this.initSelect();const e=this.createSelectOptions();return e.length?(this.eSelect.clearOptions().addOptions(e).setValue(void 0,!0),!0):((0,Fy.taW)(this.eSelect.getGui()),this.eSelect=this.destroyBean(this.eSelect),!1)}destroy(){this.destroyBean(this.eSelect),super.destroy()}},AD=class extends $x{constructor(e,t,i,r,s,a){super(t,i,!1),this.value=e,this.valueFormatter=r,this.draggable=s,this.sourceId=a}getItem(){return this.value}getDisplayName(){return this.valueFormatter(this.value)}getAriaDisplayName(){return this.getDisplayName()}getTooltip(){}createGetDragItem(){return()=>({value:this.value})}getDragSourceType(){return Fy.rvo.ChartPanel}getDragSourceId(){return this.sourceId}isMovable(){return this.isDraggable()}isDraggable(){return this.draggable}},DD=class extends jx{constructor(e,t,i,r){super(!1),this.model=e,this.valueFormatter=t,this.ariaLabel=i,this.sourceId=r}postConstruct(){super.init()}isItemDroppable(e,t){return this.isSourceEventFromTarget(t)||null!=this.sourceId&&this.sourceId===t.dragSource.sourceId}updateItems(e){this.model.setValues(e)}getExistingItems(){return this.model.getValues()}getIconName(){return this.isPotentialDndItems()?"move":"notAllowed"}getAriaLabel(){return this.ariaLabel}createPillComponent(e,t,i){return new AD(e,t,i,this.valueFormatter,this.model.isDraggable(),this.sourceId)}getItems(e){return[e.value]}isInterestedIn(e){return e===Fy.rvo.ChartPanel}},ID=class extends Fy.wA2{constructor(e,t,i,r){super(r),this.chartController=e,this.allowMultipleSelection=t,this.maxSelection=i}wireBeans(e){this.chartTranslation=e.chartTranslation}addItem(e){this.groupComp.addItem(e)}createGroup(e,t,i,r,s){if(this.allowMultipleSelection){const s=e.filter((e=>e.selected));this.valuePillSelect=this.groupComp.createManagedBean(new PD({valueList:e,selectedValueList:s,valueFormatter:t,selectPlaceholder:this.chartTranslation.translate(i),dragSourceId:r,onValuesChange:e=>this.onValueChange(e),maxSelection:this.maxSelection})),this.groupComp.addItem(this.valuePillSelect)}else{const t=this.createValueSelectParams(e);t.onValueChange=t=>{e.forEach((e=>{e.selected=!1})),t.selected=!0,t.colId===wA&&this.chartController.setAggFunc(void 0,!0),this.chartController.updateForPanelChange({updatedColState:t,skipAnimation:s?.()})},this.valueSelect=this.groupComp.createManagedBean(new Fy.wGv(t)),this.groupComp.addItem(this.valueSelect)}}refreshValueSelect(e){if(!this.valueSelect)return;const{options:t,value:i}=this.createValueSelectParams(e);this.valueSelect.clearOptions().addOptions(t).setValue(i,!0)}createValueSelectParams(e){let t;return{options:e.map((e=>{const i=e.displayName??"";return e.selected&&(t=e),{value:e,text:i}})),value:t}}onValueChange({added:e,updated:t,removed:i,selected:r}){let s,a;const o=()=>{r.forEach(((e,t)=>{e.order=t})),a=!0};e.length?(s=e[0],s.selected=!0,o()):i.length?(s=i[0],s.selected=!1):t.length&&(o(),s=t[0]),s&&this.chartController.updateForPanelChange({updatedColState:s,resetOrder:a})}destroy(){this.valuePillSelect=void 0,this.valueSelect=void 0,super.destroy()}},ND=class extends ID{constructor(e,t,i,r,s){super(e,i,void 0,'<div id="categoriesGroup"></div>'),this.title=t,this.dimensionCols=r,this.isOpen=s}postConstruct(){this.groupComp=this.createBean(new pE({title:this.title,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen})),this.createGroup(this.dimensionCols,(e=>e.displayName??""),"categoryAdd","categorySelect",(()=>!this.chartController.getAggFunc())),this.createAggFuncControls(this.dimensionCols),this.getGui().appendChild(this.groupComp.getGui())}refresh(e){this.valuePillSelect?.setValues(e,e.filter((e=>e.selected))),this.refreshValueSelect(e),this.refreshAggFuncControls(e,this.chartController.getAggFunc())}createAggFuncControls(e){const t=this.chartController.getAggFunc();this.groupComp.addItem(this.aggFuncToggle=this.createBean(new Fy.nN0({label:this.chartTranslation.translate("aggregate"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:null!=t,onValueChange:e=>{const t=e?"sum":void 0;this.chartController.setAggFunc(t),this.aggFuncSelect?.setValue(t,!0),this.aggFuncSelect?.setDisplayed(null!=t)}}))),this.groupComp.addItem(this.aggFuncSelect=this.createBean(new Fy.wGv({options:[{value:"sum",text:this.chartTranslation.translate("sum")},{value:"first",text:this.chartTranslation.translate("first")},{value:"last",text:this.chartTranslation.translate("last")},{value:"min",text:this.chartTranslation.translate("min")},{value:"max",text:this.chartTranslation.translate("max")},{value:"count",text:this.chartTranslation.translate("count")},{value:"avg",text:this.chartTranslation.translate("avg")}],value:"string"==typeof t?t:void 0,onValueChange:e=>{this.chartController.setAggFunc(e)}}))),this.refreshAggFuncControls(e,t)}refreshAggFuncControls(e,t){const i=e.filter((e=>e.selected)).some((e=>e.colId!==wA));this.aggFuncToggle?.setValue(null!=t),this.aggFuncSelect?.setValue("string"==typeof t?t:void 0,!0),this.aggFuncToggle?.setDisplayed(i),this.aggFuncSelect?.setDisplayed(i&&null!=t)}clearAggFuncControls(){this.aggFuncToggle=this.destroyBean(this.aggFuncToggle),this.aggFuncSelect=this.destroyBean(this.aggFuncSelect)}destroy(){this.clearAggFuncControls(),this.groupComp=this.destroyBean(this.groupComp),super.destroy()}},RD=class extends Fy.AS9{constructor(e){super(),this.chartOptionsProxy=e}wireBeans(e){this.chartTranslation=e.chartTranslation}getDefaultColorPickerParams(e,t,i){return this.addValueParams(e,{label:this.chartTranslation.translate(t??"color"),labelWidth:"flex",inputWidth:"flex",labelAlignment:"top",pickerGap:6},i)}getDefaultNumberInputParams(e,t,i){return this.addValueParams(e,{label:this.chartTranslation.translate(t),labelAlignment:"top",labelWidth:"flex",inputWidth:"flex",precision:i?.precision,step:i?.step,min:i?.min,max:i?.max},{parseInputValue:e=>{const t=Number(e);return isNaN(t)?void 0:t},formatInputValue:e=>null==e?"":`${e}`})}getDefaultSliderParams(e,t,i,r){let s=this.chartOptionsProxy.getValue(e)??0;r&&Array.isArray(s)&&(s=s[0]);const a=this.getDefaultSliderParamsWithoutValueParams(s,t,i);return a.onValueChange=t=>this.chartOptionsProxy.setValue(e,r?[t]:t),a}getDefaultSliderParamsWithoutValueParams(e,t,i){return{label:this.chartTranslation.translate(t),minValue:0,maxValue:Math.max(e,i),textFieldWidth:45,value:`${e}`}}getDefaultCheckboxParams(e,t,i){const r=this.chartOptionsProxy.getValue(e),s={label:this.chartTranslation.translate(t),value:r,readOnly:i?.readOnly,passive:i?.passive};return s.onValueChange=t=>{this.chartOptionsProxy.setValue(e,"boolean"==typeof t?t:void 0)},s}getDefaultToggleParams(e,t,i){const r=this.chartOptionsProxy.getValue(e),s={label:this.chartTranslation.translate(t),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:r,readOnly:i?.readOnly,passive:i?.passive};return s.onValueChange=t=>{this.chartOptionsProxy.setValue(e,"boolean"==typeof t?t:void 0)},s}getDefaultSelectParams(e,t,i){return this.getDefaultSelectParamsWithoutValueParams(t,i,this.chartOptionsProxy.getValue(e),(t=>{this.chartOptionsProxy.setValue(e,t)}))}getDefaultSelectParamsWithoutValueParams(e,t,i,r){return{label:this.chartTranslation.translate(e),labelAlignment:"top",options:t,pickerGap:6,value:i,onValueChange:r}}getDefaultFontPanelParams(e,t){const i=t=>`${e}.${t}`;return this.addEnableParams(i("enabled"),{name:this.chartTranslation.translate(t),suppressEnabledCheckbox:!1,chartMenuParamsFactory:this,keyMapper:i})}addValueParams(e,t,i){const r=this.chartOptionsProxy.getValue(e);return t.value=i?.formatInputValue?i.formatInputValue(r):r,t.onValueChange=t=>{const r=i?.parseInputValue?i.parseInputValue(t):t;this.chartOptionsProxy.setValue(e,r)},t}addEnableParams(e,t){return t.enabled=this.chartOptionsProxy.getValue(e)??!1,t.onEnableChange=t=>this.chartOptionsProxy.setValue(e,t),t}getChartOptions(){return this.chartOptionsProxy}},LD=class extends Fy.wA2{constructor(e,t){super(),this.chartMenuContext=e,this.isOpen=t,this.chartSpecificGroup=Fy.CUI,this.hasContent=!1}wireBeans(e){this.chartTranslation=e.chartTranslation,this.chartSvc=e.chartSvc}postConstruct(){const e={title:this.getTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen,items:[...this.createDirectionSelect(),this.createReverseSelect(),this.createGroupTypeSelect()]};this.setTemplate('\n            <div id="chartSpecificGroup">\n                <ag-group-component data-ref="chartSpecificGroup"></ag-group-component>\n            </div>',[gE],{chartSpecificGroup:e}),this.setDisplayed(this.hasContent)}refresh(){this.hasContent=!1,this.chartSpecificGroup.setTitle(this.getTitle()),this.updateDirectionSelect(),this.updateReverseSelect(),this.updateGroupTypeSelect(),this.setDisplayed(this.hasContent)}getTitle(){const e=this.chartMenuContext.chartController.getChartType();return this.chartTranslation.translate(eA(e))}createDirectionSelect(){if(!this.chartSvc.isEnterprise())return[];const{chartOptionsService:e,chartController:t}=this.chartMenuContext,i=e.getSeriesOptionsProxy((()=>YP(t.getChartType()))),r=this.createManagedBean(new RD(i)),s=["horizontal","vertical"].map((e=>({value:e,text:this.chartTranslation.translate(e)}))),a=r.getDefaultSelectParams("direction","direction",s),o=a.onValueChange;return a.onValueChange=e=>{o(e),t.raiseChartModelUpdateEvent()},this.directionSelect=this.createManagedBean(new Fy.wGv(a)),this.updateDirectionSelect(),[this.directionSelect]}createReverseSelect(){const{chartMenuParamsFactory:e}=this.chartMenuContext,t=e.getDefaultToggleParams("series.reverse","reverse");return this.reverseToggle=this.createManagedBean(new Fy.nN0(t)),this.updateReverseSelect(),this.reverseToggle}updateReverseSelect(){const e="pyramid"===this.chartMenuContext.chartController.getChartType();this.updateDisplayed(this.reverseToggle,e)}updateDirectionSelect(){const e=GP(YP(this.chartMenuContext.chartController.getChartType()),"canSwitchDirection");this.updateDisplayed(this.directionSelect,e)}createGroupTypeSelect(){const{chartController:e,chartMenuParamsFactory:t}=this.chartMenuContext;return this.groupTypeSelect=this.createManagedBean(new Fy.wGv(t.getDefaultSelectParamsWithoutValueParams("seriesGroupType",BP.map((e=>({value:e,text:this.chartTranslation.translate(`${e}SeriesGroupType`)}))),e.getSeriesGroupType(),(t=>e.setSeriesGroupType(t))))),this.updateGroupTypeSelect(),this.groupTypeSelect}updateGroupTypeSelect(){const e=["radialColumn","radialBar","nightingale"].includes(this.chartMenuContext.chartController.getChartType());this.updateDisplayed(this.groupTypeSelect,e)}updateDisplayed(e,t){e?.setDisplayed(t),e&&(this.hasContent=this.hasContent||t)}},FD=class extends Fy.wA2{constructor(e,t,i){super('<div id="seriesChartTypeGroup"></div>'),this.chartController=e,this.columns=t,this.isOpen=i,this.selectedColIds=[],this.chartTypeComps=new Map,this.secondaryAxisComps=new Map}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.createSeriesChartTypeGroup(this.columns)}refresh(e){(0,Fy.Vgs)(this.getValidColIds(e),this.selectedColIds)?this.refreshComps():this.recreate(e)}recreate(e){this.isOpen=this.seriesChartTypeGroupComp.isExpanded(),(0,Fy.wvc)(this.getGui()),this.destroyBean(this.seriesChartTypeGroupComp),this.columns=e,this.selectedColIds=[],this.clearComps(),this.postConstruct()}getValidColIds(e){const t=this.chartController.getSeriesChartTypes();return e.filter((e=>e.selected&&!!t.filter((t=>t.colId===e.colId))[0])).map((({colId:e})=>e))}createSeriesChartTypeGroup(e){this.seriesChartTypeGroupComp=this.createBean(new pE({title:this.chartTranslation.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen}));const t=this.chartController.getSeriesChartTypes();e.forEach((e=>{if(!e.selected)return;const i=t.filter((t=>t.colId===e.colId))[0];if(!i)return;this.selectedColIds.push(e.colId);const r=this.seriesChartTypeGroupComp.createManagedBean(new pE({title:e.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),s=this.seriesChartTypeGroupComp.createManagedBean(new Fy.jkc({label:this.chartTranslation.translate("secondaryAxis"),labelWidth:"flex",disabled:(a=i.chartType,["groupedColumn","stackedColumn","stackedArea"].includes(a)),value:!!i.secondaryAxis,onValueChange:t=>this.chartController.updateSeriesChartType(e.colId,void 0,t)}));var a;r.addItem(s);const o=["line","area","stackedArea","groupedColumn","stackedColumn"].map((e=>({value:e,text:this.chartTranslation.translate(eA(e))}))),n=r.createManagedBean(new Fy.wGv({options:o,value:i.chartType,onValueChange:t=>this.chartController.updateSeriesChartType(e.colId,t)}));r.addItem(n),this.seriesChartTypeGroupComp.addItem(r),this.chartTypeComps.set(e.colId,n),this.secondaryAxisComps.set(e.colId,s)})),this.getGui().appendChild(this.seriesChartTypeGroupComp.getGui())}refreshComps(){const e=this.chartController.getSeriesChartTypes();this.selectedColIds.forEach((t=>{const i=e.find((e=>e.colId===t));if(!i)return;const r=this.chartTypeComps.get(t),s=this.secondaryAxisComps.get(t);r?.setValue(i.chartType),s?.setValue(!!i.secondaryAxis),s?.setDisabled(this.isSecondaryAxisDisabled(i.chartType))}))}clearComps(){this.chartTypeComps.clear(),this.secondaryAxisComps.clear()}isSecondaryAxisDisabled(e){return["groupedColumn","stackedColumn","stackedArea"].includes(e)}destroy(){this.clearComps(),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),super.destroy()}},OD=class extends ID{constructor(e,t,i,r,s,a,o){super(e,r,s,'<div id="seriesGroup"></div>'),this.chartOptionsService=t,this.title=i,this.valueCols=a,this.isOpen=o}postConstruct(){if(this.groupComp=this.createBean(new pE({title:this.title,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen})),this.chartController.isActiveXYChart()){const e=this.groupComp.createManagedBean(new Fy.nN0({label:this.chartTranslation.translate("paired"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:this.chartOptionsService.getPairedMode(),onValueChange:e=>{this.chartOptionsService.setPairedMode(!!e),this.chartController.updateForGridChange({maintainColState:!0})}}));this.groupComp.addItem(e)}this.createGroup(this.valueCols,this.generateGetSeriesLabel(this.valueCols),"seriesAdd","seriesSelect"),this.getGui().appendChild(this.groupComp.getGui())}refresh(e){this.valuePillSelect?.setValueFormatter(this.generateGetSeriesLabel(e)),this.valuePillSelect?.setValues(e,e.filter((e=>e.selected))),this.refreshValueSelect(e)}generateGetSeriesLabel(e){if(!this.chartController.isActiveXYChart())return e=>e.displayName??"";const t=e.filter((e=>e.selected)),i="bubble"===this.chartController.getChartType(),r=this.chartOptionsService.getPairedMode(),s=new Map;return s.set(0,"X"),s.set(1,"Y"),s.set(2,"size"),e=>{const a=e.displayName??"";if(!e.selected)return a;const o=t.indexOf(e);if(-1===o)return a;let n;return n=r?s.get(o%(i?3:2)):0===o?"X":i&&o%2==0?"size":"Y",`${a} (${n})`}}destroy(){this.groupComp=this.destroyBean(this.groupComp),super.destroy()}},BD={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0},{type:"chartSpecific",isOpen:!0}]},zD=class extends Fy.wA2{constructor(e){super('<div class="ag-chart-data-wrapper ag-scrollable-container"></div>'),this.chartMenuContext=e,this.isSwitchCategorySeriesToggled=!1,this.restoreSwitchCategorySeriesToggleFocus=!1,this.panels=[],this.chartController=e.chartController}wireBeans(e){this.chartTranslation=e.chartTranslation,this.chartSvc=e.chartSvc}postConstruct(){this.createSwitchCategorySeriesToggle(),this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched(),this.updatePanels();const e=this.updatePanels.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:e,chartApiUpdate:e})}destroy(){this.clearPanelComponents(),super.destroy()}updatePanels(){const e=this.chartType,t=this.isSwitchCategorySeriesToggled,{dimensionCols:i,valueCols:r}=this.chartController.getColStateForMenu();this.chartType=this.chartController.getChartType(),this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched();const s=this.isSwitchCategorySeriesToggled!==t;this.canRefresh(e,this.chartType)&&!s?(this.categoriesDataPanel?.refresh(i),this.seriesDataPanel?.refresh(r),this.seriesChartTypePanel?.refresh(r),this.chartSpecificPanel?.refresh()):this.recreatePanels(i,r);const a=JP(this.chartType)&&this.chartSvc.isEnterprise()&&!this.chartController.isGrouping();(0,Fy.DIH)(this.switchCategorySeriesToggle.getGui(),a),s&&this.switchCategorySeriesToggle?.setValue(this.chartController.isCategorySeriesSwitched()),this.restoreSwitchCategorySeriesToggleFocus&&(this.restoreSwitchCategorySeriesToggleFocus=!1,a&&this.switchCategorySeriesToggle.getFocusableElement().focus())}canRefresh(e,t){if(void 0===e)return!1;if(e===t)return!0;const i=e=>["columnLineCombo","areaColumnCombo","customCombo"].includes(e);return!(!i(e)||!i(t))}recreatePanels(e,t){this.clearPanelComponents();const{chartType:i}=this;if(!i)return;const r=this.chartController.isCategorySeriesSwitched();this.getDataPanelDef().groups?.forEach((({type:s,isOpen:a})=>{s===(r?"series":"categories")?(this.categoriesDataPanel=this.createBean(new ND(this.chartController,this.getCategoryGroupTitle(r),this.getCategoryGroupMultipleSelect(i,r),e,a)),this.panels.push(this.categoriesDataPanel)):s===(r?"categories":"series")?(this.seriesDataPanel=this.createBean(new OD(this.chartController,this.chartMenuContext.chartOptionsService,this.getSeriesGroupTitle(r),this.getSeriesGroupMultipleSelect(i,r),this.getSeriesGroupMaxSelection(i,r),t,a)),this.panels.push(this.seriesDataPanel)):"seriesChartType"===s?this.chartController.isComboChart()&&(this.seriesChartTypePanel=this.createBean(new FD(this.chartController,t,a)),this.panels.push(this.seriesChartTypePanel)):"chartSpecific"===s?(this.chartSpecificPanel=this.createBean(new LD(this.chartMenuContext,a)),this.panels.push(this.chartSpecificPanel)):(0,Fy.F5b)(144,{type:s})})),(r?this.categoriesDataPanel:this.seriesDataPanel)?.addItem(this.switchCategorySeriesToggle.getGui()),this.addPanelComponents()}addPanelComponents(){if(!this.panels.length)return;const e=(0,Fy.rtB)(this.beans).createDocumentFragment();for(const t of this.panels)t.addCss("ag-chart-data-section"),e.appendChild(t.getGui());this.getGui().appendChild(e)}clearPanelComponents(){const e=this.getGui();this.panels.forEach((t=>{e.removeChild(t.getGui()),this.destroyBean(t)})),this.panels=[]}getDataPanelDef(){return this.gos.get("chartToolPanelsDef")?.dataPanel??BD}getCategoryGroupTitle(e){return e?this.chartTranslation.translate("seriesLabels"):this.chartTranslation.translate(this.chartController.isActiveXYChart()?"labels":"categories")}getCategoryGroupMultipleSelect(e,t){return!t&&1!==QP(e)}getSeriesGroupTitle(e){return e?this.chartTranslation.translate("categoryValues"):this.chartTranslation.translate(this.chartController.isActiveXYChart()?"xyValues":"series")}getSeriesGroupMultipleSelect(e,t){return 1!==this.getSeriesGroupMaxSelection(e,t)}getSeriesGroupMaxSelection(e,t){if(!t)return ZP(e)}createSwitchCategorySeriesToggle(){this.switchCategorySeriesToggle=this.createManagedBean(new Fy.nN0({label:this.chartTranslation.translate("switchCategorySeries"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:this.chartController.isCategorySeriesSwitched(),onValueChange:e=>{this.restoreSwitchCategorySeriesToggleFocus=!0,this.chartController.switchCategorySeries(e)}}))}},VD=class extends Fy.ZST{constructor(e){super(e,'<div class="ag-angle-select">\n            <div data-ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div class="ag-angle-select-field">\n                    <div data-ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div data-ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field data-ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',[Fy.wXw]),this.eLabel=Fy.CUI,this.eParentCircle=Fy.CUI,this.eChildCircle=Fy.CUI,this.eAngleValue=Fy.CUI,this.radius=0,this.offsetX=0,this.offsetY=0}wireBeans(e){this.dragSvc=e.dragSvc}postConstruct(){super.postConstruct();const{value:e,onValueChange:t}=this.config;null!=e&&this.setValue(e,void 0,!0),null!=t&&this.onValueChange(t),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:()=>{this.parentCircleRect=this.eParentCircle.getBoundingClientRect()},onDragging:e=>this.calculateAngleDrag(e),onDragStop:()=>{}},this.dragSvc?.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(`${this.degrees}`).onValueChange((e=>{null!=e&&""!==e||(e="0"),e=this.eAngleValue.normalizeValue(e);let t=parseFloat(e);t>180&&(t-=360),this.setValue(t)})),this.updateNumberInput(),(0,Fy.fTC)(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListeners(this,{fieldValueChanged:()=>{this.eAngleValue.getInputElement().contains((0,Fy.HB1)(this.beans))||this.updateNumberInput()}})}updateNumberInput(){const e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())}positionChildCircle(e){const t=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,r=t.width/2,s=t.height/2;i.style.left=`${r+8*Math.cos(e)}px`,i.style.top=`${s+8*Math.sin(e)}px`}calculatePolar(){const e=this.offsetX,t=this.offsetY,i=Math.atan2(t,e);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(i)}calculateCartesian(){const e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)}setOffsetX(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this}setOffsetY(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this}calculateAngleDrag(e){const t=this.parentCircleRect,i=t.width/2,r=t.height/2,s=e.clientX-t.left-i,a=e.clientY-t.top-r,o=Math.atan2(a,s);this.setValue(o,!0)}toDegrees(e){return e/Math.PI*180}toRadians(e){return e/180*Math.PI}normalizeNegativeValue(e){return e<0?360+e:e}normalizeAngle180(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e}getRadius(){return this.radius}setRadius(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>{e(this.degrees)}}),this}getValue(e){return e?this.toRadians(this.degrees):this.degrees}setValue(e,t,i){let r;return r=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(r),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(r),i||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}setWidth(e){return(0,Fy.Z4f)(this.getGui(),e),this}setDisabled(e){return super.setDisabled(e),this.eAngleValue.setDisabled(e),this}destroy(){this.dragSvc?.removeDragSource(this.dragListener),super.destroy()}},GD=class extends Fy.wA2{constructor(e){super(),this.params=e,this.fontGroup=Fy.CUI,this.activeComps=[],this.chartOptions=e.chartMenuParamsFactory.getChartOptions()}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{cssIdentifier:e="charts-format-sub-level",name:t,enabled:i,onEnableChange:r,suppressEnabledCheckbox:s,chartMenuParamsFactory:a,keyMapper:o}=this.params,n={cssIdentifier:e,direction:"vertical",suppressOpenCloseIcons:!0,title:t,enabled:i,suppressEnabledCheckbox:!0,onEnableChange:e=>{r&&r(e)},useToggle:!s};this.setTemplate('<div class="ag-font-panel">\n        <ag-group-component data-ref="fontGroup">\n            <ag-select data-ref="familySelect"></ag-select>\n            <ag-select data-ref="weightStyleSelect"></ag-select>\n            <div class="ag-charts-font-size-color">\n                <ag-select data-ref="sizeSelect"></ag-select>\n                <ag-color-picker data-ref="colorPicker"></ag-color-picker>\n            </div>\n        </ag-group-component>\n    </div>',[gE,Fy.Z4q,FA],{fontGroup:n,familySelect:this.getFamilySelectParams(),weightStyleSelect:this.getWeightStyleSelectParams(),sizeSelect:this.getSizeSelectParams(),colorPicker:a.getDefaultColorPickerParams(o("color"))}),this.toggleCss("ag-font-panel-no-header",!t)}addItem(e,t){t?this.fontGroup.prependItem(e):this.fontGroup.addItem(e),this.activeComps.push(e)}setEnabled(e){this.fontGroup.setEnabled(e)}getFamilySelectParams(){const e=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],t=this.getInitialFontValue("fontFamily");let i=e[0];if(t){const s=e.map((e=>e.toLowerCase())).indexOf(t.toLowerCase());if(s>=0)i=e[s];else{const s=(r=t)[0].toUpperCase()+r.substring(1).toLowerCase();e.push(s),i=s}}var r;const s=e.sort().map((e=>({value:e,text:e})));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("font",s,`${i}`,(e=>this.setFont({fontFamily:e})))}getSizeSelectParams(){const e=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],t=this.getInitialFontValue("fontSize");e.includes(t)||e.push(t);const i=e.sort(((e,t)=>e-t)).map((e=>({value:`${e}`,text:`${e}`})));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("size",i,`${t}`,(e=>this.setFont({fontSize:parseInt(e,10)})))}getWeightStyleSelectParams(){const e=this.getInitialFontValue("fontWeight")??"normal",t=this.getInitialFontValue("fontStyle")??"normal",i=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}];let r=i.find((i=>i.weight===e&&i.style===t));r||(r={name:"predefined",weight:e,style:t},i.unshift(r));const s=i.map((e=>({value:e.name,text:this.chartTranslation.translate(e.name)})));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("weight",s,r.name,(e=>{const t=i.find((t=>t.name===e));this.setFont({fontWeight:t.weight,fontStyle:t.style})}))}destroyActiveComps(){this.activeComps.forEach((e=>{(0,Fy.taW)(e.getGui()),this.destroyBean(e)}))}destroy(){this.destroyActiveComps(),super.destroy()}setFont(e){const{keyMapper:t}=this.params;for(const i of Object.keys(e)){const r=e[i];r&&this.chartOptions.setValue(t(i),r)}}getInitialFontValue(e){const{keyMapper:t}=this.params;return this.chartOptions.getValue(t(e))}},UD=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e,this.axisTicksSizeSlider=Fy.CUI}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartMenuUtils:e}=this,t=e.addEnableParams("tick.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("ticks"),suppressEnabledCheckbox:!0,useToggle:!0}),i=e.getDefaultColorPickerParams("tick.stroke"),r=e.getDefaultSliderParams("tick.width","width",10),s=e.getDefaultSliderParams("tick.size","length",30);this.setTemplate('<div>\n            <ag-group-component data-ref="axisTicksGroup">\n                <ag-color-picker data-ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider data-ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider data-ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,FA,GA],{axisTicksGroup:t,axisTicksColorPicker:i,axisTicksWidthSlider:r,axisTicksSizeSlider:s})}setTickSizeSliderDisplayed(e){this.axisTicksSizeSlider.setDisplayed(e)}},HD=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e,this.chartOptions=e.getChartOptions()}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuUtils.addEnableParams("gridLine.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("gridLines"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.getGridLineColorPickerParams("color"),i=this.getGridLineWidthSliderParams("thickness"),r=this.getGridLineDashSliderParams("lineDash");this.setTemplate('<div>\n            <ag-group-component data-ref="gridLineGroup">\n                <ag-color-picker data-ref="gridLineColorPicker"></ag-color-picker>\n                <ag-slider data-ref="gridLineWidthSlider"></ag-slider>\n                <ag-slider data-ref="gridLineLineDashSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,FA,GA],{gridLineGroup:e,gridLineColorPicker:t,gridLineWidthSlider:i,gridLineLineDashSlider:r})}getGridLineColorPickerParams(e){return this.chartMenuUtils.getDefaultColorPickerParams("gridLine.style",e,{formatInputValue:e=>e?.[0]?.stroke,parseInputValue:e=>{const t=this.chartOptions.getValue("gridLine.style")??[];return 0===t.length?[{stroke:e,lineDash:[]}]:[{...t[0],stroke:e}]}})}getGridLineWidthSliderParams(e){return this.chartMenuUtils.getDefaultSliderParams("gridLine.width",e,10)}getGridLineDashSliderParams(e){const t=this.chartOptions.getValue("gridLine.style"),i=t?.[0]?.lineDash?.[0],r=this.chartMenuUtils.getDefaultSliderParamsWithoutValueParams(i??0,e,30);return r.onValueChange=e=>{const t=this.chartOptions.getValue("gridLine.style.0.stroke");this.chartOptions.setValue("gridLine.style",[{lineDash:[e],stroke:t}])},r}},WD=class extends Fy.wA2{constructor(e,t){super(),this.axisType=e,this.options=t,this.axisGroup=Fy.CUI,this.axisTypeSelect=Fy.CUI,this.axisPositionSelect=Fy.CUI,this.axisTimeFormatSelect=Fy.CUI,this.activePanels=[],this.updateFuncs=[];const{chartOptionsService:i,seriesType:r,chartController:s}=t;this.chartOptionsService=i,this.chartController=s,this.chartOptionsSeriesProxy=i.getSeriesOptionsProxy((()=>r))}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{isExpandedOnInit:e,chartOptionsService:t,registerGroupComponent:i}=this.options,r=this.axisType,s={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate(r),expanded:e,suppressEnabledCheckbox:!0},a=t.getCartesianAxisOptionsProxy(this.axisType),o=this.createManagedBean(new RD(a)),n=this.createManagedBean(new RD(t.getCartesianAxisThemeOverridesProxy(this.axisType))),l=this.getAxisTypeSelectParams(o,t.getCartesianAxisAppliedThemeOverridesProxy(this.axisType)),c=this.getAxisPositionSelectParams(o),d=this.getAxisTimeFormatSelectParams(o),u=this.getAxisColorInputParams(n),p=this.getAxisLineWidthSliderParams(n);this.setTemplate('<div>\n            <ag-group-component data-ref="axisGroup">\n                <ag-select data-ref="axisTypeSelect"></ag-select>\n                <ag-select data-ref="axisTimeFormatSelect"></ag-select>\n                <ag-select data-ref="axisPositionSelect"></ag-select>\n                <ag-color-picker data-ref="axisColorInput"></ag-color-picker>\n                <ag-slider data-ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,Fy.Z4q,FA,GA],{axisGroup:s,axisTypeSelect:l??void 0,axisPositionSelect:c??void 0,axisTimeFormatSelect:d??void 0,axisColorInput:u,axisLineWidthSlider:p}),i(this.axisGroup),this.axisTypeSelect.setDisplayed(!!l.options?.length),c||this.removeTemplateComponent(this.axisPositionSelect);const h=()=>{const e="time"===a.getValue("type");(0,Fy.DIH)(this.axisTimeFormatSelect.getGui(),e)};d?(h(),this.addManagedEventListeners({chartOptionsChanged:()=>{h()}})):this.removeTemplateComponent(this.axisTimeFormatSelect),this.initGridLines(n),this.initAxisTicks(n),this.initAxisLabels(n),this.addManagedListeners(this.chartController,{chartUpdated:()=>this.updateFuncs.forEach((e=>e())),chartModelUpdate:()=>setTimeout((()=>{this.isAlive()&&(this.refreshAxisTypeSelect(o),h())}))})}getAxisTypeSelectParams(e,t){const i=e.getChartOptions(),r=this.getAxisTypeSelectOptions(),s=e.getDefaultSelectParams("type","axisType",r);return s.onValueChange=e=>{const r=i.getValue("type");if(e===r)return;const s=t.getValue("*"),a="time"===e,o="time"===r!==a?a?"%d %B %Y":void 0:null;if(this.chartOptionsService.setCartesianCategoryAxisType(this.axisType,e),null!==o){const e=i.getValue("label")??{};i.setValue("label",{...e,format:o})}t.setValue("*",s)},s}refreshAxisTypeSelect(e){const t=this.getAxisTypeSelectOptions(),i=!!t.length;this.axisTypeSelect.setDisplayed(i),i&&this.axisTypeSelect.clearOptions().addOptions(t).setValue(e.getChartOptions().getValue("type"))}getAxisTypeSelectOptions(){const e=this.chartController,t=e.getChartType();return["heatmap","histogram","boxPlot","rangeBar","scatter","bubble"].includes(t)||e.isGrouping()||!this.isCategoryAxis()||e.isCategorySeriesSwitched()||!(()=>{const t=e.getChartData()[0];return!!t&&e.getSelectedDimensions().every((e=>!isNaN(parseFloat(t[e.colId]))))})()?[]:["category","number","time"].map((e=>({value:e,text:this.translate(e)})))}isCategoryAxis(){const e="horizontal"===this.chartOptionsSeriesProxy.getValue("direction");return e&&"yAxis"===this.axisType||!e&&"xAxis"===this.axisType}getAxisPositionSelectParams(e){const t=((e,t)=>{if("heatmap"===e)return null;switch(t){case"xAxis":return[{value:"top",text:this.translate("top")},{value:"bottom",text:this.translate("bottom")}];case"yAxis":return[{value:"left",text:this.translate("left")},{value:"right",text:this.translate("right")}]}})(this.chartController.getChartType(),this.axisType);return t?e.getDefaultSelectParams("position","position",t):null}getAxisTimeFormatSelectParams(e){if(!this.isCategoryAxis())return null;const t=[{value:"%d/%m/%Y",text:this.translate("timeFormatSlashesDDMMYYYY")},{value:"%m/%d/%Y",text:this.translate("timeFormatSlashesMMDDYYYY")},{value:"%d/%m/%y",text:this.translate("timeFormatSlashesDDMMYY")},{value:"%m/%d/%y",text:this.translate("timeFormatSlashesMMDDYY")},{value:"%d.%e.%y",text:this.translate("timeFormatDotsDDMYY")},{value:"%e.%d.%y",text:this.translate("timeFormatDotsMDDYY")},{value:"%Y-%m-%d",text:this.translate("timeFormatDashesYYYYMMDD")},{value:"%d %B %Y",text:this.translate("timeFormatSpacesDDMMMMYYYY")},{value:"%H:%M:%S",text:this.translate("timeFormatHHMMSS")},{value:"%I:%M:%S %p",text:this.translate("timeFormatHHMMSSAmPm")}];return e.getDefaultSelectParams("label.format","timeFormat",t)}getAxisColorInputParams(e){return e.getDefaultColorPickerParams("line.stroke")}getAxisLineWidthSliderParams(e){const t=e.getChartOptions(),i=e.getDefaultSliderParamsWithoutValueParams((t.getValue("line.enabled")?t.getValue("line.width"):null)??0,"thickness",10);return i.onValueChange=e=>{var i;i=0===e?null:e,t.setValues([{expression:"line.enabled",value:null!=i},{expression:"line.width",value:i??0}])},i}initGridLines(e){if("heatmap"===this.chartController.getChartType())return;const t=this.createBean(new HD(e));this.axisGroup.addItem(t),this.activePanels.push(t)}initAxisTicks(e){if(!this.hasConfigurableAxisTicks())return;const t=this.createBean(new UD(e));this.axisGroup.addItem(t),this.activePanels.push(t);const i=()=>t.setTickSizeSliderDisplayed(this.isGroupedCategoryAxis());this.updateFuncs.push(i),i()}hasConfigurableAxisTicks(){switch(this.chartController.getChartType()){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}}initAxisLabels(e){const t={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:e,keyMapper:e=>`label.${e}`},i=this.createBean(new GD(t));this.axisGroup.addItem(i),this.activePanels.push(i),this.addAdditionalLabelComps(i,e)}addAdditionalLabelComps(e,t){this.addLabelPadding(e,t);const i=this.createRotationWidget("labelRotation",t),r=this.initLabelRotation(i,t);e.addItem(r),e.addItem(i)}initLabelRotation(e,t){const i=t.getChartOptions(),r=()=>i.getValue("label.rotation"),s="number"!=typeof r()&&i.getValue("label.autoRotate"),a=this.createBean(new Fy.jkc({label:this.translate("autoRotate"),value:s,onValueChange:t=>{t&&(this.prevRotation=r()),i.setValues([{expression:"label.autoRotate",value:t},{expression:"label.rotation",value:t?void 0:this.prevRotation}]),e.setDisplayed(!t)}}));e.setDisplayed(!s);const o=()=>a.setDisplayed(this.isGroupedCategoryAxis());return this.updateFuncs.push(o),o(),a}createRotationWidget(e,t){const i=t.getChartOptions(),r=()=>i.getValue("label.rotation"),s=String.fromCharCode(176),a=`${this.chartTranslation.translate(e)} ${s}`,o=new VD({label:a,labelWidth:"flex",value:r()??0,onValueChange:e=>i.setValue("label.rotation",e)});return this.updateFuncs.push((()=>{o.setValue(r()??0)})),this.createBean(o)}isGroupedCategoryAxis(){return"grouped-category"!==this.chartOptionsService.getCartesianAxisOptionsProxy(this.axisType).getValue("type")||!this.isCategoryAxis()}addLabelPadding(e,t){const i=this.createBean(new VA(t.getDefaultSliderParams("label.spacing","padding",30)));e.addItem(i)}translate(e){return this.chartTranslation.translate(e)}removeTemplateComponent(e){(0,Fy.taW)(e.getGui()),this.destroyBean(e)}destroyActivePanels(){this.activePanels.forEach((e=>{(0,Fy.taW)(e.getGui()),this.destroyBean(e)}))}destroy(){this.destroyActivePanels(),super.destroy()}},jD=class extends Fy.wA2{constructor(e){super(),this.options=e,this.axisGroup=Fy.CUI}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{isExpandedOnInit:e,chartAxisMenuParamsFactory:t,registerGroupComponent:i}=this.options,r={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate("polarAxis"),expanded:e,suppressEnabledCheckbox:!0},s=t.getDefaultColorPickerParams("line.stroke"),a=t.getDefaultSliderParams("line.width","thickness",10);this.setTemplate('<div>\n            <ag-group-component data-ref="axisGroup">\n                <ag-color-picker data-ref="axisColorInput"></ag-color-picker>\n                <ag-slider data-ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,FA,GA],{axisGroup:r,axisColorInput:s,axisLineWidthSlider:a}),i(this.axisGroup),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()}initAxis(){const e=this.options.chartController.getChartType();if(["radarLine","radarArea"].includes(e)){const e=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.createSelect({labelKey:"shape",options:e,property:"shape"}))}"pie"!==e&&this.axisGroup.addItem(this.createSlider({labelKey:"innerRadius",defaultMaxValue:1,property:"innerRadiusRatio"}))}initAxisLabels(){const e={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:this.options.chartAxisMenuParamsFactory,keyMapper:e=>`label.${e}`},t=this.createManagedBean(new GD(e)),i=this.createOrientationWidget();t.addItem(i),this.axisGroup.addItem(t)}createOrientationWidget(){const e=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.createSelect({labelKey:"orientation",options:e,property:"label.orientation"})}initRadiusAxis(){if(!GP(YP(this.options.chartController.getChartType()),"isRadial"))return;const e=[this.createSlider({labelKey:"groupPadding",defaultMaxValue:1,property:"paddingInner"}),this.createSlider({labelKey:"seriesPadding",defaultMaxValue:1,property:"groupPaddingInner"})],t=this.createManagedBean(new pE({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding"),items:e})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);this.axisGroup.addItem(t)}createSlider(e){const{labelKey:t,defaultMaxValue:i,step:r=.05,property:s}=e,a=this.options.chartAxisMenuParamsFactory.getDefaultSliderParams(s,t,i);return a.step=r,this.createManagedBean(new VA(a))}createSelect(e){const{labelKey:t,options:i,property:r}=e;return this.createManagedBean(new Fy.wGv(this.options.chartAxisMenuParamsFactory.getDefaultSelectParams(r,t,i)))}translate(e){return this.chartTranslation.translate(e)}},KD=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuUtils.addEnableParams("background.visible",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("background"),suppressEnabledCheckbox:!0,useToggle:!0}),t=this.chartMenuUtils.getDefaultColorPickerParams("background.fill");this.setTemplate('<div>\n            <ag-group-component data-ref="chartBackgroundGroup">\n                <ag-color-picker data-ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',[gE,FA],{chartBackgroundGroup:e,colorPicker:t})}},$D=class extends Fy.wA2{constructor(e,t){super(),this.chartMenuUtils=e,this.chartController=t,this.paddingTopSlider=Fy.CUI}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("padding"),suppressEnabledCheckbox:!0},t=e=>this.chartMenuUtils.getDefaultSliderParams("padding."+e,e,200);this.setTemplate('<div>\n            <ag-group-component data-ref="chartPaddingGroup">\n                <ag-slider data-ref="paddingTopSlider"></ag-slider>\n                <ag-slider data-ref="paddingRightSlider"></ag-slider>\n                <ag-slider data-ref="paddingBottomSlider"></ag-slider>\n                <ag-slider data-ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',[gE,GA],{chartPaddingGroup:e,paddingTopSlider:t("top"),paddingRightSlider:t("right"),paddingBottomSlider:t("bottom"),paddingLeftSlider:t("left")}),this.addManagedEventListeners({chartOptionsChanged:e=>{this.updateTopPadding(e.chartOptions)}})}updateTopPadding(e){const t=[...this.chartController.getChartSeriesTypes(),"common"].map((t=>e?.[t]?.padding?.top)).find((e=>null!=e));null!=t&&this.paddingTopSlider.setValue(`${t}`)}},qD=class extends Fy.wA2{constructor(e){super(),this.options=e,this.chartGroup=Fy.CUI}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartController:e,chartMenuParamsFactory:t,isExpandedOnInit:i,registerGroupComponent:r}=this.options,s={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("chartStyle"),expanded:i,suppressEnabledCheckbox:!0,items:[this.createManagedBean(new $D(t,e)),this.createManagedBean(new KD(t))]};this.setTemplate('<div>\n            <ag-group-component data-ref="chartGroup"></ag-group-component>\n        </div>',[gE],{chartGroup:s}),r(this.chartGroup)}},YD=class extends Fy.AS9{constructor(e){super(),this.groupContainer=e,this.id=0,this.groupComponents=new Map}addGroupComponent(e){const t=this.id++;this.groupComponents.set(t,e),e.isExpanded()&&(this.expandedGroupComponent=t),e.onExpandedChange((i=>{if(i){const i=this.expandedGroupComponent;if(this.expandedGroupComponent=t,null!=i){const t=e.getGui(),r=t.offsetTop-this.groupContainer.parentElement.scrollTop;this.groupComponents.get(i)?.toggleGroupExpand(!1,!0);let s=t.offsetTop-r;s<0&&(s=0),s!==this.groupContainer.parentElement.scrollTop&&(this.groupContainer.parentElement.scrollTop=s)}}else this.expandedGroupComponent=void 0}))}destroy(){this.groupComponents.clear(),super.destroy()}},XD=class extends Fy.wA2{constructor(e,t){super(),this.options=e,this.chartMenuContext=t,this.legendGroup=Fy.CUI,this.enabledGroup=Fy.CUI,this.isGradient=["treemap","sunburst","heatmap"].includes(e.seriesType),this.key=this.isGradient?"gradientLegend":"legend",this.chartController=t.chartController}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartMenuParamsFactory:e,isExpandedOnInit:t,registerGroupComponent:i}=this.options,r=this.createManagedBean(new Fy.wGv(e.getDefaultSelectParams(`${this.key}.position`,"position",["top","right","bottom","left"].map((e=>({value:e,text:this.chartTranslation.translate(e)}))))));this.enabledGroup=this.createManagedBean(new pE(e.addEnableParams(`${this.key}.enabled`,{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("legendEnabled"),suppressEnabledCheckbox:!0,useToggle:!0,items:[this.createLabelPanel(e),r,...this.getItems(e)]})));const s={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("legend"),suppressEnabledCheckbox:!0,expanded:t,items:[this.enabledGroup]};this.setTemplate('<div>\n            <ag-group-component data-ref="legendGroup">\n            </ag-group-component>\n        </div>',[gE],{legendGroup:s}),i(this.legendGroup);const a=this.updateLegendEnabledState.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:a,chartApiUpdate:a})}updateLegendEnabledState(){const{valueCols:e}=this.chartController.getColStateForMenu();this.enabledGroup.setEnabled(e.filter((e=>e.selected)).length>1)}getItems(e){const t=(t,i,r)=>this.createManagedBean(new VA(e.getDefaultSliderParams(`${this.key}.${t}`,i,r)));return this.isGradient?[this.createManagedBean(new Fy.jkc(e.addValueParams("gradientLegend.reverseOrder",{label:this.chartTranslation.translate("reverseDirection"),labelWidth:"flex"}))),t("gradient.thickness","thickness",40),t("gradient.preferredLength","preferredLength",300),t("spacing","spacing",200)]:[t("spacing","spacing",200),t("item.marker.size","markerSize",40),t("item.marker.strokeWidth","markerStroke",10),t("item.marker.padding","itemSpacing",20),t("item.paddingX","layoutHorizontalSpacing",50),t("item.paddingY","layoutVerticalSpacing",50)]}createLabelPanel(e){const t=this.isGradient?"gradientLegend.scale.label":"legend.item.label",i={enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:e,keyMapper:e=>`${t}.${e}`,cssIdentifier:"charts-format-sub-level-no-header"};return this.createManagedBean(new GD(i))}},QD=class extends Fy.wA2{constructor(e){super(),this.params=e,this.toggleableGroup=Fy.CUI,this.activeComps=[],this.chartOptions=e.chartMenuParamsFactory.getChartOptions()}postConstruct(){const{tag:e,cssIdentifier:t="charts-format-sub-level",title:i,suppressEnabledCheckbox:r}=this.params,s=this.params.chartMenuParamsFactory.addEnableParams(`${e}.enabled`,{cssIdentifier:t,direction:"vertical",suppressOpenCloseIcons:!0,title:i,suppressEnabledCheckbox:!0,useToggle:!r});this.setTemplate('<div class="ag-toggleable-group-panel">\n                <ag-group-component data-ref="toggleableGroup">\n                </ag-group-component>\n            </div>',[gE],{toggleableGroup:s}),this.toggleCss("ag-toggleable-group-panel-no-header",!i)}addItem(e,t){t?this.toggleableGroup.prependItem(e):this.toggleableGroup.addItem(e),this.activeComps.push(e)}setEnabled(e){this.toggleableGroup.setEnabled(e)}destroyActiveComps(){this.activeComps.forEach((e=>{(0,Fy.taW)(e.getGui()),this.destroyBean(e)}))}destroy(){this.destroyActiveComps(),super.destroy()}},ZD=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("callout"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="calloutGroup">\n                <ag-slider data-ref="calloutLengthSlider"></ag-slider>\n                <ag-slider data-ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider data-ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,GA],{calloutGroup:e,calloutLengthSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLine.length","length",40),calloutStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLine.strokeWidth","strokeWidth",10),labelOffsetSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLabel.offset","offset",30)})}},JD=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0},t=this.chartMenuUtils.getDefaultSliderParams("cap.lengthRatio","capLengthRatio",1);t.step=.05,this.setTemplate('<div>\n            <ag-group-component data-ref="capsGroup">\n                <ag-slider data-ref="capLengthRatioSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,GA],{capsGroup:e,capLengthRatioSlider:t})}},eI=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="lineGroup">\n                <ag-color-picker data-ref="lineColorPicker"></ag-color-picker>\n                <ag-slider data-ref="lineStrokeWidthSlider"></ag-slider>\n                <ag-slider data-ref="lineOpacitySlider"></ag-slider>\n                <ag-slider data-ref="lineDashSlider"></ag-slider>                \n            </ag-group-component>\n        </div>',[gE,FA,GA],{lineGroup:e,lineColorPicker:this.chartMenuUtils.getDefaultColorPickerParams("line.stroke"),lineStrokeWidthSlider:this.getSliderParams("strokeWidth",10,"line.strokeWidth"),lineDashSlider:this.getSliderParams("lineDash",30,"line.lineDash",1,!0),lineOpacitySlider:this.getSliderParams("strokeOpacity",1,"line.strokeOpacity",.05)})}getSliderParams(e,t,i,r=1,s=!1){const a=this.chartMenuUtils.getDefaultSliderParams(i,e,t,s);return a.step=r,a}};function tI(e){return["square","circle","cross","diamond","plus","triangle","heart"].map((t=>({value:t,text:e.translate(t)})))}var iI=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.chartMenuUtils.addEnableParams("marker.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("markers"),suppressEnabledCheckbox:!0,useToggle:!0,suppressOpenCloseIcons:!0});this.setTemplate('<div>\n            <ag-group-component data-ref="seriesMarkersGroup">\n                <ag-select data-ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider data-ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider data-ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,Fy.Z4q,GA],{seriesMarkersGroup:e,seriesMarkerShapeSelect:this.chartMenuUtils.getDefaultSelectParams("marker.shape","shape",tI(this.chartTranslation)),seriesMarkerSizeSlider:this.chartMenuUtils.getDefaultSliderParams("marker.size","size",60),seriesMarkerStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams("marker.strokeWidth","strokeWidth",10)})}},rI=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e,this.seriesItemsGroup=Fy.CUI,this.activePanels=[]}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="seriesItemsGroup">\n                <ag-select data-ref="seriesItemSelect"></ag-select>\n            </ag-group-component>\n        </div>',[gE,Fy.Z4q],{seriesItemsGroup:e,seriesItemSelect:this.getSeriesItemsParams()}),this.initSeriesControls()}getSeriesItemsParams(){const e=[{value:"positive",text:this.chartTranslation.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslation.translate("seriesItemNegative")}];return this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams("seriesItemType",e,"positive",(e=>{this.destroyActivePanels(),this.initSeriesControls(e)}))}initSeriesControls(e="positive"){this.initSlider("strokeWidth",10,`item.${e}.strokeWidth`),this.initSlider("lineDash",30,`item.${e}.lineDash`,1,!0),this.initSlider("strokeOpacity",1,`item.${e}.strokeOpacity`,.05,!1),this.initSlider("fillOpacity",1,`item.${e}.fillOpacity`,.05,!1),this.initItemLabels(e)}initSlider(e,t,i,r=1,s=!1){const a=this.chartMenuUtils.getDefaultSliderParams(i,e,t,s);a.step=r;const o=this.seriesItemsGroup.createManagedBean(new VA(a));this.seriesItemsGroup.addItem(o),this.activePanels.push(o)}initItemLabels(e){const t=this.chartMenuUtils.getDefaultFontPanelParams(`item.${e}.label`,"seriesItemLabels"),i=this.createBean(new GD(t));this.seriesItemsGroup.addItem(i),this.activePanels.push(i)}destroyActivePanels(){this.activePanels.forEach((e=>{(0,Fy.taW)(e.getGui()),this.destroyBean(e)}))}destroy(){this.destroyActivePanels(),super.destroy()}},sI=class extends Fy.wA2{constructor(e,t="shadow"){super(),this.chartMenuUtils=e,this.propertyKey=t}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e=this.propertyKey,t=this.chartMenuUtils.addEnableParams(`${e}.enabled`,{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("shadow"),suppressEnabledCheckbox:!0,useToggle:!0}),i=this.chartMenuUtils.getDefaultColorPickerParams(`${e}.color`);this.setTemplate('<div>\n            <ag-group-component data-ref="shadowGroup">\n                <ag-color-picker data-ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider data-ref="shadowBlurSlider"></ag-slider>\n                <ag-slider data-ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider data-ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,FA,GA],{shadowGroup:t,shadowColorPicker:i,shadowBlurSlider:this.getSliderParams("blur",0,20),shadowXOffsetSlider:this.getSliderParams("xOffset",-10,10),shadowYOffsetSlider:this.getSliderParams("yOffset",-10,10)})}getSliderParams(e,t,i){const r=`${this.propertyKey}.${e}`,s=this.chartMenuUtils.getDefaultSliderParams(r,e,i);return s.minValue=t,s}},aI=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="groupSpacing">\n                <ag-slider data-ref="groupPaddingSlider"></ag-slider>\n                <ag-slider data-ref="groupSpacingSlider"></ag-slider>\n            </ag-group-component>\n            <ag-group-component data-ref="tileSpacing">\n                <ag-slider data-ref="tilePaddingSlider"></ag-slider>\n                <ag-slider data-ref="tileSpacingSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,GA],{groupSpacing:{...e,title:this.chartTranslation.translate("group")},tileSpacing:{...e,title:this.chartTranslation.translate("tile")},groupPaddingSlider:this.getSliderParams("padding","group.padding"),groupSpacingSlider:this.getSliderParams("spacing","group.gap"),tilePaddingSlider:this.getSliderParams("padding","tile.padding"),tileSpacingSlider:this.getSliderParams("spacing","tile.gap")})}getSliderParams(e,t){return this.chartMenuUtils.getDefaultSliderParams(t,e,10)}},oI=class extends Fy.wA2{constructor(e){super(),this.chartMenuUtils=e}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="whiskersGroup">\n                <ag-color-picker data-ref="whiskerColorPicker"></ag-color-picker>\n                <ag-slider data-ref="whiskerThicknessSlider"></ag-slider>\n                <ag-slider data-ref="whiskerOpacitySlider"></ag-slider>\n                <ag-slider data-ref="whiskerLineDashSlider"></ag-slider>\n                <ag-slider data-ref="whiskerLineDashOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',[gE,FA,GA],{whiskersGroup:e,whiskerColorPicker:this.chartMenuUtils.getDefaultColorPickerParams("whisker.stroke"),whiskerThicknessSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.strokeWidth","strokeWidth",10),whiskerOpacitySlider:this.chartMenuUtils.getDefaultSliderParams("whisker.strokeOpacity","strokeOpacity",1),whiskerLineDashSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.lineDash","lineDash",30,!0),whiskerLineDashOffsetSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.lineDashOffset","lineDashOffset",30)})}},nI="tooltips",lI="strokeWidth",cI="lineWidth",dI="lineDash",uI="lineOpacity",pI="fillOpacity",hI="labels",mI="shadow",gI="stageLabels",bI="markers",fI=class extends Fy.wA2{constructor(e){super(),this.options=e,this.seriesGroup=Fy.CUI,this.activePanels=[],this.widgetFuncs={lineWidth:()=>this.initStrokeWidth(cI),[lI]:()=>this.initStrokeWidth("strokeWidth"),lineColor:()=>this.initLineColor(),[dI]:()=>this.initLineDash(),[uI]:()=>this.initOpacity("strokeOpacity"),[pI]:()=>this.initOpacity("fillOpacity"),markers:()=>new iI(this.chartMenuUtils),[hI]:()=>this.initLabels(),sectorLabels:()=>this.initSectorLabels(),[mI]:()=>new sI(this.chartMenuUtils),[nI]:()=>this.initTooltips(),bins:()=>this.initBins(),whiskers:()=>new oI(this.chartMenuUtils),caps:()=>new JD(this.chartMenuUtils),connectorLine:()=>new eI(this.chartMenuUtils),seriesItems:()=>new rI(this.chartMenuUtils),tileSpacing:()=>new aI(this.chartMenuUtils),shape:()=>this.initShape(),size:()=>this.initSize("size","size"),minSize:()=>this.initSize("size","minSize"),maxSize:()=>this.initSize("maxSize","maxSize"),dropoff:()=>this.initDropOff(),stageLabels:()=>this.initStageLabels()},this.seriesWidgetMappings={bar:[nI,lI,dI,uI,pI,hI,mI],pie:[nI,lI,uI,pI,hI,"sectorLabels",mI],donut:[nI,lI,uI,pI,hI,"sectorLabels",mI],line:[nI,cI,dI,uI,bI,hI],scatter:[nI,"shape","size",lI,hI],bubble:[nI,"shape","minSize","maxSize",lI,hI],area:[nI,cI,dI,uI,pI,bI,hI,mI],histogram:[nI,"bins",lI,dI,uI,pI,hI,mI],"radial-column":[nI,lI,dI,uI,pI,hI],"radial-bar":[nI,lI,dI,uI,pI,hI],"radar-line":[nI,lI,dI,uI,bI,hI],"radar-area":[nI,lI,dI,uI,pI,bI,hI],nightingale:[nI,lI,dI,uI,pI,hI],"box-plot":[nI,lI,dI,uI,pI,"whiskers","caps"],"range-bar":[nI,lI,dI,uI,pI,hI],"range-area":[nI,cI,dI,uI,pI,bI,hI,mI],treemap:[nI,"tileSpacing"],sunburst:[nI],heatmap:[nI,hI,"lineColor",cI,uI],waterfall:[nI,"connectorLine","seriesItems"],funnel:[nI,lI,dI,uI,pI,hI,"dropoff",gI,mI],"cone-funnel":[nI,lI,dI,uI,pI,hI,gI],pyramid:[nI,lI,dI,uI,pI,hI,gI,mI]},this.seriesType=e.seriesType}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{isExpandedOnInit:e,chartOptionsService:t,chartController:i,registerGroupComponent:r}=this.options,s={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate("series"),expanded:e,suppressEnabledCheckbox:!0};this.setTemplate('<div>\n            <ag-group-component data-ref="seriesGroup">\n            </ag-group-component>\n        </div>',[gE],{seriesGroup:s}),r(this.seriesGroup),this.chartMenuUtils=this.createManagedBean(new RD(t.getSeriesOptionsProxy((()=>this.seriesType)))),this.addManagedListeners(i,{chartSeriesChartTypeChanged:this.refreshWidgets.bind(this)}),this.refreshWidgets()}refreshWidgets(){const{chartController:e}=this.options;this.destroyActivePanels(),e.getChartProxy().getChart().waitForUpdate().then((()=>{!this.isAlive()||(e.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),(this.seriesWidgetMappings[this.seriesType]??[]).forEach((e=>{const t=this.widgetFuncs[e]();let i;if(Array.isArray(t)){const e=this.createBean(t[0]);i=e,t[1](e)}else i=this.createBean(t);this.seriesGroup.addItem(i),this.activePanels.push(i)})))})).catch((e=>(0,Fy.U0c)(105,{e:e})))}initSeriesSelect(){const e=this.createBean(new Fy.wGv(this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams("seriesType",this.getSeriesSelectOptions(),`${this.seriesType}`,(e=>{this.seriesType=e,this.refreshWidgets()}))));this.seriesGroup.addItem(e),this.activePanels.push(e)}initTooltips(){return new Fy.nN0(this.chartMenuUtils.addValueParams("tooltip.enabled",{label:this.translate("tooltips"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex"}))}initLineColor(){return new LA(this.chartMenuUtils.getDefaultColorPickerParams("stroke","strokeColor"))}initStrokeWidth(e,t){return new VA(this.chartMenuUtils.getDefaultSliderParams(t?`${t}.${e}`:"strokeWidth",e,10))}initLineDash(e){return new VA(this.chartMenuUtils.getDefaultSliderParams(e?`${e}.lineDash`:"lineDash","lineDash",30,!0))}initOpacity(e,t){const i=this.chartMenuUtils.getDefaultSliderParams(t?`${t}.${e}`:e,e,1);return i.step=.05,new VA(i)}initDropOff(){return[new QD({tag:"dropOff",cssIdentifier:"charts-format-sub-level",title:this.translate("dropOff"),suppressEnabledCheckbox:!1,chartMenuParamsFactory:this.chartMenuUtils}),e=>{[this.initStrokeWidth("strokeWidth","dropOff"),this.initLineDash("dropOff"),this.initOpacity("strokeOpacity","dropOff"),this.initOpacity("fillOpacity","dropOff")].forEach((t=>{const i=e.createManagedBean(t);e.addItem(i),this.activePanels.push(i)}))}]}initLabels(){const e=XP(this.seriesType),t=e?"calloutLabel":"label",i=e?"calloutLabels":"labels",r=this.chartMenuUtils.getDefaultFontPanelParams(t,i);return[new GD(r),t=>{if(e){const e=t.createManagedBean(new ZD(this.chartMenuUtils));t.addItem(e),this.activePanels.push(e)}if("range-bar"===this.seriesType){const e=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],i=t.createManagedBean(new Fy.wGv(this.chartMenuUtils.getDefaultSelectParams("label.placement","labelPlacement",e)));t.addItem(i),this.activePanels.push(i);const r=t.createManagedBean(new VA(this.chartMenuUtils.getDefaultSliderParams("label.padding","padding",200)));t.addItem(r),this.activePanels.push(r)}}]}initSectorLabels(){const e=this.chartMenuUtils.getDefaultFontPanelParams("sectorLabel","sectorLabels");return[new GD(e),e=>{const t=this.chartMenuUtils.getDefaultSliderParams("sectorLabel.positionRatio","positionRatio",1);t.step=.05;const i=e.createManagedBean(new VA(t));e.addItem(i)}]}initStageLabels(){return new GD(this.chartMenuUtils.getDefaultFontPanelParams("stageLabel",gI))}initBins(){const e=this.chartMenuUtils.getDefaultSliderParams("binCount","histogramBinCount",20),t=this.chartMenuUtils.getChartOptions(),i=(t.getValue("bins")??t.getValue("calculatedBins",!0)).length;return e.value=`${i}`,e.maxValue=Math.max(i,20),new VA(e)}initShape(){return new Fy.wGv(this.chartMenuUtils.getDefaultSelectParams("shape","shape",tI(this.chartTranslation)))}initSize(e,t){return new VA(this.chartMenuUtils.getDefaultSliderParams(e,t,60))}getSeriesSelectOptions(){const e=this.getActiveSeriesTypes();return["area","bar","line"].filter((t=>e.includes(t))).map((e=>({value:e,text:this.translate(e)})))}updateSeriesType(){const e=this.getActiveSeriesTypes();!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])}getActiveSeriesTypes(){return this.options.chartController.getActiveSeriesChartTypes().map((e=>YP(e.chartType)))}translate(e){return this.chartTranslation.translate(e)}destroyActivePanels(){this.activePanels.forEach((e=>{(0,Fy.taW)(e.getGui()),this.destroyBean(e)}))}destroy(){this.destroyActivePanels(),super.destroy()}},vI=class extends Fy.wA2{constructor(e,t,i){super("<div></div>"),this.chartMenuUtils=e,this.name=t,this.key=i,this.chartOptions=e.getChartOptions()}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.initFontPanel()}hasTitle(){const e=this.chartOptions.getValue(this.key);return e&&e.enabled&&e.text&&e.text.length>0}initFontPanel(){const e=this.hasTitle(),t={name:this.chartTranslation.translate(this.name),enabled:e,suppressEnabledCheckbox:!1,chartMenuParamsFactory:this.chartMenuUtils,keyMapper:e=>`${this.key}.${e}`,onEnableChange:e=>this.onEnableChange(e)};this.fontPanel=this.createManagedBean(new GD(t)),this.fontPanel.addItem(this.createBean(new Fy.INo(this.getTextInputParams())),!0),this.fontPanel.addItem(this.createBean(new VA(this.getSpacingSliderParams()))),this.getGui().appendChild(this.fontPanel.getGui())}getTextInputParams(){return this.chartMenuUtils.addValueParams(`${this.key}.text`,{label:this.chartTranslation.translate("title"),labelAlignment:"top"})}getSpacingSliderParams(){return this.chartMenuUtils.getDefaultSliderParams(`${this.key}.spacing`,"spacing",100)}onEnableChange(e){this.chartOptions.setValue(`${this.key}.enabled`,e)}},yI=class extends vI{wireBeans(e){super.wireBeans(e),this.chartMenuSvc=e.chartMenuSvc}postConstruct(){this.titlePlaceholder=this.chartTranslation.translate("titlePlaceholder"),super.postConstruct(),this.addManagedEventListeners({chartTitleEdit:()=>{this.fontPanel.setEnabled(this.hasTitle())}})}getTextInputParams(){const e=super.getTextInputParams();return this.shouldOverrideTextWithPlaceholder(e.value)&&(e.value=this.titlePlaceholder),e}getSpacingSliderParams(){const e=super.getSpacingSliderParams();return e.value="10",e}onEnableChange(e){if(this.chartMenuSvc.doesChartToolbarExist()){const t=this.chartOptions.getValue("padding.top");this.chartOptions.setValue("padding.top",e?t-20:t+20)}this.chartOptions.setValue(`${this.key}.enabled`,e);const t=this.chartOptions.getValue(`${this.key}.text`);e&&this.shouldOverrideTextWithPlaceholder(t)&&this.chartOptions.setValue(`${this.key}.text`,this.titlePlaceholder)}shouldOverrideTextWithPlaceholder(e){return"Title"===e||0===e?.trim().length}},CI=class extends Fy.wA2{constructor(e){super(),this.options=e,this.titleGroup=Fy.CUI}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){const{chartMenuParamsFactory:e,chartAxisMenuParamsFactory:t,chartOptionsService:i,seriesType:r,isExpandedOnInit:s=!1,registerGroupComponent:a}=this.options,o=[];if(HP(r)&&"pyramid"!==r){const e=e=>this.createManagedBean(new RD(i.getCartesianAxisThemeOverridesProxy(e)));o.push(this.createManagedBean(new vI(e("xAxis"),"horizontalAxisTitle","title"))),o.push(this.createManagedBean(new vI(e("yAxis"),"verticalAxisTitle","title")))}else jP(r)&&o.push(this.createManagedBean(new vI(t,"polarAxisTitle","title")));const n={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("chartTitles"),expanded:s,suppressEnabledCheckbox:!0,items:[this.createManagedBean(new yI(e,"chartTitle","title")),this.createManagedBean(new vI(e,"chartSubtitle","subtitle")),...o]};this.setTemplate('<div>\n            <ag-group-component data-ref="titleGroup"></ag-group-component>\n        </div>',[gE],{titleGroup:n}),a(this.titleGroup)}},kI={groups:[{type:"chart"},{type:"titles"},{type:"legend"},{type:"series"},{type:"axis"}]},wI=["axis","horizontalAxis","verticalAxis"],SI=class extends Fy.wA2{constructor(e){super('<div class="ag-chart-format-wrapper"></div>'),this.chartMenuContext=e}postConstruct(){this.groupExpansionFeature=this.createManagedBean(new YD(this.getGui())),this.chartPanelFeature=this.createManagedBean(new TA(this.chartMenuContext.chartController,this.getGui(),"ag-chart-format-section",((e,t)=>this.createPanels(t)))),this.chartPanelFeature.refreshPanels()}createPanels(e){let t=!1;this.getFormatPanelDef().groups?.forEach((({type:i,isOpen:r=!1})=>{if(!this.isGroupPanelShownInSeries(i,e))return;r&&(t&&(0,Fy.F5b)(145,{group:i}),t=!0);const s={...this.chartMenuContext,isExpandedOnInit:r,seriesType:e,registerGroupComponent:e=>this.groupExpansionFeature.addGroupComponent(e)};switch(i){case"chart":this.chartPanelFeature.addComponent(new qD(s));break;case"titles":this.chartPanelFeature.addComponent(new CI(s));break;case"legend":this.chartPanelFeature.addComponent(new XD(s,this.chartMenuContext));break;case"axis":jP(e)?this.chartPanelFeature.addComponent(new jD(s)):HP(e)&&(this.chartPanelFeature.addComponent(new WD("xAxis",s)),this.chartPanelFeature.addComponent(new WD("yAxis",s)));break;case"horizontalAxis":this.chartPanelFeature.addComponent(new WD("xAxis",s));break;case"verticalAxis":this.chartPanelFeature.addComponent(new WD("yAxis",s));break;case"series":this.chartPanelFeature.addComponent(new fI(s));break;default:(0,Fy.F5b)(147,{group:i})}}))}getFormatPanelDef(){const e=this.gos.get("chartToolPanelsDef")?.formatPanel;return e||kI}isGroupPanelShownInSeries(e,t){const i=["chart","titles","legend","series"].includes(e)||HP(t)&&wI.includes(e)||jP(t)&&"axis"===e,r=WP(t)&&"legend"===e||WP(t)&&wI.includes(e);return i&&!r}},xI=class extends Fy.wA2{constructor(e,t,i){super(),this.agChartsExports=t,this.tooltipName=i,this.size=58,this.padding=5;const{_Scene:r}=t;this.root=new r.Group;const s=new r.Scene({width:this.size,height:this.size});s.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),s.setRoot(this.root),s.setContainer(e),this.scene=s}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.scene.canvas.element.title=this.chartTranslation.translate(this.tooltipName);try{this.scene.render()}catch(e){(0,Fy.U0c)(108,{e:e})}}};function _I(e){const{stacked:t,size:i,padding:r,xScalePadding:s,xScaleDomain:a,yScaleDomain:o,agChartsExports:{_Scene:n}}=e,l=new n.CategoryScale;l.domain=a,l.range=[r,i-r],l.paddingInner=s,l.paddingOuter=s;const c=new n.LinearScale;c.domain=o,c.range=[i-r,r];const d=(e,t,i)=>e.map(((e,r)=>{const s=i.convert(e),a=new n.Rect;return a.x=t.convert(r),a.y=s,a.width=t.bandwidth,a.height=i.convert(0)-s,a.strokeWidth=0,a.crisp=!0,a}));return t?e.data.map((e=>d(e,l,c))):d(e.data,l,c)}function EI(e,t,i,r){const s=[0,t[0].length-1],a=t.reduce(((e,t)=>(t.forEach((t=>{t<e[0]&&(e[0]=t),t>e[1]&&(e[1]=t)})),e)),[1/0,-1/0]);a[0]--,a[a.length-1]++;const o=new e.LinearScale;o.domain=s,o.range=[r,i-r];const n=new e.LinearScale;return n.domain=a,n.range=[i-r,r],{xScale:o,yScale:n}}function MI(e,t,i){return e.map((e=>e.map(((e,r)=>[r>0?"lineTo":"moveTo",t.convert(r),i.convert(e)]))))}function TI(e,t){const i=new e.Path;return t.forEach((([e,t,r])=>i.path[e](t,r))),i}function PI(e,t){return e.map((([e,i])=>[e,i,t.convert(0)]))}function AI(e,t){const i=TI(e,t);return i.fill=void 0,i.lineCap="round",i.strokeWidth=3,i}function DI({_Scene:e},t,i,r,s){const{xScale:a,yScale:o}=EI(e,i,r,s),n=MI(i,a,o).map((t=>AI(e,t))),l=new e.Group;return l.setClipRect(new e.BBox(s,s,r-2*s,r-2*s)),l.append(n),t.append(l),n}function II(e){return e.map(((e,t,i)=>e.map(((e,r)=>i.slice(0,t+1).reduce(((e,t)=>e+t[r]),0)))))}function NI(e){const t=e.map(((t,i)=>e.reduce(((e,t)=>Math.max(e,t[i])),0)));return e.map((e=>e.map(((e,i)=>e/t[i]*19))))}function RI(e,t,i,r,s,a,o=0){const{_Scene:n}=e,l=new n.LinearScale;l.domain=[0,7],l.range=[-Math.PI,Math.PI].map((e=>e+Math.PI/2));const c=new n.LinearScale;c.domain=[0,10],c.range=[s,a];const d=[],u=r/2,p=i.map((e=>{const t=new n.Path;return t.strokeWidth=1,t.strokeOpacity=.5,t.lineCap="round",t.fill=void 0,t.fillOpacity=.8,e.forEach(((e,i)=>{const r=l.convert(i),p=s+a-c.convert(e),h=p*Math.cos(r)+u,m=p*Math.sin(r)+u;if(t.path[i>0?"lineTo":"moveTo"](h,m),o>0){const e=new n.Marker({shape:"circle"});e.x=h,e.y=m,e.size=o,d.push(e)}})),t.path.closePath(),t})),h=new n.Group;return h.append([...p,...d]),t.append(h),{paths:p,markers:d}}function LI(e){let[t,i]=[1/0,-1/0];return{processedData:e.reduce(((e,r,s)=>{const a=s>0?e[s-1]:void 0;e[s]??(e[s]=[]);const o=e[s];return r.forEach(((e,r)=>{a&&(e+=a[r]),o[r]=e,o[r]<t&&(t=o[r]),o[r]>i&&(i=o[r])})),e}),[]),min:t,max:i}}var FI=[[[13,16],[13,12],[3,12],[3,16]],[[12,11],[12,7],[4,7],[4,11]],[[10.125,6],[10.125,1.5],[5.875,1.5],[5.875,6]]],OI=class extends xI{constructor(e,t,i,r,s,a="funnelTooltip",o=FI){super(e,t,a),this.shapes=function({_Scene:e},t,i,r,s){const{xScale:a,yScale:o}=function(e,t,i,r){const s=[],a=[];t.forEach((e=>{e.forEach((([e,t])=>{s.push(e),a.push(t)}))}));const o=new e.LinearScale;o.domain=[Math.min(...s),Math.max(...s)],o.range=[r,i-r];const n=new e.LinearScale;return n.domain=[Math.min(...a),Math.max(...a)],n.range=[i-r,r],{xScale:o,yScale:n}}(e,i,r,s),n=i.map((e=>function(e,t,i){return e.map((([e,r],s)=>[s>0?"lineTo":"moveTo",t.convert(e),i.convert(r)]))}(e,a,o))).map((e=>function(e){const t=e[0],i=e[1],r=(0,Fy._O9)(e);return i[1]===r[1]&&i[2]===r[2]||e.push([t[0],i[1],i[2]]),e}(e))),l=n.map((t=>AI(e,t))).reduce(((e,t)=>e.concat(t)),[]),c=new e.Group;return c.setClipRect(new e.BBox(s,s,r-2*s,r-2*s)),c.append(l),t.append(c),l}(t,this.root,o,this.size,this.padding),this.updateColors(i,r)}updateColors(e,t){this.shapes.forEach((i=>{i.fill=e[0],i.stroke=t[0],i.strokeWidth=0}))}},BI={chartType:"funnel",miniChart:OI},zI=[[[13,16],[10.75,11.5],[5.25,11.5],[3,16]],[[10.75,11.5],[8.875,6],[7.125,6],[5.25,11.5]],[[8.875,6],[8.875,1.5],[7.125,1.5],[7.125,6]]],VI={chartType:"coneFunnel",miniChart:class extends OI{constructor(e,t,i,r,s,a="coneFunnelTooltip"){super(e,t,i,r,s,a,zI)}updateColors(e,t){this.shapes.forEach(((i,r)=>{i.fill=e[0],i.fillOpacity=1-.2*r,i.stroke=t[0],i.strokeWidth=0}))}}},GI=[[[8,16],[10,12],[6,12]],[[10.5,11],[12.5,7],[3.5,7],[5.5,11]],[[13,6],[15.5,1.5],[.5,1.5],[3,6]]],UI={chartType:"pyramid",miniChart:class extends OI{constructor(e,t,i,r,s,a="pyramidTooltip"){super(e,t,i,r,s,a,GI)}updateColors(e,t){this.shapes.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r],i.strokeWidth=0}))}}},HI=class extends xI{constructor(e,t,i){super(e,t,i),this.stroke="gray",this.axisOvershoot=3}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,i=this.padding,r=new e.Line;r.x1=i,r.y1=i,r.x2=i,r.y2=t-i+this.axisOvershoot,r.stroke=this.stroke;const s=new e.Line;s.x1=i-this.axisOvershoot+1,s.y1=t-i,s.x2=t-i+1,s.y2=t-i,s.stroke=this.stroke;const a=this.root;a.append(r),a.append(s),super.postConstruct()}},WI={chartType:"groupedColumn",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"groupedColumnTooltip"),this.columnData=[2,3,4];const{root:s,columnData:a,size:o,padding:n}=this;this.columns=_I({stacked:!1,root:s,data:a,size:o,padding:n,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3,agChartsExports:t}),s.append(this.columns),this.updateColors(i,r)}updateColors(e,t){this.columns.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]}))}}},jI=[[8,12,16],[6,9,12],[2,3,4]],KI=class extends HI{constructor(e,t,i,r,s,a=jI,o=[0,16],n="stackedColumnTooltip"){super(e,t,n);const{root:l,size:c,padding:d}=this;this.stackedColumns=_I({stacked:!0,root:l,data:a,size:c,padding:d,xScaleDomain:[0,1,2],yScaleDomain:o,xScalePadding:.3,agChartsExports:t}),l.append((0,Fy.uek)(this.stackedColumns)),this.updateColors(i,r)}updateColors(e,t){this.stackedColumns.forEach(((i,r)=>i.forEach((i=>{i.fill=e[r],i.stroke=t[r]}))))}},$I={chartType:"stackedColumn",miniChart:KI},qI=[[10,10,10],[6,7,8],[2,4,6]],YI={chartType:"normalizedColumn",miniChart:class extends KI{constructor(e,t,i,r,s){super(e,t,i,r,s,qI,[0,10],"normalizedColumnTooltip")}}},XI={chartType:"groupedBar",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"groupedBarTooltip");const{_Scene:s}=t,a=this.padding,o=this.size,n=new s.CategoryScale;n.domain=[0,1,2],n.range=[a,o-a],n.paddingInner=.3,n.paddingOuter=.3;const l=new s.LinearScale;l.domain=[0,4],l.range=[o-a,a];const c=l.convert(0),d=n.bandwidth;this.bars=[2,3,4].map(((e,t)=>{const i=new s.Rect;return i.x=a,i.y=n.convert(t),i.width=c-l.convert(e),i.height=d,i.strokeWidth=0,i.crisp=!0,i})),this.updateColors(i,r),this.root.append(this.bars)}updateColors(e,t){this.bars.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]}))}}},QI=[[8,12,16],[6,9,12],[2,3,4]],ZI=class extends HI{constructor(e,t,i,r,s,a=QI,o=[0,16],n="stackedBarTooltip"){super(e,t,n);const{_Scene:l}=t,c=this.size,d=this.padding,u=new l.CategoryScale;u.domain=[0,1,2],u.range=[d,c-d],u.paddingInner=.3,u.paddingOuter=.3;const p=new l.LinearScale;p.domain=o,p.range=[c-d,d];const h=p.convert(0),m=u.bandwidth;this.bars=a.map((e=>e.map(((e,t)=>{const i=new l.Rect;return i.x=d,i.y=u.convert(t),i.width=h-p.convert(e),i.height=m,i.strokeWidth=0,i.crisp=!0,i})))),this.updateColors(i,r),this.root.append((0,Fy.uek)(this.bars))}updateColors(e,t){this.bars.forEach(((i,r)=>i.forEach((i=>{i.fill=e[r],i.stroke=t[r]}))))}},JI={chartType:"stackedBar",miniChart:ZI},eN=[[10,10,10],[6,7,8],[2,4,6]],tN={chartType:"normalizedBar",miniChart:class extends ZI{constructor(e,t,i,r,s){super(e,t,i,r,s,eN,[0,10],"normalizedBarTooltip")}}},iN=class extends xI{constructor(e,t,i,r,s,a=.6,o="donutTooltip"){super(e,t,o);const{size:n,padding:l,agChartsExports:{_Scene:c}}=this,d=(n-2*l)/2,u=d+l,p=c.toRadians,h=[[p(-90),p(30)],[p(30),p(120)],[p(120),p(180)],[p(180),p(210)],[p(210),p(240)],[p(240),p(270)]];this.sectors=h.map((([e,t])=>{const i=new c.Sector;return i.centerX=u,i.centerY=u,i.innerRadius=d*a,i.outerRadius=d,i.startAngle=e,i.endAngle=t,i.stroke=void 0,i.strokeWidth=0,i.inset=.75,i})),this.updateColors(i,r),this.root.append(this.sectors)}updateColors(e,t){this.sectors.forEach(((i,r)=>{i.fill=e[r%e.length],i.stroke=t[r%t.length]}))}},rN={chartType:"donut",miniChart:iN},sN={chartType:"pie",miniChart:class extends iN{constructor(e,t,i,r,s){super(e,t,i,r,s,0,"pieTooltip")}}},aN=[[1,3,5],[2,6,4],[5,3,1]],oN=class extends HI{constructor(e,t,i,r,s,a=aN,o="lineTooltip"){super(e,t,o);const{size:n,padding:l,root:c}=this;this.lines=DI(t,c,a,n,l),this.updateColors(i,r)}updateColors(e,t){this.lines.forEach(((t,i)=>{t.stroke=e[i]}))}},nN={chartType:"line",miniChart:oN},lN=II(aN),cN={chartType:"stackedLine",miniChart:class extends oN{constructor(e,t,i,r,s,a=lN,o="stackedLineTooltip"){super(e,t,i,r,s,a,o)}}},dN=NI(lN),uN={chartType:"normalizedLine",miniChart:class extends oN{constructor(e,t,i,r,s,a=dN,o="normalizedLineTooltip"){super(e,t,i,r,s,a,o)}}},pN={chartType:"scatter",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"scatterTooltip");const{size:s,padding:a,agChartsExports:{_Scene:o}}=this,n=new o.LinearScale;n.domain=[-.5,4],n.range=[2*a,s-a];const l=new o.LinearScale;l.domain=[-.5,3.5],l.range=[s-a,a];const c=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach((e=>{e.forEach((([e,t])=>{const i=new o.Arc;i.strokeWidth=0,i.centerX=n.convert(e),i.centerY=l.convert(t),i.radius=2.5,c.push(i)}))})),this.points=c,this.updateColors(i,r);const d=new o.Group;d.setClipRect(new o.BBox(a,a,s-2*a,s-2*a)),d.append(this.points),this.root.append(d)}updateColors(e,t){this.points.forEach(((i,r)=>{i.stroke=t[r%t.length],i.fill=e[r%e.length]}))}}},hN={chartType:"bubble",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"bubbleTooltip");const{size:s,padding:a,agChartsExports:{_Scene:o}}=this,n=new o.LinearScale;n.domain=[0,1],n.range=[2*a,s-a];const l=new o.LinearScale;l.domain=[0,1],l.range=[s-a,a];const c=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach((e=>{e.forEach((([e,t,i])=>{const r=new o.Arc;r.strokeWidth=0,r.centerX=n.convert(e),r.centerY=l.convert(t),r.radius=i,r.fillOpacity=.7,c.push(r)}))})),this.points=c,this.updateColors(i,r);const d=new o.Group;d.setClipRect(new o.BBox(a,a,s-2*a,s-2*a)),d.append(this.points),this.root.append(d)}updateColors(e,t){this.points.forEach(((i,r)=>{i.stroke=t[r%t.length],i.fill=e[r%e.length]}))}}},mN=aN,gN=class extends HI{constructor(e,t,i,r,s,a=mN,o="groupedAreaTooltip",n=!1){super(e,t,o),this.areas=function(e,t,i,r,s,a=!1){const{xScale:o,yScale:n}=EI(e,i,r,s),l=function(e,t,i){return e.map(((e,r,s)=>{const a=i?function(e,t,i){return 0===t?PI(e[t],i):[...e[t-1]]}(s,r,t):PI(e,t),o=[...a].reverse().map((([e,t,i])=>["lineTo",t,i])),n=e[0],l=(0,Fy._O9)(o);return n[1]===l[1]&&n[2]===l[2]||o.push(["lineTo",n[1],n[2]]),[...e,...o]}))}(MI(i,o,n),n,a),c=new e.Group;c.setClipRect(new e.BBox(s,s,r-2*s,r-2*s));const d=l.map((t=>TI(e,t)));return c.append(d),t.append(c),d}(t._Scene,this.root,a,this.size,this.padding,n),this.updateColors(i,r)}updateColors(e,t){this.areas.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r],i.strokeWidth=1,i.strokeOpacity=.75,i.fillOpacity=.7}))}},bN={chartType:"area",miniChart:gN},fN=II(mN),vN=class extends gN{constructor(e,t,i,r,s,a=fN,o="stackedAreaTooltip"){super(e,t,i,r,s,a,o,!0)}updateColors(e,t){this.areas.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]}))}},yN={chartType:"stackedArea",miniChart:vN},CN=NI(fN),kN={chartType:"normalizedArea",miniChart:class extends vN{constructor(e,t,i,r,s,a=CN,o="normalizedAreaTooltip"){super(e,t,i,r,s,a,o)}}},wN={chartType:"histogram",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"histogramTooltip");const{padding:s,size:a,agChartsExports:{_Scene:o}}=this,n=[2,5,11,13,10,6,1],l=new o.LinearScale;l.domain=[0,n.length],l.range=[s,a-s];const c=new o.LinearScale;c.domain=[0,n.reduce(((e,t)=>Math.max(e,t)),0)],c.range=[a-s,s];const d=c.convert(0);this.bars=n.map(((e,t)=>{const i=c.convert(e),r=l.convert(t),s=l.convert(t+1),a=new o.Rect;return a.x=r,a.y=i,a.width=s-r,a.height=d-i,a.strokeWidth=1,a.strokeOpacity=.75,a.crisp=!0,a})),this.updateColors(i,r),this.root.append(this.bars)}updateColors([e],[t]){this.bars.forEach((i=>{i.fill=e,i.stroke=t}))}}},SN=class extends xI{constructor(e,t,i){super(e,t,i),this.stroke="gray",this.showRadiusAxisLine=!0,this.showAngleAxisLines=!0}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,i=this.padding,r=(t-2*i)/2,s=this.showAngleAxisLines?[r,.8*r,.6*r,.4*r]:[],a=new e.Line;a.x1=t/2,a.y1=i,a.x2=t/2,a.y2=t-i-r-s[s.length-1],a.stroke=this.stroke,a.strokeOpacity=.5,a.fill=void 0,a.visible=this.showRadiusAxisLine;const o=i+r;this.gridLines=s.map(((t,i)=>{const r=new e.Path;return r.path.arc(o,o,t,0,2*Math.PI),r.strokeWidth=1,r.stroke=this.stroke,r.strokeOpacity=0===i?.5:.2,r.fill=void 0,r}));const n=this.root;n.append(a),this.gridLines.length>0&&n.append(this.gridLines),super.postConstruct()}},xN={chartType:"radialColumn",miniChart:class extends SN{constructor(e,t,i,r){super(e,t,"radialColumnTooltip"),this.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],this.showRadiusAxisLine=!1;const{padding:s,size:a,data:o,agChartsExports:{_Scene:n}}=this,l=(a-2*s)/2,c=.4*l,d=new n.CategoryScale;d.domain=o[0].map(((e,t)=>t)),d.range=[0,2*Math.PI],d.paddingInner=0,d.paddingOuter=0;const u=.7*d.bandwidth,{processedData:p,max:h}=LI(o),m=new n.LinearScale;m.domain=[0,h],m.range=[c,l];const g=this.size/2;this.series=p.map(((e,t)=>{const i=0===t?void 0:p[t-1],r=new n.TranslatableGroup({zIndex:1e6}),s=e.map(((e,t)=>{const r=i?.[t],s=m.convert(e),a=m.convert(r??0),o=d.convert(t),p=o+u,h=n.getRadialColumnWidth(o,p,l,.5,.5),g=new n.RadialColumnShape;return g.columnWidth=h,g.innerRadius=a,g.outerRadius=s,g.startAngle=o,g.endAngle=p,g.isBeveled=!0,g.axisInnerRadius=c,g.axisOuterRadius=l,g.stroke=void 0,g.strokeWidth=0,g}));return r.append(s),r.translationX=g,r.translationY=g,r})),this.root.append(this.series),this.updateColors(i,r)}updateColors(e,t){this.series.forEach(((i,r)=>{for(const s of i.children())s.fill=e[r%e.length],s.stroke=t[r%t.length]}))}}},_N={chartType:"radialBar",miniChart:class extends SN{constructor(e,t,i,r){super(e,t,"radialBarTooltip"),this.data=[[6,8,10],[4,4,3],[5,4,2]],this.showRadiusAxisLine=!1;const{size:s,padding:a,data:o,agChartsExports:{_Scene:n}}=this,l=(s-a)/2,c=.4*l,d=new n.CategoryScale;d.domain=o[0].map(((e,t)=>t)),d.range=[c,l],d.paddingInner=.5,d.paddingOuter=0;const u=d.bandwidth,{processedData:p,max:h}=LI(o),m=new n.LinearScale;m.domain=[0,Math.ceil(1.5*h)];const g=1.5*Math.PI,b=g+2*Math.PI;m.range=[g,b];const f=s/2;this.series=p.map(((e,t)=>{const i=t<0?void 0:p[t-1],r=new n.Group({zIndex:1e6}),s=e.map(((e,t)=>{const r=i?.[t]??0,s=d.convert(t),a=s-u,o=m.convert(r),l=m.convert(e),c=new n.Sector;return c.centerX=f,c.centerY=f,c.innerRadius=a,c.outerRadius=s,c.startAngle=o,c.endAngle=l,c.stroke=void 0,c.strokeWidth=0,c}));return r.append(s),r})),this.root.append(this.series),this.updateColors(i,r)}updateColors(e,t){this.series.forEach(((i,r)=>{for(const s of i.children())s.fill=e[r%e.length],s.stroke=t[r%t.length]}))}}},EN={chartType:"radarLine",miniChart:class extends SN{constructor(e,t,i,r){super(e,t,"radarLineTooltip"),this.markerSize=4,this.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],this.showRadiusAxisLine=!1;const{size:s,padding:a,root:o,data:n}=this,l=(s-2*a)/2,{paths:c,markers:d}=RI(t,o,n,s,l,0,this.markerSize);this.lines=c,this.markers=d,this.updateColors(i,r)}updateColors(e,t){this.lines.forEach(((i,r)=>{const s=this.data[r].length;i.stroke=e[r];const a=r*s,o=a+s;this.markers.slice(a,o).forEach((i=>{i.stroke=t[r],i.fill=e[r]}))}))}}},MN={chartType:"radarArea",miniChart:class extends SN{constructor(e,t,i,r){super(e,t,"radarAreaTooltip"),this.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]];const{size:s,padding:a,root:o,data:n}=this;this.showRadiusAxisLine=!1;const l=(s-2*a)/2,c=l-.3*s;this.areas=RI(t,o,n,s,l,c).paths,this.updateColors(i,r)}updateColors(e,t){this.areas.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]}))}}},TN={chartType:"nightingale",miniChart:class extends SN{constructor(e,t,i,r){super(e,t,"nightingaleTooltip"),this.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],this.showRadiusAxisLine=!1;const{size:s,padding:a,data:o,agChartsExports:{_Scene:n}}=this,l=(s-2*a)/2,c=new n.CategoryScale;c.domain=o[0].map(((e,t)=>t)),c.range=[-Math.PI,Math.PI],c.paddingInner=0,c.paddingOuter=0;const d=.7*c.bandwidth,{processedData:u,max:p}=LI(o),h=new n.LinearScale;h.domain=[0,p],h.range=[0,l];const m=s/2;this.series=u.map(((e,t)=>{const i=t<0?void 0:u[t-1],r=new n.Group({zIndex:1e6}),s=e.map(((e,t)=>{const r=i?.[t],s=h.convert(e),a=h.convert(r??0),o=c.convert(t),l=o+d,u=new n.Sector;return u.centerX=m,u.centerY=m,u.innerRadius=a,u.outerRadius=s,u.startAngle=o,u.endAngle=l,u.stroke=void 0,u.strokeWidth=0,u}));return r.append(s),r})),this.root.append(this.series),this.updateColors(i,r)}updateColors(e,t){this.series.forEach(((i,r)=>{for(const s of i.children())s.fill=e[r%e.length],s.stroke=t[r%t.length]}))}}},PN={chartType:"rangeBar",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"rangeBarTooltip"),this.bars=this.createRangeBar(this.root,[3,3.5,3],this.size,this.padding,"vertical"),this.updateColors(i,r)}updateColors(e,t){this.bars.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]}))}createRangeBar(e,t,i,r,s){const a="horizontal"===s,o=2*r,{_Scene:n}=this.agChartsExports,l=new n.CategoryScale;l.domain=t.map(((e,t)=>t)),l.range=[r,i-r],l.paddingInner=.3,l.paddingOuter=.3;const c=new n.LinearScale;c.domain=[.7*t.reduce(((e,t)=>Math.min(e,t)),1/0),1.3*t.reduce(((e,t)=>Math.max(e,t)),0)],c.range=[o,i-o];const d=l.bandwidth,u=t.map(((e,t)=>{const[i,r]=[.7*e,1.3*e],s=l.convert(t),o=c.convert(i),u=c.convert(r)-o,p=new n.Rect;return p.x=a?o:s,p.y=a?s:o,p.width=a?u:d,p.height=a?d:u,p.strokeWidth=0,p.crisp=!0,p}));return e.append(u),u}}};function AN(e){const{offset:t,length:i,pattern:r}=e,s=function(e,t,i){const{period:r}=i,s=e/r,a=[0,.5].map((e=>e-s)).map(DN).sort(((e,t)=>e-t));return Array.from({length:Math.floor(a.length*(r/t))},((e,t)=>a[t%a.length]+Math.floor(t/a.length))).map((e=>e*r)).map((t=>o(t,e,i)))}(t,i,r),a=i;return 0!==s.length&&0===s[0][0]||s.unshift(o(0,t,r)),s[s.length-1][0]!==a&&s.push(o(a,t,r)),s;function o(e,t,i){return[e,n(t+e,i)]}function n(e,t){const{low:i,high:r,period:s}=t,a=DN(e/s);return i+(r-i)*(a>.5?1-2*(a-.5):2*a)}}function DN(e){const t=e%1;return t<0?t+1:t}function IN(e,t,i){const r=[...e],s=r[t];return r[t]=r[i],r[i]=s,r}var NN={chartType:"rangeArea",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"rangeAreaTooltip");const s=[AN({offset:1.5,length:4,pattern:{low:3,high:5,period:4}}),AN({offset:1.5,length:4,pattern:{low:2.25,high:4.25,period:4}}),AN({offset:3,length:4,pattern:{low:2.5,high:4.5,period:4}})].map((e=>e.map((([e,t])=>({x:e,low:t-.875,high:t+.875}))))),{lines:a,areas:o}=this.createRangeArea(this.root,s,this.size,this.padding);this.lines=a,this.areas=o,this.updateColors(i,r)}updateColors(e,t){e=IN(e,1,2),t=IN(t,1,2),this.lines.forEach((([e,i],r)=>{e.fill=void 0,e.stroke=t[r],i.fill=void 0,i.stroke=t[r]})),this.areas.forEach(((t,i)=>{t.fill=e[i]}))}createRangeArea(e,t,i,r){const s=t.reduce(((e,t)=>t.reduce(((e,{x:t})=>Math.min(e,t)),e)),1/0),a=t.reduce(((e,t)=>t.reduce(((e,{x:t})=>Math.max(e,t)),e)),-1/0),o=t.reduce(((e,t)=>t.reduce(((e,{low:t})=>Math.min(e,t)),e)),1/0),n=t.reduce(((e,t)=>t.reduce(((e,{high:t})=>Math.max(e,t)),e)),-1/0),{_Scene:l}=this.agChartsExports,c=new l.LinearScale;c.domain=[s,a],c.range=[r,i-r];const d=2*r,u=new l.LinearScale;u.domain=[o,n],u.range=[i-d,d];const p=[],h=[];return t.map((e=>{const t=new l.Path,i=new l.Path,r=new l.Path;return p.push([t,i]),h.push(r),t.strokeWidth=0,i.strokeWidth=0,r.strokeWidth=0,r.fillOpacity=.8,t.path.clear(),i.path.clear(),r.path.clear(),e.map(((e,s)=>{const{x:a,low:o,high:n}=e,l=c.convert(a),d=u.convert(o),p=u.convert(n),h=s>0?"lineTo":"moveTo";return t.path[h](l,p),i.path[h](l,d),r.path[h](l,p),[l,d]}))})).forEach(((e,t)=>{const i=e.length-1,r=h[t];for(let t=i;t>=0;t--){const[i,s]=e[t];r.path.lineTo(i,s)}})),e.append(h.concat(...p)),{lines:p,areas:h}}}},RN={chartType:"boxPlot",miniChart:class extends HI{constructor(e,t,i,r,s){super(e,t,"boxPlotTooltip");const{size:a,padding:o,agChartsExports:{_Scene:n}}=this,l=[11,11.5,10.5],c=new n.LinearScale;c.domain=[.8*l.reduce(((e,t)=>Math.min(e,t)),1/0),1.2*l.reduce(((e,t)=>Math.max(e,t)),0)],c.range=[a-1.5*o,o];const d=new n.CategoryScale;d.domain=l.map(((e,t)=>t)),d.range=[o,a-o],d.paddingInner=.4,d.paddingOuter=.2;const u=Math.round(d.bandwidth),p=Math.round(d.bandwidth/2);this.boxPlotGroups=l.map(((e,t)=>{const[i,r,s,a]=[.8*e,.9*e,1.1*e,1.2*e],o=Math.round(c.convert(s)),l=Math.round(d.convert(t)),h=Math.round(l+u),m=Math.round(c.convert(r)),g=Math.round(c.convert(i)),b=Math.round(c.convert(e)),f=Math.round(c.convert(a)),v=l+p,y=new n.Group,C=new n.Rect,k=new n.Line,w=new n.Line,S=new n.Line,x=new n.Line,_=new n.Line;return C.x=l,C.y=o,C.width=u,C.height=m-o,C.strokeWidth=1,C.strokeOpacity=.75,C.crisp=!0,this.setLineProperties(k,l,h,b,b),this.setLineProperties(w,v,v,f,o),this.setLineProperties(S,v,v,g,m),this.setLineProperties(x,l,h,f,f),this.setLineProperties(_,l,h,g,g),y.append([C,k,w,S,x,_]),y})),this.updateColors(i,r,s),this.root.append(this.boxPlotGroups)}updateColors(e,t,i){const{_Theme:r}=this.agChartsExports;this.boxPlotGroups.forEach(((s,a)=>{for(const o of s.children()){const s=e[a%e.length];o.fill=i?s:r.resolveOperation({$mix:[s,{$ref:"backgroundColor"},.7]}),o.stroke=t[a%t.length]}}))}setLineProperties(e,t,i,r,s){e.x1=t,e.x2=i,e.y1=r,e.y2=s,e.strokeOpacity=.75}}},LN={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:WI},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:$I},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:YI}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:XI},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:JI},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:tN}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:sN},donut:{range:!0,pivot:!0,enterprise:!1,icon:rN},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:rN}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:nN},stackedLine:{range:!0,pivot:!0,enterprise:!1,icon:cN},normalizedLine:{range:!0,pivot:!0,enterprise:!1,icon:uN}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:pN},bubble:{range:!0,pivot:!0,enterprise:!1,icon:hN}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:bN},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:yN},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:kN}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:EN},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:MN},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:TN},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:xN},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:_N}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:RN},histogram:{range:!0,pivot:!1,enterprise:!1,icon:wN},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:PN},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:NN}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:{chartType:"treemap",miniChart:class extends xI{constructor(e,t,i,r,s){super(e,t,"treemapTooltip");const{size:a,padding:o,agChartsExports:{_Scene:n}}=this,l=[[1,1],[3,2,1]],c=l.length%2==0?.3:.2,d=[o,a-o],u=l.length,p=u*(u+1)/2,h=c/(u-1),m=d[1]-d[0],g=m-c;let b=d[0];this.rects=l.reduce(((e,t,i)=>{e??(e=[]);const r=g*((u-i)/p),s=t.length,a=t.reduce(((e,t)=>e+t),0),o=c/(s-1||1),l=s>1?m-c:m;let f=d[0];const v=t.map((e=>{const t=new n.Rect,i=l*e/a;return t.x=b,t.y=f,t.width=r,t.height=i,t.strokeWidth=.75,t.crisp=!0,f+=i+o,t}));return b+=r+h,e.push(...v),e}),[]),this.updateColors(i,r,s);const f=new n.Group;f.setClipRect(new n.BBox(o,o,a-o,a-o)),f.append(this.rects),this.root.append(f)}updateColors(e,t,i){const{_Theme:r}=this.agChartsExports;this.rects.forEach(((s,a)=>{s.fill=e[a%t.length],s.stroke=i?t[a%t.length]:r.resolveOperation({$ref:"backgroundColor"})}))}}}},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:{chartType:"sunburst",miniChart:class extends SN{constructor(e,t,i,r){super(e,t,"sunburstTooltip"),this.data=[[[],[]],[[],[]],[[],[]]],this.angleOffset=-Math.PI/2,this.innerRadiusRatio=0,this.showRadiusAxisLine=!1,this.showAngleAxisLines=!1;const{data:s,size:a,padding:o,angleOffset:n,innerRadiusRatio:l,agChartsExports:{_Scene:c}}=this,d=(a-2*o)/2,u=[n+0,n+2*Math.PI],p=Math.abs(u[1]-u[0]),h=[d*l,d],m=Math.abs(h[1]-h[0]);let g=0;const b=(e,t)=>{e.forEach((e=>{const i=t+1;g=Math.max(g,i),b(e,i)}))};b(s,0);const f=m/g,v=this.size/2,y=u[0];this.series=[];const C=(e,t,i,r,s)=>{if(!Array.isArray(e))return;const a=t+1;let o=i;e.forEach(((e,i,n)=>{let l=s;l||(l=new c.Group,this.series.push(l));const d=h[0]+t*f,u=h[0]+a*f,p=1/n.length,m=o,g=m+r*p,b=new c.Sector;b.centerX=v,b.centerY=v,b.innerRadius=d,b.outerRadius=u,b.startAngle=m,b.endAngle=g,b.stroke=void 0,b.strokeWidth=0,b.inset=.75,o=g,l.append(b),C(e,a,m,Math.abs(g-m),l)}))};C(s,0,y,p),this.root.append(this.series),this.updateColors(i,r)}updateColors(e,t){this.series.forEach(((i,r)=>{for(const s of i.children())s.fill=e[r%e.length],s.stroke=t[r%t.length]}))}}}}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:{chartType:"heatmap",miniChart:class extends xI{constructor(e,t,i,r,s){super(e,t,"heatmapTooltip");const{size:a,padding:o,agChartsExports:{_Scene:n}}=this,l=Array.from({length:3},((e,t)=>Array.from({length:3},((e,t)=>t)))),c=l.map(((e,t)=>t)),d=new n.CategoryScale;d.domain=c,d.range=[o,a-o],d.paddingInner=.01,d.paddingOuter=.1;const u=new n.CategoryScale;u.domain=c,u.range=[o,a-o],u.paddingInner=.01,u.paddingOuter=.1;const p=d.bandwidth??0,h=u.bandwidth??0;this.rects=l.reduce(((e,t,i)=>{e??(e=[]);const r=t.map(((e,t)=>{const r=new n.Rect;return r.x=d.convert(i),r.y=u.convert(t),r.width=p,r.height=h,r.strokeWidth=0,r.crisp=!0,r}));return e.push(...r),e}),[]),this.updateColors(i,r,s);const m=new n.Group;m.setClipRect(new n.BBox(o,o,a-o,a-o)),m.append(this.rects),this.root.append(m)}updateColors(e,t,i){const{_Theme:r,_Util:s}=this.agChartsExports,a=i?[e[0],e[1]]:r.resolveOperation({$palette:"divergingColors"}),o=i?t[0]:r.resolveOperation({$ref:"backgroundColor"}),n=s.interpolateColor(a[0],a[1]);this.rects.forEach(((e,t)=>{e.fill=n(.2*t),e.stroke=o}))}}}},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:{chartType:"waterfall",miniChart:class extends HI{constructor(e,t,i,r,s){super(e,t,"waterfallTooltip"),this.data=[4,3,-3,6,-3],this.bars=this.createWaterfall(this.root,this.data,this.size,this.padding,"vertical").bars,this.updateColors(i,r,s)}updateColors(e,t,i){const{data:r,agChartsExports:{_Theme:s}}=this,a={fill:i?e[0]:s.resolveOperation({$palette:"altUp.fill"}),stroke:i?t[0]:s.resolveOperation({$palette:"altUp.stroke"})},o={fill:i?e[1]:s.resolveOperation({$palette:"altDown.fill"}),stroke:i?t[1]:s.resolveOperation({$palette:"altDown.stroke"})};this.bars.forEach(((e,t)=>{const i=r[t]>=0;e.fill=i?a.fill:o.fill,e.stroke=i?a.stroke:o.stroke}))}createWaterfall(e,t,i,r,s){const a=2*r,{processedData:o,min:n,max:l}=LI(t.map((e=>[e]))),c=o.reduce(((e,t)=>e.concat(t)),[]),{_Scene:d}=this.agChartsExports,u=new d.LinearScale;u.domain=[Math.min(n,0),l],u.range=[i-a,a];const p=new d.CategoryScale;p.domain=t.map(((e,t)=>t)),p.range=[r,i-r],p.paddingInner=.2,p.paddingOuter=.3;const h=p.bandwidth,m=new d.Path;m.stroke="#575757",m.strokeWidth=0;const g=Math.floor(m.strokeWidth)%2/2,b=m.path;b.clear();const f="horizontal"===s,v=c.map(((e,i)=>{const r=i>0?c[i-1]:0,s=t[i]>0,a=Math.round(u.convert(e)),o=Math.round(u.convert(r)),n=(s?a:o)-g,l=(s?o:a)+g,m=Math.abs(l-n),v=p.convert(i),y=new d.Rect;y.x=f?n:v,y.y=f?v:n,y.width=f?m:h,y.height=f?h:m,y.strokeWidth=0,y.crisp=!0;const C=a+g,k=o+g;if(i>0){const e=f?k:y.x,t=f?y.y:k;b.lineTo(e,t)}const w=f?C:y.x,S=f?y.y:C;return b.moveTo(w,S),y}));return e.append([m,...v]),{bars:v}}}}}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:{chartType:"columnLineCombo",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"columnLineComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:s,columnData:a,lineData:o,size:n,padding:l}=this;this.columns=_I({stacked:!1,root:s,data:a,size:n,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),s.append(this.columns),this.lines=DI(t,s,o,n,l),this.updateColors(i,r)}updateColors(e,t){this.columns.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]})),this.lines.forEach(((t,i)=>{t.stroke=e[i+2]}))}}}},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:{chartType:"areaColumnCombo",miniChart:class extends HI{constructor(e,t,i,r){super(e,t,"areaColumnComboTooltip"),this.columnData=[3,4.5],this.areaData=[[5,4,6,5,4]];const{root:s,columnData:a,areaData:o,size:n,padding:l,agChartsExports:{_Scene:c}}=this;this.columns=_I({stacked:!1,root:s,data:a,size:n,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5,agChartsExports:t});const d=new c.CategoryScale;d.range=[l,n-l],d.domain=[0,1,2,3,4],d.paddingInner=1,d.paddingOuter=0;const u=new c.LinearScale;u.range=[n-l,l],u.domain=[0,6];const p=[],h=u.convert(0),m=d.convert(0);o.forEach(((e,t)=>{const i=p[t]||(p[t]=[]);e.forEach(((e,t)=>{const r=e,s=t,a=d.convert(s),o=u.convert(r);i[t]={x:a,y:o}}));const r=d.convert(e.length-1);p[t].push({x:r,y:h},{x:m,y:h})})),this.areas=p.map((e=>{const t=new c.Path;t.strokeWidth=0,t.fillOpacity=.8;const i=t.path;return e.forEach(((e,t)=>i[t>0?"lineTo":"moveTo"](e.x,e.y))),t}));const g=new c.Group;g.setClipRect(new c.BBox(l,l,n-2*l,n-2*l));const b=new c.Group;b.setClipRect(new c.BBox(l,l,n-2*l,n-2*l)),g.append(this.areas),b.append(this.columns),s.append(g),s.append(b),this.updateColors(i,r)}updateColors(e,t){this.areas.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]})),this.columns.forEach(((i,r)=>{i.fill=e[r+1],i.stroke=t[r+1]}))}}}},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:{chartType:"customCombo",miniChart:class extends xI{constructor(e,t,i,r){super(e,t,"customComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:s,columnData:a,lineData:o,size:n,padding:l,agChartsExports:{_Scene:c}}=this;this.columns=_I({stacked:!1,root:s,data:a,size:n,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),s.append(this.columns),this.lines=DI(this.agChartsExports,s,o,n,l);const d="grey",u=new c.Line;u.x1=l,u.y1=l,u.x2=l,u.y2=n-l+3,u.stroke=d;const p=new c.Line;p.x1=l-3+1,p.y1=n-l,p.x2=n-l+1,p.y2=n-l,p.stroke=d;const h=new c.Path;this.buildPenIconPath(h),h.fill="whitesmoke",h.stroke="darkslategrey",h.strokeWidth=1,s.append([p,u,h]),this.updateColors(i,r)}updateColors(e,t){this.columns.forEach(((i,r)=>{i.fill=e[r],i.stroke=t[r]})),this.lines.forEach(((t,i)=>{t.stroke=e[i+2]}))}buildPenIconPath(e){const{path:t}=e;t.moveTo(25.76,43.46),t.lineTo(31.27,48.53),t.moveTo(49.86,22),t.lineTo(49.86,22),t.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),t.lineTo(46.86,21.41),t.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),t.lineTo(25.51,43.8),t.lineTo(25.43,43.89),t.lineTo(23.01,51.89),t.lineTo(22.83,52.46),t.lineTo(31.02,48.86),t.lineTo(49.02,28.52),t.lineTo(49.02,28.52),t.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),t.lineTo(50.75,24.93),t.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),t.closePath(),t.moveTo(41.76,25.5),t.lineTo(47.34,30.5),t.moveTo(40.74,26.65),t.lineTo(46.25,31.71)}}}}},funnelGroup:{funnel:{range:!0,pivot:!1,enterprise:!0,icon:BI},coneFunnel:{range:!0,pivot:!1,enterprise:!0,icon:VI},pyramid:{range:!0,pivot:!1,enterprise:!0,icon:UI}}},FN={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line","stackedLine","normalizedLine"],areaGroup:["area","stackedArea","normalizedArea"],scatterGroup:["scatter","bubble"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],funnelGroup:["funnel","coneFunnel","pyramid"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},ON=class extends Fy.wA2{constructor(e,t,i,r,s=FN){super('<div class="ag-chart-settings-mini-wrapper"></div>'),this.wrappers=new Map,this.chartController=e,this.fills=t,this.strokes=i,this.isCustomTheme=r,this.chartGroups={...s}}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter((e=>"customCombo"!==e)));const e=this.getGui(),t=this.chartController.isEnterprise(),i=this.chartController.isPivotChart(),r=!i,s=Object.keys(this.chartGroups).map((e=>{const s=e in LN?LN[e]:void 0;if(!s)return(0,Fy.F5b)(148,{group:e}),null;const a=(this.chartGroups[e]??[]).map((a=>{const o=a in s?s[a]:void 0;return o?!t&&o.enterprise?null:r&&o.range||i&&o.pivot?o:null:((0,Fy.F5b)(149,{group:e,chartType:a}),null)})).filter((e=>null!=e));return 0===a.length?null:{label:this.chartTranslation.translate(e),items:a}})).filter((e=>null!=e));for(const{label:t,items:i}of s){const r=this.createBean(new pE({title:t,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal",suppressKeyboardNavigation:!0}));for(const e of i){const{miniChart:t,chartType:i}=e.icon,s=document.createElement("div");s.classList.add("ag-chart-mini-thumbnail"),s.setAttribute("tabindex","0"),s.setAttribute("role","button");const a=i,o=()=>{this.chartController.setChartType(a),this.updateSelectedMiniChart()};this.addManagedListeners(s,{click:o,keydown:e=>{e.key!=Fy.KeyCode.ENTER&&e.key!==Fy.KeyCode.SPACE||(e.preventDefault(),o())}}),this.wrappers.set(a,s),this.createBean(new t(s,this.beans.agChartsExports,this.fills,this.strokes,this.isCustomTheme)),r.addItem(s)}e.appendChild(r.getGui())}this.updateSelectedMiniChart()}updateSelectedMiniChart(){const e=this.chartController.getChartType();this.wrappers.forEach(((t,i)=>{const r=i===e;t.classList.toggle("ag-selected",r);const s=this.chartTranslation.translate(eA(i)),a=r?`${s}. ${this.chartTranslation.translate("ariaChartSelected")}`:s;(0,Fy.xER)(t,a)}))}destroy(){this.wrappers.clear(),super.destroy()}},BN=class extends Fy.wA2{constructor(e){super('<div class="ag-chart-settings-wrapper">\n            <div data-ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div data-ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div data-ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>\n                </div>\n                <div data-ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div data-ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>'),this.chartController=e,this.eMiniChartsContainer=Fy.CUI,this.eNavBar=Fy.CUI,this.eCardSelector=Fy.CUI,this.ePrevBtn=Fy.CUI,this.eNextBtn=Fy.CUI,this.miniChartsContainers=[],this.cardItems=[],this.activePaletteIndex=0,this.palettes=[],this.themes=[]}postConstruct(){this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",(0,Fy.scM)("chartsThemePrevious",this.beans)),this.eNextBtn.insertAdjacentElement("afterbegin",(0,Fy.scM)("chartsThemeNext",this.beans)),this.addManagedElementListeners(this.ePrevBtn,{click:()=>this.setActivePalette(this.getPrev(),"left")}),this.addManagedElementListeners(this.eNextBtn,{click:()=>this.setActivePalette(this.getNext(),"right")});const e=()=>this.resetPalettes(!0);this.addManagedListeners(this.chartController,{chartTypeChanged:e,chartApiUpdate:e}),this.scrollSelectedIntoView()}scrollSelectedIntoView(){setTimeout((()=>{const e=this.miniChartsContainers.find((e=>!e.getGui().classList.contains("ag-hidden"))).getGui().querySelector(".ag-selected");if(e){const t=e.offsetParent;t&&this.eMiniChartsContainer.scrollTo(0,t.offsetTop)}}),250)}resetPalettes(e){const t=this.chartController.getPalettes(),i=this.gos.get("chartToolPanelsDef")?.settingsPanel?.chartGroupsDef;if((0,Fy.Vgs)(t,this.palettes)&&!e||this.isAnimating)return;this.palettes=t,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex((e=>e===this.chartController.getChartThemeName())),this.cardItems=[],(0,Fy.wvc)(this.eCardSelector),this.destroyMiniCharts();const{themes:r}=this;this.palettes.forEach(((e,t)=>{const s=this.activePaletteIndex===t,{fills:a=[],strokes:o=[]}=e,n=!iA(r[t],this.beans.agChartsExports._Theme),l=this.createBean(new ON(this.chartController,a,o,n,i));this.miniChartsContainers.push(l),this.eMiniChartsContainer.appendChild(l.getGui()),this.addCardLink(t),s?l.updateSelectedMiniChart():l.setDisplayed(!1)})),(0,Fy.DIH)(this.eNavBar,this.palettes.length>1),(0,Fy.I1_)(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}addCardLink(e){const t=document.createElement("div");t.classList.add("ag-chart-settings-card-item"),this.addManagedElementListeners(t,{click:()=>{this.setActivePalette(e,e<this.activePaletteIndex?"left":"right")}}),this.eCardSelector.appendChild(t),this.cardItems.push(t)}getPrev(){let e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e}getNext(){let e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e}setActivePalette(e,t){if(this.isAnimating||this.activePaletteIndex===e)return;(0,Fy.I1_)(this.cardItems[e],"ag-selected","ag-not-selected");const i=this.miniChartsContainers[this.activePaletteIndex],r=i.getGui(),s=this.miniChartsContainers[e],a=s.getGui();i.updateSelectedMiniChart(),s.updateSelectedMiniChart();const o="left"===t?-1:1,n=a.style.left=(0,Fy.z6m)(this.getGui())*o+"px";this.activePaletteIndex=e,this.isAnimating=!0;const l="ag-animating";s.setDisplayed(!0),i.addCss(l),s.addCss(l),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout((()=>{r.style.left=-parseFloat(n)+"px",a.style.left="0px"}),0),window.setTimeout((()=>{this.isAnimating=!1,i.removeCss(l),s.removeCss(l),i.setDisplayed(!1)}),300)}destroyMiniCharts(){(0,Fy.wvc)(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)}destroy(){this.destroyMiniCharts(),super.destroy()}},zN=class extends Fy.wA2{constructor(e,t){super(),this.panels=e,this.chartMenuContext=t,this.tabs=[]}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.panels.forEach((e=>{const t=e.replace("chart","").toLowerCase(),i=this.createPanel(t),r=this.createTab(e,t,i);this.tabs.push(r),this.addDestroyFunc((()=>this.destroyBean(i)))})),this.tabbedLayout=new f_({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0,suppressFocusBodyOnOpen:!0,suppressTrapFocus:!0,enableCloseButton:!0,closeButtonAriaLabel:this.chartTranslation.translate("ariaChartMenuClose"),onCloseClicked:()=>{this.eventSource?.focus({preventScroll:!0}),this.dispatchLocalEvent({type:"closed"})}}),this.createBean(this.tabbedLayout)}createTab(e,t,i){const r=(0,Fy.Xye)({tag:"div",cls:`ag-chart-tab ag-chart-${t}`});this.createBean(i),r.appendChild(i.getGui());const s=this.chartTranslation.translate(t);return{title:(0,Fy.Xye)({tag:"div",children:s}),titleLabel:s,bodyPromise:Fy.j_S.resolve(r),getScrollableContainer:()=>r.querySelector(".ag-scrollable-container")||r,name:e}}showTab(e){const t=this.tabs[e];this.tabbedLayout.showItem(t)}getGui(){return this.tabbedLayout&&this.tabbedLayout.getGui()}showMenu(e,t){this.eventSource=e,t||this.tabbedLayout?.focusHeader(!0)}destroy(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),super.destroy()}createPanel(e){switch(e){case"data":return new zD(this.chartMenuContext);case"format":return new SI(this.chartMenuContext);default:return new BN(this.chartMenuContext.chartController)}}},VN=class extends Fy.wA2{constructor(e,t,i){super('<div class="ag-chart-menu-wrapper"></div>'),this.eChartContainer=e,this.eMenuPanelContainer=t,this.chartMenuContext=i,this.buttons={chartLink:{iconName:"linked",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartUnlink:{iconName:"unlinked",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartDownload:{iconName:"chartsDownload",callback:()=>this.chartMenuSvc.downloadChart(this.chartMenuContext)},chartMenu:{iconName:"chartsMenu",callback:e=>this.showMenuList(e)}},this.panels=[],this.menuVisible=!1,this.chartController=i.chartController}wireBeans(e){this.chartMenuSvc=e.chartMenuSvc,this.chartMenuListFactory=e.chartMenuListFactory,this.environment=e.environment}postConstruct(){this.chartToolbar=this.createManagedBean(new TD),this.getGui().appendChild(this.chartToolbar.getGui()),this.refreshToolbarAndPanels(),this.addManagedEventListeners({chartCreated:e=>{e.chartId===this.chartController.getChartId()&&Boolean(this.gos.get("chartToolPanelsDef")?.defaultToolPanel)&&this.showMenu({panel:this.defaultPanel,suppressFocus:!0})}}),this.addManagedListeners(this.chartController,{chartLinkedChanged:this.refreshToolbarAndPanels.bind(this)}),this.refreshMenuClasses(),this.addManagedListeners(this.chartController,{chartApiUpdate:this.refreshToolbarAndPanels.bind(this)})}isVisible(){return this.menuVisible}getExtraPaddingDirections(){return["chartMenu","chartLink","chartUnlink","chartDownload"].some((e=>this.chartToolbarOptions.includes(e)))?["top"]:[]}refreshToolbarAndPanels(){this.initToolbarOptionsAndPanels(),this.updateToolbar()}initToolbarOptionsAndPanels(){const{panels:e,defaultPanel:t}=this.chartMenuSvc.getChartToolPanels(this.chartController);this.panels=e,this.defaultPanel=t,this.chartToolbarOptions=this.chartMenuSvc.getChartToolbarOptions()}updateToolbar(){const e=this.chartToolbarOptions.map((e=>{const{iconName:t,callback:i}=this.buttons[e];return{buttonName:e,iconName:t,callback:i}}));this.chartToolbar.updateParams({buttons:e})}createMenuPanel(e){const t=this.menuPanel=this.createBean(new Gw({height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return t.setParentComponent(this),this.eMenuPanelContainer.appendChild(t.getGui()),this.tabbedMenu=this.createBean(new zN(this.panels,this.chartMenuContext)),this.addManagedListeners(this.tabbedMenu,{closed:()=>{this.hideMenu()}}),this.addManagedListeners(t,{destroyed:()=>this.destroyBean(this.tabbedMenu)}),new Fy.j_S((i=>{window.setTimeout((()=>{t.setBodyComponent(this.tabbedMenu),this.tabbedMenu.showTab(e),i(t)}),100)}))}showContainer(e,t){this.menuPanel&&(this.menuVisible=!0,this.refreshMenuClasses(),this.tabbedMenu.showMenu(e,t))}showMenu(e){const{panel:t,eventSource:i,suppressFocus:r}=e??{};if(this.menuPanel&&!t)this.showContainer(i,r);else{const e=t||this.defaultPanel;let s=this.panels.indexOf(e);s<0&&((0,Fy.F5b)(143,{panel:t}),s=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(s),this.showContainer(i,r)):this.createMenuPanel(s).then((()=>this.showContainer(i,r)))}}hideMenu(){this.menuVisible=!1,this.refreshMenuClasses()}refreshMenuClasses(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)}showMenuList(e){this.chartMenuListFactory.showMenuList({eventSource:e,showMenu:()=>this.showMenu({eventSource:e}),chartMenuContext:this.chartMenuContext})}destroy(){super.destroy(),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)}},GN=["number","category","time","grouped-category"],UN=[...GN,"angle-category","angle-number","radius-category","radius-number"],HN=class extends Fy.AS9{constructor(e){super(),this.chartController=e}getChartThemeOverridesProxy(){return{getValue:e=>this.getChartOption(e),setValue:(e,t)=>this.setChartThemeOverrides([{expression:e,value:t}]),setValues:e=>this.setChartThemeOverrides(e)}}getAxisThemeOverridesProxy(){return{getValue:e=>this.getAxisProperty(e),setValue:(e,t)=>this.setAxisThemeOverrides([{expression:e,value:t}]),setValues:e=>this.setAxisThemeOverrides(e)}}getCartesianAxisOptionsProxy(e){return{getValue:t=>this.getCartesianAxisProperty(e,t),setValue:(t,i)=>this.setCartesianAxisOptions(e,[{expression:t,value:i}]),setValues:t=>this.setCartesianAxisOptions(e,t)}}getCartesianAxisThemeOverridesProxy(e){return{getValue:t=>this.getCartesianAxisProperty(e,t),setValue:(t,i)=>this.setCartesianAxisThemeOverrides(e,[{expression:t,value:i}]),setValues:t=>this.setCartesianAxisThemeOverrides(e,t)}}getCartesianAxisAppliedThemeOverridesProxy(e){return{getValue:t=>this.getCartesianAxisThemeOverride(e,"*"===t?null:t),setValue:(t,i)=>this.setCartesianAxisThemeOverrides(e,[{expression:"*"===t?null:t,value:i}]),setValues:t=>this.setCartesianAxisThemeOverrides(e,t)}}getSeriesOptionsProxy(e){return{getValue:(t,i)=>this.getSeriesOption(e(),t,i),setValue:(t,i)=>this.setSeriesOptions(e(),[{expression:t,value:i}]),setValues:t=>this.setSeriesOptions(e(),t)}}getPersistedChartThemeOverrides(e,t,i,r){const s=this.getRetainedChartThemeOverrideKeys(i,r),a=this.getRetainedChartAxisThemeOverrideKeys(null,i,r),o=this.createChartOptions();for(const t of s){const s=this.retrieveChartOptionsThemeOverride(e,i,t);void 0!==s&&this.assignChartOptionsThemeOverride(o,r,t,s)}return t&&this.assignPersistedAxisOverrides({existingAxes:t,retainedChartAxisThemeOverrideKeys:a,existingChartOptions:e,targetChartOptions:o,existingChartType:i,targetChartType:r}),o.theme.overrides}assignPersistedAxisOverrides(e){const{existingAxes:t,retainedChartAxisThemeOverrideKeys:i,existingChartOptions:r,targetChartOptions:s,existingChartType:a,targetChartType:o}=e;for(const{expression:e,targetAxisTypes:n}of i)for(const i of t.map((e=>e.type))){const t=this.retrieveChartOptionsThemeOverride(r,a,["axes",i,e].join("."));if(void 0!==t)for(const i of n)this.assignChartOptionsThemeOverride(s,o,["axes",i,e].join("."),t)}}getRetainedChartThemeOverrideKeys(e,t){const i=["zoom","navigator"];return["animation",...((e,t)=>{const r=new Array;return HP(YP(e))&&HP(YP(t))&&r.push(...i),r})(e,t)]}getRetainedChartAxisThemeOverrideKeys(e,t,i){return HP(YP(t))&&HP(YP(i))?this.getRetainedCartesianAxisThemeOverrideKeys(e).map((e=>({expression:e,targetAxisTypes:GN}))):[]}getRetainedCartesianAxisThemeOverrideKeys(e){const t="xAxis"===e?["",".top",".bottom"]:"yAxis"===e?["",".left",".right"]:["",".left",".right",".top",".bottom"],i=["crosshair"],r=new Array;for(const e of i)for(const i of t)r.push(`${e}${i}`);return r}getChartOption(e){return LP(this.getChart(),e,void 0)}setChartThemeOverrides(e){const t=this.getChartType(),i=this.createChartOptions();for(const{expression:r,value:s}of e)this.assignChartOptionsThemeOverride(i,t,r,s);this.applyChartOptions(i)}applyChartOptions(e,t){0!==Object.keys(e).length&&(this.updateChart(e),!t?.silent&&this.raiseChartOptionsChangedEvent())}awaitChartOptionUpdate(e){this.chartController.getChartProxy().getChart().waitForUpdate().then((()=>e())).catch((e=>(0,Fy.U0c)(108,{e:e})))}getAxisProperty(e){return LP(this.getChart().axes?.[0],e,void 0)}setAxisThemeOverrides(e){const t=this.getChart(),i=this.getChartType(),r=this.createChartOptions();for(const{expression:s,value:a}of e){const e=t.axes?.filter((e=>{const t=s.split(".");let i=e;for(const e of t){if(!(e in i))return!1;i=i[e]}return!0}));if(e)for(const t of e)this.isValidAxisType(t)&&this.assignChartAxisThemeOverride(r,i,t.type,null,s,a)}this.applyChartOptions(r)}getCartesianAxisProperty(e,t){const i=this.getChartAxes();return LP(this.getCartesianAxis(i,e),t,void 0)}getCartesianAxisThemeOverride(e,t){const i=this.getChartAxes(),r=this.getCartesianAxis(i,e);if(!r||!this.isValidAxisType(r))return;const s=this.getChartType(),a=this.getChart().getOptions();return this.retrieveChartAxisThemeOverride(a,s,r.type,"yAxis"===e?["left","right"]:["bottom","top"],t)}setCartesianAxisThemeOverrides(e,t){const i=this.getChartAxes(),r=this.getCartesianAxis(i,e);if(!r||!this.isValidAxisType(r))return;const s=this.getChartType(),a=this.createChartOptions();for(const{expression:i,value:o}of t)this.assignChartAxisThemeOverride(a,s,r.type,"yAxis"===e?["left","right"]:["bottom","top"],i,o);this.applyChartOptions(a)}setCartesianAxisOptions(e,t){this.updateCartesianAxisOptions(e,((e,i,r)=>{const s=i.indexOf(r);for(const{expression:i,value:r}of t)this.assignChartOption(e,`axes.${s}.${i}`,r)}))}updateCartesianAxisOptions(e,t){const i=this.getChart().getOptions(),r="axes"in i?i.axes:void 0;if(!i||!r)return;const s=this.getChartAxes(),a=this.getCartesianAxis(s,e);if(!a)return;const o=this.createChartOptions();o.axes=r,t(o,s,a,i),this.applyChartOptions(o)}setCartesianCategoryAxisType(e,t){this.updateCartesianAxisOptions(e,((i,r,s,a)=>{const o=this.getChartType();this.assignPersistedAxisOverrides({existingAxes:[s],retainedChartAxisThemeOverrideKeys:this.getRetainedChartAxisThemeOverrideKeys(e,o,o),existingChartOptions:a,targetChartOptions:i,existingChartType:o,targetChartType:o}),this.assignChartOption(i,"axes.0.type",t),this.chartController.setCategoryAxisType(t)}))}getCartesianAxis(e,t){if(!(e.length<2))switch(t){case"xAxis":return"x"===e[0].direction?e[0]:e[1];case"yAxis":return"y"===e[1].direction?e[1]:e[0]}}getSeriesOption(e,t,i){const r=this.getChart().series.find((t=>function(e,t){return function(e){return!!zP[e]}(e)&&t.type===e}(e,t)));return LP(i?r:r?.properties.toJson(),t,void 0)}setSeriesOptions(e,t){const i=this.createChartOptions();for(const{expression:r,value:s}of t)this.assignChartOptionsSeriesThemeOverride(i,e,`series.${r}`,s);this.applyChartOptions(i)}getPairedMode(){return this.chartController.getChartProxy().isPaired()}setPairedMode(e){this.chartController.getChartProxy().setPaired(e)}getChartAxes(){return this.getChart().axes??[]}retrieveChartAxisThemeOverride(e,t,i,r,s){if(!r)return this.retrieveChartOptionsThemeOverride(e,t,["axes",i,...s?[s]:[]].join("."));for(const a of r){const r=this.retrieveChartOptionsThemeOverride(e,t,["axes",i,a,...s?[s]:[]].join("."));if(void 0!==r)return r}}assignChartAxisThemeOverride(e,t,i,r,s,a){if(r)for(const o of r)this.assignChartOptionsThemeOverride(e,t,["axes",i,o,...s?[s]:[]].join("."),a);else this.assignChartOptionsThemeOverride(e,t,["axes",i,...s?[s]:[]].join("."),a)}isValidAxisType(e){return UN.includes(e.type)}getChartType(){return this.chartController.getChartType()}getChart(){return this.chartController.getChartProxy().getChart()}updateChart(e){const t=this.chartController.getChartProxy().getChartRef();t.skipAnimations(),t.updateDelta(e)}createChartOptions(){return{theme:{overrides:{}}}}retrieveChartOptionsThemeOverride(e,t,i){const r=this.getChartThemeOverridesSeriesTypeKeys(t);for(const t of r){const r=this.retrieveChartOptionsSeriesThemeOverride(e,t,i);if(void 0!==r)return r}}assignChartOptionsThemeOverride(e,t,i,r){const s=this.getChartThemeOverridesSeriesTypeKeys(t);for(const t of s)this.assignChartOptionsSeriesThemeOverride(e,t,i,r)}retrieveChartOptionsSeriesThemeOverride(e,t,i){return this.retrieveChartOption(e,["theme","overrides",t,...i?[i]:[]].join("."))}assignChartOptionsSeriesThemeOverride(e,t,i,r){this.assignChartOption(e,["theme","overrides",t,...i?[i]:[]].join("."),r)}getChartThemeOverridesSeriesTypeKeys(e){const t=this.chartController.getChartSeriesTypes(e);return this.chartController.isComboChart()&&t.push("common"),t}retrieveChartOption(e,t){return LP(e,t,void 0)}assignChartOption(e,t,i){!function(e,t,i){if(null==e)return;const r=t.split(".");let s=e;r.forEach(((e,t)=>{s[e]||(s[e]={}),t<r.length-1&&(s=s[e])})),s[r[r.length-1]]=i}(e,t,i)}raiseChartOptionsChangedEvent(){const e=this.chartController.getChartModel();this.eventSvc.dispatchEvent({type:"chartOptionsChanged",chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions})}},WN=class extends Fy.wA2{constructor(e){super('\n            <div style="height: 100%; width: 100%;">\n                <div class="ag-chart" data-ref="eWrapper">\n                    <div data-ref="eChartContainer" class="ag-chart-components-wrapper ag-chart-menu-hidden">\n                        <div data-ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                        <div data-ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n                    </div>\n                    <div data-ref="eMenuContainer" class="ag-chart-docked-container"></div>\n                </div>\n            </div>\n            '),this.eChart=Fy.CUI,this.eWrapper=Fy.CUI,this.eChartContainer=Fy.CUI,this.eMenuContainer=Fy.CUI,this.eEmpty=Fy.CUI,this.params=e}wireBeans(e){this.crossFilterService=e.chartCrossFilterSvc,this.chartTranslation=e.chartTranslation,this.chartMenuSvc=e.chartMenuSvc,this.focusSvc=e.focusSvc,this.popupSvc=e.popupSvc,this.enterpriseChartProxyFactory=e.enterpriseChartProxyFactory,this.environment=e.environment}postConstruct(){const e={...this.params,chartType:$P(this.params.chartType),chartThemeName:this.getThemeName()},t=this.gos.get("enableRtl");this.eWrapper.classList.add(t?"ag-rtl":"ag-ltr");const i=this.createBean(new SA(e));this.chartController=this.createManagedBean(new CD(i)),this.chartOptionsService=this.createManagedBean(new HN(this.chartController)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog?this.addDialog():(this.addManagedEventListeners({gridStylesChanged:this.updateTheme.bind(this)}),this.updateTheme()),this.addMenu(),this.addManagedElementListeners(this.getGui(),{focusin:this.setActiveChartCellRange.bind(this)}),this.addManagedListeners(this.chartController,{chartModelUpdate:this.update.bind(this)}),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.update(),this.raiseChartCreatedEvent()}updateTheme(){this.environment.applyThemeClasses(this.getGui())}createChart(){let e;this.chartProxy&&(e=this.chartProxy.destroy({keepChartInstance:!0}));const t=this.chartController.getChartType(),i={agChartsExports:this.beans.agChartsExports,chartType:t,chartInstance:e,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gos.get("customChartThemes"),styleNonce:this.gos.get("styleNonce"),getGridOptionsChartThemeOverrides:()=>this.getGridOptionsChartThemeOverrides(),getExtraPaddingDirections:()=>this.chartMenu?.getExtraPaddingDirections()??[],apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering??!1,crossFilterCallback:(e,t)=>{this.params.crossFilteringContext.lastSelectedChartId=t?"":this.chartController.getChartId(),t&&this.params.crossFilteringResetCallback(),this.crossFilterService.filter(e,t)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),suppressFieldDotNotation:this.gos.get("suppressFieldDotNotation"),translate:e=>this.chartTranslation.translate(e)};this.params.chartOptionsToRestore=void 0,this.chartType=t,this.chartProxy=this.createChartProxy(i),this.chartProxy?(this.chartController.setChartProxy(this.chartProxy),this.createMenuContext()):(0,Fy.F5b)(138,{chartType:i.chartType})}createMenuContext(){if(this.chartMenuContext)return;const e=this.createManagedBean(new RD(this.chartOptionsService.getChartThemeOverridesProxy())),t=this.createManagedBean(new RD(this.chartOptionsService.getAxisThemeOverridesProxy()));this.chartMenuContext={chartController:this.chartController,chartOptionsService:this.chartOptionsService,chartMenuParamsFactory:e,chartAxisMenuParamsFactory:t}}getChartThemeName(){return this.chartController.getChartThemeName()}getChartThemes(){return this.chartController.getThemeNames()}getGridOptionsChartThemeOverrides(){return this.gos.get("chartThemeOverrides")}createChartProxy(e){const{chartType:t}=e;switch(t){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new SD(e);case"pie":case"donut":case"doughnut":return new MD(e);case"area":case"stackedArea":case"normalizedArea":return new kD(e);case"line":case"stackedLine":case"normalizedLine":return new xD(e);case"scatter":case"bubble":return new _D(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ED(e)}const i=this.enterpriseChartProxyFactory?.createChartProxy(e);if(!i)throw(0,Fy.Imk)(251,{chartType:t});return i}addDialog(){const e=this.chartTranslation.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),{width:t,height:i}=this.getBestDialogSize(),r=this.params.focusDialogOnOpen?()=>setTimeout((()=>(0,Fy.exX)(this.getGui()))):void 0;this.chartDialog=new Uw({resizable:!0,movable:!0,maximizable:!0,title:e,width:t,height:i,component:this,centered:!0,closable:!0,afterGuiAttached:r,postProcessPopupParams:{type:"chart"}}),this.createBean(this.chartDialog),this.chartDialog.addEventListener("destroyed",(()=>{this.destroy(),this.chartMenuSvc.hideAdvancedSettings();const e=this.focusSvc.getFocusedCell();setTimeout((()=>{this.focusSvc.isAlive()&&(e?this.focusSvc.setFocusedCell({...e,forceBrowserFocus:!0}):(0,Fy.vYZ)(this.beans))}))}))}getBestDialogSize(){const e=this.popupSvc.getPopupParent(),t=.75*(0,Fy.z6m)(e),i=.75*(0,Fy.YWV)(e),r=this.chartProxy.getChart();let s=this.params.insideDialog?850:r.width,a=this.params.insideDialog?470:r.height;return(s>t||a>i)&&(s=Math.min(s,t),a=Math.round(.553*s),a>i&&(a=i,s=Math.min(s,Math.round(a/.553)))),{width:s,height:a}}addMenu(){this.params.crossFiltering||(this.chartMenu=this.createBean(new VN(this.eChartContainer,this.eMenuContainer,this.chartMenuContext)),this.eChartContainer.appendChild(this.chartMenu.getGui()))}update(e){if(e?.chartId&&!this.chartController.update(e))return;const t=this.chartTypeChanged(e),i=t||this.chartEmpty?(e=>{const t=this.chartType,i=e,r=this.chartProxy.getChart(),s=r?.getOptions(),a=r?.axes;return this.chartOptionsService.getPersistedChartThemeOverrides(s,a,t,i??t)})(t):void 0;t&&this.createChart(),i&&e?.chartThemeOverrides&&(0,Fy.zev)(i,e.chartThemeOverrides);const r=i??e?.chartThemeOverrides;this.updateChart(r),e?.chartId&&this.chartProxy.getChart().waitForUpdate().then((()=>{this.chartController.raiseChartApiUpdateEvent()}))}updateChart(e){const{chartProxy:t}=this,i=this.chartController.getSelectedValueColState(),r=this.chartController.getChartData(),s=this.handleEmptyChart(r,i.length);if(this.chartEmpty=s,s)return void(e&&this.chartController.updateThemeOverrides(e));const a=this.chartController.getChartUpdateParams(e);t.update(a),this.chartProxy.getChart().waitForUpdate().then((()=>{this.chartController.raiseChartUpdatedEvent()}))}chartTypeChanged(e){const[t,i]=[this.chartController.getChartType(),e?.chartType],r=i?$P(i):void 0;return this.chartType!==t?r??t:r&&t!==r?r:null}getChartModel(){return this.chartController.getChartModel()}getChartImageDataURL(e){return this.chartProxy.getChartImageDataURL(e)}handleEmptyChart(e,t){const i=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),r=this.chartController.getChartType();let s=1;this.chartController.isActiveXYChart()?s="bubble"===r?3:2:KP(YP(r))&&(s=0);const a=t<s||0===e.length;if(this.eChart){const e=i||a;(0,Fy.DIH)(this.eChart,!e),(0,Fy.DIH)(this.eEmpty,e)}return i?(this.eEmpty.textContent=this.chartTranslation.translate("pivotChartRequiresPivotMode"),!0):!!a&&(this.eEmpty.textContent=this.chartTranslation.translate("noDataToChart"),!0)}downloadChart(e,t,i){this.chartProxy.downloadChart(e,t,i)}openChartToolPanel(e){const t=e?ZA[e]:e;this.chartMenu.showMenu({panel:t})}closeChartToolPanel(){this.chartMenu.hideMenu()}getChartId(){return this.chartController.getChartId()}getUnderlyingChart(){return this.chartProxy.getChartRef()}crossFilteringReset(){this.chartProxy.crossFilteringReset()}setActiveChartCellRange(e){this.getGui().contains(e.relatedTarget)||this.chartController.setChartRange(!0)}getThemeName(){const e=this.gos.get("chartThemes")||yD;if(0===e.length)throw new Error((0,Fy.Imk)(254));const{chartThemeName:t}=this.params;return e.includes(t)?t:e[0]}getAllKeysInObjects(e){const t={};return e.filter((e=>null!=e)).forEach((e=>{Object.keys(e).forEach((e=>t[e]=null))})),Object.keys(t)}validateCustomThemes(){const e=this.getChartThemes(),t=this.gos.get("customChartThemes");t&&this.getAllKeysInObjects([t]).forEach((t=>{e.includes(t)||(0,Fy.F5b)(139,{customThemeName:t})}))}reactivePropertyUpdate(){this.chartController.setChartThemeName(this.getThemeName(),!0);const e=this.getChartId(),t=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,i=this.gos.get("chartThemeOverrides")||{};this.update({type:`${t}ChartUpdate`,chartId:e,chartThemeOverrides:i})}raiseChartCreatedEvent(){this.chartProxy.getChart().waitForUpdate().then((()=>{this.eventSvc.dispatchEvent({type:"chartCreated",chartId:this.chartController.getChartId()})}))}raiseChartDestroyedEvent(){this.eventSvc.dispatchEvent({type:"chartDestroyed",chartId:this.chartController.getChartId()})}destroy(){super.destroy(),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),this.onDestroyColorSchemeChangeListener?.();const e=this.getGui();(0,Fy.wvc)(e),(0,Fy.taW)(e),this.raiseChartDestroyedEvent()}},jN=!1;function KN(e){return e=mR("chartOptions.legend.item.marker.type","shape",e),e=mR("chartOptions.seriesDefaults.marker.type","shape",e),mR("chartOptions.legend.padding","spacing",e)}function $N(e){e=gR("chartOptions.seriesDefaults.marker.minSize",e);const{chartType:t,chartPalette:i,chartOptions:{xAxis:r,yAxis:s,...a},...o}=e,n=function(e){switch(e){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"stackedLine":case"normalizedLine":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}(t),l=n?.map(((e,t)=>({type:e,...0===t?r:s})));return{chartType:t,chartThemeName:{borneo:"ag-default",material:"ag-material",bright:"ag-vivid"}[i]??"ag-default",chartOptions:{...a,axes:l,xAxis:r,yAxis:s},...o}}function qN(e){return mR("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",e)}function YN(e){return e=gR("chart",e=fR("chartOptions.seriesDefaults.highlightStyle",e,(({dimOpacity:e,...t})=>({...t,...null!=e?{series:{dimOpacity:e}}:{}})))),e=gR("chartOptions.seriesDefaults.tooltipClass",e),e=cR("chartOptions.axes[].label.rotation",0,e=gR("chartOptions.seriesDefaults.tooltipTracking",e)),cR("chartOptions.axes[].label.rotation",335,e)}function XN(e){const t=({item:e,series:t,...i})=>({item:{...i,...e},...t?{series:t}:{}});return e=fR("chartOptions.seriesDefaults.highlightStyle",e,t),fR("chartOptions.series[].highlightStyle",e,t)}function QN(e){e=pR("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",e),e=pR("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",e),e=gR("chartOptions.seriesDefaults.fill",e=pR("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",e)),e=gR("chartOptions.seriesDefaults.stroke",e),e=gR("chartOptions.seriesDefaults.callout.colors",e),e=gR("chartOptions.xAxis",e),e=gR("chartOptions.yAxis",e);const{chartType:t,chartOptions:{axes:i,series:r,seriesDefaults:s,...a},...o}=e,n=$P(t),l=YP(n),c=[l],d={};if(!XP(l)){const e={top:{},bottom:{},left:{},right:{}},t=i.map((({type:t,...i})=>({[t]:{...e,...i}}))).reduce(yR,{});tA.filter((e=>null==t[e])).forEach((i=>{t[i]={...e}})),d.axes=t}const u=c.map((e=>({[e]:{...d,series:s,...a}}))).reduce(yR,{});return{...o,chartType:n,chartOptions:u}}function ZN(e){return e=gR("chartOptions.*.title.padding",e),e=gR("chartOptions.*.subtitle.padding",e),dR("chartOptions.*.axes.*.title.enabled",!1,e=gR("chartOptions.*.axes.*.title.padding",e))}function JN(e){return e=mR("chartOptions.pie.series.callout","calloutLine",e),e=mR("chartOptions.pie.series.label","calloutLabel",e),e=mR("chartOptions.pie.series.labelKey","sectorLabelKey",e),e=mR("chartOptions.pie.series.labelName","sectorLabelName",e),e=mR("chartOptions.donut.series.callout","calloutLine",e),e=mR("chartOptions.donut.series.label","calloutLabel",e),e=mR("chartOptions.donut.series.labelKey","sectorLabelKey",e),mR("chartOptions.donut.series.labelName","sectorLabelName",e)}function eR(e){return e=hR("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",e),e=hR("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",e),e=hR("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",e),e=hR("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",e),pR("chartOptions.scatter.series.paired","chartOptions.scatter.paired",e=hR("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",e))}function tR(e){return gR("chartOptions.axes[].tick.count",e)}function iR(e){return fR("chartOptions.*.tooltip",e,(({tracking:e,...t})=>{const i={...t};return!1===e?(i.position??(i.position={type:"pointer"}),i.range??(i.range="nearest")):!0===e&&(i.position??(i.position={type:"node"}),i.range??(i.range="nearest")),i}))}function rR(e){return e=mR("chartOptions.pie.series.labelKey","sectorLabelKey",e),dR("chartOptions.common.legend.position","right",e=uR("chartOptions.common.legend.enabled",!0,e=gR("chartOptions.*.series.flipXY",e=iR(e=tR(e=mR("chartOptions.pie.series.labelName","sectorLabelName",e))))))}function sR(e){const t=mR("chartOptions.column","bar",e),i={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"}[t.chartThemeName]||t.chartThemeName;return{...t,chartThemeName:i}}function aR(e){return bR("chartOptions.*.autoSize",!0,e,((e,t)=>{!0===e[t]||!1===e[t]&&(e.minHeight=600,e.minWidth=300),delete e[t]}))}function oR(e){return e=gR("chartOptions.*.axes.category.label.format",e),e=gR("chartOptions.*.axes.category.crosshair.label.format",e),e=gR("chartOptions.*.axes.angle-category.label.format",e),e=mR("chartOptions.*.axes.*.label.padding","spacing",e=gR("chartOptions.*.axes.radius-category.label.format",e)),e=gR("chartOptions.*.axes.*.crossLines.label.className",e=mR("chartOptions.*.navigator.miniChart.label.padding","spacing",e)),e=vR("chartOptions.bar.series.label.placement",e=gR("chartOptions.bullet",e=bR("chartOptions.*.axes.*.crossLines.label.position",!0,e,((e,t)=>{"string"==typeof e[t]&&(e[t]=e[t].replace(/([A-Z])/,"-$1").toLowerCase())}))),{inside:"inside-center",outside:"inside-end"}),e=gR("chartOptions.*.navigator.min",e=vR("chartOptions.waterfall.series.item.*.label.placement",e,{inside:"inside-center",start:"outside-start",end:"outside-end"})),e=gR("chartOptions.*.navigator.max",e),e=gR("chartOptions.*.zoom.ratioX",e),e=gR("chartOptions.*.zoom.ratioY",e),e=gR("chartOptions.*.zoom.rangeX",e),gR("chartOptions.*.zoom.rangeY",e)}function nR(e,t,i){if(lR(e)>lR(t.version)){jN&&console.log("AG Grid: ChartModel migration",{migratingTo:e});const r=i(t);return r.version=e,jN&&console.log("AG Grid: ChartModel migration",{migratedTo:e,result:r}),r}return t}function lR(e){const{major:t,minor:i,patch:r}=function(e){const t=e.includes("-beta")?e.replace(/-beta.*/,""):e,i="string"==typeof t?t.split(".").map((e=>Number(e))):[];if(3!==i.length||i.some((e=>isNaN(e))))throw new Error((0,Fy.Imk)(253,{version:t}));return{major:i[0],minor:i[1],patch:i[2]}}(e);return 1e4*t+100*i+r}function cR(e,t,i){return bR(e,!0,i,((e,i)=>{e[i]===t&&delete e[i]}))}function dR(e,t,i){return bR(e,!1,i,((e,i)=>{null==e[i]&&(e[i]=t)}))}function uR(e,t,i){"string"==typeof e&&(e=e.split("."));const r=e[0];return e.length>1&&(i[r]=uR(e.slice(1),t,i[r]??{})),Object.keys(i).includes(r)||(i[r]=t),i}function pR(e,t,i){let r,s=!1;return i=bR(e,!0,i,((e,t)=>{s=!0,r=e[t],delete e[t]})),s?bR(t,!1,i,((e,t)=>{e[t]=r})):i}function hR(e,t,i){let r,s=!1;return i=bR(e,!0,i,((e,t)=>{s=!0,r=e[t],delete e[t]})),s?bR(t,!1,i,((e,t)=>{void 0===e[t]&&(e[t]=r)})):i}function mR(e,t,i){return bR(e,!0,i,((e,i)=>{e[t]=e[i],delete e[i]}))}function gR(e,t){return bR(e,!0,t,((e,t)=>delete e[t]))}function bR(e,t,i,r){const s=e instanceof Array?e:e.split("."),a=s.slice(0,s.length-1),o=s[s.length-1];return fR(a,i,(e=>{const i=Object.keys(e).includes(o);if(t&&!i)return e;const s={...e};return r(s,o),s}))}function fR(e,t,i){const r=e instanceof Array?e:e.split(".");if(t={...t},0===r.length)return i(t);if(r[0].startsWith("{")){const e=r[0].substring(1,r[0].lastIndexOf("}")).split(",");for(const s of e)null!=t[s]&&(t[s]=fR(r.slice(1),t[s],i))}else if(r[0].endsWith("[]")){const s=r[0].substring(0,e[0].indexOf("["));t[s]instanceof Array&&(t[s]=t[s].map((e=>fR(r.slice(1),e,i))))}else if("*"===r[0])for(const e of Object.keys(t))t[e]=fR(r.slice(1),t[e],i);else null!=t[r[0]]&&(t[r[0]]=fR(r.slice(1),t[r[0]],i));return t}function vR(e,t,i){return bR(e,!0,t,((e,t)=>{"string"==typeof e[t]&&(e[t]=i[t]??t)}))}var yR=(e,t)=>({...e,...t}),CR=class extends Fy.AS9{constructor(){super(...arguments),this.beanName="chartSvc",this.activeCharts=new Set,this.activeChartComps=new Set,this.crossFilteringContext={lastSelectedChartId:""},this.isEnterprise=()=>this.agChartsExports.isEnterprise}wireBeans(e){this.visibleCols=e.visibleCols,this.rangeSvc=e.rangeSvc,this.agChartsExports=e.agChartsExports}updateChart(e){if(0===this.activeChartComps.size)return void(0,Fy.F5b)(124);const t=[...this.activeChartComps].find((t=>t.getChartId()===e.chartId));t?t.update(e):(0,Fy.F5b)(125,{chartId:e.chartId})}getChartModels(){const e=[];return this.activeChartComps.forEach((t=>e.push((e=>({...e,version:ww}))(t.getChartModel())))),e}getChartRef(e){let t;return this.activeCharts.forEach((i=>{i.chartId===e&&(t=i)})),t}getChartComp(e){let t;return this.activeChartComps.forEach((i=>{i.getChartId()===e&&(t=i)})),t}getChartImageDataURL(e){let t;return this.activeChartComps.forEach((i=>{i.getChartId()===e.chartId&&(t=i.getChartImageDataURL(e.fileFormat))})),t}downloadChart(e){const t=Array.from(this.activeChartComps).find((t=>t.getChartId()===e.chartId));t?.downloadChart(e.dimensions,e.fileName,e.fileFormat)}openChartToolPanel(e){const t=Array.from(this.activeChartComps).find((t=>t.getChartId()===e.chartId));t?.openChartToolPanel(e.panel)}closeChartToolPanel(e){const t=Array.from(this.activeChartComps).find((t=>t.getChartId()===e));t?.closeChartToolPanel()}createChartFromCurrentRange(e="groupedColumn",t){const i=this.getSelectedRange();return this.createChart({cellRange:i,chartType:e,focusDialogOnOpen:!t})}restoreChart(e,t){if(!e)return void(0,Fy.F5b)(126);let i,r,s,a;return e.version!==ww&&(e=function(e){const t=e.version;return null==e.version&&(e.version=function(e){const t=e;if(null!=e.version)return e.version;const i=(e,...t)=>Object.keys(e||{}).some((e=>t.includes(e))),r=t.chartOptions,s=i(r,"seriesDefaults")?r?.seriesDefaults:r?.[Object.keys(r)[0]],a={"27.0.0":i(t,"seriesChartTypes"),"26.2.0":!i(r,"seriesDefaults"),"26.1.0":i(s?.highlightStyle,"item"),"26.0.0":i(s?.highlightStyle,"series"),"25.1.0":i(s?.label,"minAngle"),"25.0.0":i(t,"modelType","aggFunc","unlinkChart","suppressChartRanges")||i(s,"lineDash","lineDashOffset"),"24.0.0":i(t,"chartThemeName","chart")||i(r,"series"),"23.2.0":i(r,"navigator"),"23.0.0":i(r?.legend?.item?.marker,"shape"),"22.1.0":i(t,"chartPalette","chartType")},o="27.1.0",n=Object.entries(a).filter((([e,t])=>t));jN&&console.log("AG Grid: ChartModel migration",{heuristicVersionCandidates:n});const[l=o]=n[0];return jN&&console.log("AG Grid: ChartModel migration",{heuristicVersion:l}),l}(e)),e=nR("23.0.0",e,KN),e=nR("24.0.0",e,$N),e=nR("25.1.0",e,qN),e=nR("26.0.0",e,YN),e=nR("26.1.0",e,XN),e=nR("26.2.0",e,QN),e=nR("28.0.0",e,ZN),e=nR("28.2.0",e,JN),e=nR("29.0.0",e,eR),e=nR("29.1.0",e,tR),e=nR("29.2.0",e,iR),e=nR("30.0.0",e,rR),e=nR("31.0.0",e,sR),e=nR("32.0.0",e,aR),e=function(e){return e=gR("chartOptions.*.width",e),dR("chartOptions.*.axes.category.label.autoRotate",!0,e=gR("chartOptions.*.height",e))}(e=nR("33.0.0",e,oR)),e=nR(ww,e,(e=>e)),jN&&t!==e.version&&console.log("AG Grid: ChartModel migration complete",{model:e}),e}(e)),"pivot"===e.modelType?(this.gos.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"}),i=this.createCellRange(void 0,!0),r=!0,s=!0):(i=this.createCellRange(e.cellRange),a=e.chartPalette,s=e.suppressChartRanges),i?this.createChart({...e,cellRange:i,pivotChart:r,suppressChartRanges:s,chartContainer:t,chartOptionsToRestore:e.chartOptions,chartPaletteToRestore:a}):void 0}createRangeChart(e,t){const i=this.createCellRange(e.cellRange);if(i)return this.createChart({...e,cellRange:i,focusDialogOnOpen:!t})}createPivotChart(e,t){this.gos.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});const i=this.createCellRange(void 0,!0);if(i)return this.createChart({...e,cellRange:i,pivotChart:!0,suppressChartRanges:!0,focusDialogOnOpen:!t})}createCrossFilterChart(e,t){const i=this.createCellRange(e.cellRange);if(!i)return;const r=!(void 0!==e.suppressChartRanges&&null!==e.suppressChartRanges)||e.suppressChartRanges;return this.createChart({...e,cellRange:i,suppressChartRanges:r,crossFiltering:!0,focusDialogOnOpen:!t})}createChart(e){const t=function(e,t){return vD(e,[mD(t),gD(t)])}(e,this.agChartsExports.isEnterprise);if(!t)return;e=!0===t?e:t;const{chartType:i,chartContainer:r}=e,s=this.gos.getCallback("createChartContainer"),a={...e,chartId:this.generateId(),chartType:$P(i),insideDialog:!(r||s),crossFilteringContext:this.crossFilteringContext,crossFilteringResetCallback:()=>this.activeChartComps.forEach((e=>e.crossFilteringReset()))},o=new WN(a);this.createBean(o);const n=this.createChartRef(o);return r?r.appendChild(n.chartElement):s?s(n):o.addEventListener("destroyed",(()=>{this.activeChartComps.delete(o),this.activeCharts.delete(n)})),n}createChartRef(e){const t={destroyChart:()=>{this.activeCharts.has(t)&&(this.destroyBean(e),this.activeChartComps.delete(e),this.activeCharts.delete(t))},focusChart:()=>{(0,Fy.exX)(e.getGui())},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(t),this.activeChartComps.add(e),t}getSelectedRange(){const e=this.rangeSvc?.getCellRanges();if(!e||0===e.length)return{columns:[]};const t=new Set;let i=Number.MAX_VALUE,r=-Number.MAX_VALUE;if(e.forEach((({startRow:e,endRow:s,columns:a})=>{if(!e||!s)return;a.forEach((e=>t.add(e)));let{rowIndex:o,rowPinned:n}=e,{rowIndex:l,rowPinned:c}=s;if("top"===n){if("top"===c)return;o=0}if("bottom"===c){if("bottom"===n)return;l=this.beans.pageBounds.getLastRow()}void 0!==o&&(i=Math.min(i,o)),void 0!==l&&(r=Math.max(r,l))})),i===Number.MAX_VALUE||r===-Number.MAX_VALUE)return{columns:[]};const s=Array.from(t);return{columns:s,startColumn:s[0],startRow:{rowIndex:i,rowPinned:void 0},endRow:{rowIndex:r,rowPinned:void 0}}}generateId(){return`id-${Math.random().toString(36).substring(2,18)}`}createCellRange(e,t){const i=t?{rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.visibleCols.allCols.map((e=>e.getColId()))}:e,r=i&&this.rangeSvc?.createPartialCellRangeFromRangeParams(i,!0);return r||(0,Fy.F5b)(127,{allRange:t}),r}destroy(){this.activeCharts.forEach((e=>e.destroyChart())),super.destroy()}},kR=28,wR=6;function SR(e){return e&&e.match(/\d+\.\d+\.\d+/)}function xR({type:e,gridVersion:t,chartsVersion:i}){const r="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!t)return r;const s=function(e){if(!e||!SR(e))return;const[t,i]=e.split(".")||[],r=`${t}.${i}.x`,s=parseInt(t,10)-kR+wR;return s<0?void 0:{gridMajorMinor:r,chartsMajorMinor:`${s}.${i}.x`}}(t);if(!s)return r;const{gridMajorMinor:a,chartsMajorMinor:o}=s;return"incompatible"===e?`AG Grid version ${t} and AG Charts version ${i} is not supported. AG Grid version ${a} should be used with AG Chart ${o}. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.`:"invalidCharts"===e?`AG Grid version ${a} should be used with AG Chart ${o} not ${i}. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.`:r}var _R={linked:"linked",unlinked:"unlinked",chartsMenu:"menu-alt",chartsDownload:"save",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",chartsColorPicker:"small-down",chartsThemePrevious:"previous",chartsThemeNext:"next"},ER={getChartModels:function(e){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.getChartModels()))},getChartRef:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.getChartRef(t)))},getChartImageDataURL:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.getChartImageDataURL(t)))},downloadChart:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.downloadChart(t)))},openChartToolPanel:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.openChartToolPanel(t)))},closeChartToolPanel:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.closeChartToolPanel(t.chartId)))},createRangeChart:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.createRangeChart(t,!0)))},createPivotChart:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.createPivotChart(t,!0)))},createCrossFilterChart:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.createCrossFilterChart(t,!0)))},updateChart:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.updateChart(t)))},restoreChart:function(e,t,i){return e.frameworkOverrides.wrapIncoming((()=>e.chartSvc?.restoreChart(t,i)))}},MR=[hT,Sw,Fy.FRw,Fy.BNB,ox],TR=e=>{if(e.setup(),e.setGridContext?.(!0),e.isEnterprise&&e.setLicenseKey){const t={setLicenseKey:e.setLicenseKey};Gy.setChartsLicenseManager(t)}return{moduleName:"IntegratedCharts",version:ww,icons:_R,apiFunctions:ER,dependsOn:MR,css:['.ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{background:var(--ag-background-color);background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);border-radius:var(--ag-border-radius);display:flex;flex-direction:row;gap:20px;padding:4px 2px;position:absolute;top:8px;width:auto;--ag-icon-size:20px}:where(.ag-ltr) .ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}:where(.ag-rtl) .ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}:where(.ag-chart-menu-hidden)~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden;position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:"";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;border-top:1px solid var(--ag-border-color);display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:8px;position:relative;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:" ";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow:hidden auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;padding-bottom:var(--ag-widget-container-vertical-padding);position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{border:1px solid var(--ag-border-color);border-radius:5px;cursor:pointer;padding:1px;&.ag-selected{border-color:var(--ag-accent-color);border-width:2px;padding:unset}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section{border-bottom:1px solid var(--ag-border-color);display:flex;margin:0;padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding);position:relative}.ag-charts-data-group-item:where(:not(:last-child)){margin-bottom:var(--ag-spacing)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group-item:where(:not(.ag-charts-format-sub-level-group,.ag-pill-select,.ag-select)){height:var(--ag-list-item-height)}.ag-charts-data-group-item:where(.ag-picker-field){margin-top:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;:where(.ag-chart-mini-thumbnail:nth-child(3n+1)){grid-column:1}:where(.ag-chart-mini-thumbnail:nth-child(3n+2)){grid-column:3}:where(.ag-chart-mini-thumbnail:nth-child(3n+3)){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0;:where(.ag-label:not(.ag-group-title-bar)){color:var(--ag-chart-menu-label-color)}:where(.ag-label-align-top .ag-label){margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}:where(.ag-slider.ag-label-align-top .ag-label){margin-bottom:0}:where(label){display:inline-block}}.ag-chart-menu-panel{--ag-panel-background-color:var(--ag-chrome-background-color)}:where(.ag-ltr) .ag-chart-menu-panel{border-left:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-chart-menu-panel{border-right:1px solid var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500;padding:var(--ag-widget-vertical-spacing) 0}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container{margin:0;padding:0}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:relative}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:1px solid var(--ag-border-color)}:where(.ag-charts-data-group) .ag-charts-data-group-container,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container,:where(.ag-charts-settings-group) .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-charts-advanced-settings-top-level-group-container{margin:0}:where(.ag-charts-advanced-settings-top-level-group){.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-border-color);border-radius:12px;display:block;height:24px;position:relative;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;position:absolute;top:4px;width:6px}.ag-slider-wrapper{display:flex;:where(.ag-input-field){flex:1 1 auto}}.ag-color-panel{display:flex;flex-direction:column;padding:var(--ag-spacing);text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0));cursor:pointer}.ag-spectrum-dragger{background:#000;border:3px solid #fff;border-radius:18px;box-shadow:0 0 2px 0 rgba(0,0,0,.24);cursor:pointer;height:18px;pointer-events:none;position:absolute;width:18px}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>\') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{border-radius:2px;cursor:pointer;height:11px;margin-bottom:10px;position:relative}.ag-spectrum-slider{border:2px solid #fff;border-radius:13px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:13px;margin-top:-12px;pointer-events:none;position:absolute;width:13px}:where(.ag-spectrum-alpha) .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin-bottom:2px;margin-left:var(--ag-spacing);margin-right:var(--ag-spacing)}.ag-recent-color{border:1px solid var(--ag-border-color);cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}:where(.ag-ltr) .ag-angle-select-field,:where(.ag-ltr) .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-angle-select-field,:where(.ag-rtl) .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-color-dialog{border-radius:5px}:where(.ag-color-picker){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}:where(.ag-ltr) .ag-color-picker-color,:where(.ag-ltr) .ag-color-picker-value{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-color-picker-color,:where(.ag-rtl) .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-spectrum-tools{padding-bottom:0;padding-left:0;padding-right:0}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:4px}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:where(:not(:disabled,[readonly])):focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-color-input-color,.ag-color-picker-color{border:1px solid var(--ag-border-color);border-radius:2px;height:var(--ag-icon-size);width:var(--ag-icon-size)}:where(.ag-color-input){.ag-color-input-color{position:absolute}}:where(.ag-ltr) :where(.ag-color-input){.ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-color-input){.ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-right:var(--ag-spacing)}}.ag-range-field{align-items:center;display:flex;:where(.ag-input-wrapper){height:100%}}.ag-range-field-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&:disabled{opacity:.5}}.ag-range-field-input{&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}}.ag-range-field-input{&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-ag-range-thumb{-moz-appearance:none;appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-moz-ag-range-track{background-color:var(--ag-accent-color)}}'],validate:()=>function({gridVersion:e,chartsVersion:t}){if(!SR(t))return{isValid:!1,message:xR({type:"invalidCharts",gridVersion:e,chartsVersion:t})};if(!SR(e))return{isValid:!1,message:xR({type:"invalidGrid",gridVersion:e,chartsVersion:t})};const[i,r]=e.split(".")||[],[s,a,o]=t.split(".")||[],n=function({gridMajorVersion:e,chartsMajorVersion:t}){const i=parseInt(e,10),r=parseInt(t,10),s=i-kR;return s===r-wR&&s>=0}({gridMajorVersion:i,chartsMajorVersion:s});return n&&r===a||o.includes("beta")?{isValid:!0}:n&&r===a?{isValid:!1,message:xR({type:"invalid",gridVersion:e,chartsVersion:t})}:{isValid:!1,message:xR({type:"incompatible",gridVersion:e,chartsVersion:t})}}({gridVersion:ww,chartsVersion:e.VERSION}),beans:[NP.bind(null,e),CR,tD,XA,qA,JA,MA,KA]}},PR=[Fy.ea9,AM,r_,uE,$M,iT,M_,T_,hT,A_,FM,kM,wM,SM,yP,CP,Q_,kE,FS,rx,cE,_M,TT,JT,IP],AR="AllEnterprise",DR={with:e=>({moduleName:AR,version:ww,dependsOn:[...PR,TR(e),EP(e)]}),moduleName:AR,version:ww,dependsOn:PR};const IR=e=>{const{error:t}=e;return o.createElement("pre",null,JSON.stringify(t,null,2))},NR=()=>o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"}},o.createElement(Ya.LoadingDots,null)),RR="(empty value)",LR="-",FR=" > ",OR=[],BR=[],zR=[],VR=[],GR={},UR=[],HR=100,WR="measureGroup_name",jR="measureGroup_value",KR=async(e,t,i)=>{const{onLoadingChanged:r,pushData:s,onExportReady:o}=t,{measureGroupDimension:n,columnHeadersPosition:l,pageSize:c=HR}=i;if(r&&r({isLoading:!1}),s||o)try{s&&await(async(e,t,i,r,s)=>{const o=await e.readWindow([0,0],[i,1e3]),n=a.DataViewFacade.for(o),l=function(e,t="columns",i="top"){const r="rows"===t&&"left"===i?1:0;return{measures:e.meta().measureDescriptors().map((t=>({measure:t,attributes:e.meta().attributeDescriptors()}))),attributes:e.meta().attributeDescriptorsForDim(r).map(((e,t,i)=>({attribute:e,intersectionAttributes:(0,a.getIntersectionAttributes)(e,i)})))}}(n,r,s);t({dataView:n.dataView,availableDrillTargets:l})})(e,s,c,n,l),o&&((e,t)=>{t((0,a.createExportFunction)(e,void 0))})(e,o)}catch(e){console.error("Error processing execution result:",e)}},$R="|",qR={theme:Fy.TKz},YR=vt({},qR,{groupDisplayType:"multipleColumns"},{autoSizeStrategy:{type:"fitCellContents"},defaultColDef:{resizable:!0,autoHeight:!0,autoHeaderHeight:!0}},{cellSelection:{handle:{mode:"range"}}},{defaultColDef:{wrapText:!0,wrapHeaderText:!0}},{suppressAggFuncInHeader:!0},{cacheBlockSize:100},{defaultColDef:{sortable:!0,sortingOrder:["desc","asc",null]}});function XR(e,t){if("attribute"===t.type)return(0,s.newAttributeSort)(t.attributeDescriptor.attributeHeader.localIdentifier,e);if("value"===t.type&&1===t.columnScope.length&&"measureScope"===t.columnScope[0].type)return(0,s.newMeasureSort)(t.columnScope[0].descriptor.measureHeaderItem.localIdentifier,e);if("value"===t.type||"subtotal"===t.type){const i=[],r=[],o=[];if(t.columnScope.forEach((e=>{"attributeScope"===e.type?i.push({attributeLocatorItem:{attributeIdentifier:e.descriptor.attributeHeader.localIdentifier,element:e.header.attributeHeaderItem.name}}):"attributeTotalScope"===e.type?r.push({totalLocatorItem:{attributeIdentifier:e.descriptor.attributeHeader.localIdentifier,totalFunction:e.header.totalHeaderItem.type}}):"measureScope"!==e.type&&"measureTotalScope"!==e.type||o.push({measureLocatorItem:{measureIdentifier:e.descriptor.measureHeaderItem.localIdentifier}})})),!o.length)throw new a.UnexpectedSdkError(`No measure locators found for column definition: ${JSON.stringify(t)}`);return(0,s.newMeasureSortFromLocators)([...i,...r,...o],e)}throw new a.UnexpectedSdkError(`Unexpected column definition type for sorting: ${t.type}`)}function QR(e,t,i){return"attribute"===e.type?e.attributeDescriptor.attributeHeader.localIdentifier:"value"===e.type||"subtotal"===e.type||"grandTotal"===e.type?function(e,t,i){const r=[],s=[],a=[];e.forEach((e=>{"attributeScope"===e.type?(r.push(e.descriptor.attributeHeader.formOf.name),s.push(e.header.attributeHeaderItem.formattedName??e.header.attributeHeaderItem.name??"(empty value)")):"attributeTotalScope"===e.type?(r.push(e.descriptor.attributeHeader.formOf.name),s.push(e.header.totalHeaderItem.name)):"measureScope"===e.type?s.push(e.descriptor.measureHeaderItem.localIdentifier):"measureTotalScope"===e.type&&s.push(e.descriptor.measureHeaderItem.name)}));const o=r.join(FR);return!("left"===i&&t)&&o&&a.push(o),s.length&&a.push(...s),a.join($R)}(e.columnScope,t,i):"measureGroupHeader"===e.type?t&&"left"===i?e.attributeDescriptors.map((e=>e.attributeHeader.formOf.name)).join($R):WR:"measureGroupValue"===e.type?jR:((0,s.assertNever)(e),"")}function ZR(e){const{config:t=GR}=e;return t}function JR(e){return ZR(e).measureGroupDimension??"columns"}function eL(e){return ZR(e).columnHeadersPosition??"top"}function tL(e){const{columns:t=OR}=e;return t.length>0}function iL(e){const t=function(e){const{columns:t=OR}=e;return t}(e),i=function(e){const{rows:t=OR}=e;return t}(e),r=function(e){const{measures:t=BR}=e;return t}(e),s=function(e){const{filters:t=zR}=e;return t}(e),a=function(e){const{sortBy:t=UR}=e;return t}(e),o=function(e){const{totals:t=VR}=e;return t}(e);return{columns:t,rows:i,measures:r,filters:s,sortBy:a,totals:o}}const rL=e=>{const{executionResult:t}=e,i=tL(e),r=eL(e),{rows:s,measures:n,sortBy:l}=iL(e);return{rowModelType:"serverSide",serverSideDatasource:(0,o.useMemo)((()=>(({measures:e,rows:t,sortBy:i,executionResult:r,isPivotMode:s,columnHeadersPosition:o="top"})=>{const n=new AbortController;let l=!0,c={};return{destroy:()=>{n.abort()},getRows:async n=>{const d=n.request.startRow??0,u=n.request.endRow??100,p=n.request.sortModel,h=function(e,t,i,r){if(e&&(!t||0===t.length)&&i.length>0)return i;if(!t||0===t.length)return[];const s=[];for(const e of t){const{colId:t,sort:i}=e;if(!t||!i)continue;const a=r[t];if(a){const e=XR(i,a);s.push(e)}else console.warn(`No column definition found for colId: ${t}`)}return s}(l,p,i,c);let m=r;st(h,i)||(m=await r.transform().withSorting(...h).execute()),async function({executionResult:e,startRow:t,endRow:i}){const r=await e.readWindow([t,0],[i-t,1e3]);return a.DataViewFacade.for(r)}({executionResult:m,startRow:d,endRow:u}).then((i=>{const{rowData:r,grandTotalRowData:a,pivotResultFields:l,columnDefinitionByColId:d}=function(e,t="top"){const i=e.data().asTable(),r={},s=[];i.columnDefinitions.forEach((e=>{const a=QR(e,i.isTransposed,t);s.push(a),r[a]=e}));const a=[],o=[];return i.data.forEach(((e,r)=>{const s={};e.forEach((e=>{const r=QR(e.columnDefinition,i.isTransposed,t);s[r]=e.formattedValue})),"grandTotal"===i.rowDefinitions[r].type?o.push(s):a.push(s)})),{columnDefinitionByColId:r,rowData:a,grandTotalRowData:o,pivotResultFields:i.isPivoted?s:[]}}(i,o),[u,p]=i.dataView.totalCount,h={rowData:r,rowCount:0===e.length&&0===t.length?0:u};s&&(h.pivotResultFields=l),c=d,n.success(h),n.api.setGridOption("pinnedBottomRowData",a)})).catch((()=>{n.fail()})).finally((()=>{l=!1}))}}})({rows:s,measures:n,sortBy:l,isPivotMode:i,executionResult:t,columnHeadersPosition:r})),[r,t,i,n,s,l]),serverSidePivotResultFieldSeparator:$R}};function sL(e){return e.value||LR}const aL={field:WR,headerName:"",suppressHeaderMenuButton:!0,sortable:!1,cellStyle:{textAlign:"right"},valueGetter:e=>e.data?.[WR],cellRenderer:sL},oL={field:jR,headerName:"",suppressHeaderMenuButton:!0,sortable:!1,cellStyle:{textAlign:"right"},valueGetter:e=>e.data?.[jR],cellRenderer:sL};function nL(e){(0,o.useMemo)((()=>{Fy.O3h.registerModules([DR])}),[]);const{executionResult:t,pushData:i}=e,r=rL({...e,executionResult:t}),a=JR(e),{sortBy:n,rows:l,measures:c}=iL(e),d=t?.dimensions?function(e,t,i){const r=[];return e.forEach(((e,a)=>{e.headers.forEach((e=>{if((0,s.isAttributeDescriptor)(e)){const t=1===a,o=i?.find((t=>!!(0,s.isAttributeSort)(t)&&t.attributeSortItem.attributeIdentifier===e.attributeHeader.localIdentifier));r.push(function(e,t,i){const r=e.attributeHeader.localIdentifier,a={field:r,headerName:e.attributeHeader.formOf.name,pivot:t,valueGetter:e=>e.data?.[r],cellRenderer:e=>{const t=e.value;if(!t)return RR;const i=e.node.rowIndex,s=i?e.api.getDisplayedRowAtIndex(i-1):null,a=s?.data?.[r];return a&&a===t?null:t}};if(i&&(0,s.isAttributeSort)(i)&&i.attributeSortItem.attributeIdentifier===r){const e=(0,s.sortDirection)(i);a.sort=e}return a}(e,t,o))}else(0,s.isMeasureGroupDescriptor)(e)&&("columns"===t?e.measureGroupHeader.items.forEach((e=>{const t=i?.find((t=>{if(!(0,s.isAttributeSort)(t)){const i=t.measureSortItem.locators.find(s.isMeasureLocator);return i?.measureLocatorItem.measureIdentifier===e.measureHeaderItem.localIdentifier}return!1}));r.push(function(e,t){const i=e.measureHeaderItem.localIdentifier,r={field:i,headerName:e.measureHeaderItem.name,cellStyle:{textAlign:"right"},valueGetter:e=>e.data?.[i],cellRenderer:sL};if(t&&!(0,s.isAttributeSort)(t)){const e=t.measureSortItem.locators.find(s.isMeasureLocator);if(e&&e.measureLocatorItem.measureIdentifier===i){const e=(0,s.sortDirection)(t);r.sort=e}}return r}(e,t))})):"rows"===t&&r.push(aL,oL))}))})),r}(t.dimensions,a,n):[],u=tL(e),p=(0,o.useCallback)((e=>{if(!i)return;const t=function(e,t,i){if(!e||0===e.length)return[];const r=[];for(const a of e){const{colId:e,sort:o}=a;if(!e||!o)continue;const n=t.find((t=>(0,s.attributeLocalId)(t)===e));if(n){r.push((0,s.newAttributeSort)(n,o));continue}const l=i.find((t=>(0,s.measureLocalId)(t)===e));l?r.push((0,s.newMeasureSort)(l,o)):console.warn(`No matching attribute or measure found for colId: ${e}`)}return r}(e.api.getColumnState().filter((e=>null!==e.sort)).map((e=>({colId:e.colId,sort:e.sort}))),l,c);i({properties:{sortItems:t}})}),[i,l,c]);return o.createElement(Ly.s,{...YR,...r,columnDefs:d,pivotMode:u,onSortChanged:p})}const lL=o.memo((function(e){const{execution:t,onLoadingChanged:i,pushData:r,onExportReady:s,pageSize:n=HR}=e,l=JR(e),c=eL(e),{result:d,status:u,error:p}=((e,t={},i={})=>{const{onLoadingChanged:r}=t;return(0,a.useCancelablePromise)({promise:t=>e.withSignal(t).execute(),enableAbortController:!0,onLoading:r?()=>r({isLoading:!0}):void 0,onSuccess:e=>KR(e,t,i),onError:r?()=>r({isLoading:!1}):void 0},[e.fingerprint()])})(t,{onLoadingChanged:i,pushData:r,onExportReady:s},{measureGroupDimension:l,columnHeadersPosition:c,pageSize:n});return"error"===u?o.createElement(IR,{error:p}):"pending"===u||"loading"===u?o.createElement(NR,null):o.createElement(nL,{...e,executionResult:d})}),((e,t)=>{const i=e.execution.fingerprint()!==t.execution.fingerprint(),r=!st(e.config,t.config),s=!st(e.measures,t.measures),a=!st(e.rows,t.rows),o=!st(e.columns,t.columns),n=!st(e.filters,t.filters),l=!st(e.sortBy,t.sortBy),c=e.theme!==t.theme;return!(i||r||s||a||o||n||l||c)}));const cL=e=>Ur(e,[a.BucketNames.COLUMNS,a.BucketNames.STACK,a.BucketNames.SEGMENT],[y,v]),dL=e=>Ur(e,[a.BucketNames.ATTRIBUTE,a.BucketNames.ATTRIBUTES,a.BucketNames.ATTRIBUTE_FROM,a.BucketNames.ATTRIBUTE_TO,a.BucketNames.VIEW,a.BucketNames.TREND,a.BucketNames.LOCATION],[y,v]),uL=(e,t,i,r)=>{const s=t.map((e=>e.localIdentifier)),a=i.map((e=>e.localIdentifier)),o=r.map((e=>e.localIdentifier));return pL(e,s,a,o)},pL=(e,t,i,r)=>e.reduce(((e,a)=>{if((0,s.isMeasureSort)(a)){const i={measureSortItem:{...a.measureSortItem,locators:a.measureSortItem.locators.filter((e=>(0,s.isMeasureLocator)(e)?rt(t,e.measureLocatorItem.measureIdentifier):!!(0,s.isAttributeLocator)(e)&&rt(r,e.attributeLocatorItem.attributeIdentifier)))}};return i.measureSortItem.locators.some((e=>(0,s.isMeasureLocator)(e)))&&i.measureSortItem.locators.length===r.length+1&&e.push(i),e}return rt(i,a.attributeSortItem.attributeIdentifier)?[...e,a]:e}),[]),hL=(e,t,i,r,a=[])=>{if(i.length<1)return e;const o=i[0],n=r?.[0];return e.some((e=>!(!mL(e,t,a)||(0,s.isAttributeSort)(e)&&(e.attributeSortItem.attributeIdentifier===o.localIdentifier&&"asc"===e.attributeSortItem.direction||n&&e.attributeSortItem.attributeIdentifier===n.localIdentifier&&"asc"===e.attributeSortItem.direction))))?e:[(0,s.newAttributeSort)(o.localIdentifier,"asc")]},mL=(e,t,i)=>!!(0,s.isAttributeSort)(e)||((e,t,i)=>t.filter(_r).filter((e=>i.some((t=>(0,s.areObjRefsEqual)(t.dfRef,e.displayFormRef))))).every((t=>!t.isInverted===((e,t)=>!!t.selectedElements&&t.selectedElements.some((t=>e.measureSortItem.locators.some((e=>(0,s.isAttributeLocator)(e)&&e.attributeLocatorItem.element===t.uri)))))(e,t))))(e,t,i),gL=(e,t)=>"rows"===t?e?e.filter((e=>!(0,s.isMeasureSort)(e))):[]:e??[],bL=e=>{const t=(0,s.insightSorts)(e),i=Pa((0,s.insightProperties)(e));if(!c(t))return fL(t,(0,s.insightBuckets)(e),i);const r=(0,s.insightBucket)(e,a.BucketNames.ATTRIBUTE),o=r&&(0,s.bucketAttribute)(r);return o?[(0,s.newAttributeSort)(o,"asc")]:void 0},fL=(e,t,i)=>{const r=gL(e,i),o=(0,s.bucketsMeasures)(t).map(s.measureLocalId),n=(0,s.bucketsFind)(t,a.BucketNames.ATTRIBUTE),l=n?(0,s.bucketAttributes)(n).map(s.attributeLocalId):[],c=(0,s.bucketsFind)(t,a.BucketNames.COLUMNS),d=c?(0,s.bucketAttributes)(c).map(s.attributeLocalId):[];return pL(r,o,l,d)},vL=e=>e.measureColumnWidthItem.locators.some((e=>(0,s.isMeasureLocator)(e))),yL=(e,t,i)=>e.measureColumnWidthItem.locators.filter((e=>(0,s.isMeasureLocator)(e)?rt(t,e.measureLocatorItem.measureIdentifier):(0,s.isAttributeLocator)(e)?rt(i,e.attributeLocatorItem.attributeIdentifier):!!(0,s.isTotalLocator)(e)&&rt(i,e.totalLocatorItem.attributeIdentifier))),CL=(e,t)=>e.every((e=>t.includes(e.measureLocatorItem.measureIdentifier))),kL=(e,t,i,r,a,o,n,l,c)=>e?e.reduce(((e,d)=>{if((0,Vm.isMeasureColumnWidthItem)(d)){const i={measureColumnWidthItem:{...d.measureColumnWidthItem,locators:yL(d,t,r)}};let u=[];if(l?(u=[],i.measureColumnWidthItem.locators.forEach((e=>{(0,s.isAttributeLocator)(e)&&r.forEach((t=>{t===e.attributeLocatorItem.attributeIdentifier&&u.push(t)})),(0,s.isTotalLocator)(e)&&r.forEach((t=>{t===e.totalLocatorItem.attributeIdentifier&&u.push(t)}))}))):u=r,o){const t=(e=>{if((0,Vm.isAbsoluteColumnWidth)(e.measureColumnWidthItem.width)&&1===e.measureColumnWidthItem.locators.length&&(0,s.isMeasureLocator)(e.measureColumnWidthItem.locators[0]))return{measureColumnWidthItem:{width:e.measureColumnWidthItem.width,locator:e.measureColumnWidthItem.locators.filter(s.isMeasureLocator)[0]}}})(d);if(t)return e.push(t),e}const p="rows"!==c?i:d;if(((e,t,i)=>!(0,Vm.isMeasureColumnWidthItem)(e)||((e,t,i)=>t.filter(_r).filter((e=>i.some((t=>(0,s.areObjRefsEqual)(t.dfRef,e.displayFormRef))))).every((t=>!t.isInverted===((e,t)=>t.selectedElements.some((t=>e.measureColumnWidthItem.locators.some((e=>(0,s.isAttributeLocator)(e)&&e.attributeLocatorItem.element===t.uri||(0,s.isTotalLocator)(e))))))(e,t))))(e,t,i))(i,a,n)&&((e,t,i,r)=>{const s=e.measureColumnWidthItem.locators.length,a=s>0,o=t>0&&vL(e),n=0===t&&!vL(e);return"rows"!==r?a&&(o&&s===i+1||n&&s===i):a&&s===t+i})(p,t.length,u.length,c))return e.push(p),e}else if((0,Vm.isAttributeColumnWidthItem)(d)){if(rt(i,d.attributeColumnWidthItem.attributeIdentifier))return e.push(d),e}else{if(((0,Vm.isAllMeasureColumnWidthItem)(d)||(0,Vm.isWeakMeasureColumnWidthItem)(d))&&t.length>0)return e.push(d),e;(0,Vm.isSliceMeasureColumnWidthItem)(d)?CL(d.sliceMeasureColumnWidthItem.locators,t)&&e.push(d):(0,Vm.isMixedValuesColumnWidthItem)(d)&&CL(d.mixedValuesColumnWidthItem.locators,t)&&e.push(d)}return e}),[]):e,wL=(e,t)=>((e,t)=>{const i=t.some(Tr),r=t.some(Mr);return e.filter((e=>!((e,t,i)=>(0,s.totalIsNative)(e)&&(t||i))(e,i,r)))})(e,t),SL=["measureGroupDimension"];class xL extends Km{renderFun;unmountFun;settings;backendCapabilities;constructor(e){super(e),this.renderFun=e.renderFun,this.unmountFun=e.unmountFun,this.settings=e.featureFlags??{},this.onColumnResized=this.onColumnResized.bind(this),this.handlePushData=this.handlePushData.bind(this),this.supportedPropertiesList=se,this.propertiesAffectingReferencePoint=SL,this.initializeProperties(e.visualizationProperties),this.backendCapabilities=e.backend.capabilities}unmount(){this.unmountFun([this.getElement(),this.getConfigPanelElement()])}getExtendedReferencePoint(e,t){const i={...n(e),uiConfig:{buckets:{measures:{...Ce},attribute:{...ke,allowsSwapping:!0,allowsReordering:!0,itemsLimit:he,allowsDuplicateDates:!0,itemsLimitByType:{date:he}},columns:{...ke,allowsSwapping:!0,allowsReordering:!0,itemsLimit:he,allowsDuplicateDates:!0,itemsLimitByType:{date:he}},...xe},...Te,...Ee,supportedOverTimeComparisonTypes:[a.OverTimeComparisonTypes.SAME_PERIOD_PREVIOUS_YEAR,a.OverTimeComparisonTypes.PREVIOUS_PERIOD],recommendations:{supportsFilteringRecommendation:!1}}},r=i.buckets,s=function(e,t){const i=e?.enablePivotTableIncreaseBucketSize;return Us(t)&&i?me:pe}(this.settings,r),o=$r(fs(r,s,!0),[b]),c=dL(r),d=t&&dL(t.buckets),u=cL(r),p=t&&cL(t.buckets),h=i.filters?lt(i.filters.items,(e=>e.filters)):[],m=wL(Yr(r,a.BucketNames.ATTRIBUTE),h),f=wL(Yr(r,a.BucketNames.COLUMNS),h);i.buckets=qr([{localIdentifier:a.BucketNames.MEASURES,items:o},{localIdentifier:a.BucketNames.ATTRIBUTE,items:c,...m.length>0?{totals:m}:null},{localIdentifier:a.BucketNames.COLUMNS,items:u,...f.length>0?{totals:f}:null}]);const v=i.properties?.controls?.columnWidths,y=i.properties?.controls?.measureGroupDimension,C=gL(i.properties?.sortItems,y),k=((e,t,i)=>e.properties?.controls?.columnHeadersPosition&&(t.length>0||"columns"===i))(i,c,y)?"top":i.properties?.controls?.columnHeadersPosition,w=((e,t,i,r,s,a,o,n)=>{const l=t.map((e=>e.localIdentifier)),c=i.map((e=>e.localIdentifier)),d=r.map((e=>e.localIdentifier)),u=s.map((e=>e.localIdentifier)),p=a.map((e=>e.localIdentifier)),h=c.filter((e=>!p.includes(e))),m=d.filter((e=>!u.includes(e))),g=0===a.length&&1===r.length;return kL(e,l,h,m,o,g,r,!1,n)})(v,o,c,u,d||[],p||[],h,y),S={...i.properties?.controls,...w&&{columnWidths:w},...y&&{measureGroupDimension:y},...k&&{columnHeadersPosition:k}};return i.properties={sortItems:hL(uL(C,o,c,u),h,c,d,u),controls:S},function(e,t,i,r){const s=e?.buckets??[];if(l(e,be,zr(e,i,t)),r?.enablePivotTableTransposition){const i=yt("rows"===e.properties?.controls?.measureGroupDimension?kr.inRows.id:kr.inColumns.id,t);l(e,[be,g,a.BucketNames.MEASURES,"subtitle"],i)}if(r?.enablePivotTableIncreaseBucketSize){const i=aa(s),r=oa(s),o=Gs(s),c=Us(s);l(e,[be,g,a.BucketNames.MEASURES,"canAddItems"],i),l(e,[be,g,a.BucketNames.ATTRIBUTE,"canAddItems"],r),l(e,[be,g,a.BucketNames.COLUMNS,"canAddItems"],o),l(e,[be,g,a.BucketNames.MEASURES,"itemsLimit"],c?me:pe),l(e,[be,g,a.BucketNames.ATTRIBUTE,"itemsLimit"],c?ge:he),l(e,be,function(e,t){const i=e?.buckets,r=n(e?.uiConfig),s=!Us(i);return it(i,(e=>{const i=e?.localIdentifier??"",o=r?.buckets?.[i];if(!o?.canAddItems){let o,n={};if(e.localIdentifier===a.BucketNames.COLUMNS?(o=kr.columns.id,n={oldLimit:pe,oldRowsLimit:he}):s&&(o=kr.measuresAttributes.id,n=e.localIdentifier===a.BucketNames.MEASURES?{limit:me-pe}:{limit:ge-he}),o){const e=yt(o,t,n);l(r,[g,i,"warningMessage"],e)}}})),r}(e,t))}else l(e,[be,g,a.BucketNames.MEASURES,"canAddItems"],!0),l(e,[be,g,a.BucketNames.ATTRIBUTE,"canAddItems"],!0),l(e,[be,g,a.BucketNames.COLUMNS,"canAddItems"],!0);l(e,[be,g,a.BucketNames.MEASURES,"icon"],"local:table/bucket-title-measures.svg"),l(e,[be,g,a.BucketNames.ATTRIBUTE,"icon"],"local:table/bucket-title-rows.svg"),l(e,[be,g,a.BucketNames.COLUMNS,"icon"],"local:table/bucket-title-columns.svg")}(i,this.intl,a.VisualizationTypes.TABLE,this.settings),la(i,!1),na(i,!!this.settings?.enableWeekFilters),Object.assign(i,Ca(i,this.supportedPropertiesList)),Promise.resolve(Pr(i))}getInsightWithDrillDownApplied(e,t,i){const r=eg(Qm(e,t.drillDefinition),t.event.drillContext.intersection,i,this.settings?.enableDuplicatedLabelValuesInAttributeFilter);return Zm((0,s.insightSanitize)(r))}getSanitizedConfig(e,t){return function(e,t,i){return i.enableTableTransposition||"rows"!==t?.measureGroupDimension&&"rows"!==Pa((0,s.insightProperties)(e))?t:{...t||{},measureGroupDimension:"columns"}}(e,t,this.settings)}getExecution(e,t,i){const{dateFormat:r,executionConfig:s,customVisualizationConfig:a}=e,o=this.getSanitizedConfig(t,a);return i.forInsight(t).withDimensions(...this.getDimensions(t,o)).withSorting(...bL(t)??[]).withDateFormat(r).withExecConfig(s)}initializeProperties(e){const t=e?.controls,i={supportedProperties:{controls:ba(t,this.supportedPropertiesList)}};this.pushData({initialProperties:i})}createCorePivotTableProps=()=>({intl:this.intl,ErrorComponent:null,LoadingComponent:null,onDrill:this.onDrill,afterRender:this.afterRender,onLoadingChanged:this.onLoadingChanged,pushData:this.handlePushData,onError:this.onError,onExportReady:this.onExportReady,onDataView:this.onDataView,onColumnResized:this.onColumnResized});updateInstanceProperties(e,t,i){super.updateInstanceProperties(e,t,i),this.visualizationProperties=(0,s.insightProperties)(t),this.adaptPropertiesToInsight(this.visualizationProperties,this.currentInsight)}renderVisualization(e,t,i){if(!(0,s.insightHasDataDefined)(t))return;const{customVisualizationConfig:r={},theme:n}=e,l=this.getExecution(e,t,i),c=(0,s.insightBucket)(t,a.BucketNames.MEASURES),d=(0,s.insightBucket)(t,a.BucketNames.ATTRIBUTE),u=(0,s.insightBucket)(t,a.BucketNames.COLUMNS),p=c?(0,s.bucketMeasures)(c):[],h=d?(0,s.bucketAttributes)(d):[],m=u?(0,s.bucketAttributes)(u):[],g=(0,s.insightFilters)(t)||[],b=bL(t),f={...r,measureGroupDimension:Pa((0,s.insightProperties)(t))||"columns",columnHeadersPosition:Ho(t)?Aa((0,s.insightProperties)(t)):"top"},v={...this.createCorePivotTableProps(),execution:l,measures:p,rows:h,columns:m,filters:g,sortBy:b,config:f,theme:n};this.renderFun(o.createElement(lL,{...v}),this.getElement())}renderConfigurationPanel(e,t){const i=this.getConfigPanelElement();if(i){const r=this.visualizationProperties??{},a=r.sortItems?{...r,sortItems:fL(r.sortItems,(0,s.insightBuckets)(e),Pa(r))}:r,n={supportsAttributeHierarchies:this.backendCapabilities.supportsAttributeHierarchies};this.renderFun(o.createElement(Cv,{locale:this.locale,properties:a,propertiesMeta:this.propertiesMeta,insight:e,pushData:this.handlePushData,isError:this.getIsError(),isLoading:this.isLoading,featureFlags:this.settings,panelConfig:n,configurationPanelRenderers:t.custom?.configurationPanelRenderers}),i)}}getDimensions(e,t){return Wm(e,a.VisualizationTypes.TABLE,t)}adaptPropertiesToInsight(e,t){const i=Pa(e),r=Ta(e);r&&this.sanitizeColumnWidths(r,t,e,i)}sanitizeColumnWidths(e,t,i,r){if(c((0,s.insightBuckets)(t)))return;const o=((e,t,i)=>{const r=(0,s.insightBucket)(t,a.BucketNames.ATTRIBUTE),o=(0,s.insightBucket)(t,a.BucketNames.COLUMNS),n=(0,s.insightMeasures)(t).map(s.measureLocalId),l=r?(0,s.bucketAttributes)(r).map(s.attributeLocalId):[],c=o?(0,s.bucketAttributes)(o).map(s.attributeLocalId):[];return kL(e,n,l,c,[],!1,[],!0,i)})(e,t,r);st(e,o)||(this.visualizationProperties.controls.columnWidths=o,this.pushData({properties:{controls:{columnWidths:o,...Ra(this.settings,i)}}}))}onColumnResized(e){const t=this.visualizationProperties??{};this.pushData({properties:{controls:{columnWidths:e,...Ra(this.settings,t)}}})}handlePushData(e){if(e?.properties?.sortItems){const t={sortItems:e.properties.sortItems,...e.properties.controls&&{controls:e.properties.controls},...e.properties.totals&&{totals:e.properties.totals,bucketType:e.properties.bucketType}};this.pushData({properties:t})}else this.pushData(e)}}class _L{mapping;constructor(e){this.mapping=e}forUri(e,t){const i=t&&"local:table"===e?"local:tablenext":e,r=this.findInMapping(i);return r?new r:(console.warn(`Unknown visualization class: ${e}. The reason may be that the visualization type is incompatible with dashboard plugins. Try removing the plugins from this dashboard or use different visualization type.`),new gy(e))}hasDescriptorForUri(e){return!!this.findInMapping(e)}forInsight(e,t){const i=(0,s.insightVisualizationUrl)(e);return this.forUri(i,t)}hasDescriptorForInsight(e){const t=(0,s.insightVisualizationUrl)(e);return this.hasDescriptorForUri(t)}findInMapping(e){const t=e.split(":"),i=r(t);return this.mapping[i]}}const EL={bar:class extends kg{getFactory(){return e=>new Eb(e)}applyDrillDown(e,t,i,r){return Qm(this.addFiltersForColumnBar(e,t.drillDefinition,t.event,i,r),t.drillDefinition)}getEmbeddingCode=Gg({component:{importType:"named",name:"BarChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:sb("viewBy",a.BucketNames.VIEW),stackBy:rb("stackBy",a.BucketNames.STACK),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/bar_chart_component.html",supportsExport:!0,supportsZooming:!0}}adjustIntersectionForColumnBar(e,t){const i=(0,s.insightBucket)(e,a.BucketNames.STACK),r=i&&!(0,s.bucketIsEmpty)(i),o=t.drillContext.intersection;return r?wb(o):o}addFiltersForColumnBar(e,t,i,r,s){const o=Ym(t),n=this.adjustIntersectionForColumnBar(e,i);return eg(e,(0,a.getIntersectionPartAfter)(n,o),r,s)}},bullet:class extends kg{getFactory(){return e=>new Nb(e)}applyDrillDown(e,t,i,r){return Qm(this.addFiltersForBullet(e,t.drillDefinition,t.event,i,r),t.drillDefinition)}getEmbeddingCode=Gg({component:{importType:"named",name:"BulletChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({primaryMeasure:nb("primaryMeasure",a.BucketNames.MEASURES),targetMeasure:nb("targetMeasure",a.BucketNames.SECONDARY_MEASURES),comparativeMeasure:nb("comparativeMeasure",a.BucketNames.TERTIARY_MEASURES),viewBy:sb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/bullet_chart_component.html",supportsExport:!0,supportsZooming:!0}}addFiltersForBullet(e,t,i,r,s){const o=Ym(t);return eg(e,(0,a.getIntersectionPartAfter)(i.drillContext.intersection,o),r,s)}},column:class extends kg{getFactory(){return e=>new Rb(e)}applyDrillDown(e,t,i,r){return Qm(this.addFiltersForColumnBar(e,t.drillDefinition,t.event,i,r),t.drillDefinition)}getEmbeddingCode=Gg({component:{importType:"named",name:"ColumnChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:sb("viewBy",a.BucketNames.VIEW),stackBy:rb("stackBy",a.BucketNames.STACK),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/column_chart_component.html",supportsExport:!0,supportsZooming:!0}}adjustIntersectionForColumnBar(e,t){const i=(0,s.insightBucket)(e,a.BucketNames.STACK),r=i&&!(0,s.bucketIsEmpty)(i),o=t.drillContext.intersection;return r?wb(o):o}addFiltersForColumnBar(e,t,i,r,s){const o=Ym(t),n=this.adjustIntersectionForColumnBar(e,i);return eg(e,(0,a.getIntersectionPartAfter)(n,o),r,s)}},line:class extends kg{getFactory(){return e=>new pv(e)}applyDrillDown(e,t,i,r){return Qm(this.addFilters(e,t.drillDefinition,t.event,i,r),t.drillDefinition)}getEmbeddingCode=Gg({component:{importType:"named",name:"LineChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),trendBy:rb("trendBy",a.BucketNames.TREND),segmentBy:rb("segmentBy",a.BucketNames.SEGMENT),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),forecastConfig:kb("forecastConfig"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/line_chart_component.html",supportsExport:!0,supportsZooming:!0}}addFilters(e,t,i,r,s){return eg(e,Jm(t,i.drillContext.intersection),r,s)}},area:class extends wg{getFactory(){return e=>new sg(e)}applyDrillDown(e,t,i,r){return Qm(this.addFilters(e,t.drillDefinition,t.event,i,r),t.drillDefinition)}getEmbeddingCode=Gg({component:{importType:"named",name:"AreaChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:sb("viewBy",a.BucketNames.VIEW),stackBy:rb("stackBy",a.BucketNames.STACK),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/area_chart_component.html",supportsExport:!0,supportsZooming:!0}}addFilters(e,t,i,r,s){return eg(e,Jm(t,i.drillContext.intersection),r,s)}},pie:class extends kg{getFactory(){return e=>new Yb(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"PieChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:rb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/pie_chart_component.html",supportsExport:!0,supportsZooming:!1}}},donut:class extends kg{getFactory(){return e=>new Zb(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"DonutChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:rb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/donut_chart_component.html",supportsExport:!0,supportsZooming:!1}}},table:class extends kg{getFactory(){return e=>new Ov(e)}getSizeInfo(e,t,i){return{width:{default:i.enableFlexibleDashboardLayout?4:t.gridColumnsCount,min:2,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(i),min:this.getMinHeight(i),max:this.getMaxHeight(i)}}}getMinHeight(e){const{enableKDWidgetCustomHeight:t,enableFlexibleDashboardLayout:i}=e;return t?i?7:12:ag}applyDrillDown(e,t,i,r){const a=eg(Qm(e,t.drillDefinition),t.event.drillContext.intersection,i,r);return Zm((0,s.insightSanitize)(a))}getEmbeddingCode=Gg({component:{importType:"named",name:"PivotTable",package:"@gooddata/sdk-ui-pivot"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),rows:sb("rows",a.BucketNames.ATTRIBUTE),columns:sb("columns",a.BucketNames.COLUMNS),filters:cb("filters"),sortBy:db("sortBy"),totals:ub("totals"),config:Hg("config",{typeImport:{importType:"named",name:"IPivotTableConfig",package:"@gooddata/sdk-ui-pivot"},cardinality:"scalar"},Gv),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:jv});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/pivot_table_component.html",supportsExport:!0,supportsZooming:!1}}},headline:class{getFactory(){return e=>new sv(e)}getSizeInfo(e,t,i){return{width:{default:2,min:2,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(e,i.enableKDWidgetCustomHeight),min:this.getMinHeight(e,i.enableKDWidgetCustomHeight),max:this.getMaxHeight(e,i.enableKDWidgetCustomHeight)}}}getDefaultHeight(e,t){return t?cv(e)?11:8:og}getMinHeight(e,t){return t?cv(e)?10:6:og}getMaxHeight(e,t){return t?40:og}applyDrillDown(e){return e}getEmbeddingCode=Gg({component:{importType:"named",name:"Headline",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({primaryMeasure:ab("primaryMeasure",a.BucketNames.MEASURES),secondaryMeasures:nv("secondaryMeasures",a.BucketNames.SECONDARY_MEASURES),secondaryMeasure:ov("secondaryMeasure",a.BucketNames.SECONDARY_MEASURES),filters:cb("filters"),locale:pb("locale"),execConfig:hb("execConfig"),config:Hg("config",{typeImport:{importType:"named",name:"IChartConfig",package:"@gooddata/sdk-ui-charts"},cardinality:"scalar"},av)})});getMeta(e){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/headline_component.html",supportsExport:e?.enableHeadlineExport??!0,supportsZooming:!1}}},scatter:class extends wg{getFactory(){return e=>new Qv(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"ScatterPlot",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({xAxisMeasure:ab("xAxisMeasure",a.BucketNames.MEASURES),yAxisMeasure:ab("yAxisMeasure",a.BucketNames.SECONDARY_MEASURES),attribute:rb("attribute",a.BucketNames.ATTRIBUTE),segmentBy:rb("segmentBy",a.BucketNames.SEGMENT),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/scatter_plot_component.html",supportsExport:!0,supportsZooming:!0}}},bubble:class extends wg{getFactory(){return e=>new Pb(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"BubbleChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({xAxisMeasure:ab("xAxisMeasure",a.BucketNames.MEASURES),yAxisMeasure:ab("yAxisMeasure",a.BucketNames.SECONDARY_MEASURES),size:ab("size",a.BucketNames.TERTIARY_MEASURES),viewBy:rb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/bubble_chart_component.html",supportsExport:!0,supportsZooming:!0}}},heatmap:class extends wg{getFactory(){return e=>new uv(e)}applyDrillDown(e,t,i,r){return Qm(this.addFilters(e,t.drillDefinition,t.event,i,r),t.drillDefinition)}getEmbeddingCode=Gg({component:{importType:"named",name:"Heatmap",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measure:nb("measure",a.BucketNames.MEASURES),rows:rb("rows",a.BucketNames.VIEW),columns:rb("columns",a.BucketNames.STACK),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/heatmap_component.html",supportsExport:!0,supportsZooming:!0}}addFilters(e,t,i,r,s){const o=Ym(t);return eg(e,(i.drillContext.intersection||[]).filter((e=>(0,a.isDrillIntersectionAttributeItem)(e.header)&&e.header.attributeHeader.localIdentifier===o)),r,s)}},combo:class extends wg{getFactory(){return e=>new $b(e)}getMeta(){return{supportsExport:!0,supportsZooming:!0}}},combo2:class extends wg{getFactory(){return e=>new Hb(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"ComboChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({primaryMeasures:ob("primaryMeasures",a.BucketNames.MEASURES),secondaryMeasures:ob("secondaryMeasures",a.BucketNames.SECONDARY_MEASURES),viewBy:sb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/combo_chart_component.html",supportsExport:!0,supportsZooming:!0}}},treemap:class extends wg{getFactory(){return e=>new Jv(e)}applyDrillDown(e,t,i,r){return Qm(this.addFilters(e,t.drillDefinition,t.event,i,r),t.drillDefinition)}getEmbeddingCode=Gg({component:{importType:"named",name:"Treemap",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:rb("viewBy",a.BucketNames.VIEW),segmentBy:rb("segmentBy",a.BucketNames.SEGMENT),filters:cb("filters"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/treemap_component.html",supportsExport:!0,supportsZooming:!0}}addFilters(e,t,i,r,s){return eg(e,Jm(t,i.drillContext.intersection),r,s)}},funnel:class extends kg{getFactory(){return e=>new tf(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"FunnelChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:rb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{supportsExport:!0,supportsZooming:!1}}},pyramid:class extends kg{getFactory(){return e=>new af(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"PyramidChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:rb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{supportsExport:!0,supportsZooming:!1}}},pushpin:class extends kg{getFactory(){return e=>new ly(e)}getSizeInfo(e,t,i){return{width:{default:6,min:6,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(i),min:this.getDefaultHeight(i),max:this.getMaxHeight(i)}}}getDefaultHeight(e){const{enableKDWidgetCustomHeight:t}=e;return t?22:ag}getMaxHeight(e){const{enableKDWidgetCustomHeight:t}=e;return t?40:ag}getEmbeddingCode=Gg({component:{importType:"named",name:"GeoPushpinChart",package:"@gooddata/sdk-ui-geo"},insightToProps:jg({location:uy("location",a.BucketNames.LOCATION),latitude:uy("latitude",a.BucketNames.LATITUDE),longitude:uy("longitude",a.BucketNames.LONGITUDE),size:nb("size",a.BucketNames.SIZE),color:nb("color",a.BucketNames.COLOR),segmentBy:rb("segmentBy",a.BucketNames.SEGMENT),filters:cb("filters"),sortBy:db("sortBy"),config:Hg("config",{typeImport:{importType:"named",name:"IGeoConfig",package:"@gooddata/sdk-ui-geo"},cardinality:"scalar"},dy),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb({getColorMappingPredicatePackage:"@gooddata/sdk-ui-geo"})});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/geo_pushpin_chart_component.html",supportsExport:!0,supportsZooming:!1}}},sankey:vy,dependencywheel:class extends vy{getFactory(){return e=>new Cy(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"DependencyWheelChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measure:nb("measure",a.BucketNames.MEASURES),attributeFrom:rb("attributeFrom",a.BucketNames.ATTRIBUTE_FROM),attributeTo:rb("attributeTo",a.BucketNames.ATTRIBUTE_TO),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()})},waterfall:class extends kg{getFactory(){return e=>new Ty(e)}getEmbeddingCode=Gg({component:{importType:"named",name:"WaterfallChart",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measures:lb("measures",a.BucketNames.MEASURES),viewBy:rb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),sortBy:db("sortBy"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/waterfall_chart_component.html",supportsExport:!0,supportsZooming:!1}}},repeater:class extends kg{getFactory(){return e=>new Ry(e)}getSizeInfo(e,t,i){return{width:{default:i.enableFlexibleDashboardLayout?4:t.gridColumnsCount,min:2,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(i),min:this.getMinHeight(i),max:this.getMaxHeight(i)}}}getMinHeight(e){const{enableKDWidgetCustomHeight:t,enableFlexibleDashboardLayout:i}=e;return t?i?7:12:ag}getEmbeddingCode=Gg({component:{importType:"named",name:"Repeater",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({attribute:rb("attribute",a.BucketNames.ATTRIBUTE),columns:lb("columns",a.BucketNames.COLUMNS),viewBy:rb("viewBy",a.BucketNames.VIEW),filters:cb("filters"),config:yb("config"),locale:pb("locale"),execConfig:hb("execConfig")}),additionalFactories:fb()});getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/repeater_chart_component.html",supportsExport:!1,supportsZooming:!1}}},tablenext:class extends kg{getFactory(){return e=>new xL(e)}getSizeInfo(e,t,i){return{width:{default:i.enableDashboardFlexibleLayout?4:t.gridColumnsCount,min:2,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(i),min:this.getMinHeight(i),max:this.getMaxHeight(i)}}}getMinHeight(e){const{enableKDWidgetCustomHeight:t,enableDashboardFlexibleLayout:i}=e;return t?i?6:12:ag}applyDrillDown(e,t,i,r){const a=eg(Qm(e,t.drillDefinition),t.event.drillContext.intersection,i,r);return Zm((0,s.insightSanitize)(a))}getMeta(){return{documentationUrl:"https://sdk.gooddata.com/gooddata-ui/docs/pivot_table_component.html",supportsExport:!0,supportsZooming:!1}}}},ML=(new _L(EL),new _L({...EL,xirr:class{getFactory(){return e=>new ty(e)}getSizeInfo(e,t,i){return{width:{default:2,min:2,max:t.gridColumnsCount},height:{default:this.getDefaultHeight(i.enableKDWidgetCustomHeight),min:this.getMinHeight(i.enableKDWidgetCustomHeight),max:this.getMaxHeight(i.enableKDWidgetCustomHeight)}}}getDefaultHeight(e){return e?8:og}getMinHeight(e){return e?6:og}getMaxHeight(e){return e?40:og}applyDrillDown(e){return e}getEmbeddingCode=Gg({component:{importType:"named",name:"Xirr",package:"@gooddata/sdk-ui-charts"},insightToProps:jg({measure:ab("measure",a.BucketNames.MEASURES),attribute:rb("attribute",a.BucketNames.ATTRIBUTE),filters:cb("filters"),locale:pb("locale"),execConfig:hb("execConfig")})});getMeta(){return{supportsExport:!1,supportsZooming:!1}}}}));class TL{type;gridColumnsCount=12;gridRowHeight=20;toGridHeight(e){return Math.round(e/this.gridRowHeight)}toHeightInPx(e){return e*this.gridRowHeight}}const PL=new TL,AL=e=>{const t=new Jn.z({max:5});return{forWorkspace(i){let r=t.get(i);return r||(r=e(i),t.set(i,r)),r},reset(){t.clear()}}};class DL{workspace;cachedColorPalette;constructor(e){this.workspace=e}getColorPalette(e){return this.cachedColorPalette||(this.cachedColorPalette=e.workspace(this.workspace).styling().getColorPalette().catch((e=>{throw this.cachedColorPalette=void 0,e}))),this.cachedColorPalette}}const IL=AL((e=>new DL(e)));class NL{workspace;insightCache=new Jn.z({max:20});constructor(e){this.workspace=e}getInsight(e,t){const i=(0,s.objRefToString)(t);let r=this.insightCache.get(i);return r||(r=e.workspace(this.workspace).insights().getInsight(t).catch((e=>{throw this.insightCache.delete(i),e})),this.insightCache.set(i,r)),r}}const RL=AL((e=>new NL(e)));class LL{workspace;cachedUserWorkspaceSettings;constructor(e){this.workspace=e}getUserWorkspaceSettings(e){return this.cachedUserWorkspaceSettings||(this.cachedUserWorkspaceSettings=e.workspace(this.workspace).settings().getSettingsForCurrentUser().catch((e=>{throw this.cachedUserWorkspaceSettings=void 0,e}))),this.cachedUserWorkspaceSettings}}const FL=AL((e=>new LL(e)));function OL(){[IL,RL,FL].forEach((e=>e.reset()))}var BL=i(6870),zL=i(16028);class VL extends BL.Z{componentDidUpdate(e,t,i){JSON.stringify(e)===JSON.stringify(this.props)&&(e=this.props),super.componentDidUpdate?.(e,t,i)}}const GL=zL()(VL);var UL=({title:e})=>o.createElement("div",{className:"insight-title-outer"},o.createElement("div",{className:"insight-title"},o.createElement(GL,{text:e,maxLine:2,ellipsis:"...",className:"item-headline-inner s-headline"}))),HL=i(58695),WL=i(47745),jL=i(14057);class KL extends jL.oO{filters;constructor(e,t=[]){super(e),this.filters=t}forItems(e,t=[],i){return super.forItems(e,this.filters.concat(t),i)}forBuckets(e,t=[],i){return super.forBuckets(e,this.filters.concat(t),i)}forInsight(e,t=[],i){return super.forInsight(e,this.filters.concat(t),i)}forInsightByRef(e,t=[],i){return super.forInsightByRef(e,this.filters.concat(t),i)}}class $L extends jL.oO{constructor(e){super(e)}forInsight(e,t,i){return(0,s.isInsight)(e)?this.forInsightByRef(e,t,i):super.forInsight(e,t,i)}}let qL=null;function YL(e){qL=e}const XL={height:"100%",display:"flex",flex:"1 1 auto",flexDirection:"column"};class QL extends o.PureComponent{elementId=(()=>`gd-vis-${(0,qo.Z)()}`)();visualization;containerRef=o.createRef();reactRootsMap=new Map;static defaultProps={ErrorComponent:a.ErrorComponent,filters:[],drillableItems:[],LoadingComponent:a.LoadingComponent,pushData:Qa,locale:a.DefaultLocale,afterRender:()=>{}};unmountVisualization=()=>{this.visualization&&this.visualization.unmount(),this.visualization=void 0};updateVisualization=()=>{if(!this.visualization||!this.containerRef.current)return;if(!this.props.insight)return;const{config:e={}}=this.props,{responsiveUiDateFormat:t}=this.props.settings??{},i={locale:this.props.locale,dateFormat:t,custom:{drillableItems:this.props.drillableItems,lastSavedVisClassUrl:(0,s.insightVisualizationUrl)(this.props.insight)},config:{separators:e.separators,colorPalette:this.props.colorPalette,mapboxToken:e.mapboxToken,forceDisableDrillOnAxes:e.forceDisableDrillOnAxes,isInEditMode:e.isInEditMode,isExportMode:e.isExportMode,enableExecutionCancelling:e.enableExecutionCancelling},executionConfig:this.props.execConfig,customVisualizationConfig:e,theme:this.props.theme},r=(0,s.insightVisualizationType)(this.props.insight);let o=(0,a.fillMissingFormats)((0,a.fillMissingTitles)(this.props.insight,this.props.locale));"repeater"!==r&&(o=(0,a.ignoreTitlesForSimpleMeasures)(o)),this.visualization.update(i,o,{},this.getExecutionFactory())};setupVisualization=async()=>{if(!this.props.insight)return;this.unmountVisualization();const e=ML.forInsight(this.props.insight,this.props.settings?.enableNewPivotTable??!1).getFactory();this.visualization=e({backend:this.props.backend,callbacks:{onError:e=>{this.props.onError?.(e),this.props.onLoadingChanged?.({isLoading:!1})},onLoadingChanged:this.props.onLoadingChanged,pushData:this.props.pushData,onDrill:this.props.onDrill,onDataView:this.props.onDataView,onExportReady:this.onExportReadyDecorator,afterRender:this.props.afterRender},configPanelElement:()=>(this.containerRef.current?.getRootNode()??document).querySelector(".gd-configuration-panel-content"),element:()=>(this.containerRef.current?.getRootNode()??document).querySelector(`#${this.elementId}`),environment:"dashboards",locale:this.props.locale,projectId:this.props.workspace,visualizationProperties:(0,s.insightProperties)(this.props.insight),featureFlags:this.props.settings,renderFun:this.getReactRenderFunction(),unmountFun:this.getReactUnmountFunction()})};getReactRenderFunction=()=>qL?(e,t)=>{this.reactRootsMap.get(t)||this.reactRootsMap.set(t,qL(t)),this.reactRootsMap.get(t).render(e)}:HL.render;getReactUnmountFunction=()=>qL?()=>this.reactRootsMap.forEach((e=>e.render(null))):e=>function(e=[],{unmount:t,documentInstance:i}={unmount:HL.unmountComponentAtNode,documentInstance:document}){e.forEach((e=>{const r="string"==typeof e?i.querySelector(e):e;r&&t(r)}))}(e);onExportReadyDecorator=e=>{this.props.onExportReady&&this.props.onExportReady((t=>t.title||!this.props.insight?e(t):e({...t,title:(0,s.insightTitle)(this.props.insight)})))};getExecutionFactory=()=>{const e=this.props.backend.workspace(this.props.workspace).execution();return this.props.executeByReference?new $L(new KL(e,this.props.filters)):e};componentDidMountInner=async()=>(await this.setupVisualization(),this.updateVisualization());componentDidMount(){this.componentDidMountInner()}componentDidUpdateInner=async e=>{const t=e.insight&&(0,s.insightSetProperties)(e.insight,{}),i=this.props.insight&&(0,s.insightSetProperties)(this.props.insight,{});return(!st(i,t)||!st(this.props.filters,e.filters)||!st(this.props.settings,e.settings)||this.props.workspace!==e.workspace)&&await this.setupVisualization(),this.updateVisualization()};componentDidUpdate(e){this.componentDidUpdateInner(e)}componentWillUnmount(){this.unmountVisualization(),qL&&this.reactRootsMap.forEach((e=>setTimeout((()=>e.unmount()),0)))}render(){return o.createElement("div",{className:"visualization-uri-root",id:this.elementId,ref:this.containerRef,style:XL})}}const ZL=WL(pr,yl.Zz,a.withContexts)(QL);function JL(e){const t=(0,o.useRef)(e);return(0,o.useEffect)((()=>{t.current=e}),[e]),(0,o.useCallback)(((...e)=>{t.current&&t.current(...e)}),[])}const eF=e=>{const{pushData:t,onDrill:i,onError:r,onExportReady:s,onLoadingChanged:n,onDataView:l,...c}=e,d=JL(t),u=JL(i),p=JL(r),h=JL(s),m=JL(n),g=JL(l);return o.createElement(a.IntlWrapper,{locale:e.locale},o.createElement(ZL,{pushData:d,onDrill:u,onError:p,onExportReady:h,onLoadingChanged:m,onDataView:g,...c}))},tF=pr((({error:e,ErrorComponent:t=a.ErrorComponent,height:i,intl:r,clientHeight:s})=>{const n=(0,o.useMemo)((()=>(0,a.newErrorMapping)(r)),[r]),l=(0,o.useMemo)((()=>n[e.getMessage()]??{message:e.message}),[n,e]);return o.createElement(t,{...l,height:i,clientHeight:s})})),iF=(0,ny.withMapboxToken)((0,a.withContexts)(pr((e=>{const{insight:t,backend:i,workspace:r,filters:n,executeByReference:l,showTitle:c,colorPalette:d,config:u,execConfig:p,locale:h,drillableItems:m,onDrill:g,onLoadingChanged:b,onExportReady:f,onError:v,onDataView:y,onInsightLoaded:C,pushData:k,ErrorComponent:w=a.ErrorComponent,LoadingComponent:S=a.LoadingComponent,TitleComponent:x=UL}=e,[_,E]=(0,o.useState)({isVisualizationLoading:!1,visualizationError:void 0}),M=(0,o.useRef)(),{error:T,result:P,status:A}=(0,a.useCancelablePromise)({promise:async()=>{const e="string"==typeof t?(0,s.idRef)(t,"insight"):t,a=await RL.forWorkspace(r).getInsight(i,e);return M.current&&(0,s.areObjRefsEqual)(M.current,(0,s.insightRef)(a))||(C?.(a),M.current=(0,s.insightRef)(a)),l?a:i.workspace(r).insights().getInsightWithAddedFilters(a,n??[])},onError:e=>{const t=(0,a.convertError)(e);v?.(t)}},[t,i,r,l,n,C]),{error:D,result:I,status:N}=(0,a.useCancelablePromise)({promise:()=>IL.forWorkspace(r).getColorPalette(i)},[i,r]),{error:R,result:L,status:F}=(0,a.useCancelablePromise)({promise:()=>FL.forWorkspace(r).getUserWorkspaceSettings(i)},[i,r]),O=P&&(0,s.insightVisualizationUrl)(P),B=(0,o.useMemo)((()=>{const t={...e};return O&&(t[`visualizationUrl_${O}`]=!0),i.withTelemetry("InsightView",t)}),[O,i]),z=(0,o.useCallback)((({isLoading:e})=>{E((t=>({isVisualizationLoading:e,visualizationError:e?void 0:t.visualizationError}))),b?.({isLoading:e})}),[b]),V=(0,o.useCallback)((e=>{E((t=>({...t,visualizationError:e}))),v?.(e)}),[v]),G="loading"===A||"pending"===A||"loading"===N||"pending"===N||"loading"===F||"pending"===F,U=(e=>{switch(typeof c){case"string":return c;case"boolean":return!G&&c&&e?(0,s.insightTitle)(e):void 0;case"function":return!G&&e&&c(e);default:return}})(P),H=G||_.isVisualizationLoading,W=_.visualizationError||T||D||R;return o.createElement("div",{className:"insight-view-container"},U?o.createElement(x,{title:U}):null,H?o.createElement(S,{className:"insight-view-loader"}):null,W&&!G?o.createElement(tF,{error:(0,a.convertError)(W),ErrorComponent:w}):null,o.createElement("div",{className:"insight-view-visualization",style:H?{height:0}:void 0},o.createElement(eF,{insight:P,workspace:r,backend:B,colorPalette:d??I,config:u,execConfig:p,drillableItems:m,executeByReference:l,filters:n,locale:h||(0,a.resolveLocale)(L?.locale),settings:L,ErrorComponent:w,LoadingComponent:S,onDrill:g,onError:V,onExportReady:f,onLoadingChanged:z,onDataView:y,pushData:k})))})))),rF=e=>{const t=function(e){const{backend:t,insight:i}=e;let r;return"string"==typeof i?r=i:(0,s.isIdentifierRef)(i)?r=i.identifier:(0,s.isUriRef)(i)&&(r=i.uri),(0,a.useBackendWithCorrelation)(t,{visualizationId:r})}(e);return o.createElement(a.IntlWrapper,{locale:e.locale},o.createElement(iF,{...e,backend:t}))};function sF(e){const t=(0,a.resolveLocale)(e?.settings?.locale);return{value:t!==a.DefaultLocale?t:void 0,meta:{cardinality:"scalar"}}}const aF=(e=!0)=>({component:{importType:"named",name:"InsightView",package:"@gooddata/sdk-ui-ext"},insightToProps:(t,i)=>{const r={insight:{value:(0,s.insightId)(t),meta:{cardinality:"scalar"}},showTitle:{value:(0,s.insightTitle)(t),meta:{cardinality:"scalar"}},execConfig:{value:i?.executionConfig&&Zg(i.executionConfig),meta:{cardinality:"scalar",typeImport:{importType:"named",name:"IExecutionConfig",package:"@gooddata/sdk-model"}}},locale:sF(i)};return e&&(r.config=function(e){return t=e,"pushpin"===(0,s.insightVisualizationUrl)(t).split(":")[1]?{value:{mapboxToken:"<fill your Mapbox token here>"},meta:{cardinality:"scalar",typeImport:{importType:"named",name:"IGeoConfig",package:"@gooddata/sdk-ui-geo"}}}:{value:gb(e),meta:{typeImport:{importType:"named",name:"IChartConfig",package:"@gooddata/sdk-ui-charts"},cardinality:"scalar"}};var t}(t)),r}}),oF=Gg(aF(!1)),nF=(Gg(aF()),"<hostName>"),lF="<workspaceId>",cF="<insightTitle>",dF="<insightId>",uF="<locale>",pF="<customHeight>",hF=`\x3c!-- Load the library... --\x3e\n<script type="module" src="https://${nF}/components/${lF}.js?auth=sso"><\/script>\n\x3c!-- ...and embed visualization --\x3e\n\n<gd-insight\n    insight="${dF}"${cF}${uF}${pF}\n></gd-insight>`;function mF(e){const{locale:t,openSaveInsightDialog:i,onClose:r,onCopyCode:s,showWebComponentsTab:n}=e,{code:l,documentationLink:c,integrationDocLink:d,currentTab:u,codeOption:p,onTabChange:h,onOptionsChange:m}=gF(e);return o.createElement(a.IntlWrapper,{locale:t},o.createElement(CF,null,o.createElement(Ya.EmbedInsightDialogBase,{code:l,propertiesLink:c,showWebComponentsTab:n,integrationDocLink:d,openSaveInsightDialog:i,onClose:r,onCopyCode:s,embedTab:u,onTabChange:h,embedTypeOptions:p,onOptionsChange:m})))}const gF=e=>{const{insight:t,backend:i,settings:r,colorPalette:s,theme:a,executionConfig:n,reactIntegrationDocLink:l,webComponentIntegrationDocLink:c,workspaceId:d}=e,[u,p]=(0,o.useState)("react"),[h,m]=(0,o.useState)((0,Ya.getDefaultEmbedTypeOptions)(u));(0,o.useEffect)((()=>{m((0,Ya.getDefaultEmbedTypeOptions)(u))}),[u]);const g=(0,o.useMemo)((()=>{const e="react"===h.type&&"definition"===h.componentType;if(!t.insight.identifier&&!e)return null;const o={insight:t,settings:r,backend:i,colorPalette:s,theme:a,executionConfig:n,workspaceId:d};return"react"===h.type?fF({...o,codeOption:h}):vF({...o,codeOption:h})}),[h,t,r,i,s,a,n,d]),b=(0,o.useMemo)((()=>"react"===h.type?bF(h.componentType,t):bF("definition",t)),[t,h]),f=(0,o.useMemo)((()=>"react"===u?l:c),[u,l,c]),v=(0,o.useCallback)((e=>{p(e)}),[]),y=(0,o.useCallback)((e=>m(e)),[]);return{code:g,documentationLink:b,integrationDocLink:f,currentTab:u,codeOption:h,onTabChange:v,onOptionsChange:y}},bF=(e,t)=>{if("definition"===e){const e=ML.forInsight(t).getMeta();if(e?.documentationUrl)return`${e?.documentationUrl}#properties`}return"https://sdk.gooddata.com/gooddata-ui/docs/visualization_component.html#properties"},fF=e=>{const{backend:t,codeOption:i,colorPalette:r,theme:s,executionConfig:a,insight:o,settings:n}=e,l=(0,Ya.getHeightWithUnitsForEmbedCode)(i),c={context:{settings:n,backend:t,colorPalette:r,theme:s,executionConfig:a},language:i.codeType,height:l,omitChartProps:i.displayConfiguration?[]:["config"]};if("definition"===i.componentType){const e=ML.forInsight(o);return e.getEmbeddingCode?.(o,c)}return oF(o,c)},vF=e=>{const{codeOption:t,insight:i,workspaceId:r}=e,s=(0,Ya.getHeightWithUnitsForEmbedCode)(t);return((e,t,i)=>{const{displayTitle:r,customTitle:s,height:a,locale:o,allowLocale:n}=i,l=`${a}${"number"==typeof a?"px":""}`;return hF.replace(nF,window.location.hostname).replace(lF,e).replace(dF,t.insight.identifier).replace(cF,r?`\n    title="${s?"Custom insight title":t.insight.title}"`:"").replace(uF,n?`\n    locale="${o}"`:"").replace(pF,`\n    style="height: ${l}"`)})(r,i,{...t,height:s})},yF=[{align:"cc cc"}],CF=e=>{const{children:t}=e;return o.createElement(Ya.Overlay,{alignPoints:yF,isModal:!0,positionType:"fixed"},t)};function kF(e){return!("object"!=typeof e||null===e||void 0!==e.default&&"number"!=typeof e.default||void 0!==e.min&&"number"!=typeof e.min||void 0!==e.max&&"number"!=typeof e.max)}function wF(e){return!("object"!=typeof e||null===e||"number"!=typeof e.default||void 0!==e.min&&"number"!=typeof e.min||void 0!==e.max&&"number"!=typeof e.max)}function SF(e){return"object"==typeof e&&null!==e&&wF(e.width)&&wF(e.height)}const xF={workspaces:{id:"userManagement.tab.workspaces"},userGroups:{id:"userManagement.tab.groups"},details:{id:"userManagement.tab.details"},dataSources:{id:"userManagement.tab.dataSources"}},_F={workspaces:{id:"userManagement.tab.workspaces"},users:{id:"userManagement.tab.users"},details:{id:"userManagement.tab.details"},dataSources:{id:"userManagement.tab.dataSources"}},EF={createUserGroupDialogTitle:{id:"userManagement.createUserGroup.dialogTitle"},createUserGroupButton:{id:"userManagement.createUserGroup.createButton"},cancelUserGroupButton:{id:"userManagement.createUserGroup.cancelButton"},createUserGroupInputPlaceholder:{id:"userManagement.createUserGroup.inputPlaceholder"},userGroupDeleteSuccess:{id:"userManagement.userGroups.deleteSuccess"},userGroupDeleteFailure:{id:"userManagement.userGroups.deleteFailure"},userGroupsDeleteSuccess:{id:"userManagement.multipleUserGroups.deleteSuccess"},userGroupsDeleteFailure:{id:"userManagement.multipleUserGroups.deleteFailure"},userGroupCreatedSuccess:{id:"userManagement.createUserGroup.createSuccess"},userGroupCreatedFailure:{id:"userManagement.createUserGroup.createFailure"},userLoadingErrorTitle:{id:"userManagement.users.loadingError.title"},userLoadingErrorNotExist:{id:"userManagement.users.loadingError.notExist"},userLoadingErrorUnknown:{id:"userManagement.users.loadingError.unknown"},userGroupLoadingErrorTitle:{id:"userManagement.userGroups.loadingError.title"},userGroupLoadingErrorNotExist:{id:"userManagement.userGroups.loadingError.notExist"},userGroupLoadingErrorUnknown:{id:"userManagement.userGroups.loadingError.unknown"},userDeleteSuccess:{id:"userManagement.users.deleteSuccess"},userDeletedFailure:{id:"userManagement.users.deleteFailure"},usersDeleteSuccess:{id:"userManagement.multipleUsers.deleteSuccess"},usersDeletedFailure:{id:"userManagement.multipleUsers.deleteFailure"},workspaceAddedSuccess:{id:"userManagement.workspace.addSuccess"},workspaceAddedError:{id:"userManagement.workspace.addError"},dataSourceAddedSuccess:{id:"userManagement.dataSource.addSuccess"},dataSourceAddedError:{id:"userManagement.dataSource.addError"},workspacesAddedToUsersSuccess:{id:"userManagement.users.multipleWorkspaces.addSuccess"},workspacesAddedToUsersError:{id:"userManagement.users.multipleWorkspaces.addError"},workspacesAddedToUserGroupsSuccess:{id:"userManagement.userGroups.multipleWorkspaces.addSuccess"},workspacesAddedToUserGroupsError:{id:"userManagement.userGroups.multipleWorkspaces.addError"},workspaceRemovedSuccess:{id:"userManagement.workspace.removeSuccess"},workspaceRemovedFailure:{id:"userManagement.workspace.removeError"},workspaceChangeSuccess:{id:"userManagement.workspace.changeSuccess"},workspaceChangeFailure:{id:"userManagement.workspace.changeError"},userGroupAddedSuccess:{id:"userManagement.userGroup.addSuccess"},userGroupAddedFailure:{id:"userManagement.userGroup.addError"},userGroupsAddedSuccess:{id:"userManagement.multipleUserGroup.addSuccess"},userGroupsAddedFailure:{id:"userManagement.multipleUserGroup.addError"},userGroupRemovedSuccess:{id:"userManagement.userGroup.removeSuccess"},userGroupRemoveFailure:{id:"userManagement.userGroup.removeError"},usersAddedSuccess:{id:"userManagement.users.addSuccess"},usersAddedFailure:{id:"userManagement.users.addFailure"},usersAddedToUserGroupsSuccess:{id:"userManagement.users.addToUserGroupsSuccess"},usersAddedToUserGroupsFailure:{id:"userManagement.users.addToUserGroupsFailure"},usersRemovedSuccess:{id:"userManagement.users.removeSuccess"},usersRemovedFailure:{id:"userManagement.users.removeFailure"},userDetailsUpdatedSuccess:{id:"userManagement.userDetails.updatedSuccess"},userDetailsUpdatedFailure:{id:"userManagement.userDetails.updatedFailure"},userGroupDetailsUpdatedSuccess:{id:"userManagement.groupDetails.updatedSuccess"},userGroupDetailsUpdatedFailure:{id:"userManagement.groupDetails.updatedFailure"},addWorkspaceButton:{id:"userManagement.buttons.addWorkspace"},addUserGroupButton:{id:"userManagement.buttons.addToGroup"},addUserButton:{id:"userManagement.buttons.addUser"},addDataSourcePermissionButton:{id:"userManagement.buttons.addDataSourcePermission"},editUserButton:{id:"userManagement.buttons.edit"},editUserGroupButton:{id:"userManagement.buttons.edit"},deleteUserLink:{id:"userManagement.users.deleteLink"},deleteUserGroupLink:{id:"userManagement.userGroups.deleteLink"},deleteUserConfirmTitle:{id:"userManagement.deleteDialog.user.title"},deleteUserConfirmBody:{id:"userManagement.deleteDialog.user.body"},deleteUserDisabledTooltip:{id:"userManagement.deleteDialog.user.disabledTooltip"},deleteUsersConfirmTitle:{id:"userManagement.deleteDialog.multipleUsers.title"},deleteUsersConfirmBody:{id:"userManagement.deleteDialog.multipleUsers.body"},deleteUserGroupConfirmTitle:{id:"userManagement.deleteDialog.group.title"},deleteAdminUserGroupTooltip:{id:"userManagement.deleteDialog.userGroup.adminDisabledTooltip"},deleteNonEmptyUserGroupTooltip:{id:"userManagement.deleteDialog.userGroup.nonEmptyDisabledTooltip"},deleteUserGroupConfirmBody:{id:"userManagement.deleteDialog.group.body"},deleteUserGroupsConfirmTitle:{id:"userManagement.deleteDialog.multipleGroups.title"},deleteUserGroupsConfirmBody:{id:"userManagement.deleteDialog.multipleGroups.body"},closeDialog:{id:"userManagement.buttons.close"},confirmDeleteButton:{id:"userManagement.deleteDialog.confirmButton"},cancelDeleteButton:{id:"userManagement.deleteDialog.cancelButton"},emptyDetailValue:{id:"userManagement.userDetail.emptyValue"},closeEditMode:{id:"userManagement.userDetail.cancelButton"},saveEditedDetails:{id:"userManagement.userDetail.saveButton"},userIsAdmin:{id:"userManagement.detail.orgPermission.admin"},userIsAdminTooltip:{id:"userManagement.detail.orgPermission.admin.tooltip"},userIsRegularUser:{id:"userManagement.detail.orgPermission.member"},userIsRegularUserTooltip:{id:"userManagement.detail.orgPermission.member.tooltip"},userFirstName:{id:"userManagement.userDetail.firstName.label"},userLastName:{id:"userManagement.userDetail.lastName.label"},userEmail:{id:"userManagement.userDetail.email.label"},userId:{id:"userManagement.userDetail.id.label"},userGroupName:{id:"userManagement.groupDetail.name.label"},userGroupId:{id:"userManagement.groupDetail.id.label"},userMembership:{id:"userManagement.userDetail.orgPermission.label"},addUserGroupDialogTitle:{id:"userManagement.userGroups.title"},addUserGroupDialogCloseButton:{id:"userManagement.userGroups.cancelButton"},addUserGroupDialogSaveButton:{id:"userManagement.userGroups.addButton"},searchUserGroupNoMatch:{id:"userManagement.userGroups.noMatchingItems"},searchUserGroupPlaceholder:{id:"userManagement.userGroups.searchPlaceholder"},searchUserGroupError:{id:"userManagement.userGroups.searchError"},addUserDialogTitle:{id:"userManagement.users.title"},addUserDialogCloseButton:{id:"userManagement.users.cancelButton"},addUserDialogSaveButton:{id:"userManagement.users.addButton"},searchUserNoMatch:{id:"userManagement.users.noMatchingItems"},searchUserPlaceholder:{id:"userManagement.users.searchPlaceholder"},searchUserError:{id:"userManagement.users.searchError"},addWorkspaceDialogTitle:{id:"userManagement.workspace.title"},addWorkspaceDialogCloseButton:{id:"userManagement.users.cancelButton"},addWorkspaceDialogSaveButton:{id:"userManagement.workspace.addButton"},editWorkspaceDialogTitle:{id:"userManagement.workspace.edit.title"},searchWorkspaceNoMatch:{id:"userManagement.workspace.noMatchingItems"},searchDataSourceNoMatch:{id:"userManagement.dataSources.noMatchingItems"},searchWorkspacePlaceholder:{id:"userManagement.workspace.searchPlaceholder"},viewUserWorkspaceListEmpty:{id:"userManagement.workspace.emptySelection.user.view"},viewUserGroupWorkspaceListEmpty:{id:"userManagement.workspace.emptySelection.userGroup.view"},editWorkspaceListEmpty:{id:"userManagement.workspace.emptySelection.edit"},viewUserListEmpty:{id:"userManagement.users.emptySelection.view"},editUserListEmpty:{id:"userManagement.users.emptySelection.edit"},viewUserGroupListEmpty:{id:"userManagement.userGroups.emptySelection.view"},editUserGroupListEmpty:{id:"userManagement.userGroups.emptySelection.edit"},viewUserDataSourceListEmpty:{id:"userManagement.dataSources.emptySelection.view"},viewUserGroupDataSourceListEmpty:{id:"userManagement.dataSources.emptySelection.userGroup.view"},editDataSourceListEmpty:{id:"userManagement.dataSources.emptySelection.edit"},removeSavedUserTooltip:{id:"userManagement.users.removeUserFromGroup"},removeSavedUserDisabledTooltip:{id:"userManagement.users.removeUserFromGroupDisabledTooltip"},removeUnsavedUserTooltip:{id:"userManagement.users.removeUserFromSelection"},removeSavedUserGroupTooltip:{id:"userManagement.userGroups.removeTooltip"},removeSavedUserGroupDisabledTooltip:{id:"userManagement.userGroups.removeDisabledTooltip"},removeUnsavedUserGroupTooltip:{id:"userManagement.userGroups.removeUserGroupFromSelection"},adminAlert:{id:"userManagement.admin.alert"},adminGroupAlert:{id:"userManagement.adminGroup.alert"},adminPill:{id:"userManagement.admin.pill"},dataSourcesAddedToUsersSuccess:{id:"userManagement.users.multipleDataSources.addSuccess"},dataSourcesAddedToUserGroupsSuccess:{id:"userManagement.userGroups.multipleDataSources.addSuccess"},dataSourcesAddedToUsersError:{id:"userManagement.users.multipleDataSources.addError"},dataSourcesAddedToUserGroupsError:{id:"userManagement.userGroups.multipleDataSources.addError"},dataSourceRemovedSuccess:{id:"userManagement.dataSources.removeSuccess"},dataSourceRemovedFailure:{id:"userManagement.dataSources.removeError"},dataSourceChangeSuccess:{id:"userManagement.dataSources.changeSuccess"},dataSourceChangeFailure:{id:"userManagement.dataSources.changeError"},addDataSourceDialogTitle:{id:"userManagement.dataSource.title"},searchDataSourcePlaceholder:{id:"userManagement.dataSource.searchPlaceholder"}},MF=(e,t)=>{const i=e.title.toUpperCase(),r=t.title.toUpperCase();return i.localeCompare(r)},TF=e=>{if(e)return(0,s.isIOrganizationUser)(e)?e.fullName||e.email||e.id:e.fullName||e.email||e.login},PF=e=>e?.name||e?.id,AF=e=>{const t=(e=>e.filter(s.isAssignedWorkspacePermission))(e.permissions);return{workspace:{id:e.id},permissions:e.isHierarchical?[]:t,hierarchyPermissions:e.isHierarchical?t:[]}},DF=e=>{const t=(e=>{switch(e){case"USE":return["USE"];case"MANAGE":return["MANAGE"];default:throw Error("Unsupported permission value")}})(e.permission);return{dataSource:{id:e.id},permissions:t}},IF=e=>{const{dataSource:t}=e,i=(r=e.permissions).includes("MANAGE")?"MANAGE":(r.includes("USE"),"USE");var r;return{id:t.id,title:t.name,permission:i}},NF=({mode:e,subjectType:t})=>{const i=hr();return o.createElement("div",{className:"gd-share-dialog-grantee-list-empty-selection s-user-management-empty-selection gd-user-management-dialog-list-empty"},o.createElement("span",null,"VIEW"===e&&"user"===t&&i.formatMessage(EF.viewUserWorkspaceListEmpty),"VIEW"===e&&"userGroup"===t&&i.formatMessage(EF.viewUserGroupWorkspaceListEmpty),"EDIT"===e&&i.formatMessage(EF.editWorkspaceListEmpty)))},RF=[{align:"cr cl"}],LF=({tooltipMessage:e,onClick:t,isDisabled:i=!1})=>o.createElement(Ya.BubbleHoverTrigger,{showDelay:0,hideDelay:0,className:"gd-grantee-item-delete"},o.createElement("span",{className:Xa("gd-grantee-item-icon gd-grantee-icon-trash gd-grantee-item-icon-right s-user-management-delete",{"is-disabled":i}),onClick:i?void 0:t,"aria-label":"Delete"}),o.createElement(Ya.Bubble,{className:"bubble-primary",alignPoints:RF},e)),FF=()=>o.createElement("div",{className:"gd-grantee-item-icon-left-background"},o.createElement("span",{className:"gd-grantee-item-icon gd-grantee-item-icon-left"},o.createElement("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M13.5967 4.4707C13.7106 4.66211 13.8063 4.90137 13.8838 5.18848C13.9613 5.47559 14 5.72852 14 5.94727V8.05273C14 8.2806 13.9339 8.48568 13.8018 8.66797C13.6696 8.8457 13.5033 8.96875 13.3027 9.03711V13.6514C13.3027 13.9385 13.2002 14.1846 12.9951 14.3896C12.79 14.5947 12.5417 14.6973 12.25 14.6973H1.75C1.45833 14.6973 1.20996 14.5947 1.00488 14.3896C0.799805 14.1846 0.697266 13.9385 0.697266 13.6514V9.03711C0.496745 8.96875 0.330404 8.8457 0.198242 8.66797C0.0660807 8.48568 0 8.2806 0 8.05273V5.94727C0 5.72852 0.038737 5.47559 0.116211 5.18848C0.193685 4.90137 0.289388 4.66211 0.40332 4.4707L2.14648 1.47656C2.27409 1.25781 2.46777 1.07324 2.72754 0.922852C2.9873 0.772461 3.24479 0.697266 3.5 0.697266H10.5C10.7552 0.697266 11.0127 0.772461 11.2725 0.922852C11.5322 1.07324 11.7259 1.25781 11.8535 1.47656L13.5967 4.4707ZM2.74805 1.83203L1.00488 4.81934C0.995768 4.83301 0.986654 4.84668 0.977539 4.86035C0.972982 4.87402 0.968424 4.8877 0.963867 4.90137C0.977539 4.90137 0.991211 4.90137 1.00488 4.90137C1.01855 4.90137 1.03451 4.90137 1.05273 4.90137H12.9473C12.9655 4.90137 12.9814 4.90137 12.9951 4.90137C13.0088 4.90137 13.0225 4.90137 13.0361 4.90137C13.0316 4.8877 13.0247 4.87402 13.0156 4.86035C13.0111 4.84668 13.0042 4.83301 12.9951 4.81934L11.252 1.83203C11.1836 1.7181 11.0742 1.61784 10.9238 1.53125C10.7734 1.44466 10.6322 1.40137 10.5 1.40137H3.5C3.36784 1.40137 3.22656 1.44466 3.07617 1.53125C2.92578 1.61784 2.81641 1.7181 2.74805 1.83203ZM12.25 14C12.3457 14 12.4277 13.9658 12.4961 13.8975C12.5645 13.8291 12.5986 13.7471 12.5986 13.6514V9.09863H1.40137V13.6514C1.40137 13.7471 1.43555 13.8291 1.50391 13.8975C1.57227 13.9658 1.6543 14 1.75 14H12.25ZM13.3027 8.05273V5.94727C13.3027 5.85156 13.2686 5.76953 13.2002 5.70117C13.1318 5.63281 13.0475 5.59863 12.9473 5.59863H1.05273C0.952474 5.59863 0.868164 5.63281 0.799805 5.70117C0.731445 5.76953 0.697266 5.85156 0.697266 5.94727V8.05273C0.697266 8.14844 0.731445 8.23047 0.799805 8.29883C0.868164 8.36719 0.952474 8.40137 1.05273 8.40137H12.9473C13.0475 8.40137 13.1318 8.36719 13.2002 8.29883C13.2686 8.23047 13.3027 8.14844 13.3027 8.05273ZM8.75 11.9014C9.04167 11.9014 9.29004 11.7988 9.49512 11.5938C9.7002 11.3887 9.80273 11.1403 9.80273 10.8486C9.80273 10.5615 9.7002 10.3154 9.49512 10.1104C9.29004 9.90527 9.04167 9.80273 8.75 9.80273H5.25C4.95833 9.80273 4.70996 9.90527 4.50488 10.1104C4.2998 10.3154 4.19727 10.5615 4.19727 10.8486C4.19727 11.1403 4.2998 11.3887 4.50488 11.5938C4.70996 11.7988 4.95833 11.9014 5.25 11.9014H8.75ZM5.25 10.5H8.75C8.8457 10.5 8.92773 10.5342 8.99609 10.6025C9.06445 10.6709 9.09863 10.7529 9.09863 10.8486C9.09863 10.9443 9.06445 11.0264 8.99609 11.0947C8.92773 11.1631 8.8457 11.1973 8.75 11.1973H5.25C5.1543 11.1973 5.07227 11.1631 5.00391 11.0947C4.93555 11.0264 4.90137 10.9443 4.90137 10.8486C4.90137 10.7529 4.93555 10.6709 5.00391 10.6025C5.07227 10.5342 5.1543 10.5 5.25 10.5Z",fill:"#B0BECA"})))),OF={MANAGE:{id:"userManagement.workspace.permission.manage"},ANALYZE:{id:"userManagement.workspace.permission.analyze"},VIEW:{id:"userManagement.workspace.permission.view"},EXPORT:{id:"userManagement.workspace.permission.export"},EXPORT_TABULAR:{id:"userManagement.workspace.permission.exportTabular"},EXPORT_PDF:{id:"userManagement.workspace.permission.exportPdf"},CREATE_FILTER_VIEW:{id:"userManagement.workspace.permission.createFilterView"},CREATE_AUTOMATION:{id:"userManagement.workspace.permission.createAutomation"},USE_AI_ASSISTANT:{id:"userManagement.workspace.permission.useAiAssistant"},viewDescription:{id:"userManagement.workspace.granularPermission.view.description"},analyzeDescription:{id:"userManagement.workspace.granularPermission.analyze.description"},manageDescription:{id:"userManagement.workspace.granularPermission.manage.description"},hierarchyTooltip:{id:"userManagement.workspace.granularPermission.hierarchy.tooltip"},remove:{id:"userManagement.workspace.permission.remove"},and:{id:"userManagement.workspace.permission.and"}},BF={EXPORT:{id:"userManagement.workspace.permission.export.tooltip"},EXPORT_TABULAR:{id:"userManagement.workspace.permission.exportTabular.tooltip"},EXPORT_PDF:{id:"userManagement.workspace.permission.exportPdf.tooltip"},CREATE_FILTER_VIEW:{id:"userManagement.workspace.permission.createFilterView.tooltip"},CREATE_AUTOMATION:{id:"userManagement.workspace.permission.createAutomation.tooltip"},USE_AI_ASSISTANT:{id:"userManagement.workspace.permission.useAiAssistant.tooltip"}},zF=e=>{switch(e){case"MANAGE":return OF.MANAGE;case"ANALYZE":return OF.ANALYZE;case"EXPORT":return OF.EXPORT;case"EXPORT_TABULAR":return OF.EXPORT_TABULAR;case"EXPORT_PDF":return OF.EXPORT_PDF;case"CREATE_FILTER_VIEW":return OF.CREATE_FILTER_VIEW;case"VIEW":return OF.VIEW;case"CREATE_AUTOMATION":return OF.CREATE_AUTOMATION;case"USE_AI_ASSISTANT":return OF.USE_AI_ASSISTANT;default:throw new Error("There's no localization key for the unsupported permission.")}},VF=e=>{switch(e){case"MANAGE":return OF.manageDescription;case"ANALYZE":return OF.analyzeDescription;case"VIEW":return OF.viewDescription;default:throw new Error("There's no localization key for the unsupported main permission.")}},GF=["MANAGE","ANALYZE","VIEW"],UF=["EXPORT_PDF","EXPORT_TABULAR"],HF=["EXPORT",...UF],WF=e=>{switch(e){case"VIEW":default:return[];case"ANALYZE":return["CREATE_FILTER_VIEW"];case"MANAGE":return["EXPORT","EXPORT_PDF","EXPORT_TABULAR","CREATE_AUTOMATION","CREATE_FILTER_VIEW"]}},jF=e=>e.includes("MANAGE")?"MANAGE":e.includes("ANALYZE")?"ANALYZE":"VIEW",KF=(e,t)=>{const i="EXPORT"===e,r=t.includes("EXPORT_PDF"),s=t.includes("EXPORT_TABULAR");return i&&(r&&!s||!r&&s)},$F=(e,t,i)=>{const r="MANAGE"===t&&"USE_AI_ASSISTANT"!==e,s="ANALYZE"===t&&"CREATE_FILTER_VIEW"===e,a=i.includes("EXPORT")&&UF.includes(e);return r||s||a},qF=e=>{let t;return e.includes("MANAGE")?(t=["MANAGE"],e.includes("USE_AI_ASSISTANT")&&t.push("USE_AI_ASSISTANT"),t):(t=[...e],e.includes("ANALYZE")&&(t=t.filter((e=>"VIEW"!==e)),t=t.filter((e=>"CREATE_FILTER_VIEW"!==e))),e.includes("EXPORT")&&(t=t.filter((e=>"EXPORT_PDF"!==e)),t=t.filter((e=>"EXPORT_TABULAR"!==e))),t)},YF=({workspace:e,onDelete:t,onClick:i})=>{const{isDropdownOpen:r}=(()=>{const[e,t]=(0,o.useState)(!1),i=(0,o.useCallback)((()=>t(!e)),[e]);return{isDropdownOpen:e,toggleDropdown:i}})(),s=hr(),a=Xa("s-user-management-workspace-item","gd-share-dialog-grantee-item",{"is-active":r}),n=((e,t)=>{const i=(e=>{const t=["MANAGE","ANALYZE","VIEW","CREATE_FILTER_VIEW","CREATE_AUTOMATION","EXPORT","EXPORT_PDF","EXPORT_TABULAR"];return[...e].sort(((e,i)=>{const r=t.indexOf(e),s=t.indexOf(i);return-1===r&&-1===s?0:-1===r?1:-1===s?-1:r-s}))})(e),r=qF(i).map((e=>t.formatMessage(OF[e])));if(1===r.length)return r[0];const[s,...a]=r;return`${s} ${t.formatMessage(OF.and)} ${a.join(", ")}`})(e.permissions,s);return o.createElement("div",{className:a},o.createElement(LF,{tooltipMessage:s.formatMessage(OF.remove),onClick:()=>t(e)}),o.createElement("div",{className:"gd-grantee-content",onClick:()=>i?.(e)},o.createElement("div",{className:"gd-grantee-content-label"},e.title),o.createElement("div",{className:"gd-grantee-content-label gd-grantee-content-email",title:n},n)),o.createElement(FF,null))},XF=({workspaces:e,subjectType:t,mode:i,onDelete:r,onClick:s})=>{const a=(0,o.useMemo)((()=>e?[...e].sort(MF):[]),[e]);return 0===a.length?o.createElement(NF,{mode:i,subjectType:t}):o.createElement("div",{className:"gd-share-dialog-grantee-list s-user-management-workspaces"},a.map((e=>o.createElement(YF,{key:e.id,workspace:e,onDelete:r,onClick:s}))))},QF=o.createContext(void 0);QF.displayName="OrganizationIdContext";const ZF=({organizationId:e,children:t})=>o.createElement(QF.Provider,{value:e},t),JF=()=>{const e=o.useContext(QF);return(0,Rg.kG)(e,"useOrganizationId must be called in OrganizationIdProvider with initialized value!"),e},eO=o.createContext(void 0);eO.displayName="TelemetryContext";const tO=({trackEvent:e,children:t})=>o.createElement(eO.Provider,{value:e},t),iO=()=>{const e=o.useContext(eO);return(0,Rg.kG)(e,"useTelemetry must be called in TelemetryContext with initialized value!"),e};function rO(e){const t=t=>o.createElement(tO,{trackEvent:t.onEvent},o.createElement(e,{...t}));return t.displayName=e.displayName,t}const sO=(e,t)=>({id:e,title:t,permissions:["VIEW"],isHierarchical:!1}),aO=(0,Ya.withBubble)((({width:e,height:t})=>{const i=(0,yl.Fg)();return o.createElement(Ya.Icon.QuestionMark,{color:i?.palette?.complementary?.c7??"#B0BECA",width:e,height:t})})),oO=e=>{const{item:t,checked:i,onChange:r}=e;return o.createElement("div",null,o.createElement("label",{className:"input-radio-label"},o.createElement("input",{type:"radio",className:"input-radio",name:"workspace-access-permission",checked:i,onChange:r}),o.createElement("span",{className:"input-label-text"},o.createElement(qa,{id:zF(t).id}))))},nO=e=>{const{item:t,checked:i,indefinite:r,disabled:s,onChange:a}=e;return o.createElement("div",{className:"gd-granular-permissions__additional-access-item"},t.group?o.createElement("div",{className:"gd-granular-permissions__additional-access-item-indent"}):null,o.createElement("label",{className:"input-checkbox-label"},o.createElement("input",{type:"checkbox",className:Xa("input-checkbox",{"checkbox-indefinite":r}),name:"additional-access-permission",checked:i||r,onChange:a,disabled:s}),o.createElement("span",{className:"input-label-text"},o.createElement(qa,{id:zF(t.id).id}))),o.createElement("div",{className:"gd-granular-permissions__additional-access-item-info"},o.createElement(aO,{bubbleTextId:BF[t.id].id,width:14,height:14})))},lO=[{id:"CREATE_AUTOMATION",enabled:!0},{id:"USE_AI_ASSISTANT",enabled:!0},{id:"EXPORT",enabled:!0},{id:"EXPORT_PDF",enabled:!0,group:!0},{id:"EXPORT_TABULAR",enabled:!0,group:!0},{id:"CREATE_FILTER_VIEW",enabled:!0}],cO=({workspace:e,areFilterViewsEnabled:t,onChange:i,showRedundancyWarningMessage:r})=>{const s=hr(),{permissions:a=[],isHierarchical:n=!1}=e??{},l=jF(a),c=(e=>{const t=jF(e),i=WF(t),r=e.filter((e=>!GF.includes(e))),s=r.includes("EXPORT")?["EXPORT_PDF","EXPORT_TABULAR"]:[];return[...new Set([...i,...r,...s])]})(a),d=(0,o.useMemo)((()=>lO.filter((e=>t||"CREATE_FILTER_VIEW"!==e.id))),[t]),u=(0,o.useCallback)(((t,r)=>{const s=qF(t);i({...e,permissions:s,isHierarchical:r})}),[i,e]),p=(0,o.useCallback)((e=>{u([l,...c],e)}),[u,c,l]),h=(0,o.useCallback)((e=>{const t=WF(e);u([e,...t],n)}),[u,n]),m=(0,o.useCallback)((e=>{const t=c.includes(e),i=t?c.filter((t=>t!==e)):[...c,e],r=((e,t,i)=>{const r=UF.includes(e),s=t.includes("EXPORT_PDF"),a=t.includes("EXPORT_TABULAR");return!i&&r?t.filter((e=>"EXPORT"!==e)):i&&r&&s&&a?[...new Set([...t,"EXPORT"])]:"EXPORT"!==e?t:i?[...new Set([...t,...HF])]:t.filter((e=>!HF.includes(e)))})(e,i,!t);u([l,...r],n)}),[u,n,c,l]);return e?o.createElement("div",{className:"gd-granular-permissions"},o.createElement("div",{className:"gd-granular-permissions__hierarchy"},o.createElement("label",{className:"input-checkbox-toggle"},o.createElement("input",{type:"checkbox",checked:n,onChange:e=>p(e.currentTarget.checked)}),o.createElement("span",{className:"input-label-text"},o.createElement(qa,{id:"userManagement.workspace.granularPermission.hierarchy"}))),o.createElement("div",{className:"gd-granular-permissions__hierarchy-icon"},o.createElement(aO,{bubbleTextId:OF.hierarchyTooltip.id,width:14,height:14}))),o.createElement(Ya.DialogListHeader,{title:s.formatMessage({id:"userManagement.workspace.granularPermission.workspaceAccess.title"})}),o.createElement("div",{className:"gd-granular-permissions__workspace-access"},GF.map((e=>o.createElement(oO,{key:e,item:e,checked:e===l,onChange:()=>h(e)})))),o.createElement("div",{className:"gd-granular-permissions__workspace-access-description"},o.createElement(qa,{id:VF(l).id})),o.createElement(Ya.DialogListHeader,{title:s.formatMessage({id:"userManagement.workspace.granularPermission.additionalAccess.title"})}),o.createElement("div",{className:"gd-granular-permissions__additional-access-wrapper"},d.map((e=>o.createElement(nO,{key:e.id,item:e,checked:c.includes(e.id),indefinite:KF(e.id,c),disabled:$F(e.id,l,c),onChange:()=>m(e.id)})))),r?o.createElement(Ya.Message,{type:"warning",className:"gd-granular-permissions__warning"},o.createElement(qa,{id:"userManagement.workspace.granularPermission.warning",values:{b:e=>o.createElement("strong",null,e)}})):null):o.createElement("div",{className:"gd-granular-permissions-empty"},o.createElement(qa,{id:"userManagement.workspace.granularPermission.noWorkspace"}))};var dO=i(23157),uO=i(28365),pO=i(32797),hO=i(99601),mO=i(85893),gO=Symbol("useLazyRef empty value"),bO=i(68887),fO=i(88468),vO=i.n(fO),yO=i(73469),CO=function(e){var t=vO().useRef(e);return(0,yO.Z)((function(){t.current=e})),t};function kO(e){return{isOk:()=>!0,isOkAnd:t=>t(e),isErr:()=>!1,isErrAnd:()=>!1,ok:()=>xO(e),err:()=>SO(),map:t=>kO(t(e)),mapOr:(t,i)=>i(e),mapOrElse:(t,i)=>i(e),mapErr:()=>kO(e),expect:()=>e,expectErr:e=>{throw new Error(e)},unwrap:()=>e,unwrapErr:()=>{throw new Error(`${e}`)},unwrapOr:()=>e,unwrapOrElse:()=>e,and:e=>e,andThen:t=>t(e),or:()=>kO(e),orElse:()=>kO(e)}}function wO(e){return{isOk:()=>!1,isOkAnd:()=>!1,isErr:()=>!0,isErrAnd:t=>t(e),ok:()=>SO(),err:()=>xO(e),map:()=>wO(e),mapOr:e=>e,mapOrElse:t=>t(e),mapErr:t=>wO(t(e)),expect:e=>{throw new Error(e)},expectErr:()=>e,unwrap:()=>{throw new Error(`${e}`)},unwrapErr:()=>e,unwrapOr:e=>e,unwrapOrElse:t=>t(e),and:()=>wO(e),andThen:()=>wO(e),or:e=>e,orElse:t=>t(e)}}function SO(){const e={and:()=>SO(),andThen:()=>SO(),expect:e=>{throw new Error(e)},filter:()=>e,isSome:()=>!1,isSomeAnd:()=>!1,isNone:()=>!0,map:()=>SO(),mapOr:e=>e,mapOrElse:e=>e(),okOr:e=>wO(e),okOrElse:e=>wO(e()),or:e=>e,orElse:e=>e(),unwrap:()=>{throw new Error("panic! call `unwrap` on a `None` value")},unwrapOr:e=>e,unwrapOrElse:e=>e(),xor:t=>t.isSome()?t:e};return e}function xO(e){const t={and:e=>e,andThen:t=>t(e),expect:()=>e,filter:i=>i(e)?t:SO(),isSome:()=>!0,isSomeAnd:t=>t(e),isNone:()=>!1,map:t=>xO(t(e)),mapOr:(t,i)=>i(e),mapOrElse:(t,i)=>i(e),okOr:()=>kO(e),okOrElse:()=>kO(e),or:()=>t,orElse:()=>t,unwrap:()=>e,unwrapOr:()=>e,unwrapOrElse:()=>e,xor:e=>e.isNone()?t:SO()};return t}var _O=setTimeout;function EO(e,t){var i=t.useCachedSetTimeout?_O:setTimeout;return new Promise((function(t){i(t,e)}))}function MO(e){return function(t){const{selectProps:i,innerRef:r}=t,{handleScrolledToBottom:s,shouldLoadMore:a}=i,o=(0,uO.useRef)(null),n=(0,uO.useRef)(null),l=(0,uO.useCallback)((()=>{const e=n.current;if(!e)return!1;const{scrollTop:t,scrollHeight:i,clientHeight:r}=e;return a(i,r,t)}),[a]),c=(0,uO.useCallback)((()=>{l()&&s&&s()}),[l,s]),d=(0,uO.useMemo)((()=>{const e=()=>{c(),o.current=setTimeout(e,300)};return e}),[c]);return(0,uO.useEffect)((()=>(d(),()=>{o.current&&clearTimeout(o.current)})),[]),(0,mO.jsx)(e,{...t,innerRef:(0,hO.Z)(r,n)})}}var TO,PO=MO(pO.c.MenuList),AO=(e,t)=>[...e,...t],DO=(e,t,i)=>e-t-10<i,IO=e=>({isFirstLoad:!0,options:[],hasMore:!0,isLoading:!1,lockedUntil:0,additional:e.additional}),NO='[react-select-async-paginate] response of "loadOptions" should be an object with "options" prop, which contains array of options.',RO=async(e,t,i,r,s,a,o,n)=>{const l=t.current.inputValue,c=!i.current[l],d=c?IO(t.current):i.current[l];if(d.isLoading||!d.hasMore||d.lockedUntil>Date.now())return;if(s((t=>n&&"input-change"===e?{[l]:{...d,isLoading:!0}}:{...t,[l]:{...d,isLoading:!0}})),r>0&&"input-change"===e){await function(e){var t=EO(e,{useCachedSetTimeout:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useCachedSetTimeout});function i(e){return t.then((function(){return e}))}return i.then=function(){return t.then.apply(t,arguments)},i.catch=Promise.resolve().catch,i}(r);const e=t.current.inputValue;if(l!==e)return void s((e=>{if(c){const{[l]:t,...i}=e;return i}return{...e,[l]:{...d,isLoading:!1}}}))}const{loadOptions:u,reloadOnErrorTimeout:p=0}=t.current,h=await(m=Promise.resolve().then((()=>u(l,d.options,d.additional))),m.then((e=>kO(e)),(e=>wO(e))));var m;if(!o.current)return;if(h.isErr())return void s((e=>({...e,[l]:{...d,isLoading:!1,lockedUntil:Date.now()+p}})));const g=h.unwrap();if((e=>{if(!(e=>{if(!e)return!1;const{options:t,hasMore:i}=e;return!!Array.isArray(t)&&("boolean"==typeof i||void 0===i)})(e))throw console.error(NO,"Received:",e),new Error(NO);return!0})(g)){const{options:e,hasMore:t}=g,i=Object.hasOwn(g,"additional")?g.additional:d.additional;s((r=>({...r,[l]:{...d,options:a(d.options,e,i),hasMore:!!t,isLoading:!1,isFirstLoad:!1,additional:i}})))}},LO=e=>e+1,FO=(e,t=[])=>{const{clearCacheOnSearchChange:i=!1,clearCacheOnMenuClose:r=!1,defaultOptions:s,loadOptionsOnMenuOpen:a=!0,debounceTimeout:o=0,inputValue:n,menuIsOpen:l,filterOption:c=null,reduceOptions:d=AO,shouldLoadMore:u=DO,mapOptionsForMenu:p}=e,h=CO(l),m=function(){var e=(0,bO.useRef)(!1);return(0,bO.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}(),g=CO(d),b=CO(a),f=(0,uO.useRef)(!0),v=(0,uO.useRef)(e);v.current=e;const[y,C]=(0,uO.useState)(0),k=(t=>{const i=(0,uO.useRef)(gO);return i.current===gO&&(i.current=(({options:e,defaultOptions:t,additional:i,defaultAdditional:r})=>{const s=!0===t?null:Array.isArray(t)?t:e;return s?{"":{isFirstLoad:!1,isLoading:!1,options:s,hasMore:!0,lockedUntil:0,additional:r||i}}:{}})(e)),i})(),w=CO((e=>{RO(e,v,k,o,(e=>{k.current=e(k.current),m.current&&C(LO)}),g.current,m,i)})),S=(0,uO.useCallback)((()=>{const e=v.current.inputValue;k.current[e]&&w.current("menu-scroll")}),[w,k]);(0,uO.useEffect)((()=>{f.current?f.current=!1:(k.current={},C(LO)),!0===s&&w.current("autoload")}),t),(0,uO.useEffect)((()=>{h.current&&!k.current[n]&&w.current("input-change")}),[w,n,h,k]),(0,uO.useEffect)((()=>{if(l)return!k.current[""]&&b.current?void w.current("menu-toggle"):void 0;r&&(k.current={},C(LO))}),[w,b,l,k,r]);const x=k.current[n]||IO(e),_=(0,uO.useMemo)((()=>p?p(x.options):x.options),[x.options,p]);return{handleScrolledToBottom:S,shouldLoadMore:u,filterOption:c,isLoading:x.isLoading||x.lockedUntil>Date.now(),isFirstLoad:x.isFirstLoad,options:_}},OO=[],BO={},zO=(TO=dO.ZP,function(e){const{components:t=BO,selectRef:i,isLoading:r,cacheUniqs:s=OO,menuPlacement:a,menuShouldScrollIntoView:o,...n}=e,l=((e,t=[])=>{const{inputValue:i,menuIsOpen:r,defaultInputValue:s,defaultMenuIsOpen:a,onInputChange:o,onMenuClose:n,onMenuOpen:l}=e,[c,d]=(0,uO.useState)(s||""),[u,p]=(0,uO.useState)(!!a),h="string"==typeof i?i:c,m="boolean"==typeof r?r:u,g=(0,uO.useCallback)(((e,t)=>{o&&o(e,t),d(e)}),[o]),b=(0,uO.useCallback)((()=>{n&&n(),p(!1)}),[n]),f=(0,uO.useCallback)((()=>{l&&l(),p(!0)}),[l]);return{...FO({...e,inputValue:h,menuIsOpen:m},t),inputValue:h,menuIsOpen:m,onInputChange:g,onMenuClose:b,onMenuOpen:f}})(n,s),c=(e=>(0,uO.useMemo)((()=>({MenuList:PO,...e})),[e]))(t),d="boolean"==typeof r?r:l.isLoading;return(0,mO.jsx)(TO,{...e,...l,menuPlacement:a,menuShouldScrollIntoView:"auto"===a?!d&&o:o,isLoading:d,components:c,ref:i})});const VO=e=>!c(e)&&void 0!==e.id,GO=e=>!c(e)&&void 0!==e.id,UO=e=>!c(e)&&void 0!==e.id,HO=e=>!c(e)&&void 0!==e.id,WO=e=>!c(e)&&"error"===e.type,jO=()=>null,KO=()=>o.createElement("div",{className:"gd-share-dialog-loading-mask-container"},o.createElement(Ya.LoadingMask,{size:"small"})),$O=e=>o.createElement("div",{className:"s-user-management-no-option","aria-label":"Share dialog no match"},o.createElement(pO.c.NoOptionsMessage,{...e})),qO=MO((e=>o.createElement(pO.c.MenuList,{...e},o.createElement("div",{className:"s-user-management-menu","aria-label":"Share dialog menu list"},e.children)))),YO=e=>e.hasValue?null:o.createElement("div",{className:"gd-share-dialog-input s-user-management-input"},o.createElement(pO.c.Input,{...e})),XO=e=>{const{className:t,cx:i,isFocused:r,innerRef:s,innerProps:a,data:n}=e;if(WO(n))return l=n,o.createElement("div",{className:"gd-share-dialog-option-error s-user-management-option-error","aria-label":"Share dialog error"},o.createElement("span",{className:"gd-share-dialog-option-error-content"},l.label));var l;const c=VO(n.value)?`s-workspace-item-id-${n.value.id}`:"",d=i({option:!0,"option--is-focused":r},t);return o.createElement("div",{ref:s,className:`${d} ${c}`,...a},o.createElement("div",{className:"option-content"},VO((u=n).value)?o.createElement(o.Fragment,null," ",u.value.title," "):o.createElement(o.Fragment,null," ",u.label," ")));var u},QO=e=>{const{label:t}=e.data;return o.createElement("div",{className:"gd-share-dialog-select-group-heading"},o.createElement(Ya.Typography,{tagName:"h3"},t))},ZO={id:"userManagement.workspace.searchError"},JO=e=>[{isDisabled:!0,type:"error",label:e.formatMessage(ZO)}],eB=({addedWorkspace:e,grantedWorkspaces:t,onSelectWorkspace:i,mode:r="EDIT"})=>{const s=(0,a.useBackendStrict)(),n=hr(),l="EDIT"===r,c=(0,o.useCallback)((e=>{const t=e.value;VO(t)&&i(t)}),[i]),d=(0,o.useMemo)((()=>()=>n.formatMessage(EF.searchWorkspaceNoMatch)),[n]),u=(0,o.useMemo)((()=>l&&((e,t)=>async(i,r,{page:s})=>{const a=50*s;try{return await e.workspaces().forCurrentUser().withSearch(i).withLimit(50).withOffset(a).query().then((e=>Promise.all(e.items.map((e=>e.getDescriptor()))))).then((e=>({options:[...e.sort(MF)].map((e=>({label:e.id,value:e}))),hasMore:e.length>0,additional:{page:s+1}})))}catch{return{options:JO(t),hasMore:!1,additional:{page:0}}}})(s,n)),[s,n,l]),p=(0,o.useCallback)((e=>{const t=e.target;32!==e.keyCode||t.value||e.preventDefault(),9===e.keyCode&&e.preventDefault()}),[]),h=(0,o.useMemo)((()=>e?[e,...t]:t),[e,t]);return o.createElement("div",{className:"gd-share-dialog-content-select s-user-management-workspace-select"},o.createElement(zO,{autoFocus:!0,defaultMenuIsOpen:l,classNamePrefix:"gd-share-dialog",components:{IndicatorSeparator:jO,Input:YO,Option:XO,GroupHeading:QO,LoadingMessage:KO,LoadingIndicator:jO,MenuList:qO,NoOptionsMessage:$O,SingleValue:XO},styles:{dropdownIndicator:e=>({...e,padding:"0",marginRight:"-6px",svg:{height:"14px"}})},loadOptions:u,defaultOptions:!0,placeholder:n.formatMessage(EF.searchWorkspacePlaceholder),onKeyDown:p,noOptionsMessage:d,onChange:c,filterOption:e=>{const t=e.value;return!h.some((e=>e.id===t.id))},isMulti:!1,isDisabled:!l,value:e?{label:e.title}:null,additional:{page:0},debounceTimeout:400}))},tB=({ids:e,subjectType:t,grantedWorkspaces:i,enableBackButton:r,onSubmit:s,onCancel:n,onClose:l,areFilterViewsEnabled:c,editWorkspace:d})=>{const u=hr(),{addedWorkspaces:p,isProcessing:h,onAdd:m,onChange:g,onOverwriteSelect:b}=((e,t,i,r,s)=>{const{addSuccess:n,addError:l}=(0,Ya.useToastMessage)(),c=(0,a.useBackendStrict)(),d=JF(),[u,p]=(0,o.useState)(s?[s]:[]),[h,m]=(0,o.useState)(!1),g=iO();return{addedWorkspaces:u,onDelete:e=>{p(u.filter((t=>t.id!==e.id)))},onChange:e=>{const t=u.filter((t=>t.id!==e.id));p([...t,e].sort(MF))},onSelect:({id:e,title:t})=>{p([...u,sO(e,t)].sort(MF))},onOverwriteSelect:({id:e,title:t})=>{p([sO(e,t)])},onAdd:()=>{m(!0),c.organization(d).permissions().assignPermissions({assignees:e.map((e=>({id:e,type:t}))),workspaces:u.map((e=>AF(e)))}).then((()=>{1===e.length?(n(EF.workspaceAddedSuccess),g("user"===t?"permission-added-to-single-user":"permission-added-to-single-group")):(n("user"===t?EF.workspacesAddedToUsersSuccess:EF.workspacesAddedToUserGroupsSuccess),g("user"===t?"permission-added-to-multiple-users":"permission-added-to-multiple-groups")),i(u),r()})).catch((i=>{console.error("Addition of workspace permission failed",i),1===e.length?l(EF.workspaceAddedError):l("user"===t?EF.workspacesAddedToUsersError:EF.workspacesAddedToUserGroupsError)})).finally((()=>m(!1)))},isProcessing:h}})(e,t,s,n,d),f=(0,o.useMemo)((()=>{return!(d&&(e=p[0],t=d,void 0===e||void 0===t||e.isHierarchical===t.isHierarchical&&st([...e.permissions].sort(),[...t.permissions].sort())));var e,t}),[p,d]),v=(0,o.useMemo)((()=>!!d&&(e=>{const t=qF(e);return!st(t.sort(),e.sort())})(d.permissions)),[d]),y=(0,o.useCallback)((()=>o.createElement(Ya.BackButton,{onClick:n,className:"s-user-management-navigate-back"})),[n]),C=(0,o.useCallback)((()=>o.createElement("div",{className:"gd-share-dialog-add-workspace__footer-link"},o.createElement(Ya.Hyperlink,{text:u.formatMessage({id:"userManagement.workspace.granularPermission.help"}),href:"https://www.gooddata.com/docs/cloud/manage-organization/manage-permissions/set-permissions-for-workspace/",iconClass:"gd-icon-circle-question"}))),[u]);return o.createElement(Ya.ConfirmDialogBase,{className:"gd-share-dialog gd-share-dialog-add-workspace s-user-management-add-workspace",displayCloseButton:!0,isPositive:!0,isSubmitDisabled:0===p.length||h||!f,showProgressIndicator:h,headline:u.formatMessage(d?EF.editWorkspaceDialogTitle:EF.addWorkspaceDialogTitle),cancelButtonText:u.formatMessage(EF.addWorkspaceDialogCloseButton),submitButtonText:u.formatMessage(EF.addWorkspaceDialogSaveButton),onCancel:n,onSubmit:m,onClose:l,headerLeftButtonRenderer:r?y:void 0,footerLeftRenderer:C},o.createElement(eB,{addedWorkspace:p[0],grantedWorkspaces:i,onSelectWorkspace:b,mode:d?"VIEW":"EDIT"}),o.createElement(cO,{workspace:p[0],onChange:g,areFilterViewsEnabled:c,showRedundancyWarningMessage:v}))},iB=[{align:"br tr"}],rB=({isAdmin:e,isDisabled:t,onChange:i})=>{const r=hr(),s=(0,o.useCallback)((({closeDropdown:t})=>o.createElement(Ya.Overlay,{key:"GranularPermissionsSelect",alignTo:".gd-user-management-dialog-detail-organization-membership",alignPoints:iB,className:"s-user-management-user-permissions-overlay",closeOnMouseDrag:!0,closeOnOutsideClick:!0,closeOnParentScroll:!0,onClose:t},o.createElement(Ya.ItemsWrapper,{smallItemsSpacing:!0},o.createElement("div",{onClick:()=>{i(!0),t()},className:Xa("gd-list-item","gd-menu-item","gd-user-management-dialog-detail-input","gd-user-management-permission-item","s-user-management-permission-admin",{"is-selected":e})},o.createElement("div",null,r.formatMessage(EF.userIsAdmin)),o.createElement("div",{className:"gd-user-management-help-icon-wrapper"},o.createElement(aO,{bubbleTextId:EF.userIsAdminTooltip.id}))),o.createElement("div",{onClick:()=>{i(!1),t()},className:Xa("gd-list-item","gd-menu-item","gd-user-management-dialog-detail-input","gd-user-management-permission-item","s-user-management-permission-non-admin",{"is-selected":!e})},o.createElement("div",null,r.formatMessage(EF.userIsRegularUser)),o.createElement("div",{className:"gd-user-management-help-icon-wrapper"},o.createElement(aO,{bubbleTextId:EF.userIsRegularUserTooltip.id})))))),[e,i,r]),a=(0,o.useMemo)((()=>e?r.formatMessage(EF.userIsAdmin):r.formatMessage(EF.userIsRegularUser)),[e,r]),n=(0,o.useCallback)((({openDropdown:e,isOpen:i})=>o.createElement(Ya.DropdownButton,{value:a,isOpen:i,disabled:t,onClick:e,isSmall:!1,className:"gd-user-management-dialog-detail-organization-membership gd-user-management-dialog-detail-input s-user-management-permission-dropdown"})),[a,t]);return o.createElement(Ya.Dropdown,{renderBody:s,renderButton:n})};var sB=i(56541);const aB=({labelText:e,value:t,mode:i,disabled:r,onChange:s})=>{const a=hr(),n=Xa("gd-user-management-dialog-detail-value",{"gd-user-management-dialog-detail-value-empty":!t}),l=Xa("gd-user-management-dialog-detail-input",`s-user-management-input-${sB.gl(e)}`);return o.createElement("div",{className:"gd-user-management-dialog-detail-row"},o.createElement("div",{className:"gd-user-management-dialog-detail-label"},e),"VIEW"===i&&o.createElement("div",{className:n},t||a.formatMessage(EF.emptyDetailValue)),"EDIT"===i&&o.createElement("div",null,o.createElement(Ya.Input,{value:t,disabled:r,onChange:s,className:l})))},oB=({user:e,isAdmin:t,isBootstrapUser:i,mode:r,onChange:s})=>{const a=hr(),n=iO();return e?o.createElement("div",{className:"gd-user-management-dialog-detail s-user-management-user"},o.createElement(aB,{labelText:a.formatMessage(EF.userFirstName),value:e.firstName,mode:r,onChange:i=>s({...e,firstName:i},t)}),o.createElement(aB,{labelText:a.formatMessage(EF.userLastName),value:e.lastName,mode:r,onChange:i=>s({...e,lastName:i},t)}),o.createElement(aB,{labelText:a.formatMessage(EF.userEmail),value:e.email,mode:r,onChange:i=>s({...e,email:i},t)}),o.createElement("div",{className:"gd-user-management-dialog-detail-row"},o.createElement("div",{className:"gd-user-management-dialog-detail-label"},a.formatMessage(EF.userMembership)),o.createElement("div",null,"VIEW"===r&&(t?a.formatMessage(EF.userIsAdmin):a.formatMessage(EF.userIsRegularUser)),"EDIT"===r&&o.createElement(rB,{isDisabled:i,isAdmin:t,onChange:i=>{s(e,i),n(t?"user-role-changed-to-admin":"user-role-changed-to-member")}}))),o.createElement(aB,{labelText:a.formatMessage(EF.userId),value:e.login,mode:r,disabled:!0,onChange:Qa})):null},nB=({mode:e})=>{const t=hr();return o.createElement("div",{className:"gd-share-dialog-grantee-list-empty-selection s-user-management-empty-selection gd-user-management-dialog-list-empty"},o.createElement("span",null,"VIEW"===e&&t.formatMessage(EF.viewUserGroupListEmpty),"EDIT"===e&&t.formatMessage(EF.editUserGroupListEmpty)))},lB=()=>o.createElement("div",{className:"gd-grantee-item-icon-left-background"},o.createElement("span",{className:"gd-grantee-item-icon gd-grantee-icon-group gd-grantee-item-icon-left"})),cB=({mode:e,onDelete:t,userGroup:i,isDeleteDisabled:r})=>{const s=Xa("s-user-management-item","gd-share-dialog-grantee-item"),a=hr(),n="VIEW"===e?a.formatMessage(r?EF.removeSavedUserGroupDisabledTooltip:EF.removeSavedUserGroupTooltip):a.formatMessage(EF.removeUnsavedUserGroupTooltip);return o.createElement("div",{className:s},o.createElement(LF,{tooltipMessage:n,onClick:()=>t(i),isDisabled:r}),o.createElement("div",{className:"gd-grantee-content"},o.createElement("div",{className:"gd-grantee-content-label"},i.title)),o.createElement(lB,null))},dB=({userGroups:e,mode:t,onDelete:i,isBootstrapUser:r,bootstrapUserGroupId:s})=>{const a=(0,o.useMemo)((()=>e?[...e].sort(MF):[]),[e]);return 0===a.length?o.createElement(nB,{mode:t}):o.createElement("div",{className:"gd-share-dialog-grantee-list s-user-management-user-list"},a.map((e=>{const a=r&&e.id===s;return o.createElement(cB,{key:e.id,userGroup:e,onDelete:i,isDeleteDisabled:a,mode:t})})))};var uB=i(34260);const pB=({user:e,isBootstrapUser:t,isAdmin:i,enableBackButton:r,changeUserMembership:s,onSubmit:n,onCancel:l,onClose:c,removeAdminGroup:d})=>{const u=hr(),{updatedUser:p,isUpdatedAdmin:h,isProcessing:m,onSave:g,onChange:b,isDirty:f}=((e,t,i,r,s)=>{const{addSuccess:n,addError:l}=(0,Ya.useToastMessage)(),[c,d]=(0,o.useState)(e),[u,p]=(0,o.useState)(t),h=(0,a.useBackendStrict)(),m=JF(),[g,b]=(0,o.useState)(!1),f=iO();(0,o.useEffect)((()=>{d(e)}),[e]);const v=(0,o.useMemo)((()=>uB(e)!==uB(c)||t!==u),[e,c,t,u]);return{updatedUser:c,isUpdatedAdmin:u,onChange:(e,t)=>{d(e),p(t)},onSave:()=>{const e=t!==u,{firstName:a,lastName:o}=c,d={...c,fullName:a&&o?`${a} ${o}`:void 0};b(!0),Promise.all([h.organization(m).users().updateUser(d),e?h.organization(m).permissions().updateOrganizationPermissions([{assigneeIdentifier:{id:d.login,type:"user"},permissions:u?["MANAGE"]:[]}]):Promise.resolve(),e&&!u?s():Promise.resolve()]).then((()=>{n(EF.userDetailsUpdatedSuccess),f("user-detail-updated"),i(d,u),r()})).catch((e=>{console.error("Change of user details failed",e),l(EF.userDetailsUpdatedFailure)})).finally((()=>b(!1)))},isDirty:v,isProcessing:g}})(e,i,n,l,d);(0,o.useEffect)((()=>{s&&b(p,!h)}),[]);const v=(0,o.useCallback)((()=>o.createElement(Ya.BackButton,{onClick:l,className:"s-user-management-navigate-back"})),[l]);return o.createElement(Ya.ConfirmDialogBase,{className:"gd-share-dialog gd-share-dialog-add-users s-user-management-edit-user",displayCloseButton:!0,isPositive:!0,isSubmitDisabled:!f||m,showProgressIndicator:m,headline:TF(e),cancelButtonText:u.formatMessage(EF.closeEditMode),submitButtonText:u.formatMessage(EF.saveEditedDetails),onCancel:l,onSubmit:g,onClose:c,headerLeftButtonRenderer:r?v:void 0},o.createElement(oB,{user:p,isAdmin:h,isBootstrapUser:t,mode:"EDIT",onChange:b}))};var hB=i(69496),mB=i(76565);const gB=()=>null,bB=()=>o.createElement("div",{className:"gd-share-dialog-loading-mask-container"},o.createElement(Ya.LoadingMask,{size:"small"})),fB=e=>o.createElement("div",{className:"s-user-management-no-option","aria-label":"Share dialog no match"},o.createElement(pO.c.NoOptionsMessage,{...e})),vB=e=>o.createElement(pO.c.MenuList,{...e},o.createElement("div",{className:"s-user-management-dialog-menu","aria-label":"Share dialog menu list"},e.children)),yB=e=>o.createElement("div",{className:"gd-share-dialog-input s-user-management-input"},o.createElement(pO.c.Input,{...e})),CB=e=>{const{className:t,cx:i,isFocused:r,innerRef:s,innerProps:a,data:n}=e;if(WO(n))return l=n,o.createElement("div",{className:"gd-share-dialog-option-error s-user-management-option-error","aria-label":"Share dialog error"},o.createElement("span",{className:"gd-share-dialog-option-error-content"},l.label));var l;const c=UO(n.value)?`s-user-group-item-id-${n.value.id}`:"",d=i({option:!0,"option--is-focused":r},t);return o.createElement("div",{ref:s,className:`${d} ${c}`,...a},o.createElement("div",{className:"option-content"},(u=n,o.createElement(o.Fragment,null," ",u.label," "))));var u},kB=e=>{const{label:t}=e.data;return o.createElement("div",{className:"gd-share-dialog-select-group-heading"},o.createElement(Ya.Typography,{tagName:"h3"},t))},wB=({addedUserGroups:e,grantedUserGroups:t,onSelect:i})=>{const r=hr(),s=(0,o.useRef)(null),n=(0,a.useBackendStrict)(),l=JF();(0,o.useEffect)((()=>{s.current.focus()}),[]);const c=(0,o.useCallback)((e=>{const t=e.value;UO(t)&&i(t)}),[i]),d=(0,o.useMemo)((()=>()=>r.formatMessage(EF.searchUserGroupNoMatch)),[r]),u=(0,o.useMemo)((()=>hB(((e,t,i)=>async r=>{try{return await e.organization(t).users().getUserGroups().then((e=>e.filter((e=>""===r||PF(e).toLowerCase().includes(r.toLowerCase()))))).then((e=>e.map((e=>({id:e.id,title:PF(e)}))).sort(MF))).then((e=>e.map((e=>({label:e.title,value:e})))))}catch{return(e=>[{isDisabled:!0,type:"error",label:e.formatMessage(EF.searchUserGroupError)}])(i)}})(n,l,r),400,{leading:!0})),[n,l,r]),p=(0,o.useCallback)((e=>{const t=e.target;32!==e.keyCode||t.value||e.preventDefault(),9===e.keyCode&&e.preventDefault()}),[]),h=(0,o.useMemo)((()=>t?[...e,...t]:[]),[e,t]);return o.createElement("div",{className:"gd-share-dialog-content-select s-user-management-user-group-select"},o.createElement(mB.Z,{ref:s,defaultMenuIsOpen:!0,classNamePrefix:"gd-share-dialog",components:{DropdownIndicator:gB,IndicatorSeparator:gB,Input:yB,Option:CB,GroupHeading:kB,LoadingMessage:bB,LoadingIndicator:gB,MenuList:vB,NoOptionsMessage:fB},loadOptions:u,defaultOptions:!0,placeholder:r.formatMessage(EF.searchUserGroupPlaceholder),onKeyDown:p,noOptionsMessage:d,onChange:c,value:null,filterOption:e=>{const t=e.value;return!h.some((e=>e.id===t.id))}}))},SB=({addedUserGroups:e,grantedUserGroups:t,onDelete:i,onSelect:r})=>o.createElement(o.Fragment,null,o.createElement(wB,{addedUserGroups:e,grantedUserGroups:t,onSelect:r}),o.createElement(dB,{mode:"EDIT",userGroups:e,onDelete:i,isBootstrapUser:!1,bootstrapUserGroupId:void 0})),xB=({userIds:e,grantedUserGroups:t,enableBackButton:i=!0,onSubmit:r,onCancel:s,onClose:n})=>{const l=hr(),{addedUserGroups:c,isProcessing:d,onAdd:u,onSelect:p,onDelete:h}=((e,t,i)=>{const{addSuccess:r,addError:s}=(0,Ya.useToastMessage)(),n=(0,a.useBackendStrict)(),l=JF(),[c,d]=(0,o.useState)([]),[u,p]=(0,o.useState)(!1),h=iO();return{addedUserGroups:c,onAdd:()=>{p(!0),1===e.length?n.organization(l).users().addUsersToUserGroups(e,c.map((e=>e.id))).then((()=>{r(EF.userGroupAddedSuccess),h("groups-added-to-single-user"),t(c),i()})).catch((e=>{console.error("Addition of user group membership failed",e),s(EF.userGroupAddedFailure)})).finally((()=>p(!1))):n.organization(l).users().addUsersToUserGroups(e,c.map((e=>e.id))).then((()=>{r(EF.userGroupsAddedSuccess),h("groups-added-to-multiple-users"),t(c),i()})).catch((e=>{console.error("Addition of user group memberships failed",e),s(EF.userGroupsAddedFailure)})).finally((()=>p(!1)))},onDelete:e=>{d(c.filter((t=>t.id!==e.id)))},onSelect:({id:e,title:t})=>{d([...c,{id:e,title:t}].sort(MF))},isProcessing:u}})(e,r,s),m=(0,o.useCallback)((()=>o.createElement(Ya.BackButton,{onClick:s,className:"s-user-group-dialog-navigate-back"})),[s]);return o.createElement(Ya.ConfirmDialogBase,{className:"gd-share-dialog gd-share-dialog-add-users s-user-management-add-user-group",displayCloseButton:!0,isPositive:!0,isSubmitDisabled:0===c.length||d,showProgressIndicator:d,headline:l.formatMessage(EF.addUserGroupDialogTitle),cancelButtonText:l.formatMessage(EF.addUserGroupDialogCloseButton),submitButtonText:l.formatMessage(EF.addUserGroupDialogSaveButton),onCancel:s,onSubmit:u,onClose:n,headerLeftButtonRenderer:i?m:void 0},o.createElement(SB,{grantedUserGroups:t,addedUserGroups:c,onDelete:h,onSelect:p}))},_B=(e,t,i,r)=>{const s=(0,a.useBackendStrict)(),{addSuccess:n,addError:l}=(0,Ya.useToastMessage)(),[c,d]=(0,o.useState)(!1),u=iO();return{isDeleteUserProcessing:c,deleteUser:(0,o.useCallback)((()=>{d(!0),s.organization(t).users().deleteUsers([e]).then((()=>{n(EF.userDeleteSuccess),u("user-deleted"),i(),r()})).catch((e=>{console.error("Delete of user failed",e),l(EF.userDeletedFailure)})).finally((()=>d(!1)))}),[s,t,e,i,r,n,l,u])}},EB=(e,t,i,r)=>{const s=(0,a.useBackendStrict)(),{addSuccess:n,addError:l}=(0,Ya.useToastMessage)(),[c,d]=(0,o.useState)(!1),u=iO();return{isDeleteUserGroupProcessing:c,deleteUserGroup:(0,o.useCallback)((()=>{d(!0),s.organization(t).users().deleteUserGroups([e]).then((()=>{n(EF.userGroupDeleteSuccess),u("group-deleted"),i(),r()})).catch((e=>{console.error("Delete of user group failed",e),l(EF.userGroupDeleteFailure)})).finally((()=>d(!1)))}),[s,t,e,l,n,i,r,u])}},MB=()=>{const[e,t]=(0,o.useState)(!1);return{isConfirmDeleteOpened:e,onOpenDeleteDialog:()=>t(!0),onCloseDeleteDialog:()=>t(!1),dialogOverlayClassNames:Xa("gd-user-management-dialog",{"gd-user-management-dialog-hidden":e}),dialogWrapperClassNames:Xa("gd-user-management-dialog",{"gd-user-management-dialog-hidden":e})}},TB=e=>{const{bootstrapUser:t,bootstrapUserGroup:i}=(e=>{const t=(0,a.useBackendStrict)(),[i,r]=(0,o.useState)();return(0,o.useEffect)((()=>{t.organization(e).getDescriptor(!0).then((e=>{r(e)}))}),[t,e]),{bootstrapUser:i?.bootstrapUser,bootstrapUserGroup:i?.bootstrapUserGroup}})(e);return{isBootstrapUser:e=>(0,s.areObjRefsEqual)(t,e?.ref),isBootstrapUserGroup:e=>(0,s.areObjRefsEqual)(i,e?.ref),bootstrapUserId:t?(0,s.objRefToString)(t):void 0,bootstrapUserGroupId:i?(0,s.objRefToString)(i):void 0}},PB=[{align:"bc tc"}],AB=({deleteLinkText:e,onOpenDeleteDialog:t,isDeleteLinkEnabled:i})=>i?o.createElement(Ya.Button,{className:"gd-button gd-button-link-dimmed gd-user-management-dialog-button-underlined s-user-management-delete-link",value:e,onClick:t}):o.createElement("span",{className:"gd-button-link-dimmed-disabled"},e),DB=(0,Ya.withBubble)(AB),IB=e=>{const{isDeleteLinkEnabled:t,disabledLinkTooltipTextId:i}=e;return o.createElement("div",null,t?o.createElement(AB,{...e}):o.createElement(DB,{...e,showBubble:!0,bubbleTextId:i,alignPoints:PB}))},NB=({dialogTitle:e,isAdmin:t,onEdit:i,editButtonIconClassName:r,editButtonText:s,children:a,deleteLinkText:n,isDeleteLinkEnabled:l,deleteLinkDisabledTooltipTextId:c,onOpenDeleteDialog:d,onClose:u})=>{const p=hr(),h=(0,Ya.useId)();return o.createElement(Ya.DialogBase,{className:"gd-share-dialog gd-share-dialog-add-users gd-user-management-dialog-view s-user-management-view-mode",displayCloseButton:!0,onClose:u,accessibilityConfig:{titleElementId:h}},o.createElement("div",{className:"gd-dialog-header-wrapper"},o.createElement("div",{className:"gd-dialog-header"},o.createElement(Ya.Typography,{tagName:"h3",className:"gd-dialog-header-title"},o.createElement("span",{className:"s-user-management-title",id:h},e),t?o.createElement("span",{className:"gd-setting-widget-status-pill"},p.formatMessage(EF.adminPill)):null))),o.createElement("div",{className:"gd-dialog-content"},a),o.createElement("div",{className:"gd-dialog-footer"},o.createElement("div",{className:"gd-user-management-dialog-buttons"},o.createElement("div",{className:"gd-user-management-dialog-buttons-left"},o.createElement(Ya.Button,{className:"gd-button gd-button-secondary s-user-management-edit-button",iconLeft:Xa(r,"gd-user-management-dialog-edit-mode-icon"),value:s,onClick:i})),o.createElement("div",{className:"gd-user-management-dialog-buttons-right"},o.createElement(IB,{deleteLinkText:n,onOpenDeleteDialog:d,isDeleteLinkEnabled:l,disabledLinkTooltipTextId:c}),o.createElement(Ya.Button,{className:"gd-button gd-button-secondary s-user-management-close-button",value:p.formatMessage(EF.closeDialog),onClick:u})))))},RB=({titleText:e,bodyText:t,isProcessing:i,onConfirm:r,onCancel:s})=>{const a=hr();return o.createElement(Ya.ConfirmDialog,{onSubmit:r,onCancel:s,isPositive:!1,isSubmitDisabled:i,showProgressIndicator:i,className:"gd-user-management-delete-dialog s-user-management-delete-confirm-dialog",headline:e,submitButtonText:a.formatMessage(EF.confirmDeleteButton),cancelButtonText:a.formatMessage(EF.cancelDeleteButton)},o.createElement(Ya.Typography,{tagName:"p"},t))},LB={MANAGE:{id:"userManagement.dataSources.permission.manage"},USE:{id:"userManagement.dataSources.permission.use"},remove:{id:"userManagement.dataSources.permission.remove"}},FB=(0,Ya.withBubble)((()=>{const e=(0,yl.Fg)();return o.createElement(Ya.Icon.QuestionMark,{color:e?.palette?.complementary?.c7??"#B0BECA"})})),OB=({permission:e,selectedPermission:t,toggleDropdown:i,onSelect:r,bubbleTextId:s})=>{const a=hr(),n=(0,o.useCallback)((()=>{e.enabled&&(i(),r(e.id))}),[e,r,i]),l=(0,o.useMemo)((()=>e.id===t),[e,t]);return o.createElement("div",{onClick:n,className:Xa("gd-list-item","gd-menu-item","gd-granular-permission-select-item","gd-user-management-permission-item","s-user-management-permission-item",{"is-disabled":!e.enabled,"is-selected":l})},o.createElement("div",null,a.formatMessage(LB[e.id])),o.createElement("div",{className:"gd-user-management-help-icon-wrapper"},o.createElement(FB,{bubbleTextId:s})))},BB={USE:{id:"userManagement.dataSources.permissionGroup.use.tooltip"},MANAGE:{id:"userManagement.dataSources.permissionGroup.manage.tooltip"}},zB={USE:{id:"userManagement.dataSources.permissionUser.use.tooltip"},MANAGE:{id:"userManagement.dataSources.permissionUser.manage.tooltip"}},VB=[{align:"br tr"}],GB=({disabled:e,onClick:t})=>{const i=hr(),r=Xa("gd-list-item gd-menu-item gd-menu-item-remove","s-user-management-permission-remove",{"is-disabled":e});return o.createElement("div",{className:r,onClick:t},i.formatMessage(LB.remove))},UB=({items:e,subjectType:t,alignTo:i,isShowDropdown:r,selectedPermission:s,toggleDropdown:a,onSelect:n,onDelete:l})=>{const c="user"===t?zB:BB,d=(0,o.useCallback)((e=>{n(e),a()}),[n,a]),u=(0,o.useCallback)((()=>{l(),a()}),[l,a]);return r?o.createElement(Ya.Overlay,{key:"GranularPermissionsSelect",alignTo:i,alignPoints:VB,className:"s-user-management-permissions-overlay",closeOnMouseDrag:!0,closeOnOutsideClick:!0,closeOnParentScroll:!0,onClose:a},o.createElement(Ya.ItemsWrapper,{smallItemsSpacing:!0},e.map((e=>o.createElement(OB,{key:e.id,permission:e,selectedPermission:s,toggleDropdown:a,onSelect:d,bubbleTextId:c[e.id].id}))),o.createElement(Ya.Separator,null),o.createElement(GB,{onClick:u}))):null},HB=[{id:"MANAGE",enabled:!0},{id:"USE",enabled:!0}],WB=(0,Ya.withBubble)((({dataSource:e,subjectType:t,isDropdownDisabled:i,isDropdownOpen:r,toggleDropdown:s,onChange:a,onDelete:n,className:l})=>{const c=hr(),[d,u]=(0,o.useState)(e.permission),p=iO(),h=(0,o.useCallback)((()=>{i||s()}),[i,s]),m=c.formatMessage(LB[d]);return o.createElement("div",{className:l},o.createElement("div",{className:Xa("s-user-management-permission-button","gd-granular-permission-button","dropdown-button",`gd-granular-permission-button-${sB.gl(e.id)}`,{"is-active":r,"gd-icon-navigateup":!i&&r,"gd-icon-navigatedown":!i&&!r,disabled:i,"gd-icon-right":!i}),onClick:h,"aria-label":"Share dialog granular permissions button"},o.createElement("div",{className:"s-user-management-button-title gd-granular-permission-button-title"},m)),o.createElement(UB,{selectedPermission:d,items:HB,subjectType:t,onSelect:i=>{a({...e,permission:i}),((e,t,i)=>{switch(i){case"USE":e("user"===t?"user-data-source-permission-changed-to-use":"group-data-source-permission-changed-to-use");break;case"MANAGE":e("user"===t?"user-data-source-permission-changed-to-manage":"group-data-source-permission-changed-to-manage")}})(p,t,i),u(i)},onDelete:()=>{n(e)},toggleDropdown:s,isShowDropdown:r,alignTo:`.gd-granular-permission-button-${sB.gl(e.id)}`}))})),jB=()=>o.createElement("div",{className:"gd-grantee-item-icon-left-background"},o.createElement("span",{className:"gd-grantee-item-icon gd-grantee-item-icon-left"},o.createElement(Ya.Icon.DataSource,null))),KB=({dataSource:e,subjectType:t,onChange:i,onDelete:r,renderDataSourceIcon:s})=>{const{isDropdownOpen:a,toggleDropdown:n}=(()=>{const[e,t]=(0,o.useState)(!1),i=(0,o.useCallback)((()=>t(!e)),[e]);return{isDropdownOpen:e,toggleDropdown:i}})(),l=Xa("s-user-management-data-source-item","gd-share-dialog-grantee-item",{"is-active":a});return o.createElement("div",{className:l},o.createElement(WB,{dataSource:e,subjectType:t,isDropdownOpen:a,toggleDropdown:n,onChange:i,onDelete:r,className:"gd-grantee-granular-permission"}),o.createElement("div",{className:"gd-grantee-content"},o.createElement("div",{className:"gd-grantee-content-label"},e.title)),s?s(e):o.createElement(jB,null))},$B=({mode:e,subjectType:t})=>{const i=hr();return o.createElement("div",{className:"gd-share-dialog-grantee-list-empty-selection s-user-management-empty-selection gd-user-management-dialog-list-empty"},o.createElement("span",null,"VIEW"===e&&"user"===t&&i.formatMessage(EF.viewUserDataSourceListEmpty),"VIEW"===e&&"userGroup"===t&&i.formatMessage(EF.viewUserGroupDataSourceListEmpty),"EDIT"===e&&i.formatMessage(EF.editDataSourceListEmpty)))},qB=({dataSources:e,subjectType:t,mode:i,onChange:r,onDelete:s,renderDataSourceIcon:a})=>{const n=(0,o.useMemo)((()=>e?[...e].sort(MF):[]),[e]);return 0===n.length?o.createElement($B,{mode:i,subjectType:t}):o.createElement("div",{className:"gd-share-dialog-grantee-list s-user-management-data-sources"},n.map((e=>o.createElement(KB,{key:e.id,dataSource:e,subjectType:t,onChange:r,onDelete:s,renderDataSourceIcon:a}))))},YB=()=>null,XB=()=>o.createElement("div",{className:"gd-share-dialog-loading-mask-container"},o.createElement(Ya.LoadingMask,{size:"small"})),QB=e=>o.createElement("div",{className:"s-user-management-no-option","aria-label":"Share dialog no match"},o.createElement(pO.c.NoOptionsMessage,{...e})),ZB=e=>o.createElement(pO.c.MenuList,{...e},o.createElement("div",{className:"s-user-management-menu","aria-label":"Share dialog menu list"},e.children)),JB=e=>o.createElement("div",{className:"gd-share-dialog-input s-user-management-input"},o.createElement(pO.c.Input,{...e})),ez=e=>{const{className:t,cx:i,isFocused:r,innerRef:s,innerProps:a,data:n}=e;if(WO(n))return l=n,o.createElement("div",{className:"gd-share-dialog-option-error s-user-management-option-error","aria-label":"Share dialog error"},o.createElement("span",{className:"gd-share-dialog-option-error-content"},l.label));var l;const c=GO(n.value)?`s-data-source-item-id-${n.value.id}`:"",d=i({option:!0,"option--is-focused":r},t);return o.createElement("div",{ref:s,className:`${d} ${c}`,...a},o.createElement("div",{className:"option-content"},GO((u=n).value)?o.createElement(o.Fragment,null," ",u.value.name," "):o.createElement(o.Fragment,null," ",u.label," ")));var u},tz=e=>{const{label:t}=e.data;return o.createElement("div",{className:"gd-share-dialog-select-group-heading"},o.createElement(Ya.Typography,{tagName:"h3"},t))},iz={id:"userManagement.dataSource.searchError"},rz=({addedDataSources:e,grantedDataSources:t,onSelectDataSource:i})=>{const r=(0,a.useBackendStrict)(),s=hr(),n=(0,o.useRef)(null);(0,o.useEffect)((()=>{n.current.focus()}),[]);const l=(0,o.useCallback)((e=>{const t=e.value;GO(t)&&i(t)}),[i]),c=(0,o.useMemo)((()=>()=>s.formatMessage(EF.searchDataSourceNoMatch)),[s]),d=(0,o.useMemo)((()=>hB(((e,t)=>async i=>{try{return(await e.dataSources().getDataSourceIdentifiers()).filter((e=>e.name.toLocaleLowerCase().includes(i.toLowerCase()))).sort(((e,t)=>{const i=e.name.toUpperCase(),r=t.name.toUpperCase();return i.localeCompare(r)})).map((e=>({label:e.id,value:e})))}catch(e){return(e=>[{isDisabled:!0,type:"error",label:e.formatMessage(iz)}])(t)}})(r,s),400,{leading:!0})),[r,s]),u=(0,o.useCallback)((e=>{const t=e.target;32!==e.keyCode||t.value||e.preventDefault(),9===e.keyCode&&e.preventDefault()}),[]),p=(0,o.useMemo)((()=>t?[...e,...t]:[]),[e,t]);return o.createElement("div",{className:"gd-share-dialog-content-select s-user-management-data-source-select"},o.createElement(mB.Z,{ref:n,defaultMenuIsOpen:!0,classNamePrefix:"gd-share-dialog",components:{DropdownIndicator:YB,IndicatorSeparator:YB,Input:JB,Option:ez,GroupHeading:tz,LoadingMessage:XB,LoadingIndicator:YB,MenuList:ZB,NoOptionsMessage:QB},loadOptions:d,defaultOptions:!0,placeholder:s.formatMessage(EF.searchDataSourcePlaceholder),onKeyDown:u,noOptionsMessage:c,onChange:l,value:null,filterOption:e=>{const t=e.value;return!p.some((e=>e.id===t.id))}}))},sz=({ids:e,subjectType:t,grantedDataSources:i,enableBackButton:r,onSubmit:s,onCancel:n,onClose:l,renderDataSourceIcon:c})=>{const d=hr(),{addedDataSources:u,isProcessing:p,onAdd:h,onDelete:m,onChange:g,onSelect:b}=((e,t,i,r)=>{const{addSuccess:s,addError:n}=(0,Ya.useToastMessage)(),l=(0,a.useBackendStrict)(),c=JF(),[d,u]=(0,o.useState)([]),[p,h]=(0,o.useState)(!1),m=iO();return{addedDataSources:d,onDelete:e=>{u(d.filter((t=>t.id!==e.id)))},onChange:e=>{const t=d.filter((t=>t.id!==e.id));u([...t,e].sort(MF))},onSelect:({id:e,name:t})=>{u([...d,{id:e,title:t,permission:"USE"}].sort(MF))},onAdd:()=>{h(!0),l.organization(c).permissions().assignPermissions({assignees:e.map((e=>({id:e,type:t}))),dataSources:d.map(DF)}).then((()=>{1===e.length?(s(EF.dataSourceAddedSuccess),m("user"===t?"permission-added-to-single-user":"permission-added-to-single-group")):(s("user"===t?EF.dataSourcesAddedToUsersSuccess:EF.dataSourcesAddedToUserGroupsSuccess),m("user"===t?"permission-added-to-multiple-users":"permission-added-to-multiple-groups")),i(d),r()})).catch((i=>{console.error("Addition of data source permission failed",i),1===e.length?n(EF.dataSourceAddedError):n("user"===t?EF.dataSourcesAddedToUsersError:EF.dataSourcesAddedToUserGroupsError)})).finally((()=>h(!1)))},isProcessing:p}})(e,t,s,n),f=(0,o.useCallback)((()=>o.createElement(Ya.BackButton,{onClick:n,className:"s-user-management-navigate-back"})),[n]);return o.createElement(Ya.ConfirmDialogBase,{className:"gd-share-dialog gd-share-dialog-add-users s-user-management-add-data-source",displayCloseButton:!0,isPositive:!0,isSubmitDisabled:0===u.length||p,showProgressIndicator:p,headline:d.formatMessage(EF.addDataSourceDialogTitle),cancelButtonText:d.formatMessage(EF.addWorkspaceDialogCloseButton),submitButtonText:d.formatMessage(EF.addWorkspaceDialogSaveButton),onCancel:n,onSubmit:h,onClose:l,headerLeftButtonRenderer:r?f:void 0},o.createElement(rz,{addedDataSources:u,grantedDataSources:i,onSelectDataSource:b}),o.createElement(qB,{subjectType:t,mode:"EDIT",dataSources:u,onDelete:m,onChange:g,renderDataSourceIcon:c}))},az=(e,t,i,r)=>{const{addSuccess:s,addError:n}=(0,Ya.useToastMessage)(),l=(0,a.useBackendStrict)(),[c,d]=(0,o.useState)(void 0),[u,p]=(0,o.useState)(void 0),{getPermissions:h}=(0,o.useMemo)((()=>"user"===t?{getPermissions:l.organization(i).permissions().getPermissionsForUser}:{getPermissions:l.organization(i).permissions().getPermissionsForUserGroup}),[l,i,t]);return(0,o.useEffect)((()=>{h(e).then((e=>{const t=e.workspacePermissions.map((e=>(e=>{const{workspace:t}=e,i=e.hierarchyPermissions.length>0?e.hierarchyPermissions:e.permissions;return{id:t.id,title:t.name,permissions:i,isHierarchical:e.hierarchyPermissions.length>0}})(e))),i=e.dataSourcePermissions.map(IF);d(t),p(i)}))}),[h,e,i]),{grantedWorkspaces:c,grantedDataSources:u,onWorkspacesChanged:e=>{const t=c.filter((t=>!e.some((e=>e.id===t.id))));d([...t,...e].sort(MF)),r()},onDataSourcesChanged:e=>{const t=u.filter((t=>!e.some((e=>e.id===t.id))));p([...t,...e].sort(MF)),r()},removeGrantedWorkspace:a=>{l.organization(i).permissions().revokePermissions({assignees:[{id:e,type:t}],workspaces:[AF(a)]}).then((()=>{s(EF.workspaceRemovedSuccess),d(c.filter((e=>e.id!==a.id))),r()})).catch((e=>{console.error("Removal of workspace permission failed",e),n(EF.workspaceRemovedFailure)}))},removeGrantedDataSource:a=>{l.organization(i).permissions().revokePermissions({assignees:[{id:e,type:t}],dataSources:[DF(a)]}).then((()=>{s(EF.dataSourceRemovedSuccess),p(u.filter((e=>e.id!==a.id))),r()})).catch((e=>{console.error("Removal of data source permission failed",e),n(EF.dataSourceRemovedFailure)}))},updateGrantedWorkspace:a=>{const o=c.find((e=>e.id===a.id)),u=[...c.filter((e=>e!==o)),a].sort(MF);l.organization(i).permissions().assignPermissions({assignees:[{id:e,type:t}],workspaces:[AF(a)]}).then((()=>{s(EF.workspaceChangeSuccess),d(u),o.isHierarchical!==a.isHierarchical&&r()})).catch((e=>{console.error("Change of workspace permission failed",e),n(EF.workspaceChangeFailure)}))},updateGrantedDataSource:a=>{const o=[...u.filter((e=>e.id!==a.id)),a].sort(MF);l.organization(i).permissions().assignPermissions({assignees:[{id:e,type:t}],dataSources:[DF(a)]}).then((()=>{s(EF.dataSourceChangeSuccess),p(o),r()})).catch((e=>{console.error("Change of data source permission failed",e),n(EF.dataSourceChangeFailure)}))}}},oz=({dialogTitle:e,children:t,onClose:i})=>{const r=hr(),s=(0,Ya.useId)();return o.createElement(Ya.DialogBase,{className:"gd-share-dialog gd-share-dialog-add-users gd-user-management-dialog-view s-user-management-view-mode",displayCloseButton:!0,onClose:i,accessibilityConfig:{titleElementId:s}},o.createElement("div",{className:"gd-dialog-header-wrapper"},o.createElement("div",{className:"gd-dialog-header"},o.createElement(Ya.Typography,{tagName:"h3",className:"gd-dialog-header-title",id:s},o.createElement("span",null,e)))),o.createElement("div",{className:"gd-dialog-content"},t),o.createElement("div",{className:"gd-dialog-footer"},o.createElement("div",{className:"gd-user-management-dialog-buttons"},o.createElement("div",{className:"gd-user-management-dialog-buttons-left"}),o.createElement("div",{className:"gd-user-management-dialog-buttons-right"},o.createElement(Ya.Button,{className:"gd-button gd-button-secondary",value:r.formatMessage(EF.closeDialog),onClick:i})))))};var nz=i(20434);const lz=[{align:"cc cc"}],cz=rO((({userId:e,organizationId:t,isAdmin:i,onSuccess:r,onClose:s,initialView:n="VIEW",changeUserMembership:l=!1,renderDataSourceIcon:c,areFilterViewsEnabled:d=!1,selectedTab:u})=>{const p=hr(),{dialogMode:h,setDialogMode:m}=(e=>{const[t,i]=(0,o.useState)(e);return{dialogMode:t,setDialogMode:i}})(n),{user:g,isCurrentlyAdmin:b,onUserDetailsChanged:f,setIsAdmin:v,error:y,isLoading:C}=((e,t,i,r)=>{const[s,n]=(0,o.useState)(),[l,c]=(0,o.useState)(i),d=(0,a.useBackendStrict)(),{error:u,status:p}=(0,a.useCancelablePromise)({promise:()=>d.organization(t).users().getUser(e),onSuccess:e=>n(e)},[d,e,t]);return{user:s,onUserDetailsChanged:(e,t)=>{n(e),c(t),r()},isCurrentlyAdmin:l,setIsAdmin:c,error:u,isLoading:"loading"===p}})(e,t,i,r),{isBootstrapUser:k,bootstrapUserGroupId:w}=TB(t),{grantedWorkspaces:S,onWorkspacesChanged:x,removeGrantedWorkspace:_,updateGrantedWorkspace:E,grantedDataSources:M,onDataSourcesChanged:T,removeGrantedDataSource:P,updateGrantedDataSource:A}=az(e,"user",t,r),{grantedUserGroups:D,onUserGroupsChanged:I,removeGrantedUserGroup:N,removeAdminGroup:R}=((e,t,i,r,s)=>{const{addSuccess:n,addError:l}=(0,Ya.useToastMessage)(),c=(0,a.useBackendStrict)(),[d,u]=(0,o.useState)(void 0);(0,o.useEffect)((()=>{c.organization(t).users().getUserGroupsOfUser(e).then((e=>{u(e.map((e=>({id:e.id,title:PF(e)}))))}))}),[c,e,t]);const p=e=>e.some((e=>e.id===i));return{grantedUserGroups:d,onUserGroupsChanged:e=>{const t=[...d.filter((t=>!e.some((e=>e.id===t.id)))),...e].sort(MF);u(t),p(t)&&s(!0),r()},removeGrantedUserGroup:i=>{c.organization(t).users().removeUsersFromUserGroups([e],[i.id]).then((()=>{n(EF.userGroupRemovedSuccess),u(d.filter((e=>e.id!==i.id))),r()})).catch((e=>{console.error("Removal of user group failed",e),l(EF.userGroupRemoveFailure)}))},removeAdminGroup:()=>{p(d)?c.organization(t).users().removeUsersFromUserGroups([e],[i]).then((()=>u(d.filter((e=>e.id!==i))))):Promise.resolve()}}})(e,t,w,r,v),{tabs:L,selectedTabId:F,setSelectedTabId:O}=((e,t,i,r,s)=>{const a=s?xF[(e=>{switch(e){case"WORKSPACES":return"workspaces";case"USER_GROUPS":return"userGroups";case"DATA_SOURCES":return"dataSources";default:return"details"}})(s)]:void 0,[n,l]=(0,o.useState)(a??(r?xF.userGroups:xF.workspaces));return{tabs:(0,o.useMemo)((()=>[{id:xF.userGroups.id,values:{count:t?.length}},r?void 0:{id:xF.workspaces.id,values:{count:e?.length}},r?void 0:{id:xF.dataSources.id,values:{count:i?.length}},xF.details].filter((e=>!!e))),[r,e,t,i]),selectedTabId:n,setSelectedTabId:l}})(S,D,M,b,u),{isConfirmDeleteOpened:B,onOpenDeleteDialog:z,onCloseDeleteDialog:V,dialogOverlayClassNames:G,dialogWrapperClassNames:U}=MB(),{deleteUser:H,isDeleteUserProcessing:W}=_B(e,t,r,s),{editButtonText:j,editButtonMode:K,editButtonIconClassName:$}=(0,o.useMemo)((()=>F.id===xF.workspaces.id?{editButtonMode:"WORKSPACE",editButtonIconClassName:"gd-icon-add",editButtonText:p.formatMessage(EF.addWorkspaceButton)}:F.id===xF.userGroups.id?{editButtonMode:"USER_GROUPS",editButtonIconClassName:"gd-icon-add",editButtonText:p.formatMessage(EF.addUserGroupButton)}:F.id===xF.dataSources.id?{editButtonMode:"DATA_SOURCES",editButtonIconClassName:"gd-icon-add",editButtonText:p.formatMessage(EF.addDataSourcePermissionButton)}:{editButtonMode:"DETAIL",editButtonIconClassName:"gd-icon-pencil gd-user-management-dialog-edit-mode-icon",editButtonText:p.formatMessage(EF.editUserButton)}),[p,F]),q=!y&&(C||!S||!D||!M),Y="VIEW"!==n,[X,Q]=(0,o.useState)(void 0);return o.createElement(ZF,{organizationId:t},B?o.createElement(RB,{titleText:p.formatMessage(EF.deleteUserConfirmTitle),bodyText:p.formatMessage(EF.deleteUserConfirmBody),onConfirm:H,isProcessing:W,onCancel:V}):null,o.createElement(Ya.Overlay,{alignPoints:lz,isModal:!0,positionType:"fixed",className:G,resizeObserverThreshold:.2},o.createElement("div",{className:U},q?o.createElement(o.Fragment,null,o.createElement(a.LoadingComponent,{className:"gd-user-management-dialog-loading"}),o.createElement(oz,{dialogTitle:"",onClose:s})):y?o.createElement(oz,{onClose:s,dialogTitle:p.formatMessage(EF.userLoadingErrorTitle)},o.createElement(Ya.Message,{type:"error",className:"gd-user-management-dialog-error"},p.formatMessage((0,nz.isUnexpectedResponseError)(y)&&404===y.httpStatus?EF.userLoadingErrorNotExist:EF.userLoadingErrorUnknown))):o.createElement(o.Fragment,null,"VIEW"===h&&o.createElement(NB,{dialogTitle:TF(g),isAdmin:b,isDeleteLinkEnabled:!k(g),deleteLinkDisabledTooltipTextId:EF.deleteUserDisabledTooltip.id,deleteLinkText:p.formatMessage(EF.deleteUserLink),onOpenDeleteDialog:z,onClose:s,onEdit:()=>m(K),editButtonText:j,editButtonIconClassName:$},b?o.createElement("div",{className:"gd-message progress gd-user-management-admin-alert s-admin-message"},o.createElement("div",{className:"gd-message-text"},p.formatMessage(EF.adminAlert))):null,o.createElement(Ya.Tabs,{selectedTabId:F.id,onTabSelect:O,tabs:L,className:"gd-user-management-dialog-tabs s-user-management-tabs"}),F.id===xF.workspaces.id&&o.createElement(XF,{workspaces:S,subjectType:"user",mode:"VIEW",onDelete:_,onChange:E,areFilterViewsEnabled:d,onClick:e=>{Q(e),m("WORKSPACE")}}),F.id===xF.userGroups.id&&o.createElement(dB,{userGroups:D,mode:"VIEW",onDelete:N,isBootstrapUser:k(g),bootstrapUserGroupId:w}),F.id===xF.details.id&&o.createElement(oB,{user:g,isAdmin:b,isBootstrapUser:k(g),mode:"VIEW"}),F.id===xF.dataSources.id&&o.createElement(qB,{dataSources:M,subjectType:"user",mode:"VIEW",onDelete:P,onChange:A,renderDataSourceIcon:c})),"WORKSPACE"===h&&o.createElement(tB,{ids:[e],subjectType:"user",grantedWorkspaces:S,enableBackButton:!Y,onSubmit:e=>{Q(void 0),x(e)},onCancel:Y?s:()=>{Q(void 0),m("VIEW")},onClose:s,areFilterViewsEnabled:d,editWorkspace:X}),"USER_GROUPS"===h&&o.createElement(xB,{userIds:[e],grantedUserGroups:D,enableBackButton:!Y,onSubmit:I,onCancel:Y?s:()=>m("VIEW"),onClose:s}),"DATA_SOURCES"===h&&o.createElement(sz,{ids:[e],subjectType:"user",grantedDataSources:M,enableBackButton:!Y,onSubmit:T,onCancel:Y?s:()=>m("VIEW"),onClose:s,renderDataSourceIcon:c}),"DETAIL"===h&&o.createElement(pB,{user:g,isAdmin:b,isBootstrapUser:k(g),enableBackButton:!Y,changeUserMembership:l,onSubmit:f,onCancel:Y?s:()=>m("VIEW"),onClose:s,removeAdminGroup:R})))))})),dz=()=>null,uz=()=>o.createElement("div",{className:"gd-share-dialog-loading-mask-container"},o.createElement(Ya.LoadingMask,{size:"small"})),pz=e=>o.createElement("div",{className:"s-user-management-no-option","aria-label":"Share dialog no match"},o.createElement(pO.c.NoOptionsMessage,{...e})),hz=MO((e=>o.createElement(pO.c.MenuList,{...e},o.createElement("div",{className:"s-user-management-dialog-menu","aria-label":"Share dialog menu list"},e.children)))),mz=e=>o.createElement("div",{className:"gd-share-dialog-input s-user-management-input"},o.createElement(pO.c.Input,{...e})),gz=e=>{const{className:t,cx:i,isFocused:r,innerRef:s,innerProps:a,data:n}=e;if(WO(n))return l=n,o.createElement("div",{className:"gd-share-dialog-option-error s-user-management-option-error","aria-label":"Share dialog error"},o.createElement("span",{className:"gd-share-dialog-option-error-content"},l.label));var l;const c=HO(n.value)?`s-user-item-id-${n.value.id}`:"",d=i({option:!0,"option--is-focused":r},t);return o.createElement("div",{ref:s,className:`${d} ${c}`,...a},o.createElement("div",{className:"option-content"},(u=n,o.createElement(o.Fragment,null," ",u.label," ",o.createElement("span",{className:"option-email"},u.value.email)," "))));var u},bz=e=>{const{label:t}=e.data;return o.createElement("div",{className:"gd-share-dialog-select-group-heading"},o.createElement(Ya.Typography,{tagName:"h3"},t))},fz=e=>[{isDisabled:!0,type:"error",label:e.formatMessage(EF.searchUserError)}],vz=({addedUsers:e,grantedUsers:t,onSelect:i})=>{const r=hr(),s=(0,a.useBackendStrict)(),n=JF(),l=(0,o.useCallback)((e=>{const t=e.value;HO(t)&&i(t)}),[i]),c=(0,o.useMemo)((()=>()=>r.formatMessage(EF.searchUserNoMatch)),[r]),d=(0,o.useMemo)((()=>((e,t,i)=>async(r,s,{page:a})=>{try{return await e.organization(t).users().getUsersQuery().withFilter({name:r}).withPage(a).query().then((e=>({options:e.items.map((e=>{const t={id:e.id,title:TF(e),email:e.email};return{label:e.fullName||e.id,value:t}})),hasMore:e.items.length>0,additional:{page:a+1}})))}catch{return{options:fz(i),hasMore:!1,additional:{page:0}}}})(s,n,r)),[s,n,r]),u=(0,o.useCallback)((e=>{const t=e.target;32!==e.keyCode||t.value||e.preventDefault(),9===e.keyCode&&e.preventDefault()}),[]),p=(0,o.useMemo)((()=>t?[...e,...t]:[]),[e,t]);return o.createElement("div",{className:"gd-share-dialog-content-select s-user-management-user-select"},o.createElement(zO,{autoFocus:!0,defaultMenuIsOpen:!0,classNamePrefix:"gd-share-dialog",components:{DropdownIndicator:dz,IndicatorSeparator:dz,Input:mz,Option:gz,GroupHeading:bz,LoadingMessage:uz,LoadingIndicator:dz,MenuList:hz,NoOptionsMessage:pz},loadOptions:d,defaultOptions:!0,placeholder:r.formatMessage(EF.searchUserPlaceholder),onKeyDown:u,noOptionsMessage:c,onChange:l,value:null,filterOption:e=>{const t=e.value;return!p.some((e=>e.id===t.id))},additional:{page:0},debounceTimeout:400}))},yz=({mode:e})=>{const t=hr();return o.createElement("div",{className:"gd-share-dialog-grantee-list-empty-selection s-user-management-empty-selection gd-user-management-dialog-list-empty"},o.createElement("span",null,"VIEW"===e&&t.formatMessage(EF.viewUserListEmpty),"EDIT"===e&&t.formatMessage(EF.editUserListEmpty)))},Cz=()=>o.createElement("div",{className:"gd-grantee-item-icon-left-background"},o.createElement("span",{className:"gd-grantee-item-icon gd-grantee-icon-user gd-grantee-item-icon-left"})),kz=[{align:"cr cl"}],wz=({mode:e,onClick:t,isDisabled:i})=>{const r=hr();return o.createElement(Ya.BubbleHoverTrigger,{showDelay:0,hideDelay:0,className:"gd-grantee-item-delete"},o.createElement("span",{className:Xa("gd-grantee-item-icon gd-grantee-icon-trash gd-grantee-item-icon-right s-user-management-item-delete",{"is-disabled":i}),onClick:i?void 0:t,"aria-label":"Group dialog user member delete"}),o.createElement(Ya.Bubble,{className:"bubble-primary",alignPoints:kz},"VIEW"===e?r.formatMessage(i?EF.removeSavedUserDisabledTooltip:EF.removeSavedUserTooltip):r.formatMessage(EF.removeUnsavedUserTooltip)))},Sz=({mode:e,onDelete:t,user:i,isDeleteDisabled:r})=>{const s=Xa("s-user-management-item","gd-share-dialog-grantee-item");return o.createElement("div",{className:s},o.createElement(wz,{mode:e,onClick:()=>t(i),isDisabled:r}),o.createElement("div",{className:"gd-grantee-content"},o.createElement("div",{className:"gd-grantee-content-label"},i.title),o.createElement("div",{className:"gd-grantee-content-label gd-grantee-content-email"},i.email)),o.createElement(Cz,null))},xz=({users:e,mode:t,onDelete:i,isBootstrapUserGroup:r,bootstrapUserId:s})=>{const a=(0,o.useMemo)((()=>e?[...e].sort(MF):[]),[e]);return 0===a.length?o.createElement(yz,{mode:t}):o.createElement("div",{className:"gd-share-dialog-grantee-list s-user-management-users-list"},a.map((e=>{const a=r&&e.id===s;return o.createElement(Sz,{key:e.id,user:e,onDelete:i,isDeleteDisabled:a,mode:t})})))},_z=({addedUsers:e,grantedUsers:t,onDelete:i,onSelect:r})=>o.createElement(o.Fragment,null,o.createElement(vz,{addedUsers:e,grantedUsers:t,onSelect:r}),o.createElement(xz,{mode:"EDIT",users:e,onDelete:i,isBootstrapUserGroup:!1,bootstrapUserId:void 0})),Ez=({userGroupIds:e,grantedUsers:t,enableBackButton:i,onSubmit:r,onCancel:s,onClose:n})=>{const l=hr(),{addedUsers:c,isProcessing:d,onSelect:u,onAdd:p,onDelete:h}=((e,t,i)=>{const r=(0,a.useBackendStrict)(),s=JF(),[n,l]=(0,o.useState)([]),{addSuccess:c,addError:d}=(0,Ya.useToastMessage)(),[u,p]=(0,o.useState)(!1),h=iO();return{addedUsers:n,onDelete:e=>{l(n.filter((t=>t.id!==e.id)))},onAdd:()=>{p(!0),1===e.length?r.organization(s).users().addUsersToUserGroups(n.map((e=>e.id)),e).then((()=>{c(EF.usersAddedSuccess),h("users-added-to-single-group"),t(n),i()})).catch((e=>{console.error("Addition of user group members failed",e),d(EF.usersAddedFailure)})).finally((()=>p(!1))):r.organization(s).users().addUsersToUserGroups(n.map((e=>e.id)),e).then((()=>{c(EF.usersAddedToUserGroupsSuccess),h("users-added-to-multiple-groups"),t(n),i()})).catch((e=>{console.error("Addition of user groups members failed",e),d(EF.usersAddedToUserGroupsFailure)})).finally((()=>p(!1)))},onSelect:e=>{l([...n,e].sort(MF))},isProcessing:u}})(e,r,s),m=(0,o.useCallback)((()=>o.createElement(Ya.BackButton,{onClick:s,className:"s-user-management-navigate-back"})),[s]);return o.createElement(Ya.ConfirmDialogBase,{className:"gd-share-dialog gd-share-dialog-add-users s-user-management-add-user",displayCloseButton:!0,isPositive:!0,isSubmitDisabled:0===c.length||d,showProgressIndicator:d,headline:l.formatMessage(EF.addUserDialogTitle),cancelButtonText:l.formatMessage(EF.addUserDialogCloseButton),submitButtonText:l.formatMessage(EF.addUserDialogSaveButton),onCancel:s,onSubmit:p,onClose:n,headerLeftButtonRenderer:i?m:void 0},o.createElement(_z,{grantedUsers:t,addedUsers:c,onDelete:h,onSelect:u}))},Mz=({userGroup:e,mode:t,onChange:i})=>{const r=hr();return e?o.createElement("div",{className:"gd-user-management-dialog-detail"},o.createElement(aB,{labelText:r.formatMessage(EF.userGroupName),value:e.name,mode:t,onChange:t=>i({...e,name:t})}),o.createElement(aB,{labelText:r.formatMessage(EF.userGroupId),value:e.id,mode:t,disabled:!0,onChange:Qa})):null},Tz=({userGroup:e,enableBackButton:t,onSubmit:i,onCancel:r,onClose:s})=>{const n=hr(),{updatedUserGroup:l,onChange:c,isProcessing:d,isDirty:u,onSave:p}=((e,t,i)=>{const{addSuccess:r,addError:s}=(0,Ya.useToastMessage)(),[n,l]=(0,o.useState)(e),c=(0,a.useBackendStrict)(),d=JF(),[u,p]=(0,o.useState)(!1),h=iO();(0,o.useEffect)((()=>{l(e)}),[e]);const m=(0,o.useMemo)((()=>uB(e)!==uB(n)),[e,n]);return{updatedUserGroup:n,onChange:l,onSave:()=>{p(!0),c.organization(d).users().updateUserGroup(n).then((()=>{r(EF.userGroupDetailsUpdatedSuccess),h("group-detail-updated"),t(n),i()})).catch((e=>{console.error("Change of user userGroup details failed",e),s(EF.userGroupDetailsUpdatedFailure)})).finally((()=>p(!1)))},isDirty:m,isProcessing:u}})(e,i,r),h=(0,o.useCallback)((()=>o.createElement(Ya.BackButton,{onClick:r,className:"s-user-management-navigate-back"})),[r]);return o.createElement(Ya.ConfirmDialogBase,{className:"gd-share-dialog gd-share-dialog-add-users s-user-management-edit-user-group",displayCloseButton:!0,isPositive:!0,isSubmitDisabled:!u||d,showProgressIndicator:d,headline:PF(e),cancelButtonText:n.formatMessage(EF.closeEditMode),submitButtonText:n.formatMessage(EF.saveEditedDetails),onCancel:r,onSubmit:p,onClose:s,headerLeftButtonRenderer:t?h:void 0},o.createElement(Mz,{userGroup:l,mode:"EDIT",onChange:c}))},Pz=[{align:"cc cc"}],Az=rO((({userGroupId:e,organizationId:t,isAdmin:i,onSuccess:r,onClose:s,initialView:n="VIEW",renderDataSourceIcon:l,areFilterViewsEnabled:c=!1})=>{const d=hr(),{dialogMode:u,setDialogMode:p}=(e=>{const[t,i]=(0,o.useState)(e);return{dialogMode:t,setDialogMode:i}})(n),{userGroup:h,onUserGroupDetailsChanged:m,error:g,isLoading:b}=((e,t,i)=>{const[r,s]=(0,o.useState)(),n=(0,a.useBackendStrict)(),{error:l,status:c}=(0,a.useCancelablePromise)({promise:()=>n.organization(t).users().getUserGroup(e),onSuccess:e=>s(e)},[n,e,t]);return{userGroup:r,onUserGroupDetailsChanged:e=>{s(e),i()},error:l,isLoading:"loading"===c}})(e,t,r),{grantedWorkspaces:f,onWorkspacesChanged:v,removeGrantedWorkspace:y,updateGrantedWorkspace:C,grantedDataSources:k,onDataSourcesChanged:w,removeGrantedDataSource:S,updateGrantedDataSource:x}=az(e,"userGroup",t,r),{grantedUsers:_,onUsersChanged:E,removeGrantedUsers:M}=((e,t,i)=>{const{addSuccess:r,addError:s}=(0,Ya.useToastMessage)(),n=(0,a.useBackendStrict)(),[l,c]=(0,o.useState)(void 0);return(0,o.useEffect)((()=>{n.organization(t).users().getUsersOfUserGroup(e).then((e=>{c(e.map((e=>({id:e.login,title:TF(e),email:e.email}))))}))}),[n,e,t]),{grantedUsers:l,onUsersChanged:e=>{const t=l.filter((t=>!e.some((e=>e.id===t.id))));c([...t,...e].sort(MF)),i()},removeGrantedUsers:a=>{n.organization(t).users().removeUsersFromUserGroups([a.id],[e]).then((()=>{r(EF.usersRemovedSuccess),c(l.filter((e=>e.id!==a.id))),i()})).catch((e=>{console.error("Removal of user failed",e),s(EF.usersRemovedFailure)}))}}})(e,t,r),{tabs:T,selectedTabId:P,setSelectedTabId:A}=((e,t,i,r)=>{const[s,a]=(0,o.useState)(_F.users);return{tabs:(0,o.useMemo)((()=>[{id:_F.users.id,values:{count:t?.length}},r?void 0:{id:_F.workspaces.id,values:{count:e?.length}},r?void 0:{id:_F.dataSources.id,values:{count:i?.length}},_F.details].filter((e=>!!e))),[r,e,t,i]),selectedTabId:s,setSelectedTabId:a}})(f,_,k,i),{isConfirmDeleteOpened:D,onOpenDeleteDialog:I,onCloseDeleteDialog:N,dialogOverlayClassNames:R,dialogWrapperClassNames:L}=MB(),{deleteUserGroup:F,isDeleteUserGroupProcessing:O}=EB(e,t,r,s),{isBootstrapUserGroup:B,bootstrapUserId:z}=TB(t),{editButtonText:V,editButtonMode:G,editButtonIconClassName:U}=(0,o.useMemo)((()=>P.id===_F.workspaces.id?{editButtonMode:"WORKSPACE",editButtonIconClassName:"gd-icon-add",editButtonText:d.formatMessage(EF.addWorkspaceButton)}:P.id===_F.dataSources.id?{editButtonMode:"DATA_SOURCES",editButtonIconClassName:"gd-icon-add",editButtonText:d.formatMessage(EF.addDataSourcePermissionButton)}:P.id===_F.users.id?{editButtonMode:"USERS",editButtonIconClassName:"gd-icon-add",editButtonText:d.formatMessage(EF.addUserButton)}:{editButtonMode:"DETAIL",editButtonIconClassName:"gd-icon-pencil gd-user-management-dialog-edit-mode-icon",editButtonText:d.formatMessage(EF.editUserGroupButton)}),[d,P]),H="VIEW"!==n,[W,j]=(0,o.useState)(void 0),K=!g&&(b||!f||!_||!k);return o.createElement(ZF,{organizationId:t},D?o.createElement(RB,{titleText:PF(h),bodyText:d.formatMessage(EF.deleteUserGroupConfirmBody),isProcessing:O,onConfirm:F,onCancel:N}):null,o.createElement(Ya.Overlay,{alignPoints:Pz,isModal:!0,positionType:"fixed",className:R,resizeObserverThreshold:.2},o.createElement("div",{className:L},K?o.createElement(o.Fragment,null,o.createElement(a.LoadingComponent,{className:"gd-user-management-dialog-loading"}),o.createElement(oz,{dialogTitle:"",onClose:s})):g?o.createElement(oz,{onClose:s,dialogTitle:d.formatMessage(EF.userGroupLoadingErrorTitle)},o.createElement(Ya.Message,{type:"error",className:"gd-user-management-dialog-error"},d.formatMessage((0,nz.isUnexpectedResponseError)(g)&&404===g.httpStatus?EF.userGroupLoadingErrorNotExist:EF.userGroupLoadingErrorUnknown))):o.createElement(o.Fragment,null,"VIEW"===u&&o.createElement(NB,{dialogTitle:PF(h),isAdmin:i,isDeleteLinkEnabled:!B(h)&&0===_?.length,deleteLinkDisabledTooltipTextId:B(h)?EF.deleteAdminUserGroupTooltip.id:EF.deleteNonEmptyUserGroupTooltip.id,deleteLinkText:d.formatMessage(EF.deleteUserGroupLink),onOpenDeleteDialog:I,onClose:s,onEdit:()=>p(G),editButtonText:V,editButtonIconClassName:U},i?o.createElement("div",{className:"gd-message progress gd-user-management-admin-alert s-admin-message"},o.createElement("div",{className:"gd-message-text"},d.formatMessage(EF.adminGroupAlert))):null,o.createElement(Ya.Tabs,{selectedTabId:P.id,onTabSelect:A,tabs:T,className:"gd-user-management-dialog-tabs s-user-management-tabs"}),P.id===_F.workspaces.id&&o.createElement(XF,{workspaces:f,subjectType:"userGroup",mode:"VIEW",onDelete:y,onChange:C,areFilterViewsEnabled:c,onClick:e=>{j(e),p("WORKSPACE")}}),P.id===_F.dataSources.id&&o.createElement(qB,{dataSources:k,subjectType:"userGroup",mode:"VIEW",onDelete:S,onChange:x,renderDataSourceIcon:l}),P.id===_F.users.id&&o.createElement(xz,{users:_,mode:"VIEW",onDelete:M,isBootstrapUserGroup:B(h),bootstrapUserId:z}),P.id===_F.details.id&&o.createElement(Mz,{userGroup:h,mode:"VIEW"})),"WORKSPACE"===u&&o.createElement(tB,{ids:[e],subjectType:"userGroup",grantedWorkspaces:f,enableBackButton:!H,onSubmit:e=>{j(void 0),v(e)},onCancel:H?s:()=>{j(void 0),p("VIEW")},onClose:s,areFilterViewsEnabled:c,editWorkspace:W}),"USERS"===u&&o.createElement(Ez,{userGroupIds:[e],grantedUsers:_,enableBackButton:!H,onSubmit:E,onCancel:H?s:()=>p("VIEW"),onClose:s}),"DATA_SOURCES"===u&&o.createElement(sz,{ids:[e],subjectType:"userGroup",grantedDataSources:k,enableBackButton:!H,onSubmit:w,onCancel:H?s:()=>p("VIEW"),onClose:s,renderDataSourceIcon:l}),"DETAIL"===u&&o.createElement(Tz,{userGroup:h,enableBackButton:!H,onSubmit:m,onCancel:H?s:()=>p("VIEW"),onClose:s})))))})),Dz=[{align:"cc cc"}],Iz=rO((({organizationId:e,onSuccess:t,onCancel:i})=>{const r=hr(),s=(0,a.useBackendStrict)(),{addSuccess:n,addError:l}=(0,Ya.useToastMessage)(),[c,d]=(0,o.useState)(""),[u,p]=(0,o.useState)(!1),h=iO();return o.createElement(Ya.Overlay,{alignPoints:Dz,isModal:!0,positionType:"fixed",className:"gd-user-management-dialog"},o.createElement(Ya.ConfirmDialogBase,{onSubmit:()=>{p(!0),s.organization(e).users().createUserGroup({id:(0,qo.Z)(),ref:void 0,name:c}).then((()=>{n(EF.userGroupCreatedSuccess),h("group-created"),t(),i()})).catch((()=>{l(EF.userGroupCreatedFailure)})).finally((()=>p(!1)))},isSubmitDisabled:""===c||u,onCancel:i,isPositive:!0,className:"s-user-management-create-group-dialog gd-user-management-create-dialog",headline:r.formatMessage(EF.createUserGroupDialogTitle),submitButtonText:r.formatMessage(EF.createUserGroupButton),showProgressIndicator:u,cancelButtonText:r.formatMessage(EF.cancelUserGroupButton)},o.createElement(Ya.Input,{value:c,onChange:e=>d(e),autofocus:!0,placeholder:r.formatMessage(EF.createUserGroupInputPlaceholder),className:"gd-user-management-create-user-group-input s-group-name-input"})))})),Nz=rO((({userId:e,organizationId:t,onSuccess:i,onClose:r})=>{const s=hr(),{deleteUser:a,isDeleteUserProcessing:n}=_B(e,t,i,r);return o.createElement(RB,{titleText:s.formatMessage(EF.deleteUserConfirmTitle),bodyText:s.formatMessage(EF.deleteUserConfirmBody),isProcessing:n,onConfirm:a,onCancel:r})})),Rz=rO((({userIds:e,organizationId:t,onSuccess:i,onClose:r})=>{const s=hr(),n=(0,a.useBackendStrict)(),{addSuccess:l,addError:c}=(0,Ya.useToastMessage)(),[d,u]=(0,o.useState)(!1),p=iO();return o.createElement(RB,{titleText:s.formatMessage(EF.deleteUsersConfirmTitle),bodyText:s.formatMessage(EF.deleteUsersConfirmBody,{b:e=>o.createElement("b",null,e),count:e.length}),isProcessing:d,onConfirm:()=>{u(!0),n.organization(t).users().deleteUsers(e).then((()=>{l(EF.usersDeleteSuccess),p("multiple-users-deleted"),i(),r()})).catch((e=>{console.error("Delete of users failed",e),c(EF.usersDeletedFailure)})).finally((()=>u(!1)))},onCancel:r})})),Lz=rO((({userGroupId:e,organizationId:t,onSuccess:i,onClose:r})=>{const s=hr(),{deleteUserGroup:a,isDeleteUserGroupProcessing:n}=EB(e,t,i,r);return o.createElement(RB,{titleText:s.formatMessage(EF.deleteUserGroupConfirmTitle),bodyText:s.formatMessage(EF.deleteUserGroupConfirmBody),isProcessing:n,onConfirm:a,onCancel:r})})),Fz=rO((({userGroupIds:e,organizationId:t,onSuccess:i,onClose:r})=>{const s=hr(),n=(0,a.useBackendStrict)(),{addSuccess:l,addError:c}=(0,Ya.useToastMessage)(),[d,u]=(0,o.useState)(!1),p=iO();return o.createElement(RB,{titleText:s.formatMessage(EF.deleteUserGroupsConfirmTitle),bodyText:s.formatMessage(EF.deleteUserGroupsConfirmBody,{b:e=>o.createElement("b",null,e),br:o.createElement("br",null),count:e.length}),isProcessing:d,onConfirm:()=>{u(!0),n.organization(t).users().deleteUserGroups(e).then((()=>{l(EF.userGroupsDeleteSuccess),p("multiple-groups-deleted"),i(),r()})).catch((e=>{console.error("Delete of user groups failed",e),c(EF.userGroupsDeleteFailure)})).finally((()=>u(!1)))},onCancel:r})})),Oz=[{align:"cc cc"}],Bz=[],zz=rO((({ids:e,subjectType:t,organizationId:i,onSuccess:r,onClose:s,areFilterViewsEnabled:a=!1})=>o.createElement(ZF,{organizationId:i},o.createElement(Ya.Overlay,{alignPoints:Oz,isModal:!0,positionType:"fixed",className:"gd-user-management-dialog",resizeObserverThreshold:.2},o.createElement(tB,{ids:e,subjectType:t,grantedWorkspaces:Bz,enableBackButton:!1,onSubmit:r,onCancel:s,onClose:s,areFilterViewsEnabled:a}))))),Vz=[{align:"cc cc"}],Gz=[],Uz=rO((({ids:e,subjectType:t,organizationId:i,onSuccess:r,onClose:s,renderDataSourceIcon:a})=>o.createElement(ZF,{organizationId:i},o.createElement(Ya.Overlay,{alignPoints:Vz,isModal:!0,positionType:"fixed"},o.createElement(sz,{ids:e,subjectType:t,grantedDataSources:Gz,enableBackButton:!1,onSubmit:r,onCancel:s,onClose:s,renderDataSourceIcon:a}))))),Hz=[{align:"cc cc"}],Wz=[],jz=rO((({userIds:e,organizationId:t,onSuccess:i,onClose:r})=>o.createElement(ZF,{organizationId:t},o.createElement(Ya.Overlay,{alignPoints:Hz,isModal:!0,positionType:"fixed"},o.createElement(xB,{userIds:e,grantedUserGroups:Wz,enableBackButton:!1,onSubmit:i,onCancel:r,onClose:r}))))),Kz=[{align:"cc cc"}],$z=[],qz=rO((({userGroupIds:e,organizationId:t,onSuccess:i,onClose:r})=>o.createElement(ZF,{organizationId:t},o.createElement(Ya.Overlay,{alignPoints:Kz,isModal:!0,positionType:"fixed"},o.createElement(Ez,{userGroupIds:e,grantedUsers:$z,enableBackButton:!1,onSubmit:i,onCancel:r,onClose:r}))))),Yz=[{align:"cr cl",offset:{x:15,y:0}},{align:"cl cr",offset:{x:-15,y:0}},{align:"tc bc",offset:{x:0,y:-15}},{align:"bc tc",offset:{x:0,y:15}}],Xz=e=>{const{children:t,className:i}=e;return o.createElement(Ya.BubbleHoverTrigger,{showDelay:0,eventsOnBubble:!0},o.createElement("div",{className:Xa("s-description-trigger",{"gd-icon-circle-question-wrapper":!i},i)},o.createElement("div",{className:"gd-icon-circle-question"})),o.createElement(Ya.Bubble,{className:"gd-attribute-hierarchy-detail-panel-bubble",alignPoints:Yz,closeOnOutsideClick:!0,arrowStyle:{display:"none"}},t))},Qz=({title:e,description:t,attributes:i,onEdit:r})=>{const{formatMessage:s}=hr(),n=s(a.messages.hierarchyListLevels),l=s(a.messages.hierarchyListEdit);return o.createElement("div",{className:"gd-attribute-hierarchy-detail-panel"},o.createElement("div",{className:"gd-attribute-hierarchy-detail-title"},e),t?o.createElement("div",{className:"gd-attribute-hierarchy-detail-description"},t):null,o.createElement("div",{className:"gd-attribute-hierarchy-detail-levels"},n),i.map(((e,t)=>{const i=Xa("gd-attribute-hierarchy-detail-item",{"is-date":e.isDate,"is-attribute":!e.isDate});return o.createElement("div",{key:t,className:i},e.title)})),r?o.createElement("div",{className:"gd-attribute-hierarchy-detail-panel-actions s-gd-attribute-hierarchy-detail-panel-actions"},o.createElement(Ya.Button,{className:"gd-button-secondary gd-icon-pencil gd-button-small gd-attribute-hierarchy-detail-edit-button s-gd-attribute-hierarchy-detail-edit-button",value:l,onClick:r})):null)};var Zz;!function(e){e.ATTRIBUTE="attribute",e.DATE_ATTRIBUTE="dateAttribute"}(Zz||(Zz={}));const Jz=(e,t)=>e.get(tV(t)),eV=(e,t)=>ct(t.map((t=>Jz(e,t)))),tV=e=>(0,s.serializeObjRef)(e),iV=(0,o.createContext)({isEditing:!1,isDirty:!1,attributes:[],title:"",isLoading:!0,setLoading:Qa,shouldDisplayDeleteConfirmation:!1,setDisplayDeleteConfirmation:Qa,onClose:Qa,onUpdateTitle:Qa,onAddEmptyAttribute:Qa,onCompleteAttribute:Qa,onDeleteAttribute:Qa,onSaveAttributeHierarchy:Qa,onDeleteAttributeHierarchy:Qa,getValidAttributes:()=>Promise.resolve([])}),rV=()=>(0,o.useContext)(iV),sV=({initialAttributeRef:e,editingAttributeHierarchy:t,children:i,onClose:r,onSaveOrUpdateSuccess:s,onDeleteSuccess:n,onAddAttributeClicked:l,onCreateHierarchyClicked:d})=>{const u=t?.attributeHierarchy?.title??"",[p,h]=(0,o.useState)(!0),[m,g]=(0,o.useState)(u),[b,f]=(0,o.useState)(),[v,y]=(0,o.useState)([]),[C,k]=(0,o.useState)(),w=!!t,S=(0,o.useMemo)((()=>u!==m||uB(v)!==uB(b)),[u,m,v,b]),{catalogAttributesMap:x,onSaveAttributeHierarchy:_,onDeleteAttributeHierarchy:E,getValidAttributes:M}=(e=>{const{title:t,attributes:i,editingAttributeHierarchy:r,setLoading:s,onSaveOrUpdateSuccess:n,onClose:l,onDeleteSuccess:d,onCreateHierarchyClicked:u}=e,{formatMessage:p}=hr(),h=(0,a.useBackendStrict)(),m=(0,a.useWorkspaceStrict)(),{addSuccess:g,addError:b}=(0,Ya.useToastMessage)(),[f,v]=(0,o.useState)(new Map),y=(0,o.useCallback)((async e=>{const t=i[e-1]??i[e+1];return t?h.workspace(m).attributeHierarchies().getValidDescendants([t.ref]).then((e=>{const t=eV(f,e);return Promise.resolve(t)})):Array.from(f.values())}),[i,h,f,m]);return(0,o.useEffect)((()=>{c(f)&&h.workspace(m).catalog().forTypes(["attribute","dateDataset"]).load().then((e=>{v(((e,t)=>[...(e??[]).map((e=>({type:Zz.ATTRIBUTE,ref:e.attribute.ref,title:e.attribute.title,icon:"gd-icon-attribute"}))),...lt(lt(t??[],(e=>e.dateAttributes)),(e=>({type:Zz.DATE_ATTRIBUTE,ref:e.attribute.ref,title:e.attribute.title,icon:"gd-icon-date"})))].reduce(((e,t)=>(e.set(tV(t.ref),t),e)),new Map))(e.attributes(),e.dateDatasets())),s(!1)}))}),[m,h,f,s]),{catalogAttributesMap:f,onSaveAttributeHierarchy:()=>{s(!0);const e=t||p(a.messages.hierarchyUntitled),o=i.filter((e=>e.completed)).map((e=>e.ref));r?((e,t)=>{h.workspace(m).attributeHierarchies().updateAttributeHierarchy({...r,attributeHierarchy:{...r.attributeHierarchy,title:e,attributes:t}}).then((e=>{n&&n(e),s(!1),g(a.messages.hierarchyUpdateSuccessMessage),l()})).catch((()=>{b(a.messages.hierarchyUpdateFailedMessage),s(!1)}))})(e,o):((e,t)=>{h.workspace(m).attributeHierarchies().createAttributeHierarchy(e,t).then((e=>{n&&n(e),s(!1),g(a.messages.hierarchyCreateSuccessMessage),l()})).catch((()=>{b(a.messages.hierarchyCreateFailedMessage),s(!1)}))})(e,o),u&&u()},onDeleteAttributeHierarchy:()=>{s(!0),h.workspace(m).attributeHierarchies().deleteAttributeHierarchy(r.attributeHierarchy.id).then((()=>{d&&d(),g(a.messages.hierarchyDeleteSuccessMessage),l()})).catch((()=>{b(a.messages.hierarchyDeleteFailedMessage),s(!1)}))},getValidAttributes:y}})({setLoading:h,title:m,attributes:v,editingAttributeHierarchy:t,onClose:r,onSaveOrUpdateSuccess:s,onDeleteSuccess:n,onCreateHierarchyClicked:d});return(0,o.useEffect)((()=>{if(t&&!c(x)){const e=t.attributeHierarchy.attributes,i=eV(x,e).map((e=>({...e,completed:!0})));return y(i),void f(i)}if(e&&!c(x)){const t=Jz(x,e);if(t){const e=[{...t,completed:!0}];y(e),f(e)}}}),[e,t,x]),o.createElement(iV.Provider,{value:{isEditing:w,isDirty:S,attributes:v,title:m,isLoading:p,setLoading:h,shouldDisplayDeleteConfirmation:C,setDisplayDeleteConfirmation:k,onClose:r,onUpdateTitle:g,onAddEmptyAttribute:e=>{y(((e,t)=>{const i=e.findIndex((e=>!e.completed)),r=[...e].filter((e=>e.completed)),s=i>-1&&i<t?t:t+1;return r.splice(s,0,{}),r})(v,e)),l&&l()},onCompleteAttribute:(e,t)=>{const i={...e,completed:!0},r=[...v];r[t]=i,y(r)},getValidAttributes:M,onDeleteAttribute:e=>{const t=[...v];t.splice(e,1),y(t)},onSaveAttributeHierarchy:_,onDeleteAttributeHierarchy:E}},i)};var aV=()=>{const{formatMessage:e}=hr(),{title:t,onUpdateTitle:i}=rV(),r=e(a.messages.hierarchyUntitled);return o.createElement("div",{className:"gd-dialog-header"},o.createElement("i",{className:"gd-attribute-hierarchy-icon s-gd-attribute-hierarchy-icon"}),o.createElement(Ya.EditableLabel,{value:t,className:"attribute-hierarchy-title s-attribute-hierarchy-title",maxRows:1,onSubmit:i,placeholder:r}))};const oV=[{id:Zz.ATTRIBUTE,iconOnly:!0,icon:"gd-icon-attribute"},{id:Zz.DATE_ATTRIBUTE,iconOnly:!0,icon:"gd-icon-date"}];var nV=({items:e,isLoading:t,closeDropdown:i,onSelect:r})=>{const{formatMessage:s}=hr(),[n,l]=(0,o.useState)(Zz.ATTRIBUTE),[c,d]=(0,o.useState)(""),u=((e,t,i)=>e.filter((e=>e.type===t)).filter((e=>e.title.toLowerCase().includes(i.toLowerCase()))))(e,n,c),p=s(a.messages.hierarchyAttributeSearch);return o.createElement(Ya.DropdownList,{className:"attribute-hierarchy-attribute-dropdown-body s-attribute-hierarchy-attribute-dropdown-body",tabsClassName:"date-attribute-dropdown-tabs s-attribute-hierarchy-attribute-dropdown-tabs",width:253,maxHeight:270,showSearch:!0,searchPlaceholder:p,searchString:c,onSearch:d,items:u,itemsCount:u.length,showTabs:!0,tabs:oV,onTabSelect:e=>{l(e.id)},selectedTabId:n,isLoading:t,renderItem:({item:e})=>o.createElement(Ya.SingleSelectListItem,{className:"attribute-hierarchy-attribute-dropdown-item s-attribute-hierarchy-attribute-dropdown-item",title:e.title,onClick:()=>{i(),r(e)},icon:e.icon})})},lV=({rowIndex:e})=>{const{formatMessage:t}=hr(),{getValidAttributes:i,onCompleteAttribute:r}=rV(),[s,n]=(0,o.useState)([]),[l,c]=(0,o.useState)(!0),d=t=>{r(t,e)};(0,o.useEffect)((()=>{i(e).then((e=>{n(e),c(!1)}))}),[i,e]);const u=t(a.messages.hierarchyAttributeDropdown);return o.createElement(Ya.Dropdown,{className:"attribute-hierarchy-attribute-dropdown s-attribute-hierarchy-attribute-dropdown",closeOnParentScroll:!0,closeOnMouseDrag:!0,closeOnOutsideClick:!0,openOnInit:!0,renderButton:({isOpen:e,toggleDropdown:t})=>o.createElement(Ya.DropdownButton,{className:"attribute-heirarchy-attribute-dropdown-button s-attribute-heirarchy-attribute-dropdown-button",value:u,isOpen:e,isSmall:!0,onClick:t}),renderBody:({closeDropdown:e})=>o.createElement(nV,{items:s,isLoading:l,onSelect:d,closeDropdown:e})})};const cV=[{align:"br tr"}];var dV=({rowIndex:e,alignTo:t,onClose:i})=>{const{formatMessage:r}=hr(),{onAddEmptyAttribute:s}=rV(),n=r(a.messages.hierarchyAddAttributeAbove),l=r(a.messages.hierarchyAddAttributeBellow);return o.createElement(Ya.Overlay,{alignTo:t,alignPoints:cV,closeOnMouseDrag:!0,closeOnOutsideClick:!0,onClose:i,className:"attribute-hierarchy-add-action-menu s-attribute-hierarchy-add-action-menu"},o.createElement(Ya.ItemsWrapper,{smallItemsSpacing:!0},o.createElement(Ya.Item,{onClick:()=>{s(e-1),i()}},o.createElement("i",{className:"gd-icon-arrow-up s-add-above"}),n),o.createElement(Ya.Separator,null),o.createElement(Ya.Item,{onClick:()=>{s(e),i()}},o.createElement("i",{className:"gd-icon-arrow-down s-add-below"}),l)))},uV=({rowIndex:e})=>{const[t,i]=(0,o.useState)(!1),{onDeleteAttribute:r}=rV(),s=(0,o.useRef)();return o.createElement("div",{className:"attribute-item-actions s-attribute-item-actions"},o.createElement("div",{ref:s},o.createElement(Ya.Button,{className:"gd-button-link gd-button-icon-only gd-icon-plus attribute-item-add-action s-attribute-item-add-action",onClick:()=>{i(!0)}})),o.createElement(Ya.Button,{className:"gd-button-link gd-button-icon-only gd-icon-trash attribute-item-delete-action s-attribute-item-delete-action",onClick:()=>{r(e)}}),t?o.createElement(dV,{rowIndex:e,alignTo:s.current,onClose:()=>{i(!1)}}):null)},pV=({rowIndex:e,attribute:t})=>{const{title:i,completed:r,icon:s}=t;return o.createElement("div",{className:"gd-list-item"},o.createElement("div",{className:"attribute-item-content s-attribute-item-content"},r?o.createElement("div",{className:"attribute-item-title s-attribute-item-title"},o.createElement("i",{className:s}),i,o.createElement("i",{className:"gd-icon-navigatedown"})):o.createElement(lV,{rowIndex:e})),r?o.createElement(uV,{rowIndex:e}):null)},hV=()=>{const{formatMessage:e}=hr(),{onAddEmptyAttribute:t,attributes:i}=rV(),r=e(a.messages.hierarchyAddAttribute);return o.createElement("div",{className:"attribute-hierarchy-add-attribute-action s-attribute-hierarchy-add-attribute-action"},o.createElement(Ya.Button,{className:"gd-button-link gd-icon-plus",value:r,onClick:()=>{t(i.length-1)}}))},mV=()=>{const{formatMessage:e}=hr(),{isLoading:t,attributes:i}=rV(),r=i.find((e=>!e.completed)),s=e(a.messages.hierarchyLevels);return o.createElement("div",{className:"gd-dialog-content attribute-hierarchy-dialog-content"},o.createElement("div",{className:"attribute-hierarchy-table-title s-attribute-hierarchy-table-title"},s),o.createElement(Ya.List,{className:"attribute-hierarchy-table s-attribute-hierarchy-table",width:845,maxHeight:388,items:i,itemHeight:43,itemsCount:i.length,scrollToItem:r,renderItem:({rowIndex:e,item:t})=>o.createElement(pV,{rowIndex:e,attribute:t})}),o.createElement(hV,null),t?o.createElement(Ya.LoadingMask,{className:"attribute-hierarchy-content-loading-mask s-attribute-hierarchy-content-loading-mask"}):null)},gV=()=>{const{formatMessage:e}=hr(),{isEditing:t,isDirty:i,isLoading:r,attributes:s,onSaveAttributeHierarchy:n,onClose:l,setDisplayDeleteConfirmation:d}=rV(),u=c(s)||!i,p=e(a.messages.hierarchyDeleteButton),h=e(a.messages.hierarchyCancelButton),m=e(t?a.messages.hierarchySaveButton:a.messages.hierarchyCreateButton);return o.createElement("div",{className:"gd-dialog-footer"},o.createElement("div",{className:"attribute-hierarchy-note-message s-attribute-hierarchy-note-message"},o.createElement("div",{className:"gd-message progress"},o.createElement(qa,{id:a.messages.hierarchyAttributeNoteMessage.id,values:{b:e=>o.createElement("strong",null,e),br:()=>o.createElement("br",null)},tagName:"div"}))),o.createElement("div",{className:"attribute-hierarchy-footer-actions-wrapper s-attribute-hierarchy-footer-actions-wrapper"},o.createElement("div",{className:"gd-dialog-footer-tip"},o.createElement("span",{className:"gd-icon-circle-question s-gd-icon-circle-question"}),o.createElement("a",{href:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-down/",className:"gd-button-link-dimmed",target:"_blank",rel:"noreferrer"},o.createElement(qa,{id:a.messages.hierarchyAttributeHowToWork.id}))),o.createElement("div",{className:"gd-dialog-footer-actions s-gd-dialog-footer-actions"},t?o.createElement(Ya.Button,{className:"gd-button-link-dimmed attribute-hierarchy-delete-button s-attribute-hierarchy-delete-button",value:p,onClick:()=>{d(!0)},disabled:r}):null,o.createElement(Ya.Button,{className:"gd-button-secondary attribute-hierarchy-cancel-button s-attribute-hierarchy-cancel-button",value:h,onClick:l,disabled:r}),o.createElement(Ya.Button,{className:"gd-button-action attribute-hierarchy-save-button s-attribute-hierarchy-save-button",value:m,disabled:u||r,onClick:n}))))},bV=()=>{const{formatMessage:e}=hr(),{isLoading:t,setLoading:i,setDisplayDeleteConfirmation:r,onDeleteAttributeHierarchy:s}=rV(),n=e(a.messages.hierarchyCancelButton),l=e(a.messages.hierarchyDeleteButton),c=e(a.messages.hierarchyDeleteConfirmTitle);return o.createElement(Ya.ConfirmDialog,{className:"attribute-hierarchy-delete-confirmation s-attribute-hierarchy-delete-confirmation",cancelButtonText:n,submitButtonText:l,isCancelDisabled:t,isSubmitDisabled:t,headline:c,displayCloseButton:!0,onCancel:()=>{i(!1),r(!1)},onSubmit:s},o.createElement(qa,{id:a.messages.hierarchyDeleteConfirmMessage.id,tagName:"div"}),t?o.createElement(Ya.LoadingMask,{className:"attribute-hierarchy-content-loading-mask s-attribute-hierarchy-content-loading-mask"}):null)},fV=()=>{const{onClose:e,shouldDisplayDeleteConfirmation:t,title:i}=rV(),r=(0,Ya.useId)();return t?o.createElement(bV,null):o.createElement(Ya.Dialog,{containerClassName:"attribute-hierarchy-overlay s-attribute-hierarchy-overlay",className:"attribute-hierarchy-dialog s-attribute-hierarchy-dialog",displayCloseButton:!0,onClose:e,accessibilityConfig:{titleElementId:r}},o.createElement("h2",{className:"sr-only",id:r},i),o.createElement(aV,null),o.createElement(mV,null),o.createElement(gV,null))};const vV=({initialAttributeRef:e,editingAttributeHierarchy:t,onClose:i,onSaveOrUpdateSuccess:r,onDeleteSuccess:s,onAddAttributeClicked:a,onCreateHierarchyClicked:n})=>o.createElement(sV,{initialAttributeRef:e,editingAttributeHierarchy:t,onClose:i,onSaveOrUpdateSuccess:r,onDeleteSuccess:s,onAddAttributeClicked:a,onCreateHierarchyClicked:n},o.createElement(fV,null)),yV=o.createContext(null);yV.displayName="OrganizationContext";const CV=()=>{const e=o.useContext(yV);if(!e)throw new a.UnexpectedSdkError("useOrganization must be used within a OrganizationProvider");return e},kV=({children:e,backend:t,organizationId:i})=>{const r=function({backend:e,organizationId:t}){const i=(0,a.useBackendStrict)(e,"useOrganization");return(0,a.useCancelablePromise)({promise:()=>t?Promise.resolve(i.organization(t)):i.organizations().getCurrentOrganization()},[i,t])}({backend:t,organizationId:i});return o.createElement(yV.Provider,{value:r},e)};function wV({workspace:e,readStatus:t,refreshInterval:i,itemsPerPage:r}){const s=(0,a.useWorkspace)(e),{result:n}=CV(),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(!1),[p,h]=(0,o.useState)([]),[m,g]=(0,o.useState)(0),[b,f]=(0,o.useState)(0);(0,o.useEffect)((()=>{let e;return i>0&&(e=setInterval((()=>{c(0),h([]),f((e=>e+1))}),i)),()=>{clearInterval(e)}}),[i]);const{status:v,error:y}=(0,a.useCancelablePromise)({promise:n?async()=>{let e=n.notifications().getNotificationsQuery();return s&&(e=e.withWorkspace(s)),r&&(e=e.withSize(r)),l&&(e=e.withPage(l)),t&&(e=e.withStatus(t)),e.query()}:null,onSuccess:e=>{const t=e.totalCount>(l+1)*r;u(t),h((t=>[...t,...e.items])),g(e.totalCount)}},[s,n,l,b]),C=(0,o.useCallback)((()=>{"success"===v&&d&&c((e=>e+1))}),[v,d]),k=(0,o.useCallback)((()=>{c(0),h([]),u(!1),g(0),f((e=>e+1))}),[]);return{status:v,error:y,hasNextPage:d,notifications:p,totalNotificationsCount:m,loadNextPage:C,reset:k}}const SV=o.createContext(null);SV.displayName="NotificationsContext";const xV=()=>{const e=o.useContext(SV);if(!e)throw new a.UnexpectedSdkError("useNotificationsContext must be used within a NotificationsProvider");return e},_V=({children:e,backend:t,workspace:i,refreshInterval:r,itemsPerPage:n,enableScheduleNotifications:l})=>{const c=function({workspace:e,refreshInterval:t,itemsPerPage:i,enableScheduleNotifications:r}){const n=(0,a.useWorkspace)(e),{notifications:l,error:c,status:d,hasNextPage:u,loadNextPage:p,reset:h}=wV({workspace:n,refreshInterval:t,itemsPerPage:i}),{notifications:m,error:g,status:b,hasNextPage:f,loadNextPage:v,totalNotificationsCount:y,reset:C}=wV({workspace:n,readStatus:"unread",refreshInterval:t,itemsPerPage:i}),{result:k,status:w}=CV(),[S,x]=(0,o.useState)([]),_=(0,o.useCallback)((async e=>{if("error"===w)throw new a.UnexpectedSdkError("Cannot call markAsRead - organization load failed.");if("pending"===w||"loading"===w)throw new a.UnexpectedSdkError("Cannot call markAsRead - organization is not initialized.");await k.notifications().markNotificationAsRead(e),x((t=>[...t,e]))}),[w,k,x]),E=(0,o.useCallback)((async()=>{if("error"===w)throw new a.UnexpectedSdkError("Cannot call markAllAsRead - organization load failed.");if("pending"===w||"loading"===w)throw new a.UnexpectedSdkError("Cannot call markAllAsRead - organization is not initialized.");if("error"===d)throw new a.UnexpectedSdkError("Cannot call markAllAsRead - notifications load failed.");if("pending"===d||"loading"===d)throw new a.UnexpectedSdkError("Cannot call markAllAsRead - notifications are not initialized.");await k.notifications().markAllNotificationsAsRead(),h(),C()}),[k,w,d,h,C]),M=(0,o.useMemo)((()=>l?(r?l:l.filter(s.isAlertNotification)).map((e=>S.includes(e.id)?{...e,isRead:!0}:e)):l),[l,S,r]),T=(0,o.useMemo)((()=>m?(r?m:m.filter(s.isAlertNotification)).map((e=>S.includes(e.id)?{...e,isRead:!0}:e)).filter((e=>!e.isRead)):m),[m,S,r]),P=(0,o.useMemo)((()=>r?m.length:m.filter((e=>!(0,s.isAlertNotification)(e))).length),[m,r]);return{notifications:M,notificationsStatus:d,notificationsError:c,notificationsHasNextPage:u,notificationsLoadNextPage:p,notificationsReset:h,unreadNotifications:T,unreadNotificationsStatus:b,unreadNotificationsError:g,unreadNotificationsHasNextPage:f,unreadNotificationsLoadNextPage:v,unreadNotificationsReset:C,unreadNotificationsCount:Math.max(0,y-S.length-(r?0:P)),markNotificationAsRead:_,markAllNotificationsAsRead:E}}({backend:t,workspace:i,refreshInterval:r,itemsPerPage:n,enableScheduleNotifications:l});return o.createElement(SV.Provider,{value:c},e)},EV={time:{hhmm:{hour:"numeric",minute:"numeric"}},date:{shortWithoutYear:{day:"numeric",month:"short"},shortWithYear:{day:"numeric",month:"short",year:"numeric"}}},MV=({children:e,locale:t=a.DefaultLocale})=>{const i=(0,o.useCallback)((i=>o.createElement(Zn,{locale:t,messages:i,formats:EV},e)),[t,e]);return o.createElement(a.TranslationsCustomizationProvider,{translations:(0,a.resolveLocaleDefaultMessages)(t,wt),render:i})},TV=e=>(0,Ya.bemFactory)(e),{b:PV,e:AV}=TV("gd-ui-ext-notifications-panel-header");function DV({activeView:e,changeActiveView:t,markAllNotificationsAsRead:i,hasUnreadNotifications:r,unreadNotificationsCount:s}){const a=hr(),n=(0,o.useMemo)((()=>function(e=0){return[{id:IV.tabUnread.id,values:{count:e}},{id:IV.tabAll.id}]}(s)),[s]),l="unread"===e?IV.tabUnread.id:IV.tabAll.id,c=(0,o.useCallback)((e=>{const i=e.id===IV.tabUnread.id?"unread":"all";t(i)}),[t]);return o.createElement("div",{className:PV()},o.createElement("div",{className:AV("tabs")},o.createElement(Ya.Tabs,{tabs:n,selectedTabId:l,onTabSelect:c})),o.createElement("div",{className:AV("mark-all-as-read-button")},o.createElement(Ya.UiButton,{variant:"popout",size:"small",label:a.formatMessage(IV.markAllAsRead),onClick:i,isDisabled:!r})))}const IV={tabUnread:{id:"notifications.panel.tab.unread"},tabAll:{id:"notifications.panel.tab.all"},markAllAsRead:{id:"notifications.panel.markAllAsRead"}},{b:NV}=TV("gd-ui-ext-notifications-panel"),RV="gd-ui-ext-notifications-panel-id";function LV({NotificationsPanelHeader:e,NotificationsList:t,NotificationsListEmptyState:i,NotificationsListErrorState:r,Notification:s,NotificationSkeletonItem:a,activeView:n,changeActiveView:l,markNotificationAsRead:c,markAllNotificationsAsRead:d,unreadNotificationsCount:u,hasUnreadNotifications:p,activeNotifications:h,onNotificationClick:m,closeNotificationsPanel:g,status:b,error:f,loadNextPage:v,hasNextPage:y,itemHeight:C,itemsGap:k,itemPadding:w,skeletonItemsCount:S,maxListHeight:x}){return o.createElement("div",{className:NV(),id:RV},o.createElement(e,{activeView:n,changeActiveView:l,markAllNotificationsAsRead:d,hasUnreadNotifications:p,unreadNotificationsCount:u}),o.createElement(t,{NotificationsListEmptyState:i,NotificationsListErrorState:r,Notification:s,NotificationSkeletonItem:a,activeView:n,onNotificationClick:m,activeNotifications:h,markNotificationAsRead:c,status:b,error:f,loadNextPage:v,hasNextPage:y,itemHeight:C,itemsGap:k,itemPadding:w,skeletonItemsCount:S,maxListHeight:x,closeNotificationsPanel:g}))}const{b:FV}=TV("gd-ui-ext-notifications-list");function OV({Notification:e,NotificationsListEmptyState:t,NotificationsListErrorState:i,NotificationSkeletonItem:r,activeView:s,status:a,error:n,activeNotifications:l,markNotificationAsRead:c,onNotificationClick:d,hasNextPage:u,loadNextPage:p,itemHeight:h,itemsGap:m,itemPadding:g,skeletonItemsCount:b,maxListHeight:f=0,closeNotificationsPanel:v}){const y="error"===a,C="success"===a&&0===l?.length,k="loading"===a||"pending"===a,w="success"===a&&(l?.length??0)>0,{height:S,ref:x}=(0,Ya.useElementSize)(),{formatMessage:_}=hr();return o.createElement("div",{className:FV(),ref:e=>{x.current=e},role:"list","aria-label":_(BV.notificationsListLabel)},y?o.createElement(i,{error:n}):null,C?o.createElement(t,{activeView:s}):null,k||w?o.createElement(Ya.UiPagedVirtualList,{items:l,itemHeight:h,itemsGap:m,itemPadding:g,skeletonItemsCount:b,hasNextPage:u,loadNextPage:p,isLoading:k,maxHeight:Math.max(f,S,(h+m)*b),SkeletonItem:r},(t=>o.createElement(e,{notification:t,markNotificationAsRead:c,onNotificationClick:d,closeNotificationsPanel:v}))):null)}const BV={notificationsListLabel:{id:"notifications.panel.notifications.list.label"}},{b:zV}=TV("gd-ui-ext-notifications-list-empty-state"),VV={emptyStateAll:{id:"notifications.panel.empty.all"},emptyStateUnread:{id:"notifications.panel.empty.unread"}};function GV({activeView:e}){const t=hr();return o.createElement("div",{className:zV()},"all"===e?t.formatMessage(VV.emptyStateAll):t.formatMessage(VV.emptyStateUnread))}const{b:UV}=TV("gd-ui-ext-notifications-list-error-state"),HV={errorLoadingNotifications:{id:"notifications.panel.error.loading"}};function WV({error:e}){const t=hr();return o.createElement("div",{className:UV()},e?.message??t.formatMessage(HV.errorLoadingNotifications))}const jV=[{align:"bc tr"},{align:"tc br"}];function KV({children:e,popup:t}){const[i,r]=(0,o.useState)(!1),{current:s}=(0,o.useRef)(`popup-${(0,qo.Z)()}`),a=(0,o.useCallback)((()=>r((e=>!e))),[]),n=(0,o.useCallback)((()=>r(!1)),[]);return o.createElement(o.Fragment,null,e({toggle:a,id:s}),i?o.createElement(Ya.Bubble,{alignPoints:jV,alignTo:`#${s}`,closeOnOutsideClick:!0,closeOnParentScroll:!0,onClose:n},t):null)}const $V=[{align:"bc tr"},{align:"tc br"}];function qV({children:e,tooltip:t}){return o.createElement(Ya.BubbleHoverTrigger,null,e,o.createElement(Ya.Bubble,{alignPoints:$V},t))}const{b:YV,e:XV}=TV("gd-ui-ext-notification-details-dialog"),QV={closeButtonLabel:{id:"close"}};function ZV({onClose:e,title:t,content:i}){const r=hr();return o.createElement("div",{className:YV()},o.createElement("div",{className:XV("header")},o.createElement("div",{className:XV("header-title")},t),o.createElement("div",{role:"button",className:XV("header-close-button"),onClick:e},o.createElement(Ya.UiIcon,{type:"close",size:14,color:"complementary-7"}))),o.createElement("div",{className:XV("content")},i),o.createElement("div",{className:XV("footer")},o.createElement(Ya.UiButton,{variant:"secondary",label:r.formatMessage(QV.closeButtonLabel),size:"small",onClick:e})))}const{b:JV,e:eG}=TV("gd-ui-ext-notification-filters-detail-dialog"),tG={title:{id:"notifications.filters.dialog.title"}};function iG({filters:e,onClose:t}){const i=hr();return o.createElement(ZV,{title:`${i.formatMessage(tG.title)} (${e.length})`,content:o.createElement("div",{className:JV()},e.map((({title:e,filter:t},i)=>o.createElement("div",{className:eG("item"),key:i},o.createElement("div",{className:eG("label")},e),o.createElement("div",{className:eG("values")},t))))),onClose:t})}const rG=[(0,Ya.alignConfigToAlignPoint)({triggerAlignPoint:"bottom-right",overlayAlignPoint:"top-right",offset:{x:2,y:3}})],sG={buttonLabel:{id:"notifications.filters.buttonLabel"}};function aG({filters:e}){const[t,i]=(0,o.useState)(!1),r=hr(),s=(0,o.useRef)(null),a=()=>i(!1);return o.createElement(o.Fragment,null,e.length?o.createElement(Ya.UiButton,{ref:s,onClick:e=>{e.stopPropagation(),i((e=>!e))},onKeyDown:e=>{e.stopPropagation()},variant:"tertiary",size:"small",label:r.formatMessage(sG.buttonLabel,{count:e.length})}):null,t?o.createElement(Ya.Overlay,{isModal:!1,alignTo:s.current,alignPoints:rG,closeOnEscape:!0,closeOnOutsideClick:!0,closeOnParentScroll:!0,closeOnMouseDrag:!1,onClose:a},o.createElement(iG,{filters:e,onClose:a})):null)}const{b:oG,e:nG}=TV("gd-ui-ext-notification-triggers-detail-dialog"),lG={triggersTitle:{id:"notifications.panel.triggers.dialog.title"},newValue:{id:"notifications.panel.triggers.dialog.newValue"},truncatedValues:{id:"notifications.panel.triggers.dialog.truncatedValues"}};function cG({notification:e,onClose:t}){const i=hr(),r=e.details.data.alert?.currentValues,s=(e.details.data.alert?.triggeredCount??0)-(r?.length??0);return o.createElement(ZV,{title:i.formatMessage(lG.triggersTitle),content:o.createElement("div",{className:oG()},o.createElement("div",{className:nG("header")},o.createElement("div",{className:nG("header-title")},e.details.data.alert.metric),o.createElement("div",{className:nG("header-title")},i.formatMessage(lG.newValue))),o.createElement("div",{className:nG("table")},o.createElement("div",{className:nG("values-labels")},r?.map(((e,t)=>o.createElement("div",{key:t,className:nG("values-label")},e.labelValue)))),o.createElement("div",{className:nG("values")},r?.map(((e,t)=>o.createElement("div",{key:t,className:nG("values-value")},e.primaryMetric.formattedValue))))),s>0&&o.createElement("div",{className:nG("values-truncated")},i.formatMessage(lG.truncatedValues,{count:s}))),onClose:t})}const dG=[(0,Ya.alignConfigToAlignPoint)({triggerAlignPoint:"bottom-right",overlayAlignPoint:"top-right",offset:{x:2,y:3}}),(0,Ya.alignConfigToAlignPoint)({triggerAlignPoint:"bottom-left",overlayAlignPoint:"top-left",offset:{x:2,y:3}})],uG={triggersTitle:{id:"notifications.panel.triggers.title"}};function pG({notification:e}){const[t,i]=(0,o.useState)(!1),r=()=>i(!1),s=hr(),a=(0,o.useRef)(null),n=e.details.data.alert.attribute?function(e,t){return e.formatMessage(uG.triggersTitle,{triggeredCount:t.triggeredCount,totalCount:t.totalValueCount})}(s,e.details.data.alert):"";return o.createElement(o.Fragment,null,o.createElement(Ya.UiButton,{ref:a,onClick:e=>{e.stopPropagation(),i((e=>!e))},onKeyDown:e=>{e.stopPropagation()},variant:"tertiary",size:"small",label:n,dataId:"notification-detail"}),t?o.createElement(Ya.Overlay,{isModal:!1,alignTo:a.current,alignPoints:dG,closeOnEscape:!0,closeOnOutsideClick:!0,closeOnParentScroll:!1,closeOnMouseDrag:!1,onClose:r},o.createElement(cG,{notification:e,onClose:r})):null)}const{b:hG,e:mG}=TV("gd-ui-ext-notification");function gG({notification:e,markNotificationAsRead:t,onNotificationClick:i,closeNotificationsPanel:r}){const s=hr(),{addWarning:a}=(0,Ya.useToastMessage)(),n=function(e){return"alertNotification"===e.notificationType?`${(t=e.details.data.alert).metric} is ${t.condition} ${t.formattedThreshold}`:"scheduleNotification"===e.notificationType?e.details.data.automation.title:e.details.message;var t}(e),l=e.details.data.filters,c=!!l?.length,d="alertNotification"===e.notificationType,u="scheduleNotification"===e.notificationType,p=d&&!!e.details.data.alert.attribute,h=d&&!!e.details.data.alert.totalValueCount,m=ct([e.details.data.visualExports,e.details.data.tabularExports,e.details.data.imageExports,e.details.data.rawExports,e.details.data.slidesExports,e.details.data.dashboardTabularExports]).flatMap((e=>e??[])),g=m.length>0,b=m?.[0]?.expiresAt??null,f=null!=b&&new Date(b)<new Date,{isError:v,errorTitle:y,errorMessage:C,traceId:k}=function(e,t){return"alertNotification"===e.notificationType&&"SUCCESS"!==e.details.data.alert?.status?{isError:!0,errorTitle:o.createElement(qa,{id:"notifications.panel.error.alert.title"}),errorMessage:e.details.data.alert.errorMessage??"",traceId:e.details.data.alert.traceId}:t.some((e=>"SUCCESS"!==e.status))?{isError:!0,errorTitle:o.createElement(qa,{id:"notifications.panel.error.schedule.title"}),errorMessage:t.find((e=>"SUCCESS"!==e.status))?.errorMessage??"",traceId:t.find((e=>"SUCCESS"!==e.status))?.traceId}:"automation-task.limit-exceeded"===e.details.webhookMessageType?{isError:!0,errorTitle:o.createElement(qa,{id:"notifications.panel.error.schedule.title"}),errorMessage:o.createElement(qa,{id:"notifications.panel.error.limitExceeded.message"}),traceId:void 0}:{isError:!1,errorTitle:void 0,errorMessage:void 0,traceId:void 0}}(e,m),w=ct([c&&d&&o.createElement(aG,{filters:l}),h&&p&&o.createElement(pG,{notification:e}),g&&o.createElement(vG,{notification:e}),g&&b&&o.createElement(yG,{fileExpiresAt:b,isExpired:f})]),S=(0,o.useCallback)((()=>{if(e.isRead||t(e.id),"scheduleNotification"===e.notificationType){if(f)return void a(CG.notificationExpired);const e=ct(m.map(bG));e.length>0&&async function(e){for(const t of e)if(t.url){const e=document.createElement("a");e.href=t.url,e.download=t.fileName||"export",e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),await new Promise((e=>setTimeout(e,1e3)))}}(e)}else r(),i?.(e)}),[i,e,f,t,r,a,m]);return o.createElement(Ya.BubbleHoverTrigger,{enabled:g&&!f&&!v},o.createElement("div",{className:hG({isRead:e.isRead}),onClick:S,onKeyDown:e=>{(0,Ya.isActionKey)(e)&&(e.preventDefault(),S())},role:"listitem",tabIndex:0,"aria-label":s.formatMessage(CG.alertNotificationTypeLabel)},o.createElement("div",{className:mG("icon")},!e.isRead&&o.createElement("div",{className:mG("unread-status")}),d?o.createElement(Ya.UiIcon,{type:"alert",size:14,color:"complementary-6",ariaHidden:!0}):o.createElement(Ya.UiIcon,{type:"download",size:14,color:"complementary-6",ariaHidden:!0})),o.createElement("div",{className:mG("details")},o.createElement("div",{className:mG("title",{isRead:e.isRead}),title:n},u?o.createElement(qa,{id:"notifications.panel.download"}):null," ",n),v?o.createElement("div",{className:mG("error")},o.createElement("div",{className:mG("error-icon")},o.createElement(Ya.UiIcon,{type:"crossCircle",size:12,color:"error"})),o.createElement("div",null,y," ",o.createElement(KV,{popup:o.createElement("div",{className:mG("error-popup")},C,o.createElement("br",null),o.createElement(qa,{id:"notifications.panel.error.traceId"}),":"," ",k)},(({toggle:e,id:t})=>o.createElement(Ya.UiButton,{dataId:"notification-error",id:t,onClick:t=>{t.stopPropagation(),e()},onKeyDown:e=>{e.stopPropagation()},variant:"tertiary",size:"small",label:s.formatMessage({id:"notifications.panel.error.learnMore"})}))))):w.length?o.createElement("div",{className:mG("links")},w.map(((e,t)=>o.createElement(o.Fragment,{key:t},!!t&&"・",e)))):null),o.createElement("div",{className:mG("time")},o.createElement(fG,{config:(0,Ya.getDateTimeConfig)(e.createdAt)})),o.createElement("div",{className:mG("mark-as-read-button")},o.createElement(qV,{tooltip:s.formatMessage(CG.markAsRead)},o.createElement(Ya.UiIconButton,{onClick:i=>{i.stopPropagation(),t(e.id)},onKeyDown:e=>{e.stopPropagation()},icon:"check",size:"small",variant:"tertiary",label:s.formatMessage(CG.markAsRead)})))),o.createElement(Ya.Bubble,{alignPoints:[{align:"bc tc"}]},o.createElement(qa,{id:"notifications.panel.downloadFilesHint"})))}function bG(e){if(e.fileUri)return{url:e.fileUri,fileName:e.fileName}}const fG=({config:e})=>e.isToday?o.createElement(vr,{value:e.date,format:"hhmm",hour12:!1}):e.isYesterday?o.createElement("span",null,o.createElement(qa,{id:"gs.date.yesterday"})):o.createElement(fr,{value:e.date,format:"shortWithYear"}),vG=({notification:e})=>o.createElement(Ya.BubbleHoverTrigger,{eventsOnBubble:!0},o.createElement("a",{href:e.details.data.automation.dashboardURL,onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),className:mG("link")},o.createElement(qa,{id:"notifications.panel.dashboardLink",values:{dashboardTitle:e.details.data.automation.dashboardTitle}})),o.createElement(Ya.Bubble,{alignPoints:[{align:"bc tc"}]}," ",o.createElement(qa,{id:"notifications.panel.dashboardLinkHint"})," ")),yG=({fileExpiresAt:e,isExpired:t})=>t?o.createElement("span",null,o.createElement(qa,{id:"notifications.panel.linkHasExpired"})):o.createElement(Ya.BubbleHoverTrigger,{eventsOnBubble:!0},o.createElement("span",null,o.createElement(qa,{id:"notifications.panel.expiresOn",values:{date:o.createElement(fr,{value:(0,Ya.getDateTimeConfig)(e).date,format:"shortWithoutYear"})}})),o.createElement(Ya.Bubble,{alignPoints:[{align:"bc tc"}]}," ",o.createElement(vr,{value:(0,Ya.getDateTimeConfig)(e).date,format:"hhmm"})," ")),CG={markAsRead:{id:"notifications.panel.markAsRead"},alertNotificationTypeLabel:{id:"notifications.panel.alert.notification.type.label"},notificationExpired:{id:"notifications.panel.toast.warning.filesExpired",values:{strong:e=>o.createElement("strong",null,e)}}},{b:kG,e:wG}=TV("gd-ui-ext-notification");function SG({notification:e,markNotificationAsRead:t,onNotificationClick:i,closeNotificationsPanel:r}){return"testNotification"===e.notificationType?o.createElement(xG,null):o.createElement(gG,{notification:e,markNotificationAsRead:t,onNotificationClick:i,closeNotificationsPanel:r})}function xG(){const{formatMessage:e}=hr();return o.createElement("div",{className:kG({isUnsupported:!0}),role:"listitem",tabIndex:0,"aria-label":e(_G.unsupportedNotificationType)},o.createElement("div",{className:wG("unsupported")},o.createElement(qa,{id:_G.unsupportedNotificationType.id})))}const _G={unsupportedNotificationType:{id:"notifications.panel.unsupported.notification.type"}},EG=Ya.UiSkeleton,MG=[(0,Ya.alignConfigToAlignPoint)({triggerAlignPoint:"bottom-right",overlayAlignPoint:"top-right"}),(0,Ya.alignConfigToAlignPoint)({triggerAlignPoint:"bottom-left",overlayAlignPoint:"top-left"}),(0,Ya.alignConfigToAlignPoint)({triggerAlignPoint:"top-right",overlayAlignPoint:"bottom-right"}),(0,Ya.alignConfigToAlignPoint)({triggerAlignPoint:"top-left",overlayAlignPoint:"bottom-left"})],TG=6e5;function PG(e){const{locale:t,refreshInterval:i=TG,itemsPerPage:r=50,backend:s,workspace:a,enableScheduleNotifications:n=!1}=e;return o.createElement(kV,null,o.createElement(_V,{backend:s,workspace:a,refreshInterval:i,itemsPerPage:r,enableScheduleNotifications:n},o.createElement(MV,{locale:t},o.createElement(AG,{...e}))))}function AG({NotificationsPanelButton:e,NotificationsPanel:t=LV,NotificationsPanelHeader:i=DV,NotificationsList:r=OV,NotificationsListEmptyState:a=GV,NotificationsListErrorState:n=WV,Notification:l=SG,NotificationSkeletonItem:c=EG,onNotificationClick:d,renderInline:u=!1,itemHeight:p=52,maxWidth:h=370,maxListHeight:m=527,itemsGap:g=10,itemPadding:b=15,skeletonItemsCount:f=5}){const{buttonRef:v,isOpen:y,openNotificationsPanel:C,closeNotificationsPanel:k,toggleNotificationsPanel:w,activeView:S,changeActiveView:x,markNotificationAsRead:_,markAllNotificationsAsRead:E,unreadNotificationsCount:M,hasUnreadNotifications:T,activeNotifications:P,status:A,error:D,loadNextPage:I,hasNextPage:N}=function(){const[e,t]=(0,o.useState)(!1),i=(0,o.useCallback)((()=>t(!0)),[]),r=(0,o.useCallback)((()=>t(!1)),[]),a=(0,o.useCallback)((()=>t((e=>!e))),[]),n=(0,o.useCallback)((e=>c(e)),[]),[l,c]=(0,o.useState)("unread"),d=(0,o.useRef)(null),{notifications:u,unreadNotifications:p,unreadNotificationsCount:h,unreadNotificationsHasNextPage:m,unreadNotificationsLoadNextPage:g,unreadNotificationsStatus:b,unreadNotificationsError:f,notificationsHasNextPage:v,notificationsLoadNextPage:y,notificationsStatus:C,notificationsError:k,markAllNotificationsAsRead:w,markNotificationAsRead:S}=xV(),x=(0,o.useMemo)((()=>{switch(l){case"unread":return p;case"all":return u;default:return(0,s.assertNever)(l),[]}}),[l,p,u]);return{buttonRef:d,isOpen:e,openNotificationsPanel:i,closeNotificationsPanel:r,toggleNotificationsPanel:a,activeView:l,changeActiveView:n,markNotificationAsRead:S,markAllNotificationsAsRead:w,hasUnreadNotifications:h>0,unreadNotificationsCount:h,activeNotifications:x,status:"unread"===l?b:C,error:"unread"===l?f:k,loadNextPage:"unread"===l?g:y,hasNextPage:"unread"===l?m:v}}(),R=o.createElement(Ya.UiFocusManager,{enableFocusTrap:!0,enableAutofocus:!0,enableReturnFocusOnUnmount:{returnFocusTo:v}},o.createElement(t,{NotificationsPanelHeader:i,NotificationsList:r,NotificationsListEmptyState:a,NotificationsListErrorState:n,Notification:l,NotificationSkeletonItem:c,toggleNotificationsPanel:w,openNotificationsPanel:C,closeNotificationsPanel:k,activeView:S,changeActiveView:x,markNotificationAsRead:_,markAllNotificationsAsRead:E,unreadNotificationsCount:M,hasUnreadNotifications:T,activeNotifications:P,onNotificationClick:d,status:A,error:D,loadNextPage:I,hasNextPage:N,itemHeight:p,itemsGap:g,itemPadding:b,skeletonItemsCount:f,maxListHeight:u?void 0:m}));return u?R:((0,Rg.kG)(e,"If renderInline is not enabled, NotificationsPanelButton is required."),o.createElement(o.Fragment,null,o.createElement(e,{buttonRef:v,isNotificationPanelOpen:y,toggleNotificationPanel:w,openNotificationPanel:C,closeNotificationPanel:k,hasUnreadNotifications:T}),y?o.createElement(Ya.Overlay,{isModal:!1,alignTo:v.current,alignPoints:MG,closeOnEscape:!0,closeOnOutsideClick:!0,closeOnParentScroll:!1,closeOnMouseDrag:!1,onClose:k,width:"100%",maxWidth:h},R):null))}const{b:DG,e:IG}=TV("gd-ui-ext-notifications-panel-button");function NG({buttonRef:e,isNotificationPanelOpen:t,toggleNotificationPanel:i,hasUnreadNotifications:r}){const s=hr(),a=t?{"aria-controls":RV}:{};return o.createElement("button",{ref:e,className:Xa(`gd-button gd-header-button ${DG({isOpen:t})}`),onClick:i,"aria-label":s.formatMessage({id:"notifications.panel.button.label"}),"aria-expanded":t,"aria-haspopup":"true",...a},o.createElement("span",{className:IG("icon")},r?o.createElement("span",{className:IG("unread-status")}):null,o.createElement(Ya.UiIcon,{type:"alert",size:14,ariaHidden:!0})))}function RG(e,t){return ML.forInsight(e).getSizeInfo(e,PL,t)}function LG(e,t,i,r,s){return ML.forInsight(e).applyDrillDown(e,{drillDefinition:i,event:t},r,s)}function FG(e,t){return ML.forInsight(e).getMeta(t)}}}]);