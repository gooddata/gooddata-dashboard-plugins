(self.webpackChunkradial_bar_chart_plugin=self.webpackChunkradial_bar_chart_plugin||[]).push([[3649],{30998:(t,e,s)=>{var i=s(41848),o=s(67206),r=s(40554),a=Math.max;t.exports=function(t,e,s){var n=null==t?0:t.length;if(!n)return-1;var l=null==s?0:r(s);return l<0&&(l=a(n+l,0)),i(t,o(e,3),l)}},18608:(t,e,s)=>{s.d(e,{X:()=>J});const i="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,o=new Set,r="object"==typeof process&&process?process:{},a=(t,e,s,i)=>{"function"==typeof r.emitWarning?r.emitWarning(t,e,s,i):console.error(`[${s}] ${e}: ${t}`)};let n=globalThis.AbortController,l=globalThis.AbortSignal;if(void 0===n){l=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},n=class{constructor(){e()}signal=new l;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==r.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,a("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");const h=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),c=t=>h(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(t){super(t),this.fill(0)}}class d{heap;length;static#t=!1;static create(t){const e=c(t);if(!e)return[];d.#t=!0;const s=new d(t,e);return d.#t=!1,s}constructor(t,e){if(!d.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class f{#e;#s;#i;#o;#r;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#n;#l;#h;#c;#u;#d;#f;#m;#p;#g;#v;#S;#x;#C;#F;#w;static unsafeExposeInternals(t){return{starts:t.#S,ttls:t.#x,sizes:t.#v,keyMap:t.#l,keyList:t.#h,valList:t.#c,next:t.#u,prev:t.#d,get head(){return t.#f},get tail(){return t.#m},free:t.#p,isBackgroundFetch:e=>t.#y(e),backgroundFetch:(e,s,i,o)=>t.#b(e,s,i,o),moveToTail:e=>t.#P(e),indexes:e=>t.#A(e),rindexes:e=>t.#T(e),isStale:e=>t.#L(e)}}get max(){return this.#e}get maxSize(){return this.#s}get calculatedSize(){return this.#n}get size(){return this.#a}get fetchMethod(){return this.#r}get dispose(){return this.#i}get disposeAfter(){return this.#o}constructor(t){const{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:n,updateAgeOnHas:l,allowStale:u,dispose:m,disposeAfter:p,noDisposeOnSet:g,noUpdateTTL:v,maxSize:S=0,maxEntrySize:x=0,sizeCalculation:C,fetchMethod:F,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:P,ignoreFetchAbort:A}=t;if(0!==e&&!h(e))throw new TypeError("max option must be a nonnegative integer");const T=e?c(e):Array;if(!T)throw new Error("invalid max value: "+e);if(this.#e=e,this.#s=S,this.maxEntrySize=x||this.#s,this.sizeCalculation=C,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==F&&"function"!=typeof F)throw new TypeError("fetchMethod must be a function if specified");if(this.#r=F,this.#F=!!F,this.#l=new Map,this.#h=new Array(e).fill(void 0),this.#c=new Array(e).fill(void 0),this.#u=new T(e),this.#d=new T(e),this.#f=0,this.#m=0,this.#p=d.create(e),this.#a=0,this.#n=0,"function"==typeof m&&(this.#i=m),"function"==typeof p?(this.#o=p,this.#g=[]):(this.#o=void 0,this.#g=void 0),this.#C=!!this.#i,this.#w=!!this.#o,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!v,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!b,this.allowStaleOnFetchAbort=!!P,this.ignoreFetchAbort=!!A,0!==this.maxEntrySize){if(0!==this.#s&&!h(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!h(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#k()}if(this.allowStale=!!u,this.noDeleteOnStaleGet=!!y,this.updateAgeOnGet=!!n,this.updateAgeOnHas=!!l,this.ttlResolution=h(i)||0===i?i:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!h(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#z()}if(0===this.#e&&0===this.ttl&&0===this.#s)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#s){const t="LRU_CACHE_UNBOUNDED";(t=>!o.has(t))(t)&&(o.add(t),a("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,f))}}getRemainingTTL(t){return this.#l.has(t)?1/0:0}#z(){const t=new u(this.#e),e=new u(this.#e);this.#x=t,this.#S=e,this.#E=(s,o,r=i.now())=>{if(e[s]=0!==o?r:0,t[s]=o,0!==o&&this.ttlAutopurge){const t=setTimeout((()=>{this.#L(s)&&this.delete(this.#h[s])}),o+1);t.unref&&t.unref()}},this.#D=s=>{e[s]=0!==t[s]?i.now():0},this.#_=(i,r)=>{if(t[r]){const a=t[r],n=e[r];i.ttl=a,i.start=n,i.now=s||o();const l=i.now-n;i.remainingTTL=a-l}};let s=0;const o=()=>{const t=i.now();if(this.ttlResolution>0){s=t;const e=setTimeout((()=>s=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=i=>{const r=this.#l.get(i);if(void 0===r)return 0;const a=t[r],n=e[r];return 0===a||0===n?1/0:a-((s||o())-n)},this.#L=i=>0!==t[i]&&0!==e[i]&&(s||o())-e[i]>t[i]}#D=()=>{};#_=()=>{};#E=()=>{};#L=()=>!1;#k(){const t=new u(this.#e);this.#n=0,this.#v=t,this.#N=e=>{this.#n-=t[e],t[e]=0},this.#R=(t,e,s,i)=>{if(this.#y(e))return 0;if(!h(s)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(s=i(e,t),!h(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return s},this.#O=(e,s,i)=>{if(t[e]=s,this.#s){const s=this.#s-t[e];for(;this.#n>s;)this.#M(!0)}this.#n+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#n)}}#N=t=>{};#O=(t,e,s)=>{};#R=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#A({allowStale:t=this.allowStale}={}){if(this.#a)for(let e=this.#m;this.#I(e)&&(!t&&this.#L(e)||(yield e),e!==this.#f);)e=this.#d[e]}*#T({allowStale:t=this.allowStale}={}){if(this.#a)for(let e=this.#f;this.#I(e)&&(!t&&this.#L(e)||(yield e),e!==this.#m);)e=this.#u[e]}#I(t){return void 0!==t&&this.#l.get(this.#h[t])===t}*entries(){for(const t of this.#A())void 0===this.#c[t]||void 0===this.#h[t]||this.#y(this.#c[t])||(yield[this.#h[t],this.#c[t]])}*rentries(){for(const t of this.#T())void 0===this.#c[t]||void 0===this.#h[t]||this.#y(this.#c[t])||(yield[this.#h[t],this.#c[t]])}*keys(){for(const t of this.#A()){const e=this.#h[t];void 0===e||this.#y(this.#c[t])||(yield e)}}*rkeys(){for(const t of this.#T()){const e=this.#h[t];void 0===e||this.#y(this.#c[t])||(yield e)}}*values(){for(const t of this.#A())void 0===this.#c[t]||this.#y(this.#c[t])||(yield this.#c[t])}*rvalues(){for(const t of this.#T())void 0===this.#c[t]||this.#y(this.#c[t])||(yield this.#c[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const s of this.#A()){const i=this.#c[s],o=this.#y(i)?i.__staleWhileFetching:i;if(void 0!==o&&t(o,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(const s of this.#A()){const i=this.#c[s],o=this.#y(i)?i.__staleWhileFetching:i;void 0!==o&&t.call(e,o,this.#h[s],this)}}rforEach(t,e=this){for(const s of this.#T()){const i=this.#c[s],o=this.#y(i)?i.__staleWhileFetching:i;void 0!==o&&t.call(e,o,this.#h[s],this)}}purgeStale(){let t=!1;for(const e of this.#T({allowStale:!0}))this.#L(e)&&(this.delete(this.#h[e]),t=!0);return t}dump(){const t=[];for(const e of this.#A({allowStale:!0})){const s=this.#h[e],o=this.#c[e],r=this.#y(o)?o.__staleWhileFetching:o;if(void 0===r||void 0===s)continue;const a={value:r};if(this.#x&&this.#S){a.ttl=this.#x[e];const t=i.now()-this.#S[e];a.start=Math.floor(Date.now()-t)}this.#v&&(a.size=this.#v[e]),t.unshift([s,a])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const t=Date.now()-s.start;s.start=i.now()-t}this.set(e,s.value,s)}}set(t,e,s={}){if(void 0===e)return this.delete(t),this;const{ttl:i=this.ttl,start:o,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:n}=s;let{noUpdateTTL:l=this.noUpdateTTL}=s;const h=this.#R(t,e,s.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return n&&(n.set="miss",n.maxEntrySizeExceeded=!0),this.delete(t),this;let c=0===this.#a?void 0:this.#l.get(t);if(void 0===c)c=0===this.#a?this.#m:0!==this.#p.length?this.#p.pop():this.#a===this.#e?this.#M(!1):this.#a,this.#h[c]=t,this.#c[c]=e,this.#l.set(t,c),this.#u[this.#m]=c,this.#d[c]=this.#m,this.#m=c,this.#a++,this.#O(c,h,n),n&&(n.set="add"),l=!1;else{this.#P(c);const s=this.#c[c];if(e!==s){if(this.#F&&this.#y(s)){s.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=s;void 0===e||r||(this.#C&&this.#i?.(e,t,"set"),this.#w&&this.#g?.push([e,t,"set"]))}else r||(this.#C&&this.#i?.(s,t,"set"),this.#w&&this.#g?.push([s,t,"set"]));if(this.#N(c),this.#O(c,h,n),this.#c[c]=e,n){n.set="replace";const t=s&&this.#y(s)?s.__staleWhileFetching:s;void 0!==t&&(n.oldValue=t)}}else n&&(n.set="update")}if(0===i||this.#x||this.#z(),this.#x&&(l||this.#E(c,i,o),n&&this.#_(n,c)),!r&&this.#w&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#o?.(...e)}return this}pop(){try{for(;this.#a;){const t=this.#c[this.#f];if(this.#M(!0),this.#y(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#w&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#o?.(...e)}}}#M(t){const e=this.#f,s=this.#h[e],i=this.#c[e];return this.#F&&this.#y(i)?i.__abortController.abort(new Error("evicted")):(this.#C||this.#w)&&(this.#C&&this.#i?.(i,s,"evict"),this.#w&&this.#g?.push([i,s,"evict"])),this.#N(e),t&&(this.#h[e]=void 0,this.#c[e]=void 0,this.#p.push(e)),1===this.#a?(this.#f=this.#m=0,this.#p.length=0):this.#f=this.#u[e],this.#l.delete(s),this.#a--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,o=this.#l.get(t);if(void 0!==o){const t=this.#c[o];if(this.#y(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#L(o))return s&&this.#D(o),i&&(i.has="hit",this.#_(i,o)),!0;i&&(i.has="stale",this.#_(i,o))}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#l.get(t);if(void 0!==i&&(s||!this.#L(i))){const t=this.#c[i];return this.#y(t)?t.__staleWhileFetching:t}}#b(t,e,s,i){const o=void 0===e?void 0:this.#c[e];if(this.#y(o))return o;const r=new n,{signal:a}=s;a?.addEventListener("abort",(()=>r.abort(a.reason)),{signal:r.signal});const l={signal:r.signal,options:s,context:i},h=(i,o=!1)=>{const{aborted:a}=r.signal,n=s.ignoreFetchAbort&&void 0!==i;if(s.status&&(a&&!o?(s.status.fetchAborted=!0,s.status.fetchError=r.signal.reason,n&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),a&&!n&&!o)return c(r.signal.reason);const h=u;return this.#c[e]===u&&(void 0===i?h.__staleWhileFetching?this.#c[e]=h.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,i,l.options))),i},c=i=>{const{aborted:o}=r.signal,a=o&&s.allowStaleOnFetchAbort,n=a||s.allowStaleOnFetchRejection,l=n||s.noDeleteOnFetchRejection,h=u;if(this.#c[e]===u&&(l&&void 0!==h.__staleWhileFetching?a||(this.#c[e]=h.__staleWhileFetching):this.delete(t)),n)return s.status&&void 0!==h.__staleWhileFetching&&(s.status.returnedStale=!0),h.__staleWhileFetching;if(h.__returned===h)throw i};s.status&&(s.status.fetchDispatched=!0);const u=new Promise(((e,i)=>{const a=this.#r?.(t,o,l);a&&a instanceof Promise&&a.then((t=>e(void 0===t?void 0:t)),i),r.signal.addEventListener("abort",(()=>{s.ignoreFetchAbort&&!s.allowStaleOnFetchAbort||(e(void 0),s.allowStaleOnFetchAbort&&(e=t=>h(t,!0)))}))})).then(h,(t=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=t),c(t)))),d=Object.assign(u,{__abortController:r,__staleWhileFetching:o,__returned:void 0});return void 0===e?(this.set(t,d,{...l.options,status:void 0}),e=this.#l.get(t)):this.#c[e]=d,d}#y(t){if(!this.#F)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof n}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:n=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:m,forceRefresh:p=!1,status:g,signal:v}=e;if(!this.#F)return g&&(g.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:o,status:g});const S={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:o,ttl:r,noDisposeOnSet:a,size:n,sizeCalculation:l,noUpdateTTL:h,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:g,signal:v};let x=this.#l.get(t);if(void 0===x){g&&(g.fetch="miss");const e=this.#b(t,x,S,m);return e.__returned=e}{const e=this.#c[x];if(this.#y(e)){const t=s&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const o=this.#L(x);if(!p&&!o)return g&&(g.fetch="hit"),this.#P(x),i&&this.#D(x),g&&this.#_(g,x),e;const r=this.#b(t,x,S,m),a=void 0!==r.__staleWhileFetching&&s;return g&&(g.fetch=o?"stale":"refresh",a&&o&&(g.returnedStale=!0)),a?r.__staleWhileFetching:r.__returned=r}}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:r}=e,a=this.#l.get(t);if(void 0!==a){const e=this.#c[a],n=this.#y(e);return r&&this.#_(r,a),this.#L(a)?(r&&(r.get="stale"),n?(r&&s&&void 0!==e.__staleWhileFetching&&(r.returnedStale=!0),s?e.__staleWhileFetching:void 0):(o||this.delete(t),r&&s&&(r.returnedStale=!0),s?e:void 0)):(r&&(r.get="hit"),n?e.__staleWhileFetching:(this.#P(a),i&&this.#D(a),e))}r&&(r.get="miss")}#W(t,e){this.#d[e]=t,this.#u[t]=e}#P(t){t!==this.#m&&(t===this.#f?this.#f=this.#u[t]:this.#W(this.#d[t],this.#u[t]),this.#W(this.#m,t),this.#m=t)}delete(t){let e=!1;if(0!==this.#a){const s=this.#l.get(t);if(void 0!==s)if(e=!0,1===this.#a)this.clear();else{this.#N(s);const e=this.#c[s];this.#y(e)?e.__abortController.abort(new Error("deleted")):(this.#C||this.#w)&&(this.#C&&this.#i?.(e,t,"delete"),this.#w&&this.#g?.push([e,t,"delete"])),this.#l.delete(t),this.#h[s]=void 0,this.#c[s]=void 0,s===this.#m?this.#m=this.#d[s]:s===this.#f?this.#f=this.#u[s]:(this.#u[this.#d[s]]=this.#u[s],this.#d[this.#u[s]]=this.#d[s]),this.#a--,this.#p.push(s)}}if(this.#w&&this.#g?.length){const t=this.#g;let e;for(;e=t?.shift();)this.#o?.(...e)}return e}clear(){for(const t of this.#T({allowStale:!0})){const e=this.#c[t];if(this.#y(e))e.__abortController.abort(new Error("deleted"));else{const s=this.#h[t];this.#C&&this.#i?.(e,s,"delete"),this.#w&&this.#g?.push([e,s,"delete"])}}if(this.#l.clear(),this.#c.fill(void 0),this.#h.fill(void 0),this.#x&&this.#S&&(this.#x.fill(0),this.#S.fill(0)),this.#v&&this.#v.fill(0),this.#f=0,this.#m=0,this.#p.length=0,this.#n=0,this.#a=0,this.#w&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#o?.(...e)}}}var m=s(47591);const p={black:"#000000",red:"#ff0000",green:"#00aa00",blue:"#0000ff",white:"#ffffff",cyan:"#0092d2",magenta:"#cb006b",yellow:"#fff10d",none:void 0},g="#,##0.00";class v{constructor(t=!0,e=!0,s,i,o,r,a){this.includeColors=!0,this.legacyCompatibility=!0,this.includeColors=t,this.legacyCompatibility=e,this.thousandsSeparator=s,this.decimalSeparator=i,this.nanString=o,this.positiveInfinity=r,this.negativeInfinity=a}}v.DefaultOptions=new v;class S{constructor(t){if(t.customColor&&(this.color=t.customColor.startsWith("#")?t.customColor:"#"+t.customColor),t.color){const e=p[t.color]?p[t.color]:void 0;this.color=e}t.customBgColor&&(this.backgroundColor=t.customBgColor.startsWith("#")?t.customBgColor:"#"+t.customBgColor)}}class x{constructor(t,e,s){this.color=t,this.customColor=e,this.customBgColor=s}reset(){this.color=void 0,this.customColor=void 0,this.customBgColor=void 0}}class C{constructor(t,e,s=!1){this.colors=t||new x,this.effectiveFormat=e,this.nullConditionFormatter=s}reset(){this.colors.reset(),this.effectiveFormat=void 0,this.nullConditionFormatter=!1}}class F extends Error{constructor(t){super(t),this.name="InvalidArgumentError",Object.setPrototypeOf(this,new.target.prototype)}}class w{constructor(t,e,s,i=e){this.str=t,this.pos=i,this.begin=e,this.end=s}hasNext(){return this.pos<this.end}hasPrevious(){return this.pos>this.begin}next(){if(this.hasNext()){const t=this.str.charAt(this.pos);return this.pos++,t}return""}previous(){return this.hasPrevious()?(this.pos--,this.str.charAt(this.pos)):""}getIndex(){return this.pos}}function y(t,e,s,i){const o=new x,r=i.match(t);r&&(o.color=r[1].toLowerCase());const a=i.match(e);a&&(o.customColor=a[1].toLowerCase());const n=i.match(s);return n&&(o.customBgColor=n[1].toLowerCase()),o}class b{constructor(t){var e,s;this.thousandsSeparator=null!==(e=t.thousandsSeparator)&&void 0!==e?e:b.DefaultThousandSeparator,this.decimalSeparator=null!==(s=t.decimalSeparator)&&void 0!==s?s:b.DefaultDecimalSeparator,this.nanString=t.nanString||b.DefaultNaNString,this.positiveInfinity=t.positiveInfinity||b.DefaultPositiveInfinity,this.negativeInfinity=t.negativeInfinity||b.DefaultNegativeInfinity}}b.DefaultThousandSeparator=",",b.DefaultDecimalSeparator=".",b.DefaultNaNString="NaN",b.DefaultPositiveInfinity="Infinity",b.DefaultNegativeInfinity="-Infinity";class P{constructor(t,e,s=!1){this.options=t,this.constants=e,this.formatAbsoluteValue=s}toNestedFormatCtx(){return new P(this.options,this.constants,!0)}}class A{constructor(t,e=!1){this.options=t,this.nestedFormatter=e}toNestedFormatCtx(){return new A(this.options,!0)}}class T{format(t,e,s){s&&s.reset();const i=new b(e),o=new P(e,i);return this.doFormat(o,t,s)}resolve(t,e){const s=new A(e);return this.doResolve(s,t)}}class L extends T{constructor(t,e,s){super(),this.literal=t,this.literalNoColors=e,this.colors=s}doFormat(t,e,s){return s&&(s.colors=this.colors,s.effectiveFormat=""),t.options.includeColors?(s&&(s.effectiveFormat=this.literal),this.literal):(s&&(s.effectiveFormat=this.literalNoColors),this.literalNoColors)}doResolve(t,e){return t.options.includeColors?this.literal:this.literalNoColors}static compile(t,e){let s="",i=!1;const o=t.getColorMatcher(),r=t.getCustomColorMatcher(),a=t.getCustomBgColorMatcher();for(const t of e)"\\"===t?i=!0:(i=!1,s+=t);i&&(s+="\\");const n=function(t,e){const s=t.getColorMatcher(),i=t.getAnyCustomColorMatcher();return e.replace(new RegExp(s,"gi"),"").replace(new RegExp(i,"gi"),"")}(t,s),l=y(o,r,a,s);return new L(s,n,l)}}class k{constructor(){this.nullConditionPattern=k.createRegexPattern(k.NullConditionRegex,"i"),this.conditionPattern=k.createRegexPattern(k.ConditionRegex,"i"),this.arithmeticPattern=k.createRegexPattern(k.ArithmeticRegex,"i"),this.colorPattern=k.createRegexPattern(k.ColorRegex,"i"),this.customColorPattern=k.createRegexPattern(k.CustomColorRegex,"i"),this.customBgColorPattern=k.createRegexPattern(k.CustomBackgroundColorRegex,"i"),this.anyCustomColorPattern=k.createRegexPattern(k.AnyCustomColorRegex,"i"),this.excelFormatSuffixPattern=k.createRegexPattern(k.ExcelFormatSuffixRegex)}static createRegexPattern(t,e){return e?new RegExp(t.source,e):t}getNullConditionMatcher(){return this.nullConditionPattern}getConditionMatcher(){return this.conditionPattern}getArithmeticMatcher(){return new RegExp(this.arithmeticPattern,"g")}getColorMatcher(){return this.colorPattern}getCustomColorMatcher(){return this.customColorPattern}getCustomBgColorMatcher(){return this.customBgColorPattern}getAnyCustomColorMatcher(){return this.anyCustomColorPattern}getExcelFormatSuffixMatcher(){return this.excelFormatSuffixPattern}static group(t,e){if(t&&e>=0&&e<t.length){const s=t[e];if(void 0===s)return{value:s,startIndex:-1,endIndex:-1};const i=t.index+t[0].indexOf(s);return{value:s,startIndex:i,endIndex:i+s.length}}throw new Error(`Group ${e} not found in the regex match.`)}}k.NullConditionRegex=/\[=null\]/i,k.ConditionRegex=/\[(>=|<=|[=><])(-?[0-9.]+|null)\]/i,k.ArithmeticRegex=/\{\{\{([0-9]*(?:\.[0-9]*)?)\|([0-9]*)(\.)?\|(.*?)\}\}\}/,k.ColorRegex=/\[(black|blue|cyan|green|magenta|red|white|yellow|none)\]/i,k.CustomColorRegex=/\[color=#*([A-F0-9]+)\]/i,k.CustomBackgroundColorRegex=/\[backgroundColor=#*([A-F0-9]+)\]/i,k.AnyCustomColorRegex=/(\[(?:backgroundColor|color)=#*[A-Fa-f0-9]+\])+/,k.ExcelFormatSuffixRegex=/\[excel\]([\s\S])*$/i;class z extends T{constructor(t,e,s,i){super(),this.divisor=s,this.modulo=i,this.trimFraction=e,this.formatter=t}doFormat(t,e,s){let i=e||0;return void 0!==this.divisor&&(i/=this.divisor),void 0!==this.modulo&&(i%=this.modulo),this.trimFraction&&(Number.isNaN(i)||!Number.isFinite(i)?i=0:i<0?(i=-1*Math.floor(-1*i),Object.is(i,-0)&&(i=0)):i=Math.floor(i)),this.formatter.doFormat(t,i,s)}doResolve(t,e){return null}}class E extends T{static doubleTostring(t){return Number.parseFloat(t)}constructor(t,e){super(),this.baseFormat=t,this.expressions=e}doFormat(t,e,s){const i=t.toNestedFormatCtx(),o=this.baseFormat.doFormat(i,e,s||void 0);let r="";const a=new w(o,0,o.length);for(;a.hasNext();){const t=a.next(),o=t.charCodeAt(0);if(o>=E.ExpressionPlaceholderStart&&o<=E.ExpressionPlaceholderEnd){const a=o-E.ExpressionPlaceholderStart;if(a>=this.expressions.length)r+=t;else{const t=new C;r+=this.expressions[a].doFormat(i,e,void 0!==s?t:void 0),void 0!==s&&(s.colors.color||(s.colors.color=t.colors.color),s.colors.customColor||(s.colors.customColor=t.colors.customColor),s.colors.customBgColor||(s.colors.customBgColor=t.colors.customBgColor))}}else r+=t}return void 0!==s&&(s.effectiveFormat=void 0),r}static compile(t,e,s){const i=t.getArithmeticMatcher();let o="";const r=[];let a,n=0;for(;null!==(a=i.exec(s));){const t=a.index,h=i.lastIndex;o+=s.substring(n,t),n=h;const c=E.ExpressionPlaceholderStart+r.length;if(c>E.ExpressionPlaceholderEnd)throw new F("Too many arithmetic expressions. You can specify at most 256 expressions.");const u=D(k.group(a,1).value,E.doubleTostring),d=D(k.group(a,2).value,E.doubleTostring),f=!(l=k.group(a,3).value)||0===l.length,m=k.group(a,4).value;o+=String.fromCodePoint(c),r.push(new z(e.compileFormatter(m),f,u,d))}var l;return o+=s.substring(n),(0,m.kG)(0!==r.length,"No arithmetic expressions found in the format string."),new E(e.compileFormatter(o),r)}doResolve(t,e){return null}}function D(t,e){if(!t.length)return;const s=e(t);return Number.isNaN(s)?void 0:s}E.ExpressionPlaceholderStart=57344,E.ExpressionPlaceholderEnd=57599;class _{constructor(t,e,s){this.op=t,this.rhs=e,this.formatter=s,(0,m.kG)(null!==e||"Equal"===t)}isNullAlternative(){return null===this.rhs}evaluate(t,e){if(null===t){if(null===this.rhs)return!0;if(!e)return!1;switch(this.op){case"Equal":default:return!1;case"WeakEqual":return 0===this.rhs;case"LessThan":return this.rhs>0;case"LessThanOrEqual":return this.rhs>=0;case"GreaterThan":return this.rhs<0;case"GreaterThanOrEqual":return this.rhs<=0}}switch(this.op){case"Equal":case"WeakEqual":return null!==this.rhs&&t===this.rhs;case"GreaterThan":return null!==this.rhs&&t>this.rhs;case"GreaterThanOrEqual":return null!==this.rhs&&t>=this.rhs;case"LessThan":return null!==this.rhs&&t<this.rhs;case"LessThanOrEqual":return null!==this.rhs&&t<=this.rhs;default:return!1}}doFormat(t,e,s){return this.formatter.doFormat(t,e,s)}doResolve(t,e){return this.formatter.doResolve(t,e)}}class N extends T{constructor(t,e){super(),this.alternatives=t,this.catchall=e}static doubleToString(t){return parseFloat(t)}static compile(t,e,s){const i=t.getConditionMatcher();let o=g;const r=[],a=[];let n=0;for(const l of s){let s;if(i.lastIndex=0,null!==(s=i.exec(l))){const i=k.group(s,0),o=i.startIndex,n=i.endIndex,h=R(k.group(s,1).value),c=O(k.group(s,2).value,N.doubleToString);if(null===c.maybeValue&&"Equal"!==h)continue;let u;0===o?u=l.substring(n):(u=l.substring(0,o),u+=l.substring(n)),"Equal"===h?null!==c.maybeValue?0===c.maybeValue&&c.inputHadDecimals?r.push(new _("WeakEqual",c.maybeValue,e.compileFormatter(u))):r.push(new _(h,c.maybeValue,e.compileFormatter(u))):r.push(new _(h,c.maybeValue,L.compile(t,u))):a.push(new _(h,c.maybeValue,e.compileFormatter(u)))}else{switch(n){case 0:o=l,a.push(new _("GreaterThanOrEqual",0,e.compileFormatter(l)));break;case 1:a.push(new _("LessThan",0,e.compileFormatter(l)));break;case 2:r.push(new _("Equal",0,e.compileFormatter(l)));break;default:throw new F("Too many semicolons in the format string.")}n++}}return new N(r.concat(a),e.compileFormatter(o))}doFormat(t,e,s){const i=t.toNestedFormatCtx();for(const t of this.alternatives)if(t.evaluate(e,i.options.legacyCompatibility))return void 0!==s&&t.isNullAlternative()&&(s.nullConditionFormatter=!0),t.doFormat(i,e,s);return this.catchall.doFormat(i,e,s)}doResolve(t,e){let s=null;const i=t.toNestedFormatCtx();let o=!1,r=!1;for(const a of this.alternatives)if(a.evaluate(e,t.options.legacyCompatibility)){o=!0,r=a.isNullAlternative(),s=a.doResolve(i,e);break}return o||(s=this.catchall.doResolve(i,e)),null===s?"":r||t.nestedFormatter?s:`${s};${s}`}}function R(t){if("="===t)return"Equal";if(">"===t)return"GreaterThan";if(">="===t)return"GreaterThanOrEqual";if("<"===t)return"LessThan";if("<="===t)return"LessThanOrEqual";throw new F("Unsupported operator.")}function O(t,e){const s=e(t),i={maybeValue:null,inputHadDecimals:t.indexOf(".")>-1};return Number.isNaN(s)||(i.maybeValue=s),i}class M{constructor(t,e=!1){this.c=t,this.escaped=e}toString(){return this.c}isEscaped(){return this.escaped}isPlacement(){return!this.escaped&&("0"===this.c||"#"===this.c||"?"===this.c)}isZeroPlacement(){return!this.escaped&&"0"===this.c}isHashPlacement(){return!this.escaped&&"#"===this.c}isQPlacement(){return!this.escaped&&"?"===this.c}isDigit(){return this.c>="1"&&this.c<="9"}isComma(){return!this.escaped&&","===this.c}isDecimal(){return!this.escaped&&"."===this.c}isPercent(){return!this.escaped&&"%"===this.c}getColorPlaceholderIndex(){const t=this.c.codePointAt(0),e=M.ColorPlaceholderStart.codePointAt(0),s=M.ColorPlaceholderEnd.codePointAt(0);return void 0!==t&&void 0!==e&&void 0!==s&&t>=e&&t<=s?t-e:-1}}M.ColorPlaceholderStart="",M.ColorPlaceholderEnd="";class I{constructor(){this.vec=[]}append(t){this.vec.push(t)}insert(t,e){this.vec.splice(t,0,e)}getVec(){return this.vec.slice()}length(){return this.vec.length}}class W{constructor(t,e,s){this.formatString=t,this.digits=e,this.placements=s}getDigits(){return this.digits}getPlacements(){return this.placements}}class B extends W{format(t,e,s){const i="-"===t.charAt(0),o=new w(t,i?1:0,t.length,t.length),r=this.formatString.getVec().reverse();let a="",n=this.getPlacements(),l=this.getDigits(),h=0;const c=e.length>0,u="-"!==e.charAt(0)?e:"0";for(;r.length>0&&(o.hasPrevious()||l)&&n;){const t=r.shift();if(void 0===t)break;const e=t.getColorPlaceholderIndex();if(e>=0){if(null==s||s.length<e)continue;a+=s[e]}else if(t.isPlacement()){if(c&&3===h)a+=u,h=0;else{let t;t=o.hasPrevious()?o.previous():"0",a+=t,h++,l&&l--}n--}else a+=t}for(;o.hasPrevious()||l;)c&&3===h?(a+=u,h=0):o.hasPrevious()?(a+=o.previous(),h++,l&&l--):(a+="0",h++,l--);for(i&&(a+="-");r.length>0;){const t=r.shift();if(void 0===t)break;const e=t.getColorPlaceholderIndex();if(e>=0){if(null==s||s.length<e)continue;a+=s[e]}else t.isHashPlacement()||(t.isQPlacement()?a+=" ":a+=t)}return a.split("").reverse().join("")}}B.NoThousandsSeparators="";class V{constructor(){this.placedDigits=0,this.placedLiteralDigits=0,this.placedEscapedCharacters=0}}class G extends W{format(t,e,s=null){if(!this.digits)return"";const i=this.formatString.getVec().slice(),o=new w(t,0,t.length);let r=this.digits,a=0,n=0,l=0,h="",c="";for(;r;){const t=i.shift();(0,m.kG)(t.isPlacement());const e=o.hasNext()?o.next():"0";(0,m.kG)(!isNaN(Number(e)),"Fraction part should only include digits"),t.isHashPlacement()&&"0"===e?c+=e:(h+=c,a+=c.length,c="",h+=e,a++),r--}for(this.placements>this.digits&&(h+=c,a+=c.length,c="");i.length>0;){const t=i.shift(),e=t.getColorPlaceholderIndex();if(e>=0){if(null===s||s.length<=e)continue;h+=s[e]}else t.isHashPlacement()||(t.isQPlacement()?h+=" ":(l+=t.isEscaped()?1:0,n+=t.isDigit()?1:0,h+=t.toString()))}return e.placedDigits=a,e.placedLiteralDigits=n,e.placedEscapedCharacters=l,h}}class j{constructor(){this.state="Null"}onCharacter(t){switch(this.state){case"Matched":break;case"Null":t.isPlacement()&&(this.state="HasPlacementChar");break;case"HasPlacementChar":t.isPlacement()?this.state="HasPlacementChar":t.isComma()?this.state="HasComma":this.state="Null";break;case"HasComma":t.isPlacement()?this.state="Matched":this.state="Null"}}isMatched(){return"Matched"===this.state}}class U{constructor(t=!1){this.counter=0,this.state=t?"ExpectingAnyPlacement":"WaitingForZero"}onCharacter(t){switch(this.state){case"Done":break;case"ExpectingAnyPlacement":t.isPlacement()?(this.state="CountingDigits",this.counter++):this.state="Done";break;case"WaitingForZero":t.isZeroPlacement()&&(this.state="CountingDigits",this.counter++);break;case"CountingDigits":t.isPlacement()?this.counter++:this.state="Done"}}count(){return this.counter}}class q{constructor(t=!1){this.scalingValue=0;const e=t?"Null":"CommasExpected";this.initialState=e,this.state=e}onCharacter(t){switch(this.state){case"Null":t.isPlacement()&&(this.state="CommasExpected");break;case"CommasExpected":t.isComma()?(this.state="CollectScaling",this.scalingValue++):t.isPlacement()||(this.state=this.initialState,this.scalingValue=0);break;case"CollectScaling":t.isComma()?this.scalingValue++:t.isPlacement()?(this.scalingValue--,this.state=this.scalingValue?"Done":"CommasExpected"):this.state="Done"}}scaling(){return this.scalingValue}}class H{constructor(){this.visualPart="",this.bareFormatWithPlaceholders="",this.colorPlaceholderValues=[],this.colors=new x}}class ${constructor(t){var e,s;this.thousandsSeparator=null!==(e=t.thousandsSeparator)&&void 0!==e?e:$.DefaultThousandSeparator,this.decimalSeparator=null!==(s=t.decimalSeparator)&&void 0!==s?s:$.DefaultDecimalSeparator,this.nanString=t.nanString||$.DefaultNaNString,this.positiveInfinity=t.positiveInfinity||$.DefaultPositiveInfinity,this.negativeInfinity=t.negativeInfinity||$.DefaultNegativeInfinity}}$.DefaultThousandSeparator=",",$.DefaultDecimalSeparator=".",$.DefaultNaNString="NaN",$.DefaultPositiveInfinity="Infinity",$.DefaultNegativeInfinity="-Infinity";class Z extends T{constructor(t,e,s,i,o,r,a,n,l,h,c,u){super(),this.effectivelyEmpty=t,this.escapedFormat=e,this.visualPart=s,this.escapedFormatNoVisuals=i,this.wholePart=o,this.fractionPart=r,this.colorPlaceholderValues=a,this.colors=n,this.percent=l,this.scaling=h,this.thousandsSeparators=c,this.hasDecimal=u}static doubleToString(t,e){const s=Object.is(t,-0),i=t.toFixed(e);return s?"-"+i:i}static leftPad(t,e,s){return String(t).padStart(e,s)}static roundInternal(t,e){if(e>0){const s=Math.min(e+10,20),i=new RegExp("(-?\\d*)\\.(\\d{"+e+"})(\\d)\\d*$"),o=t.toFixed(s).match(i);if(null==o?void 0:o.length){const t="-"===o[1].charAt(0)?-1:1,s=Z.leftPad(Math.round(o[2]+"."+o[3]),e,"0");return s.length>e?Number(o[1])+t:Number(o[1]+"."+s)}}return t}static round(t,e){if(0===e){const e=t<0?-1:1;return Math.round(t*e)*e}return Z.roundInternal(t,e)}static numberHasValue(t){return null!=t}prepareValueToFormat(t){let e=t;this.percent&&(e*=100);for(let t=0;t<this.scaling;t++)e/=1e3;const s=Math.min(20,this.fractionPart.getDigits());e=Z.round(e,s);const i=Z.doubleToString(e,s);let o="",r="";if(""===i)return{valueToFormat:e,wholePart:o,fractionPart:r};if(this.fractionPart.getDigits()){const t=i.indexOf(".");(0,m.kG)(-1!==t,"Decimal separator not found in the numberString."),o=i.substring(0,t),r=i.substring(t+1)}else o=i,r="";return 0===this.wholePart.getDigits()?"0"===o?o="":"-0"===o&&(o=this.hasDecimal?"-":""):this.hasDecimal||"-0"!==o||(o="0"),{valueToFormat:e,wholePart:o,fractionPart:r}}isLiteral(){return this.wholePart.getPlacements()+this.fractionPart.getPlacements()===0}doFormat(t,e,s){let i="";if(null===e);else if(!this.effectivelyEmpty&&this.isLiteral())i=t.options.includeColors?this.escapedFormat:this.escapedFormatNoVisuals;else{let s=e;t.formatAbsoluteValue&&Z.numberHasValue(e)&&(s=Math.abs(e));const o=this.prepareValueToFormat(s),r=this.thousandsSeparators?t.constants.thousandsSeparator:B.NoThousandsSeparators,a=t.options.includeColors?this.colorPlaceholderValues:void 0,n=this.wholePart.format(o.wholePart,r,a),l=new V,h=this.fractionPart.format(o.fractionPart,l,a);t.options.includeColors&&(i+=this.visualPart),i+=n,h.length&&((l.placedDigits>0||t.options.legacyCompatibility&&l.placedEscapedCharacters||t.options.legacyCompatibility&&l.placedLiteralDigits)&&(i+=t.constants.decimalSeparator),i+=h)}if(void 0!==s){s.colors.color=this.colors.color,s.colors.customColor=this.colors.customColor,s.colors.customBgColor=this.colors.customBgColor;const i=this.doResolve(new A(t.options,t.formatAbsoluteValue),e);s.effectiveFormat=null!==i?i:void 0}return i}doResolve(t,e){return null!==e||t.nestedFormatter?t.options.includeColors?this.escapedFormat:this.escapedFormatNoVisuals:""}static compile(t,e){const s=function(t,e){const s=t.getColorMatcher(),i=t.getCustomColorMatcher(),o=t.getCustomBgColorMatcher(),r=t.getAnyCustomColorMatcher(),a=new H;let n=e;if(a.colors=y(s,i,o,e),r.lastIndex=0,r.test(n)){const t=n.match(r);if(t){const e=n.search(r),s=e+t[0].length;a.visualPart=t[0],a.visualPart=a.visualPart.replace(/#/g,""),n=n.substring(0,e)+n.substring(s)}}a.bareFormatWithPlaceholders=n;const l=[s,i,o];for(const t of l)for(;t.lastIndex=0,t.test(a.bareFormatWithPlaceholders);){const e=M.ColorPlaceholderStart.codePointAt(0),s=M.ColorPlaceholderEnd.codePointAt(0);if(void 0===e||void 0===s)throw new Error("Unexpected format characters.");const i=e+a.colorPlaceholderValues.length;if(i>s)throw new Error("Too many visual tags. You can specify at most 256 tags.");const o=a.bareFormatWithPlaceholders.match(t);if(o){const e=a.bareFormatWithPlaceholders.search(t),s=e+o[0].length;let r=o[0];r=r.replace(/#/g,""),a.colorPlaceholderValues.push(r),a.bareFormatWithPlaceholders=a.bareFormatWithPlaceholders.substring(0,e)+String.fromCodePoint(i)+a.bareFormatWithPlaceholders.substring(s)}}return a}(t,e);let i="",o="",r=!1,a=!1,n=0;const l=[new I,new I],h=[0,0],c=[new U,new U(!0)],u=[0,0],d=[new j,new j],f=[new q,new q(!0)],m=[[],[]];let p=!1;for(let t=0;t<s.bareFormatWithPlaceholders.length;t++){const e=s.bareFormatWithPlaceholders[t];if(!p&&"\\"===e){p=!0;continue}if("\r"===e||"\n"===e)continue;const g=new M(e,p),v=g.getColorPlaceholderIndex();p=!1,v>=0?(i+=s.colorPlaceholderValues[v],0===n&&(s.colorPlaceholderValues[v]=s.colorPlaceholderValues[v].split("").reverse().join(""))):(i+=e,o+=e),g.isDecimal()?(0===n&&n++,a=!0):(g.isPercent()&&(r=!0),g.isComma()?m[n].push(l[n].length()):(l[n].append(g),h[n]++),d[n].onCharacter(g),f[n].onCharacter(g),g.isPlacement()&&u[n]++,g.isComma()&&(1!==n||h[1])||c[n].onCharacter(g))}p&&(l[n].append(new M("\\")),i+="\\",o+="\\");const g=s.visualPart+i,v=d[0].isMatched()||d[1].isMatched(),S=f[0].scaling()+f[1].scaling();for(let t=0;t<2;t++)if(!v&&0===f[t].scaling())for(let e=m[t].length-1;e>=0;--e)l[t].insert(m[t][e],new M(","));const x=new B(l[0],c[0].count(),u[0]),C=new G(l[1],c[1].count(),u[1]);return new Z(0===i.length,g,s.visualPart,o,x,C,s.colorPlaceholderValues,s.colors,r,S,v,a)}}class Q{constructor(t){this.matchers=t}splitAlternatives(t){let e="",s=!1;const i=[],o=new w(t,0,t.length);for(;o.hasNext();){const t=o.next();"\\"!==t?";"!==t||s?(e+=t,s=!1):(i.push(e),e=""):(s=!0,e+=t)}return i.push(e),i}truncatedStringLiteral(t){const e=t.search("\0");return e>=0?t.substring(0,e):t}compileFormatter(t){let e,s=this.truncatedStringLiteral(t);s=s.replace(new RegExp(this.matchers.getExcelFormatSuffixMatcher(),"gi"),"");try{if(this.matchers.getArithmeticMatcher().test(s))e=E.compile(this.matchers,this,s);else{const t=this.splitAlternatives(s);e=1!==t.length||this.matchers.getConditionMatcher().test(s)?N.compile(this.matchers,this,t):Z.compile(this.matchers,s)}}catch(t){if(!(t=>t instanceof F)(t))throw console.error(t),t;e=Z.compile(this.matchers,g)}return new Y(e)}}class Y extends T{constructor(t){super(),this.decorated=t}doFormat(t,e,s){return null===e?this.decorated.doFormat(t,e,s):Number.isNaN(e)?t.constants.nanString:Number.isFinite(e)?this.decorated.doFormat(t,e,s):e<0?t.constants.negativeInfinity:t.constants.positiveInfinity}doResolve(t,e){return Number.isNaN(e)?"":this.decorated.doResolve(t,e)}}class X{constructor(){this.matchers=new k,this.factory=new Q(this.matchers)}compileFormatter(t){return this.factory.compileFormatter(t)}}class J{static convertValue(t){return null===t?null:void 0===t?NaN:"number"==typeof t?t:parseFloat(t)}static formatValue(t,e=g,s){var i;const o=new X,r=new v;r.decimalSeparator=null==s?void 0:s.decimal,r.thousandsSeparator=null===(i=null==s?void 0:s.thousand)||void 0===i?void 0:i.split("").reverse().join(""),r.includeColors=!1;const a=new C;try{let s=J.cache.get(e);s||(s=o.compileFormatter(e),J.cache.set(e,s));const i=s.format(t,r,a);return{colors:new S(a.colors),formattedValue:i,nullConditionFormatter:a.nullConditionFormatter,effectiveFormat:a.effectiveFormat,resolvedFormat:s.resolve(t,r)}}catch(s){a.reset();let i=J.cache.get(g);i||(i=o.compileFormatter(e),J.cache.set(g,i));const n=i.format(t,r,a);return{colors:new S(a.colors),formattedValue:n,nullConditionFormatter:a.nullConditionFormatter,effectiveFormat:a.effectiveFormat,resolvedFormat:i.resolve(t,r)}}}}J.cache=new f({max:200})}}]);